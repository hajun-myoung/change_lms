var X6=Object.defineProperty;var Ok=i=>{throw TypeError(i)};var Q6=(i,t,e)=>t in i?X6(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Qt=(i,t,e)=>Q6(i,typeof t!="symbol"?t+"":t,e),Sw=(i,t,e)=>t.has(i)||Ok("Cannot "+e);var g=(i,t,e)=>(Sw(i,t,"read from private field"),e?e.call(i):t.get(i)),$=(i,t,e)=>t.has(i)?Ok("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),L=(i,t,e,n)=>(Sw(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),B=(i,t,e)=>(Sw(i,t,"access private method"),e);var ds=(i,t,e,n)=>({set _(s){L(i,t,s,e)},get _(){return g(i,t,n)}});function Z6(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function kx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ww={exports:{}},cm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk;function J6(){if(Dk)return cm;Dk=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:i,type:n,key:l,ref:s!==void 0?s:null,props:a}}return cm.Fragment=t,cm.jsx=e,cm.jsxs=e,cm}var Nk;function tV(){return Nk||(Nk=1,ww.exports=J6()),ww.exports}var z=tV(),Tw={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function eV(){if(Lk)return oe;Lk=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function C(K,rt,ut){this.props=K,this.context=rt,this.refs=S,this.updater=ut||E}C.prototype.isReactComponent={},C.prototype.setState=function(K,rt){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,rt,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function x(){}x.prototype=C.prototype;function F(K,rt,ut){this.props=K,this.context=rt,this.refs=S,this.updater=ut||E}var M=F.prototype=new x;M.constructor=F,A(M,C.prototype),M.isPureReactComponent=!0;var P=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function D(K,rt,ut,st,vt,wt){return ut=wt.ref,{$$typeof:i,type:K,key:rt,ref:ut!==void 0?ut:null,props:wt}}function I(K,rt){return D(K.type,rt,void 0,void 0,void 0,K.props)}function N(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function T(K){var rt={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ut){return rt[ut]})}var U=/\/+/g;function q(K,rt){return typeof K=="object"&&K!==null&&K.key!=null?T(""+K.key):rt.toString(36)}function j(){}function ct(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(j,j):(K.status="pending",K.then(function(rt){K.status==="pending"&&(K.status="fulfilled",K.value=rt)},function(rt){K.status==="pending"&&(K.status="rejected",K.reason=rt)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function nt(K,rt,ut,st,vt){var wt=typeof K;(wt==="undefined"||wt==="boolean")&&(K=null);var _t=!1;if(K===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(K.$$typeof){case i:case t:_t=!0;break;case p:return _t=K._init,nt(_t(K._payload),rt,ut,st,vt)}}if(_t)return vt=vt(K),_t=st===""?"."+q(K,0):st,P(vt)?(ut="",_t!=null&&(ut=_t.replace(U,"$&/")+"/"),nt(vt,rt,ut,"",function(jt){return jt})):vt!=null&&(N(vt)&&(vt=I(vt,ut+(vt.key==null||K&&K.key===vt.key?"":(""+vt.key).replace(U,"$&/")+"/")+_t)),rt.push(vt)),1;_t=0;var xt=st===""?".":st+":";if(P(K))for(var Bt=0;Bt<K.length;Bt++)st=K[Bt],wt=xt+q(st,Bt),_t+=nt(st,rt,ut,wt,vt);else if(Bt=b(K),typeof Bt=="function")for(K=Bt.call(K),Bt=0;!(st=K.next()).done;)st=st.value,wt=xt+q(st,Bt++),_t+=nt(st,rt,ut,wt,vt);else if(wt==="object"){if(typeof K.then=="function")return nt(ct(K),rt,ut,st,vt);throw rt=String(K),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(K,rt,ut){if(K==null)return K;var st=[],vt=0;return nt(K,st,"","",function(wt){return rt.call(ut,wt,vt++)}),st}function Q(K){if(K._status===-1){var rt=K._result;rt=rt(),rt.then(function(ut){(K._status===0||K._status===-1)&&(K._status=1,K._result=ut)},function(ut){(K._status===0||K._status===-1)&&(K._status=2,K._result=ut)}),K._status===-1&&(K._status=0,K._result=rt)}if(K._status===1)return K._result.default;throw K._result}var at=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function dt(){}return oe.Children={map:Y,forEach:function(K,rt,ut){Y(K,function(){rt.apply(this,arguments)},ut)},count:function(K){var rt=0;return Y(K,function(){rt++}),rt},toArray:function(K){return Y(K,function(rt){return rt})||[]},only:function(K){if(!N(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},oe.Component=C,oe.Fragment=e,oe.Profiler=s,oe.PureComponent=F,oe.StrictMode=n,oe.Suspense=h,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,oe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return V.H.useMemoCache(K)}},oe.cache=function(K){return function(){return K.apply(null,arguments)}},oe.cloneElement=function(K,rt,ut){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var st=A({},K.props),vt=K.key,wt=void 0;if(rt!=null)for(_t in rt.ref!==void 0&&(wt=void 0),rt.key!==void 0&&(vt=""+rt.key),rt)!W.call(rt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&rt.ref===void 0||(st[_t]=rt[_t]);var _t=arguments.length-2;if(_t===1)st.children=ut;else if(1<_t){for(var xt=Array(_t),Bt=0;Bt<_t;Bt++)xt[Bt]=arguments[Bt+2];st.children=xt}return D(K.type,vt,void 0,void 0,wt,st)},oe.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},oe.createElement=function(K,rt,ut){var st,vt={},wt=null;if(rt!=null)for(st in rt.key!==void 0&&(wt=""+rt.key),rt)W.call(rt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=rt[st]);var _t=arguments.length-2;if(_t===1)vt.children=ut;else if(1<_t){for(var xt=Array(_t),Bt=0;Bt<_t;Bt++)xt[Bt]=arguments[Bt+2];vt.children=xt}if(K&&K.defaultProps)for(st in _t=K.defaultProps,_t)vt[st]===void 0&&(vt[st]=_t[st]);return D(K,wt,void 0,void 0,null,vt)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(K){return{$$typeof:c,render:K}},oe.isValidElement=N,oe.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Q}},oe.memo=function(K,rt){return{$$typeof:d,type:K,compare:rt===void 0?null:rt}},oe.startTransition=function(K){var rt=V.T,ut={};V.T=ut;try{var st=K(),vt=V.S;vt!==null&&vt(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(dt,at)}catch(wt){at(wt)}finally{V.T=rt}},oe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},oe.use=function(K){return V.H.use(K)},oe.useActionState=function(K,rt,ut){return V.H.useActionState(K,rt,ut)},oe.useCallback=function(K,rt){return V.H.useCallback(K,rt)},oe.useContext=function(K){return V.H.useContext(K)},oe.useDebugValue=function(){},oe.useDeferredValue=function(K,rt){return V.H.useDeferredValue(K,rt)},oe.useEffect=function(K,rt,ut){var st=V.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(K,rt)},oe.useId=function(){return V.H.useId()},oe.useImperativeHandle=function(K,rt,ut){return V.H.useImperativeHandle(K,rt,ut)},oe.useInsertionEffect=function(K,rt){return V.H.useInsertionEffect(K,rt)},oe.useLayoutEffect=function(K,rt){return V.H.useLayoutEffect(K,rt)},oe.useMemo=function(K,rt){return V.H.useMemo(K,rt)},oe.useOptimistic=function(K,rt){return V.H.useOptimistic(K,rt)},oe.useReducer=function(K,rt,ut){return V.H.useReducer(K,rt,ut)},oe.useRef=function(K){return V.H.useRef(K)},oe.useState=function(K){return V.H.useState(K)},oe.useSyncExternalStore=function(K,rt,ut){return V.H.useSyncExternalStore(K,rt,ut)},oe.useTransition=function(){return V.H.useTransition()},oe.version="19.1.0",oe}var Fk;function Px(){return Fk||(Fk=1,Tw.exports=eV()),Tw.exports}var O=Px();const Ha=kx(O),dT=Z6({__proto__:null,default:Ha},[O]);var xw={exports:{}},um={},Cw={exports:{}},Rw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function nV(){return Vk||(Vk=1,function(i){function t(Y,Q){var at=Y.length;Y.push(Q);t:for(;0<at;){var dt=at-1>>>1,K=Y[dt];if(0<s(K,Q))Y[dt]=Q,Y[at]=K,at=dt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],at=Y.pop();if(at!==Q){Y[0]=at;t:for(var dt=0,K=Y.length,rt=K>>>1;dt<rt;){var ut=2*(dt+1)-1,st=Y[ut],vt=ut+1,wt=Y[vt];if(0>s(st,at))vt<K&&0>s(wt,st)?(Y[dt]=wt,Y[vt]=at,dt=vt):(Y[dt]=st,Y[ut]=at,dt=ut);else if(vt<K&&0>s(wt,at))Y[dt]=wt,Y[vt]=at,dt=vt;else break t}}return Q}function s(Y,Q){var at=Y.sortIndex-Q.sortIndex;return at!==0?at:Y.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();i.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,v=null,b=3,E=!1,A=!1,S=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var Q=e(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=Y)n(d),Q.sortIndex=Q.expirationTime,t(h,Q);else break;Q=e(d)}}function V(Y){if(S=!1,P(Y),!A)if(e(h)!==null)A=!0,W||(W=!0,q());else{var Q=e(d);Q!==null&&nt(V,Q.startTime-Y)}}var W=!1,D=-1,I=5,N=-1;function T(){return C?!0:!(i.unstable_now()-N<I)}function U(){if(C=!1,W){var Y=i.unstable_now();N=Y;var Q=!0;try{t:{A=!1,S&&(S=!1,F(D),D=-1),E=!0;var at=b;try{e:{for(P(Y),v=e(h);v!==null&&!(v.expirationTime>Y&&T());){var dt=v.callback;if(typeof dt=="function"){v.callback=null,b=v.priorityLevel;var K=dt(v.expirationTime<=Y);if(Y=i.unstable_now(),typeof K=="function"){v.callback=K,P(Y),Q=!0;break e}v===e(h)&&n(h),P(Y)}else n(h);v=e(h)}if(v!==null)Q=!0;else{var rt=e(d);rt!==null&&nt(V,rt.startTime-Y),Q=!1}}break t}finally{v=null,b=at,E=!1}Q=void 0}}finally{Q?q():W=!1}}}var q;if(typeof M=="function")q=function(){M(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ct=j.port2;j.port1.onmessage=U,q=function(){ct.postMessage(null)}}else q=function(){x(U,0)};function nt(Y,Q){D=x(function(){Y(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var at=b;b=Q;try{return Y()}finally{b=at}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var at=b;b=Y;try{return Q()}finally{b=at}},i.unstable_scheduleCallback=function(Y,Q,at){var dt=i.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?dt+at:dt):at=dt,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=at+K,Y={id:p++,callback:Q,priorityLevel:Y,startTime:at,expirationTime:K,sortIndex:-1},at>dt?(Y.sortIndex=at,t(d,Y),e(h)===null&&Y===e(d)&&(S?(F(D),D=-1):S=!0,nt(V,at-dt))):(Y.sortIndex=K,t(h,Y),A||E||(A=!0,W||(W=!0,q()))),Y},i.unstable_shouldYield=T,i.unstable_wrapCallback=function(Y){var Q=b;return function(){var at=b;b=Q;try{return Y.apply(this,arguments)}finally{b=at}}}}(Rw)),Rw}var Uk;function iV(){return Uk||(Uk=1,Cw.exports=nV()),Cw.exports}var Iw={exports:{}},qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function sV(){if(Bk)return qi;Bk=1;var i=Px();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:d,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,qi.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,p)},qi.flushSync=function(h){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=p,n.d.f()}},qi.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},qi.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},qi.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:E}):p==="script"&&n.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qi.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},qi.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qi.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},qi.requestFormReset=function(h){n.d.r(h)},qi.unstable_batchedUpdates=function(h,d){return h(d)},qi.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},qi.useFormStatus=function(){return l.H.useHostTransitionStatus()},qi.version="19.1.0",qi}var zk;function yD(){if(zk)return Iw.exports;zk=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Iw.exports=sV(),Iw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk;function rV(){if(jk)return um;jk=1;var i=iV(),t=Px(),e=yD();function n(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(n(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(n(188));return o!==r?null:r}for(var u=r,f=o;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return c(y),r;if(_===f)return c(y),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=_;else{for(var k=!1,H=y.child;H;){if(H===u){k=!0,u=y,f=_;break}if(H===f){k=!0,f=y,u=_;break}H=H.sibling}if(!k){for(H=_.child;H;){if(H===u){k=!0,u=_,f=y;break}if(H===f){k=!0,f=_,u=y;break}H=H.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function ct(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case M:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case P:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return o=r.displayName||null,o!==null?o:ct(r.type)||"Memo";case I:o=r._payload,r=r._init;try{return ct(r(o))}catch{}}return null}var nt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},dt=[],K=-1;function rt(r){return{current:r}}function ut(r){0>K||(r.current=dt[K],dt[K]=null,K--)}function st(r,o){K++,dt[K]=r.current,r.current=o}var vt=rt(null),wt=rt(null),_t=rt(null),xt=rt(null);function Bt(r,o){switch(st(_t,o),st(wt,r),st(vt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?ok(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=ok(o),r=lk(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ut(vt),st(vt,r)}function jt(){ut(vt),ut(wt),ut(_t)}function Et(r){r.memoizedState!==null&&st(xt,r);var o=vt.current,u=lk(o,r.type);o!==u&&(st(wt,r),st(vt,u))}function Ht(r){wt.current===r&&(ut(vt),ut(wt)),xt.current===r&&(ut(xt),sm._currentValue=at)}var Gt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,kt=i.unstable_cancelCallback,Wt=i.unstable_shouldYield,ue=i.unstable_requestPaint,fe=i.unstable_now,ke=i.unstable_getCurrentPriorityLevel,Ue=i.unstable_ImmediatePriority,He=i.unstable_UserBlockingPriority,pe=i.unstable_NormalPriority,Ot=i.unstable_LowPriority,si=i.unstable_IdlePriority,Ye=i.log,Hi=i.unstable_setDisableYieldValue,Re=null,ee=null;function Xe(r){if(typeof Ye=="function"&&Hi(r),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(Re,r)}catch{}}var Oe=Math.clz32?Math.clz32:Pn,De=Math.log,Kt=Math.LN2;function Pn(r){return r>>>=0,r===0?32:31-(De(r)/Kt|0)|0}var yn=256,Mn=4194304;function Dt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pe(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var y=0,_=r.suspendedLanes,k=r.pingedLanes;r=r.warmLanes;var H=f&134217727;return H!==0?(f=H&~_,f!==0?y=Dt(f):(k&=H,k!==0?y=Dt(k):u||(u=H&~r,u!==0&&(y=Dt(u))))):(H=f&~_,H!==0?y=Dt(H):k!==0?y=Dt(k):u||(u=f&~r,u!==0&&(y=Dt(u)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:y}function gn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function tr(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var r=yn;return yn<<=1,(yn&4194048)===0&&(yn=256),r}function ag(){var r=Mn;return Mn<<=1,(Mn&62914560)===0&&(Mn=4194304),r}function io(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function so(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function og(r,o,u,f,y,_){var k=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var H=r.entanglements,X=r.expirationTimes,it=r.hiddenUpdates;for(u=k&~u;0<u;){var pt=31-Oe(u),mt=1<<pt;H[pt]=0,X[pt]=-1;var ot=it[pt];if(ot!==null)for(it[pt]=null,pt=0;pt<ot.length;pt++){var lt=ot[pt];lt!==null&&(lt.lane&=-536870913)}u&=~mt}f!==0&&ea(r,f,0),_!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=_&~(k&~o))}function ea(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Oe(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function lg(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-Oe(u),y=1<<f;y&o|r[f]&o&&(r[f]|=o),u&=~y}}function Cl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ud(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Rl(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:Ck(r.type))}function tb(r,o){var u=Q.p;try{return Q.p=r,o()}finally{Q.p=u}}var vn=Math.random().toString(36).slice(2),ri="__reactFiber$"+vn,Kn="__reactProps$"+vn,er="__reactContainer$"+vn,cg="__reactEvents$"+vn,xA="__reactListeners$"+vn,Il="__reactHandles$"+vn,eb="__reactResources$"+vn,iu="__reactMarker$"+vn;function kl(r){delete r[ri],delete r[Kn],delete r[cg],delete r[xA],delete r[Il]}function ro(r){var o=r[ri];if(o)return o;for(var u=r.parentNode;u;){if(o=u[er]||u[ri]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=dk(r);r!==null;){if(u=r[ri])return u;r=dk(r)}return o}r=u,u=r.parentNode}return null}function na(r){if(r=r[ri]||r[er]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function ia(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(n(33))}function ls(r){var o=r[eb];return o||(o=r[eb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Un(r){r[iu]=!0}var ug=new Set,hd={};function xr(r,o){ao(r,o),ao(r+"Capture",o)}function ao(r,o){for(hd[r]=o,r=0;r<o.length;r++)ug.add(o[r])}var nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ib={},su={};function sb(r){return Gt.call(su,r)?!0:Gt.call(ib,r)?!1:nb.test(r)?su[r]=!0:(ib[r]=!0,!1)}function Pl(r,o,u){if(sb(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function sa(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function ki(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var ru,rb;function oo(r){if(ru===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ru=o&&o[1]||"",rb=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ru+r+rb}var dd=!1;function fd(r,o){if(!r||dd)return"";dd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(lt){var ot=lt}Reflect.construct(r,[],mt)}else{try{mt.call()}catch(lt){ot=lt}r.call(mt.prototype)}}else{try{throw Error()}catch(lt){ot=lt}(mt=r())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(lt){if(lt&&ot&&typeof lt.stack=="string")return[lt.stack,ot.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),k=_[0],H=_[1];if(k&&H){var X=k.split(`
`),it=H.split(`
`);for(y=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;y<it.length&&!it[y].includes("DetermineComponentFrameRoot");)y++;if(f===X.length||y===it.length)for(f=X.length-1,y=it.length-1;1<=f&&0<=y&&X[f]!==it[y];)y--;for(;1<=f&&0<=y;f--,y--)if(X[f]!==it[y]){if(f!==1||y!==1)do if(f--,y--,0>y||X[f]!==it[y]){var pt=`
`+X[f].replace(" at new "," at ");return r.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",r.displayName)),pt}while(1<=f&&0<=y);break}}}finally{dd=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?oo(u):""}function hg(r){switch(r.tag){case 26:case 27:case 5:return oo(r.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return fd(r.type,!1);case 11:return fd(r.type.render,!1);case 1:return fd(r.type,!0);case 31:return oo("Activity");default:return""}}function pd(r){try{var o="";do o+=hg(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function cs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dg(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function CA(r){var o=dg(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,_=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(k){f=""+k,_.call(this,k)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function gd(r){r._valueTracker||(r._valueTracker=CA(r))}function fg(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=dg(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function au(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var RA=/[\n"\\]/g;function Yn(r){return r.replace(RA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ms(r,o,u,f,y,_,k,H){r.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.type=k:r.removeAttribute("type"),o!=null?k==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+cs(o)):r.value!==""+cs(o)&&(r.value=""+cs(o)):k!=="submit"&&k!=="reset"||r.removeAttribute("value"),o!=null?Ml(r,k,cs(o)):u!=null?Ml(r,k,cs(u)):f!=null&&r.removeAttribute("value"),y==null&&_!=null&&(r.defaultChecked=!!_),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.name=""+cs(H):r.removeAttribute("name")}function ou(r,o,u,f,y,_,k,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;u=u!=null?""+cs(u):"",o=o!=null?""+cs(o):u,H||o===r.value||(r.value=o),r.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=H?r.checked:!!f,r.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(r.name=k)}function Ml(r,o,u){o==="number"&&au(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function lo(r,o,u,f){if(r=r.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=o.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&f&&(r[u].defaultSelected=!0)}else{for(u=""+cs(u),o=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Qe(r,o,u){if(o!=null&&(o=""+cs(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+cs(u):""}function lu(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(n(92));if(nt(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=cs(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function nr(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ab(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||cu.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function pg(r,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&ab(r,y,f)}else for(var _ in o)o.hasOwnProperty(_)&&ab(r,_,o[_])}function gg(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function md(r){return kA.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var co=null;function ir(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,ho=null;function mg(r){var o=na(r);if(o&&(r=o.stateNode)){var u=r[Kn]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ms(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var y=f[Kn]||null;if(!y)throw Error(n(90));Ms(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&fg(f)}break t;case"textarea":Qe(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&lo(r,!!u.multiple,o,!1)}}}var ra=!1;function ob(r,o,u){if(ra)return r(o,u);ra=!0;try{var f=r(o);return f}finally{if(ra=!1,(uo!==null||ho!==null)&&(t0(),uo&&(o=uo,r=ho,ho=uo=null,mg(o),r)))for(o=0;o<r.length;o++)mg(r[o])}}function uu(r,o){var u=r.stateNode;if(u===null)return null;var f=u[Kn]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(Cr)try{var hu={};Object.defineProperty(hu,"passive",{get:function(){sr=!0}}),window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{sr=!1}var aa=null,Ol=null,fo=null;function yg(){if(fo)return fo;var r,o=Ol,u=o.length,f,y="value"in aa?aa.value:aa.textContent,_=y.length;for(r=0;r<u&&o[r]===y[r];r++);var k=u-r;for(f=1;f<=k&&o[u-f]===y[_-f];f++);return fo=y.slice(r,1<f?1-f:void 0)}function oa(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function la(){return!0}function vg(){return!1}function vi(r){function o(u,f,y,_,k){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(u=r[H],this[H]=u?u(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?la:vg,this.isPropagationStopped=vg,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),o}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=vi(Be),du=p({},Be,{view:0,detail:0}),lb=vi(du),vd,bd,ca,fu=p({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ca&&(ca&&r.type==="mousemove"?(vd=r.screenX-ca.screenX,bd=r.screenY-ca.screenY):bd=vd=0,ca=r),vd)},movementY:function(r){return"movementY"in r?r.movementY:bd}}),rr=vi(fu),cb=p({},fu,{dataTransfer:0}),PA=vi(cb),pu=p({},du,{relatedTarget:0}),_d=vi(pu),bg=p({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),Ed=vi(bg),ub=p({},Be,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ad=vi(ub),MA=p({},Be,{data:0}),_g=vi(MA),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=db[r])?!!o[r]:!1}function mu(){return Eg}var fb=p({},du,{key:function(r){if(r.key){var o=gu[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(r){return r.type==="keypress"?oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Sd=vi(fb),pb=p({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=vi(pb),po=p({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),gb=vi(po),mb=p({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=vi(mb),vb=p({},fu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wd=vi(vb),us=p({},Be,{newState:0,oldState:0}),bb=vi(us),_b=[9,13,27,32],ua=Cr&&"CompositionEvent"in window,m=null;Cr&&"documentMode"in document&&(m=document.documentMode);var w=Cr&&"TextEvent"in window&&!m,R=Cr&&(!ua||m&&8<m&&11>=m),G=" ",tt=!1;function ht(r,o){switch(r){case"keyup":return _b.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function At(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Se=!1;function ai(r,o){switch(r){case"compositionend":return At(o);case"keypress":return o.which!==32?null:(tt=!0,G);case"textInput":return r=o.data,r===G&&tt?null:r;default:return null}}function we(r,o){if(Se)return r==="compositionend"||!ua&&ht(r,o)?(r=yg(),fo=Ol=aa=null,Se=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return R&&o.locale!=="ko"?null:o.data;default:return null}}var bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oi(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!bi[r.type]:o==="textarea"}function go(r,o,u,f){uo?ho?ho.push(f):ho=[f]:uo=f,o=a0(o,"onChange"),0<o.length&&(u=new yd("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var Pi=null,ha=null;function Sg(r){nk(r,0)}function Eb(r){var o=ia(r);if(fg(o))return r}function SR(r,o){if(r==="change")return o}var wR=!1;if(Cr){var OA;if(Cr){var DA="oninput"in document;if(!DA){var TR=document.createElement("div");TR.setAttribute("oninput","return;"),DA=typeof TR.oninput=="function"}OA=DA}else OA=!1;wR=OA&&(!document.documentMode||9<document.documentMode)}function xR(){Pi&&(Pi.detachEvent("onpropertychange",CR),ha=Pi=null)}function CR(r){if(r.propertyName==="value"&&Eb(ha)){var o=[];go(o,ha,r,ir(r)),ob(Sg,o)}}function x5(r,o,u){r==="focusin"?(xR(),Pi=o,ha=u,Pi.attachEvent("onpropertychange",CR)):r==="focusout"&&xR()}function C5(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Eb(ha)}function R5(r,o){if(r==="click")return Eb(o)}function I5(r,o){if(r==="input"||r==="change")return Eb(o)}function k5(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Os=typeof Object.is=="function"?Object.is:k5;function wg(r,o){if(Os(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!Gt.call(o,y)||!Os(r[y],o[y]))return!1}return!0}function RR(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function IR(r,o){var u=RR(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=RR(u)}}function kR(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?kR(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function PR(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=au(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=au(r.document)}return o}function NA(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var P5=Cr&&"documentMode"in document&&11>=document.documentMode,Td=null,LA=null,Tg=null,FA=!1;function MR(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;FA||Td==null||Td!==au(f)||(f=Td,"selectionStart"in f&&NA(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Tg&&wg(Tg,f)||(Tg=f,f=a0(LA,"onSelect"),0<f.length&&(o=new yd("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=Td)))}function yu(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var xd={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionrun:yu("Transition","TransitionRun"),transitionstart:yu("Transition","TransitionStart"),transitioncancel:yu("Transition","TransitionCancel"),transitionend:yu("Transition","TransitionEnd")},VA={},OR={};Cr&&(OR=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function vu(r){if(VA[r])return VA[r];if(!xd[r])return r;var o=xd[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in OR)return VA[r]=o[u];return r}var DR=vu("animationend"),NR=vu("animationiteration"),LR=vu("animationstart"),M5=vu("transitionrun"),O5=vu("transitionstart"),D5=vu("transitioncancel"),FR=vu("transitionend"),VR=new Map,UA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");UA.push("scrollEnd");function Rr(r,o){VR.set(r,o),xr(o,[r])}var UR=new WeakMap;function ar(r,o){if(typeof r=="object"&&r!==null){var u=UR.get(r);return u!==void 0?u:(o={value:r,source:o,stack:pd(o)},UR.set(r,o),o)}return{value:r,source:o,stack:pd(o)}}var or=[],Cd=0,BA=0;function Ab(){for(var r=Cd,o=BA=Cd=0;o<r;){var u=or[o];or[o++]=null;var f=or[o];or[o++]=null;var y=or[o];or[o++]=null;var _=or[o];if(or[o++]=null,f!==null&&y!==null){var k=f.pending;k===null?y.next=y:(y.next=k.next,k.next=y),f.pending=y}_!==0&&BR(u,y,_)}}function Sb(r,o,u,f){or[Cd++]=r,or[Cd++]=o,or[Cd++]=u,or[Cd++]=f,BA|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function zA(r,o,u,f){return Sb(r,o,u,f),wb(r)}function Rd(r,o){return Sb(r,null,null,o),wb(r)}function BR(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var y=!1,_=r.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(y=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,y&&o!==null&&(y=31-Oe(u),r=_.hiddenUpdates,f=r[y],f===null?r[y]=[o]:f.push(o),o.lane=u|536870912),_):null}function wb(r){if(50<Xg)throw Xg=0,WS=null,Error(n(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Id={};function N5(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(r,o,u,f){return new N5(r,o,u,f)}function jA(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mo(r,o){var u=r.alternate;return u===null?(u=Ds(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function zR(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Tb(r,o,u,f,y,_){var k=0;if(f=r,typeof r=="function")jA(r)&&(k=1);else if(typeof r=="string")k=F6(r,u,vt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case N:return r=Ds(31,u,o,y),r.elementType=N,r.lanes=_,r;case A:return bu(u.children,y,_,o);case S:k=8,y|=24;break;case C:return r=Ds(12,u,o,y|2),r.elementType=C,r.lanes=_,r;case V:return r=Ds(13,u,o,y),r.elementType=V,r.lanes=_,r;case W:return r=Ds(19,u,o,y),r.elementType=W,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case M:k=10;break t;case F:k=9;break t;case P:k=11;break t;case D:k=14;break t;case I:k=16,f=null;break t}k=29,u=Error(n(130,r===null?"null":typeof r,"")),f=null}return o=Ds(k,u,o,y),o.elementType=r,o.type=f,o.lanes=_,o}function bu(r,o,u,f){return r=Ds(7,r,f,o),r.lanes=u,r}function HA(r,o,u){return r=Ds(6,r,null,o),r.lanes=u,r}function $A(r,o,u){return o=Ds(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var kd=[],Pd=0,xb=null,Cb=0,lr=[],cr=0,_u=null,yo=1,vo="";function Eu(r,o){kd[Pd++]=Cb,kd[Pd++]=xb,xb=r,Cb=o}function jR(r,o,u){lr[cr++]=yo,lr[cr++]=vo,lr[cr++]=_u,_u=r;var f=yo;r=vo;var y=32-Oe(f)-1;f&=~(1<<y),u+=1;var _=32-Oe(o)+y;if(30<_){var k=y-y%5;_=(f&(1<<k)-1).toString(32),f>>=k,y-=k,yo=1<<32-Oe(o)+y|u<<y|f,vo=_+r}else yo=1<<_|u<<y|f,vo=r}function qA(r){r.return!==null&&(Eu(r,1),jR(r,1,0))}function GA(r){for(;r===xb;)xb=kd[--Pd],kd[Pd]=null,Cb=kd[--Pd],kd[Pd]=null;for(;r===_u;)_u=lr[--cr],lr[cr]=null,vo=lr[--cr],lr[cr]=null,yo=lr[--cr],lr[cr]=null}var hs=null,On=null,Ne=!1,Au=null,da=!1,WA=Error(n(519));function Su(r){var o=Error(n(418,""));throw Rg(ar(o,r)),WA}function HR(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[ri]=r,o[Kn]=f,u){case"dialog":be("cancel",o),be("close",o);break;case"iframe":case"object":case"embed":be("load",o);break;case"video":case"audio":for(u=0;u<Zg.length;u++)be(Zg[u],o);break;case"source":be("error",o);break;case"img":case"image":case"link":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"input":be("invalid",o),ou(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),gd(o);break;case"select":be("invalid",o);break;case"textarea":be("invalid",o),lu(o,f.value,f.defaultValue,f.children),gd(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||ak(o.textContent,u)?(f.popover!=null&&(be("beforetoggle",o),be("toggle",o)),f.onScroll!=null&&be("scroll",o),f.onScrollEnd!=null&&be("scrollend",o),f.onClick!=null&&(o.onclick=o0),o=!0):o=!1,o||Su(r)}function $R(r){for(hs=r.return;hs;)switch(hs.tag){case 5:case 13:da=!1;return;case 27:case 3:da=!0;return;default:hs=hs.return}}function xg(r){if(r!==hs)return!1;if(!Ne)return $R(r),Ne=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||cw(r.type,r.memoizedProps)),u=!u),u&&On&&Su(r),$R(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){On=kr(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}On=null}}else o===27?(o=On,Yl(r.type)?(r=fw,fw=null,On=r):On=o):On=hs?kr(r.stateNode.nextSibling):null;return!0}function Cg(){On=hs=null,Ne=!1}function qR(){var r=Au;return r!==null&&(Es===null?Es=r:Es.push.apply(Es,r),Au=null),r}function Rg(r){Au===null?Au=[r]:Au.push(r)}var KA=rt(null),wu=null,bo=null;function Dl(r,o,u){st(KA,o._currentValue),o._currentValue=u}function _o(r){r._currentValue=KA.current,ut(KA)}function YA(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function XA(r,o,u,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var _=y.dependencies;if(_!==null){var k=y.child;_=_.firstContext;t:for(;_!==null;){var H=_;_=y;for(var X=0;X<o.length;X++)if(H.context===o[X]){_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),YA(_.return,u,r),f||(k=null);break t}_=H.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(n(341));k.lanes|=u,_=k.alternate,_!==null&&(_.lanes|=u),YA(k,u,r),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===r){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function Ig(r,o,u,f){r=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var H=y.type;Os(y.pendingProps.value,k.value)||(r!==null?r.push(H):r=[H])}}else if(y===xt.current){if(k=y.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(sm):r=[sm])}y=y.return}r!==null&&XA(o,r,u,f),o.flags|=262144}function Rb(r){for(r=r.firstContext;r!==null;){if(!Os(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Tu(r){wu=r,bo=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function $i(r){return GR(wu,r)}function Ib(r,o){return wu===null&&Tu(r),GR(r,o)}function GR(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},bo===null){if(r===null)throw Error(n(308));bo=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else bo=bo.next=o;return u}var L5=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},F5=i.unstable_scheduleCallback,V5=i.unstable_NormalPriority,li={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function QA(){return{controller:new L5,data:new Map,refCount:0}}function kg(r){r.refCount--,r.refCount===0&&F5(V5,function(){r.controller.abort()})}var Pg=null,ZA=0,Md=0,Od=null;function U5(r,o){if(Pg===null){var u=Pg=[];ZA=0,Md=tw(),Od={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ZA++,o.then(WR,WR),o}function WR(){if(--ZA===0&&Pg!==null){Od!==null&&(Od.status="fulfilled");var r=Pg;Pg=null,Md=0,Od=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function B5(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var KR=Y.S;Y.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&U5(r,o),KR!==null&&KR(r,o)};var xu=rt(null);function JA(){var r=xu.current;return r!==null?r:dn.pooledCache}function kb(r,o){o===null?st(xu,xu.current):st(xu,o.pool)}function YR(){var r=JA();return r===null?null:{parent:li._currentValue,pool:r}}var Mg=Error(n(460)),XR=Error(n(474)),Pb=Error(n(542)),tS={then:function(){}};function QR(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Mb(){}function ZR(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Mb,Mb),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,tI(r),r;default:if(typeof o.status=="string")o.then(Mb,Mb);else{if(r=dn,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,tI(r),r}throw Og=o,Mg}}var Og=null;function JR(){if(Og===null)throw Error(n(459));var r=Og;return Og=null,r}function tI(r){if(r===Mg||r===Pb)throw Error(n(483))}var Nl=!1;function eS(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nS(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ll(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Fl(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,($e&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=wb(r),BR(r,null,u),o}return Sb(r,f,o,u),wb(r)}function Dg(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,lg(r,u)}}function iS(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=k:_=_.next=k,u=u.next}while(u!==null);_===null?y=_=o:_=_.next=o}else y=_=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var sS=!1;function Ng(){if(sS){var r=Od;if(r!==null)throw r}}function Lg(r,o,u,f){sS=!1;var y=r.updateQueue;Nl=!1;var _=y.firstBaseUpdate,k=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var X=H,it=X.next;X.next=null,k===null?_=it:k.next=it,k=X;var pt=r.alternate;pt!==null&&(pt=pt.updateQueue,H=pt.lastBaseUpdate,H!==k&&(H===null?pt.firstBaseUpdate=it:H.next=it,pt.lastBaseUpdate=X))}if(_!==null){var mt=y.baseState;k=0,pt=it=X=null,H=_;do{var ot=H.lane&-536870913,lt=ot!==H.lane;if(lt?(Te&ot)===ot:(f&ot)===ot){ot!==0&&ot===Md&&(sS=!0),pt!==null&&(pt=pt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var Zt=r,$t=H;ot=o;var tn=u;switch($t.tag){case 1:if(Zt=$t.payload,typeof Zt=="function"){mt=Zt.call(tn,mt,ot);break t}mt=Zt;break t;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=$t.payload,ot=typeof Zt=="function"?Zt.call(tn,mt,ot):Zt,ot==null)break t;mt=p({},mt,ot);break t;case 2:Nl=!0}}ot=H.callback,ot!==null&&(r.flags|=64,lt&&(r.flags|=8192),lt=y.callbacks,lt===null?y.callbacks=[ot]:lt.push(ot))}else lt={lane:ot,tag:H.tag,payload:H.payload,callback:H.callback,next:null},pt===null?(it=pt=lt,X=mt):pt=pt.next=lt,k|=ot;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;lt=H,H=lt.next,lt.next=null,y.lastBaseUpdate=lt,y.shared.pending=null}}while(!0);pt===null&&(X=mt),y.baseState=X,y.firstBaseUpdate=it,y.lastBaseUpdate=pt,_===null&&(y.shared.lanes=0),ql|=k,r.lanes=k,r.memoizedState=mt}}function eI(r,o){if(typeof r!="function")throw Error(n(191,r));r.call(o)}function nI(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)eI(u[r],o)}var Dd=rt(null),Ob=rt(0);function iI(r,o){r=Co,st(Ob,r),st(Dd,o),Co=r|o.baseLanes}function rS(){st(Ob,Co),st(Dd,Dd.current)}function aS(){Co=Ob.current,ut(Dd),ut(Ob)}var Vl=0,he=null,Ze=null,Xn=null,Db=!1,Nd=!1,Cu=!1,Nb=0,Fg=0,Ld=null,z5=0;function Bn(){throw Error(n(321))}function oS(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Os(r[u],o[u]))return!1;return!0}function lS(r,o,u,f,y,_){return Vl=_,he=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=r===null||r.memoizedState===null?BI:zI,Cu=!1,_=u(f,y),Cu=!1,Nd&&(_=rI(o,u,f,y)),sI(r),_}function sI(r){Y.H=zb;var o=Ze!==null&&Ze.next!==null;if(Vl=0,Xn=Ze=he=null,Db=!1,Fg=0,Ld=null,o)throw Error(n(300));r===null||_i||(r=r.dependencies,r!==null&&Rb(r)&&(_i=!0))}function rI(r,o,u,f){he=r;var y=0;do{if(Nd&&(Ld=null),Fg=0,Nd=!1,25<=y)throw Error(n(301));if(y+=1,Xn=Ze=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=K5,_=o(u,f)}while(Nd);return _}function j5(){var r=Y.H,o=r.useState()[0];return o=typeof o.then=="function"?Vg(o):o,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(he.flags|=1024),o}function cS(){var r=Nb!==0;return Nb=0,r}function uS(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function hS(r){if(Db){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Db=!1}Vl=0,Xn=Ze=he=null,Nd=!1,Fg=Nb=0,Ld=null}function bs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?he.memoizedState=Xn=r:Xn=Xn.next=r,Xn}function Qn(){if(Ze===null){var r=he.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var o=Xn===null?he.memoizedState:Xn.next;if(o!==null)Xn=o,Ze=r;else{if(r===null)throw he.alternate===null?Error(n(467)):Error(n(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Xn===null?he.memoizedState=Xn=r:Xn=Xn.next=r}return Xn}function dS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vg(r){var o=Fg;return Fg+=1,Ld===null&&(Ld=[]),r=ZR(Ld,r,o),o=he,(Xn===null?o.memoizedState:Xn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?BI:zI),r}function Lb(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vg(r);if(r.$$typeof===M)return $i(r)}throw Error(n(438,String(r)))}function fS(r){var o=null,u=he.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=he.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=dS(),he.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=T;return o.index++,u}function Eo(r,o){return typeof o=="function"?o(r):o}function Fb(r){var o=Qn();return pS(o,Ze,r)}function pS(r,o,u){var f=r.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var y=r.baseQueue,_=f.pending;if(_!==null){if(y!==null){var k=y.next;y.next=_.next,_.next=k}o.baseQueue=y=_,f.pending=null}if(_=r.baseState,y===null)r.memoizedState=_;else{o=y.next;var H=k=null,X=null,it=o,pt=!1;do{var mt=it.lane&-536870913;if(mt!==it.lane?(Te&mt)===mt:(Vl&mt)===mt){var ot=it.revertLane;if(ot===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),mt===Md&&(pt=!0);else if((Vl&ot)===ot){it=it.next,ot===Md&&(pt=!0);continue}else mt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},X===null?(H=X=mt,k=_):X=X.next=mt,he.lanes|=ot,ql|=ot;mt=it.action,Cu&&u(_,mt),_=it.hasEagerState?it.eagerState:u(_,mt)}else ot={lane:mt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},X===null?(H=X=ot,k=_):X=X.next=ot,he.lanes|=mt,ql|=mt;it=it.next}while(it!==null&&it!==o);if(X===null?k=_:X.next=H,!Os(_,r.memoizedState)&&(_i=!0,pt&&(u=Od,u!==null)))throw u;r.memoizedState=_,r.baseState=k,r.baseQueue=X,f.lastRenderedState=_}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function gS(r){var o=Qn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,y=u.pending,_=o.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do _=r(_,k.action),k=k.next;while(k!==y);Os(_,o.memoizedState)||(_i=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function aI(r,o,u){var f=he,y=Qn(),_=Ne;if(_){if(u===void 0)throw Error(n(407));u=u()}else u=o();var k=!Os((Ze||y).memoizedState,u);k&&(y.memoizedState=u,_i=!0),y=y.queue;var H=cI.bind(null,f,y,r);if(Ug(2048,8,H,[r]),y.getSnapshot!==o||k||Xn!==null&&Xn.memoizedState.tag&1){if(f.flags|=2048,Fd(9,Vb(),lI.bind(null,f,y,u,o),null),dn===null)throw Error(n(349));_||(Vl&124)!==0||oI(f,o,u)}return u}function oI(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=he.updateQueue,o===null?(o=dS(),he.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function lI(r,o,u,f){o.value=u,o.getSnapshot=f,uI(o)&&hI(r)}function cI(r,o,u){return u(function(){uI(o)&&hI(r)})}function uI(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Os(r,u)}catch{return!0}}function hI(r){var o=Rd(r,2);o!==null&&Us(o,r,2)}function mS(r){var o=bs();if(typeof r=="function"){var u=r;if(r=u(),Cu){Xe(!0);try{u()}finally{Xe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:r},o}function dI(r,o,u,f){return r.baseState=u,pS(r,Ze,typeof f=="function"?f:Eo)}function H5(r,o,u,f,y){if(Bb(r))throw Error(n(485));if(r=o.action,r!==null){var _={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){_.listeners.push(k)}};Y.T!==null?u(!0):_.isTransition=!1,f(_),u=o.pending,u===null?(_.next=o.pending=_,fI(o,_)):(_.next=u.next,o.pending=u.next=_)}}function fI(r,o){var u=o.action,f=o.payload,y=r.state;if(o.isTransition){var _=Y.T,k={};Y.T=k;try{var H=u(y,f),X=Y.S;X!==null&&X(k,H),pI(r,o,H)}catch(it){yS(r,o,it)}finally{Y.T=_}}else try{_=u(y,f),pI(r,o,_)}catch(it){yS(r,o,it)}}function pI(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){gI(r,o,f)},function(f){return yS(r,o,f)}):gI(r,o,u)}function gI(r,o,u){o.status="fulfilled",o.value=u,mI(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,fI(r,u)))}function yS(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,mI(o),o=o.next;while(o!==f)}r.action=null}function mI(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function yI(r,o){return o}function vI(r,o){if(Ne){var u=dn.formState;if(u!==null){t:{var f=he;if(Ne){if(On){e:{for(var y=On,_=da;y.nodeType!==8;){if(!_){y=null;break e}if(y=kr(y.nextSibling),y===null){y=null;break e}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){On=kr(y.nextSibling),f=y.data==="F!";break t}}Su(f)}f=!1}f&&(o=u[0])}}return u=bs(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yI,lastRenderedState:o},u.queue=f,u=FI.bind(null,he,f),f.dispatch=u,f=mS(!1),_=AS.bind(null,he,!1,f.queue),f=bs(),y={state:o,dispatch:null,action:r,pending:null},f.queue=y,u=H5.bind(null,he,y,_,u),y.dispatch=u,f.memoizedState=r,[o,u,!1]}function bI(r){var o=Qn();return _I(o,Ze,r)}function _I(r,o,u){if(o=pS(r,o,yI)[0],r=Fb(Eo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Vg(o)}catch(k){throw k===Mg?Pb:k}else f=o;o=Qn();var y=o.queue,_=y.dispatch;return u!==o.memoizedState&&(he.flags|=2048,Fd(9,Vb(),$5.bind(null,y,u),null)),[f,_,r]}function $5(r,o){r.action=o}function EI(r){var o=Qn(),u=Ze;if(u!==null)return _I(o,u,r);Qn(),o=o.memoizedState,u=Qn();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function Fd(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=he.updateQueue,o===null&&(o=dS(),he.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Vb(){return{destroy:void 0,resource:void 0}}function AI(){return Qn().memoizedState}function Ub(r,o,u,f){var y=bs();f=f===void 0?null:f,he.flags|=r,y.memoizedState=Fd(1|o,Vb(),u,f)}function Ug(r,o,u,f){var y=Qn();f=f===void 0?null:f;var _=y.memoizedState.inst;Ze!==null&&f!==null&&oS(f,Ze.memoizedState.deps)?y.memoizedState=Fd(o,_,u,f):(he.flags|=r,y.memoizedState=Fd(1|o,_,u,f))}function SI(r,o){Ub(8390656,8,r,o)}function wI(r,o){Ug(2048,8,r,o)}function TI(r,o){return Ug(4,2,r,o)}function xI(r,o){return Ug(4,4,r,o)}function CI(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function RI(r,o,u){u=u!=null?u.concat([r]):null,Ug(4,4,CI.bind(null,o,r),u)}function vS(){}function II(r,o){var u=Qn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&oS(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function kI(r,o){var u=Qn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&oS(o,f[1]))return f[0];if(f=r(),Cu){Xe(!0);try{r()}finally{Xe(!1)}}return u.memoizedState=[f,o],f}function bS(r,o,u){return u===void 0||(Vl&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=O2(),he.lanes|=r,ql|=r,u)}function PI(r,o,u,f){return Os(u,o)?u:Dd.current!==null?(r=bS(r,u,f),Os(r,o)||(_i=!0),r):(Vl&42)===0?(_i=!0,r.memoizedState=u):(r=O2(),he.lanes|=r,ql|=r,o)}function MI(r,o,u,f,y){var _=Q.p;Q.p=_!==0&&8>_?_:8;var k=Y.T,H={};Y.T=H,AS(r,!1,o,u);try{var X=y(),it=Y.S;if(it!==null&&it(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pt=B5(X,f);Bg(r,o,pt,Vs(r))}else Bg(r,o,f,Vs(r))}catch(mt){Bg(r,o,{then:function(){},status:"rejected",reason:mt},Vs())}finally{Q.p=_,Y.T=k}}function q5(){}function _S(r,o,u,f){if(r.tag!==5)throw Error(n(476));var y=OI(r).queue;MI(r,y,o,at,u===null?q5:function(){return DI(r),u(f)})}function OI(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:at},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function DI(r){var o=OI(r).next.queue;Bg(r,o,{},Vs())}function ES(){return $i(sm)}function NI(){return Qn().memoizedState}function LI(){return Qn().memoizedState}function G5(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Vs();r=Ll(u);var f=Fl(o,r,u);f!==null&&(Us(f,o,u),Dg(f,o,u)),o={cache:QA()},r.payload=o;return}o=o.return}}function W5(r,o,u){var f=Vs();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bb(r)?VI(o,u):(u=zA(r,o,u,f),u!==null&&(Us(u,r,f),UI(u,o,f)))}function FI(r,o,u){var f=Vs();Bg(r,o,u,f)}function Bg(r,o,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bb(r))VI(o,y);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var k=o.lastRenderedState,H=_(k,u);if(y.hasEagerState=!0,y.eagerState=H,Os(H,k))return Sb(r,o,y,0),dn===null&&Ab(),!1}catch{}finally{}if(u=zA(r,o,y,f),u!==null)return Us(u,r,f),UI(u,o,f),!0}return!1}function AS(r,o,u,f){if(f={lane:2,revertLane:tw(),action:f,hasEagerState:!1,eagerState:null,next:null},Bb(r)){if(o)throw Error(n(479))}else o=zA(r,u,f,2),o!==null&&Us(o,r,2)}function Bb(r){var o=r.alternate;return r===he||o!==null&&o===he}function VI(r,o){Nd=Db=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function UI(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,lg(r,u)}}var zb={readContext:$i,use:Lb,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useLayoutEffect:Bn,useInsertionEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useSyncExternalStore:Bn,useId:Bn,useHostTransitionStatus:Bn,useFormState:Bn,useActionState:Bn,useOptimistic:Bn,useMemoCache:Bn,useCacheRefresh:Bn},BI={readContext:$i,use:Lb,useCallback:function(r,o){return bs().memoizedState=[r,o===void 0?null:o],r},useContext:$i,useEffect:SI,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Ub(4194308,4,CI.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Ub(4194308,4,r,o)},useInsertionEffect:function(r,o){Ub(4,2,r,o)},useMemo:function(r,o){var u=bs();o=o===void 0?null:o;var f=r();if(Cu){Xe(!0);try{r()}finally{Xe(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=bs();if(u!==void 0){var y=u(o);if(Cu){Xe(!0);try{u(o)}finally{Xe(!1)}}}else y=o;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=W5.bind(null,he,r),[f.memoizedState,r]},useRef:function(r){var o=bs();return r={current:r},o.memoizedState=r},useState:function(r){r=mS(r);var o=r.queue,u=FI.bind(null,he,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:vS,useDeferredValue:function(r,o){var u=bs();return bS(u,r,o)},useTransition:function(){var r=mS(!1);return r=MI.bind(null,he,r.queue,!0,!1),bs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=he,y=bs();if(Ne){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),dn===null)throw Error(n(349));(Te&124)!==0||oI(f,o,u)}y.memoizedState=u;var _={value:u,getSnapshot:o};return y.queue=_,SI(cI.bind(null,f,_,r),[r]),f.flags|=2048,Fd(9,Vb(),lI.bind(null,f,_,u,o),null),u},useId:function(){var r=bs(),o=dn.identifierPrefix;if(Ne){var u=vo,f=yo;u=(f&~(1<<32-Oe(f)-1)).toString(32)+u,o=""+o+"R"+u,u=Nb++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=z5++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:ES,useFormState:vI,useActionState:vI,useOptimistic:function(r){var o=bs();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=AS.bind(null,he,!0,u),u.dispatch=o,[r,o]},useMemoCache:fS,useCacheRefresh:function(){return bs().memoizedState=G5.bind(null,he)}},zI={readContext:$i,use:Lb,useCallback:II,useContext:$i,useEffect:wI,useImperativeHandle:RI,useInsertionEffect:TI,useLayoutEffect:xI,useMemo:kI,useReducer:Fb,useRef:AI,useState:function(){return Fb(Eo)},useDebugValue:vS,useDeferredValue:function(r,o){var u=Qn();return PI(u,Ze.memoizedState,r,o)},useTransition:function(){var r=Fb(Eo)[0],o=Qn().memoizedState;return[typeof r=="boolean"?r:Vg(r),o]},useSyncExternalStore:aI,useId:NI,useHostTransitionStatus:ES,useFormState:bI,useActionState:bI,useOptimistic:function(r,o){var u=Qn();return dI(u,Ze,r,o)},useMemoCache:fS,useCacheRefresh:LI},K5={readContext:$i,use:Lb,useCallback:II,useContext:$i,useEffect:wI,useImperativeHandle:RI,useInsertionEffect:TI,useLayoutEffect:xI,useMemo:kI,useReducer:gS,useRef:AI,useState:function(){return gS(Eo)},useDebugValue:vS,useDeferredValue:function(r,o){var u=Qn();return Ze===null?bS(u,r,o):PI(u,Ze.memoizedState,r,o)},useTransition:function(){var r=gS(Eo)[0],o=Qn().memoizedState;return[typeof r=="boolean"?r:Vg(r),o]},useSyncExternalStore:aI,useId:NI,useHostTransitionStatus:ES,useFormState:EI,useActionState:EI,useOptimistic:function(r,o){var u=Qn();return Ze!==null?dI(u,Ze,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:fS,useCacheRefresh:LI},Vd=null,zg=0;function jb(r){var o=zg;return zg+=1,Vd===null&&(Vd=[]),ZR(Vd,r,o)}function jg(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Hb(r,o){throw o.$$typeof===v?Error(n(525)):(r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function jI(r){var o=r._init;return o(r._payload)}function HI(r){function o(J,Z){if(r){var et=J.deletions;et===null?(J.deletions=[Z],J.flags|=16):et.push(Z)}}function u(J,Z){if(!r)return null;for(;Z!==null;)o(J,Z),Z=Z.sibling;return null}function f(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function y(J,Z){return J=mo(J,Z),J.index=0,J.sibling=null,J}function _(J,Z,et){return J.index=et,r?(et=J.alternate,et!==null?(et=et.index,et<Z?(J.flags|=67108866,Z):et):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function k(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function H(J,Z,et,gt){return Z===null||Z.tag!==6?(Z=HA(et,J.mode,gt),Z.return=J,Z):(Z=y(Z,et),Z.return=J,Z)}function X(J,Z,et,gt){var Pt=et.type;return Pt===A?pt(J,Z,et.props.children,gt,et.key):Z!==null&&(Z.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===I&&jI(Pt)===Z.type)?(Z=y(Z,et.props),jg(Z,et),Z.return=J,Z):(Z=Tb(et.type,et.key,et.props,null,J.mode,gt),jg(Z,et),Z.return=J,Z)}function it(J,Z,et,gt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==et.containerInfo||Z.stateNode.implementation!==et.implementation?(Z=$A(et,J.mode,gt),Z.return=J,Z):(Z=y(Z,et.children||[]),Z.return=J,Z)}function pt(J,Z,et,gt,Pt){return Z===null||Z.tag!==7?(Z=bu(et,J.mode,gt,Pt),Z.return=J,Z):(Z=y(Z,et),Z.return=J,Z)}function mt(J,Z,et){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=HA(""+Z,J.mode,et),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return et=Tb(Z.type,Z.key,Z.props,null,J.mode,et),jg(et,Z),et.return=J,et;case E:return Z=$A(Z,J.mode,et),Z.return=J,Z;case I:var gt=Z._init;return Z=gt(Z._payload),mt(J,Z,et)}if(nt(Z)||q(Z))return Z=bu(Z,J.mode,et,null),Z.return=J,Z;if(typeof Z.then=="function")return mt(J,jb(Z),et);if(Z.$$typeof===M)return mt(J,Ib(J,Z),et);Hb(J,Z)}return null}function ot(J,Z,et,gt){var Pt=Z!==null?Z.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Pt!==null?null:H(J,Z,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return et.key===Pt?X(J,Z,et,gt):null;case E:return et.key===Pt?it(J,Z,et,gt):null;case I:return Pt=et._init,et=Pt(et._payload),ot(J,Z,et,gt)}if(nt(et)||q(et))return Pt!==null?null:pt(J,Z,et,gt,null);if(typeof et.then=="function")return ot(J,Z,jb(et),gt);if(et.$$typeof===M)return ot(J,Z,Ib(J,et),gt);Hb(J,et)}return null}function lt(J,Z,et,gt,Pt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return J=J.get(et)||null,H(Z,J,""+gt,Pt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case b:return J=J.get(gt.key===null?et:gt.key)||null,X(Z,J,gt,Pt);case E:return J=J.get(gt.key===null?et:gt.key)||null,it(Z,J,gt,Pt);case I:var ge=gt._init;return gt=ge(gt._payload),lt(J,Z,et,gt,Pt)}if(nt(gt)||q(gt))return J=J.get(et)||null,pt(Z,J,gt,Pt,null);if(typeof gt.then=="function")return lt(J,Z,et,jb(gt),Pt);if(gt.$$typeof===M)return lt(J,Z,et,Ib(Z,gt),Pt);Hb(Z,gt)}return null}function Zt(J,Z,et,gt){for(var Pt=null,ge=null,Ut=Z,Yt=Z=0,Ai=null;Ut!==null&&Yt<et.length;Yt++){Ut.index>Yt?(Ai=Ut,Ut=null):Ai=Ut.sibling;var Me=ot(J,Ut,et[Yt],gt);if(Me===null){Ut===null&&(Ut=Ai);break}r&&Ut&&Me.alternate===null&&o(J,Ut),Z=_(Me,Z,Yt),ge===null?Pt=Me:ge.sibling=Me,ge=Me,Ut=Ai}if(Yt===et.length)return u(J,Ut),Ne&&Eu(J,Yt),Pt;if(Ut===null){for(;Yt<et.length;Yt++)Ut=mt(J,et[Yt],gt),Ut!==null&&(Z=_(Ut,Z,Yt),ge===null?Pt=Ut:ge.sibling=Ut,ge=Ut);return Ne&&Eu(J,Yt),Pt}for(Ut=f(Ut);Yt<et.length;Yt++)Ai=lt(Ut,J,Yt,et[Yt],gt),Ai!==null&&(r&&Ai.alternate!==null&&Ut.delete(Ai.key===null?Yt:Ai.key),Z=_(Ai,Z,Yt),ge===null?Pt=Ai:ge.sibling=Ai,ge=Ai);return r&&Ut.forEach(function(tc){return o(J,tc)}),Ne&&Eu(J,Yt),Pt}function $t(J,Z,et,gt){if(et==null)throw Error(n(151));for(var Pt=null,ge=null,Ut=Z,Yt=Z=0,Ai=null,Me=et.next();Ut!==null&&!Me.done;Yt++,Me=et.next()){Ut.index>Yt?(Ai=Ut,Ut=null):Ai=Ut.sibling;var tc=ot(J,Ut,Me.value,gt);if(tc===null){Ut===null&&(Ut=Ai);break}r&&Ut&&tc.alternate===null&&o(J,Ut),Z=_(tc,Z,Yt),ge===null?Pt=tc:ge.sibling=tc,ge=tc,Ut=Ai}if(Me.done)return u(J,Ut),Ne&&Eu(J,Yt),Pt;if(Ut===null){for(;!Me.done;Yt++,Me=et.next())Me=mt(J,Me.value,gt),Me!==null&&(Z=_(Me,Z,Yt),ge===null?Pt=Me:ge.sibling=Me,ge=Me);return Ne&&Eu(J,Yt),Pt}for(Ut=f(Ut);!Me.done;Yt++,Me=et.next())Me=lt(Ut,J,Yt,Me.value,gt),Me!==null&&(r&&Me.alternate!==null&&Ut.delete(Me.key===null?Yt:Me.key),Z=_(Me,Z,Yt),ge===null?Pt=Me:ge.sibling=Me,ge=Me);return r&&Ut.forEach(function(Y6){return o(J,Y6)}),Ne&&Eu(J,Yt),Pt}function tn(J,Z,et,gt){if(typeof et=="object"&&et!==null&&et.type===A&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case b:t:{for(var Pt=et.key;Z!==null;){if(Z.key===Pt){if(Pt=et.type,Pt===A){if(Z.tag===7){u(J,Z.sibling),gt=y(Z,et.props.children),gt.return=J,J=gt;break t}}else if(Z.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===I&&jI(Pt)===Z.type){u(J,Z.sibling),gt=y(Z,et.props),jg(gt,et),gt.return=J,J=gt;break t}u(J,Z);break}else o(J,Z);Z=Z.sibling}et.type===A?(gt=bu(et.props.children,J.mode,gt,et.key),gt.return=J,J=gt):(gt=Tb(et.type,et.key,et.props,null,J.mode,gt),jg(gt,et),gt.return=J,J=gt)}return k(J);case E:t:{for(Pt=et.key;Z!==null;){if(Z.key===Pt)if(Z.tag===4&&Z.stateNode.containerInfo===et.containerInfo&&Z.stateNode.implementation===et.implementation){u(J,Z.sibling),gt=y(Z,et.children||[]),gt.return=J,J=gt;break t}else{u(J,Z);break}else o(J,Z);Z=Z.sibling}gt=$A(et,J.mode,gt),gt.return=J,J=gt}return k(J);case I:return Pt=et._init,et=Pt(et._payload),tn(J,Z,et,gt)}if(nt(et))return Zt(J,Z,et,gt);if(q(et)){if(Pt=q(et),typeof Pt!="function")throw Error(n(150));return et=Pt.call(et),$t(J,Z,et,gt)}if(typeof et.then=="function")return tn(J,Z,jb(et),gt);if(et.$$typeof===M)return tn(J,Z,Ib(J,et),gt);Hb(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Z!==null&&Z.tag===6?(u(J,Z.sibling),gt=y(Z,et),gt.return=J,J=gt):(u(J,Z),gt=HA(et,J.mode,gt),gt.return=J,J=gt),k(J)):u(J,Z)}return function(J,Z,et,gt){try{zg=0;var Pt=tn(J,Z,et,gt);return Vd=null,Pt}catch(Ut){if(Ut===Mg||Ut===Pb)throw Ut;var ge=Ds(29,Ut,null,J.mode);return ge.lanes=gt,ge.return=J,ge}finally{}}}var Ud=HI(!0),$I=HI(!1),ur=rt(null),fa=null;function Ul(r){var o=r.alternate;st(ci,ci.current&1),st(ur,r),fa===null&&(o===null||Dd.current!==null||o.memoizedState!==null)&&(fa=r)}function qI(r){if(r.tag===22){if(st(ci,ci.current),st(ur,r),fa===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(fa=r)}}else Bl()}function Bl(){st(ci,ci.current),st(ur,ur.current)}function Ao(r){ut(ur),fa===r&&(fa=null),ut(ci)}var ci=rt(0);function $b(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||dw(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function SS(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var wS={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=Vs(),y=Ll(f);y.payload=o,u!=null&&(y.callback=u),o=Fl(r,y,f),o!==null&&(Us(o,r,f),Dg(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=Vs(),y=Ll(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Fl(r,y,f),o!==null&&(Us(o,r,f),Dg(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Vs(),f=Ll(u);f.tag=2,o!=null&&(f.callback=o),o=Fl(r,f,u),o!==null&&(Us(o,r,u),Dg(o,r,u))}};function GI(r,o,u,f,y,_,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,k):o.prototype&&o.prototype.isPureReactComponent?!wg(u,f)||!wg(y,_):!0}function WI(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&wS.enqueueReplaceState(o,o.state,null)}function Ru(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}var qb=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function KI(r){qb(r)}function YI(r){console.error(r)}function XI(r){qb(r)}function Gb(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function QI(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function TS(r,o,u){return u=Ll(u),u.tag=3,u.payload={element:null},u.callback=function(){Gb(r,o)},u}function ZI(r){return r=Ll(r),r.tag=3,r}function JI(r,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=f.value;r.payload=function(){return y(_)},r.callback=function(){QI(o,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(r.callback=function(){QI(o,u,f),typeof y!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var H=f.stack;this.componentDidCatch(f.value,{componentStack:H!==null?H:""})})}function Y5(r,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Ig(o,u,y,!0),u=ur.current,u!==null){switch(u.tag){case 13:return fa===null?YS():u.alternate===null&&Dn===0&&(Dn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===tS?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),QS(r,f,y)),!1;case 22:return u.flags|=65536,f===tS?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),QS(r,f,y)),!1}throw Error(n(435,u.tag))}return QS(r,f,y),YS(),!1}if(Ne)return o=ur.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==WA&&(r=Error(n(422),{cause:f}),Rg(ar(r,u)))):(f!==WA&&(o=Error(n(423),{cause:f}),Rg(ar(o,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=ar(f,u),y=TS(r.stateNode,f,y),iS(r,y),Dn!==4&&(Dn=2)),!1;var _=Error(n(520),{cause:f});if(_=ar(_,u),Yg===null?Yg=[_]:Yg.push(_),Dn!==4&&(Dn=2),o===null)return!0;f=ar(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=TS(u.stateNode,f,r),iS(u,r),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Gl===null||!Gl.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=ZI(y),JI(y,r,u,f),iS(u,y),!1}u=u.return}while(u!==null);return!1}var t2=Error(n(461)),_i=!1;function Mi(r,o,u,f){o.child=r===null?$I(o,null,u,f):Ud(o,r.child,u,f)}function e2(r,o,u,f,y){u=u.render;var _=o.ref;if("ref"in f){var k={};for(var H in f)H!=="ref"&&(k[H]=f[H])}else k=f;return Tu(o),f=lS(r,o,u,k,_,y),H=cS(),r!==null&&!_i?(uS(r,o,y),So(r,o,y)):(Ne&&H&&qA(o),o.flags|=1,Mi(r,o,f,y),o.child)}function n2(r,o,u,f,y){if(r===null){var _=u.type;return typeof _=="function"&&!jA(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,i2(r,o,_,f,y)):(r=Tb(u.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(_=r.child,!OS(r,y)){var k=_.memoizedProps;if(u=u.compare,u=u!==null?u:wg,u(k,f)&&r.ref===o.ref)return So(r,o,y)}return o.flags|=1,r=mo(_,f),r.ref=o.ref,r.return=o,o.child=r}function i2(r,o,u,f,y){if(r!==null){var _=r.memoizedProps;if(wg(_,f)&&r.ref===o.ref)if(_i=!1,o.pendingProps=f=_,OS(r,y))(r.flags&131072)!==0&&(_i=!0);else return o.lanes=r.lanes,So(r,o,y)}return xS(r,o,u,f,y)}function s2(r,o,u){var f=o.pendingProps,y=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=_!==null?_.baseLanes|u:u,r!==null){for(y=o.child=r.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;o.childLanes=_&~f}else o.childLanes=0,o.child=null;return r2(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&kb(o,_!==null?_.cachePool:null),_!==null?iI(o,_):rS(),qI(o);else return o.lanes=o.childLanes=536870912,r2(r,o,_!==null?_.baseLanes|u:u,u)}else _!==null?(kb(o,_.cachePool),iI(o,_),Bl(),o.memoizedState=null):(r!==null&&kb(o,null),rS(),Bl());return Mi(r,o,y,u),o.child}function r2(r,o,u,f){var y=JA();return y=y===null?null:{parent:li._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},r!==null&&kb(o,null),rS(),qI(o),r!==null&&Ig(r,o,f,!0),null}function Wb(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function xS(r,o,u,f,y){return Tu(o),u=lS(r,o,u,f,void 0,y),f=cS(),r!==null&&!_i?(uS(r,o,y),So(r,o,y)):(Ne&&f&&qA(o),o.flags|=1,Mi(r,o,u,y),o.child)}function a2(r,o,u,f,y,_){return Tu(o),o.updateQueue=null,u=rI(o,f,u,y),sI(r),f=cS(),r!==null&&!_i?(uS(r,o,_),So(r,o,_)):(Ne&&f&&qA(o),o.flags|=1,Mi(r,o,u,_),o.child)}function o2(r,o,u,f,y){if(Tu(o),o.stateNode===null){var _=Id,k=u.contextType;typeof k=="object"&&k!==null&&(_=$i(k)),_=new u(f,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=wS,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=f,_.state=o.memoizedState,_.refs={},eS(o),k=u.contextType,_.context=typeof k=="object"&&k!==null?$i(k):Id,_.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(SS(o,u,k,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(k=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),k!==_.state&&wS.enqueueReplaceState(_,_.state,null),Lg(o,f,_,y),Ng(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){_=o.stateNode;var H=o.memoizedProps,X=Ru(u,H);_.props=X;var it=_.context,pt=u.contextType;k=Id,typeof pt=="object"&&pt!==null&&(k=$i(pt));var mt=u.getDerivedStateFromProps;pt=typeof mt=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,pt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||it!==k)&&WI(o,_,f,k),Nl=!1;var ot=o.memoizedState;_.state=ot,Lg(o,f,_,y),Ng(),it=o.memoizedState,H||ot!==it||Nl?(typeof mt=="function"&&(SS(o,u,mt,f),it=o.memoizedState),(X=Nl||GI(o,u,X,f,ot,it,k))?(pt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=it),_.props=f,_.state=it,_.context=k,f=X):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{_=o.stateNode,nS(r,o),k=o.memoizedProps,pt=Ru(u,k),_.props=pt,mt=o.pendingProps,ot=_.context,it=u.contextType,X=Id,typeof it=="object"&&it!==null&&(X=$i(it)),H=u.getDerivedStateFromProps,(it=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==mt||ot!==X)&&WI(o,_,f,X),Nl=!1,ot=o.memoizedState,_.state=ot,Lg(o,f,_,y),Ng();var lt=o.memoizedState;k!==mt||ot!==lt||Nl||r!==null&&r.dependencies!==null&&Rb(r.dependencies)?(typeof H=="function"&&(SS(o,u,H,f),lt=o.memoizedState),(pt=Nl||GI(o,u,pt,f,ot,lt,X)||r!==null&&r.dependencies!==null&&Rb(r.dependencies))?(it||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,lt,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,lt,X)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=lt),_.props=f,_.state=lt,_.context=X,f=pt):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=1024),f=!1)}return _=f,Wb(r,o),f=(o.flags&128)!==0,_||f?(_=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,r!==null&&f?(o.child=Ud(o,r.child,null,y),o.child=Ud(o,null,u,y)):Mi(r,o,u,y),o.memoizedState=_.state,r=o.child):r=So(r,o,y),r}function l2(r,o,u,f){return Cg(),o.flags|=256,Mi(r,o,u,f),o.child}var CS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function RS(r){return{baseLanes:r,cachePool:YR()}}function IS(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=hr),r}function c2(r,o,u){var f=o.pendingProps,y=!1,_=(o.flags&128)!==0,k;if((k=_)||(k=r!==null&&r.memoizedState===null?!1:(ci.current&2)!==0),k&&(y=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ne){if(y?Ul(o):Bl(),Ne){var H=On,X;if(X=H){t:{for(X=H,H=da;X.nodeType!==8;){if(!H){H=null;break t}if(X=kr(X.nextSibling),X===null){H=null;break t}}H=X}H!==null?(o.memoizedState={dehydrated:H,treeContext:_u!==null?{id:yo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},X=Ds(18,null,null,0),X.stateNode=H,X.return=o,o.child=X,hs=o,On=null,X=!0):X=!1}X||Su(o)}if(H=o.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return dw(H)?o.lanes=32:o.lanes=536870912,null;Ao(o)}return H=f.children,f=f.fallback,y?(Bl(),y=o.mode,H=Kb({mode:"hidden",children:H},y),f=bu(f,y,u,null),H.return=o,f.return=o,H.sibling=f,o.child=H,y=o.child,y.memoizedState=RS(u),y.childLanes=IS(r,k,u),o.memoizedState=CS,f):(Ul(o),kS(o,H))}if(X=r.memoizedState,X!==null&&(H=X.dehydrated,H!==null)){if(_)o.flags&256?(Ul(o),o.flags&=-257,o=PS(r,o,u)):o.memoizedState!==null?(Bl(),o.child=r.child,o.flags|=128,o=null):(Bl(),y=f.fallback,H=o.mode,f=Kb({mode:"visible",children:f.children},H),y=bu(y,H,u,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,Ud(o,r.child,null,u),f=o.child,f.memoizedState=RS(u),f.childLanes=IS(r,k,u),o.memoizedState=CS,o=y);else if(Ul(o),dw(H)){if(k=H.nextSibling&&H.nextSibling.dataset,k)var it=k.dgst;k=it,f=Error(n(419)),f.stack="",f.digest=k,Rg({value:f,source:null,stack:null}),o=PS(r,o,u)}else if(_i||Ig(r,o,u,!1),k=(u&r.childLanes)!==0,_i||k){if(k=dn,k!==null&&(f=u&-u,f=(f&42)!==0?1:Cl(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==X.retryLane))throw X.retryLane=f,Rd(r,f),Us(k,r,f),t2;H.data==="$?"||YS(),o=PS(r,o,u)}else H.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=X.treeContext,On=kr(H.nextSibling),hs=o,Ne=!0,Au=null,da=!1,r!==null&&(lr[cr++]=yo,lr[cr++]=vo,lr[cr++]=_u,yo=r.id,vo=r.overflow,_u=o),o=kS(o,f.children),o.flags|=4096);return o}return y?(Bl(),y=f.fallback,H=o.mode,X=r.child,it=X.sibling,f=mo(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,it!==null?y=mo(it,y):(y=bu(y,H,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,H=r.child.memoizedState,H===null?H=RS(u):(X=H.cachePool,X!==null?(it=li._currentValue,X=X.parent!==it?{parent:it,pool:it}:X):X=YR(),H={baseLanes:H.baseLanes|u,cachePool:X}),y.memoizedState=H,y.childLanes=IS(r,k,u),o.memoizedState=CS,f):(Ul(o),u=r.child,r=u.sibling,u=mo(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(k=o.deletions,k===null?(o.deletions=[r],o.flags|=16):k.push(r)),o.child=u,o.memoizedState=null,u)}function kS(r,o){return o=Kb({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Kb(r,o){return r=Ds(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function PS(r,o,u){return Ud(o,r.child,null,u),r=kS(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function u2(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),YA(r.return,o,u)}function MS(r,o,u,f,y){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=y)}function h2(r,o,u){var f=o.pendingProps,y=f.revealOrder,_=f.tail;if(Mi(r,o,f.children,u),f=ci.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&u2(r,u,o);else if(r.tag===19)u2(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(st(ci,f),y){case"forwards":for(u=o.child,y=null;u!==null;)r=u.alternate,r!==null&&$b(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),MS(o,!1,y,u,_);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&$b(r)===null){o.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}MS(o,!0,u,null,_);break;case"together":MS(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function So(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ql|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Ig(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,u=mo(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=mo(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function OS(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Rb(r)))}function X5(r,o,u){switch(o.tag){case 3:Bt(o,o.stateNode.containerInfo),Dl(o,li,r.memoizedState.cache),Cg();break;case 27:case 5:Et(o);break;case 4:Bt(o,o.stateNode.containerInfo);break;case 10:Dl(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ul(o),o.flags|=128,null):(u&o.child.childLanes)!==0?c2(r,o,u):(Ul(o),r=So(r,o,u),r!==null?r.sibling:null);Ul(o);break;case 19:var y=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Ig(r,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return h2(r,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),st(ci,ci.current),f)break;return null;case 22:case 23:return o.lanes=0,s2(r,o,u);case 24:Dl(o,li,r.memoizedState.cache)}return So(r,o,u)}function d2(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)_i=!0;else{if(!OS(r,u)&&(o.flags&128)===0)return _i=!1,X5(r,o,u);_i=(r.flags&131072)!==0}else _i=!1,Ne&&(o.flags&1048576)!==0&&jR(o,Cb,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")jA(f)?(r=Ru(f,r),o.tag=1,o=o2(null,o,f,r,u)):(o.tag=0,o=xS(null,o,f,r,u));else{if(f!=null){if(y=f.$$typeof,y===P){o.tag=11,o=e2(null,o,f,r,u);break t}else if(y===D){o.tag=14,o=n2(null,o,f,r,u);break t}}throw o=ct(f)||f,Error(n(306,o,""))}}return o;case 0:return xS(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=Ru(f,o.pendingProps),o2(r,o,f,y,u);case 3:t:{if(Bt(o,o.stateNode.containerInfo),r===null)throw Error(n(387));f=o.pendingProps;var _=o.memoizedState;y=_.element,nS(r,o),Lg(o,f,null,u);var k=o.memoizedState;if(f=k.cache,Dl(o,li,f),f!==_.cache&&XA(o,[li],u,!0),Ng(),f=k.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=l2(r,o,f,u);break t}else if(f!==y){y=ar(Error(n(424)),o),Rg(y),o=l2(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(On=kr(r.firstChild),hs=o,Ne=!0,Au=null,da=!0,u=$I(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Cg(),f===y){o=So(r,o,u);break t}Mi(r,o,f,u)}o=o.child}return o;case 26:return Wb(r,o),r===null?(u=mk(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ne||(u=o.type,r=o.pendingProps,f=l0(_t.current).createElement(u),f[ri]=o,f[Kn]=r,Di(f,u,r),Un(f),o.stateNode=f):o.memoizedState=mk(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Et(o),r===null&&Ne&&(f=o.stateNode=fk(o.type,o.pendingProps,_t.current),hs=o,da=!0,y=On,Yl(o.type)?(fw=y,On=kr(f.firstChild)):On=y),Mi(r,o,o.pendingProps.children,u),Wb(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ne&&((y=f=On)&&(f=w6(f,o.type,o.pendingProps,da),f!==null?(o.stateNode=f,hs=o,On=kr(f.firstChild),da=!1,y=!0):y=!1),y||Su(o)),Et(o),y=o.type,_=o.pendingProps,k=r!==null?r.memoizedProps:null,f=_.children,cw(y,_)?f=null:k!==null&&cw(y,k)&&(o.flags|=32),o.memoizedState!==null&&(y=lS(r,o,j5,null,null,u),sm._currentValue=y),Wb(r,o),Mi(r,o,f,u),o.child;case 6:return r===null&&Ne&&((r=u=On)&&(u=T6(u,o.pendingProps,da),u!==null?(o.stateNode=u,hs=o,On=null,r=!0):r=!1),r||Su(o)),null;case 13:return c2(r,o,u);case 4:return Bt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Ud(o,null,f,u):Mi(r,o,f,u),o.child;case 11:return e2(r,o,o.type,o.pendingProps,u);case 7:return Mi(r,o,o.pendingProps,u),o.child;case 8:return Mi(r,o,o.pendingProps.children,u),o.child;case 12:return Mi(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Dl(o,o.type,f.value),Mi(r,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Tu(o),y=$i(y),f=f(y),o.flags|=1,Mi(r,o,f,u),o.child;case 14:return n2(r,o,o.type,o.pendingProps,u);case 15:return i2(r,o,o.type,o.pendingProps,u);case 19:return h2(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=Kb(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=mo(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return s2(r,o,u);case 24:return Tu(o),f=$i(li),r===null?(y=JA(),y===null&&(y=dn,_=QA(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),o.memoizedState={parent:f,cache:y},eS(o),Dl(o,li,y)):((r.lanes&u)!==0&&(nS(r,o),Lg(o,null,null,u),Ng()),y=r.memoizedState,_=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Dl(o,li,f)):(f=_.cache,Dl(o,li,f),f!==y.cache&&XA(o,[li],u,!0))),Mi(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function wo(r){r.flags|=4}function f2(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ek(o)){if(o=ur.current,o!==null&&((Te&4194048)===Te?fa!==null:(Te&62914560)!==Te&&(Te&536870912)===0||o!==fa))throw Og=tS,XR;r.flags|=8192}}function Yb(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?ag():536870912,r.lanes|=o,Hd|=o)}function Hg(r,o){if(!Ne)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Sn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function Q5(r,o,u){var f=o.pendingProps;switch(GA(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(o),null;case 1:return Sn(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),_o(li),jt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(xg(o)?wo(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qR())),Sn(o),null;case 26:return u=o.memoizedState,r===null?(wo(o),u!==null?(Sn(o),f2(o,u)):(Sn(o),o.flags&=-16777217)):u?u!==r.memoizedState?(wo(o),Sn(o),f2(o,u)):(Sn(o),o.flags&=-16777217):(r.memoizedProps!==f&&wo(o),Sn(o),o.flags&=-16777217),null;case 27:Ht(o),u=_t.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&wo(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Sn(o),null}r=vt.current,xg(o)?HR(o):(r=fk(y,f,u),o.stateNode=r,wo(o))}return Sn(o),null;case 5:if(Ht(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&wo(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Sn(o),null}if(r=vt.current,xg(o))HR(o);else{switch(y=l0(_t.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}r[ri]=o,r[Kn]=f;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;t:switch(Di(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&wo(o)}}return Sn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&wo(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(r=_t.current,xg(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,y=hs,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[ri]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||ak(r.nodeValue,u)),r||Su(o)}else r=l0(r).createTextNode(f),r[ri]=o,o.stateNode=r}return Sn(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=xg(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[ri]=o}else Cg(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Sn(o),y=!1}else y=qR(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ao(o),o):(Ao(o),null)}if(Ao(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==y&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Yb(o,o.updateQueue),Sn(o),null;case 4:return jt(),r===null&&sw(o.stateNode.containerInfo),Sn(o),null;case 10:return _o(o.type),Sn(o),null;case 19:if(ut(ci),y=o.memoizedState,y===null)return Sn(o),null;if(f=(o.flags&128)!==0,_=y.rendering,_===null)if(f)Hg(y,!1);else{if(Dn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(_=$b(r),_!==null){for(o.flags|=128,Hg(y,!1),r=_.updateQueue,o.updateQueue=r,Yb(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)zR(u,r),u=u.sibling;return st(ci,ci.current&1|2),o.child}r=r.sibling}y.tail!==null&&fe()>Zb&&(o.flags|=128,f=!0,Hg(y,!1),o.lanes=4194304)}else{if(!f)if(r=$b(_),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Yb(o,r),Hg(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Ne)return Sn(o),null}else 2*fe()-y.renderingStartTime>Zb&&u!==536870912&&(o.flags|=128,f=!0,Hg(y,!1),o.lanes=4194304);y.isBackwards?(_.sibling=o.child,o.child=_):(r=y.last,r!==null?r.sibling=_:o.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=fe(),o.sibling=null,r=ci.current,st(ci,f?r&1|2:r&1),o):(Sn(o),null);case 22:case 23:return Ao(o),aS(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Sn(o),o.subtreeFlags&6&&(o.flags|=8192)):Sn(o),u=o.updateQueue,u!==null&&Yb(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&ut(xu),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),_o(li),Sn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function Z5(r,o){switch(GA(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return _o(li),jt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ht(o),null;case 13:if(Ao(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Cg()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ut(ci),null;case 4:return jt(),null;case 10:return _o(o.type),null;case 22:case 23:return Ao(o),aS(),r!==null&&ut(xu),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return _o(li),null;case 25:return null;default:return null}}function p2(r,o){switch(GA(o),o.tag){case 3:_o(li),jt();break;case 26:case 27:case 5:Ht(o);break;case 4:jt();break;case 13:Ao(o);break;case 19:ut(ci);break;case 10:_o(o.type);break;case 22:case 23:Ao(o),aS(),r!==null&&ut(xu);break;case 24:_o(li)}}function $g(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&r)===r){f=void 0;var _=u.create,k=u.inst;f=_(),k.destroy=f}u=u.next}while(u!==y)}}catch(H){an(o,o.return,H)}}function zl(r,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var _=y.next;f=_;do{if((f.tag&r)===r){var k=f.inst,H=k.destroy;if(H!==void 0){k.destroy=void 0,y=o;var X=u,it=H;try{it()}catch(pt){an(y,X,pt)}}}f=f.next}while(f!==_)}}catch(pt){an(o,o.return,pt)}}function g2(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{nI(o,u)}catch(f){an(r,r.return,f)}}}function m2(r,o,u){u.props=Ru(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){an(r,o,f)}}function qg(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(y){an(r,o,y)}}function pa(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){an(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){an(r,o,y)}else u.current=null}function y2(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){an(r,r.return,y)}}function DS(r,o,u){try{var f=r.stateNode;b6(f,r.type,u,o),f[Kn]=o}catch(y){an(r,r.return,y)}}function v2(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Yl(r.type)||r.tag===4}function NS(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||v2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Yl(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function LS(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=o0));else if(f!==4&&(f===27&&Yl(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(LS(r,o,u),r=r.sibling;r!==null;)LS(r,o,u),r=r.sibling}function Xb(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&Yl(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Xb(r,o,u),r=r.sibling;r!==null;)Xb(r,o,u),r=r.sibling}function b2(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Di(o,f,u),o[ri]=r,o[Kn]=u}catch(_){an(r,r.return,_)}}var To=!1,zn=!1,FS=!1,_2=typeof WeakSet=="function"?WeakSet:Set,Ei=null;function J5(r,o){if(r=r.containerInfo,ow=p0,r=PR(r),NA(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break t}var k=0,H=-1,X=-1,it=0,pt=0,mt=r,ot=null;e:for(;;){for(var lt;mt!==u||y!==0&&mt.nodeType!==3||(H=k+y),mt!==_||f!==0&&mt.nodeType!==3||(X=k+f),mt.nodeType===3&&(k+=mt.nodeValue.length),(lt=mt.firstChild)!==null;)ot=mt,mt=lt;for(;;){if(mt===r)break e;if(ot===u&&++it===y&&(H=k),ot===_&&++pt===f&&(X=k),(lt=mt.nextSibling)!==null)break;mt=ot,ot=mt.parentNode}mt=lt}u=H===-1||X===-1?null:{start:H,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(lw={focusedElem:r,selectionRange:u},p0=!1,Ei=o;Ei!==null;)if(o=Ei,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Ei=r;else for(;Ei!==null;){switch(o=Ei,_=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,u=o,y=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var Zt=Ru(u.type,y,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(Zt,_),f.__reactInternalSnapshotBeforeUpdate=r}catch($t){an(u,u.return,$t)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)hw(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":hw(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=o.sibling,r!==null){r.return=o.return,Ei=r;break}Ei=o.return}}function E2(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:jl(r,u),f&4&&$g(5,u);break;case 1:if(jl(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(k){an(u,u.return,k)}else{var y=Ru(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(k){an(u,u.return,k)}}f&64&&g2(u),f&512&&qg(u,u.return);break;case 3:if(jl(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{nI(r,o)}catch(k){an(u,u.return,k)}}break;case 27:o===null&&f&4&&b2(u);case 26:case 5:jl(r,u),o===null&&f&4&&y2(u),f&512&&qg(u,u.return);break;case 12:jl(r,u);break;case 13:jl(r,u),f&4&&w2(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=l6.bind(null,u),x6(r,u))));break;case 22:if(f=u.memoizedState!==null||To,!f){o=o!==null&&o.memoizedState!==null||zn,y=To;var _=zn;To=f,(zn=o)&&!_?Hl(r,u,(u.subtreeFlags&8772)!==0):jl(r,u),To=y,zn=_}break;case 30:break;default:jl(r,u)}}function A2(r){var o=r.alternate;o!==null&&(r.alternate=null,A2(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&kl(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bn=null,_s=!1;function xo(r,o,u){for(u=u.child;u!==null;)S2(r,o,u),u=u.sibling}function S2(r,o,u){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(Re,u)}catch{}switch(u.tag){case 26:zn||pa(u,o),xo(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zn||pa(u,o);var f=bn,y=_s;Yl(u.type)&&(bn=u.stateNode,_s=!1),xo(r,o,u),tm(u.stateNode),bn=f,_s=y;break;case 5:zn||pa(u,o);case 6:if(f=bn,y=_s,bn=null,xo(r,o,u),bn=f,_s=y,bn!==null)if(_s)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(u.stateNode)}catch(_){an(u,o,_)}else try{bn.removeChild(u.stateNode)}catch(_){an(u,o,_)}break;case 18:bn!==null&&(_s?(r=bn,hk(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),lm(r)):hk(bn,u.stateNode));break;case 4:f=bn,y=_s,bn=u.stateNode.containerInfo,_s=!0,xo(r,o,u),bn=f,_s=y;break;case 0:case 11:case 14:case 15:zn||zl(2,u,o),zn||zl(4,u,o),xo(r,o,u);break;case 1:zn||(pa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&m2(u,o,f)),xo(r,o,u);break;case 21:xo(r,o,u);break;case 22:zn=(f=zn)||u.memoizedState!==null,xo(r,o,u),zn=f;break;default:xo(r,o,u)}}function w2(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{lm(r)}catch(u){an(o,o.return,u)}}function t6(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new _2),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new _2),o;default:throw Error(n(435,r.tag))}}function VS(r,o){var u=t6(r);o.forEach(function(f){var y=c6.bind(null,r,f);u.has(f)||(u.add(f),f.then(y,y))})}function Ns(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],_=r,k=o,H=k;t:for(;H!==null;){switch(H.tag){case 27:if(Yl(H.type)){bn=H.stateNode,_s=!1;break t}break;case 5:bn=H.stateNode,_s=!1;break t;case 3:case 4:bn=H.stateNode.containerInfo,_s=!0;break t}H=H.return}if(bn===null)throw Error(n(160));S2(_,k,y),bn=null,_s=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)T2(o,r),o=o.sibling}var Ir=null;function T2(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ns(o,r),Ls(r),f&4&&(zl(3,r,r.return),$g(3,r),zl(5,r,r.return));break;case 1:Ns(o,r),Ls(r),f&512&&(zn||u===null||pa(u,u.return)),f&64&&To&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=Ir;if(Ns(o,r),Ls(r),f&512&&(zn||u===null||pa(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,y=y.ownerDocument||y;e:switch(f){case"title":_=y.getElementsByTagName("title")[0],(!_||_[iu]||_[ri]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(f),y.head.insertBefore(_,y.querySelector("head > title"))),Di(_,f,u),_[ri]=r,Un(_),f=_;break t;case"link":var k=bk("link","href",y).get(f+(u.href||""));if(k){for(var H=0;H<k.length;H++)if(_=k[H],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(H,1);break e}}_=y.createElement(f),Di(_,f,u),y.head.appendChild(_);break;case"meta":if(k=bk("meta","content",y).get(f+(u.content||""))){for(H=0;H<k.length;H++)if(_=k[H],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(H,1);break e}}_=y.createElement(f),Di(_,f,u),y.head.appendChild(_);break;default:throw Error(n(468,f))}_[ri]=r,Un(_),f=_}r.stateNode=f}else _k(y,r.type,r.stateNode);else r.stateNode=vk(y,f,r.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?_k(y,r.type,r.stateNode):vk(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&DS(r,r.memoizedProps,u.memoizedProps)}break;case 27:Ns(o,r),Ls(r),f&512&&(zn||u===null||pa(u,u.return)),u!==null&&f&4&&DS(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Ns(o,r),Ls(r),f&512&&(zn||u===null||pa(u,u.return)),r.flags&32){y=r.stateNode;try{nr(y,"")}catch(lt){an(r,r.return,lt)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,DS(r,y,u!==null?u.memoizedProps:y)),f&1024&&(FS=!0);break;case 6:if(Ns(o,r),Ls(r),f&4){if(r.stateNode===null)throw Error(n(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(lt){an(r,r.return,lt)}}break;case 3:if(h0=null,y=Ir,Ir=c0(o.containerInfo),Ns(o,r),Ir=y,Ls(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{lm(o.containerInfo)}catch(lt){an(r,r.return,lt)}FS&&(FS=!1,x2(r));break;case 4:f=Ir,Ir=c0(r.stateNode.containerInfo),Ns(o,r),Ls(r),Ir=f;break;case 12:Ns(o,r),Ls(r);break;case 13:Ns(o,r),Ls(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&($S=fe()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,VS(r,f)));break;case 22:y=r.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,it=To,pt=zn;if(To=it||y,zn=pt||X,Ns(o,r),zn=pt,To=it,Ls(r),f&8192)t:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||X||To||zn||Iu(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){X=u=o;try{if(_=X.stateNode,y)k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{H=X.stateNode;var mt=X.memoizedProps.style,ot=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;H.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(lt){an(X,X.return,lt)}}}else if(o.tag===6){if(u===null){X=o;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(lt){an(X,X.return,lt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,VS(r,u))));break;case 19:Ns(o,r),Ls(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,VS(r,f)));break;case 30:break;case 21:break;default:Ns(o,r),Ls(r)}}function Ls(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(v2(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,_=NS(r);Xb(r,_,y);break;case 5:var k=u.stateNode;u.flags&32&&(nr(k,""),u.flags&=-33);var H=NS(r);Xb(r,H,k);break;case 3:case 4:var X=u.stateNode.containerInfo,it=NS(r);LS(r,it,X);break;default:throw Error(n(161))}}catch(pt){an(r,r.return,pt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function x2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;x2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function jl(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)E2(r,o.alternate,o),o=o.sibling}function Iu(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:zl(4,o,o.return),Iu(o);break;case 1:pa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&m2(o,o.return,u),Iu(o);break;case 27:tm(o.stateNode);case 26:case 5:pa(o,o.return),Iu(o);break;case 22:o.memoizedState===null&&Iu(o);break;case 30:Iu(o);break;default:Iu(o)}r=r.sibling}}function Hl(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=r,_=o,k=_.flags;switch(_.tag){case 0:case 11:case 15:Hl(y,_,u),$g(4,_);break;case 1:if(Hl(y,_,u),f=_,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(it){an(f,f.return,it)}if(f=_,y=f.updateQueue,y!==null){var H=f.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)eI(X[y],H)}catch(it){an(f,f.return,it)}}u&&k&64&&g2(_),qg(_,_.return);break;case 27:b2(_);case 26:case 5:Hl(y,_,u),u&&f===null&&k&4&&y2(_),qg(_,_.return);break;case 12:Hl(y,_,u);break;case 13:Hl(y,_,u),u&&k&4&&w2(y,_);break;case 22:_.memoizedState===null&&Hl(y,_,u),qg(_,_.return);break;case 30:break;default:Hl(y,_,u)}o=o.sibling}}function US(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&kg(u))}function BS(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&kg(r))}function ga(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)C2(r,o,u,f),o=o.sibling}function C2(r,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ga(r,o,u,f),y&2048&&$g(9,o);break;case 1:ga(r,o,u,f);break;case 3:ga(r,o,u,f),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&kg(r)));break;case 12:if(y&2048){ga(r,o,u,f),r=o.stateNode;try{var _=o.memoizedProps,k=_.id,H=_.onPostCommit;typeof H=="function"&&H(k,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(X){an(o,o.return,X)}}else ga(r,o,u,f);break;case 13:ga(r,o,u,f);break;case 23:break;case 22:_=o.stateNode,k=o.alternate,o.memoizedState!==null?_._visibility&2?ga(r,o,u,f):Gg(r,o):_._visibility&2?ga(r,o,u,f):(_._visibility|=2,Bd(r,o,u,f,(o.subtreeFlags&10256)!==0)),y&2048&&US(k,o);break;case 24:ga(r,o,u,f),y&2048&&BS(o.alternate,o);break;default:ga(r,o,u,f)}}function Bd(r,o,u,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=r,k=o,H=u,X=f,it=k.flags;switch(k.tag){case 0:case 11:case 15:Bd(_,k,H,X,y),$g(8,k);break;case 23:break;case 22:var pt=k.stateNode;k.memoizedState!==null?pt._visibility&2?Bd(_,k,H,X,y):Gg(_,k):(pt._visibility|=2,Bd(_,k,H,X,y)),y&&it&2048&&US(k.alternate,k);break;case 24:Bd(_,k,H,X,y),y&&it&2048&&BS(k.alternate,k);break;default:Bd(_,k,H,X,y)}o=o.sibling}}function Gg(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,y=f.flags;switch(f.tag){case 22:Gg(u,f),y&2048&&US(f.alternate,f);break;case 24:Gg(u,f),y&2048&&BS(f.alternate,f);break;default:Gg(u,f)}o=o.sibling}}var Wg=8192;function zd(r){if(r.subtreeFlags&Wg)for(r=r.child;r!==null;)R2(r),r=r.sibling}function R2(r){switch(r.tag){case 26:zd(r),r.flags&Wg&&r.memoizedState!==null&&U6(Ir,r.memoizedState,r.memoizedProps);break;case 5:zd(r);break;case 3:case 4:var o=Ir;Ir=c0(r.stateNode.containerInfo),zd(r),Ir=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Wg,Wg=16777216,zd(r),Wg=o):zd(r));break;default:zd(r)}}function I2(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Kg(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Ei=f,P2(f,r)}I2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k2(r),r=r.sibling}function k2(r){switch(r.tag){case 0:case 11:case 15:Kg(r),r.flags&2048&&zl(9,r,r.return);break;case 3:Kg(r);break;case 12:Kg(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Qb(r)):Kg(r);break;default:Kg(r)}}function Qb(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Ei=f,P2(f,r)}I2(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:zl(8,o,o.return),Qb(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Qb(o));break;default:Qb(o)}r=r.sibling}}function P2(r,o){for(;Ei!==null;){var u=Ei;switch(u.tag){case 0:case 11:case 15:zl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:kg(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Ei=f;else t:for(u=r;Ei!==null;){f=Ei;var y=f.sibling,_=f.return;if(A2(f),f===u){Ei=null;break t}if(y!==null){y.return=_,Ei=y;break t}Ei=_}}}var e6={getCacheForType:function(r){var o=$i(li),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},n6=typeof WeakMap=="function"?WeakMap:Map,$e=0,dn=null,ve=null,Te=0,qe=0,Fs=null,$l=!1,jd=!1,zS=!1,Co=0,Dn=0,ql=0,ku=0,jS=0,hr=0,Hd=0,Yg=null,Es=null,HS=!1,$S=0,Zb=1/0,Jb=null,Gl=null,Oi=0,Wl=null,$d=null,qd=0,qS=0,GS=null,M2=null,Xg=0,WS=null;function Vs(){if(($e&2)!==0&&Te!==0)return Te&-Te;if(Y.T!==null){var r=Md;return r!==0?r:tw()}return Rl()}function O2(){hr===0&&(hr=(Te&536870912)===0||Ne?xl():536870912);var r=ur.current;return r!==null&&(r.flags|=32),hr}function Us(r,o,u){(r===dn&&(qe===2||qe===9)||r.cancelPendingCommit!==null)&&(Gd(r,0),Kl(r,Te,hr,!1)),so(r,u),(($e&2)===0||r!==dn)&&(r===dn&&(($e&2)===0&&(ku|=u),Dn===4&&Kl(r,Te,hr,!1)),ma(r))}function D2(r,o,u){if(($e&6)!==0)throw Error(n(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||gn(r,o),y=f?r6(r,o):XS(r,o,!0),_=f;do{if(y===0){jd&&!f&&Kl(r,o,0,!1);break}else{if(u=r.current.alternate,_&&!i6(u)){y=XS(r,o,!1),_=!1;continue}if(y===2){if(_=o,r.errorRecoveryDisabledLanes&_)var k=0;else k=r.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;t:{var H=r;y=Yg;var X=H.current.memoizedState.isDehydrated;if(X&&(Gd(H,k).flags|=256),k=XS(H,k,!1),k!==2){if(zS&&!X){H.errorRecoveryDisabledLanes|=_,ku|=_,y=4;break t}_=Es,Es=y,_!==null&&(Es===null?Es=_:Es.push.apply(Es,_))}y=k}if(_=!1,y!==2)continue}}if(y===1){Gd(r,0),Kl(r,o,0,!0);break}t:{switch(f=r,_=y,_){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Kl(f,o,hr,!$l);break t;case 2:Es=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=$S+300-fe(),10<y)){if(Kl(f,o,hr,!$l),Pe(f,0,!0)!==0)break t;f.timeoutHandle=ck(N2.bind(null,f,u,Es,Jb,HS,o,hr,ku,Hd,$l,_,2,-0,0),y);break t}N2(f,u,Es,Jb,HS,o,hr,ku,Hd,$l,_,0,-0,0)}}break}while(!0);ma(r)}function N2(r,o,u,f,y,_,k,H,X,it,pt,mt,ot,lt){if(r.timeoutHandle=-1,mt=o.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(im={stylesheets:null,count:0,unsuspend:V6},R2(o),mt=B6(),mt!==null)){r.cancelPendingCommit=mt(j2.bind(null,r,o,_,u,f,y,k,H,X,pt,1,ot,lt)),Kl(r,_,k,!it);return}j2(r,o,_,u,f,y,k,H,X)}function i6(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],_=y.getSnapshot;y=y.value;try{if(!Os(_(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Kl(r,o,u,f){o&=~jS,o&=~ku,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var y=o;0<y;){var _=31-Oe(y),k=1<<_;f[_]=-1,y&=~k}u!==0&&ea(r,u,o)}function t0(){return($e&6)===0?(Qg(0),!1):!0}function KS(){if(ve!==null){if(qe===0)var r=ve.return;else r=ve,bo=wu=null,hS(r),Vd=null,zg=0,r=ve;for(;r!==null;)p2(r.alternate,r),r=r.return;ve=null}}function Gd(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,E6(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),KS(),dn=r,ve=u=mo(r.current,null),Te=o,qe=0,Fs=null,$l=!1,jd=gn(r,o),zS=!1,Hd=hr=jS=ku=ql=Dn=0,Es=Yg=null,HS=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var y=31-Oe(f),_=1<<y;o|=r[y],f&=~_}return Co=o,Ab(),u}function L2(r,o){he=null,Y.H=zb,o===Mg||o===Pb?(o=JR(),qe=3):o===XR?(o=JR(),qe=4):qe=o===t2?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Fs=o,ve===null&&(Dn=1,Gb(r,ar(o,r.current)))}function F2(){var r=Y.H;return Y.H=zb,r===null?zb:r}function V2(){var r=Y.A;return Y.A=e6,r}function YS(){Dn=4,$l||(Te&4194048)!==Te&&ur.current!==null||(jd=!0),(ql&134217727)===0&&(ku&134217727)===0||dn===null||Kl(dn,Te,hr,!1)}function XS(r,o,u){var f=$e;$e|=2;var y=F2(),_=V2();(dn!==r||Te!==o)&&(Jb=null,Gd(r,o)),o=!1;var k=Dn;t:do try{if(qe!==0&&ve!==null){var H=ve,X=Fs;switch(qe){case 8:KS(),k=6;break t;case 3:case 2:case 9:case 6:ur.current===null&&(o=!0);var it=qe;if(qe=0,Fs=null,Wd(r,H,X,it),u&&jd){k=0;break t}break;default:it=qe,qe=0,Fs=null,Wd(r,H,X,it)}}s6(),k=Dn;break}catch(pt){L2(r,pt)}while(!0);return o&&r.shellSuspendCounter++,bo=wu=null,$e=f,Y.H=y,Y.A=_,ve===null&&(dn=null,Te=0,Ab()),k}function s6(){for(;ve!==null;)U2(ve)}function r6(r,o){var u=$e;$e|=2;var f=F2(),y=V2();dn!==r||Te!==o?(Jb=null,Zb=fe()+500,Gd(r,o)):jd=gn(r,o);t:do try{if(qe!==0&&ve!==null){o=ve;var _=Fs;e:switch(qe){case 1:qe=0,Fs=null,Wd(r,o,_,1);break;case 2:case 9:if(QR(_)){qe=0,Fs=null,B2(o);break}o=function(){qe!==2&&qe!==9||dn!==r||(qe=7),ma(r)},_.then(o,o);break t;case 3:qe=7;break t;case 4:qe=5;break t;case 7:QR(_)?(qe=0,Fs=null,B2(o)):(qe=0,Fs=null,Wd(r,o,_,7));break;case 5:var k=null;switch(ve.tag){case 26:k=ve.memoizedState;case 5:case 27:var H=ve;if(!k||Ek(k)){qe=0,Fs=null;var X=H.sibling;if(X!==null)ve=X;else{var it=H.return;it!==null?(ve=it,e0(it)):ve=null}break e}}qe=0,Fs=null,Wd(r,o,_,5);break;case 6:qe=0,Fs=null,Wd(r,o,_,6);break;case 8:KS(),Dn=6;break t;default:throw Error(n(462))}}a6();break}catch(pt){L2(r,pt)}while(!0);return bo=wu=null,Y.H=f,Y.A=y,$e=u,ve!==null?0:(dn=null,Te=0,Ab(),Dn)}function a6(){for(;ve!==null&&!Wt();)U2(ve)}function U2(r){var o=d2(r.alternate,r,Co);r.memoizedProps=r.pendingProps,o===null?e0(r):ve=o}function B2(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=a2(u,o,o.pendingProps,o.type,void 0,Te);break;case 11:o=a2(u,o,o.pendingProps,o.type.render,o.ref,Te);break;case 5:hS(o);default:p2(u,o),o=ve=zR(o,Co),o=d2(u,o,Co)}r.memoizedProps=r.pendingProps,o===null?e0(r):ve=o}function Wd(r,o,u,f){bo=wu=null,hS(o),Vd=null,zg=0;var y=o.return;try{if(Y5(r,y,o,u,Te)){Dn=1,Gb(r,ar(u,r.current)),ve=null;return}}catch(_){if(y!==null)throw ve=y,_;Dn=1,Gb(r,ar(u,r.current)),ve=null;return}o.flags&32768?(Ne||f===1?r=!0:jd||(Te&536870912)!==0?r=!1:($l=r=!0,(f===2||f===9||f===3||f===6)&&(f=ur.current,f!==null&&f.tag===13&&(f.flags|=16384))),z2(o,r)):e0(o)}function e0(r){var o=r;do{if((o.flags&32768)!==0){z2(o,$l);return}r=o.return;var u=Q5(o.alternate,o,Co);if(u!==null){ve=u;return}if(o=o.sibling,o!==null){ve=o;return}ve=o=r}while(o!==null);Dn===0&&(Dn=5)}function z2(r,o){do{var u=Z5(r.alternate,r);if(u!==null){u.flags&=32767,ve=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){ve=r;return}ve=r=u}while(r!==null);Dn=6,ve=null}function j2(r,o,u,f,y,_,k,H,X){r.cancelPendingCommit=null;do n0();while(Oi!==0);if(($e&6)!==0)throw Error(n(327));if(o!==null){if(o===r.current)throw Error(n(177));if(_=o.lanes|o.childLanes,_|=BA,og(r,u,_,k,H,X),r===dn&&(ve=dn=null,Te=0),$d=o,Wl=r,qd=u,qS=_,GS=y,M2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,u6(pe,function(){return W2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,y=Q.p,Q.p=2,k=$e,$e|=4;try{J5(r,o,u)}finally{$e=k,Q.p=y,Y.T=f}}Oi=1,H2(),$2(),q2()}}function H2(){if(Oi===1){Oi=0;var r=Wl,o=$d,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var f=Q.p;Q.p=2;var y=$e;$e|=4;try{T2(o,r);var _=lw,k=PR(r.containerInfo),H=_.focusedElem,X=_.selectionRange;if(k!==H&&H&&H.ownerDocument&&kR(H.ownerDocument.documentElement,H)){if(X!==null&&NA(H)){var it=X.start,pt=X.end;if(pt===void 0&&(pt=it),"selectionStart"in H)H.selectionStart=it,H.selectionEnd=Math.min(pt,H.value.length);else{var mt=H.ownerDocument||document,ot=mt&&mt.defaultView||window;if(ot.getSelection){var lt=ot.getSelection(),Zt=H.textContent.length,$t=Math.min(X.start,Zt),tn=X.end===void 0?$t:Math.min(X.end,Zt);!lt.extend&&$t>tn&&(k=tn,tn=$t,$t=k);var J=IR(H,$t),Z=IR(H,tn);if(J&&Z&&(lt.rangeCount!==1||lt.anchorNode!==J.node||lt.anchorOffset!==J.offset||lt.focusNode!==Z.node||lt.focusOffset!==Z.offset)){var et=mt.createRange();et.setStart(J.node,J.offset),lt.removeAllRanges(),$t>tn?(lt.addRange(et),lt.extend(Z.node,Z.offset)):(et.setEnd(Z.node,Z.offset),lt.addRange(et))}}}}for(mt=[],lt=H;lt=lt.parentNode;)lt.nodeType===1&&mt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<mt.length;H++){var gt=mt[H];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}p0=!!ow,lw=ow=null}finally{$e=y,Q.p=f,Y.T=u}}r.current=o,Oi=2}}function $2(){if(Oi===2){Oi=0;var r=Wl,o=$d,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var f=Q.p;Q.p=2;var y=$e;$e|=4;try{E2(r,o.alternate,o)}finally{$e=y,Q.p=f,Y.T=u}}Oi=3}}function q2(){if(Oi===4||Oi===3){Oi=0,ue();var r=Wl,o=$d,u=qd,f=M2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Oi=5:(Oi=0,$d=Wl=null,G2(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Gl=null),ud(u),o=o.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(Re,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Y.T,y=Q.p,Q.p=2,Y.T=null;try{for(var _=r.onRecoverableError,k=0;k<f.length;k++){var H=f[k];_(H.value,{componentStack:H.stack})}}finally{Y.T=o,Q.p=y}}(qd&3)!==0&&n0(),ma(r),y=r.pendingLanes,(u&4194090)!==0&&(y&42)!==0?r===WS?Xg++:(Xg=0,WS=r):Xg=0,Qg(0)}}function G2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,kg(o)))}function n0(r){return H2(),$2(),q2(),W2()}function W2(){if(Oi!==5)return!1;var r=Wl,o=qS;qS=0;var u=ud(qd),f=Y.T,y=Q.p;try{Q.p=32>u?32:u,Y.T=null,u=GS,GS=null;var _=Wl,k=qd;if(Oi=0,$d=Wl=null,qd=0,($e&6)!==0)throw Error(n(331));var H=$e;if($e|=4,k2(_.current),C2(_,_.current,k,u),$e=H,Qg(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(Re,_)}catch{}return!0}finally{Q.p=y,Y.T=f,G2(r,o)}}function K2(r,o,u){o=ar(u,o),o=TS(r.stateNode,o,2),r=Fl(r,o,2),r!==null&&(so(r,2),ma(r))}function an(r,o,u){if(r.tag===3)K2(r,r,u);else for(;o!==null;){if(o.tag===3){K2(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Gl===null||!Gl.has(f))){r=ar(u,r),u=ZI(2),f=Fl(o,u,2),f!==null&&(JI(u,f,o,r),so(f,2),ma(f));break}}o=o.return}}function QS(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new n6;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(zS=!0,y.add(u),r=o6.bind(null,r,o,u),o.then(r,r))}function o6(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,dn===r&&(Te&u)===u&&(Dn===4||Dn===3&&(Te&62914560)===Te&&300>fe()-$S?($e&2)===0&&Gd(r,0):jS|=u,Hd===Te&&(Hd=0)),ma(r)}function Y2(r,o){o===0&&(o=ag()),r=Rd(r,o),r!==null&&(so(r,o),ma(r))}function l6(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),Y2(r,u)}function c6(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(o),Y2(r,u)}function u6(r,o){return Mt(r,o)}var i0=null,Kd=null,ZS=!1,s0=!1,JS=!1,Pu=0;function ma(r){r!==Kd&&r.next===null&&(Kd===null?i0=Kd=r:Kd=Kd.next=r),s0=!0,ZS||(ZS=!0,d6())}function Qg(r,o){if(!JS&&s0){JS=!0;do for(var u=!1,f=i0;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var _=0;else{var k=f.suspendedLanes,H=f.pingedLanes;_=(1<<31-Oe(42|r)+1)-1,_&=y&~(k&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,J2(f,_))}else _=Te,_=Pe(f,f===dn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||gn(f,_)||(u=!0,J2(f,_));f=f.next}while(u);JS=!1}}function h6(){X2()}function X2(){s0=ZS=!1;var r=0;Pu!==0&&(_6()&&(r=Pu),Pu=0);for(var o=fe(),u=null,f=i0;f!==null;){var y=f.next,_=Q2(f,o);_===0?(f.next=null,u===null?i0=y:u.next=y,y===null&&(Kd=u)):(u=f,(r!==0||(_&3)!==0)&&(s0=!0)),f=y}Qg(r)}function Q2(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var k=31-Oe(_),H=1<<k,X=y[k];X===-1?((H&u)===0||(H&f)!==0)&&(y[k]=tr(H,o)):X<=o&&(r.expiredLanes|=H),_&=~H}if(o=dn,u=Te,u=Pe(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(qe===2||qe===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&kt(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||gn(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&kt(f),ud(u)){case 2:case 8:u=He;break;case 32:u=pe;break;case 268435456:u=si;break;default:u=pe}return f=Z2.bind(null,r),u=Mt(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&kt(f),r.callbackPriority=2,r.callbackNode=null,2}function Z2(r,o){if(Oi!==0&&Oi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(n0()&&r.callbackNode!==u)return null;var f=Te;return f=Pe(r,r===dn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(D2(r,f,o),Q2(r,fe()),r.callbackNode!=null&&r.callbackNode===u?Z2.bind(null,r):null)}function J2(r,o){if(n0())return null;D2(r,o,!0)}function d6(){A6(function(){($e&6)!==0?Mt(Ue,h6):X2()})}function tw(){return Pu===0&&(Pu=xl()),Pu}function tk(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:md(""+r)}function ek(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function f6(r,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var _=tk((y[Kn]||null).action),k=f.submitter;k&&(o=(o=k[Kn]||null)?tk(o.formAction):k.getAttribute("formAction"),o!==null&&(_=o,k=null));var H=new yd("action","action",null,f,y);r.push({event:H,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Pu!==0){var X=k?ek(y,k):new FormData(y);_S(u,{pending:!0,data:X,method:y.method,action:_},null,X)}}else typeof _=="function"&&(H.preventDefault(),X=k?ek(y,k):new FormData(y),_S(u,{pending:!0,data:X,method:y.method,action:_},_,X))},currentTarget:y}]})}}for(var ew=0;ew<UA.length;ew++){var nw=UA[ew],p6=nw.toLowerCase(),g6=nw[0].toUpperCase()+nw.slice(1);Rr(p6,"on"+g6)}Rr(DR,"onAnimationEnd"),Rr(NR,"onAnimationIteration"),Rr(LR,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(M5,"onTransitionRun"),Rr(O5,"onTransitionStart"),Rr(D5,"onTransitionCancel"),Rr(FR,"onTransitionEnd"),ao("onMouseEnter",["mouseout","mouseover"]),ao("onMouseLeave",["mouseout","mouseover"]),ao("onPointerEnter",["pointerout","pointerover"]),ao("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zg));function nk(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],y=f.event;f=f.listeners;t:{var _=void 0;if(o)for(var k=f.length-1;0<=k;k--){var H=f[k],X=H.instance,it=H.currentTarget;if(H=H.listener,X!==_&&y.isPropagationStopped())break t;_=H,y.currentTarget=it;try{_(y)}catch(pt){qb(pt)}y.currentTarget=null,_=X}else for(k=0;k<f.length;k++){if(H=f[k],X=H.instance,it=H.currentTarget,H=H.listener,X!==_&&y.isPropagationStopped())break t;_=H,y.currentTarget=it;try{_(y)}catch(pt){qb(pt)}y.currentTarget=null,_=X}}}}function be(r,o){var u=o[cg];u===void 0&&(u=o[cg]=new Set);var f=r+"__bubble";u.has(f)||(ik(o,r,2,!1),u.add(f))}function iw(r,o,u){var f=0;o&&(f|=4),ik(u,r,f,o)}var r0="_reactListening"+Math.random().toString(36).slice(2);function sw(r){if(!r[r0]){r[r0]=!0,ug.forEach(function(u){u!=="selectionchange"&&(m6.has(u)||iw(u,!1,r),iw(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[r0]||(o[r0]=!0,iw("selectionchange",!1,o))}}function ik(r,o,u,f){switch(Ck(o)){case 2:var y=H6;break;case 8:y=$6;break;default:y=vw}u=y.bind(null,o,u,r),y=void 0,!sr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,u,{capture:!0,passive:y}):r.addEventListener(o,u,!0):y!==void 0?r.addEventListener(o,u,{passive:y}):r.addEventListener(o,u,!1)}function rw(r,o,u,f,y){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var H=f.stateNode.containerInfo;if(H===y)break;if(k===4)for(k=f.return;k!==null;){var X=k.tag;if((X===3||X===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;H!==null;){if(k=ro(H),k===null)return;if(X=k.tag,X===5||X===6||X===26||X===27){f=_=k;continue t}H=H.parentNode}}f=f.return}ob(function(){var it=_,pt=ir(u),mt=[];t:{var ot=VR.get(r);if(ot!==void 0){var lt=yd,Zt=r;switch(r){case"keypress":if(oa(u)===0)break t;case"keydown":case"keyup":lt=Sd;break;case"focusin":Zt="focus",lt=_d;break;case"focusout":Zt="blur",lt=_d;break;case"beforeblur":case"afterblur":lt=_d;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=PA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=gb;break;case DR:case NR:case LR:lt=Ed;break;case FR:lt=yb;break;case"scroll":case"scrollend":lt=lb;break;case"wheel":lt=wd;break;case"copy":case"cut":case"paste":lt=Ad;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Ag;break;case"toggle":case"beforetoggle":lt=bb}var $t=(o&4)!==0,tn=!$t&&(r==="scroll"||r==="scrollend"),J=$t?ot!==null?ot+"Capture":null:ot;$t=[];for(var Z=it,et;Z!==null;){var gt=Z;if(et=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||et===null||J===null||(gt=uu(Z,J),gt!=null&&$t.push(Jg(Z,gt,et))),tn)break;Z=Z.return}0<$t.length&&(ot=new lt(ot,Zt,null,u,pt),mt.push({event:ot,listeners:$t}))}}if((o&7)===0){t:{if(ot=r==="mouseover"||r==="pointerover",lt=r==="mouseout"||r==="pointerout",ot&&u!==co&&(Zt=u.relatedTarget||u.fromElement)&&(ro(Zt)||Zt[er]))break t;if((lt||ot)&&(ot=pt.window===pt?pt:(ot=pt.ownerDocument)?ot.defaultView||ot.parentWindow:window,lt?(Zt=u.relatedTarget||u.toElement,lt=it,Zt=Zt?ro(Zt):null,Zt!==null&&(tn=a(Zt),$t=Zt.tag,Zt!==tn||$t!==5&&$t!==27&&$t!==6)&&(Zt=null)):(lt=null,Zt=it),lt!==Zt)){if($t=rr,gt="onMouseLeave",J="onMouseEnter",Z="mouse",(r==="pointerout"||r==="pointerover")&&($t=Ag,gt="onPointerLeave",J="onPointerEnter",Z="pointer"),tn=lt==null?ot:ia(lt),et=Zt==null?ot:ia(Zt),ot=new $t(gt,Z+"leave",lt,u,pt),ot.target=tn,ot.relatedTarget=et,gt=null,ro(pt)===it&&($t=new $t(J,Z+"enter",Zt,u,pt),$t.target=et,$t.relatedTarget=tn,gt=$t),tn=gt,lt&&Zt)e:{for($t=lt,J=Zt,Z=0,et=$t;et;et=Yd(et))Z++;for(et=0,gt=J;gt;gt=Yd(gt))et++;for(;0<Z-et;)$t=Yd($t),Z--;for(;0<et-Z;)J=Yd(J),et--;for(;Z--;){if($t===J||J!==null&&$t===J.alternate)break e;$t=Yd($t),J=Yd(J)}$t=null}else $t=null;lt!==null&&sk(mt,ot,lt,$t,!1),Zt!==null&&tn!==null&&sk(mt,tn,Zt,$t,!0)}}t:{if(ot=it?ia(it):window,lt=ot.nodeName&&ot.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ot.type==="file")var Pt=SR;else if(oi(ot))if(wR)Pt=I5;else{Pt=C5;var ge=x5}else lt=ot.nodeName,!lt||lt.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?it&&gg(it.elementType)&&(Pt=SR):Pt=R5;if(Pt&&(Pt=Pt(r,it))){go(mt,Pt,u,pt);break t}ge&&ge(r,ot,it),r==="focusout"&&it&&ot.type==="number"&&it.memoizedProps.value!=null&&Ml(ot,"number",ot.value)}switch(ge=it?ia(it):window,r){case"focusin":(oi(ge)||ge.contentEditable==="true")&&(Td=ge,LA=it,Tg=null);break;case"focusout":Tg=LA=Td=null;break;case"mousedown":FA=!0;break;case"contextmenu":case"mouseup":case"dragend":FA=!1,MR(mt,u,pt);break;case"selectionchange":if(P5)break;case"keydown":case"keyup":MR(mt,u,pt)}var Ut;if(ua)t:{switch(r){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Se?ht(r,u)&&(Yt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Yt="onCompositionStart");Yt&&(R&&u.locale!=="ko"&&(Se||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Se&&(Ut=yg()):(aa=pt,Ol="value"in aa?aa.value:aa.textContent,Se=!0)),ge=a0(it,Yt),0<ge.length&&(Yt=new _g(Yt,r,null,u,pt),mt.push({event:Yt,listeners:ge}),Ut?Yt.data=Ut:(Ut=At(u),Ut!==null&&(Yt.data=Ut)))),(Ut=w?ai(r,u):we(r,u))&&(Yt=a0(it,"onBeforeInput"),0<Yt.length&&(ge=new _g("onBeforeInput","beforeinput",null,u,pt),mt.push({event:ge,listeners:Yt}),ge.data=Ut)),f6(mt,r,it,u,pt)}nk(mt,o)})}function Jg(r,o,u){return{instance:r,listener:o,currentTarget:u}}function a0(r,o){for(var u=o+"Capture",f=[];r!==null;){var y=r,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=uu(r,u),y!=null&&f.unshift(Jg(r,y,_)),y=uu(r,o),y!=null&&f.push(Jg(r,y,_))),r.tag===3)return f;r=r.return}return[]}function Yd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sk(r,o,u,f,y){for(var _=o._reactName,k=[];u!==null&&u!==f;){var H=u,X=H.alternate,it=H.stateNode;if(H=H.tag,X!==null&&X===f)break;H!==5&&H!==26&&H!==27||it===null||(X=it,y?(it=uu(u,_),it!=null&&k.unshift(Jg(u,it,X))):y||(it=uu(u,_),it!=null&&k.push(Jg(u,it,X)))),u=u.return}k.length!==0&&r.push({event:o,listeners:k})}var y6=/\r\n?/g,v6=/\u0000|\uFFFD/g;function rk(r){return(typeof r=="string"?r:""+r).replace(y6,`
`).replace(v6,"")}function ak(r,o){return o=rk(o),rk(r)===o}function o0(){}function Je(r,o,u,f,y,_){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||nr(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&nr(r,""+f);break;case"className":sa(r,"class",f);break;case"tabIndex":sa(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(r,u,f);break;case"style":pg(r,f,_);break;case"data":if(o!=="object"){sa(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=md(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&Je(r,o,"name",y.name,y,null),Je(r,o,"formEncType",y.formEncType,y,null),Je(r,o,"formMethod",y.formMethod,y,null),Je(r,o,"formTarget",y.formTarget,y,null)):(Je(r,o,"encType",y.encType,y,null),Je(r,o,"method",y.method,y,null),Je(r,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=md(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=o0);break;case"onScroll":f!=null&&be("scroll",r);break;case"onScrollEnd":f!=null&&be("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=md(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":be("beforetoggle",r),be("toggle",r),Pl(r,"popover",f);break;case"xlinkActuate":ki(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ki(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ki(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ki(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ki(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ki(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ki(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ki(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ki(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Pl(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=IA.get(u)||u,Pl(r,u,f))}}function aw(r,o,u,f,y,_){switch(u){case"style":pg(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof f=="string"?nr(r,f):(typeof f=="number"||typeof f=="bigint")&&nr(r,""+f);break;case"onScroll":f!=null&&be("scroll",r);break;case"onScrollEnd":f!=null&&be("scrollend",r);break;case"onClick":f!=null&&(r.onclick=o0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),_=r[Kn]||null,_=_!=null?_[u]:null,typeof _=="function"&&r.removeEventListener(o,_,y),typeof f=="function")){typeof _!="function"&&_!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,y);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Pl(r,u,f)}}}function Di(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",r),be("load",r);var f=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var k=u[_];if(k!=null)switch(_){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Je(r,o,_,k,u,null)}}y&&Je(r,o,"srcSet",u.srcSet,u,null),f&&Je(r,o,"src",u.src,u,null);return;case"input":be("invalid",r);var H=_=k=y=null,X=null,it=null;for(f in u)if(u.hasOwnProperty(f)){var pt=u[f];if(pt!=null)switch(f){case"name":y=pt;break;case"type":k=pt;break;case"checked":X=pt;break;case"defaultChecked":it=pt;break;case"value":_=pt;break;case"defaultValue":H=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,o));break;default:Je(r,o,f,pt,u,null)}}ou(r,_,H,X,it,k,y,!1),gd(r);return;case"select":be("invalid",r),f=k=_=null;for(y in u)if(u.hasOwnProperty(y)&&(H=u[y],H!=null))switch(y){case"value":_=H;break;case"defaultValue":k=H;break;case"multiple":f=H;default:Je(r,o,y,H,u,null)}o=_,u=k,r.multiple=!!f,o!=null?lo(r,!!f,o,!1):u!=null&&lo(r,!!f,u,!0);return;case"textarea":be("invalid",r),_=y=f=null;for(k in u)if(u.hasOwnProperty(k)&&(H=u[k],H!=null))switch(k){case"value":f=H;break;case"defaultValue":y=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Je(r,o,k,H,u,null)}lu(r,f,y,_),gd(r);return;case"option":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Je(r,o,X,f,u,null)}return;case"dialog":be("beforetoggle",r),be("toggle",r),be("cancel",r),be("close",r);break;case"iframe":case"object":be("load",r);break;case"video":case"audio":for(f=0;f<Zg.length;f++)be(Zg[f],r);break;case"image":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"embed":case"source":case"link":be("error",r),be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in u)if(u.hasOwnProperty(it)&&(f=u[it],f!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Je(r,o,it,f,u,null)}return;default:if(gg(o)){for(pt in u)u.hasOwnProperty(pt)&&(f=u[pt],f!==void 0&&aw(r,o,pt,f,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(f=u[H],f!=null&&Je(r,o,H,f,u,null))}function b6(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,k=null,H=null,X=null,it=null,pt=null;for(lt in u){var mt=u[lt];if(u.hasOwnProperty(lt)&&mt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":X=mt;default:f.hasOwnProperty(lt)||Je(r,o,lt,null,f,mt)}}for(var ot in f){var lt=f[ot];if(mt=u[ot],f.hasOwnProperty(ot)&&(lt!=null||mt!=null))switch(ot){case"type":_=lt;break;case"name":y=lt;break;case"checked":it=lt;break;case"defaultChecked":pt=lt;break;case"value":k=lt;break;case"defaultValue":H=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,o));break;default:lt!==mt&&Je(r,o,ot,lt,f,mt)}}Ms(r,k,H,X,it,pt,_,y);return;case"select":lt=k=H=ot=null;for(_ in u)if(X=u[_],u.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":lt=X;default:f.hasOwnProperty(_)||Je(r,o,_,null,f,X)}for(y in f)if(_=f[y],X=u[y],f.hasOwnProperty(y)&&(_!=null||X!=null))switch(y){case"value":ot=_;break;case"defaultValue":H=_;break;case"multiple":k=_;default:_!==X&&Je(r,o,y,_,f,X)}o=H,u=k,f=lt,ot!=null?lo(r,!!u,ot,!1):!!f!=!!u&&(o!=null?lo(r,!!u,o,!0):lo(r,!!u,u?[]:"",!1));return;case"textarea":lt=ot=null;for(H in u)if(y=u[H],u.hasOwnProperty(H)&&y!=null&&!f.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Je(r,o,H,null,f,y)}for(k in f)if(y=f[k],_=u[k],f.hasOwnProperty(k)&&(y!=null||_!=null))switch(k){case"value":ot=y;break;case"defaultValue":lt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==_&&Je(r,o,k,y,f,_)}Qe(r,ot,lt);return;case"option":for(var Zt in u)if(ot=u[Zt],u.hasOwnProperty(Zt)&&ot!=null&&!f.hasOwnProperty(Zt))switch(Zt){case"selected":r.selected=!1;break;default:Je(r,o,Zt,null,f,ot)}for(X in f)if(ot=f[X],lt=u[X],f.hasOwnProperty(X)&&ot!==lt&&(ot!=null||lt!=null))switch(X){case"selected":r.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:Je(r,o,X,ot,f,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in u)ot=u[$t],u.hasOwnProperty($t)&&ot!=null&&!f.hasOwnProperty($t)&&Je(r,o,$t,null,f,ot);for(it in f)if(ot=f[it],lt=u[it],f.hasOwnProperty(it)&&ot!==lt&&(ot!=null||lt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,o));break;default:Je(r,o,it,ot,f,lt)}return;default:if(gg(o)){for(var tn in u)ot=u[tn],u.hasOwnProperty(tn)&&ot!==void 0&&!f.hasOwnProperty(tn)&&aw(r,o,tn,void 0,f,ot);for(pt in f)ot=f[pt],lt=u[pt],!f.hasOwnProperty(pt)||ot===lt||ot===void 0&&lt===void 0||aw(r,o,pt,ot,f,lt);return}}for(var J in u)ot=u[J],u.hasOwnProperty(J)&&ot!=null&&!f.hasOwnProperty(J)&&Je(r,o,J,null,f,ot);for(mt in f)ot=f[mt],lt=u[mt],!f.hasOwnProperty(mt)||ot===lt||ot==null&&lt==null||Je(r,o,mt,ot,f,lt)}var ow=null,lw=null;function l0(r){return r.nodeType===9?r:r.ownerDocument}function ok(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lk(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function cw(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var uw=null;function _6(){var r=window.event;return r&&r.type==="popstate"?r===uw?!1:(uw=r,!0):(uw=null,!1)}var ck=typeof setTimeout=="function"?setTimeout:void 0,E6=typeof clearTimeout=="function"?clearTimeout:void 0,uk=typeof Promise=="function"?Promise:void 0,A6=typeof queueMicrotask=="function"?queueMicrotask:typeof uk<"u"?function(r){return uk.resolve(null).then(r).catch(S6)}:ck;function S6(r){setTimeout(function(){throw r})}function Yl(r){return r==="head"}function hk(r,o){var u=o,f=0,y=0;do{var _=u.nextSibling;if(r.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<f&&8>f){u=f;var k=r.ownerDocument;if(u&1&&tm(k.documentElement),u&2&&tm(k.body),u&4)for(u=k.head,tm(u),k=u.firstChild;k;){var H=k.nextSibling,X=k.nodeName;k[iu]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=H}}if(y===0){r.removeChild(_),lm(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=_}while(u);lm(o)}function hw(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hw(u),kl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function w6(r,o,u,f){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[iu])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=kr(r.nextSibling),r===null)break}return null}function T6(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=kr(r.nextSibling),r===null))return null;return r}function dw(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function x6(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function kr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var fw=null;function dk(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function fk(r,o,u){switch(o=l0(u),r){case"html":if(r=o.documentElement,!r)throw Error(n(452));return r;case"head":if(r=o.head,!r)throw Error(n(453));return r;case"body":if(r=o.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function tm(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);kl(r)}var dr=new Map,pk=new Set;function c0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ro=Q.d;Q.d={f:C6,r:R6,D:I6,C:k6,L:P6,m:M6,X:D6,S:O6,M:N6};function C6(){var r=Ro.f(),o=t0();return r||o}function R6(r){var o=na(r);o!==null&&o.tag===5&&o.type==="form"?DI(o):Ro.r(r)}var Xd=typeof document>"u"?null:document;function gk(r,o,u){var f=Xd;if(f&&typeof o=="string"&&o){var y=Yn(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),pk.has(y)||(pk.add(y),r={rel:r,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Di(o,"link",r),Un(o),f.head.appendChild(o)))}}function I6(r){Ro.D(r),gk("dns-prefetch",r,null)}function k6(r,o){Ro.C(r,o),gk("preconnect",r,o)}function P6(r,o,u){Ro.L(r,o,u);var f=Xd;if(f&&r&&o){var y='link[rel="preload"][as="'+Yn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Yn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Yn(u.imageSizes)+'"]')):y+='[href="'+Yn(r)+'"]';var _=y;switch(o){case"style":_=Qd(r);break;case"script":_=Zd(r)}dr.has(_)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),dr.set(_,r),f.querySelector(y)!==null||o==="style"&&f.querySelector(em(_))||o==="script"&&f.querySelector(nm(_))||(o=f.createElement("link"),Di(o,"link",r),Un(o),f.head.appendChild(o)))}}function M6(r,o){Ro.m(r,o);var u=Xd;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Yn(f)+'"][href="'+Yn(r)+'"]',_=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Zd(r)}if(!dr.has(_)&&(r=p({rel:"modulepreload",href:r},o),dr.set(_,r),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nm(_)))return}f=u.createElement("link"),Di(f,"link",r),Un(f),u.head.appendChild(f)}}}function O6(r,o,u){Ro.S(r,o,u);var f=Xd;if(f&&r){var y=ls(f).hoistableStyles,_=Qd(r);o=o||"default";var k=y.get(_);if(!k){var H={loading:0,preload:null};if(k=f.querySelector(em(_)))H.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=dr.get(_))&&pw(r,u);var X=k=f.createElement("link");Un(X),Di(X,"link",r),X._p=new Promise(function(it,pt){X.onload=it,X.onerror=pt}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,u0(k,o,f)}k={type:"stylesheet",instance:k,count:1,state:H},y.set(_,k)}}}function D6(r,o){Ro.X(r,o);var u=Xd;if(u&&r){var f=ls(u).hoistableScripts,y=Zd(r),_=f.get(y);_||(_=u.querySelector(nm(y)),_||(r=p({src:r,async:!0},o),(o=dr.get(y))&&gw(r,o),_=u.createElement("script"),Un(_),Di(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(y,_))}}function N6(r,o){Ro.M(r,o);var u=Xd;if(u&&r){var f=ls(u).hoistableScripts,y=Zd(r),_=f.get(y);_||(_=u.querySelector(nm(y)),_||(r=p({src:r,async:!0,type:"module"},o),(o=dr.get(y))&&gw(r,o),_=u.createElement("script"),Un(_),Di(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(y,_))}}function mk(r,o,u,f){var y=(y=_t.current)?c0(y):null;if(!y)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Qd(u.href),u=ls(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Qd(u.href);var _=ls(y).hoistableStyles,k=_.get(r);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,k),(_=y.querySelector(em(r)))&&!_._p&&(k.instance=_,k.state.loading=5),dr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},dr.set(r,u),_||L6(y,r,u,k.state))),o&&f===null)throw Error(n(528,""));return k}if(o&&f!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Zd(u),u=ls(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Qd(r){return'href="'+Yn(r)+'"'}function em(r){return'link[rel="stylesheet"]['+r+"]"}function yk(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function L6(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Di(o,"link",u),Un(o),r.head.appendChild(o))}function Zd(r){return'[src="'+Yn(r)+'"]'}function nm(r){return"script[async]"+r}function vk(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Yn(u.href)+'"]');if(f)return o.instance=f,Un(f),f;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Un(f),Di(f,"style",y),u0(f,u.precedence,r),o.instance=f;case"stylesheet":y=Qd(u.href);var _=r.querySelector(em(y));if(_)return o.state.loading|=4,o.instance=_,Un(_),_;f=yk(u),(y=dr.get(y))&&pw(f,y),_=(r.ownerDocument||r).createElement("link"),Un(_);var k=_;return k._p=new Promise(function(H,X){k.onload=H,k.onerror=X}),Di(_,"link",f),o.state.loading|=4,u0(_,u.precedence,r),o.instance=_;case"script":return _=Zd(u.src),(y=r.querySelector(nm(_)))?(o.instance=y,Un(y),y):(f=u,(y=dr.get(_))&&(f=p({},u),gw(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),Un(y),Di(y,"link",f),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,u0(f,u.precedence,r));return o.instance}function u0(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,_=y,k=0;k<f.length;k++){var H=f[k];if(H.dataset.precedence===o)_=H;else if(_!==y)break}_?_.parentNode.insertBefore(r,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function pw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function gw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var h0=null;function bk(r,o,u){if(h0===null){var f=new Map,y=h0=new Map;y.set(u,f)}else y=h0,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var _=u[y];if(!(_[iu]||_[ri]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var k=_.getAttribute(o)||"";k=r+k;var H=f.get(k);H?H.push(_):f.set(k,[_])}}return f}function _k(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function F6(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Ek(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var im=null;function V6(){}function U6(r,o,u){if(im===null)throw Error(n(475));var f=im;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Qd(u.href),_=r.querySelector(em(y));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=d0.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=_,Un(_);return}_=r.ownerDocument||r,u=yk(u),(y=dr.get(y))&&pw(u,y),_=_.createElement("link"),Un(_);var k=_;k._p=new Promise(function(H,X){k.onload=H,k.onerror=X}),Di(_,"link",u),o.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=d0.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function B6(){if(im===null)throw Error(n(475));var r=im;return r.stylesheets&&r.count===0&&mw(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&mw(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function d0(){if(this.count--,this.count===0){if(this.stylesheets)mw(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var f0=null;function mw(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,f0=new Map,o.forEach(z6,r),f0=null,d0.call(r))}function z6(r,o){if(!(o.state.loading&4)){var u=f0.get(r);if(u)var f=u.get(null);else{u=new Map,f0.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var k=y[_];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}y=o.instance,k=y.getAttribute("data-precedence"),_=u.get(k)||f,_===f&&u.set(null,y),u.set(k,y),this.count++,f=d0.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),_?_.parentNode.insertBefore(y,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var sm={$$typeof:M,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function j6(r,o,u,f,y,_,k,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=io(0),this.hiddenUpdates=io(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Ak(r,o,u,f,y,_,k,H,X,it,pt,mt){return r=new j6(r,o,u,k,H,X,it,mt),o=1,_===!0&&(o|=24),_=Ds(3,null,null,o),r.current=_,_.stateNode=r,o=QA(),o.refCount++,r.pooledCache=o,o.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:o},eS(_),r}function Sk(r){return r?(r=Id,r):Id}function wk(r,o,u,f,y,_){y=Sk(y),f.context===null?f.context=y:f.pendingContext=y,f=Ll(o),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=Fl(r,f,o),u!==null&&(Us(u,r,o),Dg(u,r,o))}function Tk(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function yw(r,o){Tk(r,o),(r=r.alternate)&&Tk(r,o)}function xk(r){if(r.tag===13){var o=Rd(r,67108864);o!==null&&Us(o,r,67108864),yw(r,67108864)}}var p0=!0;function H6(r,o,u,f){var y=Y.T;Y.T=null;var _=Q.p;try{Q.p=2,vw(r,o,u,f)}finally{Q.p=_,Y.T=y}}function $6(r,o,u,f){var y=Y.T;Y.T=null;var _=Q.p;try{Q.p=8,vw(r,o,u,f)}finally{Q.p=_,Y.T=y}}function vw(r,o,u,f){if(p0){var y=bw(f);if(y===null)rw(r,o,f,g0,u),Rk(r,f);else if(G6(y,r,o,u,f))f.stopPropagation();else if(Rk(r,f),o&4&&-1<q6.indexOf(r)){for(;y!==null;){var _=na(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var k=Dt(_.pendingLanes);if(k!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;k;){var X=1<<31-Oe(k);H.entanglements[1]|=X,k&=~X}ma(_),($e&6)===0&&(Zb=fe()+500,Qg(0))}}break;case 13:H=Rd(_,2),H!==null&&Us(H,_,2),t0(),yw(_,2)}if(_=bw(f),_===null&&rw(r,o,f,g0,u),_===y)break;y=_}y!==null&&f.stopPropagation()}else rw(r,o,f,null,u)}}function bw(r){return r=ir(r),_w(r)}var g0=null;function _w(r){if(g0=null,r=ro(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return g0=r,null}function Ck(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Ue:return 2;case He:return 8;case pe:case Ot:return 32;case si:return 268435456;default:return 32}default:return 32}}var Ew=!1,Xl=null,Ql=null,Zl=null,rm=new Map,am=new Map,Jl=[],q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rk(r,o){switch(r){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":rm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":am.delete(o.pointerId)}}function om(r,o,u,f,y,_){return r===null||r.nativeEvent!==_?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[y]},o!==null&&(o=na(o),o!==null&&xk(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function G6(r,o,u,f,y){switch(o){case"focusin":return Xl=om(Xl,r,o,u,f,y),!0;case"dragenter":return Ql=om(Ql,r,o,u,f,y),!0;case"mouseover":return Zl=om(Zl,r,o,u,f,y),!0;case"pointerover":var _=y.pointerId;return rm.set(_,om(rm.get(_)||null,r,o,u,f,y)),!0;case"gotpointercapture":return _=y.pointerId,am.set(_,om(am.get(_)||null,r,o,u,f,y)),!0}return!1}function Ik(r){var o=ro(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,tb(r.priority,function(){if(u.tag===13){var f=Vs();f=Cl(f);var y=Rd(u,f);y!==null&&Us(y,u,f),yw(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function m0(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=bw(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);co=f,u.target.dispatchEvent(f),co=null}else return o=na(u),o!==null&&xk(o),r.blockedOn=u,!1;o.shift()}return!0}function kk(r,o,u){m0(r)&&u.delete(o)}function W6(){Ew=!1,Xl!==null&&m0(Xl)&&(Xl=null),Ql!==null&&m0(Ql)&&(Ql=null),Zl!==null&&m0(Zl)&&(Zl=null),rm.forEach(kk),am.forEach(kk)}function y0(r,o){r.blockedOn===o&&(r.blockedOn=null,Ew||(Ew=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,W6)))}var v0=null;function Pk(r){v0!==r&&(v0=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){v0===r&&(v0=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],y=r[o+2];if(typeof f!="function"){if(_w(f||u)===null)continue;break}var _=na(u);_!==null&&(r.splice(o,3),o-=3,_S(_,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function lm(r){function o(X){return y0(X,r)}Xl!==null&&y0(Xl,r),Ql!==null&&y0(Ql,r),Zl!==null&&y0(Zl,r),rm.forEach(o),am.forEach(o);for(var u=0;u<Jl.length;u++){var f=Jl[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Jl.length&&(u=Jl[0],u.blockedOn===null);)Ik(u),u.blockedOn===null&&Jl.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],_=u[f+1],k=y[Kn]||null;if(typeof _=="function")k||Pk(u);else if(k){var H=null;if(_&&_.hasAttribute("formAction")){if(y=_,k=_[Kn]||null)H=k.formAction;else if(_w(y)!==null)continue}else H=k.action;typeof H=="function"?u[f+1]=H:(u.splice(f,3),f-=3),Pk(u)}}}function Aw(r){this._internalRoot=r}b0.prototype.render=Aw.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,f=Vs();wk(u,f,r,o,null,null)},b0.prototype.unmount=Aw.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;wk(r.current,2,null,r,null,null),t0(),o[er]=null}};function b0(r){this._internalRoot=r}b0.prototype.unstable_scheduleHydration=function(r){if(r){var o=Rl();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Jl.length&&o!==0&&o<Jl[u].priority;u++);Jl.splice(u,0,r),u===0&&Ik(r)}};var Mk=t.version;if(Mk!=="19.1.0")throw Error(n(527,Mk,"19.1.0"));Q.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var K6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{Re=_0.inject(K6),ee=_0}catch{}}return um.createRoot=function(r,o){if(!s(r))throw Error(n(299));var u=!1,f="",y=KI,_=YI,k=XI,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks)),o=Ak(r,1,!1,null,null,u,f,y,_,k,H,null),r[er]=o.current,sw(r),new Aw(o)},um.hydrateRoot=function(r,o,u){if(!s(r))throw Error(n(299));var f=!1,y="",_=KI,k=YI,H=XI,X=null,it=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks),u.formState!==void 0&&(it=u.formState)),o=Ak(r,1,!0,o,u??null,f,y,_,k,H,X,it),o.context=Sk(null),u=o.current,f=Vs(),f=Cl(f),y=Ll(f),y.callback=null,Fl(u,y,f),u=f,o.current.lanes=u,so(o,u),ma(o),r[er]=o.current,sw(r),new b0(o)},um.version="19.1.0",um}var Hk;function aV(){if(Hk)return xw.exports;Hk=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xw.exports=rV(),xw.exports}var oV=aV(),hm={},$k;function lV(){if($k)return hm;$k=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.parse=l,hm.serialize=d;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,E){const A=new a,S=b.length;if(S<2)return A;const C=(E==null?void 0:E.decode)||p;let x=0;do{const F=b.indexOf("=",x);if(F===-1)break;const M=b.indexOf(";",x),P=M===-1?S:M;if(F>P){x=b.lastIndexOf(";",F-1)+1;continue}const V=c(b,x,F),W=h(b,F,V),D=b.slice(V,W);if(A[D]===void 0){let I=c(b,F+1,P),N=h(b,P,I);const T=C(b.slice(I,N));A[D]=T}x=P+1}while(x<S);return A}function c(b,E,A){do{const S=b.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<A);return A}function h(b,E,A){for(;E>A;){const S=b.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return A}function d(b,E,A){const S=(A==null?void 0:A.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=S(E);if(!t.test(C))throw new TypeError(`argument val is invalid: ${E}`);let x=b+"="+C;if(!A)return x;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);x+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);x+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);x+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);x+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(x+="; HttpOnly"),A.secure&&(x+="; Secure"),A.partitioned&&(x+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return x}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return hm}lV();var qk="popstate";function cV(i={}){function t(n,s){let{pathname:a,search:l,hash:c}=n.location;return fT("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(n,s){return typeof s=="string"?s:ey(s)}return hV(t,e,null,i)}function In(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Xa(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uV(){return Math.random().toString(36).substring(2,10)}function Gk(i,t){return{usr:i.state,key:i.key,idx:t}}function fT(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Kp(t):t,state:e,key:t&&t.key||n||uV()}}function ey({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Kp(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function hV(i,t,e,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function v(){c="POP";let C=p(),x=C==null?null:C-d;d=C,h&&h({action:c,location:S.location,delta:x})}function b(C,x){c="PUSH";let F=fT(S.location,C,x);d=p()+1;let M=Gk(F,d),P=S.createHref(F);try{l.pushState(M,"",P)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(P)}a&&h&&h({action:c,location:S.location,delta:1})}function E(C,x){c="REPLACE";let F=fT(S.location,C,x);d=p();let M=Gk(F,d),P=S.createHref(F);l.replaceState(M,"",P),a&&h&&h({action:c,location:S.location,delta:0})}function A(C){return dV(C)}let S={get action(){return c},get location(){return i(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(qk,v),h=C,()=>{s.removeEventListener(qk,v),h=null}},createHref(C){return t(s,C)},createURL:A,encodeLocation(C){let x=A(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:E,go(C){return l.go(C)}};return S}function dV(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),In(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:ey(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function vD(i,t,e="/"){return fV(i,t,e,!1)}function fV(i,t,e,n){let s=typeof t=="string"?Kp(t):t,a=fl(s.pathname||"/",e);if(a==null)return null;let l=bD(i);pV(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=TV(a);c=SV(l[h],d,n)}return c}function bD(i,t=[],e=[],n=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(In(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=cl([n,h.relativePath]),p=e.concat(h);a.children&&a.children.length>0&&(In(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),bD(a.children,t,p,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:EV(d,a.index),routesMeta:p})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of _D(a.path))s(a,l,h)}),t}function _D(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=_D(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function pV(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:AV(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var gV=/^:[\w-]+$/,mV=3,yV=2,vV=1,bV=10,_V=-2,Wk=i=>i==="*";function EV(i,t){let e=i.split("/"),n=e.length;return e.some(Wk)&&(n+=_V),t&&(n+=yV),e.filter(s=>!Wk(s)).reduce((s,a)=>s+(gV.test(a)?mV:a===""?vV:bV),n)}function AV(i,t){return i.length===t.length&&i.slice(0,-1).every((n,s)=>n===t[s])?i[i.length-1]-t[t.length-1]:0}function SV(i,t,e=!1){let{routesMeta:n}=i,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",v=L_({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),b=h.route;if(!v&&d&&e&&!n[n.length-1].route.index&&(v=L_({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:cl([a,v.pathname]),pathnameBase:IV(cl([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=cl([a,v.pathnameBase]))}return l}function L_(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=wV(i.path,i.caseSensitive,i.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:v},b)=>{if(p==="*"){let A=c[b]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[b];return v&&!E?d[p]=void 0:d[p]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:i}}function wV(i,t=!1,e=!0){Xa(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function TV(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xa(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function fl(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function xV(i,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof i=="string"?Kp(i):i;return{pathname:e?e.startsWith("/")?e:CV(e,t):t,search:kV(n),hash:PV(s)}}function CV(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function kw(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RV(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ED(i){let t=RV(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function AD(i,t,e,n=!1){let s;typeof i=="string"?s=Kp(i):(s={...i},In(!s.pathname||!s.pathname.includes("?"),kw("?","pathname","search",s)),In(!s.pathname||!s.pathname.includes("#"),kw("#","pathname","hash",s)),In(!s.search||!s.search.includes("#"),kw("#","search","hash",s)));let a=i===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=e;else{let v=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}c=v>=0?t[v]:"/"}let h=xV(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var cl=i=>i.join("/").replace(/\/\/+/g,"/"),IV=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kV=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PV=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function MV(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var SD=["POST","PUT","PATCH","DELETE"];new Set(SD);var OV=["GET",...SD];new Set(OV);var Yp=O.createContext(null);Yp.displayName="DataRouter";var PE=O.createContext(null);PE.displayName="DataRouterState";var wD=O.createContext({isTransitioning:!1});wD.displayName="ViewTransition";var DV=O.createContext(new Map);DV.displayName="Fetchers";var NV=O.createContext(null);NV.displayName="Await";var Ja=O.createContext(null);Ja.displayName="Navigation";var Iv=O.createContext(null);Iv.displayName="Location";var wl=O.createContext({outlet:null,matches:[],isDataRoute:!1});wl.displayName="Route";var Mx=O.createContext(null);Mx.displayName="RouteError";function LV(i,{relative:t}={}){In(kv(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=O.useContext(Ja),{hash:s,pathname:a,search:l}=Mv(i,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:cl([e,a])),n.createHref({pathname:c,search:l,hash:s})}function kv(){return O.useContext(Iv)!=null}function nd(){return In(kv(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Iv).location}var TD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xD(i){O.useContext(Ja).static||O.useLayoutEffect(i)}function Pv(){let{isDataRoute:i}=O.useContext(wl);return i?YV():FV()}function FV(){In(kv(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Yp),{basename:t,navigator:e}=O.useContext(Ja),{matches:n}=O.useContext(wl),{pathname:s}=nd(),a=JSON.stringify(ED(n)),l=O.useRef(!1);return xD(()=>{l.current=!0}),O.useCallback((h,d={})=>{if(Xa(l.current,TD),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=AD(h,JSON.parse(a),s,d.relative==="path");i==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:cl([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,a,s,i])}O.createContext(null);function Mv(i,{relative:t}={}){let{matches:e}=O.useContext(wl),{pathname:n}=nd(),s=JSON.stringify(ED(e));return O.useMemo(()=>AD(i,JSON.parse(s),n,t==="path"),[i,s,n,t])}function VV(i,t){return CD(i,t)}function CD(i,t,e,n){var x;In(kv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Ja),{matches:a}=O.useContext(wl),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let F=p&&p.path||"";RD(h,!p||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let v=nd(),b;if(t){let F=typeof t=="string"?Kp(t):t;In(d==="/"||((x=F.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${F.pathname}" was given in the \`location\` prop.`),b=F}else b=v;let E=b.pathname||"/",A=E;if(d!=="/"){let F=d.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let S=vD(i,{pathname:A});Xa(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Xa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=HV(S&&S.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:cl([d,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?d:cl([d,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,e,n);return t&&C?O.createElement(Iv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function UV(){let i=KV(),t=MV(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),e?O.createElement("pre",{style:s},e):null,l)}var BV=O.createElement(UV,null),zV=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?O.createElement(wl.Provider,{value:this.props.routeContext},O.createElement(Mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jV({routeContext:i,match:t,children:e}){let n=O.useContext(Yp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(wl.Provider,{value:i},e)}function HV(i,t=[],e=null,n=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let s=i,a=e==null?void 0:e.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);In(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(e)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:v}=e,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let v,b=!1,E=null,A=null;e&&(v=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||BV,l&&(c<0&&p===0?(RD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):c===p&&(b=!0,A=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),C=()=>{let x;return v?x=E:b?x=A:d.route.Component?x=O.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,O.createElement(jV,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:e!=null},children:x})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?O.createElement(zV,{location:e.location,revalidation:e.revalidation,component:E,error:v,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Ox(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $V(i){let t=O.useContext(Yp);return In(t,Ox(i)),t}function qV(i){let t=O.useContext(PE);return In(t,Ox(i)),t}function GV(i){let t=O.useContext(wl);return In(t,Ox(i)),t}function Dx(i){let t=GV(i),e=t.matches[t.matches.length-1];return In(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function WV(){return Dx("useRouteId")}function KV(){var n;let i=O.useContext(Mx),t=qV("useRouteError"),e=Dx("useRouteError");return i!==void 0?i:(n=t.errors)==null?void 0:n[e]}function YV(){let{router:i}=$V("useNavigate"),t=Dx("useNavigate"),e=O.useRef(!1);return xD(()=>{e.current=!0}),O.useCallback(async(s,a={})=>{Xa(e.current,TD),e.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:t,...a}))},[i,t])}var Kk={};function RD(i,t,e){!t&&!Kk[i]&&(Kk[i]=!0,Xa(!1,e))}O.memo(XV);function XV({routes:i,future:t,state:e}){return CD(i,void 0,e,t)}function af(i){In(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QV({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:a=!1}){In(!kv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=Kp(e));let{pathname:h="/",search:d="",hash:p="",state:v=null,key:b="default"}=e,E=O.useMemo(()=>{let A=fl(h,l);return A==null?null:{location:{pathname:A,search:d,hash:p,state:v,key:b},navigationType:n}},[l,h,d,p,v,b,n]);return Xa(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:O.createElement(Ja.Provider,{value:c},O.createElement(Iv.Provider,{children:t,value:E}))}function ZV({children:i,location:t}){return VV(pT(i),t)}function pT(i,t=[]){let e=[];return O.Children.forEach(i,(n,s)=>{if(!O.isValidElement(n))return;let a=[...t,s];if(n.type===O.Fragment){e.push.apply(e,pT(n.props.children,a));return}In(n.type===af,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),In(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=pT(n.props.children,a)),e.push(l)}),e}var q0="get",G0="application/x-www-form-urlencoded";function ME(i){return i!=null&&typeof i.tagName=="string"}function JV(i){return ME(i)&&i.tagName.toLowerCase()==="button"}function tU(i){return ME(i)&&i.tagName.toLowerCase()==="form"}function eU(i){return ME(i)&&i.tagName.toLowerCase()==="input"}function nU(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iU(i,t){return i.button===0&&(!t||t==="_self")&&!nU(i)}var E0=null;function sU(){if(E0===null)try{new FormData(document.createElement("form"),0),E0=!1}catch{E0=!0}return E0}var rU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pw(i){return i!=null&&!rU.has(i)?(Xa(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${G0}"`),null):i}function aU(i,t){let e,n,s,a,l;if(tU(i)){let c=i.getAttribute("action");n=c?fl(c,t):null,e=i.getAttribute("method")||q0,s=Pw(i.getAttribute("enctype"))||G0,a=new FormData(i)}else if(JV(i)||eU(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?fl(h,t):null,e=i.getAttribute("formmethod")||c.getAttribute("method")||q0,s=Pw(i.getAttribute("formenctype"))||Pw(c.getAttribute("enctype"))||G0,a=new FormData(c,i),!sU()){let{name:d,type:p,value:v}=i;if(p==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,v)}}else{if(ME(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=q0,n=null,s=G0,l=i}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:a,body:l}}function Nx(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function oU(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lU(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function cU(i,t,e){let n=await Promise.all(i.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await oU(a,e);return l.links?l.links():[]}return[]}));return fU(n.flat(1).filter(lU).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Yk(i,t,e,n,s,a){let l=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,c=(h,d)=>{var p;return e[d].pathname!==h.pathname||((p=e[d].route.path)==null?void 0:p.endsWith("*"))&&e[d].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?t.filter((h,d)=>{var v;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function uU(i,t,{includeHydrateFallback:e}={}){return hU(i.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function hU(i){return[...new Set(i)]}function dU(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function fU(i,t){let e=new Set;return new Set(t),i.reduce((n,s)=>{let a=JSON.stringify(dU(s));return e.has(a)||(e.add(a),n.push({key:a,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pU=new Set([100,101,204,205]);function gU(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&fl(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ID(){let i=O.useContext(Yp);return Nx(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function mU(){let i=O.useContext(PE);return Nx(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Lx=O.createContext(void 0);Lx.displayName="FrameworkContext";function kD(){let i=O.useContext(Lx);return Nx(i,"You must render this element inside a <HydratedRouter> element"),i}function yU(i,t){let e=O.useContext(Lx),[n,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:v}=t,b=O.useRef(null);O.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let S=x=>{x.forEach(F=>{l(F.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[i]),O.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let E=()=>{s(!0)},A=()=>{s(!1),l(!1)};return e?i!=="intent"?[a,b,{}]:[a,b,{onFocus:dm(c,E),onBlur:dm(h,A),onMouseEnter:dm(d,E),onMouseLeave:dm(p,A),onTouchStart:dm(v,E)}]:[!1,b,{}]}function dm(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function vU({page:i,...t}){let{router:e}=ID(),n=O.useMemo(()=>vD(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?O.createElement(_U,{page:i,matches:n,...t}):null}function bU(i){let{manifest:t,routeModules:e}=kD(),[n,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return cU(i,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[i,t,e]),n}function _U({page:i,matches:t,...e}){let n=nd(),{manifest:s,routeModules:a}=kD(),{basename:l}=ID(),{loaderData:c,matches:h}=mU(),d=O.useMemo(()=>Yk(i,t,h,s,n,"data"),[i,t,h,s,n]),p=O.useMemo(()=>Yk(i,t,h,s,n,"assets"),[i,t,h,s,n]),v=O.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let A=new Set,S=!1;if(t.forEach(x=>{var M;let F=s.routes[x.route.id];!F||!F.hasLoader||(!d.some(P=>P.route.id===x.route.id)&&x.route.id in c&&((M=a[x.route.id])!=null&&M.shouldRevalidate)||F.hasClientLoader?S=!0:A.add(x.route.id))}),A.size===0)return[];let C=gU(i,l);return S&&A.size>0&&C.searchParams.set("_routes",t.filter(x=>A.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[l,c,n,s,d,t,i,a]),b=O.useMemo(()=>uU(p,s),[p,s]),E=bU(p);return O.createElement(O.Fragment,null,v.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),E.map(({key:A,link:S})=>O.createElement("link",{key:A,...S})))}function EU(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var PD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PD&&(window.__reactRouterVersion="7.6.2")}catch{}function AU({basename:i,children:t,window:e}){let n=O.useRef();n.current==null&&(n.current=cV({window:e,v5Compat:!0}));let s=n.current,[a,l]=O.useState({action:s.action,location:s.location}),c=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>s.listen(c),[s,c]),O.createElement(QV,{basename:i,children:t,location:a.location,navigationType:a.action,navigator:s})}var MD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OD=O.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:v,...b},E){let{basename:A}=O.useContext(Ja),S=typeof d=="string"&&MD.test(d),C,x=!1;if(typeof d=="string"&&S&&(C=d,PD))try{let N=new URL(window.location.href),T=d.startsWith("//")?new URL(N.protocol+d):new URL(d),U=fl(T.pathname,A);T.origin===N.origin&&U!=null?d=U+T.search+T.hash:x=!0}catch{Xa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=LV(d,{relative:s}),[M,P,V]=yU(n,b),W=xU(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:v});function D(N){t&&t(N),N.defaultPrevented||W(N)}let I=O.createElement("a",{...b,...V,href:C||F,onClick:x||a?t:D,ref:EU(E,P),target:h,"data-discover":!S&&e==="render"?"true":void 0});return M&&!S?O.createElement(O.Fragment,null,I,O.createElement(vU,{page:F})):I});OD.displayName="Link";var SU=O.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...d},p){let v=Mv(l,{relative:d.relative}),b=nd(),E=O.useContext(PE),{navigator:A,basename:S}=O.useContext(Ja),C=E!=null&&PU(v)&&c===!0,x=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,F=b.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(F=F.toLowerCase(),M=M?M.toLowerCase():null,x=x.toLowerCase()),M&&S&&(M=fl(M,S)||M);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let V=F===x||!s&&F.startsWith(x)&&F.charAt(P)==="/",W=M!=null&&(M===x||!s&&M.startsWith(x)&&M.charAt(x.length)==="/"),D={isActive:V,isPending:W,isTransitioning:C},I=V?t:void 0,N;typeof n=="function"?N=n(D):N=[n,V?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(D):a;return O.createElement(OD,{...d,"aria-current":I,className:N,ref:p,style:T,to:l,viewTransition:c},typeof h=="function"?h(D):h)});SU.displayName="NavLink";var wU=O.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:a,method:l=q0,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:v,...b},E)=>{let A=IU(),S=kU(c,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&MD.test(c),F=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let P=M.nativeEvent.submitter,V=(P==null?void 0:P.getAttribute("formmethod"))||l;A(P||M.currentTarget,{fetcherKey:t,method:V,navigate:e,replace:s,state:a,relative:d,preventScrollReset:p,viewTransition:v})};return O.createElement("form",{ref:E,method:C,action:S,onSubmit:n?h:F,...b,"data-discover":!x&&i==="render"?"true":void 0})});wU.displayName="Form";function TU(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DD(i){let t=O.useContext(Yp);return In(t,TU(i)),t}function xU(i,{target:t,replace:e,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Pv(),h=nd(),d=Mv(i,{relative:a});return O.useCallback(p=>{if(iU(p,t)){p.preventDefault();let v=e!==void 0?e:ey(h)===ey(d);c(i,{replace:v,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,d,e,n,t,i,s,a,l])}var CU=0,RU=()=>`__${String(++CU)}__`;function IU(){let{router:i}=DD("useSubmit"),{basename:t}=O.useContext(Ja),e=WV();return O.useCallback(async(n,s={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=aU(n,t);if(s.navigate===!1){let p=s.fetcherKey||RU();await i.fetch(p,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,t,e])}function kU(i,{relative:t}={}){let{basename:e}=O.useContext(Ja),n=O.useContext(wl);In(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Mv(i||".",{relative:t})},l=nd();if(i==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let p=c.toString();a.search=p?`?${p}`:""}}return(!i||i===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:cl([e,a.pathname])),ey(a)}function PU(i,t={}){let e=O.useContext(wD);In(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DD("useViewTransitionState"),s=Mv(i,{relative:t.relative});if(!e.isTransitioning)return!1;let a=fl(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=fl(e.nextLocation.pathname,n)||e.nextLocation.pathname;return L_(s.pathname,l)!=null||L_(s.pathname,a)!=null}[...pU];var ND=yD();const A0=kx(ND);function pl(i,...t){const e=new URL(`https://mui.com/production-error/?code=${i}`);return t.forEach(n=>e.searchParams.append("args[]",n)),`Minified MUI error #${i}; visit ${e} for the full message.`}function F_(){return F_=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},F_.apply(null,arguments)}function MU(i){if(i.sheet)return i.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===i)return document.styleSheets[t]}function OU(i){var t=document.createElement("style");return t.setAttribute("data-emotion",i.key),i.nonce!==void 0&&t.setAttribute("nonce",i.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var DU=function(){function i(e){var n=this;this._insertTag=function(s){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,a),n.tags.push(s)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=i.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OU(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=MU(s);try{a.insertRule(n,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},i}(),Wi="-ms-",V_="-moz-",Le="-webkit-",LD="comm",Fx="rule",Vx="decl",NU="@import",FD="@keyframes",LU="@layer",FU=Math.abs,OE=String.fromCharCode,VU=Object.assign;function UU(i,t){return Bi(i,0)^45?(((t<<2^Bi(i,0))<<2^Bi(i,1))<<2^Bi(i,2))<<2^Bi(i,3):0}function VD(i){return i.trim()}function BU(i,t){return(i=t.exec(i))?i[0]:i}function Ve(i,t,e){return i.replace(t,e)}function gT(i,t){return i.indexOf(t)}function Bi(i,t){return i.charCodeAt(t)|0}function ny(i,t,e){return i.slice(t,e)}function Ua(i){return i.length}function Ux(i){return i.length}function S0(i,t){return t.push(i),i}function zU(i,t){return i.map(t).join("")}var DE=1,Lp=1,UD=0,ks=0,ei=0,Xp="";function NE(i,t,e,n,s,a,l){return{value:i,root:t,parent:e,type:n,props:s,children:a,line:DE,column:Lp,length:l,return:""}}function fm(i,t){return VU(NE("",null,null,"",null,null,0),i,{length:-i.length},t)}function jU(){return ei}function HU(){return ei=ks>0?Bi(Xp,--ks):0,Lp--,ei===10&&(Lp=1,DE--),ei}function Zs(){return ei=ks<UD?Bi(Xp,ks++):0,Lp++,ei===10&&(Lp=1,DE++),ei}function $a(){return Bi(Xp,ks)}function W0(){return ks}function Ov(i,t){return ny(Xp,i,t)}function iy(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BD(i){return DE=Lp=1,UD=Ua(Xp=i),ks=0,[]}function zD(i){return Xp="",i}function K0(i){return VD(Ov(ks-1,mT(i===91?i+2:i===40?i+1:i)))}function $U(i){for(;(ei=$a())&&ei<33;)Zs();return iy(i)>2||iy(ei)>3?"":" "}function qU(i,t){for(;--t&&Zs()&&!(ei<48||ei>102||ei>57&&ei<65||ei>70&&ei<97););return Ov(i,W0()+(t<6&&$a()==32&&Zs()==32))}function mT(i){for(;Zs();)switch(ei){case i:return ks;case 34:case 39:i!==34&&i!==39&&mT(ei);break;case 40:i===41&&mT(i);break;case 92:Zs();break}return ks}function GU(i,t){for(;Zs()&&i+ei!==57;)if(i+ei===84&&$a()===47)break;return"/*"+Ov(t,ks-1)+"*"+OE(i===47?i:Zs())}function WU(i){for(;!iy($a());)Zs();return Ov(i,ks)}function KU(i){return zD(Y0("",null,null,null,[""],i=BD(i),0,[0],i))}function Y0(i,t,e,n,s,a,l,c,h){for(var d=0,p=0,v=l,b=0,E=0,A=0,S=1,C=1,x=1,F=0,M="",P=s,V=a,W=n,D=M;C;)switch(A=F,F=Zs()){case 40:if(A!=108&&Bi(D,v-1)==58){gT(D+=Ve(K0(F),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=K0(F);break;case 9:case 10:case 13:case 32:D+=$U(A);break;case 92:D+=qU(W0()-1,7);continue;case 47:switch($a()){case 42:case 47:S0(YU(GU(Zs(),W0()),t,e),h);break;default:D+="/"}break;case 123*S:c[d++]=Ua(D)*x;case 125*S:case 59:case 0:switch(F){case 0:case 125:C=0;case 59+p:x==-1&&(D=Ve(D,/\f/g,"")),E>0&&Ua(D)-v&&S0(E>32?Qk(D+";",n,e,v-1):Qk(Ve(D," ","")+";",n,e,v-2),h);break;case 59:D+=";";default:if(S0(W=Xk(D,t,e,d,p,s,c,M,P=[],V=[],v),a),F===123)if(p===0)Y0(D,t,W,W,P,a,v,c,V);else switch(b===99&&Bi(D,3)===110?100:b){case 100:case 108:case 109:case 115:Y0(i,W,W,n&&S0(Xk(i,W,W,0,0,s,c,M,s,P=[],v),V),s,V,v,c,n?P:V);break;default:Y0(D,W,W,W,[""],V,0,c,V)}}d=p=E=0,S=x=1,M=D="",v=l;break;case 58:v=1+Ua(D),E=A;default:if(S<1){if(F==123)--S;else if(F==125&&S++==0&&HU()==125)continue}switch(D+=OE(F),F*S){case 38:x=p>0?1:(D+="\f",-1);break;case 44:c[d++]=(Ua(D)-1)*x,x=1;break;case 64:$a()===45&&(D+=K0(Zs())),b=$a(),p=v=Ua(M=D+=WU(W0())),F++;break;case 45:A===45&&Ua(D)==2&&(S=0)}}return a}function Xk(i,t,e,n,s,a,l,c,h,d,p){for(var v=s-1,b=s===0?a:[""],E=Ux(b),A=0,S=0,C=0;A<n;++A)for(var x=0,F=ny(i,v+1,v=FU(S=l[A])),M=i;x<E;++x)(M=VD(S>0?b[x]+" "+F:Ve(F,/&\f/g,b[x])))&&(h[C++]=M);return NE(i,t,e,s===0?Fx:c,h,d,p)}function YU(i,t,e){return NE(i,t,e,LD,OE(jU()),ny(i,2,-2),0)}function Qk(i,t,e,n){return NE(i,t,e,Vx,ny(i,0,n),ny(i,n+1,-1),n)}function Af(i,t){for(var e="",n=Ux(i),s=0;s<n;s++)e+=t(i[s],s,i,t)||"";return e}function XU(i,t,e,n){switch(i.type){case LU:if(i.children.length)break;case NU:case Vx:return i.return=i.return||i.value;case LD:return"";case FD:return i.return=i.value+"{"+Af(i.children,n)+"}";case Fx:i.value=i.props.join(",")}return Ua(e=Af(i.children,n))?i.return=i.value+"{"+e+"}":""}function QU(i){var t=Ux(i);return function(e,n,s,a){for(var l="",c=0;c<t;c++)l+=i[c](e,n,s,a)||"";return l}}function ZU(i){return function(t){t.root||(t=t.return)&&i(t)}}function jD(i){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=i(e)),t[e]}}var JU=function(t,e,n){for(var s=0,a=0;s=a,a=$a(),s===38&&a===12&&(e[n]=1),!iy(a);)Zs();return Ov(t,ks)},tB=function(t,e){var n=-1,s=44;do switch(iy(s)){case 0:s===38&&$a()===12&&(e[n]=1),t[n]+=JU(ks-1,e,n);break;case 2:t[n]+=K0(s);break;case 4:if(s===44){t[++n]=$a()===58?"&\f":"",e[n]=t[n].length;break}default:t[n]+=OE(s)}while(s=Zs());return t},eB=function(t,e){return zD(tB(BD(t),e))},Zk=new WeakMap,nB=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!Zk.get(n))&&!s){Zk.set(t,!0);for(var a=[],l=eB(e,a),c=n.props,h=0,d=0;h<l.length;h++)for(var p=0;p<c.length;p++,d++)t.props[d]=a[h]?l[h].replace(/&\f/g,c[p]):c[p]+" "+l[h]}}},iB=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function HD(i,t){switch(UU(i,t)){case 5103:return Le+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Le+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Le+i+V_+i+Wi+i+i;case 6828:case 4268:return Le+i+Wi+i+i;case 6165:return Le+i+Wi+"flex-"+i+i;case 5187:return Le+i+Ve(i,/(\w+).+(:[^]+)/,Le+"box-$1$2"+Wi+"flex-$1$2")+i;case 5443:return Le+i+Wi+"flex-item-"+Ve(i,/flex-|-self/,"")+i;case 4675:return Le+i+Wi+"flex-line-pack"+Ve(i,/align-content|flex-|-self/,"")+i;case 5548:return Le+i+Wi+Ve(i,"shrink","negative")+i;case 5292:return Le+i+Wi+Ve(i,"basis","preferred-size")+i;case 6060:return Le+"box-"+Ve(i,"-grow","")+Le+i+Wi+Ve(i,"grow","positive")+i;case 4554:return Le+Ve(i,/([^-])(transform)/g,"$1"+Le+"$2")+i;case 6187:return Ve(Ve(Ve(i,/(zoom-|grab)/,Le+"$1"),/(image-set)/,Le+"$1"),i,"")+i;case 5495:case 3959:return Ve(i,/(image-set\([^]*)/,Le+"$1$`$1");case 4968:return Ve(Ve(i,/(.+:)(flex-)?(.*)/,Le+"box-pack:$3"+Wi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Le+i+i;case 4095:case 3583:case 4068:case 2532:return Ve(i,/(.+)-inline(.+)/,Le+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ua(i)-1-t>6)switch(Bi(i,t+1)){case 109:if(Bi(i,t+4)!==45)break;case 102:return Ve(i,/(.+:)(.+)-([^]+)/,"$1"+Le+"$2-$3$1"+V_+(Bi(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~gT(i,"stretch")?HD(Ve(i,"stretch","fill-available"),t)+i:i}break;case 4949:if(Bi(i,t+1)!==115)break;case 6444:switch(Bi(i,Ua(i)-3-(~gT(i,"!important")&&10))){case 107:return Ve(i,":",":"+Le)+i;case 101:return Ve(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Le+(Bi(i,14)===45?"inline-":"")+"box$3$1"+Le+"$2$3$1"+Wi+"$2box$3")+i}break;case 5936:switch(Bi(i,t+11)){case 114:return Le+i+Wi+Ve(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Le+i+Wi+Ve(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Le+i+Wi+Ve(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Le+i+Wi+i+i}return i}var sB=function(t,e,n,s){if(t.length>-1&&!t.return)switch(t.type){case Vx:t.return=HD(t.value,t.length);break;case FD:return Af([fm(t,{value:Ve(t.value,"@","@"+Le)})],s);case Fx:if(t.length)return zU(t.props,function(a){switch(BU(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Af([fm(t,{props:[Ve(a,/:(read-\w+)/,":"+V_+"$1")]})],s);case"::placeholder":return Af([fm(t,{props:[Ve(a,/:(plac\w+)/,":"+Le+"input-$1")]}),fm(t,{props:[Ve(a,/:(plac\w+)/,":"+V_+"$1")]}),fm(t,{props:[Ve(a,/:(plac\w+)/,Wi+"input-$1")]})],s)}return""})}},rB=[sB],aB=function(t){var e=t.key;if(e==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var C=S.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=t.stylisPlugins||rB,a={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(S){for(var C=S.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)a[C[x]]=!0;c.push(S)});var h,d=[nB,iB];{var p,v=[XU,ZU(function(S){p.insert(S)})],b=QU(d.concat(s,v)),E=function(C){return Af(KU(C),b)};h=function(C,x,F,M){p=F,E(C?C+"{"+x.styles+"}":x.styles),M&&(A.inserted[x.name]=!0)}}var A={key:e,sheet:new DU({key:e,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:h};return A.sheet.hydrate(c),A},Mw={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk;function oB(){if(Jk)return ze;Jk=1;var i=typeof Symbol=="function"&&Symbol.for,t=i?Symbol.for("react.element"):60103,e=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,v=i?Symbol.for("react.suspense"):60113,b=i?Symbol.for("react.suspense_list"):60120,E=i?Symbol.for("react.memo"):60115,A=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,C=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.responder"):60118,F=i?Symbol.for("react.scope"):60119;function M(V){if(typeof V=="object"&&V!==null){var W=V.$$typeof;switch(W){case t:switch(V=V.type,V){case h:case d:case n:case a:case s:case v:return V;default:switch(V=V&&V.$$typeof,V){case c:case p:case A:case E:case l:return V;default:return W}}case e:return W}}}function P(V){return M(V)===d}return ze.AsyncMode=h,ze.ConcurrentMode=d,ze.ContextConsumer=c,ze.ContextProvider=l,ze.Element=t,ze.ForwardRef=p,ze.Fragment=n,ze.Lazy=A,ze.Memo=E,ze.Portal=e,ze.Profiler=a,ze.StrictMode=s,ze.Suspense=v,ze.isAsyncMode=function(V){return P(V)||M(V)===h},ze.isConcurrentMode=P,ze.isContextConsumer=function(V){return M(V)===c},ze.isContextProvider=function(V){return M(V)===l},ze.isElement=function(V){return typeof V=="object"&&V!==null&&V.$$typeof===t},ze.isForwardRef=function(V){return M(V)===p},ze.isFragment=function(V){return M(V)===n},ze.isLazy=function(V){return M(V)===A},ze.isMemo=function(V){return M(V)===E},ze.isPortal=function(V){return M(V)===e},ze.isProfiler=function(V){return M(V)===a},ze.isStrictMode=function(V){return M(V)===s},ze.isSuspense=function(V){return M(V)===v},ze.isValidElementType=function(V){return typeof V=="string"||typeof V=="function"||V===n||V===d||V===a||V===s||V===v||V===b||typeof V=="object"&&V!==null&&(V.$$typeof===A||V.$$typeof===E||V.$$typeof===l||V.$$typeof===c||V.$$typeof===p||V.$$typeof===C||V.$$typeof===x||V.$$typeof===F||V.$$typeof===S)},ze.typeOf=M,ze}var tP;function lB(){return tP||(tP=1,Mw.exports=oB()),Mw.exports}var Ow,eP;function cB(){if(eP)return Ow;eP=1;var i=lB(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[i.ForwardRef]=n,a[i.Memo]=s;function l(A){return i.isMemo(A)?s:a[A.$$typeof]||t}var c=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,b=Object.prototype;function E(A,S,C){if(typeof S!="string"){if(b){var x=v(S);x&&x!==b&&E(A,x,C)}var F=h(S);d&&(F=F.concat(d(S)));for(var M=l(A),P=l(S),V=0;V<F.length;++V){var W=F[V];if(!e[W]&&!(C&&C[W])&&!(P&&P[W])&&!(M&&M[W])){var D=p(S,W);try{c(A,W,D)}catch{}}}}return A}return Ow=E,Ow}cB();var uB=!0;function $D(i,t,e){var n="";return e.split(" ").forEach(function(s){i[s]!==void 0?t.push(i[s]+";"):s&&(n+=s+" ")}),n}var Bx=function(t,e,n){var s=t.key+"-"+e.name;(n===!1||uB===!1)&&t.registered[s]===void 0&&(t.registered[s]=e.styles)},zx=function(t,e,n){Bx(t,e,n);var s=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var a=e;do t.insert(e===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function hB(i){for(var t=0,e,n=0,s=i.length;s>=4;++n,s-=4)e=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(i.charCodeAt(n+2)&255)<<16;case 2:t^=(i.charCodeAt(n+1)&255)<<8;case 1:t^=i.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fB=/[A-Z]|^ms/g,pB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qD=function(t){return t.charCodeAt(1)===45},nP=function(t){return t!=null&&typeof t!="boolean"},Dw=jD(function(i){return qD(i)?i:i.replace(fB,"-$&").toLowerCase()}),iP=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(pB,function(n,s,a){return Ba={name:s,styles:a,next:Ba},s})}return dB[t]!==1&&!qD(t)&&typeof e=="number"&&e!==0?e+"px":e};function sy(i,t,e){if(e==null)return"";var n=e;if(n.__emotion_styles!==void 0)return n;switch(typeof e){case"boolean":return"";case"object":{var s=e;if(s.anim===1)return Ba={name:s.name,styles:s.styles,next:Ba},s.name;var a=e;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)Ba={name:l.name,styles:l.styles,next:Ba},l=l.next;var c=a.styles+";";return c}return gB(i,t,e)}case"function":{if(i!==void 0){var h=Ba,d=e(i);return Ba=h,sy(i,t,d)}break}}var p=e;if(t==null)return p;var v=t[p];return v!==void 0?v:p}function gB(i,t,e){var n="";if(Array.isArray(e))for(var s=0;s<e.length;s++)n+=sy(i,t,e[s])+";";else for(var a in e){var l=e[a];if(typeof l!="object"){var c=l;t!=null&&t[c]!==void 0?n+=a+"{"+t[c]+"}":nP(c)&&(n+=Dw(a)+":"+iP(a,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var h=0;h<l.length;h++)nP(l[h])&&(n+=Dw(a)+":"+iP(a,l[h])+";");else{var d=sy(i,t,l);switch(a){case"animation":case"animationName":{n+=Dw(a)+":"+d+";";break}default:n+=a+"{"+d+"}"}}}return n}var sP=/label:\s*([^\s;{]+)\s*(;|$)/g,Ba;function Dv(i,t,e){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var n=!0,s="";Ba=void 0;var a=i[0];if(a==null||a.raw===void 0)n=!1,s+=sy(e,t,a);else{var l=a;s+=l[0]}for(var c=1;c<i.length;c++)if(s+=sy(e,t,i[c]),n){var h=a;s+=h[c]}sP.lastIndex=0;for(var d="",p;(p=sP.exec(s))!==null;)d+="-"+p[1];var v=hB(s)+d;return{name:v,styles:s,next:Ba}}var mB=function(t){return t()},GD=dT.useInsertionEffect?dT.useInsertionEffect:!1,WD=GD||mB,rP=GD||O.useLayoutEffect,KD=O.createContext(typeof HTMLElement<"u"?aB({key:"css"}):null);KD.Provider;var jx=function(t){return O.forwardRef(function(e,n){var s=O.useContext(KD);return t(e,s,n)})},Nv=O.createContext({}),Hx={}.hasOwnProperty,yT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yB=function(t,e){var n={};for(var s in e)Hx.call(e,s)&&(n[s]=e[s]);return n[yT]=t,n},vB=function(t){var e=t.cache,n=t.serialized,s=t.isStringTag;return Bx(e,n,s),WD(function(){return zx(e,n,s)}),null},bB=jx(function(i,t,e){var n=i.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=i[yT],a=[n],l="";typeof i.className=="string"?l=$D(t.registered,a,i.className):i.className!=null&&(l=i.className+" ");var c=Dv(a,void 0,O.useContext(Nv));l+=t.key+"-"+c.name;var h={};for(var d in i)Hx.call(i,d)&&d!=="css"&&d!==yT&&(h[d]=i[d]);return h.className=l,e&&(h.ref=e),O.createElement(O.Fragment,null,O.createElement(vB,{cache:t,serialized:c,isStringTag:typeof s=="string"}),O.createElement(s,h))}),_B=bB,aP=function(t,e){var n=arguments;if(e==null||!Hx.call(e,"css"))return O.createElement.apply(void 0,n);var s=n.length,a=new Array(s);a[0]=_B,a[1]=yB(t,e);for(var l=2;l<s;l++)a[l]=n[l];return O.createElement.apply(null,a)};(function(i){var t;t||(t=i.JSX||(i.JSX={}))})(aP||(aP={}));var EB=jx(function(i,t){var e=i.styles,n=Dv([e],void 0,O.useContext(Nv)),s=O.useRef();return rP(function(){var a=t.key+"-global",l=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,h=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),h!==null&&(c=!0,h.setAttribute("data-emotion",a),l.hydrate([h])),s.current=[l,c],function(){l.flush()}},[t]),rP(function(){var a=s.current,l=a[0],c=a[1];if(c){a[1]=!1;return}if(n.next!==void 0&&zx(t,n.next,!0),l.tags.length){var h=l.tags[l.tags.length-1].nextElementSibling;l.before=h,l.flush()}t.insert("",n,l,!1)},[t,n.name]),null});function Lv(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return Dv(t)}function id(){var i=Lv.apply(void 0,arguments),t="animation-"+i.name;return{name:t,styles:"@keyframes "+t+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var AB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,SB=jD(function(i){return AB.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),wB=SB,TB=function(t){return t!=="theme"},oP=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?wB:TB},lP=function(t,e,n){var s;if(e){var a=e.shouldForwardProp;s=t.__emotion_forwardProp&&a?function(l){return t.__emotion_forwardProp(l)&&a(l)}:a}return typeof s!="function"&&n&&(s=t.__emotion_forwardProp),s},xB=function(t){var e=t.cache,n=t.serialized,s=t.isStringTag;return Bx(e,n,s),WD(function(){return zx(e,n,s)}),null},CB=function i(t,e){var n=t.__emotion_real===t,s=n&&t.__emotion_base||t,a,l;e!==void 0&&(a=e.label,l=e.target);var c=lP(t,e,n),h=c||oP(s),d=!h("as");return function(){var p=arguments,v=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&v.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)v.push.apply(v,p);else{var b=p[0];v.push(b[0]);for(var E=p.length,A=1;A<E;A++)v.push(p[A],b[A])}var S=jx(function(C,x,F){var M=d&&C.as||s,P="",V=[],W=C;if(C.theme==null){W={};for(var D in C)W[D]=C[D];W.theme=O.useContext(Nv)}typeof C.className=="string"?P=$D(x.registered,V,C.className):C.className!=null&&(P=C.className+" ");var I=Dv(v.concat(V),x.registered,W);P+=x.key+"-"+I.name,l!==void 0&&(P+=" "+l);var N=d&&c===void 0?oP(M):h,T={};for(var U in C)d&&U==="as"||N(U)&&(T[U]=C[U]);return T.className=P,F&&(T.ref=F),O.createElement(O.Fragment,null,O.createElement(xB,{cache:x,serialized:I,isStringTag:typeof M=="string"}),O.createElement(M,T))});return S.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=v,S.__emotion_forwardProp=c,Object.defineProperty(S,"toString",{value:function(){return"."+l}}),S.withComponent=function(C,x){var F=i(C,F_({},e,x,{shouldForwardProp:lP(S,x,!0)}));return F.apply(void 0,v)},S}},RB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vT=CB.bind(null);RB.forEach(function(i){vT[i]=vT(i)});function IB(i){return i==null||Object.keys(i).length===0}function YD(i){const{styles:t,defaultTheme:e={}}=i,n=typeof t=="function"?s=>t(IB(s)?e:s):t;return z.jsx(EB,{styles:n})}function XD(i,t){return vT(i,t)}function kB(i,t){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=t(i.__emotion_styles))}const cP=[];function uP(i){return cP[0]=i,Dv(cP)}var Nw={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function PB(){if(hP)return en;hP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case i:switch(S=S.type,S){case e:case s:case n:case h:case d:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case v:case p:return S;case a:return S;default:return C}}case t:return C}}}return en.ContextConsumer=a,en.ContextProvider=l,en.Element=i,en.ForwardRef=c,en.Fragment=e,en.Lazy=v,en.Memo=p,en.Portal=t,en.Profiler=s,en.StrictMode=n,en.Suspense=h,en.SuspenseList=d,en.isContextConsumer=function(S){return A(S)===a},en.isContextProvider=function(S){return A(S)===l},en.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===i},en.isForwardRef=function(S){return A(S)===c},en.isFragment=function(S){return A(S)===e},en.isLazy=function(S){return A(S)===v},en.isMemo=function(S){return A(S)===p},en.isPortal=function(S){return A(S)===t},en.isProfiler=function(S){return A(S)===s},en.isStrictMode=function(S){return A(S)===n},en.isSuspense=function(S){return A(S)===h},en.isSuspenseList=function(S){return A(S)===d},en.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===e||S===s||S===n||S===h||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===v||S.$$typeof===p||S.$$typeof===l||S.$$typeof===a||S.$$typeof===c||S.$$typeof===E||S.getModuleId!==void 0)},en.typeOf=A,en}var dP;function MB(){return dP||(dP=1,Nw.exports=PB()),Nw.exports}var QD=MB();function za(i){if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function ZD(i){if(O.isValidElement(i)||QD.isValidElementType(i)||!za(i))return i;const t={};return Object.keys(i).forEach(e=>{t[e]=ZD(i[e])}),t}function rs(i,t,e={clone:!0}){const n=e.clone?{...i}:i;return za(i)&&za(t)&&Object.keys(t).forEach(s=>{O.isValidElement(t[s])||QD.isValidElementType(t[s])?n[s]=t[s]:za(t[s])&&Object.prototype.hasOwnProperty.call(i,s)&&za(i[s])?n[s]=rs(i[s],t[s],e):e.clone?n[s]=za(t[s])?ZD(t[s]):t[s]:n[s]=t[s]}),n}const OB=i=>{const t=Object.keys(i).map(e=>({key:e,val:i[e]}))||[];return t.sort((e,n)=>e.val-n.val),t.reduce((e,n)=>({...e,[n.key]:n.val}),{})};function DB(i){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:n=5,...s}=i,a=OB(t),l=Object.keys(a);function c(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e})`}function h(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-n/100}${e})`}function d(b,E){const A=l.indexOf(E);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e}) and (max-width:${(A!==-1&&typeof t[l[A]]=="number"?t[l[A]]:E)-n/100}${e})`}function p(b){return l.indexOf(b)+1<l.length?d(b,l[l.indexOf(b)+1]):c(b)}function v(b){const E=l.indexOf(b);return E===0?c(l[1]):E===l.length-1?h(l[E]):d(b,l[l.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:c,down:h,between:d,only:p,not:v,unit:e,...s}}function NB(i,t){if(!i.containerQueries)return t;const e=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,s)=>{var l,c;const a=/min-width:\s*([0-9.]+)/;return+(((l=n.match(a))==null?void 0:l[1])||0)-+(((c=s.match(a))==null?void 0:c[1])||0)});return e.length?e.reduce((n,s)=>{const a=t[s];return delete n[s],n[s]=a,n},{...t}):t}function LB(i,t){return t==="@"||t.startsWith("@")&&(i.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function FB(i,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,n,s]=e,a=Number.isNaN(+n)?n||0:+n;return i.containerQueries(s).up(a)}function VB(i){const t=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function e(a,l){a.up=(...c)=>t(i.breakpoints.up(...c),l),a.down=(...c)=>t(i.breakpoints.down(...c),l),a.between=(...c)=>t(i.breakpoints.between(...c),l),a.only=(...c)=>t(i.breakpoints.only(...c),l),a.not=(...c)=>{const h=t(i.breakpoints.not(...c),l);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const n={},s=a=>(e(n,a),n);return e(s),{...i,containerQueries:s}}const UB={borderRadius:4};function Hm(i,t){return t?rs(i,t,{clone:!1}):i}const LE={xs:0,sm:600,md:900,lg:1200,xl:1536},fP={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${LE[i]}px)`},BB={containerQueries:i=>({up:t=>{let e=typeof t=="number"?t:LE[t]||t;return typeof e=="number"&&(e=`${e}px`),i?`@container ${i} (min-width:${e})`:`@container (min-width:${e})`}})};function gl(i,t,e){const n=i.theme||{};if(Array.isArray(t)){const a=n.breakpoints||fP;return t.reduce((l,c,h)=>(l[a.up(a.keys[h])]=e(t[h]),l),{})}if(typeof t=="object"){const a=n.breakpoints||fP;return Object.keys(t).reduce((l,c)=>{if(LB(a.keys,c)){const h=FB(n.containerQueries?n:BB,c);h&&(l[h]=e(t[c],c))}else if(Object.keys(a.values||LE).includes(c)){const h=a.up(c);l[h]=e(t[c],c)}else{const h=c;l[h]=t[h]}return l},{})}return e(t)}function zB(i={}){var e;return((e=i.keys)==null?void 0:e.reduce((n,s)=>{const a=i.up(s);return n[a]={},n},{}))||{}}function jB(i,t){return i.reduce((e,n)=>{const s=e[n];return(!s||Object.keys(s).length===0)&&delete e[n],e},t)}function qt(i){if(typeof i!="string")throw new Error(pl(7));return i.charAt(0).toUpperCase()+i.slice(1)}function FE(i,t,e=!0){if(!t||typeof t!="string")return null;if(i&&i.vars&&e){const n=`vars.${t}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,i);if(n!=null)return n}return t.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,i)}function U_(i,t,e,n=e){let s;return typeof i=="function"?s=i(e):Array.isArray(i)?s=i[e]||n:s=FE(i,e)||n,t&&(s=t(s,n,i)),s}function Wn(i){const{prop:t,cssProperty:e=i.prop,themeKey:n,transform:s}=i,a=l=>{if(l[t]==null)return null;const c=l[t],h=l.theme,d=FE(h,n)||{};return gl(l,c,v=>{let b=U_(d,s,v);return v===b&&typeof v=="string"&&(b=U_(d,s,`${t}${v==="default"?"":qt(v)}`,v)),e===!1?b:{[e]:b}})};return a.propTypes={},a.filterProps=[t],a}function HB(i){const t={};return e=>(t[e]===void 0&&(t[e]=i(e)),t[e])}const $B={m:"margin",p:"padding"},qB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},GB=HB(i=>{if(i.length>2)if(pP[i])i=pP[i];else return[i];const[t,e]=i.split(""),n=$B[t],s=qB[e]||"";return Array.isArray(s)?s.map(a=>n+a):[n+s]}),$x=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$x,...qx];function Fv(i,t,e,n){const s=FE(i,t,!0)??e;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),c=s[l];return a>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof s=="function"?s:()=>{}}function Gx(i){return Fv(i,"spacing",8)}function Vv(i,t){return typeof t=="string"||t==null?t:i(t)}function WB(i,t){return e=>i.reduce((n,s)=>(n[s]=Vv(t,e),n),{})}function KB(i,t,e,n){if(!t.includes(e))return null;const s=GB(e),a=WB(s,n),l=i[e];return gl(i,l,a)}function JD(i,t){const e=Gx(i.theme);return Object.keys(i).map(n=>KB(i,t,n,e)).reduce(Hm,{})}function Nn(i){return JD(i,$x)}Nn.propTypes={};Nn.filterProps=$x;function Ln(i){return JD(i,qx)}Ln.propTypes={};Ln.filterProps=qx;function tN(i=8,t=Gx({spacing:i})){if(i.mui)return i;const e=(...n)=>(n.length===0?[1]:n).map(a=>{const l=t(a);return typeof l=="number"?`${l}px`:l}).join(" ");return e.mui=!0,e}function VE(...i){const t=i.reduce((n,s)=>(s.filterProps.forEach(a=>{n[a]=s}),n),{}),e=n=>Object.keys(n).reduce((s,a)=>t[a]?Hm(s,t[a](n)):s,{});return e.propTypes={},e.filterProps=i.reduce((n,s)=>n.concat(s.filterProps),[]),e}function _r(i){return typeof i!="number"?i:`${i}px solid`}function Tr(i,t){return Wn({prop:i,themeKey:"borders",transform:t})}const YB=Tr("border",_r),XB=Tr("borderTop",_r),QB=Tr("borderRight",_r),ZB=Tr("borderBottom",_r),JB=Tr("borderLeft",_r),tz=Tr("borderColor"),ez=Tr("borderTopColor"),nz=Tr("borderRightColor"),iz=Tr("borderBottomColor"),sz=Tr("borderLeftColor"),rz=Tr("outline",_r),az=Tr("outlineColor"),UE=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const t=Fv(i.theme,"shape.borderRadius",4),e=n=>({borderRadius:Vv(t,n)});return gl(i,i.borderRadius,e)}return null};UE.propTypes={};UE.filterProps=["borderRadius"];VE(YB,XB,QB,ZB,JB,tz,ez,nz,iz,sz,UE,rz,az);const BE=i=>{if(i.gap!==void 0&&i.gap!==null){const t=Fv(i.theme,"spacing",8),e=n=>({gap:Vv(t,n)});return gl(i,i.gap,e)}return null};BE.propTypes={};BE.filterProps=["gap"];const zE=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const t=Fv(i.theme,"spacing",8),e=n=>({columnGap:Vv(t,n)});return gl(i,i.columnGap,e)}return null};zE.propTypes={};zE.filterProps=["columnGap"];const jE=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const t=Fv(i.theme,"spacing",8),e=n=>({rowGap:Vv(t,n)});return gl(i,i.rowGap,e)}return null};jE.propTypes={};jE.filterProps=["rowGap"];const oz=Wn({prop:"gridColumn"}),lz=Wn({prop:"gridRow"}),cz=Wn({prop:"gridAutoFlow"}),uz=Wn({prop:"gridAutoColumns"}),hz=Wn({prop:"gridAutoRows"}),dz=Wn({prop:"gridTemplateColumns"}),fz=Wn({prop:"gridTemplateRows"}),pz=Wn({prop:"gridTemplateAreas"}),gz=Wn({prop:"gridArea"});VE(BE,zE,jE,oz,lz,cz,uz,hz,dz,fz,pz,gz);function Sf(i,t){return t==="grey"?t:i}const mz=Wn({prop:"color",themeKey:"palette",transform:Sf}),yz=Wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Sf}),vz=Wn({prop:"backgroundColor",themeKey:"palette",transform:Sf});VE(mz,yz,vz);function Qs(i){return i<=1&&i!==0?`${i*100}%`:i}const bz=Wn({prop:"width",transform:Qs}),Wx=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const t=e=>{var s,a,l,c,h;const n=((l=(a=(s=i.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:l[e])||LE[e];return n?((h=(c=i.theme)==null?void 0:c.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${n}${i.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Qs(e)}};return gl(i,i.maxWidth,t)}return null};Wx.filterProps=["maxWidth"];const _z=Wn({prop:"minWidth",transform:Qs}),Ez=Wn({prop:"height",transform:Qs}),Az=Wn({prop:"maxHeight",transform:Qs}),Sz=Wn({prop:"minHeight",transform:Qs});Wn({prop:"size",cssProperty:"width",transform:Qs});Wn({prop:"size",cssProperty:"height",transform:Qs});const wz=Wn({prop:"boxSizing"});VE(bz,Wx,_z,Ez,Az,Sz,wz);const Uv={border:{themeKey:"borders",transform:_r},borderTop:{themeKey:"borders",transform:_r},borderRight:{themeKey:"borders",transform:_r},borderBottom:{themeKey:"borders",transform:_r},borderLeft:{themeKey:"borders",transform:_r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:UE},color:{themeKey:"palette",transform:Sf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Sf},backgroundColor:{themeKey:"palette",transform:Sf},p:{style:Ln},pt:{style:Ln},pr:{style:Ln},pb:{style:Ln},pl:{style:Ln},px:{style:Ln},py:{style:Ln},padding:{style:Ln},paddingTop:{style:Ln},paddingRight:{style:Ln},paddingBottom:{style:Ln},paddingLeft:{style:Ln},paddingX:{style:Ln},paddingY:{style:Ln},paddingInline:{style:Ln},paddingInlineStart:{style:Ln},paddingInlineEnd:{style:Ln},paddingBlock:{style:Ln},paddingBlockStart:{style:Ln},paddingBlockEnd:{style:Ln},m:{style:Nn},mt:{style:Nn},mr:{style:Nn},mb:{style:Nn},ml:{style:Nn},mx:{style:Nn},my:{style:Nn},margin:{style:Nn},marginTop:{style:Nn},marginRight:{style:Nn},marginBottom:{style:Nn},marginLeft:{style:Nn},marginX:{style:Nn},marginY:{style:Nn},marginInline:{style:Nn},marginInlineStart:{style:Nn},marginInlineEnd:{style:Nn},marginBlock:{style:Nn},marginBlockStart:{style:Nn},marginBlockEnd:{style:Nn},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:BE},rowGap:{style:jE},columnGap:{style:zE},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qs},maxWidth:{style:Wx},minWidth:{transform:Qs},height:{transform:Qs},maxHeight:{transform:Qs},minHeight:{transform:Qs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Tz(...i){const t=i.reduce((n,s)=>n.concat(Object.keys(s)),[]),e=new Set(t);return i.every(n=>e.size===Object.keys(n).length)}function xz(i,t){return typeof i=="function"?i(t):i}function Cz(){function i(e,n,s,a){const l={[e]:n,theme:s},c=a[e];if(!c)return{[e]:n};const{cssProperty:h=e,themeKey:d,transform:p,style:v}=c;if(n==null)return null;if(d==="typography"&&n==="inherit")return{[e]:n};const b=FE(s,d)||{};return v?v(l):gl(l,n,A=>{let S=U_(b,p,A);return A===S&&typeof A=="string"&&(S=U_(b,p,`${e}${A==="default"?"":qt(A)}`,A)),h===!1?S:{[h]:S}})}function t(e){const{sx:n,theme:s={}}=e||{};if(!n)return null;const a=s.unstable_sxConfig??Uv;function l(c){let h=c;if(typeof c=="function")h=c(s);else if(typeof c!="object")return c;if(!h)return null;const d=zB(s.breakpoints),p=Object.keys(d);let v=d;return Object.keys(h).forEach(b=>{const E=xz(h[b],s);if(E!=null)if(typeof E=="object")if(a[b])v=Hm(v,i(b,E,s,a));else{const A=gl({theme:s},E,S=>({[b]:S}));Tz(A,E)?v[b]=t({sx:E,theme:s}):v=Hm(v,A)}else v=Hm(v,i(b,E,s,a))}),NB(s,jB(p,v))}return Array.isArray(n)?n.map(l):l(n)}return t}const jc=Cz();jc.filterProps=["sx"];function Rz(i,t){var n;const e=this;if(e.vars){if(!((n=e.colorSchemes)!=null&&n[i])||typeof e.getColorSchemeSelector!="function")return{};let s=e.getColorSchemeSelector(i);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return e.palette.mode===i?t:{}}function Kx(i={},...t){const{breakpoints:e={},palette:n={},spacing:s,shape:a={},...l}=i,c=DB(e),h=tN(s);let d=rs({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:h,shape:{...UB,...a}},l);return d=VB(d),d.applyStyles=Rz,d=t.reduce((p,v)=>rs(p,v),d),d.unstable_sxConfig={...Uv,...l==null?void 0:l.unstable_sxConfig},d.unstable_sx=function(v){return jc({sx:v,theme:this})},d}function Iz(i){return Object.keys(i).length===0}function eN(i=null){const t=O.useContext(Nv);return!t||Iz(t)?i:t}const kz=Kx();function Yx(i=kz){return eN(i)}function Pz({styles:i,themeId:t,defaultTheme:e={}}){const n=Yx(e),s=typeof i=="function"?i(t&&n[t]||n):i;return z.jsx(YD,{styles:s})}const Mz=i=>{var n;const t={systemProps:{},otherProps:{}},e=((n=i==null?void 0:i.theme)==null?void 0:n.unstable_sxConfig)??Uv;return Object.keys(i).forEach(s=>{e[s]?t.systemProps[s]=i[s]:t.otherProps[s]=i[s]}),t};function nN(i){const{sx:t,...e}=i,{systemProps:n,otherProps:s}=Mz(e);let a;return Array.isArray(t)?a=[n,...t]:typeof t=="function"?a=(...l)=>{const c=t(...l);return za(c)?{...n,...c}:n}:a={...n,...t},{...s,sx:a}}const gP=i=>i,Oz=()=>{let i=gP;return{configure(t){i=t},generate(t){return i(t)},reset(){i=gP}}},iN=Oz();function sN(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=sN(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function te(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=sN(i))&&(n&&(n+=" "),n+=t);return n}function Dz(i={}){const{themeId:t,defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:s}=i,a=XD("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(jc);return O.forwardRef(function(h,d){const p=Yx(e),{className:v,component:b="div",...E}=nN(h);return z.jsx(a,{as:b,ref:d,className:te(v,s?s(n):n),theme:t&&p[t]||p,...E})})}const Nz={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function un(i,t,e="Mui"){const n=Nz[t];return n?`${e}-${n}`:`${iN.generate(i)}-${t}`}function rn(i,t,e="Mui"){const n={};return t.forEach(s=>{n[s]=un(i,s,e)}),n}function rN(i){const{variants:t,...e}=i,n={variants:t,style:uP(e),isProcessed:!0};return n.style===e||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=uP(s.style))}),n}const Lz=Kx();function Lw(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function Fz(i){return i?(t,e)=>e[i]:null}function Vz(i,t,e){i.theme=zz(i.theme)?e:i.theme[t]||i.theme}function X0(i,t){const e=typeof t=="function"?t(i):t;if(Array.isArray(e))return e.flatMap(n=>X0(i,n));if(Array.isArray(e==null?void 0:e.variants)){let n;if(e.isProcessed)n=e.style;else{const{variants:s,...a}=e;n=a}return aN(i,e.variants,[n])}return e!=null&&e.isProcessed?e.style:e}function aN(i,t,e=[]){var s;let n;t:for(let a=0;a<t.length;a+=1){const l=t[a];if(typeof l.props=="function"){if(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),!l.props(n))continue}else for(const c in l.props)if(i[c]!==l.props[c]&&((s=i.ownerState)==null?void 0:s[c])!==l.props[c])continue t;typeof l.style=="function"?(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),e.push(l.style(n))):e.push(l.style)}return e}function Uz(i={}){const{themeId:t,defaultTheme:e=Lz,rootShouldForwardProp:n=Lw,slotShouldForwardProp:s=Lw}=i;function a(c){Vz(c,t,e)}return(c,h={})=>{kB(c,V=>V.filter(W=>W!==jc));const{name:d,slot:p,skipVariantsResolver:v,skipSx:b,overridesResolver:E=Fz(Hz(p)),...A}=h,S=v!==void 0?v:p&&p!=="Root"&&p!=="root"||!1,C=b||!1;let x=Lw;p==="Root"||p==="root"?x=n:p?x=s:jz(c)&&(x=void 0);const F=XD(c,{shouldForwardProp:x,label:Bz(),...A}),M=V=>{if(V.__emotion_real===V)return V;if(typeof V=="function")return function(D){return X0(D,V)};if(za(V)){const W=rN(V);return W.variants?function(I){return X0(I,W)}:W.style}return V},P=(...V)=>{const W=[],D=V.map(M),I=[];if(W.push(a),d&&E&&I.push(function(q){var Y,Q;const ct=(Q=(Y=q.theme.components)==null?void 0:Y[d])==null?void 0:Q.styleOverrides;if(!ct)return null;const nt={};for(const at in ct)nt[at]=X0(q,ct[at]);return E(q,nt)}),d&&!S&&I.push(function(q){var nt,Y;const j=q.theme,ct=(Y=(nt=j==null?void 0:j.components)==null?void 0:nt[d])==null?void 0:Y.variants;return ct?aN(q,ct):null}),C||I.push(jc),Array.isArray(D[0])){const U=D.shift(),q=new Array(W.length).fill(""),j=new Array(I.length).fill("");let ct;ct=[...q,...U,...j],ct.raw=[...q,...U.raw,...j],W.unshift(ct)}const N=[...W,...D,...I],T=F(...N);return c.muiName&&(T.muiName=c.muiName),T};return F.withConfig&&(P.withConfig=F.withConfig),P}}function Bz(i,t){return void 0}function zz(i){for(const t in i)return!1;return!0}function jz(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Hz(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}function B_(i,t){const e={...t};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const s=n;if(s==="components"||s==="slots")e[s]={...i[s],...e[s]};else if(s==="componentsProps"||s==="slotProps"){const a=i[s],l=t[s];if(!l)e[s]=a||{};else if(!a)e[s]=l;else{e[s]={...l};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const h=c;e[s][h]=B_(a[h],l[h])}}}else e[s]===void 0&&(e[s]=i[s])}return e}const Hc=typeof window<"u"?O.useLayoutEffect:O.useEffect;function $z(i,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(i,e))}function Xx(i,t=0,e=1){return $z(i,t,e)}function qz(i){i=i.slice(1);const t=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let e=i.match(t);return e&&e[0].length===1&&(e=e.map(n=>n+n)),e?`rgb${e.length===4?"a":""}(${e.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function $c(i){if(i.type)return i;if(i.charAt(0)==="#")return $c(qz(i));const t=i.indexOf("("),e=i.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(pl(9,i));let n=i.substring(t+1,i.length-1),s;if(e==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(pl(10,s))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:e,values:n,colorSpace:s}}const Gz=i=>{const t=$c(i);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&n!==0?`${e}%`:e).join(" ")},Em=(i,t)=>{try{return Gz(i)}catch{return i}};function HE(i){const{type:t,colorSpace:e}=i;let{values:n}=i;return t.includes("rgb")?n=n.map((s,a)=>a<3?parseInt(s,10):s):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${e} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function oN(i){i=$c(i);const{values:t}=i,e=t[0],n=t[1]/100,s=t[2]/100,a=n*Math.min(s,1-s),l=(d,p=(d+e/30)%12)=>s-a*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const h=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return i.type==="hsla"&&(c+="a",h.push(t[3])),HE({type:c,values:h})}function bT(i){i=$c(i);let t=i.type==="hsl"||i.type==="hsla"?$c(oN(i)).values:i.values;return t=t.map(e=>(i.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Wz(i,t){const e=bT(i),n=bT(t);return(Math.max(e,n)+.05)/(Math.min(e,n)+.05)}function Gr(i,t){return i=$c(i),t=Xx(t),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${t}`:i.values[3]=t,HE(i)}function w0(i,t,e){try{return Gr(i,t)}catch{return i}}function Qx(i,t){if(i=$c(i),t=Xx(t),i.type.includes("hsl"))i.values[2]*=1-t;else if(i.type.includes("rgb")||i.type.includes("color"))for(let e=0;e<3;e+=1)i.values[e]*=1-t;return HE(i)}function on(i,t,e){try{return Qx(i,t)}catch{return i}}function Zx(i,t){if(i=$c(i),t=Xx(t),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*t;else if(i.type.includes("rgb"))for(let e=0;e<3;e+=1)i.values[e]+=(255-i.values[e])*t;else if(i.type.includes("color"))for(let e=0;e<3;e+=1)i.values[e]+=(1-i.values[e])*t;return HE(i)}function ln(i,t,e){try{return Zx(i,t)}catch{return i}}function Kz(i,t=.15){return bT(i)>.5?Qx(i,t):Zx(i,t)}function T0(i,t,e){try{return Kz(i,t)}catch{return i}}const lN=O.createContext(null);function Jx(){return O.useContext(lN)}const Yz=typeof Symbol=="function"&&Symbol.for,Xz=Yz?Symbol.for("mui.nested"):"__THEME_NESTED__";function Qz(i,t){return typeof t=="function"?t(i):{...i,...t}}function Zz(i){const{children:t,theme:e}=i,n=Jx(),s=O.useMemo(()=>{const a=n===null?{...e}:Qz(n,e);return a!=null&&(a[Xz]=n!==null),a},[e,n]);return z.jsx(lN.Provider,{value:s,children:t})}const cN=O.createContext();function Jz({value:i,...t}){return z.jsx(cN.Provider,{value:i??!0,...t})}const tj=()=>O.useContext(cN)??!1,uN=O.createContext(void 0);function ej({value:i,children:t}){return z.jsx(uN.Provider,{value:i,children:t})}function nj(i){const{theme:t,name:e,props:n}=i;if(!t||!t.components||!t.components[e])return n;const s=t.components[e];return s.defaultProps?B_(s.defaultProps,n):!s.styleOverrides&&!s.variants?B_(s,n):n}function ij({props:i,name:t}){const e=O.useContext(uN);return nj({props:i,name:t,theme:{components:e}})}const mP={};function yP(i,t,e,n=!1){return O.useMemo(()=>{const s=i&&t[i]||t;if(typeof e=="function"){const a=e(s),l=i?{...t,[i]:a}:a;return n?()=>l:l}return i?{...t,[i]:e}:{...t,...e}},[i,t,e,n])}function hN(i){const{children:t,theme:e,themeId:n}=i,s=eN(mP),a=Jx()||mP,l=yP(n,s,e),c=yP(n,a,e,!0),h=(n?l[n]:l).direction==="rtl";return z.jsx(Zz,{theme:c,children:z.jsx(Nv.Provider,{value:l,children:z.jsx(Jz,{value:h,children:z.jsx(ej,{value:n?l[n].components:l.components,children:t})})})})}const vP={theme:void 0};function sj(i){let t,e;return function(s){let a=t;return(a===void 0||s.theme!==e)&&(vP.theme=s.theme,a=rN(i(vP)),t=a,e=s.theme),a}}const tC="mode",eC="color-scheme",rj="data-color-scheme";function aj(i){const{defaultMode:t="system",defaultLightColorScheme:e="light",defaultDarkColorScheme:n="dark",modeStorageKey:s=tC,colorSchemeStorageKey:a=eC,attribute:l=rj,colorSchemeNode:c="document.documentElement",nonce:h}=i||{};let d="",p=l;if(l==="class"&&(p=".%s"),l==="data"&&(p="[data-%s]"),p.startsWith(".")){const b=p.substring(1);d+=`${c}.classList.remove('${b}'.replace('%s', light), '${b}'.replace('%s', dark));
      ${c}.classList.add('${b}'.replace('%s', colorScheme));`}const v=p.match(/\[([^\]]+)\]/);if(v){const[b,E]=v[1].split("=");E||(d+=`${c}.removeAttribute('${b}'.replace('%s', light));
      ${c}.removeAttribute('${b}'.replace('%s', dark));`),d+=`
      ${c}.setAttribute('${b}'.replace('%s', colorScheme), ${E?`${E}.replace('%s', colorScheme)`:'""'});`}else d+=`${c}.setAttribute('${p}', colorScheme);`;return z.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${s}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${e}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function oj(){}const lj=({key:i,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(e){if(typeof window>"u")return;if(!t)return e;let n;try{n=t.localStorage.getItem(i)}catch{}return n||e},set:e=>{if(t)try{t.localStorage.setItem(i,e)}catch{}},subscribe:e=>{if(!t)return oj;const n=s=>{const a=s.newValue;s.key===i&&e(a)};return t.addEventListener("storage",n),()=>{t.removeEventListener("storage",n)}}});function Fw(){}function bP(i){if(typeof window<"u"&&typeof window.matchMedia=="function"&&i==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function dN(i,t){if(i.mode==="light"||i.mode==="system"&&i.systemMode==="light")return t("light");if(i.mode==="dark"||i.mode==="system"&&i.systemMode==="dark")return t("dark")}function cj(i){return dN(i,t=>{if(t==="light")return i.lightColorScheme;if(t==="dark")return i.darkColorScheme})}function uj(i){const{defaultMode:t="light",defaultLightColorScheme:e,defaultDarkColorScheme:n,supportedColorSchemes:s=[],modeStorageKey:a=tC,colorSchemeStorageKey:l=eC,storageWindow:c=typeof window>"u"?void 0:window,storageManager:h=lj,noSsr:d=!1}=i,p=s.join(","),v=s.length>1,b=O.useMemo(()=>h==null?void 0:h({key:a,storageWindow:c}),[h,a,c]),E=O.useMemo(()=>h==null?void 0:h({key:`${l}-light`,storageWindow:c}),[h,l,c]),A=O.useMemo(()=>h==null?void 0:h({key:`${l}-dark`,storageWindow:c}),[h,l,c]),[S,C]=O.useState(()=>{const I=(b==null?void 0:b.get(t))||t,N=(E==null?void 0:E.get(e))||e,T=(A==null?void 0:A.get(n))||n;return{mode:I,systemMode:bP(I),lightColorScheme:N,darkColorScheme:T}}),[x,F]=O.useState(d||!v);O.useEffect(()=>{F(!0)},[]);const M=cj(S),P=O.useCallback(I=>{C(N=>{if(I===N.mode)return N;const T=I??t;return b==null||b.set(T),{...N,mode:T,systemMode:bP(T)}})},[b,t]),V=O.useCallback(I=>{I?typeof I=="string"?I&&!p.includes(I)?console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`):C(N=>{const T={...N};return dN(N,U=>{U==="light"&&(E==null||E.set(I),T.lightColorScheme=I),U==="dark"&&(A==null||A.set(I),T.darkColorScheme=I)}),T}):C(N=>{const T={...N},U=I.light===null?e:I.light,q=I.dark===null?n:I.dark;return U&&(p.includes(U)?(T.lightColorScheme=U,E==null||E.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),q&&(p.includes(q)?(T.darkColorScheme=q,A==null||A.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),T}):C(N=>(E==null||E.set(e),A==null||A.set(n),{...N,lightColorScheme:e,darkColorScheme:n}))},[p,E,A,e,n]),W=O.useCallback(I=>{S.mode==="system"&&C(N=>{const T=I!=null&&I.matches?"dark":"light";return N.systemMode===T?N:{...N,systemMode:T}})},[S.mode]),D=O.useRef(W);return D.current=W,O.useEffect(()=>{if(typeof window.matchMedia!="function"||!v)return;const I=(...T)=>D.current(...T),N=window.matchMedia("(prefers-color-scheme: dark)");return N.addListener(I),I(N),()=>{N.removeListener(I)}},[v]),O.useEffect(()=>{if(v){const I=(b==null?void 0:b.subscribe(U=>{(!U||["light","dark","system"].includes(U))&&P(U||t)}))||Fw,N=(E==null?void 0:E.subscribe(U=>{(!U||p.match(U))&&V({light:U})}))||Fw,T=(A==null?void 0:A.subscribe(U=>{(!U||p.match(U))&&V({dark:U})}))||Fw;return()=>{I(),N(),T()}}},[V,P,p,t,c,v,b,E,A]),{...S,mode:x?S.mode:void 0,systemMode:x?S.systemMode:void 0,colorScheme:x?M:void 0,setMode:P,setColorScheme:V}}const hj="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function dj(i){const{themeId:t,theme:e={},modeStorageKey:n=tC,colorSchemeStorageKey:s=eC,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:c}=i,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=O.createContext(void 0),p=()=>O.useContext(d)||h,v={},b={};function E(x){var Re,ee,Xe,Oe;const{children:F,theme:M,modeStorageKey:P=n,colorSchemeStorageKey:V=s,disableTransitionOnChange:W=a,storageManager:D,storageWindow:I=typeof window>"u"?void 0:window,documentNode:N=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:U=!1,disableStyleSheetGeneration:q=!1,defaultMode:j="system",forceThemeRerender:ct=!1,noSsr:nt}=x,Y=O.useRef(!1),Q=Jx(),at=O.useContext(d),dt=!!at&&!U,K=O.useMemo(()=>M||(typeof e=="function"?e():e),[M]),rt=K[t],ut=rt||K,{colorSchemes:st=v,components:vt=b,cssVarPrefix:wt}=ut,_t=Object.keys(st).filter(De=>!!st[De]).join(","),xt=O.useMemo(()=>_t.split(","),[_t]),Bt=typeof l=="string"?l:l.light,jt=typeof l=="string"?l:l.dark,Et=st[Bt]&&st[jt]?j:((ee=(Re=st[ut.defaultColorScheme])==null?void 0:Re.palette)==null?void 0:ee.mode)||((Xe=ut.palette)==null?void 0:Xe.mode),{mode:Ht,setMode:Gt,systemMode:Mt,lightColorScheme:kt,darkColorScheme:Wt,colorScheme:ue,setColorScheme:fe}=uj({supportedColorSchemes:xt,defaultLightColorScheme:Bt,defaultDarkColorScheme:jt,modeStorageKey:P,colorSchemeStorageKey:V,defaultMode:Et,storageManager:D,storageWindow:I,noSsr:nt});let ke=Ht,Ue=ue;dt&&(ke=at.mode,Ue=at.colorScheme);let He=Ue||ut.defaultColorScheme;ut.vars&&!ct&&(He=ut.defaultColorScheme);const pe=O.useMemo(()=>{var Pn;const De=((Pn=ut.generateThemeVars)==null?void 0:Pn.call(ut))||ut.vars,Kt={...ut,components:vt,colorSchemes:st,cssVarPrefix:wt,vars:De};if(typeof Kt.generateSpacing=="function"&&(Kt.spacing=Kt.generateSpacing()),He){const yn=st[He];yn&&typeof yn=="object"&&Object.keys(yn).forEach(Mn=>{yn[Mn]&&typeof yn[Mn]=="object"?Kt[Mn]={...Kt[Mn],...yn[Mn]}:Kt[Mn]=yn[Mn]})}return c?c(Kt):Kt},[ut,He,vt,st,wt]),Ot=ut.colorSchemeSelector;Hc(()=>{if(Ue&&T&&Ot&&Ot!=="media"){const De=Ot;let Kt=Ot;if(De==="class"&&(Kt=".%s"),De==="data"&&(Kt="[data-%s]"),De!=null&&De.startsWith("data-")&&!De.includes("%s")&&(Kt=`[${De}="%s"]`),Kt.startsWith("."))T.classList.remove(...xt.map(Pn=>Kt.substring(1).replace("%s",Pn))),T.classList.add(Kt.substring(1).replace("%s",Ue));else{const Pn=Kt.replace("%s",Ue).match(/\[([^\]]+)\]/);if(Pn){const[yn,Mn]=Pn[1].split("=");Mn||xt.forEach(Dt=>{T.removeAttribute(yn.replace(Ue,Dt))}),T.setAttribute(yn,Mn?Mn.replace(/"|'/g,""):"")}else T.setAttribute(Kt,Ue)}}},[Ue,Ot,T,xt]),O.useEffect(()=>{let De;if(W&&Y.current&&N){const Kt=N.createElement("style");Kt.appendChild(N.createTextNode(hj)),N.head.appendChild(Kt),window.getComputedStyle(N.body),De=setTimeout(()=>{N.head.removeChild(Kt)},1)}return()=>{clearTimeout(De)}},[Ue,W,N]),O.useEffect(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const si=O.useMemo(()=>({allColorSchemes:xt,colorScheme:Ue,darkColorScheme:Wt,lightColorScheme:kt,mode:ke,setColorScheme:fe,setMode:Gt,systemMode:Mt}),[xt,Ue,Wt,kt,ke,fe,Gt,Mt,pe.colorSchemeSelector]);let Ye=!0;(q||ut.cssVariables===!1||dt&&(Q==null?void 0:Q.cssVarPrefix)===wt)&&(Ye=!1);const Hi=z.jsxs(O.Fragment,{children:[z.jsx(hN,{themeId:rt?t:void 0,theme:pe,children:F}),Ye&&z.jsx(YD,{styles:((Oe=pe.generateStyleSheets)==null?void 0:Oe.call(pe))||[]})]});return dt?Hi:z.jsx(d.Provider,{value:si,children:Hi})}const A=typeof l=="string"?l:l.light,S=typeof l=="string"?l:l.dark;return{CssVarsProvider:E,useColorScheme:p,getInitColorSchemeScript:x=>aj({colorSchemeStorageKey:s,defaultLightColorScheme:A,defaultDarkColorScheme:S,modeStorageKey:n,...x})}}function fj(i=""){function t(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${s}${t(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${i?`${i}-`:""}${n}${t(...s)})`}const _P=(i,t,e,n=[])=>{let s=i;t.forEach((a,l)=>{l===t.length-1?Array.isArray(s)?s[Number(a)]=e:s&&typeof s=="object"&&(s[a]=e):s&&typeof s=="object"&&(s[a]||(s[a]=n.includes(a)?[]:{}),s=s[a])})},pj=(i,t,e)=>{function n(s,a=[],l=[]){Object.entries(s).forEach(([c,h])=>{(!e||e&&!e([...a,c]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?n(h,[...a,c],Array.isArray(h)?[...l,c]:l):t([...a,c],h,l))})}n(i)},gj=(i,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>i.includes(n))||i[i.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Vw(i,t){const{prefix:e,shouldSkipGeneratingVar:n}=t||{},s={},a={},l={};return pj(i,(c,h,d)=>{if((typeof h=="string"||typeof h=="number")&&(!n||!n(c,h))){const p=`--${e?`${e}-`:""}${c.join("-")}`,v=gj(c,h);Object.assign(s,{[p]:v}),_P(a,c,`var(${p})`,d),_P(l,c,`var(${p}, ${v})`,d)}},c=>c[0]==="vars"),{css:s,vars:a,varsWithDefaults:l}}function mj(i,t={}){const{getSelector:e=C,disableCssColorScheme:n,colorSchemeSelector:s}=t,{colorSchemes:a={},components:l,defaultColorScheme:c="light",...h}=i,{vars:d,css:p,varsWithDefaults:v}=Vw(h,t);let b=v;const E={},{[c]:A,...S}=a;if(Object.entries(S||{}).forEach(([M,P])=>{const{vars:V,css:W,varsWithDefaults:D}=Vw(P,t);b=rs(b,D),E[M]={css:W,vars:V}}),A){const{css:M,vars:P,varsWithDefaults:V}=Vw(A,t);b=rs(b,V),E[c]={css:M,vars:P}}function C(M,P){var W,D;let V=s;if(s==="class"&&(V=".%s"),s==="data"&&(V="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(V=`[${s}="%s"]`),M){if(V==="media")return i.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(W=a[M])==null?void 0:W.palette)==null?void 0:D.mode)||M})`]:{":root":P}};if(V)return i.defaultColorScheme===M?`:root, ${V.replace("%s",String(M))}`:V.replace("%s",String(M))}return":root"}return{vars:b,generateThemeVars:()=>{let M={...d};return Object.entries(E).forEach(([,{vars:P}])=>{M=rs(M,P)}),M},generateStyleSheets:()=>{var I,N;const M=[],P=i.defaultColorScheme||"light";function V(T,U){Object.keys(U).length&&M.push(typeof T=="string"?{[T]:{...U}}:T)}V(e(void 0,{...p}),p);const{[P]:W,...D}=E;if(W){const{css:T}=W,U=(N=(I=a[P])==null?void 0:I.palette)==null?void 0:N.mode,q=!n&&U?{colorScheme:U,...T}:{...T};V(e(P,{...q}),q)}return Object.entries(D).forEach(([T,{css:U}])=>{var ct,nt;const q=(nt=(ct=a[T])==null?void 0:ct.palette)==null?void 0:nt.mode,j=!n&&q?{colorScheme:q,...U}:{...U};V(e(T,{...j}),j)}),M}}}function yj(i){return function(e){return i==="media"?`@media (prefers-color-scheme: ${e})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${e}"] &`:i==="class"?`.${e} &`:i==="data"?`[data-${e}] &`:`${i.replace("%s",e)} &`:"&"}}function hn(i,t,e=void 0){const n={};for(const s in i){const a=i[s];let l="",c=!0;for(let h=0;h<a.length;h+=1){const d=a[h];d&&(l+=(c===!0?"":" ")+t(d),c=!1,e&&e[d]&&(l+=" "+e[d]))}n[s]=l}return n}function Uw(i,t){var e,n,s;return O.isValidElement(i)&&t.indexOf(i.type.muiName??((s=(n=(e=i.type)==null?void 0:e._payload)==null?void 0:n.value)==null?void 0:s.muiName))!==-1}const qa="$$material",ry={black:"#000",white:"#fff"},vj={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},tf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},pm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ef={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},nf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},sf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function fN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ry.white,default:ry.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const bj=fN();function pN(){return{text:{primary:ry.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ry.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const EP=pN();function AP(i,t,e,n){const s=n.light||n,a=n.dark||n*1.5;i[t]||(i.hasOwnProperty(e)?i[t]=i[e]:t==="light"?i.light=Zx(i.main,s):t==="dark"&&(i.dark=Qx(i.main,a)))}function _j(i="light"){return i==="dark"?{main:ef[200],light:ef[50],dark:ef[400]}:{main:ef[700],light:ef[400],dark:ef[800]}}function Ej(i="light"){return i==="dark"?{main:Jd[200],light:Jd[50],dark:Jd[400]}:{main:Jd[500],light:Jd[300],dark:Jd[700]}}function Aj(i="light"){return i==="dark"?{main:tf[500],light:tf[300],dark:tf[700]}:{main:tf[700],light:tf[400],dark:tf[800]}}function Sj(i="light"){return i==="dark"?{main:nf[400],light:nf[300],dark:nf[700]}:{main:nf[700],light:nf[500],dark:nf[900]}}function wj(i="light"){return i==="dark"?{main:sf[400],light:sf[300],dark:sf[700]}:{main:sf[800],light:sf[500],dark:sf[900]}}function Tj(i="light"){return i==="dark"?{main:pm[400],light:pm[300],dark:pm[700]}:{main:"#ed6c02",light:pm[500],dark:pm[900]}}function nC(i){const{mode:t="light",contrastThreshold:e=3,tonalOffset:n=.2,...s}=i,a=i.primary||_j(t),l=i.secondary||Ej(t),c=i.error||Aj(t),h=i.info||Sj(t),d=i.success||wj(t),p=i.warning||Tj(t);function v(S){return Wz(S,EP.text.primary)>=e?EP.text.primary:bj.text.primary}const b=({color:S,name:C,mainShade:x=500,lightShade:F=300,darkShade:M=700})=>{if(S={...S},!S.main&&S[x]&&(S.main=S[x]),!S.hasOwnProperty("main"))throw new Error(pl(11,C?` (${C})`:"",x));if(typeof S.main!="string")throw new Error(pl(12,C?` (${C})`:"",JSON.stringify(S.main)));return AP(S,"light",F,n),AP(S,"dark",M,n),S.contrastText||(S.contrastText=v(S.main)),S};let E;return t==="light"?E=fN():t==="dark"&&(E=pN()),rs({common:{...ry},mode:t,primary:b({color:a,name:"primary"}),secondary:b({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:c,name:"error"}),warning:b({color:p,name:"warning"}),info:b({color:h,name:"info"}),success:b({color:d,name:"success"}),grey:vj,contrastThreshold:e,getContrastText:v,augmentColor:b,tonalOffset:n,...E},s)}function xj(i){const t={};return Object.entries(i).forEach(n=>{const[s,a]=n;typeof a=="object"&&(t[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function Cj(i,t){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...t}}function Rj(i){return Math.round(i*1e5)/1e5}const SP={textTransform:"uppercase"},wP='"Roboto", "Helvetica", "Arial", sans-serif';function gN(i,t){const{fontFamily:e=wP,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:d,pxToRem:p,...v}=typeof t=="function"?t(i):t,b=n/14,E=p||(C=>`${C/h*b}rem`),A=(C,x,F,M,P)=>({fontFamily:e,fontWeight:C,fontSize:E(x),lineHeight:F,...e===wP?{letterSpacing:`${Rj(M/x)}em`}:{},...P,...d}),S={h1:A(s,96,1.167,-1.5),h2:A(s,60,1.2,-.5),h3:A(a,48,1.167,0),h4:A(a,34,1.235,.25),h5:A(a,24,1.334,0),h6:A(l,20,1.6,.15),subtitle1:A(a,16,1.75,.15),subtitle2:A(l,14,1.57,.1),body1:A(a,16,1.5,.15),body2:A(a,14,1.43,.15),button:A(l,14,1.75,.4,SP),caption:A(a,12,1.66,.4),overline:A(a,12,2.66,1,SP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rs({htmlFontSize:h,pxToRem:E,fontFamily:e,fontSize:n,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c,...S},v,{clone:!1})}const Ij=.2,kj=.14,Pj=.12;function _n(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${Ij})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${kj})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${Pj})`].join(",")}const Mj=["none",_n(0,2,1,-1,0,1,1,0,0,1,3,0),_n(0,3,1,-2,0,2,2,0,0,1,5,0),_n(0,3,3,-2,0,3,4,0,0,1,8,0),_n(0,2,4,-1,0,4,5,0,0,1,10,0),_n(0,3,5,-1,0,5,8,0,0,1,14,0),_n(0,3,5,-1,0,6,10,0,0,1,18,0),_n(0,4,5,-2,0,7,10,1,0,2,16,1),_n(0,5,5,-3,0,8,10,1,0,3,14,2),_n(0,5,6,-3,0,9,12,1,0,3,16,2),_n(0,6,6,-3,0,10,14,1,0,4,18,3),_n(0,6,7,-4,0,11,15,1,0,4,20,3),_n(0,7,8,-4,0,12,17,2,0,5,22,4),_n(0,7,8,-4,0,13,19,2,0,5,24,4),_n(0,7,9,-4,0,14,21,2,0,5,26,4),_n(0,8,9,-5,0,15,22,2,0,6,28,5),_n(0,8,10,-5,0,16,24,2,0,6,30,5),_n(0,8,11,-5,0,17,26,2,0,6,32,5),_n(0,9,11,-5,0,18,28,2,0,7,34,6),_n(0,9,12,-6,0,19,29,2,0,7,36,6),_n(0,10,13,-6,0,20,31,3,0,8,38,7),_n(0,10,13,-6,0,21,33,3,0,8,40,7),_n(0,10,14,-6,0,22,35,3,0,8,42,7),_n(0,11,14,-7,0,23,36,3,0,9,44,8),_n(0,11,15,-7,0,24,38,3,0,9,46,8)],Oj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dj={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function TP(i){return`${Math.round(i)}ms`}function Nj(i){if(!i)return 0;const t=i/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Lj(i){const t={...Oj,...i.easing},e={...Dj,...i.duration};return{getAutoHeightDuration:Nj,create:(s=["all"],a={})=>{const{duration:l=e.standard,easing:c=t.easeInOut,delay:h=0,...d}=a;return(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof l=="string"?l:TP(l)} ${c} ${typeof h=="string"?h:TP(h)}`).join(",")},...i,easing:t,duration:e}}const Fj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Vj(i){return za(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function mN(i={}){const t={...i};function e(n){const s=Object.entries(n);for(let a=0;a<s.length;a++){const[l,c]=s[a];!Vj(c)||l.startsWith("unstable_")?delete n[l]:za(c)&&(n[l]={...c},e(n[l]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function _T(i={},...t){const{breakpoints:e,mixins:n={},spacing:s,palette:a={},transitions:l={},typography:c={},shape:h,...d}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(pl(20));const p=nC(a),v=Kx(i);let b=rs(v,{mixins:Cj(v.breakpoints,n),palette:p,shadows:Mj.slice(),typography:gN(p,c),transitions:Lj(l),zIndex:{...Fj}});return b=rs(b,d),b=t.reduce((E,A)=>rs(E,A),b),b.unstable_sxConfig={...Uv,...d==null?void 0:d.unstable_sxConfig},b.unstable_sx=function(A){return jc({sx:A,theme:this})},b.toRuntimeSource=mN,b}function ET(i){let t;return i<1?t=5.11916*i**2:t=4.5*Math.log(i+1)+2,Math.round(t*10)/1e3}const Uj=[...Array(25)].map((i,t)=>{if(t===0)return"none";const e=ET(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function yN(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function vN(i){return i==="dark"?Uj:[]}function Bj(i){const{palette:t={mode:"light"},opacity:e,overlays:n,...s}=i,a=nC(t);return{palette:a,opacity:{...yN(a.mode),...e},overlays:n||vN(a.mode),...s}}function zj(i){var t;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((t=i[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const jj=i=>[...[...Array(25)].map((t,e)=>`--${i?`${i}-`:""}overlays-${e}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],Hj=i=>(t,e)=>{const n=i.rootSelector||":root",s=i.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),i.defaultColorScheme===t){if(t==="dark"){const l={};return jj(i.cssVarPrefix).forEach(c=>{l[c]=e[c],delete e[c]}),a==="media"?{[n]:e,"@media (prefers-color-scheme: dark)":{[n]:l}}:a?{[a.replace("%s",t)]:l,[`${n}, ${a.replace("%s",t)}`]:e}:{[n]:{...e,...l}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:e}};if(a)return a.replace("%s",String(t))}return n};function $j(i,t){t.forEach(e=>{i[e]||(i[e]={})})}function ft(i,t,e){!i[t]&&e&&(i[t]=e)}function Am(i){return typeof i!="string"||!i.startsWith("hsl")?i:oN(i)}function Io(i,t){`${t}Channel`in i||(i[`${t}Channel`]=Em(Am(i[t])))}function qj(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const ya=i=>{try{return i()}catch{}},Gj=(i="mui")=>fj(i);function Bw(i,t,e,n){if(!t)return;t=t===!0?{}:t;const s=n==="dark"?"dark":"light";if(!e){i[n]=Bj({...t,palette:{mode:s,...t==null?void 0:t.palette}});return}const{palette:a,...l}=_T({...e,palette:{mode:s,...t==null?void 0:t.palette}});return i[n]={...t,palette:a,opacity:{...yN(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||vN(s)},l}function Wj(i={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=zj,colorSchemeSelector:c=e.light&&e.dark?"media":void 0,rootSelector:h=":root",...d}=i,p=Object.keys(e)[0],v=n||(e.light&&p!=="light"?"light":p),b=Gj(a),{[v]:E,light:A,dark:S,...C}=e,x={...C};let F=E;if((v==="dark"&&!("dark"in e)||v==="light"&&!("light"in e))&&(F=!0),!F)throw new Error(pl(21,v));const M=Bw(x,F,d,v);A&&!x.light&&Bw(x,A,void 0,"light"),S&&!x.dark&&Bw(x,S,void 0,"dark");let P={defaultColorScheme:v,...M,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:h,getCssVar:b,colorSchemes:x,font:{...xj(M.typography),...M.font},spacing:qj(d.spacing)};Object.keys(P.colorSchemes).forEach(N=>{const T=P.colorSchemes[N].palette,U=q=>{const j=q.split("-"),ct=j[1],nt=j[2];return b(q,T[ct][nt])};if(T.mode==="light"&&(ft(T.common,"background","#fff"),ft(T.common,"onBackground","#000")),T.mode==="dark"&&(ft(T.common,"background","#000"),ft(T.common,"onBackground","#fff")),$j(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ft(T.Alert,"errorColor",on(T.error.light,.6)),ft(T.Alert,"infoColor",on(T.info.light,.6)),ft(T.Alert,"successColor",on(T.success.light,.6)),ft(T.Alert,"warningColor",on(T.warning.light,.6)),ft(T.Alert,"errorFilledBg",U("palette-error-main")),ft(T.Alert,"infoFilledBg",U("palette-info-main")),ft(T.Alert,"successFilledBg",U("palette-success-main")),ft(T.Alert,"warningFilledBg",U("palette-warning-main")),ft(T.Alert,"errorFilledColor",ya(()=>T.getContrastText(T.error.main))),ft(T.Alert,"infoFilledColor",ya(()=>T.getContrastText(T.info.main))),ft(T.Alert,"successFilledColor",ya(()=>T.getContrastText(T.success.main))),ft(T.Alert,"warningFilledColor",ya(()=>T.getContrastText(T.warning.main))),ft(T.Alert,"errorStandardBg",ln(T.error.light,.9)),ft(T.Alert,"infoStandardBg",ln(T.info.light,.9)),ft(T.Alert,"successStandardBg",ln(T.success.light,.9)),ft(T.Alert,"warningStandardBg",ln(T.warning.light,.9)),ft(T.Alert,"errorIconColor",U("palette-error-main")),ft(T.Alert,"infoIconColor",U("palette-info-main")),ft(T.Alert,"successIconColor",U("palette-success-main")),ft(T.Alert,"warningIconColor",U("palette-warning-main")),ft(T.AppBar,"defaultBg",U("palette-grey-100")),ft(T.Avatar,"defaultBg",U("palette-grey-400")),ft(T.Button,"inheritContainedBg",U("palette-grey-300")),ft(T.Button,"inheritContainedHoverBg",U("palette-grey-A100")),ft(T.Chip,"defaultBorder",U("palette-grey-400")),ft(T.Chip,"defaultAvatarColor",U("palette-grey-700")),ft(T.Chip,"defaultIconColor",U("palette-grey-700")),ft(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ft(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ft(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ft(T.LinearProgress,"primaryBg",ln(T.primary.main,.62)),ft(T.LinearProgress,"secondaryBg",ln(T.secondary.main,.62)),ft(T.LinearProgress,"errorBg",ln(T.error.main,.62)),ft(T.LinearProgress,"infoBg",ln(T.info.main,.62)),ft(T.LinearProgress,"successBg",ln(T.success.main,.62)),ft(T.LinearProgress,"warningBg",ln(T.warning.main,.62)),ft(T.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.11)`),ft(T.Slider,"primaryTrack",ln(T.primary.main,.62)),ft(T.Slider,"secondaryTrack",ln(T.secondary.main,.62)),ft(T.Slider,"errorTrack",ln(T.error.main,.62)),ft(T.Slider,"infoTrack",ln(T.info.main,.62)),ft(T.Slider,"successTrack",ln(T.success.main,.62)),ft(T.Slider,"warningTrack",ln(T.warning.main,.62));const q=T0(T.background.default,.8);ft(T.SnackbarContent,"bg",q),ft(T.SnackbarContent,"color",ya(()=>T.getContrastText(q))),ft(T.SpeedDialAction,"fabHoverBg",T0(T.background.paper,.15)),ft(T.StepConnector,"border",U("palette-grey-400")),ft(T.StepContent,"border",U("palette-grey-400")),ft(T.Switch,"defaultColor",U("palette-common-white")),ft(T.Switch,"defaultDisabledColor",U("palette-grey-100")),ft(T.Switch,"primaryDisabledColor",ln(T.primary.main,.62)),ft(T.Switch,"secondaryDisabledColor",ln(T.secondary.main,.62)),ft(T.Switch,"errorDisabledColor",ln(T.error.main,.62)),ft(T.Switch,"infoDisabledColor",ln(T.info.main,.62)),ft(T.Switch,"successDisabledColor",ln(T.success.main,.62)),ft(T.Switch,"warningDisabledColor",ln(T.warning.main,.62)),ft(T.TableCell,"border",ln(w0(T.divider,1),.88)),ft(T.Tooltip,"bg",w0(T.grey[700],.92))}if(T.mode==="dark"){ft(T.Alert,"errorColor",ln(T.error.light,.6)),ft(T.Alert,"infoColor",ln(T.info.light,.6)),ft(T.Alert,"successColor",ln(T.success.light,.6)),ft(T.Alert,"warningColor",ln(T.warning.light,.6)),ft(T.Alert,"errorFilledBg",U("palette-error-dark")),ft(T.Alert,"infoFilledBg",U("palette-info-dark")),ft(T.Alert,"successFilledBg",U("palette-success-dark")),ft(T.Alert,"warningFilledBg",U("palette-warning-dark")),ft(T.Alert,"errorFilledColor",ya(()=>T.getContrastText(T.error.dark))),ft(T.Alert,"infoFilledColor",ya(()=>T.getContrastText(T.info.dark))),ft(T.Alert,"successFilledColor",ya(()=>T.getContrastText(T.success.dark))),ft(T.Alert,"warningFilledColor",ya(()=>T.getContrastText(T.warning.dark))),ft(T.Alert,"errorStandardBg",on(T.error.light,.9)),ft(T.Alert,"infoStandardBg",on(T.info.light,.9)),ft(T.Alert,"successStandardBg",on(T.success.light,.9)),ft(T.Alert,"warningStandardBg",on(T.warning.light,.9)),ft(T.Alert,"errorIconColor",U("palette-error-main")),ft(T.Alert,"infoIconColor",U("palette-info-main")),ft(T.Alert,"successIconColor",U("palette-success-main")),ft(T.Alert,"warningIconColor",U("palette-warning-main")),ft(T.AppBar,"defaultBg",U("palette-grey-900")),ft(T.AppBar,"darkBg",U("palette-background-paper")),ft(T.AppBar,"darkColor",U("palette-text-primary")),ft(T.Avatar,"defaultBg",U("palette-grey-600")),ft(T.Button,"inheritContainedBg",U("palette-grey-800")),ft(T.Button,"inheritContainedHoverBg",U("palette-grey-700")),ft(T.Chip,"defaultBorder",U("palette-grey-700")),ft(T.Chip,"defaultAvatarColor",U("palette-grey-300")),ft(T.Chip,"defaultIconColor",U("palette-grey-300")),ft(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ft(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ft(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ft(T.LinearProgress,"primaryBg",on(T.primary.main,.5)),ft(T.LinearProgress,"secondaryBg",on(T.secondary.main,.5)),ft(T.LinearProgress,"errorBg",on(T.error.main,.5)),ft(T.LinearProgress,"infoBg",on(T.info.main,.5)),ft(T.LinearProgress,"successBg",on(T.success.main,.5)),ft(T.LinearProgress,"warningBg",on(T.warning.main,.5)),ft(T.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.13)`),ft(T.Slider,"primaryTrack",on(T.primary.main,.5)),ft(T.Slider,"secondaryTrack",on(T.secondary.main,.5)),ft(T.Slider,"errorTrack",on(T.error.main,.5)),ft(T.Slider,"infoTrack",on(T.info.main,.5)),ft(T.Slider,"successTrack",on(T.success.main,.5)),ft(T.Slider,"warningTrack",on(T.warning.main,.5));const q=T0(T.background.default,.98);ft(T.SnackbarContent,"bg",q),ft(T.SnackbarContent,"color",ya(()=>T.getContrastText(q))),ft(T.SpeedDialAction,"fabHoverBg",T0(T.background.paper,.15)),ft(T.StepConnector,"border",U("palette-grey-600")),ft(T.StepContent,"border",U("palette-grey-600")),ft(T.Switch,"defaultColor",U("palette-grey-300")),ft(T.Switch,"defaultDisabledColor",U("palette-grey-600")),ft(T.Switch,"primaryDisabledColor",on(T.primary.main,.55)),ft(T.Switch,"secondaryDisabledColor",on(T.secondary.main,.55)),ft(T.Switch,"errorDisabledColor",on(T.error.main,.55)),ft(T.Switch,"infoDisabledColor",on(T.info.main,.55)),ft(T.Switch,"successDisabledColor",on(T.success.main,.55)),ft(T.Switch,"warningDisabledColor",on(T.warning.main,.55)),ft(T.TableCell,"border",on(w0(T.divider,1),.68)),ft(T.Tooltip,"bg",w0(T.grey[700],.92))}Io(T.background,"default"),Io(T.background,"paper"),Io(T.common,"background"),Io(T.common,"onBackground"),Io(T,"divider"),Object.keys(T).forEach(q=>{const j=T[q];q!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&ft(T[q],"mainChannel",Em(Am(j.main))),j.light&&ft(T[q],"lightChannel",Em(Am(j.light))),j.dark&&ft(T[q],"darkChannel",Em(Am(j.dark))),j.contrastText&&ft(T[q],"contrastTextChannel",Em(Am(j.contrastText))),q==="text"&&(Io(T[q],"primary"),Io(T[q],"secondary")),q==="action"&&(j.active&&Io(T[q],"active"),j.selected&&Io(T[q],"selected")))})}),P=t.reduce((N,T)=>rs(N,T),P);const V={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:Hj(P)},{vars:W,generateThemeVars:D,generateStyleSheets:I}=mj(P,V);return P.vars=W,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([N,T])=>{P[N]=T}),P.generateThemeVars=D,P.generateStyleSheets=I,P.generateSpacing=function(){return tN(d.spacing,Gx(this))},P.getColorSchemeSelector=yj(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=l,P.unstable_sxConfig={...Uv,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(T){return jc({sx:T,theme:this})},P.toRuntimeSource=mN,P}function xP(i,t,e){i.colorSchemes&&e&&(i.colorSchemes[t]={...e!==!0&&e,palette:nC({...e===!0?{}:e.palette,mode:t})})}function $E(i={},...t){const{palette:e,cssVariables:n=!1,colorSchemes:s=e?void 0:{light:!0},defaultColorScheme:a=e==null?void 0:e.mode,...l}=i,c=a||"light",h=s==null?void 0:s[c],d={...s,...e?{[c]:{...typeof h!="boolean"&&h,palette:e}}:void 0};if(n===!1){if(!("colorSchemes"in i))return _T(i,...t);let p=e;"palette"in i||d[c]&&(d[c]!==!0?p=d[c].palette:c==="dark"&&(p={mode:"dark"}));const v=_T({...i,palette:p},...t);return v.defaultColorScheme=c,v.colorSchemes=d,v.palette.mode==="light"&&(v.colorSchemes.light={...d.light!==!0&&d.light,palette:v.palette},xP(v,"dark",d.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:v.palette},xP(v,"light",d.light)),v}return!e&&!("light"in d)&&c==="light"&&(d.light=!0),Wj({...l,colorSchemes:d,defaultColorScheme:c,...typeof n!="boolean"&&n},...t)}function Kj(i){return String(i).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Yj(i){return parseFloat(i)}const iC=$E();function qE(){const i=Yx(iC);return i[qa]||i}function bN(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const ta=i=>bN(i)&&i!=="classes",Vt=Uz({themeId:qa,defaultTheme:iC,rootShouldForwardProp:ta});function Xj({theme:i,...t}){const e=qa in i?i[qa]:void 0;return z.jsx(hN,{...t,themeId:e?qa:void 0,theme:e||i})}const x0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Qj}=dj({themeId:qa,theme:()=>$E({cssVariables:!0}),colorSchemeStorageKey:x0.colorSchemeStorageKey,modeStorageKey:x0.modeStorageKey,defaultColorScheme:{light:x0.defaultLightColorScheme,dark:x0.defaultDarkColorScheme},resolveTheme:i=>{const t={...i,typography:gN(i.palette,i.typography)};return t.unstable_sx=function(n){return jc({sx:n,theme:this})},t}}),Zj=Qj;function Jj({theme:i,...t}){const e=O.useMemo(()=>{if(typeof i=="function")return i;const n=qa in i?i[qa]:i;return"colorSchemes"in n?null:"vars"in n?i:{...i,vars:null}},[i]);return e?z.jsx(Xj,{theme:e,...t}):z.jsx(Zj,{theme:i,...t})}const t9=rn("MuiBox",["root"]),e9=$E(),St=Dz({themeId:qa,defaultTheme:e9,defaultClassName:t9.root,generateClassName:iN.generate});function n9(i){return z.jsx(Pz,{...i,defaultTheme:iC,themeId:qa})}function i9(i){return function(e){return z.jsx(n9,{styles:typeof i=="function"?n=>i({theme:n,...e}):i})}}function s9(){return nN}const An=sj;function pn(i){return ij(i)}function r9(i){return typeof i.main=="string"}function a9(i,t=[]){if(!r9(i))return!1;for(const e of t)if(!i.hasOwnProperty(e)||typeof i[e]!="string")return!1;return!0}function ml(i=[]){return([,t])=>t&&a9(t,i)}function o9(i){return un("MuiTypography",i)}rn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const l9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},c9=s9(),u9=i=>{const{align:t,gutterBottom:e,noWrap:n,paragraph:s,variant:a,classes:l}=i,c={root:["root",a,i.align!=="inherit"&&`align${qt(t)}`,e&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return hn(c,o9,l)},h9=Vt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${qt(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(An(({theme:i})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(i.palette).filter(ml()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),...Object.entries(((t=i.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${qt(e)}`},style:{color:(i.vars||i).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),CP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Lt=O.forwardRef(function(t,e){const{color:n,...s}=pn({props:t,name:"MuiTypography"}),a=!l9[n],l=c9({...s,...a&&{color:n}}),{align:c="inherit",className:h,component:d,gutterBottom:p=!1,noWrap:v=!1,paragraph:b=!1,variant:E="body1",variantMapping:A=CP,...S}=l,C={...l,align:c,color:n,className:h,component:d,gutterBottom:p,noWrap:v,paragraph:b,variant:E,variantMapping:A},x=d||(b?"p":A[E]||CP[E])||"span",F=u9(C);return z.jsx(h9,{as:x,ref:e,className:te(F.root,h),...S,ownerState:C,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...S.style}})});function RP(...i){return i.reduce((t,e)=>e==null?t:function(...s){t.apply(this,s),e.apply(this,s)},()=>{})}function d9(i){return un("MuiSvgIcon",i)}rn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const f9=i=>{const{color:t,fontSize:e,classes:n}=i,s={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(e)}`]};return hn(s,d9,n)},p9=Vt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color!=="inherit"&&t[`color${qt(e.color)}`],t[`fontSize${qt(e.fontSize)}`]]}})(An(({theme:i})=>{var t,e,n,s,a,l,c,h,d,p,v,b,E,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=i.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(n=(e=(i.vars??i).transitions)==null?void 0:e.duration)==null?void 0:n.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(a=i.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(c=i.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=i.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,S])=>S&&S.main).map(([S])=>{var C,x;return{props:{color:S},style:{color:(x=(C=(i.vars??i).palette)==null?void 0:C[S])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(b=(v=(i.vars??i).palette)==null?void 0:v.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(A=(E=(i.vars??i).palette)==null?void 0:E.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),AT=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiSvgIcon"}),{children:s,className:a,color:l="inherit",component:c="svg",fontSize:h="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:v,viewBox:b="0 0 24 24",...E}=n,A=O.isValidElement(s)&&s.type==="svg",S={...n,color:l,component:c,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:b,hasSvgAsChild:A},C={};p||(C.viewBox=b);const x=f9(S);return z.jsxs(p9,{as:c,className:te(x.root,a),focusable:"false",color:d,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:e,...C,...E,...A&&s.props,ownerState:S,children:[A?s.props.children:s,v?z.jsx("title",{children:v}):null]})});AT.muiName="SvgIcon";function os(i,t){function e(n,s){return z.jsx(AT,{"data-testid":void 0,ref:s,...n,children:i})}return e.muiName=AT.muiName,O.memo(O.forwardRef(e))}function _N(i,t=166){let e;function n(...s){const a=()=>{i.apply(this,s)};clearTimeout(e),e=setTimeout(a,t)}return n.clear=()=>{clearTimeout(e)},n}function Qr(i){return i&&i.ownerDocument||document}function yl(i){return Qr(i).defaultView||window}function IP(i,t){typeof i=="function"?i(t):i&&(i.current=t)}let kP=0;function g9(i){const[t,e]=O.useState(i),n=i||t;return O.useEffect(()=>{t==null&&(kP+=1,e(`mui-${kP}`))},[t]),n}const m9={...dT},PP=m9.useId;function Bv(i){if(PP!==void 0){const t=PP();return i??t}return g9(i)}function MP(i){const{controlled:t,default:e,name:n,state:s="value"}=i,{current:a}=O.useRef(t!==void 0),[l,c]=O.useState(e),h=a?t:l,d=O.useCallback(p=>{a||c(p)},[]);return[h,d]}function jh(i){const t=O.useRef(i);return Hc(()=>{t.current=i}),O.useRef((...e)=>(0,t.current)(...e)).current}function Ps(...i){const t=O.useRef(void 0),e=O.useCallback(n=>{const s=i.map(a=>{if(a==null)return null;if(typeof a=="function"){const l=a,c=l(n);return typeof c=="function"?c:()=>{l(null)}}return a.current=n,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},i);return O.useMemo(()=>i.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=e(n))},i)}function y9(i,t){const e=i.charCodeAt(2);return i[0]==="o"&&i[1]==="n"&&e>=65&&e<=90&&typeof t=="function"}function v9(i,t){if(!i)return t;function e(l,c){const h={};return Object.keys(c).forEach(d=>{y9(d,c[d])&&typeof l[d]=="function"&&(h[d]=(...p)=>{l[d](...p),c[d](...p)})}),h}if(typeof i=="function"||typeof t=="function")return l=>{const c=typeof t=="function"?t(l):t,h=typeof i=="function"?i({...l,...c}):i,d=te(l==null?void 0:l.className,c==null?void 0:c.className,h==null?void 0:h.className),p=e(h,c);return{...c,...h,...p,...!!d&&{className:d},...(c==null?void 0:c.style)&&(h==null?void 0:h.style)&&{style:{...c.style,...h.style}},...(c==null?void 0:c.sx)&&(h==null?void 0:h.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(h.sx)?h.sx:[h.sx]]}}};const n=t,s=e(i,n),a=te(n==null?void 0:n.className,i==null?void 0:i.className);return{...t,...i,...s,...!!a&&{className:a},...(n==null?void 0:n.style)&&(i==null?void 0:i.style)&&{style:{...n.style,...i.style}},...(n==null?void 0:n.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function EN(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}function ST(i,t){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ST(i,t)}function AN(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,ST(i,t)}const OP={disabled:!1},z_=Ha.createContext(null);var b9=function(t){return t.scrollTop},Sm="unmounted",Nu="exited",Lu="entering",of="entered",wT="exiting",to=function(i){AN(t,i);function t(n,s){var a;a=i.call(this,n,s)||this;var l=s,c=l&&!l.isMounting?n.enter:n.appear,h;return a.appearStatus=null,n.in?c?(h=Nu,a.appearStatus=Lu):h=of:n.unmountOnExit||n.mountOnEnter?h=Sm:h=Nu,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===Sm?{status:Nu}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Lu&&l!==of&&(a=Lu):(l===Lu||l===of)&&(a=wT)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,a,l,c;return a=l=c=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:c}},e.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Lu){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:A0.findDOMNode(this);l&&b9(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nu&&this.setState({status:Sm})},e.performEnter=function(s){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:s,h=this.props.nodeRef?[c]:[A0.findDOMNode(this),c],d=h[0],p=h[1],v=this.getTimeouts(),b=c?v.appear:v.enter;if(!s&&!l||OP.disabled){this.safeSetState({status:of},function(){a.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:Lu},function(){a.props.onEntering(d,p),a.onTransitionEnd(b,function(){a.safeSetState({status:of},function(){a.props.onEntered(d,p)})})})},e.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:A0.findDOMNode(this);if(!a||OP.disabled){this.safeSetState({status:Nu},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:wT},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Nu},function(){s.props.onExited(c)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},e.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:A0.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],p=h[1];this.props.addEndListener(d,p)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===Sm)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=EN(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ha.createElement(z_.Provider,{value:null},typeof l=="function"?l(s,c):Ha.cloneElement(Ha.Children.only(l),c))},t}(Ha.Component);to.contextType=z_;to.propTypes={};function rf(){}to.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rf,onEntering:rf,onEntered:rf,onExit:rf,onExiting:rf,onExited:rf};to.UNMOUNTED=Sm;to.EXITED=Nu;to.ENTERING=Lu;to.ENTERED=of;to.EXITING=wT;function _9(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function sC(i,t){var e=function(a){return t&&O.isValidElement(a)?t(a):a},n=Object.create(null);return i&&O.Children.map(i,function(s){return s}).forEach(function(s){n[s.key]=e(s)}),n}function E9(i,t){i=i||{},t=t||{};function e(p){return p in t?t[p]:i[p]}var n=Object.create(null),s=[];for(var a in i)a in t?s.length&&(n[a]=s,s=[]):s.push(a);var l,c={};for(var h in t){if(n[h])for(l=0;l<n[h].length;l++){var d=n[h][l];c[n[h][l]]=e(d)}c[h]=e(h)}for(l=0;l<s.length;l++)c[s[l]]=e(s[l]);return c}function $u(i,t,e){return e[t]!=null?e[t]:i.props[t]}function A9(i,t){return sC(i.children,function(e){return O.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:$u(e,"appear",i),enter:$u(e,"enter",i),exit:$u(e,"exit",i)})})}function S9(i,t,e){var n=sC(i.children),s=E9(t,n);return Object.keys(s).forEach(function(a){var l=s[a];if(O.isValidElement(l)){var c=a in t,h=a in n,d=t[a],p=O.isValidElement(d)&&!d.props.in;h&&(!c||p)?s[a]=O.cloneElement(l,{onExited:e.bind(null,l),in:!0,exit:$u(l,"exit",i),enter:$u(l,"enter",i)}):!h&&c&&!p?s[a]=O.cloneElement(l,{in:!1}):h&&c&&O.isValidElement(d)&&(s[a]=O.cloneElement(l,{onExited:e.bind(null,l),in:d.props.in,exit:$u(l,"exit",i),enter:$u(l,"enter",i)}))}}),s}var w9=Object.values||function(i){return Object.keys(i).map(function(t){return i[t]})},T9={component:"div",childFactory:function(t){return t}},rC=function(i){AN(t,i);function t(n,s){var a;a=i.call(this,n,s)||this;var l=a.handleExited.bind(_9(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,a){var l=a.children,c=a.handleExited,h=a.firstRender;return{children:h?A9(s,c):S9(s,l,c),firstRender:!1}},e.handleExited=function(s,a){var l=sC(this.props.children);s.key in l||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(c){var h=F_({},c.children);return delete h[s.key],{children:h}}))},e.render=function(){var s=this.props,a=s.component,l=s.childFactory,c=EN(s,["component","childFactory"]),h=this.state.contextValue,d=w9(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?Ha.createElement(z_.Provider,{value:h},d):Ha.createElement(z_.Provider,{value:h},Ha.createElement(a,c,d))},t}(Ha.Component);rC.propTypes={};rC.defaultProps=T9;const DP={};function SN(i,t){const e=O.useRef(DP);return e.current===DP&&(e.current=i(t)),e}const x9=[];function C9(i){O.useEffect(i,x9)}class aC{constructor(){Qt(this,"currentId",null);Qt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Qt(this,"disposeEffect",()=>this.clear)}static create(){return new aC}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function wN(){const i=SN(aC.create).current;return C9(i.disposeEffect),i}const TN=i=>i.scrollTop;function j_(i,t){const{timeout:e,easing:n,style:s={}}=i;return{duration:s.transitionDuration??(typeof e=="number"?e:e[t.mode]||0),easing:s.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:s.transitionDelay}}function R9(i){return un("MuiPaper",i)}rn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const I9=i=>{const{square:t,elevation:e,variant:n,classes:s}=i,a={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${e}`]};return hn(a,R9,s)},k9=Vt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(An(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),oC=O.forwardRef(function(t,e){var E;const n=pn({props:t,name:"MuiPaper"}),s=qE(),{className:a,component:l="div",elevation:c=1,square:h=!1,variant:d="elevation",...p}=n,v={...n,component:l,elevation:c,square:h,variant:d},b=I9(v);return z.jsx(k9,{as:l,ownerState:v,className:te(b.root,a),ref:e,...p,style:{...d==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[c],...s.vars&&{"--Paper-overlay":(E=s.vars.overlays)==null?void 0:E[c]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Gr("#fff",ET(c))}, ${Gr("#fff",ET(c))})`}},...p.style}})});function P9(i){return typeof i=="string"}function xN(i,t,e){return i===void 0||P9(i)?t:{...t,ownerState:{...t.ownerState,...e}}}function CN(i,t,e){return typeof i=="function"?i(t,e):i}function RN(i,t=[]){if(i===void 0)return{};const e={};return Object.keys(i).filter(n=>n.match(/^on[A-Z]/)&&typeof i[n]=="function"&&!t.includes(n)).forEach(n=>{e[n]=i[n]}),e}function NP(i){if(i===void 0)return{};const t={};return Object.keys(i).filter(e=>!(e.match(/^on[A-Z]/)&&typeof i[e]=="function")).forEach(e=>{t[e]=i[e]}),t}function IN(i){const{getSlotProps:t,additionalProps:e,externalSlotProps:n,externalForwardedProps:s,className:a}=i;if(!t){const E=te(e==null?void 0:e.className,a,s==null?void 0:s.className,n==null?void 0:n.className),A={...e==null?void 0:e.style,...s==null?void 0:s.style,...n==null?void 0:n.style},S={...e,...s,...n};return E.length>0&&(S.className=E),Object.keys(A).length>0&&(S.style=A),{props:S,internalRef:void 0}}const l=RN({...s,...n}),c=NP(n),h=NP(s),d=t(l),p=te(d==null?void 0:d.className,e==null?void 0:e.className,a,s==null?void 0:s.className,n==null?void 0:n.className),v={...d==null?void 0:d.style,...e==null?void 0:e.style,...s==null?void 0:s.style,...n==null?void 0:n.style},b={...d,...e,...h,...c};return p.length>0&&(b.className=p),Object.keys(v).length>0&&(b.style=v),{props:b,internalRef:d.ref}}function $n(i,t){const{className:e,elementType:n,ownerState:s,externalForwardedProps:a,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...h}=t,{component:d,slots:p={[i]:void 0},slotProps:v={[i]:void 0},...b}=a,E=p[i]||n,A=CN(v[i],s),{props:{component:S,...C},internalRef:x}=IN({className:e,...h,externalForwardedProps:i==="root"?b:void 0,externalSlotProps:A}),F=Ps(x,A==null?void 0:A.ref,t.ref),M=i==="root"?S||d:S,P=xN(E,{...i==="root"&&!d&&!p[i]&&l,...i!=="root"&&!p[i]&&l,...C,...M&&!c&&{as:M},...M&&c&&{component:M},ref:F},s);return[E,P]}function LP(i){try{return i.matches(":focus-visible")}catch{}return!1}class H_{constructor(){Qt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new H_}static use(){const t=SN(H_.create).current,[e,n]=O.useState(!1);return t.shouldMount=e,t.setShouldMount=n,O.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=O9(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function M9(){return H_.use()}function O9(){let i,t;const e=new Promise((n,s)=>{i=n,t=s});return e.resolve=i,e.reject=t,e}function D9(i){const{className:t,classes:e,pulsate:n=!1,rippleX:s,rippleY:a,rippleSize:l,in:c,onExited:h,timeout:d}=i,[p,v]=O.useState(!1),b=te(t,e.ripple,e.rippleVisible,n&&e.ripplePulsate),E={width:l,height:l,top:-(l/2)+a,left:-(l/2)+s},A=te(e.child,p&&e.childLeaving,n&&e.childPulsate);return!c&&!p&&v(!0),O.useEffect(()=>{if(!c&&h!=null){const S=setTimeout(h,d);return()=>{clearTimeout(S)}}},[h,c,d]),z.jsx("span",{className:b,style:E,children:z.jsx("span",{className:A})})}const br=rn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),TT=550,N9=80,L9=id`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,F9=id`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,V9=id`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,U9=Vt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),B9=Vt(D9,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${br.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${L9};
    animation-duration: ${TT}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${br.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${br.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${br.childLeaving} {
    opacity: 0;
    animation-name: ${F9};
    animation-duration: ${TT}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${br.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${V9};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,z9=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:l,...c}=n,[h,d]=O.useState([]),p=O.useRef(0),v=O.useRef(null);O.useEffect(()=>{v.current&&(v.current(),v.current=null)},[h]);const b=O.useRef(!1),E=wN(),A=O.useRef(null),S=O.useRef(null),C=O.useCallback(P=>{const{pulsate:V,rippleX:W,rippleY:D,rippleSize:I,cb:N}=P;d(T=>[...T,z.jsx(B9,{classes:{ripple:te(a.ripple,br.ripple),rippleVisible:te(a.rippleVisible,br.rippleVisible),ripplePulsate:te(a.ripplePulsate,br.ripplePulsate),child:te(a.child,br.child),childLeaving:te(a.childLeaving,br.childLeaving),childPulsate:te(a.childPulsate,br.childPulsate)},timeout:TT,pulsate:V,rippleX:W,rippleY:D,rippleSize:I},p.current)]),p.current+=1,v.current=N},[a]),x=O.useCallback((P={},V={},W=()=>{})=>{const{pulsate:D=!1,center:I=s||V.pulsate,fakeElement:N=!1}=V;if((P==null?void 0:P.type)==="mousedown"&&b.current){b.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(b.current=!0);const T=N?null:S.current,U=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let q,j,ct;if(I||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)q=Math.round(U.width/2),j=Math.round(U.height/2);else{const{clientX:nt,clientY:Y}=P.touches&&P.touches.length>0?P.touches[0]:P;q=Math.round(nt-U.left),j=Math.round(Y-U.top)}if(I)ct=Math.sqrt((2*U.width**2+U.height**2)/3),ct%2===0&&(ct+=1);else{const nt=Math.max(Math.abs((T?T.clientWidth:0)-q),q)*2+2,Y=Math.max(Math.abs((T?T.clientHeight:0)-j),j)*2+2;ct=Math.sqrt(nt**2+Y**2)}P!=null&&P.touches?A.current===null&&(A.current=()=>{C({pulsate:D,rippleX:q,rippleY:j,rippleSize:ct,cb:W})},E.start(N9,()=>{A.current&&(A.current(),A.current=null)})):C({pulsate:D,rippleX:q,rippleY:j,rippleSize:ct,cb:W})},[s,C,E]),F=O.useCallback(()=>{x({},{pulsate:!0})},[x]),M=O.useCallback((P,V)=>{if(E.clear(),(P==null?void 0:P.type)==="touchend"&&A.current){A.current(),A.current=null,E.start(0,()=>{M(P,V)});return}A.current=null,d(W=>W.length>0?W.slice(1):W),v.current=V},[E]);return O.useImperativeHandle(e,()=>({pulsate:F,start:x,stop:M}),[F,x,M]),z.jsx(U9,{className:te(br.root,a.root,l),ref:S,...c,children:z.jsx(rC,{component:null,exit:!0,children:h})})});function j9(i){return un("MuiButtonBase",i)}const H9=rn("MuiButtonBase",["root","disabled","focusVisible"]),$9=i=>{const{disabled:t,focusVisible:e,focusVisibleClassName:n,classes:s}=i,l=hn({root:["root",t&&"disabled",e&&"focusVisible"]},j9,s);return e&&n&&(l.root+=` ${n}`),l},q9=Vt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${H9.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kN=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:l,className:c,component:h="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:v=!1,focusRipple:b=!1,focusVisibleClassName:E,LinkComponent:A="a",onBlur:S,onClick:C,onContextMenu:x,onDragLeave:F,onFocus:M,onFocusVisible:P,onKeyDown:V,onKeyUp:W,onMouseDown:D,onMouseLeave:I,onMouseUp:N,onTouchEnd:T,onTouchMove:U,onTouchStart:q,tabIndex:j=0,TouchRippleProps:ct,touchRippleRef:nt,type:Y,...Q}=n,at=O.useRef(null),dt=M9(),K=Ps(dt.ref,nt),[rt,ut]=O.useState(!1);d&&rt&&ut(!1),O.useImperativeHandle(s,()=>({focusVisible:()=>{ut(!0),at.current.focus()}}),[]);const st=dt.shouldMount&&!p&&!d;O.useEffect(()=>{rt&&b&&!p&&dt.pulsate()},[p,b,rt,dt]);const vt=ko(dt,"start",D,v),wt=ko(dt,"stop",x,v),_t=ko(dt,"stop",F,v),xt=ko(dt,"stop",N,v),Bt=ko(dt,"stop",Ot=>{rt&&Ot.preventDefault(),I&&I(Ot)},v),jt=ko(dt,"start",q,v),Et=ko(dt,"stop",T,v),Ht=ko(dt,"stop",U,v),Gt=ko(dt,"stop",Ot=>{LP(Ot.target)||ut(!1),S&&S(Ot)},!1),Mt=jh(Ot=>{at.current||(at.current=Ot.currentTarget),LP(Ot.target)&&(ut(!0),P&&P(Ot)),M&&M(Ot)}),kt=()=>{const Ot=at.current;return h&&h!=="button"&&!(Ot.tagName==="A"&&Ot.href)},Wt=jh(Ot=>{b&&!Ot.repeat&&rt&&Ot.key===" "&&dt.stop(Ot,()=>{dt.start(Ot)}),Ot.target===Ot.currentTarget&&kt()&&Ot.key===" "&&Ot.preventDefault(),V&&V(Ot),Ot.target===Ot.currentTarget&&kt()&&Ot.key==="Enter"&&!d&&(Ot.preventDefault(),C&&C(Ot))}),ue=jh(Ot=>{b&&Ot.key===" "&&rt&&!Ot.defaultPrevented&&dt.stop(Ot,()=>{dt.pulsate(Ot)}),W&&W(Ot),C&&Ot.target===Ot.currentTarget&&kt()&&Ot.key===" "&&!Ot.defaultPrevented&&C(Ot)});let fe=h;fe==="button"&&(Q.href||Q.to)&&(fe=A);const ke={};fe==="button"?(ke.type=Y===void 0?"button":Y,ke.disabled=d):(!Q.href&&!Q.to&&(ke.role="button"),d&&(ke["aria-disabled"]=d));const Ue=Ps(e,at),He={...n,centerRipple:a,component:h,disabled:d,disableRipple:p,disableTouchRipple:v,focusRipple:b,tabIndex:j,focusVisible:rt},pe=$9(He);return z.jsxs(q9,{as:fe,className:te(pe.root,c),ownerState:He,onBlur:Gt,onClick:C,onContextMenu:wt,onFocus:Mt,onKeyDown:Wt,onKeyUp:ue,onMouseDown:vt,onMouseLeave:Bt,onMouseUp:xt,onDragLeave:_t,onTouchEnd:Et,onTouchMove:Ht,onTouchStart:jt,ref:Ue,tabIndex:d?-1:j,type:Y,...ke,...Q,children:[l,st?z.jsx(z9,{ref:K,center:a,...ct}):null]})});function ko(i,t,e,n=!1){return jh(s=>(e&&e(s),n||i[t](s),!0))}function G9(i){return un("MuiCircularProgress",i)}rn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ec=44,xT=id`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,CT=id`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,W9=typeof xT!="string"?Lv`
        animation: ${xT} 1.4s linear infinite;
      `:null,K9=typeof CT!="string"?Lv`
        animation: ${CT} 1.4s ease-in-out infinite;
      `:null,Y9=i=>{const{classes:t,variant:e,color:n,disableShrink:s}=i,a={root:["root",e,`color${qt(n)}`],svg:["svg"],circle:["circle",`circle${qt(e)}`,s&&"circleDisableShrink"]};return hn(a,G9,t)},X9=Vt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`color${qt(e.color)}`]]}})(An(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:W9||{animation:`${xT} 1.4s linear infinite`}},...Object.entries(i.palette).filter(ml()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}}))]}))),Q9=Vt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Z9=Vt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.circle,t[`circle${qt(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(An(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:K9||{animation:`${CT} 1.4s ease-in-out infinite`}}]}))),PN=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:l=!1,size:c=40,style:h,thickness:d=3.6,value:p=0,variant:v="indeterminate",...b}=n,E={...n,color:a,disableShrink:l,size:c,thickness:d,value:p,variant:v},A=Y9(E),S={},C={},x={};if(v==="determinate"){const F=2*Math.PI*((ec-d)/2);S.strokeDasharray=F.toFixed(3),x["aria-valuenow"]=Math.round(p),S.strokeDashoffset=`${((100-p)/100*F).toFixed(3)}px`,C.transform="rotate(-90deg)"}return z.jsx(X9,{className:te(A.root,s),style:{width:c,height:c,...C,...h},ownerState:E,ref:e,role:"progressbar",...x,...b,children:z.jsx(Q9,{className:A.svg,ownerState:E,viewBox:`${ec/2} ${ec/2} ${ec} ${ec}`,children:z.jsx(Z9,{className:A.circle,style:S,ownerState:E,cx:ec,cy:ec,r:(ec-d)/2,fill:"none",strokeWidth:d})})})});function J9(i){return un("MuiIconButton",i)}const FP=rn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tH=i=>{const{classes:t,disabled:e,color:n,edge:s,size:a,loading:l}=i,c={root:["root",l&&"loading",e&&"disabled",n!=="default"&&`color${qt(n)}`,s&&`edge${qt(s)}`,`size${qt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return hn(c,J9,t)},eH=Vt(kN,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.loading&&t.loading,e.color!=="default"&&t[`color${qt(e.color)}`],e.edge&&t[`edge${qt(e.edge)}`],t[`size${qt(e.size)}`]]}})(An(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:Gr(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),An(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(ml()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}})),...Object.entries(i.palette).filter(ml()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Gr((i.vars||i).palette[t].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${FP.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${FP.loading}`]:{color:"transparent"}}))),nH=Vt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),VP=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiIconButton"}),{edge:s=!1,children:a,className:l,color:c="default",disabled:h=!1,disableFocusRipple:d=!1,size:p="medium",id:v,loading:b=null,loadingIndicator:E,...A}=n,S=Bv(v),C=E??z.jsx(PN,{"aria-labelledby":S,color:"inherit",size:16}),x={...n,edge:s,color:c,disabled:h,disableFocusRipple:d,loading:b,loadingIndicator:C,size:p},F=tH(x);return z.jsxs(eH,{id:b?S:v,className:te(F.root,l),centerRipple:!0,focusRipple:!d,disabled:h||b,ref:e,...A,ownerState:x,children:[typeof b=="boolean"&&z.jsx("span",{className:F.loadingWrapper,style:{display:"contents"},children:z.jsx(nH,{className:F.loadingIndicator,ownerState:x,children:b&&C})}),a]})});function iH(i){var v;const{elementType:t,externalSlotProps:e,ownerState:n,skipResolvingSlotProps:s=!1,...a}=i,l=s?{}:CN(e,n),{props:c,internalRef:h}=IN({...a,externalSlotProps:l}),d=Ps(h,l==null?void 0:l.ref,(v=i.additionalProps)==null?void 0:v.ref);return xN(t,{...c,ref:d},n)}function zv(i){var t;return parseInt(O.version,10)>=19?((t=i==null?void 0:i.props)==null?void 0:t.ref)||null:(i==null?void 0:i.ref)||null}function sH(i){return typeof i=="function"?i():i}const rH=O.forwardRef(function(t,e){const{children:n,container:s,disablePortal:a=!1}=t,[l,c]=O.useState(null),h=Ps(O.isValidElement(n)?zv(n):null,e);if(Hc(()=>{a||c(sH(s)||document.body)},[s,a]),Hc(()=>{if(l&&!a)return IP(e,l),()=>{IP(e,null)}},[e,l,a]),a){if(O.isValidElement(n)){const d={ref:h};return O.cloneElement(n,d)}return n}return l&&ND.createPortal(n,l)});function C0(i){return parseInt(i,10)||0}const aH={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function oH(i){for(const t in i)return!1;return!0}function UP(i){return oH(i)||i.outerHeightStyle===0&&!i.overflowing}const lH=O.forwardRef(function(t,e){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:c,...h}=t,{current:d}=O.useRef(c!=null),p=O.useRef(null),v=Ps(e,p),b=O.useRef(null),E=O.useRef(null),A=O.useCallback(()=>{const M=p.current,P=E.current;if(!M||!P)return;const W=yl(M).getComputedStyle(M);if(W.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=W.width,P.value=M.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const D=W.boxSizing,I=C0(W.paddingBottom)+C0(W.paddingTop),N=C0(W.borderBottomWidth)+C0(W.borderTopWidth),T=P.scrollHeight;P.value="x";const U=P.scrollHeight;let q=T;a&&(q=Math.max(Number(a)*U,q)),s&&(q=Math.min(Number(s)*U,q)),q=Math.max(q,U);const j=q+(D==="border-box"?I+N:0),ct=Math.abs(q-T)<=1;return{outerHeightStyle:j,overflowing:ct}},[s,a,t.placeholder]),S=jh(()=>{const M=p.current,P=A();if(!M||!P||UP(P))return!1;const V=P.outerHeightStyle;return b.current!=null&&b.current!==V}),C=O.useCallback(()=>{const M=p.current,P=A();if(!M||!P||UP(P))return;const V=P.outerHeightStyle;b.current!==V&&(b.current=V,M.style.height=`${V}px`),M.style.overflow=P.overflowing?"hidden":""},[A]),x=O.useRef(-1);Hc(()=>{const M=_N(C),P=p==null?void 0:p.current;if(!P)return;const V=yl(P);V.addEventListener("resize",M);let W;return typeof ResizeObserver<"u"&&(W=new ResizeObserver(()=>{S()&&(W.unobserve(P),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{W.observe(P)}))}),W.observe(P)),()=>{M.clear(),cancelAnimationFrame(x.current),V.removeEventListener("resize",M),W&&W.disconnect()}},[A,C,S]),Hc(()=>{C()});const F=M=>{d||C();const P=M.target,V=P.value.length,W=P.value.endsWith(`
`),D=P.selectionStart===V;W&&D&&P.setSelectionRange(V,V),n&&n(M)};return z.jsxs(O.Fragment,{children:[z.jsx("textarea",{value:c,onChange:F,ref:v,rows:a,style:l,...h}),z.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:E,tabIndex:-1,style:{...aH.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function RT(i){return typeof i=="string"}function Qp({props:i,states:t,muiFormControl:e}){return t.reduce((n,s)=>(n[s]=i[s],e&&typeof i[s]>"u"&&(n[s]=e[s]),n),{})}const lC=O.createContext(void 0);function Zp(){return O.useContext(lC)}function BP(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function $_(i,t=!1){return i&&(BP(i.value)&&i.value!==""||t&&BP(i.defaultValue)&&i.defaultValue!=="")}function cH(i){return i.startAdornment}function uH(i){return un("MuiInputBase",i)}const Fp=rn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var zP;const GE=(i,t)=>{const{ownerState:e}=i;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${qt(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},WE=(i,t)=>{const{ownerState:e}=i;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},hH=i=>{const{classes:t,color:e,disabled:n,error:s,endAdornment:a,focused:l,formControl:c,fullWidth:h,hiddenLabel:d,multiline:p,readOnly:v,size:b,startAdornment:E,type:A}=i,S={root:["root",`color${qt(e)}`,n&&"disabled",s&&"error",h&&"fullWidth",l&&"focused",c&&"formControl",b&&b!=="medium"&&`size${qt(b)}`,p&&"multiline",E&&"adornedStart",a&&"adornedEnd",d&&"hiddenLabel",v&&"readOnly"],input:["input",n&&"disabled",A==="search"&&"inputTypeSearch",p&&"inputMultiline",b==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",E&&"inputAdornedStart",a&&"inputAdornedEnd",v&&"readOnly"]};return hn(S,uH,t)},KE=Vt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:GE})(An(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Fp.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),YE=Vt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:WE})(An(({theme:i})=>{const t=i.palette.mode==="light",e={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},n={opacity:"0 !important"},s=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Fp.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Fp.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),jP=i9({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),cC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:l,className:c,color:h,components:d={},componentsProps:p={},defaultValue:v,disabled:b,disableInjectingGlobalStyles:E,endAdornment:A,error:S,fullWidth:C=!1,id:x,inputComponent:F="input",inputProps:M={},inputRef:P,margin:V,maxRows:W,minRows:D,multiline:I=!1,name:N,onBlur:T,onChange:U,onClick:q,onFocus:j,onKeyDown:ct,onKeyUp:nt,placeholder:Y,readOnly:Q,renderSuffix:at,rows:dt,size:K,slotProps:rt={},slots:ut={},startAdornment:st,type:vt="text",value:wt,..._t}=n,xt=M.value!=null?M.value:wt,{current:Bt}=O.useRef(xt!=null),jt=O.useRef(),Et=O.useCallback(Kt=>{},[]),Ht=Ps(jt,P,M.ref,Et),[Gt,Mt]=O.useState(!1),kt=Zp(),Wt=Qp({props:n,muiFormControl:kt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Wt.focused=kt?kt.focused:Gt,O.useEffect(()=>{!kt&&b&&Gt&&(Mt(!1),T&&T())},[kt,b,Gt,T]);const ue=kt&&kt.onFilled,fe=kt&&kt.onEmpty,ke=O.useCallback(Kt=>{$_(Kt)?ue&&ue():fe&&fe()},[ue,fe]);Hc(()=>{Bt&&ke({value:xt})},[xt,ke,Bt]);const Ue=Kt=>{j&&j(Kt),M.onFocus&&M.onFocus(Kt),kt&&kt.onFocus?kt.onFocus(Kt):Mt(!0)},He=Kt=>{T&&T(Kt),M.onBlur&&M.onBlur(Kt),kt&&kt.onBlur?kt.onBlur(Kt):Mt(!1)},pe=(Kt,...Pn)=>{if(!Bt){const yn=Kt.target||jt.current;if(yn==null)throw new Error(pl(1));ke({value:yn.value})}M.onChange&&M.onChange(Kt,...Pn),U&&U(Kt,...Pn)};O.useEffect(()=>{ke(jt.current)},[]);const Ot=Kt=>{jt.current&&Kt.currentTarget===Kt.target&&jt.current.focus(),q&&q(Kt)};let si=F,Ye=M;I&&si==="input"&&(dt?Ye={type:void 0,minRows:dt,maxRows:dt,...Ye}:Ye={type:void 0,maxRows:W,minRows:D,...Ye},si=lH);const Hi=Kt=>{ke(Kt.animationName==="mui-auto-fill-cancel"?jt.current:{value:"x"})};O.useEffect(()=>{kt&&kt.setAdornedStart(!!st)},[kt,st]);const Re={...n,color:Wt.color||"primary",disabled:Wt.disabled,endAdornment:A,error:Wt.error,focused:Wt.focused,formControl:kt,fullWidth:C,hiddenLabel:Wt.hiddenLabel,multiline:I,size:Wt.size,startAdornment:st,type:vt},ee=hH(Re),Xe=ut.root||d.Root||KE,Oe=rt.root||p.root||{},De=ut.input||d.Input||YE;return Ye={...Ye,...rt.input??p.input},z.jsxs(O.Fragment,{children:[!E&&typeof jP=="function"&&(zP||(zP=z.jsx(jP,{}))),z.jsxs(Xe,{...Oe,ref:e,onClick:Ot,..._t,...!RT(Xe)&&{ownerState:{...Re,...Oe.ownerState}},className:te(ee.root,Oe.className,c,Q&&"MuiInputBase-readOnly"),children:[st,z.jsx(lC.Provider,{value:null,children:z.jsx(De,{"aria-invalid":Wt.error,"aria-describedby":s,autoComplete:a,autoFocus:l,defaultValue:v,disabled:Wt.disabled,id:x,onAnimationStart:Hi,name:N,placeholder:Y,readOnly:Q,required:Wt.required,rows:dt,value:xt,onKeyDown:ct,onKeyUp:nt,type:vt,...Ye,...!RT(De)&&{as:si,ownerState:{...Re,...Ye.ownerState}},ref:Ht,className:te(ee.input,Ye.className,Q&&"MuiInputBase-readOnly"),onBlur:He,onChange:pe,onFocus:Ue})}),A,at?at({...Wt,startAdornment:st}):null]})]})});function dH(i){return un("MuiInput",i)}const gm={...Fp,...rn("MuiInput",["root","underline","input"])};function fH(i){return un("MuiOutlinedInput",i)}const va={...Fp,...rn("MuiOutlinedInput",["root","notchedOutline","input"])};function pH(i){return un("MuiFilledInput",i)}const Mu={...Fp,...rn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},gH=os(z.jsx("path",{d:"M7 10l5 5 5-5z"})),mH={entering:{opacity:1},entered:{opacity:1}},IT=O.forwardRef(function(t,e){const n=qE(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:h,in:d,onEnter:p,onEntered:v,onEntering:b,onExit:E,onExited:A,onExiting:S,style:C,timeout:x=s,TransitionComponent:F=to,...M}=t,P=O.useRef(null),V=Ps(P,zv(c),e),W=ct=>nt=>{if(ct){const Y=P.current;nt===void 0?ct(Y):ct(Y,nt)}},D=W(b),I=W((ct,nt)=>{TN(ct);const Y=j_({style:C,timeout:x,easing:h},{mode:"enter"});ct.style.webkitTransition=n.transitions.create("opacity",Y),ct.style.transition=n.transitions.create("opacity",Y),p&&p(ct,nt)}),N=W(v),T=W(S),U=W(ct=>{const nt=j_({style:C,timeout:x,easing:h},{mode:"exit"});ct.style.webkitTransition=n.transitions.create("opacity",nt),ct.style.transition=n.transitions.create("opacity",nt),E&&E(ct)}),q=W(A),j=ct=>{a&&a(P.current,ct)};return z.jsx(F,{appear:l,in:d,nodeRef:P,onEnter:I,onEntered:N,onEntering:D,onExit:U,onExited:q,onExiting:T,addEndListener:j,timeout:x,...M,children:(ct,{ownerState:nt,...Y})=>O.cloneElement(c,{style:{opacity:0,visibility:ct==="exited"&&!d?"hidden":void 0,...mH[ct],...C,...c.props.style},ref:V,...Y})})});function yH(i){return un("MuiBackdrop",i)}rn("MuiBackdrop",["root","invisible"]);const vH=i=>{const{classes:t,invisible:e}=i;return hn({root:["root",e&&"invisible"]},yH,t)},bH=Vt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),MN=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",invisible:c=!1,open:h,components:d={},componentsProps:p={},slotProps:v={},slots:b={},TransitionComponent:E,transitionDuration:A,...S}=n,C={...n,component:l,invisible:c},x=vH(C),F={transition:E,root:d.Root,...b},M={...p,...v},P={slots:F,slotProps:M},[V,W]=$n("root",{elementType:bH,externalForwardedProps:P,className:te(x.root,a),ownerState:C}),[D,I]=$n("transition",{elementType:IT,externalForwardedProps:P,ownerState:C});return z.jsx(D,{in:h,timeout:A,...S,...I,children:z.jsx(V,{"aria-hidden":!0,...W,classes:x,ref:e,children:s})})});function _H(i){return un("MuiButton",i)}const Ou=rn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),EH=O.createContext({}),AH=O.createContext(void 0),SH=i=>{const{color:t,disableElevation:e,fullWidth:n,size:s,variant:a,loading:l,loadingPosition:c,classes:h}=i,d={root:["root",l&&"loading",a,`${a}${qt(t)}`,`size${qt(s)}`,`${a}Size${qt(s)}`,`color${qt(t)}`,e&&"disableElevation",n&&"fullWidth",l&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(s)}`],endIcon:["icon","endIcon",`iconSize${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=hn(d,_H,h);return{...h,...p}},ON=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],wH=Vt(kN,{shouldForwardProp:i=>ta(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`${e.variant}${qt(e.color)}`],t[`size${qt(e.size)}`],t[`${e.variant}Size${qt(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(An(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],e=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ou.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${Ou.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${Ou.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ou.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(ml()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(i.vars||i).palette[n].main,"--variant-outlinedColor":(i.vars||i).palette[n].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[n].mainChannel} / 0.5)`:Gr(i.palette[n].main,.5),"--variant-containedColor":(i.vars||i).palette[n].contrastText,"--variant-containedBg":(i.vars||i).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[n].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Gr(i.palette[n].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[n].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Gr(i.palette[n].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Gr(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Gr(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ou.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ou.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${Ou.loading}`]:{color:"transparent"}}}]}})),TH=Vt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${qt(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...ON]})),xH=Vt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${qt(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...ON]})),CH=Vt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),HP=Vt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),DN=O.forwardRef(function(t,e){const n=O.useContext(EH),s=O.useContext(AH),a=B_(n,t),l=pn({props:a,name:"MuiButton"}),{children:c,color:h="primary",component:d="button",className:p,disabled:v=!1,disableElevation:b=!1,disableFocusRipple:E=!1,endIcon:A,focusVisibleClassName:S,fullWidth:C=!1,id:x,loading:F=null,loadingIndicator:M,loadingPosition:P="center",size:V="medium",startIcon:W,type:D,variant:I="text",...N}=l,T=Bv(x),U=M??z.jsx(PN,{"aria-labelledby":T,color:"inherit",size:16}),q={...l,color:h,component:d,disabled:v,disableElevation:b,disableFocusRipple:E,fullWidth:C,loading:F,loadingIndicator:U,loadingPosition:P,size:V,type:D,variant:I},j=SH(q),ct=(W||F&&P==="start")&&z.jsx(TH,{className:j.startIcon,ownerState:q,children:W||z.jsx(HP,{className:j.loadingIconPlaceholder,ownerState:q})}),nt=(A||F&&P==="end")&&z.jsx(xH,{className:j.endIcon,ownerState:q,children:A||z.jsx(HP,{className:j.loadingIconPlaceholder,ownerState:q})}),Y=s||"",Q=typeof F=="boolean"?z.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:F&&z.jsx(CH,{className:j.loadingIndicator,ownerState:q,children:U})}):null;return z.jsxs(wH,{ownerState:q,className:te(n.className,j.root,p,Y),component:d,disabled:v||F,focusRipple:!E,focusVisibleClassName:te(j.focusVisible,S),ref:e,type:D,id:F?T:x,...N,classes:j,children:[ct,P!=="end"&&Q,c,P==="end"&&Q,nt]})});function NN(i=window){const t=i.document.documentElement.clientWidth;return i.innerWidth-t}function RH(i){const t=Qr(i);return t.body===i?yl(i).innerWidth>t.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function $m(i,t){t?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function $P(i){return parseInt(yl(i).getComputedStyle(i).paddingRight,10)||0}function IH(i){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),n=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return e||n}function qP(i,t,e,n,s){const a=[t,e,...n];[].forEach.call(i.children,l=>{const c=!a.includes(l),h=!IH(l);c&&h&&$m(l,s)})}function zw(i,t){let e=-1;return i.some((n,s)=>t(n)?(e=s,!0):!1),e}function kH(i,t){const e=[],n=i.container;if(!t.disableScrollLock){if(RH(n)){const l=NN(yl(n));e.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${$P(n)+l}px`;const c=Qr(n).querySelectorAll(".mui-fixed");[].forEach.call(c,h=>{e.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${$P(h)+l}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=Qr(n).body;else{const l=n.parentElement,c=yl(n);a=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}e.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{e.forEach(({value:a,el:l,property:c})=>{a?l.style.setProperty(c,a):l.style.removeProperty(c)})}}function PH(i){const t=[];return[].forEach.call(i.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class MH{constructor(){this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&$m(t.modalRef,!1);const s=PH(e);qP(e,t.mount,t.modalRef,s,!0);const a=zw(this.containers,l=>l.container===e);return a!==-1?(this.containers[a].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:s}),n)}mount(t,e){const n=zw(this.containers,a=>a.modals.includes(t)),s=this.containers[n];s.restore||(s.restore=kH(s,e))}remove(t,e=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const s=zw(this.containers,l=>l.modals.includes(t)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&$m(t.modalRef,e),qP(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const l=a.modals[a.modals.length-1];l.modalRef&&$m(l.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const OH=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function DH(i){const t=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(t)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:t}function NH(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const t=n=>i.ownerDocument.querySelector(`input[type="radio"]${n}`);let e=t(`[name="${i.name}"]:checked`);return e||(e=t(`[name="${i.name}"]`)),e!==i}function LH(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||NH(i))}function FH(i){const t=[],e=[];return Array.from(i.querySelectorAll(OH)).forEach((n,s)=>{const a=DH(n);a===-1||!LH(n)||(a===0?t.push(n):e.push({documentOrder:s,tabIndex:a,node:n}))}),e.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(t)}function VH(){return!0}function UH(i){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:a=FH,isEnabled:l=VH,open:c}=i,h=O.useRef(!1),d=O.useRef(null),p=O.useRef(null),v=O.useRef(null),b=O.useRef(null),E=O.useRef(!1),A=O.useRef(null),S=Ps(zv(t),A),C=O.useRef(null);O.useEffect(()=>{!c||!A.current||(E.current=!e)},[e,c]),O.useEffect(()=>{if(!c||!A.current)return;const M=Qr(A.current);return A.current.contains(M.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),E.current&&A.current.focus()),()=>{s||(v.current&&v.current.focus&&(h.current=!0,v.current.focus()),v.current=null)}},[c]),O.useEffect(()=>{if(!c||!A.current)return;const M=Qr(A.current),P=D=>{C.current=D,!(n||!l()||D.key!=="Tab")&&M.activeElement===A.current&&D.shiftKey&&(h.current=!0,p.current&&p.current.focus())},V=()=>{var N,T;const D=A.current;if(D===null)return;if(!M.hasFocus()||!l()||h.current){h.current=!1;return}if(D.contains(M.activeElement)||n&&M.activeElement!==d.current&&M.activeElement!==p.current)return;if(M.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!E.current)return;let I=[];if((M.activeElement===d.current||M.activeElement===p.current)&&(I=a(A.current)),I.length>0){const U=!!((N=C.current)!=null&&N.shiftKey&&((T=C.current)==null?void 0:T.key)==="Tab"),q=I[0],j=I[I.length-1];typeof q!="string"&&typeof j!="string"&&(U?j.focus():q.focus())}else D.focus()};M.addEventListener("focusin",V),M.addEventListener("keydown",P,!0);const W=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&V()},50);return()=>{clearInterval(W),M.removeEventListener("focusin",V),M.removeEventListener("keydown",P,!0)}},[e,n,s,l,c,a]);const x=M=>{v.current===null&&(v.current=M.relatedTarget),E.current=!0,b.current=M.target;const P=t.props.onFocus;P&&P(M)},F=M=>{v.current===null&&(v.current=M.relatedTarget),E.current=!0};return z.jsxs(O.Fragment,{children:[z.jsx("div",{tabIndex:c?0:-1,onFocus:F,ref:d,"data-testid":"sentinelStart"}),O.cloneElement(t,{ref:S,onFocus:x}),z.jsx("div",{tabIndex:c?0:-1,onFocus:F,ref:p,"data-testid":"sentinelEnd"})]})}function BH(i){return typeof i=="function"?i():i}function zH(i){return i?i.props.hasOwnProperty("in"):!1}const GP=()=>{},R0=new MH;function jH(i){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:h,open:d,rootRef:p}=i,v=O.useRef({}),b=O.useRef(null),E=O.useRef(null),A=Ps(E,p),[S,C]=O.useState(!d),x=zH(c);let F=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(F=!1);const M=()=>Qr(b.current),P=()=>(v.current.modalRef=E.current,v.current.mount=b.current,v.current),V=()=>{R0.mount(P(),{disableScrollLock:n}),E.current&&(E.current.scrollTop=0)},W=jh(()=>{const nt=BH(t)||M().body;R0.add(P(),nt),E.current&&V()}),D=()=>R0.isTopModal(P()),I=jh(nt=>{b.current=nt,nt&&(d&&D()?V():E.current&&$m(E.current,F))}),N=O.useCallback(()=>{R0.remove(P(),F)},[F]);O.useEffect(()=>()=>{N()},[N]),O.useEffect(()=>{d?W():(!x||!s)&&N()},[d,N,x,s,W]);const T=nt=>Y=>{var Q;(Q=nt.onKeyDown)==null||Q.call(nt,Y),!(Y.key!=="Escape"||Y.which===229||!D())&&(e||(Y.stopPropagation(),h&&h(Y,"escapeKeyDown")))},U=nt=>Y=>{var Q;(Q=nt.onClick)==null||Q.call(nt,Y),Y.target===Y.currentTarget&&h&&h(Y,"backdropClick")};return{getRootProps:(nt={})=>{const Y=RN(i);delete Y.onTransitionEnter,delete Y.onTransitionExited;const Q={...Y,...nt};return{role:"presentation",...Q,onKeyDown:T(Q),ref:A}},getBackdropProps:(nt={})=>{const Y=nt;return{"aria-hidden":!0,...Y,onClick:U(Y),open:d}},getTransitionProps:()=>{const nt=()=>{C(!1),a&&a()},Y=()=>{C(!0),l&&l(),s&&N()};return{onEnter:RP(nt,(c==null?void 0:c.props.onEnter)??GP),onExited:RP(Y,(c==null?void 0:c.props.onExited)??GP)}},rootRef:A,portalRef:I,isTopModal:D,exited:S,hasTransition:x}}function HH(i){return un("MuiModal",i)}rn("MuiModal",["root","hidden","backdrop"]);const $H=i=>{const{open:t,exited:e,classes:n}=i;return hn({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},HH,n)},qH=Vt("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.open&&e.exited&&t.hidden]}})(An(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),GH=Vt(MN,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),LN=O.forwardRef(function(t,e){const n=pn({name:"MuiModal",props:t}),{BackdropComponent:s=GH,BackdropProps:a,classes:l,className:c,closeAfterTransition:h=!1,children:d,container:p,component:v,components:b={},componentsProps:E={},disableAutoFocus:A=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:F=!1,disableScrollLock:M=!1,hideBackdrop:P=!1,keepMounted:V=!1,onClose:W,onTransitionEnter:D,onTransitionExited:I,open:N,slotProps:T={},slots:U={},theme:q,...j}=n,ct={...n,closeAfterTransition:h,disableAutoFocus:A,disableEnforceFocus:S,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:F,disableScrollLock:M,hideBackdrop:P,keepMounted:V},{getRootProps:nt,getBackdropProps:Y,getTransitionProps:Q,portalRef:at,isTopModal:dt,exited:K,hasTransition:rt}=jH({...ct,rootRef:e}),ut={...ct,exited:K},st=$H(ut),vt={};if(d.props.tabIndex===void 0&&(vt.tabIndex="-1"),rt){const{onEnter:Et,onExited:Ht}=Q();vt.onEnter=Et,vt.onExited=Ht}const wt={slots:{root:b.Root,backdrop:b.Backdrop,...U},slotProps:{...E,...T}},[_t,xt]=$n("root",{ref:e,elementType:qH,externalForwardedProps:{...wt,...j,component:v},getSlotProps:nt,ownerState:ut,className:te(c,st==null?void 0:st.root,!ut.open&&ut.exited&&(st==null?void 0:st.hidden))}),[Bt,jt]=$n("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:wt,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:Et=>Y({...Et,onClick:Ht=>{Et!=null&&Et.onClick&&Et.onClick(Ht)}}),className:te(a==null?void 0:a.className,st==null?void 0:st.backdrop),ownerState:ut});return!V&&!N&&(!rt||K)?null:z.jsx(rH,{ref:at,container:p,disablePortal:x,children:z.jsxs(_t,{...xt,children:[!P&&s?z.jsx(Bt,{...jt}):null,z.jsx(UH,{disableEnforceFocus:S,disableAutoFocus:A,disableRestoreFocus:F,isEnabled:dt,open:N,children:O.cloneElement(d,vt)})]})})});function WH(i){return un("MuiDialog",i)}const jw=rn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),FN=O.createContext({}),KH=Vt(MN,{name:"MuiDialog",slot:"Backdrop",overrides:(i,t)=>t.backdrop})({zIndex:-1}),YH=i=>{const{classes:t,scroll:e,maxWidth:n,fullWidth:s,fullScreen:a}=i,l={root:["root"],container:["container",`scroll${qt(e)}`],paper:["paper",`paperScroll${qt(e)}`,`paperWidth${qt(String(n))}`,s&&"paperFullWidth",a&&"paperFullScreen"]};return hn(l,WH,t)},XH=Vt(LN,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),QH=Vt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.container,t[`scroll${qt(e.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),ZH=Vt(oC,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.paper,t[`scrollPaper${qt(e.scroll)}`],t[`paperWidth${qt(String(e.maxWidth))}`],e.fullWidth&&t.paperFullWidth,e.fullScreen&&t.paperFullScreen]}})(An(({theme:i})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${jw.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(i.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${i.breakpoints.values[t]}${i.breakpoints.unit}`,[`&.${jw.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${jw.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),WP=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiDialog"}),s=qE(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":h=!0,BackdropComponent:d,BackdropProps:p,children:v,className:b,disableEscapeKeyDown:E=!1,fullScreen:A=!1,fullWidth:S=!1,maxWidth:C="sm",onClick:x,onClose:F,open:M,PaperComponent:P=oC,PaperProps:V={},scroll:W="paper",slots:D={},slotProps:I={},TransitionComponent:N=IT,transitionDuration:T=a,TransitionProps:U,...q}=n,j={...n,disableEscapeKeyDown:E,fullScreen:A,fullWidth:S,maxWidth:C,scroll:W},ct=YH(j),nt=O.useRef(),Y=Mt=>{nt.current=Mt.target===Mt.currentTarget},Q=Mt=>{x&&x(Mt),nt.current&&(nt.current=null,F&&F(Mt,"backdropClick"))},at=Bv(c),dt=O.useMemo(()=>({titleId:at}),[at]),K={transition:N,...D},rt={transition:U,paper:V,backdrop:p,...I},ut={slots:K,slotProps:rt},[st,vt]=$n("root",{elementType:XH,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:j,className:te(ct.root,b),ref:e}),[wt,_t]=$n("backdrop",{elementType:KH,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:j}),[xt,Bt]=$n("paper",{elementType:ZH,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:j,className:te(ct.paper,V.className)}),[jt,Et]=$n("container",{elementType:QH,externalForwardedProps:ut,ownerState:j,className:ct.container}),[Ht,Gt]=$n("transition",{elementType:IT,externalForwardedProps:ut,ownerState:j,additionalProps:{appear:!0,in:M,timeout:T,role:"presentation"}});return z.jsx(st,{closeAfterTransition:!0,slots:{backdrop:wt},slotProps:{backdrop:{transitionDuration:T,as:d,..._t}},disableEscapeKeyDown:E,onClose:F,open:M,onClick:Q,...vt,...q,children:z.jsx(Ht,{...Gt,children:z.jsx(jt,{onMouseDown:Y,...Et,children:z.jsx(xt,{as:P,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":at,"aria-modal":h,...Bt,children:z.jsx(FN.Provider,{value:dt,children:v})})})})})});function JH(i){return un("MuiDialogTitle",i)}rn("MuiDialogTitle",["root"]);const t$=i=>{const{classes:t}=i;return hn({root:["root"]},JH,t)},e$=Vt(Lt,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),KP=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiDialogTitle"}),{className:s,id:a,...l}=n,c=n,h=t$(c),{titleId:d=a}=O.useContext(FN);return z.jsx(e$,{component:"h2",className:te(h.root,s),ownerState:c,ref:e,variant:"h6",id:a??d,...l})}),n$=i=>{const{classes:t,disableUnderline:e,startAdornment:n,endAdornment:s,size:a,hiddenLabel:l,multiline:c}=i,h={root:["root",!e&&"underline",n&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${qt(a)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},d=hn(h,pH,t);return{...t,...d}},i$=Vt(KE,{shouldForwardProp:i=>ta(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...GE(i,t),!e.disableUnderline&&t.underline]}})(An(({theme:i})=>{const t=i.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n}},[`&.${Mu.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n},[`&.${Mu.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mu.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mu.disabled}, .${Mu.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${Mu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(ml()).map(([l])=>{var c;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(c=(i.vars||i).palette[l])==null?void 0:c.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),s$=Vt(YE,{name:"MuiFilledInput",slot:"Input",overridesResolver:WE})(An(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),uC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:l,fullWidth:c=!1,hiddenLabel:h,inputComponent:d="input",multiline:p=!1,slotProps:v,slots:b={},type:E="text",...A}=n,S={...n,disableUnderline:s,fullWidth:c,inputComponent:d,multiline:p,type:E},C=n$(n),x={root:{ownerState:S},input:{ownerState:S}},F=v??l?rs(x,v??l):x,M=b.root??a.Root??i$,P=b.input??a.Input??s$;return z.jsx(cC,{slots:{root:M,input:P},slotProps:F,fullWidth:c,inputComponent:d,multiline:p,ref:e,type:E,...A,classes:C})});uC.muiName="Input";function r$(i){return un("MuiFormControl",i)}rn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const a$=i=>{const{classes:t,margin:e,fullWidth:n}=i,s={root:["root",e!=="none"&&`margin${qt(e)}`,n&&"fullWidth"]};return hn(s,r$,t)},o$=Vt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[`margin${qt(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),l$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFormControl"}),{children:s,className:a,color:l="primary",component:c="div",disabled:h=!1,error:d=!1,focused:p,fullWidth:v=!1,hiddenLabel:b=!1,margin:E="none",required:A=!1,size:S="medium",variant:C="outlined",...x}=n,F={...n,color:l,component:c,disabled:h,error:d,fullWidth:v,hiddenLabel:b,margin:E,required:A,size:S,variant:C},M=a$(F),[P,V]=O.useState(()=>{let nt=!1;return s&&O.Children.forEach(s,Y=>{if(!Uw(Y,["Input","Select"]))return;const Q=Uw(Y,["Select"])?Y.props.input:Y;Q&&cH(Q.props)&&(nt=!0)}),nt}),[W,D]=O.useState(()=>{let nt=!1;return s&&O.Children.forEach(s,Y=>{Uw(Y,["Input","Select"])&&($_(Y.props,!0)||$_(Y.props.inputProps,!0))&&(nt=!0)}),nt}),[I,N]=O.useState(!1);h&&I&&N(!1);const T=p!==void 0&&!h?p:I;let U;O.useRef(!1);const q=O.useCallback(()=>{D(!0)},[]),j=O.useCallback(()=>{D(!1)},[]),ct=O.useMemo(()=>({adornedStart:P,setAdornedStart:V,color:l,disabled:h,error:d,filled:W,focused:T,fullWidth:v,hiddenLabel:b,size:S,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:j,onFilled:q,registerEffect:U,required:A,variant:C}),[P,l,h,d,W,T,v,b,U,j,q,A,S,C]);return z.jsx(lC.Provider,{value:ct,children:z.jsx(o$,{as:c,ownerState:F,className:te(M.root,a),ref:e,...x,children:s})})});function c$(i){return un("MuiFormHelperText",i)}const YP=rn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var XP;const u$=i=>{const{classes:t,contained:e,size:n,disabled:s,error:a,filled:l,focused:c,required:h}=i,d={root:["root",s&&"disabled",a&&"error",n&&`size${qt(n)}`,e&&"contained",c&&"focused",l&&"filled",h&&"required"]};return hn(d,c$,t)},h$=Vt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.size&&t[`size${qt(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(An(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${YP.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${YP.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),d$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFormHelperText"}),{children:s,className:a,component:l="p",disabled:c,error:h,filled:d,focused:p,margin:v,required:b,variant:E,...A}=n,S=Zp(),C=Qp({props:n,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),x={...n,component:l,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const F=u$(x);return z.jsx(h$,{as:l,className:te(F.root,a),ref:e,...A,ownerState:x,children:s===" "?XP||(XP=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function f$(i){return un("MuiFormLabel",i)}const qm=rn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),p$=i=>{const{classes:t,color:e,focused:n,disabled:s,error:a,filled:l,required:c}=i,h={root:["root",`color${qt(e)}`,s&&"disabled",a&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",a&&"error"]};return hn(h,f$,t)},g$=Vt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(An(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(ml()).map(([t])=>({props:{color:t},style:{[`&.${qm.focused}`]:{color:(i.vars||i).palette[t].main}}})),{props:{},style:{[`&.${qm.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${qm.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),m$=Vt("span",{name:"MuiFormLabel",slot:"Asterisk"})(An(({theme:i})=>({[`&.${qm.error}`]:{color:(i.vars||i).palette.error.main}}))),y$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFormLabel"}),{children:s,className:a,color:l,component:c="label",disabled:h,error:d,filled:p,focused:v,required:b,...E}=n,A=Zp(),S=Qp({props:n,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),C={...n,color:S.color||"primary",component:c,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},x=p$(C);return z.jsxs(g$,{as:c,ownerState:C,className:te(x.root,a),ref:e,...E,children:[s,S.required&&z.jsxs(m$,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function kT(i){return`scale(${i}, ${i**2})`}const v$={entering:{opacity:1,transform:kT(1)},entered:{opacity:1,transform:"none"}},Hw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),PT=O.forwardRef(function(t,e){const{addEndListener:n,appear:s=!0,children:a,easing:l,in:c,onEnter:h,onEntered:d,onEntering:p,onExit:v,onExited:b,onExiting:E,style:A,timeout:S="auto",TransitionComponent:C=to,...x}=t,F=wN(),M=O.useRef(),P=qE(),V=O.useRef(null),W=Ps(V,zv(a),e),D=nt=>Y=>{if(nt){const Q=V.current;Y===void 0?nt(Q):nt(Q,Y)}},I=D(p),N=D((nt,Y)=>{TN(nt);const{duration:Q,delay:at,easing:dt}=j_({style:A,timeout:S,easing:l},{mode:"enter"});let K;S==="auto"?(K=P.transitions.getAutoHeightDuration(nt.clientHeight),M.current=K):K=Q,nt.style.transition=[P.transitions.create("opacity",{duration:K,delay:at}),P.transitions.create("transform",{duration:Hw?K:K*.666,delay:at,easing:dt})].join(","),h&&h(nt,Y)}),T=D(d),U=D(E),q=D(nt=>{const{duration:Y,delay:Q,easing:at}=j_({style:A,timeout:S,easing:l},{mode:"exit"});let dt;S==="auto"?(dt=P.transitions.getAutoHeightDuration(nt.clientHeight),M.current=dt):dt=Y,nt.style.transition=[P.transitions.create("opacity",{duration:dt,delay:Q}),P.transitions.create("transform",{duration:Hw?dt:dt*.666,delay:Hw?Q:Q||dt*.333,easing:at})].join(","),nt.style.opacity=0,nt.style.transform=kT(.75),v&&v(nt)}),j=D(b),ct=nt=>{S==="auto"&&F.start(M.current||0,nt),n&&n(V.current,nt)};return z.jsx(C,{appear:s,in:c,nodeRef:V,onEnter:N,onEntered:T,onEntering:I,onExit:q,onExited:j,onExiting:U,addEndListener:ct,timeout:S==="auto"?null:S,...x,children:(nt,{ownerState:Y,...Q})=>O.cloneElement(a,{style:{opacity:0,transform:kT(.75),visibility:nt==="exited"&&!c?"hidden":void 0,...v$[nt],...A,...a.props.style},ref:W,...Q})})});PT&&(PT.muiSupportAuto=!0);const b$=i=>{const{classes:t,disableUnderline:e}=i,s=hn({root:["root",!e&&"underline"],input:["input"]},dH,t);return{...t,...s}},_$=Vt(KE,{shouldForwardProp:i=>ta(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...GE(i,t),!e.disableUnderline&&t.underline]}})(An(({theme:i})=>{let e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(e=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${gm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${gm.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${gm.disabled}, .${gm.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${gm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(ml()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[n].main}`}}}))]}})),E$=Vt(YE,{name:"MuiInput",slot:"Input",overridesResolver:WE})({}),hC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:h="input",multiline:d=!1,slotProps:p,slots:v={},type:b="text",...E}=n,A=b$(n),C={root:{ownerState:{disableUnderline:s}}},x=p??l?rs(p??l,C):C,F=v.root??a.Root??_$,M=v.input??a.Input??E$;return z.jsx(cC,{slots:{root:F,input:M},slotProps:x,fullWidth:c,inputComponent:h,multiline:d,ref:e,type:b,...E,classes:A})});hC.muiName="Input";function A$(i){return un("MuiInputLabel",i)}rn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const S$=i=>{const{classes:t,formControl:e,size:n,shrink:s,disableAnimation:a,variant:l,required:c}=i,h={root:["root",e&&"formControl",!a&&"animated",s&&"shrink",n&&n!=="medium"&&`size${qt(n)}`,l],asterisk:[c&&"asterisk"]},d=hn(h,A$,t);return{...t,...d}},w$=Vt(y$,{shouldForwardProp:i=>ta(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${qm.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(An(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="filled"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:e,size:n})=>t==="filled"&&e.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="outlined"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),T$=O.forwardRef(function(t,e){const n=pn({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:a,shrink:l,variant:c,className:h,...d}=n,p=Zp();let v=l;typeof v>"u"&&p&&(v=p.filled||p.focused||p.adornedStart);const b=Qp({props:n,muiFormControl:p,states:["size","variant","required","focused"]}),E={...n,disableAnimation:s,formControl:p,shrink:v,size:b.size,variant:b.variant,required:b.required,focused:b.focused},A=S$(E);return z.jsx(w$,{"data-shrink":v,ref:e,className:te(A.root,h),...d,ownerState:E,classes:A})}),x$=O.createContext({});function C$(i){return un("MuiList",i)}rn("MuiList",["root","padding","dense","subheader"]);const R$=i=>{const{classes:t,disablePadding:e,dense:n,subheader:s}=i;return hn({root:["root",!e&&"padding",n&&"dense",s&&"subheader"]},C$,t)},I$=Vt("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),k$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiList"}),{children:s,className:a,component:l="ul",dense:c=!1,disablePadding:h=!1,subheader:d,...p}=n,v=O.useMemo(()=>({dense:c}),[c]),b={...n,component:l,dense:c,disablePadding:h},E=R$(b);return z.jsx(x$.Provider,{value:v,children:z.jsxs(I$,{as:l,className:te(E.root,a),ref:e,ownerState:b,...p,children:[d,s]})})});function $w(i,t,e){return i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:i.firstChild}function QP(i,t,e){return i===t?e?i.firstChild:i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:i.lastChild}function VN(i,t){if(t===void 0)return!0;let e=i.innerText;return e===void 0&&(e=i.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function mm(i,t,e,n,s,a){let l=!1,c=s(i,t,t?e:!1);for(;c;){if(c===i.firstChild){if(l)return!1;l=!0}const h=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!VN(c,a)||h)c=s(i,c,e);else return c.focus(),!0}return!1}const P$=O.forwardRef(function(t,e){const{actions:n,autoFocus:s=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:h=!1,disableListWrap:d=!1,onKeyDown:p,variant:v="selectedMenu",...b}=t,E=O.useRef(null),A=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Hc(()=>{s&&E.current.focus()},[s]),O.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(M,{direction:P})=>{const V=!E.current.style.width;if(M.clientHeight<E.current.clientHeight&&V){const W=`${NN(yl(M))}px`;E.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=W,E.current.style.width=`calc(100% + ${W})`}return E.current}}),[]);const S=M=>{const P=E.current,V=M.key;if(M.ctrlKey||M.metaKey||M.altKey){p&&p(M);return}const D=Qr(P).activeElement;if(V==="ArrowDown")M.preventDefault(),mm(P,D,d,h,$w);else if(V==="ArrowUp")M.preventDefault(),mm(P,D,d,h,QP);else if(V==="Home")M.preventDefault(),mm(P,null,d,h,$w);else if(V==="End")M.preventDefault(),mm(P,null,d,h,QP);else if(V.length===1){const I=A.current,N=V.toLowerCase(),T=performance.now();I.keys.length>0&&(T-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&N!==I.keys[0]&&(I.repeating=!1)),I.lastTime=T,I.keys.push(N);const U=D&&!I.repeating&&VN(D,I);I.previousKeyMatched&&(U||mm(P,D,!1,h,$w,I))?M.preventDefault():I.previousKeyMatched=!1}p&&p(M)},C=Ps(E,e);let x=-1;O.Children.forEach(l,(M,P)=>{if(!O.isValidElement(M)){x===P&&(x+=1,x>=l.length&&(x=-1));return}M.props.disabled||(v==="selectedMenu"&&M.props.selected||x===-1)&&(x=P),x===P&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(x+=1,x>=l.length&&(x=-1))});const F=O.Children.map(l,(M,P)=>{if(P===x){const V={};return a&&(V.autoFocus=!0),M.props.tabIndex===void 0&&v==="selectedMenu"&&(V.tabIndex=0),O.cloneElement(M,V)}return M});return z.jsx(k$,{role:"menu",ref:C,className:c,onKeyDown:S,tabIndex:s?0:-1,...b,children:F})});function M$(i){return un("MuiPopover",i)}rn("MuiPopover",["root","paper"]);function ZP(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.height/2:t==="bottom"&&(e=i.height),e}function JP(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.width/2:t==="right"&&(e=i.width),e}function tM(i){return[i.horizontal,i.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function I0(i){return typeof i=="function"?i():i}const O$=i=>{const{classes:t}=i;return hn({root:["root"],paper:["paper"]},M$,t)},D$=Vt(LN,{name:"MuiPopover",slot:"Root"})({}),UN=Vt(oC,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),N$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:h="anchorEl",children:d,className:p,container:v,elevation:b=8,marginThreshold:E=16,open:A,PaperProps:S={},slots:C={},slotProps:x={},transformOrigin:F={vertical:"top",horizontal:"left"},TransitionComponent:M,transitionDuration:P="auto",TransitionProps:V={},disableScrollLock:W=!1,...D}=n,I=O.useRef(),N={...n,anchorOrigin:l,anchorReference:h,elevation:b,marginThreshold:E,transformOrigin:F,TransitionComponent:M,transitionDuration:P,TransitionProps:V},T=O$(N),U=O.useCallback(()=>{if(h==="anchorPosition")return c;const Et=I0(a),Gt=(Et&&Et.nodeType===1?Et:Qr(I.current).body).getBoundingClientRect();return{top:Gt.top+ZP(Gt,l.vertical),left:Gt.left+JP(Gt,l.horizontal)}},[a,l.horizontal,l.vertical,c,h]),q=O.useCallback(Et=>({vertical:ZP(Et,F.vertical),horizontal:JP(Et,F.horizontal)}),[F.horizontal,F.vertical]),j=O.useCallback(Et=>{const Ht={width:Et.offsetWidth,height:Et.offsetHeight},Gt=q(Ht);if(h==="none")return{top:null,left:null,transformOrigin:tM(Gt)};const Mt=U();let kt=Mt.top-Gt.vertical,Wt=Mt.left-Gt.horizontal;const ue=kt+Ht.height,fe=Wt+Ht.width,ke=yl(I0(a)),Ue=ke.innerHeight-E,He=ke.innerWidth-E;if(E!==null&&kt<E){const pe=kt-E;kt-=pe,Gt.vertical+=pe}else if(E!==null&&ue>Ue){const pe=ue-Ue;kt-=pe,Gt.vertical+=pe}if(E!==null&&Wt<E){const pe=Wt-E;Wt-=pe,Gt.horizontal+=pe}else if(fe>He){const pe=fe-He;Wt-=pe,Gt.horizontal+=pe}return{top:`${Math.round(kt)}px`,left:`${Math.round(Wt)}px`,transformOrigin:tM(Gt)}},[a,h,U,q,E]),[ct,nt]=O.useState(A),Y=O.useCallback(()=>{const Et=I.current;if(!Et)return;const Ht=j(Et);Ht.top!==null&&Et.style.setProperty("top",Ht.top),Ht.left!==null&&(Et.style.left=Ht.left),Et.style.transformOrigin=Ht.transformOrigin,nt(!0)},[j]);O.useEffect(()=>(W&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[a,W,Y]);const Q=()=>{Y()},at=()=>{nt(!1)};O.useEffect(()=>{A&&Y()}),O.useImperativeHandle(s,()=>A?{updatePosition:()=>{Y()}}:null,[A,Y]),O.useEffect(()=>{if(!A)return;const Et=_N(()=>{Y()}),Ht=yl(I0(a));return Ht.addEventListener("resize",Et),()=>{Et.clear(),Ht.removeEventListener("resize",Et)}},[a,A,Y]);let dt=P;const K={slots:{transition:M,...C},slotProps:{transition:V,paper:S,...x}},[rt,ut]=$n("transition",{elementType:PT,externalForwardedProps:K,ownerState:N,getSlotProps:Et=>({...Et,onEntering:(Ht,Gt)=>{var Mt;(Mt=Et.onEntering)==null||Mt.call(Et,Ht,Gt),Q()},onExited:Ht=>{var Gt;(Gt=Et.onExited)==null||Gt.call(Et,Ht),at()}}),additionalProps:{appear:!0,in:A}});P==="auto"&&!rt.muiSupportAuto&&(dt=void 0);const st=v||(a?Qr(I0(a)).body:void 0),[vt,{slots:wt,slotProps:_t,...xt}]=$n("root",{ref:e,elementType:D$,externalForwardedProps:{...K,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:v9(typeof x.backdrop=="function"?x.backdrop(N):x.backdrop,{invisible:!0})},container:st,open:A},ownerState:N,className:te(T.root,p)}),[Bt,jt]=$n("paper",{ref:I,className:T.paper,elementType:UN,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:ct?void 0:{opacity:0}},ownerState:N});return z.jsx(vt,{...xt,...!RT(vt)&&{slots:wt,slotProps:_t,disableScrollLock:W},children:z.jsx(rt,{...ut,timeout:dt,children:z.jsx(Bt,{...jt,children:d})})})});function L$(i){return un("MuiMenu",i)}rn("MuiMenu",["root","paper","list"]);const F$={vertical:"top",horizontal:"right"},V$={vertical:"top",horizontal:"left"},U$=i=>{const{classes:t}=i;return hn({root:["root"],paper:["paper"],list:["list"]},L$,t)},B$=Vt(N$,{shouldForwardProp:i=>ta(i)||i==="classes",name:"MuiMenu",slot:"Root"})({}),z$=Vt(UN,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),j$=Vt(P$,{name:"MuiMenu",slot:"List"})({outline:0}),H$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:h={},onClose:d,open:p,PaperProps:v={},PopoverClasses:b,transitionDuration:E="auto",TransitionProps:{onEntering:A,...S}={},variant:C="selectedMenu",slots:x={},slotProps:F={},...M}=n,P=tj(),V={...n,autoFocus:s,disableAutoFocusItem:c,MenuListProps:h,onEntering:A,PaperProps:v,transitionDuration:E,TransitionProps:S,variant:C},W=U$(V),D=s&&!c&&p,I=O.useRef(null),N=(dt,K)=>{I.current&&I.current.adjustStyleForScrollbar(dt,{direction:P?"rtl":"ltr"}),A&&A(dt,K)},T=dt=>{dt.key==="Tab"&&(dt.preventDefault(),d&&d(dt,"tabKeyDown"))};let U=-1;O.Children.map(a,(dt,K)=>{O.isValidElement(dt)&&(dt.props.disabled||(C==="selectedMenu"&&dt.props.selected||U===-1)&&(U=K))});const q={slots:x,slotProps:{list:h,transition:S,paper:v,...F}},j=iH({elementType:x.root,externalSlotProps:F.root,ownerState:V,className:[W.root,l]}),[ct,nt]=$n("paper",{className:W.paper,elementType:z$,externalForwardedProps:q,shouldForwardComponentProp:!0,ownerState:V}),[Y,Q]=$n("list",{className:te(W.list,h.className),elementType:j$,shouldForwardComponentProp:!0,externalForwardedProps:q,getSlotProps:dt=>({...dt,onKeyDown:K=>{var rt;T(K),(rt=dt.onKeyDown)==null||rt.call(dt,K)}}),ownerState:V}),at=typeof q.slotProps.transition=="function"?q.slotProps.transition(V):q.slotProps.transition;return z.jsx(B$,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?F$:V$,slots:{root:x.root,paper:ct,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:j,paper:nt,backdrop:typeof F.backdrop=="function"?F.backdrop(V):F.backdrop,transition:{...at,onEntering:(...dt)=>{var K;N(...dt),(K=at==null?void 0:at.onEntering)==null||K.call(at,...dt)}}},open:p,ref:e,transitionDuration:E,ownerState:V,...M,classes:b,children:z.jsx(Y,{actions:I,autoFocus:s&&(U===-1||c),autoFocusItem:D,variant:C,...Q,children:a})})});function $$(i){return un("MuiNativeSelect",i)}const dC=rn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),q$=i=>{const{classes:t,variant:e,disabled:n,multiple:s,open:a,error:l}=i,c={select:["select",e,n&&"disabled",s&&"multiple",l&&"error"],icon:["icon",`icon${qt(e)}`,a&&"iconOpen",n&&"disabled"]};return hn(c,$$,t)},BN=Vt("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${dC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),G$=Vt(BN,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ta,overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.select,t[e.variant],e.error&&t.error,{[`&.${dC.multiple}`]:t.multiple}]}})({}),zN=Vt("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${dC.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),W$=Vt(zN,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),K$=O.forwardRef(function(t,e){const{className:n,disabled:s,error:a,IconComponent:l,inputRef:c,variant:h="standard",...d}=t,p={...t,disabled:s,variant:h,error:a},v=q$(p);return z.jsxs(O.Fragment,{children:[z.jsx(G$,{ownerState:p,className:te(v.select,n),disabled:s,ref:c||e,...d}),t.multiple?null:z.jsx(W$,{as:l,ownerState:p,className:v.icon})]})});var eM;const Y$=Vt("fieldset",{shouldForwardProp:ta})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),X$=Vt("legend",{shouldForwardProp:ta})(An(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function Q$(i){const{children:t,classes:e,className:n,label:s,notched:a,...l}=i,c=s!=null&&s!=="",h={...i,notched:a,withLabel:c};return z.jsx(Y$,{"aria-hidden":!0,className:n,ownerState:h,...l,children:z.jsx(X$,{ownerState:h,children:c?z.jsx("span",{children:s}):eM||(eM=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Z$=i=>{const{classes:t}=i,n=hn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fH,t);return{...t,...n}},J$=Vt(KE,{shouldForwardProp:i=>ta(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:GE})(An(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${va.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${va.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${va.focused} .${va.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(ml()).map(([e])=>({props:{color:e},style:{[`&.${va.focused} .${va.notchedOutline}`]:{borderColor:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${va.error} .${va.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${va.disabled} .${va.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),t8=Vt(Q$,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(An(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),e8=Vt(YE,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:WE})(An(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),fC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:l="input",label:c,multiline:h=!1,notched:d,slots:p={},slotProps:v={},type:b="text",...E}=n,A=Z$(n),S=Zp(),C=Qp({props:n,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...n,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:a,hiddenLabel:C.hiddenLabel,multiline:h,size:C.size,type:b},F=p.root??s.Root??J$,M=p.input??s.Input??e8,[P,V]=$n("notchedOutline",{elementType:t8,className:A.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:p,slotProps:v},additionalProps:{label:c!=null&&c!==""&&C.required?z.jsxs(O.Fragment,{children:[c,"","*"]}):c}});return z.jsx(cC,{slots:{root:F,input:M},slotProps:v,renderSuffix:W=>z.jsx(P,{...V,notched:typeof d<"u"?d:!!(W.startAdornment||W.filled||W.focused)}),fullWidth:a,inputComponent:l,multiline:h,ref:e,type:b,...E,classes:{...A,notchedOutline:null}})});fC.muiName="Input";function jN(i){return un("MuiSelect",i)}const ym=rn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var nM;const n8=Vt(BN,{name:"MuiSelect",slot:"Select",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`&.${ym.select}`]:t.select},{[`&.${ym.select}`]:t[e.variant]},{[`&.${ym.error}`]:t.error},{[`&.${ym.multiple}`]:t.multiple}]}})({[`&.${ym.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),i8=Vt(zN,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),s8=Vt("input",{shouldForwardProp:i=>bN(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function iM(i,t){return typeof t=="object"&&t!==null?i===t:String(i)===String(t)}function r8(i){return i==null||typeof i=="string"&&!i.trim()}const a8=i=>{const{classes:t,variant:e,disabled:n,multiple:s,open:a,error:l}=i,c={select:["select",e,n&&"disabled",s&&"multiple",l&&"error"],icon:["icon",`icon${qt(e)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return hn(c,jN,t)},o8=O.forwardRef(function(t,e){var Mn;const{"aria-describedby":n,"aria-label":s,autoFocus:a,autoWidth:l,children:c,className:h,defaultOpen:d,defaultValue:p,disabled:v,displayEmpty:b,error:E=!1,IconComponent:A,inputRef:S,labelId:C,MenuProps:x={},multiple:F,name:M,onBlur:P,onChange:V,onClose:W,onFocus:D,onOpen:I,open:N,readOnly:T,renderValue:U,required:q,SelectDisplayProps:j={},tabIndex:ct,type:nt,value:Y,variant:Q="standard",...at}=t,[dt,K]=MP({controlled:Y,default:p,name:"Select"}),[rt,ut]=MP({controlled:N,default:d,name:"Select"}),st=O.useRef(null),vt=O.useRef(null),[wt,_t]=O.useState(null),{current:xt}=O.useRef(N!=null),[Bt,jt]=O.useState(),Et=Ps(e,S),Ht=O.useCallback(Dt=>{vt.current=Dt,Dt&&_t(Dt)},[]),Gt=wt==null?void 0:wt.parentNode;O.useImperativeHandle(Et,()=>({focus:()=>{vt.current.focus()},node:st.current,value:dt}),[dt]),O.useEffect(()=>{d&&rt&&wt&&!xt&&(jt(l?null:Gt.clientWidth),vt.current.focus())},[wt,l]),O.useEffect(()=>{a&&vt.current.focus()},[a]),O.useEffect(()=>{if(!C)return;const Dt=Qr(vt.current).getElementById(C);if(Dt){const Pe=()=>{getSelection().isCollapsed&&vt.current.focus()};return Dt.addEventListener("click",Pe),()=>{Dt.removeEventListener("click",Pe)}}},[C]);const Mt=(Dt,Pe)=>{Dt?I&&I(Pe):W&&W(Pe),xt||(jt(l?null:Gt.clientWidth),ut(Dt))},kt=Dt=>{Dt.button===0&&(Dt.preventDefault(),vt.current.focus(),Mt(!0,Dt))},Wt=Dt=>{Mt(!1,Dt)},ue=O.Children.toArray(c),fe=Dt=>{const Pe=ue.find(gn=>gn.props.value===Dt.target.value);Pe!==void 0&&(K(Pe.props.value),V&&V(Dt,Pe))},ke=Dt=>Pe=>{let gn;if(Pe.currentTarget.hasAttribute("tabindex")){if(F){gn=Array.isArray(dt)?dt.slice():[];const tr=dt.indexOf(Dt.props.value);tr===-1?gn.push(Dt.props.value):gn.splice(tr,1)}else gn=Dt.props.value;if(Dt.props.onClick&&Dt.props.onClick(Pe),dt!==gn&&(K(gn),V)){const tr=Pe.nativeEvent||Pe,xl=new tr.constructor(tr.type,tr);Object.defineProperty(xl,"target",{writable:!0,value:{value:gn,name:M}}),V(xl,Dt)}F||Mt(!1,Pe)}},Ue=Dt=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(Dt.key)&&(Dt.preventDefault(),Mt(!0,Dt))},He=wt!==null&&rt,pe=Dt=>{!He&&P&&(Object.defineProperty(Dt,"target",{writable:!0,value:{value:dt,name:M}}),P(Dt))};delete at["aria-invalid"];let Ot,si;const Ye=[];let Hi=!1;($_({value:dt})||b)&&(U?Ot=U(dt):Hi=!0);const Re=ue.map(Dt=>{if(!O.isValidElement(Dt))return null;let Pe;if(F){if(!Array.isArray(dt))throw new Error(pl(2));Pe=dt.some(gn=>iM(gn,Dt.props.value)),Pe&&Hi&&Ye.push(Dt.props.children)}else Pe=iM(dt,Dt.props.value),Pe&&Hi&&(si=Dt.props.children);return O.cloneElement(Dt,{"aria-selected":Pe?"true":"false",onClick:ke(Dt),onKeyUp:gn=>{gn.key===" "&&gn.preventDefault(),Dt.props.onKeyUp&&Dt.props.onKeyUp(gn)},role:"option",selected:Pe,value:void 0,"data-value":Dt.props.value})});Hi&&(F?Ye.length===0?Ot=null:Ot=Ye.reduce((Dt,Pe,gn)=>(Dt.push(Pe),gn<Ye.length-1&&Dt.push(", "),Dt),[]):Ot=si);let ee=Bt;!l&&xt&&wt&&(ee=Gt.clientWidth);let Xe;typeof ct<"u"?Xe=ct:Xe=v?null:0;const Oe=j.id||(M?`mui-component-select-${M}`:void 0),De={...t,variant:Q,value:dt,open:He,error:E},Kt=a8(De),Pn={...x.PaperProps,...(Mn=x.slotProps)==null?void 0:Mn.paper},yn=Bv();return z.jsxs(O.Fragment,{children:[z.jsx(n8,{as:"div",ref:Ht,tabIndex:Xe,role:"combobox","aria-controls":He?yn:void 0,"aria-disabled":v?"true":void 0,"aria-expanded":He?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":q?"true":void 0,"aria-invalid":E?"true":void 0,onKeyDown:Ue,onMouseDown:v||T?null:kt,onBlur:pe,onFocus:D,...j,ownerState:De,className:te(j.className,Kt.select,h),id:Oe,children:r8(Ot)?nM||(nM=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ot}),z.jsx(s8,{"aria-invalid":E,value:Array.isArray(dt)?dt.join(","):dt,name:M,ref:st,"aria-hidden":!0,onChange:fe,tabIndex:-1,disabled:v,className:Kt.nativeInput,autoFocus:a,required:q,...at,ownerState:De}),z.jsx(i8,{as:A,className:Kt.icon,ownerState:De}),z.jsx(H$,{id:`menu-${M||""}`,anchorEl:Gt,open:He,onClose:Wt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":F?"true":void 0,disableListWrap:!0,id:yn,...x.MenuListProps},paper:{...Pn,style:{minWidth:ee,...Pn!=null?Pn.style:null}}},children:Re})]})}),l8=i=>{const{classes:t}=i,n=hn({root:["root"]},jN,t);return{...t,...n}},pC={name:"MuiSelect",slot:"Root",shouldForwardProp:i=>ta(i)&&i!=="variant"},c8=Vt(hC,pC)(""),u8=Vt(fC,pC)(""),h8=Vt(uC,pC)(""),HN=O.forwardRef(function(t,e){const n=pn({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:l={},className:c,defaultOpen:h=!1,displayEmpty:d=!1,IconComponent:p=gH,id:v,input:b,inputProps:E,label:A,labelId:S,MenuProps:C,multiple:x=!1,native:F=!1,onClose:M,onOpen:P,open:V,renderValue:W,SelectDisplayProps:D,variant:I="outlined",...N}=n,T=F?K$:o8,U=Zp(),q=Qp({props:n,muiFormControl:U,states:["variant","error"]}),j=q.variant||I,ct={...n,variant:j,classes:l},nt=l8(ct),{root:Y,...Q}=nt,at=b||{standard:z.jsx(c8,{ownerState:ct}),outlined:z.jsx(u8,{label:A,ownerState:ct}),filled:z.jsx(h8,{ownerState:ct})}[j],dt=Ps(e,zv(at));return z.jsx(O.Fragment,{children:O.cloneElement(at,{inputComponent:T,inputProps:{children:a,error:q.error,IconComponent:p,variant:j,type:void 0,multiple:x,...F?{id:v}:{autoWidth:s,defaultOpen:h,displayEmpty:d,labelId:S,MenuProps:C,onClose:M,onOpen:P,open:V,renderValue:W,SelectDisplayProps:{id:v,...D}},...E,classes:E?rs(Q,E.classes):Q,...b?b.props.inputProps:{}},...(x&&F||d)&&j==="outlined"?{notched:!0}:{},ref:dt,className:te(at.props.className,c,nt.root),...!b&&{variant:j},...N})})});HN.muiName="Select";function d8(i){return un("MuiSkeleton",i)}rn("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const f8=i=>{const{classes:t,variant:e,animation:n,hasChildren:s,width:a,height:l}=i;return hn({root:["root",e,n,s&&"withChildren",s&&!a&&"fitContent",s&&!l&&"heightAuto"]},d8,t)},MT=id`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,OT=id`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,p8=typeof MT!="string"?Lv`
        animation: ${MT} 2s ease-in-out 0.5s infinite;
      `:null,g8=typeof OT!="string"?Lv`
        &::after {
          animation: ${OT} 2s linear 0.5s infinite;
        }
      `:null,m8=Vt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],e.animation!==!1&&t[e.animation],e.hasChildren&&t.withChildren,e.hasChildren&&!e.width&&t.fitContent,e.hasChildren&&!e.height&&t.heightAuto]}})(An(({theme:i})=>{const t=Kj(i.shape.borderRadius)||"px",e=Yj(i.shape.borderRadius);return{display:"block",backgroundColor:i.vars?i.vars.palette.Skeleton.bg:Gr(i.palette.text.primary,i.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${e}${t}/${Math.round(e/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(i.vars||i).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:p8||{animation:`${MT} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(i.vars||i).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:g8||{"&::after":{animation:`${OT} 2s linear 0.5s infinite`}}}]}})),DT=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:a,component:l="span",height:c,style:h,variant:d="text",width:p,...v}=n,b={...n,animation:s,component:l,variant:d,hasChildren:!!v.children},E=f8(b);return z.jsx(m8,{as:l,ref:e,className:te(E.root,a),ownerState:b,...v,style:{width:p,height:c,...h}})});function y8(i){return un("MuiTextField",i)}rn("MuiTextField",["root"]);const v8={standard:hC,filled:uC,outlined:fC},b8=i=>{const{classes:t}=i;return hn({root:["root"]},y8,t)},_8=Vt(l$,{name:"MuiTextField",slot:"Root"})({}),E8=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:l,className:c,color:h="primary",defaultValue:d,disabled:p=!1,error:v=!1,FormHelperTextProps:b,fullWidth:E=!1,helperText:A,id:S,InputLabelProps:C,inputProps:x,InputProps:F,inputRef:M,label:P,maxRows:V,minRows:W,multiline:D=!1,name:I,onBlur:N,onChange:T,onFocus:U,placeholder:q,required:j=!1,rows:ct,select:nt=!1,SelectProps:Y,slots:Q={},slotProps:at={},type:dt,value:K,variant:rt="outlined",...ut}=n,st={...n,autoFocus:a,color:h,disabled:p,error:v,fullWidth:E,multiline:D,required:j,select:nt,variant:rt},vt=b8(st),wt=Bv(S),_t=A&&wt?`${wt}-helper-text`:void 0,xt=P&&wt?`${wt}-label`:void 0,Bt=v8[rt],jt={slots:Q,slotProps:{input:F,inputLabel:C,htmlInput:x,formHelperText:b,select:Y,...at}},Et={},Ht=jt.slotProps.inputLabel;rt==="outlined"&&(Ht&&typeof Ht.shrink<"u"&&(Et.notched=Ht.shrink),Et.label=P),nt&&((!Y||!Y.native)&&(Et.id=void 0),Et["aria-describedby"]=void 0);const[Gt,Mt]=$n("root",{elementType:_8,shouldForwardComponentProp:!0,externalForwardedProps:{...jt,...ut},ownerState:st,className:te(vt.root,c),ref:e,additionalProps:{disabled:p,error:v,fullWidth:E,required:j,color:h,variant:rt}}),[kt,Wt]=$n("input",{elementType:Bt,externalForwardedProps:jt,additionalProps:Et,ownerState:st}),[ue,fe]=$n("inputLabel",{elementType:T$,externalForwardedProps:jt,ownerState:st}),[ke,Ue]=$n("htmlInput",{elementType:"input",externalForwardedProps:jt,ownerState:st}),[He,pe]=$n("formHelperText",{elementType:d$,externalForwardedProps:jt,ownerState:st}),[Ot,si]=$n("select",{elementType:HN,externalForwardedProps:jt,ownerState:st}),Ye=z.jsx(kt,{"aria-describedby":_t,autoComplete:s,autoFocus:a,defaultValue:d,fullWidth:E,multiline:D,name:I,rows:ct,maxRows:V,minRows:W,type:dt,value:K,id:wt,inputRef:M,onBlur:N,onChange:T,onFocus:U,placeholder:q,inputProps:Ue,slots:{input:Q.htmlInput?ke:void 0},...Wt});return z.jsxs(Gt,{...Mt,children:[P!=null&&P!==""&&z.jsx(ue,{htmlFor:wt,id:xt,...fe,children:P}),nt?z.jsx(Ot,{"aria-describedby":_t,id:wt,labelId:xt,value:K,input:Ye,...si,children:l}):Ye,A&&z.jsx(He,{id:_t,...pe,children:A})]})}),A8=os(z.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}));function XE({subtitle:i}){return z.jsxs(St,{className:"fullWidth header",children:[z.jsxs(St,{className:"fullHeight",sx:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},children:[z.jsx(Lt,{variant:"header_small",sx:{ml:"1px"},children:"2025 SUMMER RETREAT"}),z.jsx(Lt,{variant:"header",children:"CHANGE"})]}),i&&z.jsx(Lt,{children:i}),z.jsx(A8,{fontSize:"large",sx:{color:"#FAC656"}})]})}const S8=()=>{};var sM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=function(i){const t=[];let e=0;for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},w8=function(i){const t=[];let e=0,n=0;for(;e<i.length;){const s=i[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=i[e++];t[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=i[e++],l=i[e++],c=i[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(h>>10)),t[n++]=String.fromCharCode(56320+(h&1023))}else{const a=i[e++],l=i[e++];t[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},qN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<i.length;s+=3){const a=i[s],l=s+1<i.length,c=l?i[s+1]:0,h=s+2<i.length,d=h?i[s+2]:0,p=a>>2,v=(a&3)<<4|c>>4;let b=(c&15)<<2|d>>6,E=d&63;h||(E=64,l||(b=64)),n.push(e[p],e[v],e[b],e[E])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray($N(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):w8(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<i.length;){const a=e[i.charAt(s++)],c=s<i.length?e[i.charAt(s)]:0;++s;const d=s<i.length?e[i.charAt(s)]:64;++s;const v=s<i.length?e[i.charAt(s)]:64;if(++s,a==null||c==null||d==null||v==null)throw new T8;const b=a<<2|c>>4;if(n.push(b),d!==64){const E=c<<4&240|d>>2;if(n.push(E),v!==64){const A=d<<6&192|v;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class T8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x8=function(i){const t=$N(i);return qN.encodeByteArray(t,!0)},q_=function(i){return x8(i).replace(/\./g,"")},GN=function(i){try{return qN.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=()=>C8().__FIREBASE_DEFAULTS__,I8=()=>{if(typeof process>"u"||typeof sM>"u")return;const i=sM.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},k8=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&GN(i[1]);return t&&JSON.parse(t)},QE=()=>{try{return S8()||R8()||I8()||k8()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},WN=i=>{var t,e;return(e=(t=QE())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},KN=i=>{const t=WN(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},YN=()=>{var i;return(i=QE())===null||i===void 0?void 0:i.config},XN=i=>{var t;return(t=QE())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i){return i.endsWith(".cloudworkstations.dev")}async function gC(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[q_(JSON.stringify(e)),q_(JSON.stringify(l)),""].join(".")}const Gm={};function M8(){const i={prod:[],emulator:[]};for(const t of Object.keys(Gm))Gm[t]?i.emulator.push(t):i.prod.push(t);return i}function O8(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let rM=!1;function mC(i,t){if(typeof window>"u"||typeof document>"u"||!Jp(window.location.host)||Gm[i]===t||Gm[i]||rM)return;Gm[i]=t;function e(b){return`__firebase__banner__${b}`}const n="__firebase__banner",a=M8().prod.length>0;function l(){const b=document.getElementById(n);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{rM=!0,l()},b}function p(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=O8(n),E=e("text"),A=document.getElementById(E)||document.createElement("span"),S=e("learnmore"),C=document.getElementById(S)||document.createElement("a"),x=e("preprendIcon"),F=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;c(M),p(C,S);const P=d();h(F,x),M.append(F,A,C,P),document.body.appendChild(M)}a?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function N8(){var i;const t=(i=QE())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F8(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function V8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U8(){const i=as();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function B8(){return!N8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z8(){try{return typeof indexedDB=="object"}catch{return!1}}function j8(){return new Promise((i,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="FirebaseError";class eo extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=H8,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jv.prototype.create)}}class jv{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?$8(a,n):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new eo(s,c,n)}}function $8(i,t){return i.replace(q8,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const q8=/\{\$([^}]+)}/g;function G8(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Gh(i,t){if(i===t)return!0;const e=Object.keys(i),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const a=i[s],l=t[s];if(aM(a)&&aM(l)){if(!Gh(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function aM(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(i){const t=[];for(const[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function W8(i,t){const e=new K8(i,t);return e.subscribe.bind(e)}class K8{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");Y8(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=qw),s.error===void 0&&(s.error=qw),s.complete===void 0&&(s.complete=qw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y8(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function qw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i){return i&&i._delegate?i._delegate:i}class qc{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new P8;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Z8(t))try{this.getOrInitializeService({instanceIdentifier:Fu})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(t=Fu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fu){return this.instances.has(t)}getOptions(t=Fu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(s)}return s}onInit(t,e){var n;const s=this.normalizeInstanceIdentifier(e),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Q8(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Fu){return this.component?this.component.multipleInstances?t:Fu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q8(i){return i===Fu?void 0:i}function Z8(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new X8(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(_e||(_e={}));const t7={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},e7=_e.INFO,n7={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},i7=(i,t,...e)=>{if(t<i.logLevel)return;const n=new Date().toISOString(),s=n7[t];if(s)console[s](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yC{constructor(t){this.name=t,this._logLevel=e7,this._logHandler=i7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const s7=(i,t)=>t.some(e=>i instanceof e);let oM,lM;function r7(){return oM||(oM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a7(){return lM||(lM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZN=new WeakMap,NT=new WeakMap,JN=new WeakMap,Gw=new WeakMap,vC=new WeakMap;function o7(i){const t=new Promise((e,n)=>{const s=()=>{i.removeEventListener("success",a),i.removeEventListener("error",l)},a=()=>{e(Uc(i.result)),s()},l=()=>{n(i.error),s()};i.addEventListener("success",a),i.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&ZN.set(e,i)}).catch(()=>{}),vC.set(t,i),t}function l7(i){if(NT.has(i))return;const t=new Promise((e,n)=>{const s=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",l),i.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{n(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",a),i.addEventListener("error",l),i.addEventListener("abort",l)});NT.set(i,t)}let LT={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return NT.get(i);if(t==="objectStoreNames")return i.objectStoreNames||JN.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Uc(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function c7(i){LT=i(LT)}function u7(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=i.call(Ww(this),t,...e);return JN.set(n,t.sort?t.sort():[t]),Uc(n)}:a7().includes(i)?function(...t){return i.apply(Ww(this),t),Uc(ZN.get(this))}:function(...t){return Uc(i.apply(Ww(this),t))}}function h7(i){return typeof i=="function"?u7(i):(i instanceof IDBTransaction&&l7(i),s7(i,r7())?new Proxy(i,LT):i)}function Uc(i){if(i instanceof IDBRequest)return o7(i);if(Gw.has(i))return Gw.get(i);const t=h7(i);return t!==i&&(Gw.set(i,t),vC.set(t,i)),t}const Ww=i=>vC.get(i);function d7(i,t,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(i,t),c=Uc(l);return n&&l.addEventListener("upgradeneeded",h=>{n(Uc(l.result),h.oldVersion,h.newVersion,Uc(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const f7=["get","getKey","getAll","getAllKeys","count"],p7=["put","add","delete","clear"],Kw=new Map;function cM(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Kw.get(t))return Kw.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=p7.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||f7.includes(e)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),s&&h.done]))[0]};return Kw.set(t,a),a}c7(i=>({...i,get:(t,e,n)=>cM(t,e)||i.get(t,e,n),has:(t,e)=>!!cM(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(m7(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function m7(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const FT="@firebase/app",uM="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new yC("@firebase/app"),y7="@firebase/app-compat",v7="@firebase/analytics-compat",b7="@firebase/analytics",_7="@firebase/app-check-compat",E7="@firebase/app-check",A7="@firebase/auth",S7="@firebase/auth-compat",w7="@firebase/database",T7="@firebase/data-connect",x7="@firebase/database-compat",C7="@firebase/functions",R7="@firebase/functions-compat",I7="@firebase/installations",k7="@firebase/installations-compat",P7="@firebase/messaging",M7="@firebase/messaging-compat",O7="@firebase/performance",D7="@firebase/performance-compat",N7="@firebase/remote-config",L7="@firebase/remote-config-compat",F7="@firebase/storage",V7="@firebase/storage-compat",U7="@firebase/firestore",B7="@firebase/ai",z7="@firebase/firestore-compat",j7="firebase",H7="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="[DEFAULT]",$7={[FT]:"fire-core",[y7]:"fire-core-compat",[b7]:"fire-analytics",[v7]:"fire-analytics-compat",[E7]:"fire-app-check",[_7]:"fire-app-check-compat",[A7]:"fire-auth",[S7]:"fire-auth-compat",[w7]:"fire-rtdb",[T7]:"fire-data-connect",[x7]:"fire-rtdb-compat",[C7]:"fire-fn",[R7]:"fire-fn-compat",[I7]:"fire-iid",[k7]:"fire-iid-compat",[P7]:"fire-fcm",[M7]:"fire-fcm-compat",[O7]:"fire-perf",[D7]:"fire-perf-compat",[N7]:"fire-rc",[L7]:"fire-rc-compat",[F7]:"fire-gcs",[V7]:"fire-gcs-compat",[U7]:"fire-fst",[z7]:"fire-fst-compat",[B7]:"fire-vertex","fire-js":"fire-js",[j7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map,q7=new Map,UT=new Map;function hM(i,t){try{i.container.addComponent(t)}catch(e){vl.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Wh(i){const t=i.name;if(UT.has(t))return vl.debug(`There were multiple attempts to register component ${t}.`),!1;UT.set(t,i);for(const e of G_.values())hM(e,i);for(const e of q7.values())hM(e,i);return!0}function ZE(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Wr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bc=new jv("app","Firebase",G7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=H7;function tL(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const n=Object.assign({name:VT,automaticDataCollectionEnabled:!0},t),s=n.name;if(typeof s!="string"||!s)throw Bc.create("bad-app-name",{appName:String(s)});if(e||(e=YN()),!e)throw Bc.create("no-options");const a=G_.get(s);if(a){if(Gh(e,a.options)&&Gh(n,a.config))return a;throw Bc.create("duplicate-app",{appName:s})}const l=new J8(s);for(const h of UT.values())l.addComponent(h);const c=new W7(e,n,l);return G_.set(s,c),c}function bC(i=VT){const t=G_.get(i);if(!t&&i===VT&&YN())return tL();if(!t)throw Bc.create("no-app",{appName:i});return t}function Ga(i,t,e){var n;let s=(n=$7[i])!==null&&n!==void 0?n:i;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vl.warn(c.join(" "));return}Wh(new qc(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="firebase-heartbeat-database",Y7=1,ay="firebase-heartbeat-store";let Yw=null;function eL(){return Yw||(Yw=d7(K7,Y7,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ay)}catch(e){console.warn(e)}}}}).catch(i=>{throw Bc.create("idb-open",{originalErrorMessage:i.message})})),Yw}async function X7(i){try{const e=(await eL()).transaction(ay),n=await e.objectStore(ay).get(nL(i));return await e.done,n}catch(t){if(t instanceof eo)vl.warn(t.message);else{const e=Bc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vl.warn(e.message)}}}async function dM(i,t){try{const n=(await eL()).transaction(ay,"readwrite");await n.objectStore(ay).put(t,nL(i)),await n.done}catch(e){if(e instanceof eo)vl.warn(e.message);else{const n=Bc.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});vl.warn(n.message)}}}function nL(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=1024,Z7=30;class J7{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new eq(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fM();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Z7){const l=nq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){vl.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fM(),{heartbeatsToSend:n,unsentEntries:s}=tq(this._heartbeatsCache.heartbeats),a=q_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return vl.warn(e),""}}}function fM(){return new Date().toISOString().substring(0,10)}function tq(i,t=Q7){const e=[];let n=i.slice();for(const s of i){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),pM(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),pM(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class eq{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z8()?j8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await X7(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return dM(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return dM(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function pM(i){return q_(JSON.stringify({version:2,heartbeats:i})).length}function nq(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let n=1;n<i.length;n++)i[n].date<e&&(e=i[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(i){Wh(new qc("platform-logger",t=>new g7(t),"PRIVATE")),Wh(new qc("heartbeat",t=>new J7(t),"PRIVATE")),Ga(FT,uM,i),Ga(FT,uM,"esm2017"),Ga("fire-js","")}iq("");var sq="firebase",rq="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ga(sq,rq,"app");function _C(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e}function iL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aq=iL,sL=new jv("auth","Firebase",iL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new yC("@firebase/auth");function oq(i,...t){W_.logLevel<=_e.WARN&&W_.warn(`Auth (${sd}): ${i}`,...t)}function Q0(i,...t){W_.logLevel<=_e.ERROR&&W_.error(`Auth (${sd}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(i,...t){throw EC(i,...t)}function Wa(i,...t){return EC(i,...t)}function rL(i,t,e){const n=Object.assign(Object.assign({},aq()),{[t]:e});return new jv("auth","Firebase",n).create(t,{appName:i.name})}function Hh(i){return rL(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EC(i,...t){if(typeof i!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return sL.create(i,...t)}function Jt(i,t,...e){if(!i)throw EC(t,...e)}function ol(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Q0(t),new Error(t)}function _l(i,t){i||ol(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function lq(){return gM()==="http:"||gM()==="https:"}function gM(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lq()||F8()||"connection"in navigator)?navigator.onLine:!0}function uq(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,e){this.shortDelay=t,this.longDelay=e,_l(e>t,"Short delay should be less than long delay!"),this.isMobile=D8()||V8()}get(){return cq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i,t){_l(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ol("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ol("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ol("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fq=new $v(3e4,6e4);function SC(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function tg(i,t,e,n,s={}){return oL(i,s,async()=>{let a={},l={};n&&(t==="GET"?l=n:a={body:JSON.stringify(n)});const c=Hv(Object.assign({key:i.config.apiKey},l)).slice(1),h=await i._getAdditionalHeaders();h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode);const d=Object.assign({method:t,headers:h},a);return L8()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&Jp(i.emulatorConfig.host)&&(d.credentials="include"),aL.fetch()(await lL(i,i.config.apiHost,e,c),d)})}async function oL(i,t,e){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},hq),t);try{const s=new gq(i),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw k0(i,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw k0(i,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw k0(i,"email-already-in-use",l);if(h==="USER_DISABLED")throw k0(i,"user-disabled",l);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rL(i,p,d);bl(i,p)}}catch(s){if(s instanceof eo)throw s;bl(i,"network-request-failed",{message:String(s)})}}async function pq(i,t,e,n,s={}){const a=await tg(i,t,e,n,s);return"mfaPendingCredential"in a&&bl(i,"multi-factor-auth-required",{_serverResponse:a}),a}async function lL(i,t,e,n){const s=`${t}${e}?${n}`,a=i,l=a.config.emulator?AC(i.config,s):`${i.config.apiScheme}://${s}`;return dq.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class gq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Wa(this.auth,"network-request-failed")),fq.get())})}}function k0(i,t,e){const n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=Wa(i,t,n);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mq(i,t){return tg(i,"POST","/v1/accounts:delete",t)}async function K_(i,t){return tg(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yq(i,t=!1){const e=Zr(i),n=await e.getIdToken(t),s=wC(n);Jt(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:Wm(Xw(s.auth_time)),issuedAtTime:Wm(Xw(s.iat)),expirationTime:Wm(Xw(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Xw(i){return Number(i)*1e3}function wC(i){const[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return Q0("JWT malformed, contained fewer than 3 sections"),null;try{const s=GN(e);return s?JSON.parse(s):(Q0("Failed to decode base64 JWT payload"),null)}catch(s){return Q0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mM(i){const t=wC(i);return Jt(t,"internal-error"),Jt(typeof t.exp<"u","internal-error"),Jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(i,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof eo&&vq(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function vq({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wm(this.lastLoginAt),this.creationTime=Wm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(i){var t;const e=i.auth,n=await i.getIdToken(),s=await oy(i,K_(e,{idToken:n}));Jt(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?cL(a.providerUserInfo):[],c=Eq(i.providerData,l),h=i.isAnonymous,d=!(i.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new zT(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(i,v)}async function _q(i){const t=Zr(i);await Y_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Eq(i,t){return[...i.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function cL(i){return i.map(t=>{var{providerId:e}=t,n=_C(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aq(i,t){const e=await oL(i,{},async()=>{const n=Hv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=i.config,l=await lL(i,s,"/v1/token",`key=${a}`),c=await i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",aL.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Sq(i,t){return tg(i,"POST","/v2/accounts:revokeToken",SC(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Jt(t.idToken,"internal-error"),Jt(typeof t.idToken<"u","internal-error"),Jt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Jt(t.length!==0,"internal-error");const e=mM(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:a}=await Aq(t,e);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:a}=e,l=new wf;return n&&(Jt(typeof n=="string","internal-error",{appName:t}),l.refreshToken=n),s&&(Jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Jt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wf,this.toJSON())}_performRefresh(){return ol("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(i,t){Jt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Kr{constructor(t){var{uid:e,auth:n,stsTokenManager:s}=t,a=_C(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await oy(this,this.stsTokenManager.getToken(this.auth,t));return Jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return yq(this,t)}reload(){return _q(this)}_assign(t){this!==t&&(Jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Kr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Y_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(Hh(this.auth));const t=await this.getIdToken();return await oy(this,mq(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,s,a,l,c,h,d,p;const v=(n=e.displayName)!==null&&n!==void 0?n:void 0,b=(s=e.email)!==null&&s!==void 0?s:void 0,E=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=e.photoURL)!==null&&l!==void 0?l:void 0,S=(c=e.tenantId)!==null&&c!==void 0?c:void 0,C=(h=e._redirectEventId)!==null&&h!==void 0?h:void 0,x=(d=e.createdAt)!==null&&d!==void 0?d:void 0,F=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:M,emailVerified:P,isAnonymous:V,providerData:W,stsTokenManager:D}=e;Jt(M&&D,t,"internal-error");const I=wf.fromJSON(this.name,D);Jt(typeof M=="string",t,"internal-error"),nc(v,t.name),nc(b,t.name),Jt(typeof P=="boolean",t,"internal-error"),Jt(typeof V=="boolean",t,"internal-error"),nc(E,t.name),nc(A,t.name),nc(S,t.name),nc(C,t.name),nc(x,t.name),nc(F,t.name);const N=new Kr({uid:M,auth:t,email:b,emailVerified:P,displayName:v,isAnonymous:V,photoURL:A,phoneNumber:E,tenantId:S,stsTokenManager:I,createdAt:x,lastLoginAt:F});return W&&Array.isArray(W)&&(N.providerData=W.map(T=>Object.assign({},T))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(t,e,n=!1){const s=new wf;s.updateFromServerResponse(e);const a=new Kr({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await Y_(a),a}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];Jt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?cL(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new wf;c.updateFromIdToken(n);const h=new Kr({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zT(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Map;function ll(i){_l(i instanceof Function,"Expected a class definition");let t=yM.get(i);return t?(_l(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,yM.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}uL.type="NONE";const vM=uL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i,t,e){return`firebase:${i}:${t}:${e}`}class Tf{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=Z0(this.userKey,s.apiKey,a),this.fullPersistenceKey=Z0("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await K_(this.auth,{idToken:t}).catch(()=>{});return e?Kr._fromGetAccountInfoResponse(this.auth,e,t):null}return Kr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Tf(ll(vM),t,n);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||ll(vM);const l=Z0(n,t.config.apiKey,t.name);let c=null;for(const d of e)try{const p=await d._get(l);if(p){let v;if(typeof p=="string"){const b=await K_(t,{idToken:p}).catch(()=>{});if(!b)break;v=await Kr._fromGetAccountInfoResponse(t,b,p)}else v=Kr._fromJSON(t,p);d!==a&&(c=v),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Tf(a,t,n):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new Tf(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pL(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mL(t))return"Blackberry";if(yL(t))return"Webos";if(dL(t))return"Safari";if((t.includes("chrome/")||fL(t))&&!t.includes("edge/"))return"Chrome";if(gL(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function hL(i=as()){return/firefox\//i.test(i)}function dL(i=as()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fL(i=as()){return/crios\//i.test(i)}function pL(i=as()){return/iemobile/i.test(i)}function gL(i=as()){return/android/i.test(i)}function mL(i=as()){return/blackberry/i.test(i)}function yL(i=as()){return/webos/i.test(i)}function TC(i=as()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function wq(i=as()){var t;return TC(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Tq(){return U8()&&document.documentMode===10}function vL(i=as()){return TC(i)||gL(i)||yL(i)||mL(i)||/windows phone/i.test(i)||pL(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(i,t=[]){let e;switch(i){case"Browser":e=bM(as());break;case"Worker":e=`${bM(as())}-${i}`;break;default:e=i}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${sd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(i,t={}){return tg(i,"GET","/v2/passwordPolicy",SC(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=6;class Iq{constructor(t){var e,n,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:Rq,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(e=h.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _M(this),this.idTokenSubscription=new _M(this),this.beforeStateQueue=new xq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ll(e)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await Tf.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await K_(this,{idToken:t}),n=await Kr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Y_(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uq()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wr(this.app))return Promise.reject(Hh(this));const e=t?Zr(t):null;return e&&Jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(Hh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wr(this.app)?Promise.reject(Hh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ll(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Cq(this),e=new Iq(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jv("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await Sq(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ll(t)||this._popupRedirectResolver;Jt(e,this,"argument-error"),this.redirectPersistenceManager=await Tf.create(this,[ll(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,n,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&oq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xC(i){return Zr(i)}class _M{constructor(t){this.auth=t,this.observer=null,this.addObserver=W8(e=>this.observer=e)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pq(i){CC=i}function Mq(i){return CC.loadJS(i)}function Oq(){return CC.gapiScript}function Dq(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(i,t){const e=ZE(i,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(Gh(a,t??{}))return s;bl(s,"already-initialized")}return e.initialize({options:t})}function Lq(i,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(ll);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function Fq(i,t,e){const n=xC(i);Jt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,a=_L(t),{host:l,port:c}=Vq(t),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Jt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Jt(Gh(d,n.config.emulator)&&Gh(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Jp(l)?(gC(`${a}//${l}${h}`),mC("Auth",!0)):Uq()}function _L(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function Vq(i){const t=_L(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:EM(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:EM(l)}}}function EM(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function Uq(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ol("not implemented")}_getIdTokenResponse(t){return ol("not implemented")}_linkToIdToken(t,e){return ol("not implemented")}_getReauthenticationResolver(t){return ol("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(i,t){return pq(i,"POST","/v1/accounts:signInWithIdp",SC(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="http://localhost";class Kh extends EL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Kh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):bl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=e,a=_C(e,["providerId","signInMethod"]);if(!n||!s)return null;const l=new Kh(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return xf(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,xf(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xf(t,e)}buildRequest(){const t={requestUri:Bq,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Hv(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends AL{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends qv{constructor(){super("facebook.com")}static credential(t){return Kh._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rc.credentialFromTaggedObject(t)}static credentialFromError(t){return rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rc.credential(t.oauthAccessToken)}catch{return null}}}rc.FACEBOOK_SIGN_IN_METHOD="facebook.com";rc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends qv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Kh._fromParams({providerId:ac.PROVIDER_ID,signInMethod:ac.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ac.credentialFromTaggedObject(t)}static credentialFromError(t){return ac.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return ac.credential(e,n)}catch{return null}}}ac.GOOGLE_SIGN_IN_METHOD="google.com";ac.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends qv{constructor(){super("github.com")}static credential(t){return Kh._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return oc.credentialFromTaggedObject(t)}static credentialFromError(t){return oc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return oc.credential(t.oauthAccessToken)}catch{return null}}}oc.GITHUB_SIGN_IN_METHOD="github.com";oc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends qv{constructor(){super("twitter.com")}static credential(t,e){return Kh._fromParams({providerId:lc.PROVIDER_ID,signInMethod:lc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return lc.credentialFromTaggedObject(t)}static credentialFromError(t){return lc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return lc.credential(e,n)}catch{return null}}}lc.TWITTER_SIGN_IN_METHOD="twitter.com";lc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const a=await Kr._fromIdTokenResponse(t,n,s),l=AM(n);return new Vp({user:a,providerId:l,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=AM(n);return new Vp({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function AM(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends eo{constructor(t,e,n,s){var a;super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,X_.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new X_(t,e,n,s)}}function SL(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?X_._fromErrorAndOperation(i,a,t,n):a})}async function zq(i,t,e=!1){const n=await oy(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Vp._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jq(i,t,e=!1){const{auth:n}=i;if(Wr(n.app))return Promise.reject(Hh(n));const s="reauthenticate";try{const a=await oy(i,SL(n,s,t,i),e);Jt(a.idToken,n,"internal-error");const l=wC(a.idToken);Jt(l,n,"internal-error");const{sub:c}=l;return Jt(i.uid===c,n,"user-mismatch"),Vp._forOperation(i,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&bl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hq(i,t,e=!1){if(Wr(i.app))return Promise.reject(Hh(i));const n="signIn",s=await SL(i,n,t),a=await Vp._fromIdTokenResponse(i,n,s);return e||await i._updateCurrentUser(a.user),a}function $q(i,t,e,n){return Zr(i).onIdTokenChanged(t,e,n)}function qq(i,t,e){return Zr(i).beforeAuthStateChanged(t,e)}const Q_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Q_,"1"),this.storage.removeItem(Q_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq=1e3,Wq=10;class TL extends wL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!e&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);Tq()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Wq):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},Gq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}TL.type="LOCAL";const Kq=TL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL extends wL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}xL.type="SESSION";const CL=xL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new JE(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(l).map(async d=>d(e.origin,a)),h=await Yq(c);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}JE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=RC("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(){return window}function Qq(i){Ka().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return typeof Ka().WorkerGlobalScope<"u"&&typeof Ka().importScripts=="function"}async function Zq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jq(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function tG(){return RL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="firebaseLocalStorageDb",eG=1,Z_="firebaseLocalStorage",kL="fbase_key";class Gv{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function tA(i,t){return i.transaction([Z_],t?"readwrite":"readonly").objectStore(Z_)}function nG(){const i=indexedDB.deleteDatabase(IL);return new Gv(i).toPromise()}function jT(){const i=indexedDB.open(IL,eG);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Z_,{keyPath:kL})}catch(s){e(s)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Z_)?t(n):(n.close(),await nG(),t(await jT()))})})}async function SM(i,t,e){const n=tA(i,!0).put({[kL]:t,value:e});return new Gv(n).toPromise()}async function iG(i,t){const e=tA(i,!1).get(t),n=await new Gv(e).toPromise();return n===void 0?null:n.value}function wM(i,t){const e=tA(i,!0).delete(t);return new Gv(e).toPromise()}const sG=800,rG=3;class PL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jT(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>rG)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=JE._getInstance(tG()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Zq(),!this.activeServiceWorker)return;this.sender=new Xq(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Jq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jT();return await SM(t,Q_,"1"),await wM(t,Q_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SM(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>iG(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>wM(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=tA(s,!1).getAll();return new Gv(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PL.type="LOCAL";const aG=PL;new $v(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(i,t){return t?ll(t):(Jt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends EL{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xf(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function lG(i){return Hq(i.auth,new IC(i),i.bypassAuthState)}function cG(i){const{auth:t,user:e}=i;return Jt(e,t,"internal-error"),jq(e,new IC(i),i.bypassAuthState)}async function uG(i){const{auth:t,user:e}=i;return Jt(e,t,"internal-error"),zq(e,new IC(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(t,e,n,s,a=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lG;case"linkViaPopup":case"linkViaRedirect":return uG;case"reauthViaPopup":case"reauthViaRedirect":return cG;default:bl(this.auth,"internal-error")}}resolve(t){_l(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_l(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=new $v(2e3,1e4);class _f extends ML{constructor(t,e,n,s,a){super(t,e,s,a),this.provider=n,this.authWindow=null,this.pollId=null,_f.currentPopupAction&&_f.currentPopupAction.cancel(),_f.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Jt(t,this.auth,"internal-error"),t}async onExecution(){_l(this.filter.length===1,"Popup operations only handle one event");const t=RC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_f.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hG.get())};t()}}_f.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG="pendingRedirect",J0=new Map;class fG extends ML{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=J0.get(this.auth._key());if(!t){try{const n=await pG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}J0.set(this.auth._key(),t)}return this.bypassAuthState||J0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pG(i,t){const e=yG(t),n=mG(i);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}function gG(i,t){J0.set(i._key(),t)}function mG(i){return ll(i._redirectPersistence)}function yG(i){return Z0(dG,i.config.apiKey,i.name)}async function vG(i,t,e=!1){if(Wr(i.app))return Promise.reject(Hh(i));const n=xC(i),s=oG(n,t),l=await new fG(n,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=10*60*1e3;class _G{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EG(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!OL(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Wa(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bG&&this.cachedEventUids.clear(),this.cachedEventUids.has(TM(t))}saveEventToCache(t){this.cachedEventUids.add(TM(t)),this.lastProcessedEventTime=Date.now()}}function TM(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function OL({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EG(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OL(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AG(i,t={}){return tg(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wG=/^https?/;async function TG(i){if(i.config.emulator)return;const{authorizedDomains:t}=await AG(i);for(const e of t)try{if(xG(e))return}catch{}bl(i,"unauthorized-domain")}function xG(i){const t=BT(),{protocol:e,hostname:n}=new URL(t);if(i.startsWith("chrome-extension://")){const l=new URL(i);return l.hostname===""&&n===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===n}if(!wG.test(e))return!1;if(SG.test(i))return n===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=new $v(3e4,6e4);function xM(){const i=Ka().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function RG(i){return new Promise((t,e)=>{var n,s,a;function l(){xM(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xM(),e(Wa(i,"network-request-failed"))},timeout:CG.get()})}if(!((s=(n=Ka().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Ka().gapi)===null||a===void 0)&&a.load)l();else{const c=Dq("iframefcb");return Ka()[c]=()=>{gapi.load?l():e(Wa(i,"network-request-failed"))},Mq(`${Oq()}?onload=${c}`).catch(h=>e(h))}}).catch(t=>{throw t_=null,t})}let t_=null;function IG(i){return t_=t_||RG(i),t_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=new $v(5e3,15e3),PG="__/auth/iframe",MG="emulator/auth/iframe",OG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NG(i){const t=i.config;Jt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?AC(t,MG):`https://${i.config.authDomain}/${PG}`,n={apiKey:t.apiKey,appName:i.name,v:sd},s=DG.get(i.config.apiHost);s&&(n.eid=s);const a=i._getFrameworks();return a.length&&(n.fw=a.join(",")),`${e}?${Hv(n).slice(1)}`}async function LG(i){const t=await IG(i),e=Ka().gapi;return Jt(e,i,"internal-error"),t.open({where:document.body,url:NG(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OG,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=Wa(i,"network-request-failed"),c=Ka().setTimeout(()=>{a(l)},kG.get());function h(){Ka().clearTimeout(c),s(n)}n.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VG=500,UG=600,BG="_blank",zG="http://localhost";class CM{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jG(i,t,e,n=VG,s=UG){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},FG),{width:n.toString(),height:s.toString(),top:a,left:l}),d=as().toLowerCase();e&&(c=fL(d)?BG:e),hL(d)&&(t=t||zG,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[E,A])=>`${b}${E}=${A},`,"");if(wq(d)&&c!=="_self")return HG(t||"",c),new CM(null);const v=window.open(t||"",c,p);Jt(v,i,"popup-blocked");try{v.focus()}catch{}return new CM(v)}function HG(i,t){const e=document.createElement("a");e.href=i,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G="__/auth/handler",qG="emulator/auth/handler",GG=encodeURIComponent("fac");async function RM(i,t,e,n,s,a){Jt(i.config.authDomain,i,"auth-domain-config-required"),Jt(i.config.apiKey,i,"invalid-api-key");const l={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:n,v:sd,eventId:s};if(t instanceof AL){t.setDefaultLanguage(i.languageCode),l.providerId=t.providerId||"",G8(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(t instanceof qv){const p=t.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}i.tenantId&&(l.tid=i.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await i._getAppCheckToken(),d=h?`#${GG}=${encodeURIComponent(h)}`:"";return`${WG(i)}?${Hv(c).slice(1)}${d}`}function WG({config:i}){return i.emulator?AC(i,qG):`https://${i.authDomain}/${$G}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="webStorageSupport";class KG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CL,this._completeRedirectFn=vG,this._overrideRedirectResult=gG}async _openPopup(t,e,n,s){var a;_l((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await RM(t,e,n,BT(),s);return jG(t,l,RC())}async _openRedirect(t,e,n,s){await this._originValidation(t);const a=await RM(t,e,n,BT(),s);return Qq(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(_l(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await LG(t),n=new _G(t);return e.register("authEvent",s=>(Jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Qw,{type:Qw},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Qw];l!==void 0&&e(!!l),bl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=TG(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return vL()||dL()||TC()}}const YG=KG;var IM="@firebase/auth",kM="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZG(i){Wh(new qc("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Jt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bL(i)},d=new kq(n,s,a,h);return Lq(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Wh(new qc("auth-internal",t=>{const e=xC(t.getProvider("auth").getImmediate());return(n=>new XG(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ga(IM,kM,QG(i)),Ga(IM,kM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=5*60,tW=XN("authIdTokenMaxAge")||JG;let PM=null;const eW=i=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>tW)return;const s=e==null?void 0:e.token;PM!==s&&(PM=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nW(i=bC()){const t=ZE(i,"auth");if(t.isInitialized())return t.getImmediate();const e=Nq(i,{popupRedirectResolver:YG,persistence:[aG,Kq,CL]}),n=XN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=eW(a.toString());qq(e,l,()=>l(e.currentUser)),$q(e,c=>l(c))}}const s=WN("auth");return s&&Fq(e,`http://${s}`),e}function iW(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}Pq({loadJS(i){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=s=>{const a=Wa("internal-error");a.customData=s,e(a)},n.type="text/javascript",n.charset="UTF-8",iW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZG("Browser");var MM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zc,DL;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,I){function N(){}N.prototype=I.prototype,D.D=I.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(T,U,q){for(var j=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)j[ct-2]=arguments[ct];return I.prototype[U].apply(T,j)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,I,N){N||(N=0);var T=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)T[U]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(U=0;16>U;++U)T[U]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=D.g[0],N=D.g[1],U=D.g[2];var q=D.g[3],j=I+(q^N&(U^q))+T[0]+3614090360&4294967295;I=N+(j<<7&4294967295|j>>>25),j=q+(U^I&(N^U))+T[1]+3905402710&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(N^q&(I^N))+T[2]+606105819&4294967295,U=q+(j<<17&4294967295|j>>>15),j=N+(I^U&(q^I))+T[3]+3250441966&4294967295,N=U+(j<<22&4294967295|j>>>10),j=I+(q^N&(U^q))+T[4]+4118548399&4294967295,I=N+(j<<7&4294967295|j>>>25),j=q+(U^I&(N^U))+T[5]+1200080426&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(N^q&(I^N))+T[6]+2821735955&4294967295,U=q+(j<<17&4294967295|j>>>15),j=N+(I^U&(q^I))+T[7]+4249261313&4294967295,N=U+(j<<22&4294967295|j>>>10),j=I+(q^N&(U^q))+T[8]+1770035416&4294967295,I=N+(j<<7&4294967295|j>>>25),j=q+(U^I&(N^U))+T[9]+2336552879&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(N^q&(I^N))+T[10]+4294925233&4294967295,U=q+(j<<17&4294967295|j>>>15),j=N+(I^U&(q^I))+T[11]+2304563134&4294967295,N=U+(j<<22&4294967295|j>>>10),j=I+(q^N&(U^q))+T[12]+1804603682&4294967295,I=N+(j<<7&4294967295|j>>>25),j=q+(U^I&(N^U))+T[13]+4254626195&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(N^q&(I^N))+T[14]+2792965006&4294967295,U=q+(j<<17&4294967295|j>>>15),j=N+(I^U&(q^I))+T[15]+1236535329&4294967295,N=U+(j<<22&4294967295|j>>>10),j=I+(U^q&(N^U))+T[1]+4129170786&4294967295,I=N+(j<<5&4294967295|j>>>27),j=q+(N^U&(I^N))+T[6]+3225465664&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^N&(q^I))+T[11]+643717713&4294967295,U=q+(j<<14&4294967295|j>>>18),j=N+(q^I&(U^q))+T[0]+3921069994&4294967295,N=U+(j<<20&4294967295|j>>>12),j=I+(U^q&(N^U))+T[5]+3593408605&4294967295,I=N+(j<<5&4294967295|j>>>27),j=q+(N^U&(I^N))+T[10]+38016083&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^N&(q^I))+T[15]+3634488961&4294967295,U=q+(j<<14&4294967295|j>>>18),j=N+(q^I&(U^q))+T[4]+3889429448&4294967295,N=U+(j<<20&4294967295|j>>>12),j=I+(U^q&(N^U))+T[9]+568446438&4294967295,I=N+(j<<5&4294967295|j>>>27),j=q+(N^U&(I^N))+T[14]+3275163606&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^N&(q^I))+T[3]+4107603335&4294967295,U=q+(j<<14&4294967295|j>>>18),j=N+(q^I&(U^q))+T[8]+1163531501&4294967295,N=U+(j<<20&4294967295|j>>>12),j=I+(U^q&(N^U))+T[13]+2850285829&4294967295,I=N+(j<<5&4294967295|j>>>27),j=q+(N^U&(I^N))+T[2]+4243563512&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^N&(q^I))+T[7]+1735328473&4294967295,U=q+(j<<14&4294967295|j>>>18),j=N+(q^I&(U^q))+T[12]+2368359562&4294967295,N=U+(j<<20&4294967295|j>>>12),j=I+(N^U^q)+T[5]+4294588738&4294967295,I=N+(j<<4&4294967295|j>>>28),j=q+(I^N^U)+T[8]+2272392833&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^N)+T[11]+1839030562&4294967295,U=q+(j<<16&4294967295|j>>>16),j=N+(U^q^I)+T[14]+4259657740&4294967295,N=U+(j<<23&4294967295|j>>>9),j=I+(N^U^q)+T[1]+2763975236&4294967295,I=N+(j<<4&4294967295|j>>>28),j=q+(I^N^U)+T[4]+1272893353&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^N)+T[7]+4139469664&4294967295,U=q+(j<<16&4294967295|j>>>16),j=N+(U^q^I)+T[10]+3200236656&4294967295,N=U+(j<<23&4294967295|j>>>9),j=I+(N^U^q)+T[13]+681279174&4294967295,I=N+(j<<4&4294967295|j>>>28),j=q+(I^N^U)+T[0]+3936430074&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^N)+T[3]+3572445317&4294967295,U=q+(j<<16&4294967295|j>>>16),j=N+(U^q^I)+T[6]+76029189&4294967295,N=U+(j<<23&4294967295|j>>>9),j=I+(N^U^q)+T[9]+3654602809&4294967295,I=N+(j<<4&4294967295|j>>>28),j=q+(I^N^U)+T[12]+3873151461&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^N)+T[15]+530742520&4294967295,U=q+(j<<16&4294967295|j>>>16),j=N+(U^q^I)+T[2]+3299628645&4294967295,N=U+(j<<23&4294967295|j>>>9),j=I+(U^(N|~q))+T[0]+4096336452&4294967295,I=N+(j<<6&4294967295|j>>>26),j=q+(N^(I|~U))+T[7]+1126891415&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~N))+T[14]+2878612391&4294967295,U=q+(j<<15&4294967295|j>>>17),j=N+(q^(U|~I))+T[5]+4237533241&4294967295,N=U+(j<<21&4294967295|j>>>11),j=I+(U^(N|~q))+T[12]+1700485571&4294967295,I=N+(j<<6&4294967295|j>>>26),j=q+(N^(I|~U))+T[3]+2399980690&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~N))+T[10]+4293915773&4294967295,U=q+(j<<15&4294967295|j>>>17),j=N+(q^(U|~I))+T[1]+2240044497&4294967295,N=U+(j<<21&4294967295|j>>>11),j=I+(U^(N|~q))+T[8]+1873313359&4294967295,I=N+(j<<6&4294967295|j>>>26),j=q+(N^(I|~U))+T[15]+4264355552&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~N))+T[6]+2734768916&4294967295,U=q+(j<<15&4294967295|j>>>17),j=N+(q^(U|~I))+T[13]+1309151649&4294967295,N=U+(j<<21&4294967295|j>>>11),j=I+(U^(N|~q))+T[4]+4149444226&4294967295,I=N+(j<<6&4294967295|j>>>26),j=q+(N^(I|~U))+T[11]+3174756917&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~N))+T[2]+718787259&4294967295,U=q+(j<<15&4294967295|j>>>17),j=N+(q^(U|~I))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+q&4294967295}n.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var N=I-this.blockSize,T=this.B,U=this.h,q=0;q<I;){if(U==0)for(;q<=N;)s(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<I;)if(T[U++]=D.charCodeAt(q++),U==this.blockSize){s(this,T),U=0;break}}else for(;q<I;)if(T[U++]=D[q++],U==this.blockSize){s(this,T),U=0;break}}this.h=U,this.o+=I},n.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var N=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=N&255,N/=256;for(this.u(D),D=Array(16),I=N=0;4>I;++I)for(var T=0;32>T;T+=8)D[N++]=this.g[I]>>>T&255;return D};function a(D,I){var N=c;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=I(D)}function l(D,I){this.h=I;for(var N=[],T=!0,U=D.length-1;0<=U;U--){var q=D[U]|0;T&&q==I||(N[U]=q,T=!1)}this.g=N}var c={};function h(D){return-128<=D&&128>D?a(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return C(d(-D));for(var I=[],N=1,T=0;D>=N;T++)I[T]=D/N|0,N*=4294967296;return new l(I,0)}function p(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return C(p(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(I,8)),T=v,U=0;U<D.length;U+=8){var q=Math.min(8,D.length-U),j=parseInt(D.substring(U,U+q),I);8>q?(q=d(Math.pow(I,q)),T=T.j(q).add(d(j))):(T=T.j(N),T=T.add(d(j)))}return T}var v=h(0),b=h(1),E=h(16777216);i=l.prototype,i.m=function(){if(S(this))return-C(this).m();for(var D=0,I=1,N=0;N<this.g.length;N++){var T=this.i(N);D+=(0<=T?T:4294967296+T)*I,I*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(S(this))return"-"+C(this).toString(D);for(var I=d(Math.pow(D,6)),N=this,T="";;){var U=P(N,I).g;N=x(N,U.j(I));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=U,A(N))return q+T;for(;6>q.length;)q="0"+q;T=q+T}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function S(D){return D.h==-1}i.l=function(D){return D=x(this,D),S(D)?-1:A(D)?0:1};function C(D){for(var I=D.g.length,N=[],T=0;T<I;T++)N[T]=~D.g[T];return new l(N,~D.h).add(b)}i.abs=function(){return S(this)?C(this):this},i.add=function(D){for(var I=Math.max(this.g.length,D.g.length),N=[],T=0,U=0;U<=I;U++){var q=T+(this.i(U)&65535)+(D.i(U)&65535),j=(q>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);T=j>>>16,q&=65535,j&=65535,N[U]=j<<16|q}return new l(N,N[N.length-1]&-2147483648?-1:0)};function x(D,I){return D.add(C(I))}i.j=function(D){if(A(this)||A(D))return v;if(S(this))return S(D)?C(this).j(C(D)):C(C(this).j(D));if(S(D))return C(this.j(C(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,N=[],T=0;T<2*I;T++)N[T]=0;for(T=0;T<this.g.length;T++)for(var U=0;U<D.g.length;U++){var q=this.i(T)>>>16,j=this.i(T)&65535,ct=D.i(U)>>>16,nt=D.i(U)&65535;N[2*T+2*U]+=j*nt,F(N,2*T+2*U),N[2*T+2*U+1]+=q*nt,F(N,2*T+2*U+1),N[2*T+2*U+1]+=j*ct,F(N,2*T+2*U+1),N[2*T+2*U+2]+=q*ct,F(N,2*T+2*U+2)}for(T=0;T<I;T++)N[T]=N[2*T+1]<<16|N[2*T];for(T=I;T<2*I;T++)N[T]=0;return new l(N,0)};function F(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function M(D,I){this.g=D,this.h=I}function P(D,I){if(A(I))throw Error("division by zero");if(A(D))return new M(v,v);if(S(D))return I=P(C(D),I),new M(C(I.g),C(I.h));if(S(I))return I=P(D,C(I)),new M(C(I.g),I.h);if(30<D.g.length){if(S(D)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var N=b,T=I;0>=T.l(D);)N=V(N),T=V(T);var U=W(N,1),q=W(T,1);for(T=W(T,2),N=W(N,2);!A(T);){var j=q.add(T);0>=j.l(D)&&(U=U.add(N),q=j),T=W(T,1),N=W(N,1)}return I=x(D,U.j(I)),new M(U,I)}for(U=v;0<=D.l(I);){for(N=Math.max(1,Math.floor(D.m()/I.m())),T=Math.ceil(Math.log(N)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),q=d(N),j=q.j(I);S(j)||0<j.l(D);)N-=T,q=d(N),j=q.j(I);A(q)&&(q=b),U=U.add(q),D=x(D,j)}return new M(U,D)}i.A=function(D){return P(this,D).h},i.and=function(D){for(var I=Math.max(this.g.length,D.g.length),N=[],T=0;T<I;T++)N[T]=this.i(T)&D.i(T);return new l(N,this.h&D.h)},i.or=function(D){for(var I=Math.max(this.g.length,D.g.length),N=[],T=0;T<I;T++)N[T]=this.i(T)|D.i(T);return new l(N,this.h|D.h)},i.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),N=[],T=0;T<I;T++)N[T]=this.i(T)^D.i(T);return new l(N,this.h^D.h)};function V(D){for(var I=D.g.length+1,N=[],T=0;T<I;T++)N[T]=D.i(T)<<1|D.i(T-1)>>>31;return new l(N,D.h)}function W(D,I){var N=I>>5;I%=32;for(var T=D.g.length-N,U=[],q=0;q<T;q++)U[q]=0<I?D.i(q+N)>>>I|D.i(q+N+1)<<32-I:D.i(q+N);return new l(U,D.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,DL=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,zc=l}).apply(typeof MM<"u"?MM:typeof self<"u"?self:typeof window<"u"?window:{});var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NL,wm,LL,e_,HT,FL,VL,UL;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,R){return m==Array.prototype||m==Object.prototype||(m[w]=R.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof P0=="object"&&P0];for(var w=0;w<m.length;++w){var R=m[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=e(this);function s(m,w){if(w)t:{var R=n;m=m.split(".");for(var G=0;G<m.length-1;G++){var tt=m[G];if(!(tt in R))break t;R=R[tt]}m=m[m.length-1],G=R[m],w=w(G),w!=G&&w!=null&&t(R,m,{configurable:!0,writable:!0,value:w})}}function a(m,w){m instanceof String&&(m+="");var R=0,G=!1,tt={next:function(){if(!G&&R<m.length){var ht=R++;return{value:w(ht,m[ht]),done:!1}}return G=!0,{done:!0,value:void 0}}};return tt[Symbol.iterator]=function(){return tt},tt}s("Array.prototype.values",function(m){return m||function(){return a(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,R){return m.call.apply(m.bind,arguments)}function v(m,w,R){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(tt,G),m.apply(w,tt)}}return function(){return m.apply(w,arguments)}}function b(m,w,R){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,b.apply(null,arguments)}function E(m,w){var R=Array.prototype.slice.call(arguments,1);return function(){var G=R.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function A(m,w){function R(){}R.prototype=w.prototype,m.aa=w.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(G,tt,ht){for(var At=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)At[Se-2]=arguments[Se];return w.prototype[tt].apply(G,At)}}function S(m){const w=m.length;if(0<w){const R=Array(w);for(let G=0;G<w;G++)R[G]=m[G];return R}return[]}function C(m,w){for(let R=1;R<arguments.length;R++){const G=arguments[R];if(h(G)){const tt=m.length||0,ht=G.length||0;m.length=tt+ht;for(let At=0;At<ht;At++)m[tt+At]=G[At]}else m.push(G)}}class x{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function F(m){return/^[\s\xa0]*$/.test(m)}function M(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var V=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(m,w,R){for(const G in m)w.call(R,m[G],G,m)}function D(m,w){for(const R in m)w.call(void 0,m[R],R,m)}function I(m){const w={};for(const R in m)w[R]=m[R];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(m,w){let R,G;for(let tt=1;tt<arguments.length;tt++){G=arguments[tt];for(R in G)m[R]=G[R];for(let ht=0;ht<N.length;ht++)R=N[ht],Object.prototype.hasOwnProperty.call(G,R)&&(m[R]=G[R])}}function U(m){var w=1;m=m.split(":");const R=[];for(;0<w&&m.length;)R.push(m.shift()),w--;return m.length&&R.push(m.join(":")),R}function q(m){c.setTimeout(()=>{throw m},0)}function j(){var m=dt;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ct{constructor(){this.h=this.g=null}add(w,R){const G=nt.get();G.set(w,R),this.h?this.h.next=G:this.g=G,this.h=G}}var nt=new x(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,at=!1,dt=new ct,K=()=>{const m=c.Promise.resolve(void 0);Q=()=>{m.then(rt)}};var rt=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(R){q(R)}var w=nt;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}at=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};c.addEventListener("test",R,w),c.removeEventListener("test",R,w)}catch{}return m}();function wt(m,w){if(st.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(V){t:{try{P(w.nodeName);var tt=!0;break t}catch{}tt=!1}tt||(w=null)}}else R=="mouseover"?w=m.fromElement:R=="mouseout"&&(w=m.toElement);this.relatedTarget=w,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:_t[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&wt.aa.h.call(this)}}A(wt,st);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function jt(m,w,R,G,tt){this.listener=m,this.proxy=null,this.src=w,this.type=R,this.capture=!!G,this.ha=tt,this.key=++Bt,this.da=this.fa=!1}function Et(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ht(m){this.src=m,this.g={},this.h=0}Ht.prototype.add=function(m,w,R,G,tt){var ht=m.toString();m=this.g[ht],m||(m=this.g[ht]=[],this.h++);var At=Mt(m,w,G,tt);return-1<At?(w=m[At],R||(w.fa=!1)):(w=new jt(w,this.src,ht,!!G,tt),w.fa=R,m.push(w)),w};function Gt(m,w){var R=w.type;if(R in m.g){var G=m.g[R],tt=Array.prototype.indexOf.call(G,w,void 0),ht;(ht=0<=tt)&&Array.prototype.splice.call(G,tt,1),ht&&(Et(w),m.g[R].length==0&&(delete m.g[R],m.h--))}}function Mt(m,w,R,G){for(var tt=0;tt<m.length;++tt){var ht=m[tt];if(!ht.da&&ht.listener==w&&ht.capture==!!R&&ht.ha==G)return tt}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Wt={};function ue(m,w,R,G,tt){if(Array.isArray(w)){for(var ht=0;ht<w.length;ht++)ue(m,w[ht],R,G,tt);return null}return R=Hi(R),m&&m[xt]?m.K(w,R,d(G)?!!G.capture:!1,tt):fe(m,w,R,!1,G,tt)}function fe(m,w,R,G,tt,ht){if(!w)throw Error("Invalid event type");var At=d(tt)?!!tt.capture:!!tt,Se=si(m);if(Se||(m[kt]=Se=new Ht(m)),R=Se.add(w,R,G,At,ht),R.proxy)return R;if(G=ke(),R.proxy=G,G.src=m,G.listener=R,m.addEventListener)vt||(tt=At),tt===void 0&&(tt=!1),m.addEventListener(w.toString(),G,tt);else if(m.attachEvent)m.attachEvent(pe(w.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ke(){function m(R){return w.call(m.src,m.listener,R)}const w=Ot;return m}function Ue(m,w,R,G,tt){if(Array.isArray(w))for(var ht=0;ht<w.length;ht++)Ue(m,w[ht],R,G,tt);else G=d(G)?!!G.capture:!!G,R=Hi(R),m&&m[xt]?(m=m.i,w=String(w).toString(),w in m.g&&(ht=m.g[w],R=Mt(ht,R,G,tt),-1<R&&(Et(ht[R]),Array.prototype.splice.call(ht,R,1),ht.length==0&&(delete m.g[w],m.h--)))):m&&(m=si(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Mt(w,R,G,tt)),(R=-1<m?w[m]:null)&&He(R))}function He(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[xt])Gt(w.i,m);else{var R=m.type,G=m.proxy;w.removeEventListener?w.removeEventListener(R,G,m.capture):w.detachEvent?w.detachEvent(pe(R),G):w.addListener&&w.removeListener&&w.removeListener(G),(R=si(w))?(Gt(R,m),R.h==0&&(R.src=null,w[kt]=null)):Et(m)}}}function pe(m){return m in Wt?Wt[m]:Wt[m]="on"+m}function Ot(m,w){if(m.da)m=!0;else{w=new wt(w,this);var R=m.listener,G=m.ha||m.src;m.fa&&He(m),m=R.call(G,w)}return m}function si(m){return m=m[kt],m instanceof Ht?m:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hi(m){return typeof m=="function"?m:(m[Ye]||(m[Ye]=function(w){return m.handleEvent(w)}),m[Ye])}function Re(){ut.call(this),this.i=new Ht(this),this.M=this,this.F=null}A(Re,ut),Re.prototype[xt]=!0,Re.prototype.removeEventListener=function(m,w,R,G){Ue(this,m,w,R,G)};function ee(m,w){var R,G=m.F;if(G)for(R=[];G;G=G.F)R.push(G);if(m=m.M,G=w.type||w,typeof w=="string")w=new st(w,m);else if(w instanceof st)w.target=w.target||m;else{var tt=w;w=new st(G,m),T(w,tt)}if(tt=!0,R)for(var ht=R.length-1;0<=ht;ht--){var At=w.g=R[ht];tt=Xe(At,G,!0,w)&&tt}if(At=w.g=m,tt=Xe(At,G,!0,w)&&tt,tt=Xe(At,G,!1,w)&&tt,R)for(ht=0;ht<R.length;ht++)At=w.g=R[ht],tt=Xe(At,G,!1,w)&&tt}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var R=m.g[w],G=0;G<R.length;G++)Et(R[G]);delete m.g[w],m.h--}}this.F=null},Re.prototype.K=function(m,w,R,G){return this.i.add(String(m),w,!1,R,G)},Re.prototype.L=function(m,w,R,G){return this.i.add(String(m),w,!0,R,G)};function Xe(m,w,R,G){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var tt=!0,ht=0;ht<w.length;++ht){var At=w[ht];if(At&&!At.da&&At.capture==R){var Se=At.listener,ai=At.ha||At.src;At.fa&&Gt(m.i,At),tt=Se.call(ai,G)!==!1&&tt}}return tt&&!G.defaultPrevented}function Oe(m,w,R){if(typeof m=="function")R&&(m=b(m,R));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function De(m){m.g=Oe(()=>{m.g=null,m.i&&(m.i=!1,De(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Kt extends ut{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(m){ut.call(this),this.h=m,this.g={}}A(Pn,ut);var yn=[];function Mn(m){W(m.g,function(w,R){this.g.hasOwnProperty(R)&&He(w)},m),m.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),Mn(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=c.JSON.stringify,Pe=c.JSON.parse,gn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function tr(){}tr.prototype.h=null;function xl(m){return m.h||(m.h=m.i())}function ag(){}var io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function so(){st.call(this,"d")}A(so,st);function og(){st.call(this,"c")}A(og,st);var ea={},lg=null;function Cl(){return lg=lg||new Re}ea.La="serverreachability";function ud(m){st.call(this,ea.La,m)}A(ud,st);function Rl(m){const w=Cl();ee(w,new ud(w))}ea.STAT_EVENT="statevent";function tb(m,w){st.call(this,ea.STAT_EVENT,m),this.stat=w}A(tb,st);function vn(m){const w=Cl();ee(w,new tb(w,m))}ea.Ma="timingevent";function ri(m,w){st.call(this,ea.Ma,m),this.size=w}A(ri,st);function Kn(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function cg(m,w,R,G,tt,ht){m.info(function(){if(m.g)if(ht)for(var At="",Se=ht.split("&"),ai=0;ai<Se.length;ai++){var we=Se[ai].split("=");if(1<we.length){var bi=we[0];we=we[1];var oi=bi.split("_");At=2<=oi.length&&oi[1]=="type"?At+(bi+"="+we+"&"):At+(bi+"=redacted&")}}else At=null;else At=ht;return"XMLHTTP REQ ("+G+") [attempt "+tt+"]: "+w+`
`+R+`
`+At})}function xA(m,w,R,G,tt,ht,At){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+tt+"]: "+w+`
`+R+`
`+ht+" "+At})}function Il(m,w,R,G){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+iu(m,R)+(G?" "+G:"")})}function eb(m,w){m.info(function(){return"TIMEOUT: "+w})}er.prototype.info=function(){};function iu(m,w){if(!m.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var G=R[m];if(!(2>G.length)){var tt=G[1];if(Array.isArray(tt)&&!(1>tt.length)){var ht=tt[0];if(ht!="noop"&&ht!="stop"&&ht!="close")for(var At=1;At<tt.length;At++)tt[At]=""}}}}return Dt(R)}catch{return w}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ro={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},na;function ia(){}A(ia,tr),ia.prototype.g=function(){return new XMLHttpRequest},ia.prototype.i=function(){return{}},na=new ia;function ls(m,w,R,G){this.j=m,this.i=w,this.l=R,this.R=G||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ug={},hd={};function xr(m,w,R){m.L=1,m.v=lu(Ms(w)),m.m=R,m.P=!0,ao(m,null)}function ao(m,w){m.F=Date.now(),su(m),m.A=Ms(m.v);var R=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),mg(R.i,"t",G),m.C=0,R=m.j.J,m.h=new Un,m.g=yb(m.j,R?w:null,!m.m),0<m.O&&(m.M=new Kt(b(m.Y,m,m.g),m.O)),w=m.U,R=m.g,G=m.ca;var tt="readystatechange";Array.isArray(tt)||(tt&&(yn[0]=tt.toString()),tt=yn);for(var ht=0;ht<tt.length;ht++){var At=ue(R,tt[ht],G||w.handleEvent,!1,w.h||w);if(!At)break;w.g[At.key]=At}w=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Rl(),cg(m.i,m.u,m.A,m.l,m.R,m.m)}ls.prototype.ca=function(m){m=m.target;const w=this.M;w&&rr(m)==3?w.j():this.Y(m)},ls.prototype.Y=function(m){try{if(m==this.g)t:{const oi=rr(this.g);var w=this.g.Ba();const go=this.g.Z();if(!(3>oi)&&(oi!=3||this.g&&(this.h.h||this.g.oa()||cb(this.g)))){this.J||oi!=4||w==7||(w==8||0>=go?Rl(3):Rl(2)),Pl(this);var R=this.g.Z();this.X=R;e:if(nb(this)){var G=cb(this.g);m="";var tt=G.length,ht=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),sa(this);var At="";break e}this.h.i=new c.TextDecoder}for(w=0;w<tt;w++)this.h.h=!0,m+=this.h.i.decode(G[w],{stream:!(ht&&w==tt-1)});G.length=0,this.h.g+=m,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=R==200,xA(this.i,this.u,this.A,this.l,this.R,oi,R),this.o){if(this.T&&!this.K){e:{if(this.g){var Se,ai=this.g;if((Se=ai.g?ai.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Se)){var we=Se;break e}}we=null}if(R=we)Il(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ru(this,R);else{this.o=!1,this.s=3,vn(12),ki(this),sa(this);break t}}if(this.P){R=!0;let Pi;for(;!this.J&&this.C<At.length;)if(Pi=ib(this,At),Pi==hd){oi==4&&(this.s=4,vn(14),R=!1),Il(this.i,this.l,null,"[Incomplete Response]");break}else if(Pi==ug){this.s=4,vn(15),Il(this.i,this.l,At,"[Invalid Chunk]"),R=!1;break}else Il(this.i,this.l,Pi,null),ru(this,Pi);if(nb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oi!=4||At.length!=0||this.h.h||(this.s=1,vn(16),R=!1),this.o=this.o&&R,!R)Il(this.i,this.l,At,"[Invalid Chunked Response]"),ki(this),sa(this);else if(0<At.length&&!this.W){this.W=!0;var bi=this.j;bi.g==this&&bi.ba&&!bi.M&&(bi.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),mu(bi),bi.M=!0,vn(11))}}else Il(this.i,this.l,At,null),ru(this,At);oi==4&&ki(this),this.o&&!this.J&&(oi==4?pb(this.j,this):(this.o=!1,su(this)))}else PA(this.g),R==400&&0<At.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),ki(this),sa(this)}}}catch{}finally{}};function nb(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ib(m,w){var R=m.C,G=w.indexOf(`
`,R);return G==-1?hd:(R=Number(w.substring(R,G)),isNaN(R)?ug:(G+=1,G+R>w.length?hd:(w=w.slice(G,G+R),m.C=G+R,w)))}ls.prototype.cancel=function(){this.J=!0,ki(this)};function su(m){m.S=Date.now()+m.I,sb(m,m.I)}function sb(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Kn(b(m.ba,m),w)}function Pl(m){m.B&&(c.clearTimeout(m.B),m.B=null)}ls.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(eb(this.i,this.A),this.L!=2&&(Rl(),vn(17)),ki(this),this.s=2,sa(this)):sb(this,this.S-m)};function sa(m){m.j.G==0||m.J||pb(m.j,m)}function ki(m){Pl(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Mn(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function ru(m,w){try{var R=m.j;if(R.G!=0&&(R.g==m||hg(R.h,m))){if(!m.K&&hg(R.h,m)&&R.G==3){try{var G=R.Da.g.parse(w)}catch{G=null}if(Array.isArray(G)&&G.length==3){var tt=G;if(tt[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)Sd(R),Ed(R);else break t;Eg(R),vn(18)}}else R.za=tt[1],0<R.za-R.T&&37500>tt[2]&&R.F&&R.v==0&&!R.C&&(R.C=Kn(b(R.Za,R),6e3));if(1>=fd(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else po(R,11)}else if((m.K||R.g==m)&&Sd(R),!F(w))for(tt=R.Da.g.parse(w),w=0;w<tt.length;w++){let we=tt[w];if(R.T=we[0],we=we[1],R.G==2)if(we[0]=="c"){R.K=we[1],R.ia=we[2];const bi=we[3];bi!=null&&(R.la=bi,R.j.info("VER="+R.la));const oi=we[4];oi!=null&&(R.Aa=oi,R.j.info("SVER="+R.Aa));const go=we[5];go!=null&&typeof go=="number"&&0<go&&(G=1.5*go,R.L=G,R.j.info("backChannelRequestTimeoutMs_="+G)),G=R;const Pi=m.g;if(Pi){const ha=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var ht=G.h;ht.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(ht.j=ht.l,ht.g=new Set,ht.h&&(pd(ht,ht.h),ht.h=null))}if(G.D){const Sg=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(G.ya=Sg,Qe(G.I,G.D,Sg))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),G=R;var At=m;if(G.qa=mb(G,G.J?G.ia:null,G.W),At.K){cs(G.h,At);var Se=At,ai=G.L;ai&&(Se.I=ai),Se.B&&(Pl(Se),su(Se)),G.g=At}else db(G);0<R.i.length&&Ad(R)}else we[0]!="stop"&&we[0]!="close"||po(R,7);else R.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?po(R,7):bg(R):we[0]!="noop"&&R.l&&R.l.ta(we),R.v=0)}}Rl(4)}catch{}}var rb=class{constructor(m,w){this.g=m,this.map=w}};function oo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dd(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function fd(m){return m.h?1:m.g?m.g.size:0}function hg(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function pd(m,w){m.g?m.g.add(w):m.h=w}function cs(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}oo.prototype.cancel=function(){if(this.i=dg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function dg(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const R of m.g.values())w=w.concat(R.D);return w}return S(m.i)}function CA(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],R=m.length,G=0;G<R;G++)w.push(m[G]);return w}w=[],R=0;for(G in m)w[R++]=m[G];return w}function gd(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var R=0;R<m;R++)w.push(R);return w}w=[],R=0;for(const G in m)w[R++]=G;return w}}}function fg(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var R=gd(m),G=CA(m),tt=G.length,ht=0;ht<tt;ht++)w.call(void 0,G[ht],R&&R[ht],m)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RA(m,w){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var G=m[R].indexOf("="),tt=null;if(0<=G){var ht=m[R].substring(0,G);tt=m[R].substring(G+1)}else ht=m[R];w(ht,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function Yn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Yn){this.h=m.h,ou(this,m.j),this.o=m.o,this.g=m.g,Ml(this,m.s),this.l=m.l;var w=m.i,R=new co;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),lo(this,R),this.m=m.m}else m&&(w=String(m).match(au))?(this.h=!1,ou(this,w[1]||"",!0),this.o=nr(w[2]||""),this.g=nr(w[3]||"",!0),Ml(this,w[4]),this.l=nr(w[5]||"",!0),lo(this,w[6]||"",!0),this.m=nr(w[7]||"")):(this.h=!1,this.i=new co(null,this.h))}Yn.prototype.toString=function(){var m=[],w=this.j;w&&m.push(cu(w,pg,!0),":");var R=this.g;return(R||w=="file")&&(m.push("//"),(w=this.o)&&m.push(cu(w,pg,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(cu(R,R.charAt(0)=="/"?IA:gg,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",cu(R,md)),m.join("")};function Ms(m){return new Yn(m)}function ou(m,w,R){m.j=R?nr(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Ml(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function lo(m,w,R){w instanceof co?(m.i=w,ob(m.i,m.h)):(R||(w=cu(w,kA)),m.i=new co(w,m.h))}function Qe(m,w,R){m.i.set(w,R)}function lu(m){return Qe(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function nr(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function cu(m,w,R){return typeof m=="string"?(m=encodeURI(m).replace(w,ab),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ab(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var pg=/[#\/\?@]/g,gg=/[#\?:]/g,IA=/[#\?]/g,kA=/[#\?@]/g,md=/#/g;function co(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function ir(m){m.g||(m.g=new Map,m.h=0,m.i&&RA(m.i,function(w,R){m.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}i=co.prototype,i.add=function(m,w){ir(this),this.i=null,m=ra(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(w),this.h+=1,this};function uo(m,w){ir(m),w=ra(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function ho(m,w){return ir(m),w=ra(m,w),m.g.has(w)}i.forEach=function(m,w){ir(this),this.g.forEach(function(R,G){R.forEach(function(tt){m.call(w,tt,G,this)},this)},this)},i.na=function(){ir(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let G=0;G<w.length;G++){const tt=m[G];for(let ht=0;ht<tt.length;ht++)R.push(w[G])}return R},i.V=function(m){ir(this);let w=[];if(typeof m=="string")ho(this,m)&&(w=w.concat(this.g.get(ra(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)w=w.concat(m[R])}return w},i.set=function(m,w){return ir(this),this.i=null,m=ra(this,m),ho(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function mg(m,w,R){uo(m,w),0<R.length&&(m.i=null,m.g.set(ra(m,w),S(R)),m.h+=R.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var G=w[R];const ht=encodeURIComponent(String(G)),At=this.V(G);for(G=0;G<At.length;G++){var tt=ht;At[G]!==""&&(tt+="="+encodeURIComponent(String(At[G]))),m.push(tt)}}return this.i=m.join("&")};function ra(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function ob(m,w){w&&!m.j&&(ir(m),m.i=null,m.g.forEach(function(R,G){var tt=G.toLowerCase();G!=tt&&(uo(this,G),mg(this,tt,R))},m)),m.j=w}function uu(m,w){const R=new er;if(c.Image){const G=new Image;G.onload=E(sr,R,"TestLoadImage: loaded",!0,w,G),G.onerror=E(sr,R,"TestLoadImage: error",!1,w,G),G.onabort=E(sr,R,"TestLoadImage: abort",!1,w,G),G.ontimeout=E(sr,R,"TestLoadImage: timeout",!1,w,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else w(!1)}function Cr(m,w){const R=new er,G=new AbortController,tt=setTimeout(()=>{G.abort(),sr(R,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:G.signal}).then(ht=>{clearTimeout(tt),ht.ok?sr(R,"TestPingServer: ok",!0,w):sr(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(tt),sr(R,"TestPingServer: error",!1,w)})}function sr(m,w,R,G,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),G(R)}catch{}}function hu(){this.g=new gn}function aa(m,w,R){const G=R||"";try{fg(m,function(tt,ht){let At=tt;d(tt)&&(At=Dt(tt)),w.push(G+ht+"="+encodeURIComponent(At))})}catch(tt){throw w.push(G+"type="+encodeURIComponent("_badmap")),tt}}function Ol(m){this.l=m.Ub||null,this.j=m.eb||!1}A(Ol,tr),Ol.prototype.g=function(){return new fo(this.l,this.j)},Ol.prototype.i=function(m){return function(){return m}}({});function fo(m,w){Re.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(fo,Re),i=fo.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,la(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},i.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yg(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function yg(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}i.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?oa(this):la(this),this.readyState==3&&yg(this)}},i.Ra=function(m){this.g&&(this.response=this.responseText=m,oa(this))},i.Qa=function(m){this.g&&(this.response=m,oa(this))},i.ga=function(){this.g&&oa(this)};function oa(m){m.readyState=4,m.l=null,m.j=null,m.v=null,la(m)}i.setRequestHeader=function(m,w){this.u.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=w.next();return m.join(`\r
`)};function la(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function vg(m){let w="";return W(m,function(R,G){w+=G,w+=":",w+=R,w+=`\r
`}),w}function vi(m,w,R){t:{for(G in R){var G=!1;break t}G=!0}G||(R=vg(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):Qe(m,w,R))}function Be(m){Re.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Be,Re);var yd=/^https?$/i,du=["POST","PUT"];i=Be.prototype,i.Ha=function(m){this.J=m},i.ea=function(m,w,R,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():na.g(),this.v=this.o?xl(this.o):xl(na),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ht){lb(this,ht);return}if(m=R||"",R=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var tt in G)R.set(tt,G[tt]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ht of G.keys())R.set(ht,G.get(ht));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(R.keys()).find(ht=>ht.toLowerCase()=="content-type"),tt=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(du,w,void 0))||G||tt||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ht,At]of R)this.g.setRequestHeader(ht,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fu(this),this.u=!0,this.g.send(m),this.u=!1}catch(ht){lb(this,ht)}};function lb(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,vd(m),ca(m)}function vd(m){m.A||(m.A=!0,ee(m,"complete"),ee(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ee(this,"complete"),ee(this,"abort"),ca(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ca(this,!0)),Be.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?bd(this):this.bb())},i.bb=function(){bd(this)};function bd(m){if(m.h&&typeof l<"u"&&(!m.v[1]||rr(m)!=4||m.Z()!=2)){if(m.u&&rr(m)==4)Oe(m.Ea,0,m);else if(ee(m,"readystatechange"),rr(m)==4){m.h=!1;try{const At=m.Z();t:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var G;if(G=At===0){var tt=String(m.D).match(au)[1]||null;!tt&&c.self&&c.self.location&&(tt=c.self.location.protocol.slice(0,-1)),G=!yd.test(tt?tt.toLowerCase():"")}R=G}if(R)ee(m,"complete"),ee(m,"success");else{m.m=6;try{var ht=2<rr(m)?m.g.statusText:""}catch{ht=""}m.l=ht+" ["+m.Z()+"]",vd(m)}}finally{ca(m)}}}}function ca(m,w){if(m.g){fu(m);const R=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||ee(m,"ready");try{R.onreadystatechange=G}catch{}}}function fu(m){m.I&&(c.clearTimeout(m.I),m.I=null)}i.isActive=function(){return!!this.g};function rr(m){return m.g?m.g.readyState:0}i.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Pe(w)}};function cb(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function PA(m){const w={};m=(m.g&&2<=rr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(F(m[G]))continue;var R=U(m[G]);const tt=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ht=w[tt]||[];w[tt]=ht,ht.push(R)}D(w,function(G){return G.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pu(m,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||w}function _d(m){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,m),this.cb=pu("retryDelaySeedMs",1e4,m),this.Wa=pu("forwardChannelMaxRetries",2,m),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new oo(m&&m.concurrentRequestLimit),this.Da=new hu,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_d.prototype,i.la=8,i.G=1,i.connect=function(m,w,R,G){vn(0),this.W=m,this.H=w||{},R&&G!==void 0&&(this.H.OSID=R,this.H.OAID=G),this.F=this.X,this.I=mb(this,null,this.W),Ad(this)};function bg(m){if(ub(m),m.G==3){var w=m.U++,R=Ms(m.I);if(Qe(R,"SID",m.K),Qe(R,"RID",w),Qe(R,"TYPE","terminate"),gu(m,R),w=new ls(m,m.j,w),w.L=2,w.v=lu(Ms(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&c.Image&&(new Image().src=w.v,R=!0),R||(w.g=yb(w.j,null),w.g.ea(w.v)),w.F=Date.now(),su(w)}gb(m)}function Ed(m){m.g&&(mu(m),m.g.cancel(),m.g=null)}function ub(m){Ed(m),m.u&&(c.clearTimeout(m.u),m.u=null),Sd(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Ad(m){if(!dd(m.h)&&!m.s){m.s=!0;var w=m.Ga;Q||K(),at||(Q(),at=!0),dt.add(w,m),m.B=0}}function MA(m,w){return fd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Kn(b(m.Ga,m,w),Ag(m,m.B)),m.B++,!0)}i.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const tt=new ls(this,this.j,m);let ht=this.o;if(this.S&&(ht?(ht=I(ht),T(ht,this.S)):ht=this.S),this.m!==null||this.O||(tt.H=ht,ht=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var G=this.i[R];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break e}G=void 0}if(G===void 0)break;if(w+=G,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=hb(this,tt,w),R=Ms(this.I),Qe(R,"RID",m),Qe(R,"CVER",22),this.D&&Qe(R,"X-HTTP-Session-Id",this.D),gu(this,R),ht&&(this.O?w="headers="+encodeURIComponent(String(vg(ht)))+"&"+w:this.m&&vi(R,this.m,ht)),pd(this.h,tt),this.Ua&&Qe(R,"TYPE","init"),this.P?(Qe(R,"$req",w),Qe(R,"SID","null"),tt.T=!0,xr(tt,R,null)):xr(tt,R,w),this.G=2}}else this.G==3&&(m?_g(this,m):this.i.length==0||dd(this.h)||_g(this))};function _g(m,w){var R;w?R=w.l:R=m.U++;const G=Ms(m.I);Qe(G,"SID",m.K),Qe(G,"RID",R),Qe(G,"AID",m.T),gu(m,G),m.m&&m.o&&vi(G,m.m,m.o),R=new ls(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),w&&(m.i=w.D.concat(m.i)),w=hb(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),pd(m.h,R),xr(R,G,w)}function gu(m,w){m.H&&W(m.H,function(R,G){Qe(w,G,R)}),m.l&&fg({},function(R,G){Qe(w,G,R)})}function hb(m,w,R){R=Math.min(m.i.length,R);var G=m.l?b(m.l.Na,m.l,m):null;t:{var tt=m.i;let ht=-1;for(;;){const At=["count="+R];ht==-1?0<R?(ht=tt[0].g,At.push("ofs="+ht)):ht=0:At.push("ofs="+ht);let Se=!0;for(let ai=0;ai<R;ai++){let we=tt[ai].g;const bi=tt[ai].map;if(we-=ht,0>we)ht=Math.max(0,tt[ai].g-100),Se=!1;else try{aa(bi,At,"req"+we+"_")}catch{G&&G(bi)}}if(Se){G=At.join("&");break t}}}return m=m.i.splice(0,R),w.D=m,G}function db(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;Q||K(),at||(Q(),at=!0),dt.add(w,m),m.v=0}}function Eg(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Kn(b(m.Fa,m),Ag(m,m.v)),m.v++,!0)}i.Fa=function(){if(this.u=null,fb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Kn(b(this.ab,this),m)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Ed(this),fb(this))};function mu(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function fb(m){m.g=new ls(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ms(m.qa);Qe(w,"RID","rpc"),Qe(w,"SID",m.K),Qe(w,"AID",m.T),Qe(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&Qe(w,"TO",m.ja),Qe(w,"TYPE","xmlhttp"),gu(m,w),m.m&&m.o&&vi(w,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=lu(Ms(w)),R.m=null,R.P=!0,ao(R,m)}i.Za=function(){this.C!=null&&(this.C=null,Ed(this),Eg(this),vn(19))};function Sd(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function pb(m,w){var R=null;if(m.g==w){Sd(m),mu(m),m.g=null;var G=2}else if(hg(m.h,w))R=w.D,cs(m.h,w),G=1;else return;if(m.G!=0){if(w.o)if(G==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var tt=m.B;G=Cl(),ee(G,new ri(G,R)),Ad(m)}else db(m);else if(tt=w.s,tt==3||tt==0&&0<w.X||!(G==1&&MA(m,w)||G==2&&Eg(m)))switch(R&&0<R.length&&(w=m.h,w.i=w.i.concat(R)),tt){case 1:po(m,5);break;case 4:po(m,10);break;case 3:po(m,6);break;default:po(m,2)}}}function Ag(m,w){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*w}function po(m,w){if(m.j.info("Error code "+w),w==2){var R=b(m.fb,m),G=m.Xa;const tt=!G;G=new Yn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ou(G,"https"),lu(G),tt?uu(G.toString(),R):Cr(G.toString(),R)}else vn(2);m.G=0,m.l&&m.l.sa(w),gb(m),ub(m)}i.fb=function(m){m?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function gb(m){if(m.G=0,m.ka=[],m.l){const w=dg(m.h);(w.length!=0||m.i.length!=0)&&(C(m.ka,w),C(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function mb(m,w,R){var G=R instanceof Yn?Ms(R):new Yn(R);if(G.g!="")w&&(G.g=w+"."+G.g),Ml(G,G.s);else{var tt=c.location;G=tt.protocol,w=w?w+"."+tt.hostname:tt.hostname,tt=+tt.port;var ht=new Yn(null);G&&ou(ht,G),w&&(ht.g=w),tt&&Ml(ht,tt),R&&(ht.l=R),G=ht}return R=m.D,w=m.ya,R&&w&&Qe(G,R,w),Qe(G,"VER",m.la),gu(m,G),G}function yb(m,w,R){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Be(new Ol({eb:R})):new Be(m.pa),w.Ha(m.J),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vb(){}i=vb.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wd(){}wd.prototype.g=function(m,w){return new us(m,w)};function us(m,w){Re.call(this),this.g=new _d(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!F(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!F(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new ua(this)}A(us,Re),us.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},us.prototype.close=function(){bg(this.g)},us.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Dt(m),m=R);w.i.push(new rb(w.Ya++,m)),w.G==3&&Ad(w)},us.prototype.N=function(){this.g.l=null,delete this.j,bg(this.g),delete this.g,us.aa.N.call(this)};function bb(m){so.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){t:{for(const R in w){m=R;break t}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}A(bb,so);function _b(){og.call(this),this.status=1}A(_b,og);function ua(m){this.g=m}A(ua,vb),ua.prototype.ua=function(){ee(this.g,"a")},ua.prototype.ta=function(m){ee(this.g,new bb(m))},ua.prototype.sa=function(m){ee(this.g,new _b)},ua.prototype.ra=function(){ee(this.g,"b")},wd.prototype.createWebChannel=wd.prototype.g,us.prototype.send=us.prototype.o,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,UL=function(){return new wd},VL=function(){return Cl()},FL=ea,HT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,e_=kl,ro.COMPLETE="complete",LL=ro,ag.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",Re.prototype.listen=Re.prototype.K,wm=ag,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,NL=Be}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});const OM="@firebase/firestore",DM="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new yC("@firebase/firestore");function lf(){return Yh.logLevel}function It(i,...t){if(Yh.logLevel<=_e.DEBUG){const e=t.map(kC);Yh.debug(`Firestore (${eg}): ${i}`,...e)}}function El(i,...t){if(Yh.logLevel<=_e.ERROR){const e=t.map(kC);Yh.error(`Firestore (${eg}): ${i}`,...e)}}function Up(i,...t){if(Yh.logLevel<=_e.WARN){const e=t.map(kC);Yh.warn(`Firestore (${eg}): ${i}`,...e)}}function kC(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,BL(i,n,e)}function BL(i,t,e){let n=`FIRESTORE (${eg}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw El(n),new Error(n)}function kn(i,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,i||BL(t,s,n)}function Ce(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends eo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ts.UNAUTHENTICATED))}shutdown(){}}class rW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class aW{constructor(t){this.t=t,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){kn(this.o===void 0,42304);let n=this.i;const s=h=>this.i!==n?(n=this.i,e(h)):Promise.resolve();let a=new $h;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $h,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $h)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(kn(typeof n.accessToken=="string",31837,{l:n}),new zL(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return kn(t===null||typeof t=="string",2055,{h:t}),new ts(t)}}class oW{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lW{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new oW(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cW{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){kn(this.o===void 0,3512);const n=a=>{a.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,It("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const s=a=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NM(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(kn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new NM(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=uW(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<e&&(n+=t.charAt(s[a]%62))}return n}}function ye(i,t){return i<t?-1:i>t?1:0}function $T(i,t){let e=0;for(;e<i.length&&e<t.length;){const n=i.codePointAt(e),s=t.codePointAt(e);if(n!==s){if(n<128&&s<128)return ye(n,s);{const a=jL(),l=dW(a.encode(LM(i,e)),a.encode(LM(t,e)));return l!==0?l:ye(n,s)}}e+=n>65535?2:1}return ye(i.length,t.length)}function LM(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function dW(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return ye(i[e],t[e]);return ye(i.length,t.length)}function Bp(i,t,e){return i.length===t.length&&i.every((n,s)=>e(n,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=-62135596800,VM=1e6;class mi{static now(){return mi.fromMillis(Date.now())}static fromDate(t){return mi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*VM);return new mi(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<FM)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VM}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-FM;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(t){return new ie(t)}static min(){return new ie(new mi(0,0))}static max(){return new ie(new mi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="__name__";class _a{constructor(t,e,n){e===void 0?e=0:e>t.length&&se(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&se(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return _a.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _a?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=_a.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return ye(t.length,e.length)}static compareSegments(t,e){const n=_a.isNumericId(t),s=_a.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?_a.extractNumericId(t).compare(_a.extractNumericId(e)):$T(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zc.fromString(t.substring(4,t.length-2))}}class Rn extends _a{construct(t,e,n){return new Rn(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(s=>s.length>0))}return new Rn(e)}static emptyPath(){return new Rn([])}}const fW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ns extends _a{construct(t,e,n){return new ns(t,e,n)}static isValidIdentifier(t){return fW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ns.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UM}static keyField(){return new ns([UM])}static fromServerFormat(t){const e=[];let n="",s=0;const a=()=>{if(n.length===0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Nt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Nt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(n+=c,s++):(a(),s++)}if(a(),l)throw new Nt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ns(e)}static emptyPath(){return new ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.path=t}static fromPath(t){return new Xt(Rn.fromString(t))}static fromName(t){return new Xt(Rn.fromString(t).popFirst(5))}static empty(){return new Xt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Rn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xt(new Rn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=-1;function pW(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(n===1e9?new mi(e+1,0):new mi(e,n));return new Gc(s,Xt.empty(),t)}function gW(i){return new Gc(i.readTime,i.key,ly)}class Gc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Gc(ie.min(),Xt.empty(),ly)}static max(){return new Gc(ie.max(),Xt.empty(),ly)}}function mW(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Xt.comparator(i.documentKey,t.documentKey),e!==0?e:ye(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(i){if(i.code!==bt.FAILED_PRECONDITION||i.message!==yW)throw i;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yt((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(n,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof yt?e:yt.resolve(e)}catch(e){return yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):yt.reject(e)}static resolve(t){return new yt((e,n)=>{e(t)})}static reject(t){return new yt((e,n)=>{n(t)})}static waitFor(t){return new yt((e,n)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&e()},h=>n(h))}),l=!0,a===s&&e()})}static or(t){let e=yt.resolve(!1);for(const n of t)e=e.next(s=>s?yt.resolve(s):n());return e}static forEach(t,e){const n=[];return t.forEach((s,a)=>{n.push(e.call(this,s,a))}),this.waitFor(n)}static mapArray(t,e){return new yt((n,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;e(t[d]).next(p=>{l[d]=p,++c,c===a&&n(l)},p=>s(p))}})}static doWhile(t,e){return new yt((n,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):n()};a()})}}function bW(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ng(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>e.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}nA.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=-1;function iA(i){return i==null}function J_(i){return i===0&&1/i==-1/0}function EW(i){return typeof i=="number"&&Number.isInteger(i)&&!J_(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="";function AW(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=BM(t)),t=SW(i.get(e),t);return BM(t)}function SW(i,t){let e=t;const n=i.length;for(let s=0;s<n;s++){const a=i.charAt(s);switch(a){case"\0":e+="";break;case HL:e+="";break;default:e+=a}}return e}function BM(i){return i+HL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function ig(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function $L(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,e){this.comparator=t,this.root=e||Ui.EMPTY}insert(t,e){return new qn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(t){return new qn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new M0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new M0(this.root,t,this.comparator,!1)}getReverseIterator(){return new M0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new M0(this.root,t,this.comparator,!0)}}class M0{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?n(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ui{constructor(t,e,n,s,a){this.key=t,this.value=e,this.color=n??Ui.RED,this.left=s??Ui.EMPTY,this.right=a??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,a){return new Ui(t??this.key,e??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const a=n(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,n),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Ui.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw se(27949);return t+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1;Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(t,e,n,s,a){return this}insert(t,e,n){return new Ui(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.comparator=t,this.data=new qn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jM(this.data.getIterator())}getIteratorFrom(t){return new jM(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new yi(this.comparator);return e.data=t,e}}class jM{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t){this.fields=t,t.sort(ns.comparator)}static empty(){return new Fc([])}unionWith(t){let e=new yi(ns.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Fc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bp(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qL("Invalid base64 string: "+a):a}}(t);return new ji(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new ji(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const wW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wc(i){if(kn(!!i,39018),typeof i=="string"){let t=0;const e=wW.exec(i);if(kn(!!e,46558,{timestamp:i}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Hn(i.seconds),nanos:Hn(i.nanos)}}function Hn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Kc(i){return typeof i=="string"?ji.fromBase64String(i):ji.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="server_timestamp",WL="__type__",KL="__previous_value__",YL="__local_write_time__";function PC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[WL])===null||e===void 0?void 0:e.stringValue)===GL}function sA(i){const t=i.mapValue.fields[KL];return PC(t)?sA(t):t}function cy(i){const t=Wc(i.mapValue.fields[YL].timestampValue);return new mi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(t,e,n,s,a,l,c,h,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const tE="(default)";class uy{constructor(t,e){this.projectId=t,this.database=e||tE}static empty(){return new uy("","")}get isDefaultDatabase(){return this.database===tE}isEqual(t){return t instanceof uy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="__type__",xW="__max__",O0={mapValue:{}},QL="__vector__",eE="value";function Yc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?PC(i)?4:RW(i)?9007199254740991:CW(i)?10:11:se(28295,{value:i})}function Qa(i,t){if(i===t)return!0;const e=Yc(i);if(e!==Yc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return cy(i).isEqual(cy(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Wc(s.timestampValue),c=Wc(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(s,a){return Kc(s.bytesValue).isEqual(Kc(a.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(s,a){return Hn(s.geoPointValue.latitude)===Hn(a.geoPointValue.latitude)&&Hn(s.geoPointValue.longitude)===Hn(a.geoPointValue.longitude)}(i,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Hn(s.integerValue)===Hn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Hn(s.doubleValue),c=Hn(a.doubleValue);return l===c?J_(l)===J_(c):isNaN(l)&&isNaN(c)}return!1}(i,t);case 9:return Bp(i.arrayValue.values||[],t.arrayValue.values||[],Qa);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(zM(l)!==zM(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Qa(l[h],c[h])))return!1;return!0}(i,t);default:return se(52216,{left:i})}}function hy(i,t){return(i.values||[]).find(e=>Qa(e,t))!==void 0}function zp(i,t){if(i===t)return 0;const e=Yc(i),n=Yc(t);if(e!==n)return ye(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return ye(i.booleanValue,t.booleanValue);case 2:return function(a,l){const c=Hn(a.integerValue||a.doubleValue),h=Hn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(i,t);case 3:return HM(i.timestampValue,t.timestampValue);case 4:return HM(cy(i),cy(t));case 5:return $T(i.stringValue,t.stringValue);case 6:return function(a,l){const c=Kc(a),h=Kc(l);return c.compareTo(h)}(i.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ye(c[d],h[d]);if(p!==0)return p}return ye(c.length,h.length)}(i.referenceValue,t.referenceValue);case 8:return function(a,l){const c=ye(Hn(a.latitude),Hn(l.latitude));return c!==0?c:ye(Hn(a.longitude),Hn(l.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return $M(i.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,d,p;const v=a.fields||{},b=l.fields||{},E=(c=v[eE])===null||c===void 0?void 0:c.arrayValue,A=(h=b[eE])===null||h===void 0?void 0:h.arrayValue,S=ye(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:$M(E,A)}(i.mapValue,t.mapValue);case 11:return function(a,l){if(a===O0.mapValue&&l===O0.mapValue)return 0;if(a===O0.mapValue)return 1;if(l===O0.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const b=$T(h[v],p[v]);if(b!==0)return b;const E=zp(c[h[v]],d[p[v]]);if(E!==0)return E}return ye(h.length,p.length)}(i.mapValue,t.mapValue);default:throw se(23264,{Pe:e})}}function HM(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return ye(i,t);const e=Wc(i),n=Wc(t),s=ye(e.seconds,n.seconds);return s!==0?s:ye(e.nanos,n.nanos)}function $M(i,t){const e=i.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const a=zp(e[s],n[s]);if(a)return a}return ye(e.length,n.length)}function jp(i){return qT(i)}function qT(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=Wc(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return Kc(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Xt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",s=!0;for(const a of e.values||[])s?s=!1:n+=",",n+=qT(a);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${qT(e.fields[l])}`;return s+"}"}(i.mapValue):se(61005,{value:i})}function n_(i){switch(Yc(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sA(i);return t?16+n_(t):16;case 5:return 2*i.stringValue.length;case 6:return Kc(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+n_(a),0)}(i.arrayValue);case 10:case 11:return function(n){let s=0;return ig(n.fields,(a,l)=>{s+=a.length+n_(l)}),s}(i.mapValue);default:throw se(13486,{value:i})}}function qM(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function GT(i){return!!i&&"integerValue"in i}function MC(i){return!!i&&"arrayValue"in i}function GM(i){return!!i&&"nullValue"in i}function WM(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zw(i){return!!i&&"mapValue"in i}function CW(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[XL])===null||e===void 0?void 0:e.stringValue)===QL}function Km(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ig(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Km(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Km(i.arrayValue.values[e]);return t}return Object.assign({},i)}function RW(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.value=t}static empty(){return new ja({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Zw(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Km(e)}setAll(t){let e=ns.emptyPath(),n={},s=[];t.forEach((l,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,n,s),n={},s=[],e=c.popLast()}l?n[c.lastSegment()]=Km(l):s.push(c.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,n,s)}delete(t){const e=this.field(t.popLast());Zw(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];Zw(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){ig(e,(s,a)=>t[s]=a);for(const s of n)delete t[s]}clone(){return new ja(Km(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,e,n,s,a,l,c){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new es(t,0,ie.min(),ie.min(),ie.min(),ja.empty(),0)}static newFoundDocument(t,e,n,s){return new es(t,1,e,ie.min(),n,s,0)}static newNoDocument(t,e){return new es(t,2,e,ie.min(),ie.min(),ja.empty(),0)}static newUnknownDocument(t,e){return new es(t,3,e,ie.min(),ie.min(),ja.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ja.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof es&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,e){this.position=t,this.inclusive=e}}function KM(i,t,e){let n=0;for(let s=0;s<i.position.length;s++){const a=t[s],l=i.position[s];if(a.field.isKeyField()?n=Xt.comparator(Xt.fromName(l.referenceValue),e.key):n=zp(l,e.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function YM(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Qa(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,e="asc"){this.field=t,this.dir=e}}function IW(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{}class ni extends ZL{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new PW(t,e,n):e==="array-contains"?new DW(t,n):e==="in"?new NW(t,n):e==="not-in"?new LW(t,n):e==="array-contains-any"?new FW(t,n):new ni(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new MW(t,n):new OW(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(zp(e,this.value)):e!==null&&Yc(this.value)===Yc(e)&&this.matchesComparison(zp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends ZL{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Jr(t,e)}matches(t){return JL(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JL(i){return i.op==="and"}function tF(i){return kW(i)&&JL(i)}function kW(i){for(const t of i.filters)if(t instanceof Jr)return!1;return!0}function WT(i){if(i instanceof ni)return i.field.canonicalString()+i.op.toString()+jp(i.value);if(tF(i))return i.filters.map(t=>WT(t)).join(",");{const t=i.filters.map(e=>WT(e)).join(",");return`${i.op}(${t})`}}function eF(i,t){return i instanceof ni?function(n,s){return s instanceof ni&&n.op===s.op&&n.field.isEqual(s.field)&&Qa(n.value,s.value)}(i,t):i instanceof Jr?function(n,s){return s instanceof Jr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,c)=>a&&eF(l,s.filters[c]),!0):!1}(i,t):void se(19439)}function nF(i){return i instanceof ni?function(e){return`${e.field.canonicalString()} ${e.op} ${jp(e.value)}`}(i):i instanceof Jr?function(e){return e.op.toString()+" {"+e.getFilters().map(nF).join(" ,")+"}"}(i):"Filter"}class PW extends ni{constructor(t,e,n){super(t,e,n),this.key=Xt.fromName(n.referenceValue)}matches(t){const e=Xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class MW extends ni{constructor(t,e){super(t,"in",e),this.keys=iF("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class OW extends ni{constructor(t,e){super(t,"not-in",e),this.keys=iF("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function iF(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>Xt.fromName(n.referenceValue))}class DW extends ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return MC(e)&&hy(e.arrayValue,this.value)}}class NW extends ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&hy(this.value.arrayValue,e)}}class LW extends ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!hy(this.value.arrayValue,e)}}class FW extends ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!MC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>hy(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(t,e=null,n=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function XM(i,t=null,e=[],n=[],s=null,a=null,l=null){return new VW(i,t,e,n,s,a,l)}function OC(i){const t=Ce(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>WT(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),iA(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>jp(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>jp(n)).join(",")),t.Ie=e}return t.Ie}function DC(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!IW(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!eF(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!YM(i.startAt,t.startAt)&&YM(i.endAt,t.endAt)}function KT(i){return Xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,e=null,n=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UW(i,t,e,n,s,a,l,c){return new sg(i,t,e,n,s,a,l,c)}function sF(i){return new sg(i)}function QM(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rF(i){return i.collectionGroup!==null}function Ym(i){const t=Ce(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new yi(ns.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ee.push(new dy(a,n))}),e.has(ns.keyField().canonicalString())||t.Ee.push(new dy(ns.keyField(),n))}return t.Ee}function Ya(i){const t=Ce(i);return t.de||(t.de=BW(t,Ym(i))),t.de}function BW(i,t){if(i.limitType==="F")return XM(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new dy(s.field,a)});const e=i.endAt?new nE(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new nE(i.startAt.position,i.startAt.inclusive):null;return XM(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}function YT(i,t){const e=i.filters.concat([t]);return new sg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function XT(i,t,e){return new sg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function rA(i,t){return DC(Ya(i),Ya(t))&&i.limitType===t.limitType}function aF(i){return`${OC(Ya(i))}|lt:${i.limitType}`}function cf(i){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>nF(s)).join(", ")}]`),iA(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>jp(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>jp(s)).join(",")),`Target(${n})`}(Ya(i))}; limitType=${i.limitType})`}function aA(i,t){return t.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Xt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(i,t)&&function(n,s){for(const a of Ym(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(i,t)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(i,t)&&function(n,s){return!(n.startAt&&!function(l,c,h){const d=KM(l,c,h);return l.inclusive?d<=0:d<0}(n.startAt,Ym(n),s)||n.endAt&&!function(l,c,h){const d=KM(l,c,h);return l.inclusive?d>=0:d>0}(n.endAt,Ym(n),s))}(i,t)}function zW(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function oF(i){return(t,e)=>{let n=!1;for(const s of Ym(i)){const a=jW(s,t,e);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function jW(i,t,e){const n=i.field.isKeyField()?Xt.comparator(t.key,e.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?zp(h,d):se(42886)}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ig(this.inner,(e,n)=>{for(const[s,a]of n)t(s,a)})}isEmpty(){return $L(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=new qn(Xt.comparator);function Xc(){return HW}const lF=new qn(Xt.comparator);function Tm(...i){let t=lF;for(const e of i)t=t.insert(e.key,e);return t}function $W(i){let t=lF;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function qu(){return Xm()}function cF(){return Xm()}function Xm(){return new rd(i=>i.toString(),(i,t)=>i.isEqual(t))}const qW=new yi(Xt.comparator);function Ie(...i){let t=qW;for(const e of i)t=t.add(e);return t}const GW=new yi(ye);function WW(){return GW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J_(t)?"-0":t}}function uF(i){return{integerValue:""+i}}function KW(i,t){return EW(t)?uF(t):NC(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this._=void 0}}function YW(i,t,e){return i instanceof QT?function(s,a){const l={fields:{[WL]:{stringValue:GL},[YL]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&PC(a)&&(a=sA(a)),a&&(l.fields[KL]=a),{mapValue:l}}(e,t):i instanceof iE?hF(i,t):i instanceof sE?dF(i,t):function(s,a){const l=QW(s,a),c=ZM(l)+ZM(s.Re);return GT(l)&&GT(s.Re)?uF(c):NC(s.serializer,c)}(i,t)}function XW(i,t,e){return i instanceof iE?hF(i,t):i instanceof sE?dF(i,t):e}function QW(i,t){return i instanceof ZT?function(n){return GT(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class QT extends oA{}class iE extends oA{constructor(t){super(),this.elements=t}}function hF(i,t){const e=fF(t);for(const n of i.elements)e.some(s=>Qa(s,n))||e.push(n);return{arrayValue:{values:e}}}class sE extends oA{constructor(t){super(),this.elements=t}}function dF(i,t){let e=fF(t);for(const n of i.elements)e=e.filter(s=>!Qa(s,n));return{arrayValue:{values:e}}}class ZT extends oA{constructor(t,e){super(),this.serializer=t,this.Re=e}}function ZM(i){return Hn(i.integerValue||i.doubleValue)}function fF(i){return MC(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ZW(i,t){return i.field.isEqual(t.field)&&function(n,s){return n instanceof iE&&s instanceof iE||n instanceof sE&&s instanceof sE?Bp(n.elements,s.elements,Qa):n instanceof ZT&&s instanceof ZT?Qa(n.Re,s.Re):n instanceof QT&&s instanceof QT}(i.transform,t.transform)}class qh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new qh}static exists(t){return new qh(void 0,t)}static updateTime(t){return new qh(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function i_(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class LC{}function pF(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new tK(i.key,qh.none()):new FC(i.key,i.data,qh.none());{const e=i.data,n=ja.empty();let s=new yi(ns.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new lA(i.key,n,new Fc(s.toArray()),qh.none())}}function JW(i,t,e){i instanceof FC?function(s,a,l){const c=s.value.clone(),h=tO(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(i,t,e):i instanceof lA?function(s,a,l){if(!i_(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=tO(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(gF(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(i,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Qm(i,t,e,n){return i instanceof FC?function(a,l,c,h){if(!i_(a.precondition,l))return c;const d=a.value.clone(),p=eO(a.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(i,t,e,n):i instanceof lA?function(a,l,c,h){if(!i_(a.precondition,l))return c;const d=eO(a.fieldTransforms,h,l),p=l.data;return p.setAll(gF(a)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(i,t,e,n):function(a,l,c){return i_(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(i,t,e)}function JM(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Bp(n,s,(a,l)=>ZW(a,l))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class FC extends LC{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lA extends LC{constructor(t,e,n,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gF(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function tO(i,t,e){const n=new Map;kn(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let s=0;s<e.length;s++){const a=i[s],l=a.transform,c=t.data.field(a.field);n.set(a.field,XW(l,c,e[s]))}return n}function eO(i,t,e){const n=new Map;for(const s of i){const a=s.transform,l=e.data.field(s.field);n.set(s.field,YW(a,l,t))}return n}class tK extends LC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&JW(a,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Qm(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Qm(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=cF();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(s.key)?null:c;const h=pF(l,c);h!==null&&n.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ie.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ie())}isEqual(t){return this.batchId===t.batchId&&Bp(this.mutations,t.mutations,(e,n)=>JM(e,n))&&Bp(this.baseMutations,t.baseMutations,(e,n)=>JM(e,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn,xe;function mF(i){if(i===void 0)return El("GRPC error has no .code"),bt.UNKNOWN;switch(i){case Jn.OK:return bt.OK;case Jn.CANCELLED:return bt.CANCELLED;case Jn.UNKNOWN:return bt.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return bt.INTERNAL;case Jn.UNAVAILABLE:return bt.UNAVAILABLE;case Jn.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Jn.NOT_FOUND:return bt.NOT_FOUND;case Jn.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Jn.ABORTED:return bt.ABORTED;case Jn.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Jn.DATA_LOSS:return bt.DATA_LOSS;default:return se(39323,{code:i})}}(xe=Jn||(Jn={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=new zc([4294967295,4294967295],0);function nO(i){const t=jL().encode(i),e=new DL;return e.update(t),new Uint8Array(e.digest())}function iO(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new zc([e,n],0),new zc([s,a],0)]}class VC{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new xm(`Invalid padding: ${e}`);if(n<0)throw new xm(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new xm(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new xm(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=zc.fromNumber(this.pe)}we(t,e,n){let s=t.add(e.multiply(zc.fromNumber(n)));return s.compare(sK)===1&&(s=new zc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=nO(t),[n,s]=iO(e);for(let a=0;a<this.hashCount;a++){const l=this.we(n,s,a);if(!this.be(l))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new VC(a,s,e);return n.forEach(c=>l.insert(c)),l}insert(t){if(this.pe===0)return;const e=nO(t),[n,s]=iO(e);for(let a=0;a<this.hashCount;a++){const l=this.we(n,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,e,n,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,Wv.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new cA(ie.min(),s,new qn(ye),Xc(),Ie())}}class Wv{constructor(t,e,n,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Wv(n,e,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(t,e,n,s){this.De=t,this.removedTargetIds=e,this.key=n,this.ve=s}}class yF{constructor(t,e){this.targetId=t,this.Ce=e}}class vF{constructor(t,e,n=ji.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class sO{constructor(){this.Fe=0,this.Me=rO(),this.xe=ji.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ie(),e=Ie(),n=Ie();return this.Me.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:se(38017,{changeType:a})}}),new Wv(this.xe,this.Oe,t,e,n)}Qe(){this.Ne=!1,this.Me=rO()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,kn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rK{constructor(t){this.ze=t,this.je=new Map,this.He=Xc(),this.Je=D0(),this.Ye=D0(),this.Ze=new qn(ye)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const n=this.rt(e);switch(t.state){case 0:this.it(e)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(e);break;case 3:this.it(e)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),n.ke(t.resumeToken));break;default:se(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((n,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,n=t.Ce.count,s=this._t(e);if(s){const a=s.target;if(KT(a))if(n===0){const l=new Xt(a.path);this.tt(e,l,es.newNoDocument(l,ie.min()))}else kn(n===1,20013,{expectedCount:n});else{const l=this.ut(e);if(l!==n){const c=this.ct(t),h=c?this.lt(c,t,l):1;if(h!==0){this.st(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=e;let l,c;try{l=Kc(n).toUint8Array()}catch(h){if(h instanceof qL)return Up("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new VC(l,s,a)}catch(h){return Up(h instanceof xm?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(t,e,n){return e.Ce.count===n-this.Tt(t,e.targetId)?0:2}Tt(t,e){const n=this.ze.getRemoteKeysForTarget(e);let s=0;return n.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,a,null),s++)}),s}It(t){const e=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&KT(c.target)){const h=new Xt(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,es.newNoDocument(h,t))}a.Le&&(e.set(l,a.qe()),a.Qe())}});let n=Ie();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,l)=>l.setReadTime(t));const s=new cA(t,e,this.Ze,this.He,n);return this.He=Xc(),this.Je=D0(),this.Ye=D0(),this.Ze=new qn(ye),s}et(t,e){if(!this.it(t))return;const n=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,n),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,n){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),n&&(this.He=this.He.insert(e,n))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new sO,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new yi(ye),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new yi(ye),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||It("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new sO),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function D0(){return new qn(Xt.comparator)}function rO(){return new qn(Xt.comparator)}const aK={asc:"ASCENDING",desc:"DESCENDING"},oK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lK={and:"AND",or:"OR"};class cK{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function JT(i,t){return i.useProto3Json||iA(t)?t:{value:t}}function t1(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bF(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Cf(i){return kn(!!i,49232),ie.fromTimestamp(function(e){const n=Wc(e);return new mi(n.seconds,n.nanos)}(i))}function _F(i,t){return e1(i,t).canonicalString()}function e1(i,t){const e=function(s){return new Rn(["projects",s.projectId,"databases",s.database])}(i).child("documents");return t===void 0?e:e.child(t)}function EF(i){const t=Rn.fromString(i);return kn(xF(t),10190,{key:t.toString()}),t}function Jw(i,t){const e=EF(t);if(e.get(1)!==i.databaseId.projectId)throw new Nt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Nt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Xt(SF(e))}function AF(i,t){return _F(i.databaseId,t)}function uK(i){const t=EF(i);return t.length===4?Rn.emptyPath():SF(t)}function aO(i){return new Rn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function SF(i){return kn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function hK(i,t){let e;if("targetChange"in t){t.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(kn(p===void 0||typeof p=="string",58123),ji.fromBase64String(p||"")):(kn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ji.fromUint8Array(p||new Uint8Array))}(i,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?bt.UNKNOWN:mF(d.code);return new Nt(p,d.message||"")}(l);e=new vF(n,s,a,c||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=Jw(i,n.document.name),a=Cf(n.document.updateTime),l=n.document.createTime?Cf(n.document.createTime):ie.min(),c=new ja({mapValue:{fields:n.document.fields}}),h=es.newFoundDocument(s,a,l,c),d=n.targetIds||[],p=n.removedTargetIds||[];e=new s_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=Jw(i,n.document),a=n.readTime?Cf(n.readTime):ie.min(),l=es.newNoDocument(s,a),c=n.removedTargetIds||[];e=new s_([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=Jw(i,n.document),a=n.removedTargetIds||[];e=new s_([],a,s,null)}else{if(!("filter"in t))return se(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new iK(s,a),c=n.targetId;e=new yF(c,l)}}return e}function dK(i,t){return{documents:[AF(i,t.path)]}}function fK(i,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=AF(i,s);const a=function(d){if(d.length!==0)return TF(Jr.create(d,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(p=>function(b){return{field:uf(b.field),direction:mK(b.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=JT(i,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{gt:e,parent:s}}function pK(i){let t=uK(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){kn(n===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=function(v){const b=wF(v);return b instanceof Jr&&tF(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(v){return v.map(b=>function(A){return new dy(hf(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let c=null;e.limit&&(c=function(v){let b;return b=typeof v=="object"?v.value:v,iA(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(v){const b=!!v.before,E=v.values||[];return new nE(E,b)}(e.startAt));let d=null;return e.endAt&&(d=function(v){const b=!v.before,E=v.values||[];return new nE(E,b)}(e.endAt)),UW(t,s,l,a,c,"F",h,d)}function gK(i,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function wF(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=hf(e.unaryFilter.field);return ni.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=hf(e.unaryFilter.field);return ni.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hf(e.unaryFilter.field);return ni.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hf(e.unaryFilter.field);return ni.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(i):i.fieldFilter!==void 0?function(e){return ni.create(hf(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Jr.create(e.compositeFilter.filters.map(n=>wF(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(e.compositeFilter.op))}(i):se(30097,{filter:i})}function mK(i){return aK[i]}function yK(i){return oK[i]}function vK(i){return lK[i]}function uf(i){return{fieldPath:i.canonicalString()}}function hf(i){return ns.fromServerFormat(i.fieldPath)}function TF(i){return i instanceof ni?function(e){if(e.op==="=="){if(WM(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NAN"}};if(GM(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WM(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NOT_NAN"}};if(GM(e.value))return{unaryFilter:{field:uf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(e.field),op:yK(e.op),value:e.value}}}(i):i instanceof Jr?function(e){const n=e.getFilters().map(s=>TF(s));return n.length===1?n[0]:{compositeFilter:{op:vK(e.op),filters:n}}}(i):se(54877,{filter:i})}function xF(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,e,n,s,a=ie.min(),l=ie.min(),c=ji.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Vc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(t){this.wt=t}}function _K(i){const t=pK({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?XT(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(){this.Cn=new AK}addToCollectionParentIndex(t,e){return this.Cn.add(e),yt.resolve()}getCollectionParents(t,e){return yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return yt.resolve()}deleteFieldIndex(t,e){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,e){return yt.resolve()}getDocumentsMatchingTarget(t,e){return yt.resolve(null)}getIndexType(t,e){return yt.resolve(0)}getFieldIndexes(t,e){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,e){return yt.resolve(Gc.min())}getMinOffsetFromCollectionGroup(t,e){return yt.resolve(Gc.min())}updateCollectionGroup(t,e,n){return yt.resolve()}updateIndexEntries(t,e){return yt.resolve()}}class AK{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new yi(Rn.comparator),a=!s.has(n);return this.index[e]=s.add(n),a}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new yi(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CF=41943040;class Rs{static withCacheSize(t){return new Rs(t,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(CF,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Hp(0)}static lr(){return new Hp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="LruGarbageCollector",SK=1048576;function cO([i,t],[e,n]){const s=ye(i,e);return s===0?ye(t,n):s}class wK{constructor(t){this.Er=t,this.buffer=new yi(cO),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();cO(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class TK{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){It(lO,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ng(e)?It(lO,"Ignoring IndexedDB error during garbage collection: ",e):await eA(e)}await this.mr(3e5)})}}class xK{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(e===0)return yt.resolve(nA.le);const n=new wK(e);return this.gr.forEachTarget(t,s=>n.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>n.Rr(s))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.gr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(oO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oO):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let n,s,a,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(t,s))).next(v=>(n=v,c=Date.now(),this.removeTargets(t,n,e))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(t,n))).next(v=>(d=Date.now(),lf()<=_e.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function CK(i,t){return new xK(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.changes=new rd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,es.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?yt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(n=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(n!==null&&Qm(n.mutation,s,Fc.empty(),mi.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Ie()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Ie()){const s=qu();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,n).next(a=>{let l=Tm();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const n=qu();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Ie()))}populateOverlays(t,e,n){const s=[];return n.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{e.set(l,c)})})}computeViews(t,e,n,s){let a=Xc();const l=Xm(),c=function(){return Xm()}();return e.forEach((h,d)=>{const p=n.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof lA)?a=a.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),Qm(p.mutation,d,p.mutation.getFieldMask(),mi.now())):l.set(d.key,Fc.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,p)=>l.set(d,p)),e.forEach((d,p)=>{var v;return c.set(d,new IK(p,(v=l.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(t,e){const n=Xm();let s=new qn((l,c)=>l-c),a=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let p=n.get(h)||Fc.empty();p=c.applyToLocalView(d,p),n.set(h,p);const v=(s.get(c.batchId)||Ie()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,v=cF();p.forEach(b=>{if(!a.has(b)){const E=pF(e.get(b),n.get(b));E!==null&&v.set(b,E),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,v))}return yt.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,s){return function(l){return Xt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):rF(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-a.size):yt.resolve(qu());let c=ly,h=a;return l.next(d=>yt.forEach(d,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(p)?yt.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{h=h.insert(p,b)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,Ie())).next(p=>({batchId:c,changes:$W(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xt(e)).next(n=>{let s=Tm();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const a=e.collectionGroup;let l=Tm();return this.indexManager.getCollectionParents(t,a).next(c=>yt.forEach(c,h=>{const d=function(v,b){return new sg(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,n,s).next(p=>{p.forEach((v,b)=>{l=l.insert(v,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,a,s))).next(l=>{a.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,es.newInvalidDocument(p)))});let c=Tm();return l.forEach((h,d)=>{const p=a.get(h);p!==void 0&&Qm(p.mutation,d,Fc.empty(),mi.now()),aA(e,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return yt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Cf(s.createTime)}}(e)),yt.resolve()}getNamedQuery(t,e){return yt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:_K(s.bundledQuery),readTime:Cf(s.readTime)}}(e)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.overlays=new qn(Xt.comparator),this.Qr=new Map}getOverlay(t,e){return yt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=qu();return yt.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((s,a)=>{this.St(t,e,a)}),yt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.Qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),yt.resolve()}getOverlaysForCollection(t,e,n){const s=qu(),a=e.length+1,l=new Xt(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>n&&s.set(h.getKey(),h)}return yt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let a=new qn((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=qu(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=qu(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return yt.resolve(c)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(n.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new nK(e,n));let a=this.Qr.get(e);a===void 0&&(a=Ie(),this.Qr.set(e,a)),this.Qr.set(e,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.$r=new yi(Ii.Ur),this.Kr=new yi(Ii.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const n=new Ii(t,e);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.zr(new Ii(t,e))}jr(t,e){t.forEach(n=>this.removeReference(n,e))}Hr(t){const e=new Xt(new Rn([])),n=new Ii(e,t),s=new Ii(e,t+1),a=[];return this.Kr.forEachInRange([n,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Xt(new Rn([])),n=new Ii(e,t),s=new Ii(e,t+1);let a=Ie();return this.Kr.forEachInRange([n,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new Ii(t,0),n=this.$r.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Ii{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Xt.comparator(t.key,e.key)||ye(t.Zr,e.Zr)}static Wr(t,e){return ye(t.Zr,e.Zr)||Xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new yi(Ii.Ur)}checkEmpty(t){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new eK(a,e,n,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Ii(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return yt.resolve(l)}lookupMutationBatch(t,e){return yt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ti(n),a=s<0?0:s;return yt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?_W:this.nr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Ii(e,0),s=new Ii(e,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,s],l=>{const c=this.ei(l.Zr);a.push(c)}),yt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new yi(ye);return e.forEach(s=>{const a=new Ii(s,0),l=new Ii(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{n=n.add(c.Zr)})}),yt.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let a=n;Xt.isDocumentKey(a)||(a=a.child(""));const l=new Ii(new Xt(a),0);let c=new yi(ye);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Zr)),!0)},l),yt.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(n=>{const s=this.ei(n);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){kn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return yt.forEach(e.mutations,s=>{const a=new Ii(s.key,e.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=n})}sr(t){}containsKey(t,e){const n=new Ii(e,0),s=this.Xr.firstAfterOrEqual(n);return yt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,yt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(t){this.ii=t,this.docs=function(){return new qn(Xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),a=s?s.size:0,l=this.ii(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return yt.resolve(n?n.document.mutableCopy():es.newInvalidDocument(e))}getEntries(t,e){let n=Xc();return e.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():es.newInvalidDocument(s))}),yt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let a=Xc();const l=e.path,c=new Xt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||mW(gW(p),n)<=0||(s.has(p.key)||aA(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return yt.resolve(a)}getAllFromCollectionGroup(t,e,n,s){se(9500)}si(t,e){return yt.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new LK(this)}getSize(t){return yt.resolve(this.size)}}class LK extends RK{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(n)}),yt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(t){this.persistence=t,this.oi=new rd(e=>OC(e),DC),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new UC,this.targetCount=0,this.ui=Hp.cr()}forEachTarget(t,e){return this.oi.forEach((n,s)=>e(s)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this._i&&(this._i=e),yt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Hp(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,yt.resolve()}updateTargetData(t,e){return this.Tr(e),yt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,e,n){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),yt.waitFor(a).next(()=>s)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,e){const n=this.oi.get(e)||null;return yt.resolve(n)}addMatchingKeys(t,e,n){return this.ai.Gr(e,n),yt.resolve()}removeMatchingKeys(t,e,n){this.ai.jr(e,n);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),yt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),yt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ai.Yr(e);return yt.resolve(n)}containsKey(t,e){return yt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t,e){this.ci={},this.overlays={},this.li=new nA(0),this.hi=!1,this.hi=!0,this.Pi=new OK,this.referenceDelegate=t(this),this.Ti=new FK(this),this.indexManager=new EK,this.remoteDocumentCache=function(s){return new NK(s)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new bK(e),this.Ei=new PK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new MK,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ci[t.toKey()];return n||(n=new DK(e,this.referenceDelegate),this.ci[t.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,n){It("MemoryPersistence","Starting transaction:",t);const s=new VK(this.li.next());return this.referenceDelegate.di(),n(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(t,e){return yt.or(Object.values(this.ci).map(n=>()=>n.containsKey(t,e)))}}class VK extends vW{constructor(t){super(),this.currentSequenceNumber=t}}class BC{constructor(t){this.persistence=t,this.Vi=new UC,this.mi=null}static fi(t){return new BC(t)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(t,e,n){return this.Vi.addReference(n,e),this.gi.delete(n.toString()),yt.resolve()}removeReference(t,e,n){return this.Vi.removeReference(n,e),this.gi.add(n.toString()),yt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),yt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.gi,n=>{const s=Xt.fromPath(n);return this.pi(t,s).next(a=>{a||e.removeEntry(s,ie.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(n=>{n?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return yt.or([()=>yt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class rE{constructor(t,e){this.persistence=t,this.yi=new rd(n=>AW(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=CK(this,e)}static fi(t,e){return new rE(t,e)}di(){}Ai(t){return yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>e.next(s=>n+s))}br(t){let e=0;return this.yr(t,n=>{e++}).next(()=>e)}yr(t,e){return yt.forEach(this.yi,(n,s)=>this.Dr(t,n,s).next(a=>a?yt.resolve():e(s)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(t,l=>this.Dr(t,l,e).next(c=>{c||(n++,a.removeEntry(l,ie.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),yt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.yi.set(n,t.currentSequenceNumber),yt.resolve()}removeReference(t,e,n){return this.yi.set(n,t.currentSequenceNumber),yt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),yt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=n_(t.data.value)),e}Dr(t,e,n){return yt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return yt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.ds=n,this.As=s}static Rs(t,e){let n=Ie(),s=Ie();for(const a of e.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new zC(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return B8()?8:bW(as())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,n,s){const a={result:null};return this.ws(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(t,e,s,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new UK;return this.Ss(t,e,l).next(c=>{if(a.result=c,this.fs)return this.Ds(t,e,l,c.size)})}).next(()=>a.result)}Ds(t,e,n,s){return n.documentReadCount<this.gs?(lf()<=_e.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",cf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),yt.resolve()):(lf()<=_e.DEBUG&&It("QueryEngine","Query:",cf(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ps*s?(lf()<=_e.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",cf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ya(e))):yt.resolve())}ws(t,e){if(QM(e))return yt.resolve(null);let n=Ya(e);return this.indexManager.getIndexType(t,n).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=XT(e,null,"F"),n=Ya(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const l=Ie(...a);return this.ys.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,n).next(h=>{const d=this.vs(e,c);return this.Cs(e,d,l,h.readTime)?this.ws(t,XT(e,null,"F")):this.Fs(t,d,e,h)}))})))}bs(t,e,n,s){return QM(e)||s.isEqual(ie.min())?yt.resolve(null):this.ys.getDocuments(t,n).next(a=>{const l=this.vs(e,a);return this.Cs(e,l,n,s)?yt.resolve(null):(lf()<=_e.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cf(e)),this.Fs(t,l,e,pW(s,ly)).next(c=>c))})}vs(t,e){let n=new yi(oF(t));return e.forEach((s,a)=>{aA(t,a)&&(n=n.add(a))}),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,n){return lf()<=_e.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",cf(e)),this.ys.getDocumentsMatchingQuery(t,e,Gc.min(),n)}Fs(t,e,n,s){return this.ys.getDocumentsMatchingQuery(t,n,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="LocalStore",zK=3e8;class jK{constructor(t,e,n,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new qn(ye),this.Os=new rd(a=>OC(a),DC),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(n)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kK(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function HK(i,t,e,n){return new jK(i,t,e,n)}async function IF(i,t){const e=Ce(i);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,e.Ls(t),e.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let h=Ie();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of a){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function kF(i){const t=Ce(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function $K(i,t){const e=Ce(i),n=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const c=[];t.targetChanges.forEach((p,v)=>{const b=s.get(v);if(!b)return;c.push(e.Ti.removeMatchingKeys(a,p.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(a,p.addedDocuments,v)));let E=b.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(v)!==null?E=E.withResumeToken(ji.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,n)),s=s.insert(v,E),function(S,C,x){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=zK?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(b,E,p)&&c.push(e.Ti.updateTargetData(a,E))});let h=Xc(),d=Ie();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(qK(a,l,t.documentUpdates).next(p=>{h=p.qs,d=p.Qs})),!n.isEqual(ie.min())){const p=e.Ti.getLastRemoteSnapshotVersion(a).next(v=>e.Ti.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(p)}return yt.waitFor(c).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(e.xs=s,a))}function qK(i,t,e){let n=Ie(),s=Ie();return e.forEach(a=>n=n.add(a)),t.getEntries(i,n).next(a=>{let l=Xc();return e.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(ie.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):It(jC,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:s}})}function GK(i,t){const e=Ce(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return e.Ti.getTargetData(n,t).next(a=>a?(s=a,yt.resolve(s)):e.Ti.allocateTargetId(n).next(l=>(s=new Vc(t,l,"TargetPurposeListen",n.currentSequenceNumber),e.Ti.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=e.xs.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(n.targetId,n),e.Os.set(t,n.targetId)),n})}async function n1(i,t,e){const n=Ce(i),s=n.xs.get(t),a=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ng(l))throw l;It(jC,`Failed to update sequence numbers for target ${t}: ${l}`)}n.xs=n.xs.remove(t),n.Os.delete(s.target)}function uO(i,t,e){const n=Ce(i);let s=ie.min(),a=Ie();return n.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const v=Ce(h),b=v.Os.get(p);return b!==void 0?yt.resolve(v.xs.get(b)):v.Ti.getTargetData(d,p)}(n,l,Ya(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(l,t,e?s:ie.min(),e?a:Ie())).next(c=>(WK(n,zW(t),c),{documents:c,$s:a})))}function WK(i,t,e){let n=i.Ns.get(t)||ie.min();e.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),i.Ns.set(t,n)}class hO{constructor(){this.activeTargetIds=WW()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KK{constructor(){this.xo=new hO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,n){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new hO,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="ConnectivityMonitor";class fO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){It(dO,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){It(dO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0=null;function i1(){return N0===null?N0=function(){return 268435456+Math.round(2147483648*Math.random())}():N0++,"0x"+N0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="RestConnection",XK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QK{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${n}/databases/${s}`,this.Go=this.databaseId.database===tE?`project_id=${n}`:`project_id=${n}&database_id=${s}`}zo(t,e,n,s,a){const l=i1(),c=this.jo(t,e.toUriEncodedString());It(tT,`Sending RPC '${t}' ${l}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(c),p=Jp(d);return this.Jo(t,c,h,n,p).then(v=>(It(tT,`Received RPC '${t}' ${l}: `,v),v),v=>{throw Up(tT,`RPC '${t}' ${l} failed with error: `,v,"url: ",c,"request:",n),v})}Yo(t,e,n,s,a,l){return this.zo(t,e,n,s,a)}Ho(t,e,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),n&&n.headers.forEach((s,a)=>t[a]=s)}jo(t,e){const n=XK[t];return`${this.Ko}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class JK extends QK{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,a){const l=i1();return new Promise((c,h)=>{const d=new NL;d.setWithCredentials(!0),d.listenOnce(LL.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case e_.NO_ERROR:const v=d.getResponseJson();It(Gi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(v)),c(v);break;case e_.TIMEOUT:It(Gi,`RPC '${t}' ${l} timed out`),h(new Nt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case e_.HTTP_ERROR:const b=d.getStatus();if(It(Gi,`RPC '${t}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const S=function(x){const F=x.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(F)>=0?F:bt.UNKNOWN}(A.status);h(new Nt(S,A.message))}else h(new Nt(bt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Nt(bt.UNAVAILABLE,"Connection failed."));break;default:se(9055,{h_:t,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{It(Gi,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);It(Gi,`RPC '${t}' ${l} sending request:`,s),d.send(e,"POST",p,n,15)})}I_(t,e,n){const s=i1(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=UL(),c=VL(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,e,n),h.encodeInitMessageHeaders=!0;const p=a.join("");It(Gi,`Creating RPC '${t}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);this.E_(v);let b=!1,E=!1;const A=new ZK({Zo:C=>{E?It(Gi,`Not sending because RPC '${t}' stream ${s} is closed:`,C):(b||(It(Gi,`Opening RPC '${t}' stream ${s} transport.`),v.open(),b=!0),It(Gi,`RPC '${t}' stream ${s} sending:`,C),v.send(C))},Xo:()=>v.close()}),S=(C,x,F)=>{C.listen(x,M=>{try{F(M)}catch(P){setTimeout(()=>{throw P},0)}})};return S(v,wm.EventType.OPEN,()=>{E||(It(Gi,`RPC '${t}' stream ${s} transport opened.`),A.__())}),S(v,wm.EventType.CLOSE,()=>{E||(E=!0,It(Gi,`RPC '${t}' stream ${s} transport closed`),A.u_(),this.d_(v))}),S(v,wm.EventType.ERROR,C=>{E||(E=!0,Up(Gi,`RPC '${t}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.u_(new Nt(bt.UNAVAILABLE,"The operation could not be completed")))}),S(v,wm.EventType.MESSAGE,C=>{var x;if(!E){const F=C.data[0];kn(!!F,16349);const M=F,P=(M==null?void 0:M.error)||((x=M[0])===null||x===void 0?void 0:x.error);if(P){It(Gi,`RPC '${t}' stream ${s} received error:`,P);const V=P.status;let W=function(N){const T=Jn[N];if(T!==void 0)return mF(T)}(V),D=P.message;W===void 0&&(W=bt.INTERNAL,D="Unknown error status: "+V+" with message "+P.message),E=!0,A.u_(new Nt(W,D)),v.close()}else It(Gi,`RPC '${t}' stream ${s} received:`,F),A.c_(F)}}),S(c,FL.STAT_EVENT,C=>{C.stat===HT.PROXY?It(Gi,`RPC '${t}' stream ${s} detected buffering proxy`):C.stat===HT.NOPROXY&&It(Gi,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function eT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(i){return new cK(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(t,e,n=1e3,s=1.5,a=6e4){this.xi=t,this.timerId=e,this.A_=n,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),s=Math.max(0,e-n);s>0&&It("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="PersistentStream";class tY{constructor(t,e,n,s,a,l,c,h){this.xi=t,this.S_=n,this.D_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new PF(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===bt.RESOURCE_EXHAUSTED?(El(e.toString()),El("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.v_===e&&this.z_(n,s)},n=>{t(()=>{const s=new Nt(bt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(s)})})}z_(t,e){const n=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{n(()=>this.j_(s))}),this.stream.onMessage(s=>{n(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return It(pO,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(It(pO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eY extends tY{constructor(t,e,n,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,l),this.serializer=a}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=hK(this.serializer,t),n=function(a){if(!("targetChange"in a))return ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ie.min():l.readTime?Cf(l.readTime):ie.min()}(t);return this.listener.Y_(e,n)}Z_(t){const e={};e.database=aO(this.serializer),e.addTarget=function(a,l){let c;const h=l.target;if(c=KT(h)?{documents:dK(a,h)}:{query:fK(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bF(a,l.resumeToken);const d=JT(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ie.min())>0){c.readTime=t1(a,l.snapshotVersion.toTimestamp());const d=JT(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const n=gK(this.serializer,t);n&&(e.labels=n),this.Q_(e)}X_(t){const e={};e.database=aO(this.serializer),e.removeTarget=t,this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{}class iY extends nY{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Nt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,n,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(t,e1(e,n),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Nt(bt.UNKNOWN,a.toString())})}Yo(t,e,n,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(t,e1(e,n),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(bt.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class sY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(El(e),this.ua=!1):It("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="RemoteStore";class rY{constructor(t,e,n,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{n.enqueueAndForget(async()=>{Yv(this)&&(It($p,"Restarting streams for network reachability change."),await async function(h){const d=Ce(h);d.da.add(4),await Kv(d),d.Va.set("Unknown"),d.da.delete(4),await hA(d)}(this))})}),this.Va=new sY(n,s)}}async function hA(i){if(Yv(i))for(const t of i.Aa)await t(!0)}async function Kv(i){for(const t of i.Aa)await t(!1)}function MF(i,t){const e=Ce(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),GC(e)?qC(e):rg(e).N_()&&$C(e,t))}function HC(i,t){const e=Ce(i),n=rg(e);e.Ea.delete(t),n.N_()&&OF(e,t),e.Ea.size===0&&(n.N_()?n.k_():Yv(e)&&e.Va.set("Unknown"))}function $C(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}rg(i).Z_(t)}function OF(i,t){i.ma.Ke(t),rg(i).X_(t)}function qC(i){i.ma=new rK({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),rg(i).start(),i.Va.ca()}function GC(i){return Yv(i)&&!rg(i).O_()&&i.Ea.size>0}function Yv(i){return Ce(i).da.size===0}function DF(i){i.ma=void 0}async function aY(i){i.Va.set("Online")}async function oY(i){i.Ea.forEach((t,e)=>{$C(i,t)})}async function lY(i,t){DF(i),GC(i)?(i.Va.Pa(t),qC(i)):i.Va.set("Unknown")}async function cY(i,t,e){if(i.Va.set("Online"),t instanceof vF&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(i,t)}catch(n){It($p,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gO(i,n)}else if(t instanceof s_?i.ma.Xe(t):t instanceof yF?i.ma.ot(t):i.ma.nt(t),!e.isEqual(ie.min()))try{const n=await kF(i.localStore);e.compareTo(n)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ea.get(d);p&&a.Ea.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=a.Ea.get(h);if(!p)return;a.Ea.set(h,p.withResumeToken(ji.EMPTY_BYTE_STRING,p.snapshotVersion)),OF(a,h);const v=new Vc(p.target,h,d,p.sequenceNumber);$C(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(i,e)}catch(n){It($p,"Failed to raise snapshot:",n),await gO(i,n)}}async function gO(i,t,e){if(!ng(t))throw t;i.da.add(1),await Kv(i),i.Va.set("Offline"),e||(e=()=>kF(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{It($p,"Retrying IndexedDB access"),await e(),i.da.delete(1),await hA(i)})}async function mO(i,t){const e=Ce(i);e.asyncQueue.verifyOperationInProgress(),It($p,"RemoteStore received new credentials");const n=Yv(e);e.da.add(3),await Kv(e),n&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await hA(e)}async function uY(i,t){const e=Ce(i);t?(e.da.delete(2),await hA(e)):t||(e.da.add(2),await Kv(e),e.Va.set("Unknown"))}function rg(i){return i.fa||(i.fa=function(e,n,s){const a=Ce(e);return a.oa(),new eY(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{e_:aY.bind(null,i),n_:oY.bind(null,i),i_:lY.bind(null,i),Y_:cY.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),GC(i)?qC(i):i.Va.set("Unknown")):(await i.fa.stop(),DF(i))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,e,n,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new $h,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,a){const l=Date.now()+n,c=new WC(t,e,l,s,a);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NF(i,t){if(El("AsyncQueue",`${t}: ${i}`),ng(i))return new Nt(bt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{static emptySet(t){return new Rf(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Xt.comparator(e.key,n.key):(e,n)=>Xt.comparator(e.key,n.key),this.keyedMap=Tm(),this.sortedSet=new qn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Rf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Rf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.pa=new qn(Xt.comparator)}track(t){const e=t.doc.key,n=this.pa.get(e);n?t.type!==0&&n.type===3?this.pa=this.pa.insert(e,t):t.type===3&&n.type!==1?this.pa=this.pa.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.pa=this.pa.remove(e):t.type===1&&n.type===2?this.pa=this.pa.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):se(63341,{Vt:t,ya:n}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,n)=>{t.push(n)}),t}}class qp{constructor(t,e,n,s,a,l,c,h,d){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,n,s,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new qp(t,e,Rf.emptySet(e),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class dY{constructor(){this.queries=vO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=Ce(e),a=s.queries;s.queries=vO(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(n)})})(this,new Nt(bt.ABORTED,"Firestore shutting down"))}}function vO(){return new rd(i=>aF(i),rA)}async function fY(i,t){const e=Ce(i);let n=3;const s=t.query;let a=e.queries.get(s);a?!a.Da()&&t.va()&&(n=2):(a=new hY,n=t.va()?0:1);try{switch(n){case 0:a.ba=await e.onListen(s,!0);break;case 1:a.ba=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const c=NF(l,`Initialization of query '${cf(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,a),a.Sa.push(t),t.Fa(e.onlineState),a.ba&&t.Ma(a.ba)&&KC(e)}async function pY(i,t){const e=Ce(i),n=t.query;let s=3;const a=e.queries.get(n);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.va()?0:1:!a.Da()&&t.va()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function gY(i,t){const e=Ce(i);let n=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const c of l.Sa)c.Ma(s)&&(n=!0);l.ba=s}}n&&KC(e)}function mY(i,t,e){const n=Ce(i),s=n.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);n.queries.delete(t)}function KC(i){i.Ca.forEach(t=>{t.next()})}var s1,bO;(bO=s1||(s1={})).xa="default",bO.Cache="cache";class yY{constructor(t,e,n){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new qp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const n=e!=="Offline";return(!this.options.Qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=qp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==s1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(t){this.key=t}}class FF{constructor(t){this.key=t}}class vY{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ie(),this.mutatedKeys=Ie(),this.Za=oF(t),this.Xa=new Rf(this.Za)}get eu(){return this.Ha}tu(t,e){const n=e?e.nu:new yO,s=e?e.Xa:this.Xa;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,v)=>{const b=s.get(p),E=aA(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;b&&E?b.data.isEqual(E.data)?A!==S&&(n.track({type:3,doc:E}),C=!0):this.ru(b,E)||(n.track({type:2,doc:E}),C=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(c=!0)):!b&&E?(n.track({type:0,doc:E}),C=!0):b&&!E&&(n.track({type:1,doc:b}),C=!0,(h||d)&&(c=!0)),C&&(E?(l=l.add(E),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Xa:l,nu:n,Cs:c,mutatedKeys:a}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const a=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const l=t.nu.wa();l.sort((p,v)=>function(E,A){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:C})}};return S(E)-S(A)}(p.type,v.type)||this.Za(p.doc,v.doc)),this.iu(n),s=s!=null&&s;const c=e&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new qp(this.query,t.Xa,a,l,t.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new yO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ie(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const e=[];return t.forEach(n=>{this.Ya.has(n)||e.push(new FF(n))}),this.Ya.forEach(n=>{t.has(n)||e.push(new LF(n))}),e}au(t){this.Ha=t.$s,this.Ya=Ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return qp.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const YC="SyncEngine";class bY{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class _Y{constructor(t){this.key=t,this.cu=!1}}class EY{constructor(t,e,n,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new rd(c=>aF(c),rA),this.Pu=new Map,this.Tu=new Set,this.Iu=new qn(Xt.comparator),this.Eu=new Map,this.du=new UC,this.Au={},this.Ru=new Map,this.Vu=Hp.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function AY(i,t,e=!0){const n=jF(i);let s;const a=n.hu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await VF(n,t,e,!0),s}async function SY(i,t){const e=jF(i);await VF(e,t,!0,!1)}async function VF(i,t,e,n){const s=await GK(i.localStore,Ya(t)),a=s.targetId,l=i.sharedClientState.addLocalQueryTarget(a,e);let c;return n&&(c=await wY(i,t,a,l==="current",s.resumeToken)),i.isPrimaryClient&&e&&MF(i.remoteStore,s),c}async function wY(i,t,e,n,s){i.fu=(v,b,E)=>async function(S,C,x,F){let M=C.view.tu(x);M.Cs&&(M=await uO(S.localStore,C.query,!1).then(({documents:D})=>C.view.tu(D,M)));const P=F&&F.targetChanges.get(C.targetId),V=F&&F.targetMismatches.get(C.targetId)!=null,W=C.view.applyChanges(M,S.isPrimaryClient,P,V);return EO(S,C.targetId,W.ou),W.snapshot}(i,v,b,E);const a=await uO(i.localStore,t,!0),l=new vY(t,a.$s),c=l.tu(a.documents),h=Wv.createSynthesizedTargetChangeForCurrentChange(e,n&&i.onlineState!=="Offline",s),d=l.applyChanges(c,i.isPrimaryClient,h);EO(i,e,d.ou);const p=new bY(t,e,l);return i.hu.set(t,p),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),d.snapshot}async function TY(i,t,e){const n=Ce(i),s=n.hu.get(t),a=n.Pu.get(s.targetId);if(a.length>1)return n.Pu.set(s.targetId,a.filter(l=>!rA(l,t))),void n.hu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await n1(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),e&&HC(n.remoteStore,s.targetId),r1(n,s.targetId)}).catch(eA)):(r1(n,s.targetId),await n1(n.localStore,s.targetId,!0))}async function xY(i,t){const e=Ce(i),n=e.hu.get(t),s=e.Pu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),HC(e.remoteStore,n.targetId))}async function UF(i,t){const e=Ce(i);try{const n=await $K(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Eu.get(a);l&&(kn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?kn(l.cu,14607):s.removedDocuments.size>0&&(kn(l.cu,42227),l.cu=!1))}),await zF(e,n,t)}catch(n){await eA(n)}}function _O(i,t,e){const n=Ce(i);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.hu.forEach((a,l)=>{const c=l.view.Fa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ce(l);h.onlineState=c;let d=!1;h.queries.forEach((p,v)=>{for(const b of v.Sa)b.Fa(c)&&(d=!0)}),d&&KC(h)}(n.eventManager,t),s.length&&n.lu.Y_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function CY(i,t,e){const n=Ce(i);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Eu.get(t),a=s&&s.key;if(a){let l=new qn(Xt.comparator);l=l.insert(a,es.newNoDocument(a,ie.min()));const c=Ie().add(a),h=new cA(ie.min(),new Map,new qn(ye),l,c);await UF(n,h),n.Iu=n.Iu.remove(a),n.Eu.delete(t),XC(n)}else await n1(n.localStore,t,!1).then(()=>r1(n,t,e)).catch(eA)}function r1(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.Pu.get(t))i.hu.delete(n),e&&i.lu.gu(n,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(n=>{i.du.containsKey(n)||BF(i,n)})}function BF(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(HC(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),XC(i))}function EO(i,t,e){for(const n of e)n instanceof LF?(i.du.addReference(n.key,t),RY(i,n)):n instanceof FF?(It(YC,"Document no longer in limbo: "+n.key),i.du.removeReference(n.key,t),i.du.containsKey(n.key)||BF(i,n.key)):se(19791,{pu:n})}function RY(i,t){const e=t.key,n=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(n)||(It(YC,"New document in limbo: "+e),i.Tu.add(n),XC(i))}function XC(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Xt(Rn.fromString(t)),n=i.Vu.next();i.Eu.set(n,new _Y(e)),i.Iu=i.Iu.insert(e,n),MF(i.remoteStore,new Vc(Ya(sF(e.path)),n,"TargetPurposeLimboResolution",nA.le))}}async function zF(i,t,e){const n=Ce(i),s=[],a=[],l=[];n.hu.isEmpty()||(n.hu.forEach((c,h)=>{l.push(n.fu(h,t,e).then(d=>{var p;if((d||e)&&n.isPrimaryClient){const v=d?!d.fromCache:(p=e==null?void 0:e.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(d){s.push(d);const v=zC.Rs(h.targetId,d);a.push(v)}}))}),await Promise.all(l),n.lu.Y_(s),await async function(h,d){const p=Ce(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>yt.forEach(d,b=>yt.forEach(b.ds,E=>p.persistence.referenceDelegate.addReference(v,b.targetId,E)).next(()=>yt.forEach(b.As,E=>p.persistence.referenceDelegate.removeReference(v,b.targetId,E)))))}catch(v){if(!ng(v))throw v;It(jC,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const E=p.xs.get(b),A=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(A);p.xs=p.xs.insert(b,S)}}}(n.localStore,a))}async function IY(i,t){const e=Ce(i);if(!e.currentUser.isEqual(t)){It(YC,"User change. New user:",t.toKey());const n=await IF(e.localStore,t);e.currentUser=t,function(a,l){a.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Nt(bt.CANCELLED,l))})}),a.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await zF(e,n.ks)}}function kY(i,t){const e=Ce(i),n=e.Eu.get(t);if(n&&n.cu)return Ie().add(n.key);{let s=Ie();const a=e.Pu.get(t);if(!a)return s;for(const l of a){const c=e.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function jF(i){const t=Ce(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=UF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CY.bind(null,t),t.lu.Y_=gY.bind(null,t.eventManager),t.lu.gu=mY.bind(null,t.eventManager),t}class aE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uA(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return HK(this.persistence,new BK,t.initialUser,this.serializer)}Su(t){return new RF(BC.fi,this.serializer)}bu(t){return new KK}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}aE.provider={build:()=>new aE};class PY extends aE{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){kn(this.persistence.referenceDelegate instanceof rE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new TK(n,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new RF(n=>rE.fi(n,e),this.serializer)}}class a1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>_O(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=IY.bind(null,this.syncEngine),await uY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dY}()}createDatastore(t){const e=uA(t.databaseInfo.databaseId),n=function(a){return new JK(a)}(t.databaseInfo);return function(a,l,c,h){return new iY(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,s,a,l,c){return new rY(n,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,e=>_O(this.syncEngine,e,0),function(){return fO.C()?new fO:new YK}())}createSyncEngine(t,e){return function(s,a,l,c,h,d,p){const v=new EY(s,a,l,c,h,d);return p&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const a=Ce(s);It($p,"RemoteStore shutting down."),a.da.add(5),await Kv(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}a1.provider={build:()=>new a1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):El("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="FirestoreClient";class OY{constructor(t,e,n,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=ts.UNAUTHENTICATED,this.clientId=hW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{It(Qc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(It(Qc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $h;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=NF(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function nT(i,t){i.asyncQueue.verifyOperationInProgress(),It(Qc,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(async s=>{n.isEqual(s)||(await IF(t.localStore,s),n=s)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function AO(i,t){i.asyncQueue.verifyOperationInProgress();const e=await DY(i);It(Qc,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>mO(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,s)=>mO(t.remoteStore,s)),i._onlineComponents=t}async function DY(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){It(Qc,"Using user provided OfflineComponentProvider");try{await nT(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===bt.FAILED_PRECONDITION||s.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Up("Error using user provided cache. Falling back to memory cache: "+e),await nT(i,new aE)}}else It(Qc,"Using default OfflineComponentProvider"),await nT(i,new PY(void 0));return i._offlineComponents}async function NY(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(It(Qc,"Using user provided OnlineComponentProvider"),await AO(i,i._uninitializedComponentsProvider._online)):(It(Qc,"Using default OnlineComponentProvider"),await AO(i,new a1))),i._onlineComponents}async function LY(i){const t=await NY(i),e=t.eventManager;return e.onListen=AY.bind(null,t.syncEngine),e.onUnlisten=TY.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=SY.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=xY.bind(null,t.syncEngine),e}function FY(i,t,e={}){const n=new $h;return i.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const p=new MY({next:b=>{p.xu(),l.enqueueAndForget(()=>pY(a,v)),b.fromCache&&h.source==="server"?d.reject(new Nt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),v=new yY(c,p,{includeMetadataChanges:!0,Qa:!0});return fY(a,v)}(await LY(i),i.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(i,t,e){if(!e)throw new Nt(bt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function UY(i,t,e,n){if(t===!0&&n===!0)throw new Nt(bt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function wO(i){if(Xt.isDocumentKey(i))throw new Nt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function dA(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":se(12329,{type:typeof i})}function o1(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Nt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=dA(i);throw new Nt(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firestore.googleapis.com",TO=!0;class xO{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Nt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$F,this.ssl=TO}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:TO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CF;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SK)throw new Nt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HF((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class QC{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Nt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new sW;switch(n.type){case"firstParty":return new lW(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Nt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=SO.get(e);n&&(It("ComponentProvider","Removing Datastore"),SO.delete(e),n.terminate())}(this),Promise.resolve()}}function BY(i,t,e,n={}){var s;i=o1(i,QC);const a=Jp(t),l=i._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),h=`${t}:${e}`;a&&(gC(`https://${h}`),mC("Firestore",!0)),l.host!==$F&&l.host!==h&&Up("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:n});if(!Gh(d,c)&&(i._setSettings(d),n.mockUserToken)){let p,v;if(typeof n.mockUserToken=="string")p=n.mockUserToken,v=ts.MOCK_USER;else{p=QN(n.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new Nt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ts(b)}i._authCredentials=new rW(new zL(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ad(this.firestore,t,this._query)}}class Tl{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new If(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Tl(this.firestore,t,this._key)}}class If extends ad{constructor(t,e,n){super(t,e,sF(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Tl(this.firestore,null,new Xt(t))}withConverter(t){return new If(this.firestore,t,this._path)}}function kf(i,t,...e){if(i=Zr(i),VY("collection","path",t),i instanceof QC){const n=Rn.fromString(t,...e);return wO(n),new If(i,null,n)}{if(!(i instanceof Tl||i instanceof If))throw new Nt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(Rn.fromString(t,...e));return wO(n),new If(i.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="AsyncQueue";class RO{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new PF(this,"async_queue_retry"),this.rc=()=>{const n=eT();n&&It(CO,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=t;const e=eT();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=eT();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new $h;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ng(t))throw t;It(CO,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(n=>{throw this.Xu=n,this.ec=!1,El("INTERNAL UNHANDLED ERROR: ",IO(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=e,e}enqueueAfterDelay(t,e,n){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const s=WC.createAndSchedule(this,t,e,n,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&se(47125,{cc:IO(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function IO(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class qF extends QC{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new RO,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RO(t),this._firestoreClient=void 0,await t}}}function zY(i,t){const e=typeof i=="object"?i:bC(),n=typeof i=="string"?i:tE,s=ZE(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=KN("firestore");a&&BY(s,...a)}return s}function jY(i){if(i._terminated)throw new Nt(bt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HY(i),i._firestoreClient}function HY(i){var t,e,n;const s=i._freezeSettings(),a=function(c,h,d,p){return new TW(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,HF(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new OY(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gp(ji.fromBase64String(t))}catch(e){throw new Nt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Gp(ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Nt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ns(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=/^__.*__$/;function KF(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ic:i})}}class tR{constructor(t,e,n,s,a,l){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new tR(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:n,Rc:!1});return s.Vc(t),s}mc(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:n,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return l1(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(KF(this.Ic)&&$Y.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class qY{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||uA(t)}bc(t,e,n,s=!1){return new tR({Ic:t,methodName:e,wc:n,path:ns.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GY(i){const t=i._freezeSettings(),e=uA(i._databaseId);return new qY(i._databaseId,!!t.ignoreUndefinedProperties,e)}function WY(i,t,e,n=!1){return eR(e,i.bc(n?4:3,t))}function eR(i,t){if(YF(i=Zr(i)))return YY("Unsupported field value:",t,i),KY(i,t);if(i instanceof WF)return function(n,s){if(!KF(s.Ic))throw s.gc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const c of n){let h=eR(c,s.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(i,t)}return function(n,s){if((n=Zr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return KW(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=mi.fromDate(n);return{timestampValue:t1(s.serializer,a)}}if(n instanceof mi){const a=new mi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:t1(s.serializer,a)}}if(n instanceof ZC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gp)return{bytesValue:bF(s.serializer,n._byteString)};if(n instanceof Tl){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_F(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof JC)return function(l,c){return{mapValue:{fields:{[XL]:{stringValue:QL},[eE]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return NC(c.serializer,d)})}}}}}}(n,s);throw s.gc(`Unsupported field value: ${dA(n)}`)}(i,t)}function KY(i,t){const e={};return $L(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ig(i,(n,s)=>{const a=eR(s,t.Ac(n));a!=null&&(e[n]=a)}),{mapValue:{fields:e}}}function YF(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mi||i instanceof ZC||i instanceof Gp||i instanceof Tl||i instanceof WF||i instanceof JC)}function YY(i,t,e){if(!YF(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const n=dA(e);throw n==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+n)}}const XY=new RegExp("[~\\*/\\[\\]]");function QY(i,t,e){if(t.search(XY)>=0)throw l1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new GF(...t.split("."))._internalPath}catch{throw l1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function l1(i,t,e,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${n}`),l&&(h+=` in document ${s}`),h+=")"),new Nt(bt.INVALID_ARGUMENT,c+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t,e,n,s,a){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ZY extends XF{data(){return super.data()}}function fA(i,t){return typeof t=="string"?QY(i,t):t instanceof GF?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Nt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nR{}class QF extends nR{}function Pf(i,t,...e){let n=[];t instanceof nR&&n.push(t),n=n.concat(e),function(a){const l=a.filter(h=>h instanceof iR).length,c=a.filter(h=>h instanceof pA).length;if(l>1||l>0&&c>0)throw new Nt(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)i=s._apply(i);return i}class pA extends QF{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new pA(t,e,n)}_apply(t){const e=this._parse(t);return t4(t._query,e),new ad(t.firestore,t.converter,YT(t._query,e))}_parse(t){const e=GY(t.firestore);return function(a,l,c,h,d,p,v){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Nt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){PO(v,p);const A=[];for(const S of v)A.push(kO(h,a,S));b={arrayValue:{values:A}}}else b=kO(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||PO(v,p),b=WY(c,l,v,p==="in"||p==="not-in");return ni.create(d,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ZF(i,t,e){const n=t,s=fA("where",i);return pA._create(s,n,e)}class iR extends nR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new iR(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:Jr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)t4(l,h),l=YT(l,h)}(t._query,e),new ad(t.firestore,t.converter,YT(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sR extends QF{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new sR(t,e)}_apply(t){const e=function(s,a,l){if(s.startAt!==null)throw new Nt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Nt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dy(a,l)}(t._query,this._field,this._direction);return new ad(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new sg(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function JF(i,t="asc"){const e=t,n=fA("orderBy",i);return sR._create(n,e)}function kO(i,t,e){if(typeof(e=Zr(e))=="string"){if(e==="")throw new Nt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rF(t)&&e.indexOf("/")!==-1)throw new Nt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Rn.fromString(e));if(!Xt.isDocumentKey(n))throw new Nt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return qM(i,new Xt(n))}if(e instanceof Tl)return qM(i,e._key);throw new Nt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dA(e)}.`)}function PO(i,t){if(!Array.isArray(i)||i.length===0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function t4(i,t){const e=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Nt(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Nt(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class tX{convertValue(t,e="none"){switch(Yc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Kc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw se(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return ig(t,(s,a)=>{n[s]=this.convertValue(a,e)}),n}convertVectorValue(t){var e,n,s;const a=(s=(n=(e=t.fields)===null||e===void 0?void 0:e[eE].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(l=>Hn(l.doubleValue));return new JC(a)}convertGeoPoint(t){return new ZC(Hn(t.latitude),Hn(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=sA(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(cy(t));default:return null}}convertTimestamp(t){const e=Wc(t);return new mi(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Rn.fromString(t);kn(xF(n),9688,{name:t});const s=new uy(n.get(1),n.get(3)),a=new Xt(n.popFirst(5));return s.isEqual(e)||El(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eX extends XF{constructor(t,e,n,s,a,l){super(t,e,n,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new r_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(fA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class r_ extends eX{data(t={}){return super.data(t)}}class nX{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new L0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new r_(this._firestore,this._userDataWriter,n.key,n,new L0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new r_(s._firestore,s._userDataWriter,c.doc.key,c.doc,new L0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new r_(s._firestore,s._userDataWriter,c.doc.key,c.doc,new L0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:iX(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function iX(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:i})}}class sX extends tX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tl(this.firestore,null,e)}}function Mf(i){i=o1(i,ad);const t=o1(i.firestore,qF),e=jY(t),n=new sX(t);return JY(i._query),FY(e,i._query).then(s=>new nX(t,n,i,s))}(function(t,e=!0){(function(s){eg=s})(sd),Wh(new qc("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new qF(new aW(n.getProvider("auth-internal")),new cW(l,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Nt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uy(d.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ga(OM,DM,t),Ga(OM,DM,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="firebasestorage.googleapis.com",rX="storageBucket",aX=2*60*1e3,oX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends eo{constructor(t,e,n=0){super(iT(t),`Firebase Storage: ${e} (${iT(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,no.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return iT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Za;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Za||(Za={}));function iT(i){return"storage/"+i}function lX(){const i="An unknown error occurred, please check the error payload for server response.";return new no(Za.UNKNOWN,i)}function cX(){return new no(Za.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uX(){return new no(Za.CANCELED,"User canceled the upload/download.")}function hX(i){return new no(Za.INVALID_URL,"Invalid URL '"+i+"'.")}function dX(i){return new no(Za.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function MO(i){return new no(Za.INVALID_ARGUMENT,i)}function n4(){return new no(Za.APP_DELETED,"The Firebase app was deleted.")}function fX(i){return new no(Za.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Yr.makeFromUrl(t,e)}catch{return new Yr(t,"")}if(n.path==="")return n;throw dX(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const p="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${p}/b/${s}/o${b}`,"i"),A={bucket:1,path:3},S=e===e4?"(?:storage.googleapis.com|storage.cloud.google.com)":e,C="([^?#]*)",x=new RegExp(`^https?://${S}/${s}/${C}`,"i"),M=[{regex:c,indices:h,postModify:a},{regex:E,indices:A,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<M.length;P++){const V=M[P],W=V.regex.exec(t);if(W){const D=W[V.indices.bucket];let I=W[V.indices.path];I||(I=""),n=new Yr(D,I),V.postModify(n);break}}if(n==null)throw hX(t);return n}}class pX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(i,t,e){let n=1,s=null,a=null,l=!1,c=0;function h(){return c===2}let d=!1;function p(...C){d||(d=!0,t.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,i(E,h())},C)}function b(){a&&clearTimeout(a)}function E(C,...x){if(d){b();return}if(C){b(),p.call(null,C,...x);return}if(h()||l){b(),p.call(null,C,...x);return}n<64&&(n*=2);let M;c===1?(c=2,M=0):M=(n+Math.random())*1e3,v(M)}let A=!1;function S(C){A||(A=!0,b(),!d&&(s!==null?(C||(c=2),clearTimeout(s),v(0)):C||(c=1)))}return v(0),a=setTimeout(()=>{l=!0,S(!0)},e),S}function mX(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(i){return i!==void 0}function OO(i,t,e,n){if(n<t)throw MO(`Invalid value for '${i}'. Expected ${t} or greater.`);if(n>e)throw MO(`Invalid value for '${i}'. Expected ${e} or less.`)}function vX(i){const t=encodeURIComponent;let e="?";for(const n in i)if(i.hasOwnProperty(n)){const s=t(n)+"="+t(i[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var oE;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(oE||(oE={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(i,t){const e=i>=500&&i<600,s=[408,429].indexOf(i)!==-1,a=t.indexOf(i)!==-1;return e||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(t,e,n,s,a,l,c,h,d,p,v,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new F0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===oE.NO_ERROR,h=a.getStatus();if(!c||bX(h,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===oE.ABORT;n(!1,new F0(!1,null,p));return}const d=this.successCodes_.indexOf(h)!==-1;n(!0,new F0(d,a))})},e=(n,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());yX(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=lX();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?n4():uX();l(h)}else{const h=cX();l(h)}};this.canceled_?e(!1,new F0(!1,null,!0)):this.backoffId_=gX(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&mX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class F0{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function EX(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function AX(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function SX(i,t){t&&(i["X-Firebase-GMPID"]=t)}function wX(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function TX(i,t,e,n,s,a,l=!0,c=!1){const h=vX(i.urlParams),d=i.url+h,p=Object.assign({},i.headers);return SX(p,t),EX(p,e),AX(p,a),wX(p,n),new _X(d,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function CX(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,e){this._service=t,e instanceof Yr?this._location=e:this._location=Yr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new lE(t,e)}get root(){const t=new Yr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CX(this._location.path)}get storage(){return this._service}get parent(){const t=xX(this._location.path);if(t===null)return null;const e=new Yr(this._location.bucket,t);return new lE(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw fX(t)}}function DO(i,t){const e=t==null?void 0:t[rX];return e==null?null:Yr.makeFromBucketSpec(e,i)}function RX(i,t,e,n={}){i.host=`${t}:${e}`;const s=Jp(t);s&&(gC(`https://${i.host}`),mC("Storage",!0)),i._isUsingEmulator=!0,i._protocol=s?"https":"http";const{mockUserToken:a}=n;a&&(i._overrideAuthToken=typeof a=="string"?a:QN(a,i.app.options.projectId))}class IX{constructor(t,e,n,s,a,l=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=e4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aX,this._maxUploadRetryTime=oX,this._requests=new Set,s!=null?this._bucket=Yr.makeFromBucketSpec(s,this._host):this._bucket=DO(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,t):this._bucket=DO(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lE(this,t)}_makeRequest(t,e,n,s,a=!0){if(this._deleted)return new pX(n4());{const l=TX(t,this._appId,n,s,e,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const NO="@firebase/storage",LO="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="storage";function kX(i=bC(),t){i=Zr(i);const n=ZE(i,i4).getImmediate({identifier:t}),s=KN("storage");return s&&PX(n,...s),n}function PX(i,t,e,n={}){RX(i,t,e,n)}function MX(i,{instanceIdentifier:t}){const e=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),s=i.getProvider("app-check-internal");return new IX(e,n,s,t,sd)}function OX(){Wh(new qc(i4,MX,"PUBLIC").setMultipleInstances(!0)),Ga(NO,LO,""),Ga(NO,LO,"esm2017")}OX();const DX={apiKey:"AIzaSyCoHjDrMtMrNLllpFDZpTQw4-oq7qoalFc",authDomain:"change-lms.firebaseapp.com",projectId:"change-lms",storageBucket:"change-lms.firebasestorage.app",messagingSenderId:"172184355270",appId:"1:172184355270:web:5aa19f0480788c255bf2c7",measurementId:"G-EHMG7GZ0Z6"},rR=tL(DX);nW(rR);const Of=zY(rR);kX(rR);const FO=os(z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),NX=os(z.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"})),LX=os(z.jsx("path",{d:"M7 3H4v3H2V1h5zm15 3V1h-5v2h3v3zM7 21H4v-3H2v5h5zm13-3v3h-3v2h5v-5zm-1 0c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2zM15 8H9v2h6zm0 3H9v2h6zm0 3H9v2h6z"})),FX=os([z.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),z.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),VX=os([z.jsx("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01M4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3m16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"},"0"),z.jsx("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2"},"1")]),UX=os(z.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),BX=os([z.jsx("path",{d:"M16 10.04 12 8l-4 2.04v3.35L4 15.2V20h5v-2.04c0-1.69 1.35-3.06 3-3.06s3 1.37 3 3.06V20h5v-4.79l-4-1.81zm-4 3.46c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5",opacity:".3"},"0"),z.jsx("path",{d:"M18 12.22V9l-5-2.5V5h2V3h-2V1h-2v2H9v2h2v1.5L6 9v3.22L2 14v8h9v-4c0-.55.45-1 1-1s1 .45 1 1v4h9v-8zM20 20h-5v-2.04c0-1.69-1.35-3.06-3-3.06s-3 1.37-3 3.06V20H4v-4.79l4-1.81v-3.35L12 8l4 2.04v3.35l4 1.81z"},"1"),z.jsx("circle",{cx:"12",cy:"12",r:"1.5"},"2")]),zX=os([z.jsx("path",{d:"M17 18h1c.55 0 1-.45 1-1v-3h-2zM5 17c0 .55.45 1 1 1h1v-4H5z",opacity:".3"},"0"),z.jsx("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9M7 14v4H6c-.55 0-1-.45-1-1v-3zm12 3c0 .55-.45 1-1 1h-1v-4h2z"},"1")]),VO=os([z.jsx("path",{d:"m9.83 18 .59.59L12 20.17l1.59-1.59.58-.58H19V4H5v14zm.29-8.88L12 5l1.88 4.12L18 11l-4.12 1.88L12 17l-1.88-4.12L6 11z",opacity:".3"},"0"),z.jsx("path",{d:"M5 20h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2M5 4h14v14h-4.83l-.59.59L12 20.17l-1.59-1.59-.58-.58H5zm7 13 1.88-4.12L18 11l-4.12-1.88L12 5l-1.88 4.12L6 11l4.12 1.88z"},"1")]),jX=os([z.jsx("path",{d:"m5 18.31 3-1.16V5.45L5 6.46zm11 .24 3-1.01V5.69l-3 1.17z",opacity:".3"},"0"),z.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M8 17.15l-3 1.16V6.46l3-1.01zm6 1.38-4-1.4V5.47l4 1.4zm5-.99-3 1.01V6.86l3-1.16z"},"1")]),HX=os([z.jsx("path",{d:"M5 17h14v-5H5zm11.5-4c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5m-9 0c.83 0 1.5.67 1.5 1.5S8.33 16 7.5 16 6 15.33 6 14.5 6.67 13 7.5 13",opacity:".3"},"0"),z.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.85 7h10.29l1.04 3H5.81zM19 17H5v-5h14z"},"1"),z.jsx("circle",{cx:"7.5",cy:"14.5",r:"1.5"},"2"),z.jsx("circle",{cx:"16.5",cy:"14.5",r:"1.5"},"3")]),$X="/assets/parking_map-DAqnMtWO.png";function qX(){const i=[{time:"8:30 - 9:00",content:"  "},{time:"9:00 - 9:30",content:" "},{time:"09:30 - 11:00",content:` 
 ( )`},{time:"11:00 - 17:00",content:" ,  "},{time:"17:00 - 18:00",content:"  "},{time:"18:00 - 20:00",content:"   "},{time:"20:00 - 21:30",content:" "},{time:"21:30 - 22:00",content:"  "}];return z.jsx(St,{children:i.map((t,e)=>z.jsxs(St,{sx:{display:"flex",padding:"12px",borderBottom:"1px solid #ccc",alignItems:"flex-start"},children:[z.jsx(Lt,{sx:{width:"100px",fontWeight:"bold",flexShrink:0},variant:"body2",children:t.time}),z.jsx(Lt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:t.content})]},e))})}const GX="/assets/world_map-DcDVn5i4.png",WX="/assets/vote-BYAisUKO.png";function c1({ad_id:i}){return z.jsxs(z.Fragment,{children:[i=="outreach"&&z.jsxs(St,{className:"fullWidth advertise",children:[z.jsxs(St,{className:"advertise_content",children:[z.jsx(Lt,{variant:"ad_title",children:"  !?"}),z.jsx(Lt,{variant:"ad_description",children:"2025 :  /  "})]}),z.jsx(St,{className:"advertise_image-wrapper",children:z.jsx("img",{src:GX,className:"advertise_image"})})]}),i=="leader"&&z.jsxs(St,{className:"fullWidth advertise",sx:{marginTop:1,backgroundColor:"#92B4A7"},children:[z.jsxs(St,{className:"advertise_content",children:[z.jsx(Lt,{variant:"ad_title",children:"    "}),z.jsx(Lt,{variant:"ad_description",children:"2026  /  "})]}),z.jsx(St,{className:"advertise_image-wrapper",children:z.jsx("img",{src:WX,className:"advertise_image",style:{width:"130%"}})})]})]})}function KX(){const[i,t]=O.useState([]),[e,n]=O.useState([]),[s,a]=O.useState([]),[l,c]=O.useState({announcement:!0,prayBoard:!0,users:!0}),[h,d]=O.useState(!1),[p,v]=O.useState(!1),b=Pv();return O.useEffect(()=>{(async()=>{c(P=>({...P,announcement:!0}));const A=Pf(kf(Of,"announcements"),ZF("active","==",!0),JF("created_at","asc")),S=await Mf(A);if(S.empty)console.log("[Warning]No accouncements has been queried");else{const P=S.docs.map(V=>V.data());t(P)}c(P=>({...P,announcement:!1})),c(P=>({...P,prayBoard:!0}));const C=Pf(kf(Of,"pray_board")),x=await Mf(C);if(x.empty)console.log("[Warning]No Prays");else{const P=x.docs.map(V=>V.data());n(P)}c(P=>({...P,prayBoard:!1})),c(P=>({...P,users:!0})),c(P=>({...P,users:!0}));const F=Pf(kf(Of,"users")),M=await Mf(F);if(!M.empty){const P=M.docs.map(V=>V.data());a(P)}c(P=>({...P,users:!1}))})()},[]),O.useEffect(()=>{console.log(l)},[l]),z.jsxs(St,{className:"wrapper",children:[z.jsx(XE,{}),z.jsx(St,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0},children:z.jsx(Lt,{variant:"body1",children:" "})}),z.jsxs(St,{className:"fullWidth announcementArea flex-left",children:[l.announcement&&z.jsx(DT,{variant:"rectangular",className:"announcementDocument",animation:"wave"}),i?i.map(E=>z.jsxs(St,{className:"announcementDocument",children:[z.jsx(Lt,{variant:"announcePreviewTitle",children:E.title}),z.jsx(Lt,{variant:"announcePreviewContent",children:E.content}),z.jsxs(DN,{variant:"text",size:"small",sx:{mt:"auto",alignSelf:"flex-start",color:"#00002F",p:0,display:"flex",justifyContent:"flex-start"},onClick:()=>{alert("   ")},children:[" ",">"]})]},`announcement-${E.title}`)):z.jsx(St,{children:z.jsx(Lt,{children:"No Announcement"})})]}),z.jsxs(St,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:3},children:[z.jsxs(St,{className:"external-linkbox",onClick:()=>{window.open("http://www.jeongeui.com","_blank")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(BX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{window.open("https://youtube.com/playlist?list=PLCOgZLj-whreTVYXkuQRv_Mx0O2j5A9vW&feature=shared","_blank")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(zX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{b("/pray")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(VO,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{window.open("https://map.naver.com","_blank")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(jX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{v(!0)},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(HX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]})]}),z.jsxs(St,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:1},children:[z.jsxs(St,{className:"external-linkbox",onClick:()=>{alert("   ")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(VX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{alert("   ")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(UX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{alert("   ")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(NX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{b("/workbook")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(LX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{d(!0)},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(FX,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Lt,{variant:"blacksmall",children:""}),z.jsx(Lt,{variant:"blacksmall",children:""})]})]})]}),z.jsxs(St,{sx:{marginTop:"5vh"},children:[z.jsx(c1,{ad_id:"outreach"}),z.jsx(c1,{ad_id:"leader"})]}),z.jsxs(St,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0,marginTop:3,justifyContent:"space-between",alignItems:"flex-end"},children:[z.jsxs(St,{sx:{display:"flex",alignItems:"center"},children:[z.jsx(VO,{sx:{color:"#FAC656",mr:.5}}),z.jsx(Lt,{variant:"body1",children:""})]}),z.jsxs(Lt,{variant:"toDetail",onClick:()=>{b("/pray")},children:["more ",">"]})]}),l.prayBoard?z.jsx(DT,{variant:"rectangular",className:"boardPreview",animation:"wave"}):z.jsx(St,{className:"boardPreview",children:e?e.map(E=>{var A;return z.jsxs(St,{sx:{display:"flex",justifyContent:"space-between"},children:[z.jsxs(St,{sx:{display:"flex",alignItems:"center"},children:[z.jsx(St,{sx:{marginRight:1},children:z.jsx(Lt,{variant:"boardPreview_title",children:E.title})}),z.jsx(St,{sx:{display:"flex",alignItems:"center",maxWidth:"50%"},children:z.jsx(Lt,{variant:"boardPreview_detail",children:E.content})})]}),s&&z.jsx(St,{sx:{minWidth:"32px"},children:z.jsx(Lt,{variant:"boardPreview_author",children:(A=s.filter(S=>S.student_id==E.author_id)[0])==null?void 0:A.name})})]},`pray_${E.created_at}`)}):z.jsx(St,{className:"fully_centeralize fullSize",sx:{height:"120px"},children:z.jsx(Lt,{children:"No Prays"})})}),z.jsxs(WP,{open:h,onClose:()=>d(!1),fullWidth:!0,maxWidth:"sm",children:[z.jsxs(KP,{sx:{m:0,p:2},children:[" ",z.jsx(VP,{"aria-label":"close",onClick:()=>d(!1),sx:{position:"absolute",right:8,top:8,color:E=>E.palette.grey[500]},children:z.jsx(FO,{})})]}),z.jsx(St,{sx:{p:2},children:z.jsx(qX,{})})]}),z.jsxs(WP,{open:p,onClose:()=>v(!1),fullWidth:!0,maxWidth:"sm",children:[z.jsxs(KP,{sx:{m:0,p:2},children:["",z.jsx(VP,{"aria-label":"close",onClick:()=>v(!1),sx:{position:"absolute",right:8,top:8,color:E=>E.palette.grey[500]},children:z.jsx(FO,{})})]}),z.jsxs(St,{sx:{p:2},children:[z.jsxs(St,{sx:{display:"flex"},children:[z.jsx(Lt,{sx:{mr:1},variant:"body2",children:""}),z.jsxs(Lt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:[" 8~ 11 ",`
`,"  ."," "]})]}),z.jsxs(St,{sx:{display:"flex"},children:[z.jsx(Lt,{sx:{mr:1},variant:"body2",children:""}),z.jsx(Lt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:"   ."})]}),z.jsxs(St,{sx:{display:"flex"},children:[z.jsx(Lt,{sx:{mr:1},variant:"body2",children:""}),z.jsxs(Lt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:["     ",`
`,"   ."]})]})]}),z.jsx("img",{src:$X})]}),z.jsxs(St,{className:"fullWidth",sx:{mt:2,mb:1,borderTop:"0.5px gray solid"},children:[z.jsx(St,{sx:{height:"2.4vw"},children:z.jsx(Lt,{variant:"footerinfo",children:"Ver0.1.1 | Copyright @DENVER |Design assisted by Sandy, Lim. Eunseo, Choo."})}),z.jsx(St,{sx:{height:"2.4vw"},children:z.jsx(Lt,{variant:"footerinfo",children:"Published for @ , 2025,."})}),z.jsx(St,{sx:{height:"2.4vw"},children:z.jsx(Lt,{variant:"footerinfo",children:"Contact us | fe.dev.denver@gmail.com or   "})})]})]})}const s4=O.createContext(null),YX=({children:i})=>{const[t,e]=O.useState(null),[n,s]=O.useState(!0);return O.useEffect(()=>{const a=localStorage.getItem("user");a&&e(JSON.parse(a)),s(!1)},[]),z.jsx(s4.Provider,{value:{user:t,setUser:e,loading:n},children:i})},r4=()=>O.useContext(s4);function XX(){const[i,t]=O.useState(""),[e,n]=O.useState(""),{setUser:s}=r4(),a=async()=>{const l=Pf(kf(Of,"users"),ZF("student_id","==",i)),c=await Mf(l);if(c.empty)n("  .");else{const h=c.docs[0].data();console.log(h),s(h),localStorage.setItem("user",JSON.stringify(h)),window.location.href="/"}};return z.jsxs(St,{className:"wrapper centeralize",sx:{height:"100dvh",mt:"-60px"},children:[z.jsx(St,{sx:{position:"absolute",top:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:z.jsx(Lt,{variant:"subtitle_extrasmall",children:"THEREFORE, I URGE YOU, BROTHERS, IN VIEW OF GOD'S MERCY, TO OFFER YOUR BODIES AS LIVING SACRIFICES, HOLY AND PLEASING TO GOD--THIS IS YOURN SPIRITUAL ACT OF WORSHIP."})}),z.jsx(Lt,{className:"subtitle",variant:"subtitle_small",children:"2025 SUMMER RETREAT"}),z.jsx(Lt,{className:"subtitle",variant:"subtitle_big",children:"CHANGE"}),z.jsx(Lt,{className:"subtitle",variant:"subtitle_small",children:"GOD'S WILL JEONGEUI YOUTH"}),z.jsxs(St,{sx:{paddingLeft:10,paddingRight:10,boxSizing:"border-box"},children:[z.jsx(E8,{label:"",fullWidth:!0,margin:"normal",value:i,onChange:l=>t(l.target.value),variant:"standard"}),e&&z.jsx(Lt,{color:"error",mt:1,children:e}),z.jsx(DN,{variant:"contained",fullWidth:!0,sx:{mt:2,bgcolor:i?"error.main":"grey.400",color:i?"common.white":"grey.700","&:hover":{bgcolor:i?"error.dark":"grey.500"}},onClick:a,children:""})]}),z.jsx(St,{sx:{position:"absolute",bottom:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:z.jsxs(Lt,{variant:"subtitle_extrasmall",children:["DO NOT CONFORM ANY LONGER TO THE PATTERN OF THIS WORLD, BUT BE TRANSFORMED BY THE RENEWING OF YOUR MIND, THEN YOU WILL BE ABLE TO TEST AND APPROVE WHAT GOD'S WILL IS--HIS GOOD, PLEASING AND PERFECT WILL. ","[","ROMANS 12:1-2","]"]})})]})}function V0({children:i}){const{user:t,loading:e}=r4(),n=Pv();return O.useEffect(()=>{!e&&!t&&n("/signin")},[t,e,n]),e?z.jsx("div",{children:"Loading..."}):z.jsx(z.Fragment,{children:t?i:null})}const QX=$E({components:{MuiTextField:{defaultProps:{variant:"standard"}},MuiInput:{styleOverrides:{root:{color:"white","&:before":{borderBottom:"1px solid #fff"},"&:hover:not(.Mui-disabled):before":{borderBottom:"1px solid #ddd"},"&:after":{borderBottom:"2px solid #FAC656"}}}},MuiInputLabel:{styleOverrides:{root:{color:"#fff","&.Mui-focused":{color:"#FAC656"}}}}},typography:{body1:{fontSize:"20px",fontWeight:600,fontFamily:'"Pretendard", sans-serif',color:"#FAC656"},subtitle1:{fontSize:"18px",fontWeight:700,fontFamily:'"Pretendard", sans-serif'},announcePreviewTitle:{fontSize:"16px",fontWeight:800,fontFamily:'"Pretendard", sans-serif',color:"#00002F"},announcePreviewContent:{fontSize:"14px",fontWeight:400,fontFamily:'"Pretendard", sans-serif',color:"#00002F",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineClamp:2,boxOrient:"vertical",display:"-webkit-box"},blacksmall:{fontSize:"14px",color:"#F5F5DC",fontFamily:'"Pretendard", sans-serif',lineHeight:"1.1"},ad_title:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"17.5px",fontWeight:900,fontFamily:'"Pretendard", sans-serif'},ad_description:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"11.7px",fontWeight:600,fontFamily:'"Pretendard", sans-serif'},toDetail:{fontSize:"12px",color:"grey",fontWeight:"bold",fontFamily:'"Pretendard", sans-serif'},boardPreview_title:{color:"#000",fontSize:"14px",fontFamily:'"Pretendard", sans-serif'},boardPreview_detail:{fontSize:"12px",color:"gray",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",lineClamp:1,boxOrient:"vertical",display:"-webkit-box",fontFamily:' "Pretendard", sans-serif'},boardPreview_author:{fontSize:"12px",color:"gray",overflow:"hidden",fontFamily:'"Pretendard", sans-serif'},boardTitle:{fontSize:"16px",fontWeight:900,color:"#FAC656",fontFamily:'"Pretendard", sans-serif'},boardContent:{fontSize:"14px",whiteSpace:"pre-line",textOverflow:"ellipsis",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineClamp:3,boxOrient:"vertical",display:"-webkit-box",overflow:"hidden",color:"#FFF",fontFamily:'"Pretendard", sans-serif'},boardMetadata:{fontSize:"14px",color:"#DADADA"},subtitle_extrasmall:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"14px",fontWeight:"bold",lineHeight:1},subtitle_small:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"20px",fontWeight:"bold",lineHeight:1},subtitle_big:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"64px",fontWeight:"bold",lineHeight:1},header:{color:"#FAC656",fontSize:"32px",fontWeight:"bold",lineHeight:1,fontFamily:'"Staatliches", "Pretendard", sans-serif'},header_small:{color:"#FAC656",fontSize:"12px",fontWeight:"bold",lineHeight:1,fontStretch:"57%",fontFamily:'"Staatliches", "Pretendard", sans-serif'},footerinfo:{color:"#FFF",fontSize:"2.2vw",fontFamily:'"Pretendard", sans-serif'}}}),a4=os(z.jsx("path",{d:"M12 3 4 9v12h5v-7h6v7h5V9z"}));function ZX(){const i=Pv();return z.jsx(St,{className:"leftBottom_floating fully_centeralize homebutton",onClick:()=>{i("/")},children:z.jsx(a4,{fontSize:"large",sx:{color:"#1a1c21"}})})}function JX(){const[i,t]=O.useState([]),[e,n]=O.useState([]),[s,a]=O.useState(!0);O.useEffect(()=>{(async()=>{a(!0);const h=Pf(kf(Of,"pray_board"),JF("created_at")),d=await Mf(h);if(d.empty)console.log("[Warning]No Prays");else{const b=d.docs.map(E=>E.data());t(b)}const p=Pf(kf(Of,"users")),v=await Mf(p);if(!v.empty){const b=v.docs.map(E=>E.data());n(b)}a(!1)})()},[]);const l=c=>{const d=mi.now().seconds-c.seconds;return d<60?`${Math.floor(d)} `:d<3600?`${Math.floor(d/60)} `:`${Math.floor(d/86400)} `};return z.jsxs(St,{className:"wrapper",children:[z.jsx(XE,{subtitle:""}),z.jsx(c1,{ad_id:"outreach"}),s?z.jsx(DT,{variant:"rectangular",animation:"wave",className:"fullWidth",sx:{mt:2,minHeight:"300px",borderRadius:3}}):z.jsx(St,{className:"fullWidth",sx:{mt:2},children:i==null?void 0:i.map(c=>{var h;return z.jsxs(St,{className:"boardCard",children:[z.jsx(Lt,{variant:"boardTitle",children:c.title}),z.jsx(Lt,{variant:"boardContent",children:c.content}),z.jsx(St,{sx:{mt:1},children:z.jsxs(Lt,{variant:"boardMetadata",children:[l(c.created_at)," | ",c.author_id,"(",(h=e.filter(d=>d.student_id==c.author_id)[0])==null?void 0:h.name,")"]})})]},`pray_${c.created_at}`)})}),z.jsx(ZX,{})]})}function tQ({boardType:i=" "}){return z.jsx(St,{className:"wrapper",children:z.jsx(XE,{subtitle:i})})}const eQ="modulepreload",nQ=function(i){return"/"+i},UO={},U0=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let l=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(e.map(d=>{if(d=nQ(d),d in UO)return;UO[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":eQ,p||(b.as="script"),b.crossOrigin="",b.href=d,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((E,A)=>{b.addEventListener("load",E),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var Zm={};Zm.d=(i,t)=>{for(var e in t)Zm.o(t,e)&&!Zm.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};Zm.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var re=globalThis.pdfjsLib={};Zm.d(re,{AbortException:()=>ld,AnnotationEditorLayer:()=>Ex,AnnotationEditorParamsType:()=>ne,AnnotationEditorType:()=>le,AnnotationEditorUIManager:()=>Qh,AnnotationLayer:()=>tJ,AnnotationMode:()=>cc,ColorPicker:()=>dE,DOMSVGFactory:()=>yR,DrawLayer:()=>Tx,FeatureTest:()=>ms,GlobalWorkerOptions:()=>al,ImageKind:()=>a_,InvalidPDFException:()=>l4,MissingPDFException:()=>od,OPS:()=>Mr,OutputScale:()=>p1,PDFDataRangeTransport:()=>s3,PDFDateString:()=>uR,PDFWorker:()=>Nf,PasswordResponses:()=>aQ,PermissionFlag:()=>rQ,PixelsPerInch:()=>Zc,RenderingCancelledException:()=>lR,TextLayer:()=>j1,UnexpectedResponseException:()=>vA,Util:()=>Ft,VerbosityLevel:()=>gA,XfaLayer:()=>a3,build:()=>DZ,createValidAbsoluteUrl:()=>uQ,fetchData:()=>_A,getDocument:()=>TZ,getFilenameFromUrl:()=>bQ,getPdfFilenameFromUrl:()=>_Q,getXfaPageViewport:()=>EQ,isDataScheme:()=>EA,isPdfFile:()=>cR,noContextMenu:()=>wr,normalizeUnicode:()=>mQ,setLayerDimensions:()=>Xh,shadow:()=>Ae,version:()=>OZ});const ss=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),o4=[1,0,0,1,0,0],u1=[.001,0,0,.001,0,0],iQ=1e7,sT=1.35,Ys={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},cc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},sQ="pdfjs_internal_editor_",le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},rQ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ki={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ui={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},vm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},gA={ERRORS:0,WARNINGS:1,INFOS:5},Mr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},aQ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let mA=gA.WARNINGS;function oQ(i){Number.isInteger(i)&&(mA=i)}function lQ(){return mA}function yA(i){mA>=gA.INFOS&&console.log(`Info: ${i}`)}function de(i){mA>=gA.WARNINGS&&console.log(`Warning: ${i}`)}function mn(i){throw new Error(i)}function pi(i,t){i||mn(t)}function cQ(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uQ(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=gQ(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(cQ(n))return n}catch{}return null}function Ae(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const nu=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class h1 extends nu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class d1 extends nu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class l4 extends nu{constructor(t){super(t,"InvalidPDFException")}}class od extends nu{constructor(t){super(t,"MissingPDFException")}}class vA extends nu{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class hQ extends nu{constructor(t){super(t,"FormatError")}}class ld extends nu{constructor(t){super(t,"AbortException")}}function c4(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&mn("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),l=i.subarray(s,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function bA(i){typeof i!="string"&&mn("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function dQ(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function aR(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function fQ(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function pQ(){try{return new Function(""),!0}catch{return!1}}class ms{static get isLittleEndian(){return Ae(this,"isLittleEndian",fQ())}static get isEvalSupported(){return Ae(this,"isEvalSupported",pQ())}static get isOffscreenCanvasSupported(){return Ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ae(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ae(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ae(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const rT=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var hl,o_,f1;class Ft{static makeHexColor(t,e,n){return`#${rT[t]}${rT[e]}${rT[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,a]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),a=this.applyTransform([t[0],t[3]],e),l=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],a[0],l[0]),Math.min(n[1],s[1],a[1],l[1]),Math.max(n[0],s[0],a[0],l[0]),Math.max(n[1],s[1],a[1],l[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],l=t[2]*e[1]+t[3]*e[3],c=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-a*s))/2,d=c+h||1,p=c-h||1;return[Math.sqrt(d),Math.sqrt(p)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[n,a,s,l]}static bezierBoundingBox(t,e,n,s,a,l,c,h,d){return d?(d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h)):d=[Math.min(t,c),Math.min(e,h),Math.max(t,c),Math.max(e,h)],B(this,hl,f1).call(this,t,n,a,c,e,s,l,h,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),d),B(this,hl,f1).call(this,t,n,a,c,e,s,l,h,3*(-e+3*(s-l)+h),6*(e-2*s+l),3*(s-e),d),d}}hl=new WeakSet,o_=function(t,e,n,s,a,l,c,h,d,p){if(d<=0||d>=1)return;const v=1-d,b=d*d,E=b*d,A=v*(v*(v*t+3*d*e)+3*b*n)+E*s,S=v*(v*(v*a+3*d*l)+3*b*c)+E*h;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],S)},f1=function(t,e,n,s,a,l,c,h,d,p,v,b){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&B(this,hl,o_).call(this,t,e,n,s,a,l,c,h,-v/p,b);return}const E=p**2-4*v*d;if(E<0)return;const A=Math.sqrt(E),S=2*d;B(this,hl,o_).call(this,t,e,n,s,a,l,c,h,(-p+A)/S,b),B(this,hl,o_).call(this,t,e,n,s,a,l,c,h,(-p-A)/S,b)},$(Ft,hl);function gQ(i){return decodeURIComponent(escape(i))}let aT=null,BO=null;function mQ(i){return aT||(aT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,BO=new Map([["","t"]])),i.replaceAll(aT,(t,e,n)=>e?e.normalize("NFKC"):BO.get(n))}function yQ(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return c4(i)}const oR="pdfjs_internal_id_",Po={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function vQ(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(c4(i))}const Oo="http://www.w3.org/2000/svg",ju=class ju{};Qt(ju,"CSS",96),Qt(ju,"PDF",72),Qt(ju,"PDF_TO_CSS_UNITS",ju.CSS/ju.PDF);let Zc=ju;async function _A(i,t="text"){if(Cm(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Xv{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=a;const c=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let d,p,v,b;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,p=0,v=0,b=1;break;case 90:d=0,p=1,v=1,b=0;break;case 270:d=0,p=-1,v=-1,b=0;break;case 0:d=1,p=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,b=-b);let E,A,S,C;d===0?(E=Math.abs(h-t[1])*e+s,A=Math.abs(c-t[0])*e+a,S=(t[3]-t[1])*e,C=(t[2]-t[0])*e):(E=Math.abs(c-t[0])*e+s,A=Math.abs(h-t[1])*e+a,S=(t[2]-t[0])*e,C=(t[3]-t[1])*e),this.transform=[d*e,p*e,v*e,b*e,E-d*e*c-v*e*h,A-p*e*c-b*e*h],this.width=S,this.height=C}get rawDims(){const{viewBox:t}=this;return Ae(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new Xv({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){return Ft.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Ft.applyTransform([t[0],t[1]],this.transform),n=Ft.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return Ft.applyInverseTransform([t,e],this.transform)}}class lR extends nu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function EA(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function cR(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function bQ(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function _Q(i,t="document.pdf"){if(typeof i!="string")return t;if(EA(i))return de('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let a=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||t}class zO{constructor(){Qt(this,"started",Object.create(null));Qt(this,"times",[])}time(t){t in this.started&&de(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||de(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Cm(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function wr(i){i.preventDefault()}function jO(i){console.log("Deprecated API usage: "+i)}var py;class uR{static toDateObject(t){if(!t||typeof t!="string")return null;g(this,py)||L(this,py,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g(this,py).exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,d==="-"?(l+=p,c+=v):d==="+"&&(l-=p,c-=v),new Date(Date.UTC(n,s,a,l,c,h))}}py=new WeakMap,$(uR,py);function EQ(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new Xv({viewBox:a,scale:t,rotation:e})}function hR(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(de(`Not a valid color format: "${i}"`),[0,0,0])}function AQ(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,hR(n))}t.remove()}function Cn(i){const{a:t,b:e,c:n,d:s,e:a,f:l}=i.getTransform();return[t,e,n,s,a,l]}function Mo(i){const{a:t,b:e,c:n,d:s,e:a,f:l}=i.getTransform().invertSelf();return[t,e,n,s,a,l]}function Xh(i,t,e=!1,n=!0){if(t instanceof Xv){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:l}=i,c=ms.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${a}px`,p=c?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,v=c?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=v):(l.width=v,l.height=p)}n&&i.setAttribute("data-main-rotation",t.rotation)}class p1{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var uc,Gu,Or,Wu,gy,my,pE,u4,ys,h4,d4,l_,f4,m1;const Do=class Do{constructor(t){$(this,ys);$(this,uc,null);$(this,Gu,null);$(this,Or);$(this,Wu,null);$(this,gy,null);L(this,Or,t),g(Do,my)||L(Do,my,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=L(this,uc,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=g(this,Or)._uiManager._signal;t.addEventListener("contextmenu",wr,{signal:e}),t.addEventListener("pointerdown",B(Do,pE,u4),{signal:e});const n=L(this,Wu,document.createElement("div"));n.className="buttons",t.append(n);const s=g(this,Or).toolbarPosition;if(s){const{style:a}=t,l=g(this,Or)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return B(this,ys,f4).call(this),t}get div(){return g(this,uc)}hide(){var t;g(this,uc).classList.add("hidden"),(t=g(this,Gu))==null||t.hideDropdown()}show(){var t;g(this,uc).classList.remove("hidden"),(t=g(this,gy))==null||t.shown()}async addAltText(t){const e=await t.render();B(this,ys,l_).call(this,e),g(this,Wu).prepend(e,g(this,ys,m1)),L(this,gy,t)}addColorPicker(t){L(this,Gu,t);const e=t.renderButton();B(this,ys,l_).call(this,e),g(this,Wu).prepend(e,g(this,ys,m1))}remove(){var t;g(this,uc).remove(),(t=g(this,Gu))==null||t.destroy(),L(this,Gu,null)}};uc=new WeakMap,Gu=new WeakMap,Or=new WeakMap,Wu=new WeakMap,gy=new WeakMap,my=new WeakMap,pE=new WeakSet,u4=function(t){t.stopPropagation()},ys=new WeakSet,h4=function(t){g(this,Or)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},d4=function(t){g(this,Or)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},l_=function(t){const e=g(this,Or)._uiManager._signal;t.addEventListener("focusin",B(this,ys,h4).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",B(this,ys,d4).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",wr,{signal:e})},f4=function(){const{editorType:t,_uiManager:e}=g(this,Or),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(Do,my)[t]),B(this,ys,l_).call(this,n),n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),g(this,Wu).append(n)},m1=function(){const t=document.createElement("div");return t.className="divider",t},$(Do,pE),$(Do,my,null);let g1=Do;var yy,Ku,Yu,tu,p4,g4,m4;class SQ{constructor(t){$(this,tu);$(this,yy,null);$(this,Ku,null);$(this,Yu);L(this,Yu,t)}show(t,e,n){const[s,a]=B(this,tu,g4).call(this,e,n),{style:l}=g(this,Ku)||L(this,Ku,B(this,tu,p4).call(this));t.append(g(this,Ku)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Ku).remove()}}yy=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,tu=new WeakSet,p4=function(){const t=L(this,Ku,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",wr,{signal:g(this,Yu)._signal});const e=L(this,yy,document.createElement("div"));return e.className="buttons",t.append(e),B(this,tu,m4).call(this),t},g4=function(t,e){let n=0,s=0;for(const a of t){const l=a.y+a.height;if(l<n)continue;const c=a.x+(e?a.width:0);if(l>n){s=c,n=l;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]},m4=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Yu)._signal;t.addEventListener("contextmenu",wr,{signal:n}),t.addEventListener("click",()=>{g(this,Yu).highlightSelection("floating_button")},{signal:n}),g(this,yy).append(t)};function cE(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function wQ(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var gE;class TQ{constructor(){$(this,gE,0)}get id(){return`${sQ}${ds(this,gE)._++}`}}gE=new WeakMap;var Vf,vy,Xi,Uf,c_;const _R=class _R{constructor(){$(this,Uf);$(this,Vf,yQ());$(this,vy,0);$(this,Xi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ae(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:a}=t;return B(this,Uf,c_).call(this,`${e}_${n}_${s}_${a}`,t)}async getFromUrl(t){return B(this,Uf,c_).call(this,t,t)}async getFromBlob(t,e){const n=await e;return B(this,Uf,c_).call(this,t,n)}async getFromId(t){g(this,Xi)||L(this,Xi,new Map);const e=g(this,Xi).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){g(this,Xi)||L(this,Xi,new Map);let n=g(this,Xi).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${g(this,Vf)}_${ds(this,vy)._++}`,refCounter:1,isSvg:!1},g(this,Xi).set(t,n),g(this,Xi).set(n.id,n),n}getSvgUrl(t){const e=g(this,Xi).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;g(this,Xi)||L(this,Xi,new Map);const e=g(this,Xi).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=a.convertToBlob()}(s=n.close)==null||s.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${g(this,Vf)}_`)}};Vf=new WeakMap,vy=new WeakMap,Xi=new WeakMap,Uf=new WeakSet,c_=async function(t,e){g(this,Xi)||L(this,Xi,new Map);let n=g(this,Xi).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,Vf)}_${ds(this,vy)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(n.url=e,s=await _A(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=_R._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const v=n.svgUrl=l.result;c.src=await a?`${v}#svgView(preserveAspectRatio(none))`:v},c.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return g(this,Xi).set(t,n),n&&g(this,Xi).set(n.id,n),n};let y1=_R;var wi,hc,by,Ti;class xQ{constructor(t=128){$(this,wi,[]);$(this,hc,!1);$(this,by);$(this,Ti,-1);L(this,by,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&t(),g(this,hc))return;const h={cmd:t,undo:e,post:n,type:a};if(g(this,Ti)===-1){g(this,wi).length>0&&(g(this,wi).length=0),L(this,Ti,0),g(this,wi).push(h);return}if(l&&g(this,wi)[g(this,Ti)].type===a){c&&(h.undo=g(this,wi)[g(this,Ti)].undo),g(this,wi)[g(this,Ti)]=h;return}const d=g(this,Ti)+1;d===g(this,by)?g(this,wi).splice(0,1):(L(this,Ti,d),d<g(this,wi).length&&g(this,wi).splice(d)),g(this,wi).push(h)}undo(){if(g(this,Ti)===-1)return;L(this,hc,!0);const{undo:t,post:e}=g(this,wi)[g(this,Ti)];t(),e==null||e(),L(this,hc,!1),L(this,Ti,g(this,Ti)-1)}redo(){if(g(this,Ti)<g(this,wi).length-1){L(this,Ti,g(this,Ti)+1),L(this,hc,!0);const{cmd:t,post:e}=g(this,wi)[g(this,Ti)];t(),e==null||e(),L(this,hc,!1)}}hasSomethingToUndo(){return g(this,Ti)!==-1}hasSomethingToRedo(){return g(this,Ti)<g(this,wi).length-1}destroy(){L(this,wi,null)}}wi=new WeakMap,hc=new WeakMap,by=new WeakMap,Ti=new WeakMap;var mE,y4;class Qv{constructor(t){$(this,mE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=ms.platform;for(const[n,s,a={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(B(this,mE,y4).call(this,e));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...l,e)(),a||(e.stopPropagation(),e.preventDefault()))}}mE=new WeakSet,y4=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const yE=class yE{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return AQ(t),Ae(this,"_colors",t)}convert(t){const e=hR(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((a,l)=>a===e[l]))return yE._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Ft.makeHexColor(...e):t}};Qt(yE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let v1=yE;var Bf,zs,hi,Li,zf,Lo,jf,Dr,dc,Hf,Xu,Ea,Nr,Qu,_y,Ey,$f,Ay,Aa,fc,qf,pc,Sa,vE,gc,Sy,mc,Zu,wy,Ty,xi,Ge,Fo,Ju,xy,Cy,yc,wa,Vo,Ry,pr,Ct,u_,b1,v4,b4,h_,_4,E4,A4,_1,S4,E1,A1,w4,fs,ic,T4,x4,S1,C4,Rm,w1;const Ef=class Ef{constructor(t,e,n,s,a,l,c,h,d,p,v){$(this,Ct);$(this,Bf,new AbortController);$(this,zs,null);$(this,hi,new Map);$(this,Li,new Map);$(this,zf,null);$(this,Lo,null);$(this,jf,null);$(this,Dr,new xQ);$(this,dc,null);$(this,Hf,0);$(this,Xu,new Set);$(this,Ea,null);$(this,Nr,null);$(this,Qu,new Set);$(this,_y,!1);$(this,Ey,!1);$(this,$f,!1);$(this,Ay,null);$(this,Aa,null);$(this,fc,null);$(this,qf,null);$(this,pc,!1);$(this,Sa,null);$(this,vE,new TQ);$(this,gc,!1);$(this,Sy,!1);$(this,mc,null);$(this,Zu,null);$(this,wy,null);$(this,Ty,null);$(this,xi,le.NONE);$(this,Ge,new Set);$(this,Fo,null);$(this,Ju,null);$(this,xy,null);$(this,Cy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});$(this,yc,[0,0]);$(this,wa,null);$(this,Vo,null);$(this,Ry,null);$(this,pr,null);const b=this._signal=g(this,Bf).signal;L(this,Vo,t),L(this,Ry,e),L(this,zf,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:b}),B(this,Ct,_4).call(this),B(this,Ct,w4).call(this),B(this,Ct,_1).call(this),L(this,Lo,a.annotationStorage),L(this,Ay,a.filterFactory),L(this,Ju,l),L(this,qf,c||null),L(this,_y,h),L(this,Ey,d),L(this,$f,p),L(this,Ty,v||null),this.viewParameters={realScale:Zc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Ef.prototype,e=l=>g(l,Vo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new Qv([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&g(l,Vo).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&g(l,Vo).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,n,s;(t=g(this,pr))==null||t.resolve(),L(this,pr,null),(e=g(this,Bf))==null||e.abort(),L(this,Bf,null),this._signal=null;for(const a of g(this,Li).values())a.destroy();g(this,Li).clear(),g(this,hi).clear(),g(this,Qu).clear(),L(this,zs,null),g(this,Ge).clear(),g(this,Dr).destroy(),(n=g(this,zf))==null||n.destroy(),(s=g(this,Sa))==null||s.hide(),L(this,Sa,null),g(this,Aa)&&(clearTimeout(g(this,Aa)),L(this,Aa,null)),g(this,wa)&&(clearTimeout(g(this,wa)),L(this,wa,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return g(this,Ty)}get useNewAltTextFlow(){return g(this,Ey)}get useNewAltTextWhenAddingImage(){return g(this,$f)}get hcmFilter(){return Ae(this,"hcmFilter",g(this,Ju)?g(this,Ay).addHCMFilter(g(this,Ju).foreground,g(this,Ju).background):"none")}get direction(){return Ae(this,"direction",getComputedStyle(g(this,Vo)).direction)}get highlightColors(){return Ae(this,"highlightColors",g(this,qf)?new Map(g(this,qf).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ae(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){L(this,wy,t)}editAltText(t,e=!1){var n;(n=g(this,zf))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":L(this,$f,e);break}}onPageChanging({pageNumber:t}){L(this,Hf,t-1)}focusMainContainer(){g(this,Vo).focus()}findParent(t,e){for(const n of g(this,Li).values()){const{x:s,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+l&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){g(this,Ry).classList.toggle("noUserSelect",t)}addShouldRescale(t){g(this,Qu).add(t)}removeShouldRescale(t){g(this,Qu).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Zc.PDF_TO_CSS_UNITS;for(const e of g(this,Qu))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l}=e,c=e.toString(),d=B(this,Ct,u_).call(this,e).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;e.empty();const v=B(this,Ct,b1).call(this,d),b=g(this,xi)===le.NONE,E=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(le.HIGHLIGHT,E);return}E()}addToAnnotationStorage(t){!t.isEmpty()&&g(this,Lo)&&!g(this,Lo).has(t.id)&&g(this,Lo).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,g(this,pc)&&(L(this,pc,!1),B(this,Ct,h_).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of g(this,Ge))if(e.div.contains(t)){L(this,Zu,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!g(this,Zu))return;const[t,e]=g(this,Zu);L(this,Zu,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){B(this,Ct,_1).call(this),B(this,Ct,E1).call(this)}removeEditListeners(){B(this,Ct,S4).call(this),B(this,Ct,A1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of g(this,Nr))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of g(this,Nr))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=g(this,zs))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of g(this,Ge)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of g(this,Nr))if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){de(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of n){const d=await s.deserialize(h);if(!d)return;a.push(d)}const l=()=>{for(const h of a)B(this,Ct,S1).call(this,h);B(this,Ct,w1).call(this,a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){de(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,xi)!==le.NONE&&!this.isEditorHandlingKeyboard&&Ef._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,pc)&&(L(this,pc,!1),B(this,Ct,h_).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(B(this,Ct,E4).call(this),B(this,Ct,E1).call(this),B(this,Ct,fs).call(this,{isEditing:g(this,xi)!==le.NONE,isEmpty:B(this,Ct,Rm).call(this),hasSomethingToUndo:g(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:g(this,Dr).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,Ct,A4).call(this),B(this,Ct,A1).call(this),B(this,Ct,fs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!g(this,Nr)){L(this,Nr,t);for(const e of g(this,Nr))B(this,Ct,ic).call(this,e.defaultPropertiesToUpdate)}}getId(){return g(this,vE).id}get currentLayer(){return g(this,Li).get(g(this,Hf))}getLayer(t){return g(this,Li).get(t)}get currentPageIndex(){return g(this,Hf)}addLayer(t){g(this,Li).set(t.pageIndex,t),g(this,gc)?t.enable():t.disable()}removeLayer(t){g(this,Li).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(g(this,xi)!==t&&!(g(this,pr)&&(await g(this,pr).promise,!g(this,pr)))){if(L(this,pr,Promise.withResolvers()),L(this,xi,t),t===le.NONE){this.setEditingState(!1),B(this,Ct,x4).call(this),g(this,pr).resolve();return}this.setEditingState(!0),await B(this,Ct,T4).call(this),this.unselectAll();for(const s of g(this,Li).values())s.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),g(this,pr).resolve();return}for(const s of g(this,hi).values())s.annotationElementId===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();g(this,pr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==g(this,xi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(g(this,Nr)){switch(t){case ne.CREATE:this.currentLayer.addNewEditor();return;case ne.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,wy))==null||n.updateColor(e);break;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,xy)||L(this,xy,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of g(this,Ge))s.updateParams(t,e);for(const s of g(this,Nr))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var a;for(const l of g(this,hi).values())l.editorType===t&&l.show(e);(((a=g(this,xy))==null?void 0:a.get(ne.HIGHLIGHT_SHOW_ALL))??!0)!==e&&B(this,Ct,ic).call(this,[[ne.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(g(this,Sy)!==t){L(this,Sy,t);for(const e of g(this,Li).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of g(this,hi).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return g(this,hi).get(t)}addEditor(t){g(this,hi).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(g(this,Aa)&&clearTimeout(g(this,Aa)),L(this,Aa,setTimeout(()=>{this.focusMainContainer(),L(this,Aa,null)},0))),g(this,hi).delete(t.id),this.unselect(t),(!t.annotationElementId||!g(this,Xu).has(t.annotationElementId))&&((e=g(this,Lo))==null||e.remove(t.id))}addDeletedAnnotationElement(t){g(this,Xu).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return g(this,Xu).has(t)}removeDeletedAnnotationElement(t){g(this,Xu).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){g(this,zs)!==t&&(L(this,zs,t),t&&B(this,Ct,ic).call(this,t.propertiesToUpdate))}updateUI(t){g(this,Ct,C4)===t&&B(this,Ct,ic).call(this,t.propertiesToUpdate)}toggleSelected(t){if(g(this,Ge).has(t)){g(this,Ge).delete(t),t.unselect(),B(this,Ct,fs).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Ge).add(t),t.select(),B(this,Ct,ic).call(this,t.propertiesToUpdate),B(this,Ct,fs).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of g(this,Ge))e!==t&&e.unselect();g(this,Ge).clear(),g(this,Ge).add(t),t.select(),B(this,Ct,ic).call(this,t.propertiesToUpdate),B(this,Ct,fs).call(this,{hasSelectedEditor:!0})}isSelected(t){return g(this,Ge).has(t)}get firstSelectedEditor(){return g(this,Ge).values().next().value}unselect(t){t.unselect(),g(this,Ge).delete(t),B(this,Ct,fs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Ge).size!==0}get isEnterHandled(){return g(this,Ge).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,Dr).undo(),B(this,Ct,fs).call(this,{hasSomethingToUndo:g(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,Ct,Rm).call(this)})}redo(){g(this,Dr).redo(),B(this,Ct,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Dr).hasSomethingToRedo(),isEmpty:B(this,Ct,Rm).call(this)})}addCommands(t){g(this,Dr).add(t),B(this,Ct,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,Ct,Rm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...g(this,Ge)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)B(this,Ct,S1).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=g(this,zs))==null||t.commitOrRemove()}hasSomethingToControl(){return g(this,zs)||this.hasSelection}selectAll(){for(const t of g(this,Ge))t.commit();B(this,Ct,w1).call(this,g(this,hi).values())}unselectAll(){if(!(g(this,zs)&&(g(this,zs).commitOrRemove(),g(this,xi)!==le.NONE))&&this.hasSelection){for(const t of g(this,Ge))t.unselect();g(this,Ge).clear(),B(this,Ct,fs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,yc)[0]+=t,g(this,yc)[1]+=e;const[s,a]=g(this,yc),l=[...g(this,Ge)],c=1e3;g(this,wa)&&clearTimeout(g(this,wa)),L(this,wa,setTimeout(()=>{L(this,wa,null),g(this,yc)[0]=g(this,yc)[1]=0,this.addCommands({cmd:()=>{for(const h of l)g(this,hi).has(h.id)&&h.translateInPage(s,a)},undo:()=>{for(const h of l)g(this,hi).has(h.id)&&h.translateInPage(-s,-a)},mustExec:!1})},c));for(const h of l)h.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),L(this,Ea,new Map);for(const t of g(this,Ge))g(this,Ea).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Ea))return!1;this.disableUserSelect(!1);const t=g(this,Ea);L(this,Ea,null);let e=!1;for(const[{x:s,y:a,pageIndex:l},c]of t)c.newX=s,c.newY=a,c.newPageIndex=l,e||(e=s!==c.savedX||a!==c.savedY||l!==c.savedPageIndex);if(!e)return!1;const n=(s,a,l,c)=>{if(g(this,hi).has(s.id)){const h=g(this,Li).get(c);h?s._setParentAndPosition(h,a,l):(s.pageIndex=c,s.x=a,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:l,newPageIndex:c}]of t)n(s,a,l,c)},undo:()=>{for(const[s,{savedX:a,savedY:l,savedPageIndex:c}]of t)n(s,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(g(this,Ea))for(const n of g(this,Ea).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||g(this,Ge).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return g(this,zs)===t}getActive(){return g(this,zs)}getMode(){return g(this,xi)}get imageManager(){return Ae(this,"imageManager",new y1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,v,b)=>({x:(p-s)/l,y:1-(d+v-n)/a,width:b/l,height:v/a});break;case"180":c=(d,p,v,b)=>({x:1-(d+v-n)/a,y:1-(p+b-s)/l,width:v/a,height:b/l});break;case"270":c=(d,p,v,b)=>({x:1-(p+b-s)/l,y:(d-n)/a,width:b/l,height:v/a});break;default:c=(d,p,v,b)=>({x:(d-n)/a,y:(p-s)/l,width:v/a,height:b/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const v=e.getRangeAt(d);if(!v.collapsed)for(const{x:b,y:E,width:A,height:S}of v.getClientRects())A===0||S===0||h.push(c(b,E,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(g(this,jf)||L(this,jf,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=g(this,jf))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=g(this,jf))==null?void 0:s.get(t.data.id);if(!e)return;const n=g(this,Lo).getRawValue(e);n&&(g(this,xi)===le.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Bf=new WeakMap,zs=new WeakMap,hi=new WeakMap,Li=new WeakMap,zf=new WeakMap,Lo=new WeakMap,jf=new WeakMap,Dr=new WeakMap,dc=new WeakMap,Hf=new WeakMap,Xu=new WeakMap,Ea=new WeakMap,Nr=new WeakMap,Qu=new WeakMap,_y=new WeakMap,Ey=new WeakMap,$f=new WeakMap,Ay=new WeakMap,Aa=new WeakMap,fc=new WeakMap,qf=new WeakMap,pc=new WeakMap,Sa=new WeakMap,vE=new WeakMap,gc=new WeakMap,Sy=new WeakMap,mc=new WeakMap,Zu=new WeakMap,wy=new WeakMap,Ty=new WeakMap,xi=new WeakMap,Ge=new WeakMap,Fo=new WeakMap,Ju=new WeakMap,xy=new WeakMap,Cy=new WeakMap,yc=new WeakMap,wa=new WeakMap,Vo=new WeakMap,Ry=new WeakMap,pr=new WeakMap,Ct=new WeakSet,u_=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},b1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of g(this,Li).values())if(n.hasTextLayer(t))return n;return null},v4=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=B(this,Ct,u_).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(g(this,Sa)||L(this,Sa,new SQ(this)),g(this,Sa).show(n,s,this.direction==="ltr"))},b4=function(){var a,l,c;const t=document.getSelection();if(!t||t.isCollapsed){g(this,Fo)&&((a=g(this,Sa))==null||a.hide(),L(this,Fo,null),B(this,Ct,fs).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===g(this,Fo))return;const s=B(this,Ct,u_).call(this,t).closest(".textLayer");if(!s){g(this,Fo)&&((l=g(this,Sa))==null||l.hide(),L(this,Fo,null),B(this,Ct,fs).call(this,{hasSelectedText:!1}));return}if((c=g(this,Sa))==null||c.hide(),L(this,Fo,e),B(this,Ct,fs).call(this,{hasSelectedText:!0}),!(g(this,xi)!==le.HIGHLIGHT&&g(this,xi)!==le.NONE)&&(g(this,xi)===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),L(this,pc,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=g(this,xi)===le.HIGHLIGHT?B(this,Ct,b1).call(this,s):null;h==null||h.toggleDrawing();const d=new AbortController,p=this.combinedSignal(d),v=b=>{b.type==="pointerup"&&b.button!==0||(d.abort(),h==null||h.toggleDrawing(!0),b.type==="pointerup"&&B(this,Ct,h_).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:p}),window.addEventListener("blur",v,{signal:p})}},h_=function(t=""){g(this,xi)===le.HIGHLIGHT?this.highlightSelection(t):g(this,_y)&&B(this,Ct,v4).call(this)},_4=function(){document.addEventListener("selectionchange",B(this,Ct,b4).bind(this),{signal:this._signal})},E4=function(){if(g(this,fc))return;L(this,fc,new AbortController);const t=this.combinedSignal(g(this,fc));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},A4=function(){var t;(t=g(this,fc))==null||t.abort(),L(this,fc,null)},_1=function(){if(g(this,mc))return;L(this,mc,new AbortController);const t=this.combinedSignal(g(this,mc));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},S4=function(){var t;(t=g(this,mc))==null||t.abort(),L(this,mc,null)},E1=function(){if(g(this,dc))return;L(this,dc,new AbortController);const t=this.combinedSignal(g(this,dc));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},A1=function(){var t;(t=g(this,dc))==null||t.abort(),L(this,dc,null)},w4=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},fs=function(t){Object.entries(t).some(([n,s])=>g(this,Cy)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Cy),t)}),g(this,xi)===le.HIGHLIGHT&&t.hasSelectedEditor===!1&&B(this,Ct,ic).call(this,[[ne.HIGHLIGHT_FREE,!0]]))},ic=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},T4=async function(){if(!g(this,gc)){L(this,gc,!0);const t=[];for(const e of g(this,Li).values())t.push(e.enable());await Promise.all(t);for(const e of g(this,hi).values())e.enable()}},x4=function(){if(this.unselectAll(),g(this,gc)){L(this,gc,!1);for(const t of g(this,Li).values())t.disable();for(const t of g(this,hi).values())t.disable()}},S1=function(t){const e=g(this,Li).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},C4=function(){let t=null;for(t of g(this,Ge));return t},Rm=function(){if(g(this,hi).size===0)return!0;if(g(this,hi).size===1)for(const t of g(this,hi).values())return t.isEmpty();return!1},w1=function(t){for(const e of g(this,Ge))e.unselect();g(this,Ge).clear();for(const e of t)e.isEmpty()||(g(this,Ge).add(e),e.select());B(this,Ct,fs).call(this,{hasSelectedEditor:this.hasSelection})},Qt(Ef,"TRANSLATE_SMALL",1),Qt(Ef,"TRANSLATE_BIG",10);let Qh=Ef;var Ci,Ta,Lr,Gf,xa,js,Wf,Ca,ws,Uo,th,Ra,vc,Xr,Im,d_;const ps=class ps{constructor(t){$(this,Xr);$(this,Ci,null);$(this,Ta,!1);$(this,Lr,null);$(this,Gf,null);$(this,xa,null);$(this,js,null);$(this,Wf,!1);$(this,Ca,null);$(this,ws,null);$(this,Uo,null);$(this,th,null);$(this,Ra,!1);L(this,ws,t),L(this,Ra,t._uiManager.useNewAltTextFlow),g(ps,vc)||L(ps,vc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ps._l10n??(ps._l10n=t)}async render(){const t=L(this,Lr,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=L(this,Gf,document.createElement("span"));t.append(e),g(this,Ra)?(t.classList.add("new"),t.setAttribute("data-l10n-id",g(ps,vc).missing),e.setAttribute("data-l10n-id",g(ps,vc)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,ws)._uiManager._signal;t.addEventListener("contextmenu",wr,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),g(this,ws)._uiManager.editAltText(g(this,ws)),g(this,Ra)&&g(this,ws)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Xr,Im)}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(L(this,Wf,!0),s(a))},{signal:n}),await B(this,Xr,d_).call(this),t}finish(){g(this,Lr)&&(g(this,Lr).focus({focusVisible:g(this,Wf)}),L(this,Wf,!1))}isEmpty(){return g(this,Ra)?g(this,Ci)===null:!g(this,Ci)&&!g(this,Ta)}hasData(){return g(this,Ra)?g(this,Ci)!==null||!!g(this,Uo):this.isEmpty()}get guessedText(){return g(this,Uo)}async setGuessedText(t){g(this,Ci)===null&&(L(this,Uo,t),L(this,th,await ps._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),B(this,Xr,d_).call(this))}toggleAltTextBadge(t=!1){var e;if(!g(this,Ra)||g(this,Ci)){(e=g(this,Ca))==null||e.remove(),L(this,Ca,null);return}if(!g(this,Ca)){const n=L(this,Ca,document.createElement("div"));n.className="noAltTextBadge",g(this,ws).div.append(n)}g(this,Ca).classList.toggle("hidden",!t)}serialize(t){let e=g(this,Ci);return!t&&g(this,Uo)===e&&(e=g(this,th)),{altText:e,decorative:g(this,Ta),guessedText:g(this,Uo),textWithDisclaimer:g(this,th)}}get data(){return{altText:g(this,Ci),decorative:g(this,Ta)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(L(this,Uo,n),L(this,th,s)),!(g(this,Ci)===t&&g(this,Ta)===e)&&(a||(L(this,Ci,t),L(this,Ta,e)),B(this,Xr,d_).call(this))}toggle(t=!1){g(this,Lr)&&(!t&&g(this,js)&&(clearTimeout(g(this,js)),L(this,js,null)),g(this,Lr).disabled=!t)}shown(){g(this,ws)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Xr,Im)}})}destroy(){var t,e;(t=g(this,Lr))==null||t.remove(),L(this,Lr,null),L(this,Gf,null),L(this,xa,null),(e=g(this,Ca))==null||e.remove(),L(this,Ca,null)}};Ci=new WeakMap,Ta=new WeakMap,Lr=new WeakMap,Gf=new WeakMap,xa=new WeakMap,js=new WeakMap,Wf=new WeakMap,Ca=new WeakMap,ws=new WeakMap,Uo=new WeakMap,th=new WeakMap,Ra=new WeakMap,vc=new WeakMap,Xr=new WeakSet,Im=function(){return g(this,Ci)&&"added"||g(this,Ci)===null&&this.guessedText&&"review"||"missing"},d_=async function(){var s,a,l;const t=g(this,Lr);if(!t)return;if(g(this,Ra)){if(t.classList.toggle("done",!!g(this,Ci)),t.setAttribute("data-l10n-id",g(ps,vc)[g(this,Xr,Im)]),(s=g(this,Gf))==null||s.setAttribute("data-l10n-id",g(ps,vc)[`${g(this,Xr,Im)}-label`]),!g(this,Ci)){(a=g(this,xa))==null||a.remove();return}}else{if(!g(this,Ci)&&!g(this,Ta)){t.classList.remove("done"),(l=g(this,xa))==null||l.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=g(this,xa);if(!e){L(this,xa,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${g(this,ws).id}`;const c=100,h=g(this,ws)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(g(this,js)),L(this,js,null)},{once:!0}),t.addEventListener("mouseenter",()=>{L(this,js,setTimeout(()=>{L(this,js,null),g(this,xa).classList.add("show"),g(this,ws)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),t.addEventListener("mouseleave",()=>{var d;g(this,js)&&(clearTimeout(g(this,js)),L(this,js,null)),(d=g(this,xa))==null||d.classList.remove("show")},{signal:h})}g(this,Ta)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=g(this,Ci)),e.parentNode||t.append(e);const n=g(this,ws).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},$(ps,vc,null),Qt(ps,"_l10n",null);let uE=ps;var eh,Fr,Tn,Kf,nh,Fi,ih,bc,Iy,sh,_c,ky,rh,Bo,Ia,Yf,Xf,gr,Py,bE,ce,T1,My,x1,C1,R4,I4,R1,I1,k1,k4,P1,P4,M4,O4,M1,km;const je=class je{constructor(t){$(this,ce);$(this,eh,null);$(this,Fr,null);$(this,Tn,null);$(this,Kf,!1);$(this,nh,!1);$(this,Fi,null);$(this,ih,null);$(this,bc,null);$(this,Iy,"");$(this,sh,!1);$(this,_c,null);$(this,ky,!1);$(this,rh,!1);$(this,Bo,!1);$(this,Ia,null);$(this,Yf,0);$(this,Xf,0);$(this,gr,null);Qt(this,"_editToolbar",null);Qt(this,"_initialOptions",Object.create(null));Qt(this,"_initialData",null);Qt(this,"_isVisible",!0);Qt(this,"_uiManager",null);Qt(this,"_focusEventsAllowed",!0);$(this,Py,!1);$(this,bE,je._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=je.prototype._resizeWithKeyboard,e=Qh.TRANSLATE_SMALL,n=Qh.TRANSLATE_BIG;return Ae(this,"_resizerKeyboardManager",new Qv([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],je.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ae(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new CQ({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(je._l10n??(je._l10n=t),je._l10nResizer||(je._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),je._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);je._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){mn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Py)}set _isDraggable(t){var e;L(this,Py,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,bE)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):B(this,ce,km).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(g(this,sh)?L(this,sh,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[a,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/a,this.y=(e+s)/l,this.fixAndSetPosition()}translate(t,e){B(this,ce,T1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){g(this,_c)||L(this,_c,[this.x,this.y]),B(this,ce,T1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){g(this,_c)||L(this,_c,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,h]=this.getBaseTranslation();a+=c,l+=h,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,_c)&&(g(this,_c)[0]!==this.x||g(this,_c)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=je,s=n/t,a=n/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:a,width:l,height:c}=this;if(l*=e,c*=n,s*=e,a*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-l,s)),a=Math.max(0,Math.min(n-c,a));break;case 90:s=Math.max(0,Math.min(e-c,s)),a=Math.min(n,Math.max(l,a));break;case 180:s=Math.min(e,Math.max(l,s)),a=Math.min(n,Math.max(c,a));break;case 270:s=Math.min(e,Math.max(c,s)),a=Math.max(0,Math.min(n-l,a));break}this.x=s/=e,this.y=a/=n;const[h,d]=this.getBaseTranslation();s+=h,a+=d;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return B(n=je,My,x1).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return B(n=je,My,x1).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,g(this,nh)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),a=!g(this,nh)&&e.endsWith("%");if(s&&a)return;const[l,c]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!g(this,nh)&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=g(this,Tn))==null||t.finish()}async addEditToolbar(){return this._editToolbar||g(this,rh)?this._editToolbar:(this._editToolbar=new g1(this),this.div.append(this._editToolbar.render()),g(this,Tn)&&await this._editToolbar.addAltText(g(this,Tn)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=g(this,Tn))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Tn)||(uE.initialize(je._l10n),L(this,Tn,new uE(this)),g(this,eh)&&(g(this,Tn).data=g(this,eh),L(this,eh,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=g(this,Tn))==null?void 0:t.data}set altTextData(t){g(this,Tn)&&(g(this,Tn).data=t)}get guessedAltText(){var t;return(t=g(this,Tn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=g(this,Tn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=g(this,Tn))==null?void 0:e.serialize(t)}hasAltText(){return!!g(this,Tn)&&!g(this,Tn).isEmpty()}hasAltTextData(){var t;return((t=g(this,Tn))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Kf)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),B(this,ce,P1).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),cE(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=ms.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(L(this,sh,!0),this._isDraggable){B(this,ce,k4).call(this,t);return}B(this,ce,k1).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,Ia)&&clearTimeout(g(this,Ia)),L(this,Ia,setTimeout(()=>{var t;L(this,Ia,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/s,p=e/s,v=this.x*a,b=this.y*l,E=this.width*a,A=this.height*l;switch(n){case 0:return[v+d+c,l-b-p-A+h,v+d+E+c,l-b-p+h];case 90:return[v+p+c,l-b+d+h,v+p+A+c,l-b+d+E+h];case 180:return[v-d-E+c,l-b+p+h,v-d+c,l-b+p+A+h];case 270:return[v-p-A+c,l-b-d-E+h,v-p+c,l-b-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,a,l]=t,c=a-n,h=l-s;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-s,h,c];case 180:return[a,e-s,c,h];case 270:return[a,e-l,h,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){L(this,rh,!0)}disableEditMode(){L(this,rh,!1)}isInEditMode(){return g(this,rh)}shouldGetKeyboardEvents(){return g(this,Bo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){B(this,ce,P1).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){mn("An editor must be serializable")}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,L(s,eh,t.accessibilityData);const[a,l]=s.pageDimensions,[c,h,d,p]=s.getRectInCurrentCoords(t.rect,l);return s.x=c/a,s.y=h/l,s.width=d/a,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=g(this,bc))==null||t.abort(),L(this,bc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Ia)&&(clearTimeout(g(this,Ia)),L(this,Ia,null)),B(this,ce,km).call(this),this.removeEditToolbar(),g(this,gr)){for(const e of g(this,gr).values())clearTimeout(e);L(this,gr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,ce,R4).call(this),g(this,Fi).classList.remove("hidden"),cE(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),L(this,ih,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=g(this,Fi).children;if(!g(this,Fr)){L(this,Fr,Array.from(e));const l=B(this,ce,P4).bind(this),c=B(this,ce,M4).bind(this),h=this._uiManager._signal;for(const d of g(this,Fr)){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",B(this,ce,O4).bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",je._l10nResizer[p])}}const n=g(this,Fr)[0];let s=0;for(const l of e){if(l===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(g(this,Fr).length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)g(this,Fi).append(g(this,Fi).firstChild);else if(a>s)for(let c=0;c<a-s;c++)g(this,Fi).firstChild.before(g(this,Fi).lastChild);let l=0;for(const c of e){const d=g(this,Fr)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",je._l10nResizer[d])}}B(this,ce,M1).call(this,0),L(this,Bo,!0),g(this,Fi).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){g(this,Bo)&&B(this,ce,I1).call(this,g(this,Iy),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){B(this,ce,km).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(n=g(this,Tn))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,s,a;(t=g(this,Fi))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=g(this,Tn))==null||a.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,ky)}set isEditing(t){L(this,ky,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){L(this,nh,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){g(this,gr)||L(this,gr,new Map);const{action:n}=t;let s=g(this,gr).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),g(this,gr).delete(n),g(this,gr).size===0&&L(this,gr,null)},je._telemetryTimeout),g(this,gr).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),L(this,Kf,!1)}disable(){this.div&&(this.div.tabIndex=-1),L(this,Kf,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};eh=new WeakMap,Fr=new WeakMap,Tn=new WeakMap,Kf=new WeakMap,nh=new WeakMap,Fi=new WeakMap,ih=new WeakMap,bc=new WeakMap,Iy=new WeakMap,sh=new WeakMap,_c=new WeakMap,ky=new WeakMap,rh=new WeakMap,Bo=new WeakMap,Ia=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,gr=new WeakMap,Py=new WeakMap,bE=new WeakMap,ce=new WeakSet,T1=function([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this.fixAndSetPosition()},My=new WeakSet,x1=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},C1=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},R4=function(){if(g(this,Fi))return;L(this,Fi,document.createElement("div")),g(this,Fi).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");g(this,Fi).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",B(this,ce,I4).bind(this,n),{signal:e}),s.addEventListener("contextmenu",wr,{signal:e}),s.tabIndex=-1}this.div.prepend(g(this,Fi))},I4=function(t,e){var A;e.preventDefault();const{isMac:n}=ms.platform;if(e.button!==0||e.ctrlKey&&n)return;(A=g(this,Tn))==null||A.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",B(this,ce,I1).bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",wr,{signal:l});const c=this.x,h=this.y,d=this.width,p=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const E=()=>{var S;a.abort(),this.parent.togglePointerEvents(!0),(S=g(this,Tn))==null||S.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=v,this.div.style.cursor=b,B(this,ce,R1).call(this,c,h,d,p)};window.addEventListener("pointerup",E,{signal:l}),window.addEventListener("blur",E,{signal:l})},R1=function(t,e,n,s){const a=this.x,l=this.y,c=this.width,h=this.height;a===t&&l===e&&c===n&&h===s||this.addCommands({cmd:()=>{this.width=c,this.height=h,this.x=a,this.y=l;const[d,p]=this.parentDimensions;this.setDims(d*c,p*h),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=t,this.y=e;const[d,p]=this.parentDimensions;this.setDims(d*n,p*s),this.fixAndSetPosition()},mustExec:!0})},I1=function(t,e){const[n,s]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,d=je.MIN_SIZE/n,p=je.MIN_SIZE/s,v=Q=>Math.round(Q*1e4)/1e4,b=B(this,ce,C1).call(this,this.rotation),E=(Q,at)=>[b[0]*Q+b[2]*at,b[1]*Q+b[3]*at],A=B(this,ce,C1).call(this,360-this.rotation),S=(Q,at)=>[A[0]*Q+A[2]*at,A[1]*Q+A[3]*at];let C,x,F=!1,M=!1;switch(t){case"topLeft":F=!0,C=(Q,at)=>[0,0],x=(Q,at)=>[Q,at];break;case"topMiddle":C=(Q,at)=>[Q/2,0],x=(Q,at)=>[Q/2,at];break;case"topRight":F=!0,C=(Q,at)=>[Q,0],x=(Q,at)=>[0,at];break;case"middleRight":M=!0,C=(Q,at)=>[Q,at/2],x=(Q,at)=>[0,at/2];break;case"bottomRight":F=!0,C=(Q,at)=>[Q,at],x=(Q,at)=>[0,0];break;case"bottomMiddle":C=(Q,at)=>[Q/2,at],x=(Q,at)=>[Q/2,0];break;case"bottomLeft":F=!0,C=(Q,at)=>[0,at],x=(Q,at)=>[Q,0];break;case"middleLeft":M=!0,C=(Q,at)=>[0,at/2],x=(Q,at)=>[Q,at/2];break}const P=C(c,h),V=x(c,h);let W=E(...V);const D=v(a+W[0]),I=v(l+W[1]);let N=1,T=1,[U,q]=this.screenToPageTranslation(e.movementX,e.movementY);if([U,q]=S(U/n,q/s),F){const Q=Math.hypot(c,h);N=T=Math.max(Math.min(Math.hypot(V[0]-P[0]-U,V[1]-P[1]-q)/Q,1/c,1/h),d/c,p/h)}else M?N=Math.max(d,Math.min(1,Math.abs(V[0]-P[0]-U)))/c:T=Math.max(p,Math.min(1,Math.abs(V[1]-P[1]-q)))/h;const j=v(c*N),ct=v(h*T);W=E(...x(j,ct));const nt=D-W[0],Y=I-W[1];this.width=j,this.height=ct,this.x=nt,this.y=Y,this.setDims(n*j,s*ct),this.fixAndSetPosition()},k1=function(t){const{isMac:e}=ms.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},k4=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),L(this,Yf,t.clientX),L(this,Xf,t.clientY);const l=c=>{const{clientX:h,clientY:d}=c,[p,v]=this.screenToPageTranslation(h-g(this,Yf),d-g(this,Xf));L(this,Yf,h),L(this,Xf,d),this._uiManager.dragSelectedEditors(p,v)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:s})}const a=()=>{n.abort(),e&&this.div.classList.remove("moving"),L(this,sh,!1),this._uiManager.endDragSession()||B(this,ce,k1).call(this,t)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},P1=function(){if(g(this,bc)||!this.div)return;L(this,bc,new AbortController);const t=this._uiManager.combinedSignal(g(this,bc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},P4=function(t){je._resizerKeyboardManager.exec(this,t)},M4=function(t){var e;g(this,Bo)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==g(this,Fi)&&B(this,ce,km).call(this)},O4=function(t){L(this,Iy,g(this,Bo)?t:"")},M1=function(t){if(g(this,Fr))for(const e of g(this,Fr))e.tabIndex=t},km=function(){if(L(this,Bo,!1),B(this,ce,M1).call(this,-1),g(this,ih)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=g(this,ih);B(this,ce,R1).call(this,t,e,n,s),L(this,ih,null)}},$(je,My),Qt(je,"_l10n",null),Qt(je,"_l10nResizer",null),Qt(je,"_borderLineWidth",-1),Qt(je,"_colorManager",new v1),Qt(je,"_zIndex",1),Qt(je,"_telemetryTimeout",1e3);let Ke=je;class CQ extends Ke{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const HO=3285377520,fr=4294901760,ba=65535;class D4{constructor(t){this.h1=t?t&4294967295:HO,this.h2=t?t&4294967295:HO}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,C=t.length;S<C;S++){const x=t.charCodeAt(S);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,l=new Uint32Array(e.buffer,0,s);let c=0,h=0,d=this.h1,p=this.h2;const v=3432918353,b=461845907,E=v&ba,A=b&ba;for(let S=0;S<s;S++)S&1?(c=l[S],c=c*v&fr|c*E&ba,c=c<<15|c>>>17,c=c*b&fr|c*A&ba,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[S],h=h*v&fr|h*E&ba,h=h<<15|h>>>17,h=h*b&fr|h*A&ba,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*v&fr|c*E&ba,c=c<<15|c>>>17,c=c*b&fr|c*A&ba,s&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&fr|t*36045&ba,e=e*4283543511&fr|((e<<16|t>>>16)*2950163797&fr)>>>16,t^=e>>>1,t=t*444984403&fr|t*60499&ba,e=e*3301882366&fr|((e<<16|t>>>16)*3120437893&fr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const O1=Object.freeze({map:null,hash:"",transfer:void 0});var ah,oh,Ri,_E,N4;class dR{constructor(){$(this,_E);$(this,ah,!1);$(this,oh,null);$(this,Ri,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=g(this,Ri).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return g(this,Ri).get(t)}remove(t){if(g(this,Ri).delete(t),g(this,Ri).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of g(this,Ri).values())if(e instanceof Ke)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=g(this,Ri).get(t);let s=!1;if(n!==void 0)for(const[a,l]of Object.entries(e))n[a]!==l&&(s=!0,n[a]=l);else s=!0,g(this,Ri).set(t,e);s&&B(this,_E,N4).call(this),e instanceof Ke&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return g(this,Ri).has(t)}getAll(){return g(this,Ri).size>0?aR(g(this,Ri)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return g(this,Ri).size}resetModified(){g(this,ah)&&(L(this,ah,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new L4(this)}get serializable(){if(g(this,Ri).size===0)return O1;const t=new Map,e=new D4,n=[],s=Object.create(null);let a=!1;for(const[l,c]of g(this,Ri)){const h=c instanceof Ke?c.serialize(!1,s):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:O1}get editorStats(){let t=null;const e=new Map;for(const n of g(this,Ri).values()){if(!(n instanceof Ke))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const l=t[a]||(t[a]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const p=d.get(h)??0;d.set(h,p+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){L(this,oh,null)}get modifiedIds(){if(g(this,oh))return g(this,oh);const t=[];for(const e of g(this,Ri).values())!(e instanceof Ke)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return L(this,oh,{ids:new Set(t),hash:t.join(",")})}}ah=new WeakMap,oh=new WeakMap,Ri=new WeakMap,_E=new WeakSet,N4=function(){g(this,ah)||(L(this,ah,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Oy;class L4 extends dR{constructor(e){super();$(this,Oy);const{map:n,hash:s,transfer:a}=e.serializable,l=structuredClone(n,a?{transfer:a}:null);L(this,Oy,{map:l,hash:s,transfer:a})}get print(){mn("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Oy)}get modifiedIds(){return Ae(this,"modifiedIds",{ids:new Set,hash:""})}}Oy=new WeakMap;var Qf;class RQ{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){$(this,Qf,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),g(this,Qf).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||g(this,Qf).has(t.loadedName))){if(pi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:a}=t,l=new FontFace(n,s,a);this.addNativeFontFace(l);try{await l.load(),g(this,Qf).add(n),e==null||e(t)}catch{de(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}mn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw de(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ae(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(ss||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ae(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(pi(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ae(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(P,V){return P.charCodeAt(V)<<24|P.charCodeAt(V+1)<<16|P.charCodeAt(V+2)<<8|P.charCodeAt(V+3)&255}function s(P,V,W,D){const I=P.substring(0,V),N=P.substring(V+W);return I+D+N}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(P,V){if(++d>30){de("Load test font never loaded."),V();return}if(h.font="30px "+P,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){V();return}setTimeout(p.bind(null,P,V))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=s(b,976,v.length,v);const A=16,S=1482184792;let C=n(b,A);for(a=0,l=v.length-3;a<l;a+=4)C=C-S+n(v,a)|0;a<v.length&&(C=C-S+n(v+"XXX",a)|0),b=s(b,A,4,dQ(C));const x=`url(data:font/opentype;base64,${btoa(b)});`,F=`@font-face {font-family:"${v}";src:${x}}`;this.insertRule(F);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const P of[t.loadedName,v]){const V=this._document.createElement("span");V.textContent="Hi",V.style.fontFamily=P,M.append(V)}this._document.body.append(M),p(v,()=>{M.remove(),e.complete()})}}Qf=new WeakMap;class IQ{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${vQ(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(a){de(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(a,l){};const s=[];for(let a=0,l=n.length;a<l;)switch(n[a++]){case Po.BEZIER_CURVE_TO:{const[c,h,d,p,v,b]=n.slice(a,a+6);s.push(E=>E.bezierCurveTo(c,h,d,p,v,b)),a+=6}break;case Po.MOVE_TO:{const[c,h]=n.slice(a,a+2);s.push(d=>d.moveTo(c,h)),a+=2}break;case Po.LINE_TO:{const[c,h]=n.slice(a,a+2);s.push(d=>d.lineTo(c,h)),a+=2}break;case Po.QUADRATIC_CURVE_TO:{const[c,h,d,p]=n.slice(a,a+4);s.push(v=>v.quadraticCurveTo(c,h,d,p)),a+=4}break;case Po.RESTORE:s.push(c=>c.restore());break;case Po.SAVE:s.push(c=>c.save());break;case Po.SCALE:pi(s.length===2,"Scale command is only valid at the third position.");break;case Po.TRANSFORM:{const[c,h,d,p,v,b]=n.slice(a,a+6);s.push(E=>E.transform(c,h,d,p,v,b)),a+=6}break;case Po.TRANSLATE:{const[c,h]=n.slice(a,a+2);s.push(d=>d.translate(c,h)),a+=2}break}return this.compiledGlyphs[e]=function(l,c){s[0](l),s[1](l),l.scale(c,-c);for(let h=2,d=s.length;h<d;h++)s[h](l)}}}var Dy;class F4{constructor({enableHWA:t=!1}){$(this,Dy,!1);L(this,Dy,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Dy)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){mn("Abstract method `_createCanvas` called.")}}Dy=new WeakMap;class kQ extends F4{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class V4{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){mn("Abstract method `_fetch` called.")}}class U4 extends V4{async _fetch(t){const e=await _A(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):bA(e)}}class B4{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,a){return"none"}destroy(t=!1){}}var lh,ch,ka,zo,Qi,EE,uh,Rt,Yi,df,ff,f_,pf,z4,D1,gf,Pm,Mm,N1,Om;class PQ extends B4{constructor({docId:e,ownerDocument:n=globalThis.document}){super();$(this,Rt);$(this,lh);$(this,ch);$(this,ka);$(this,zo);$(this,Qi);$(this,EE);$(this,uh,0);L(this,zo,e),L(this,Qi,n)}addFilter(e){if(!e)return"none";let n=g(this,Rt,Yi).get(e);if(n)return n;const[s,a,l]=B(this,Rt,f_).call(this,e),c=e.length===1?s:`${s}${a}${l}`;if(n=g(this,Rt,Yi).get(c),n)return g(this,Rt,Yi).set(e,n),n;const h=`g_${g(this,zo)}_transfer_map_${ds(this,uh)._++}`,d=B(this,Rt,pf).call(this,h);g(this,Rt,Yi).set(e,d),g(this,Rt,Yi).set(c,d);const p=B(this,Rt,gf).call(this,h);return B(this,Rt,Mm).call(this,s,a,l,p),d}addHCMFilter(e,n){var A;const s=`${e}-${n}`,a="base";let l=g(this,Rt,df).get(a);if((l==null?void 0:l.key)===s||(l?((A=l.filter)==null||A.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},g(this,Rt,df).set(a,l)),!e||!n))return l.url;const c=B(this,Rt,Om).call(this,e);e=Ft.makeHexColor(...c);const h=B(this,Rt,Om).call(this,n);if(n=Ft.makeHexColor(...h),g(this,Rt,ff).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return l.url;const d=new Array(256);for(let S=0;S<=255;S++){const C=S/255;d[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const p=d.join(","),v=`g_${g(this,zo)}_hcm_filter`,b=l.filter=B(this,Rt,gf).call(this,v);B(this,Rt,Mm).call(this,p,p,p,b),B(this,Rt,D1).call(this,b);const E=(S,C)=>{const x=c[S]/255,F=h[S]/255,M=new Array(C+1);for(let P=0;P<=C;P++)M[P]=x+P/C*(F-x);return M.join(",")};return B(this,Rt,Mm).call(this,E(0,5),E(1,5),E(2,5),b),l.url=B(this,Rt,pf).call(this,v),l.url}addAlphaFilter(e){let n=g(this,Rt,Yi).get(e);if(n)return n;const[s]=B(this,Rt,f_).call(this,[e]),a=`alpha_${s}`;if(n=g(this,Rt,Yi).get(a),n)return g(this,Rt,Yi).set(e,n),n;const l=`g_${g(this,zo)}_alpha_map_${ds(this,uh)._++}`,c=B(this,Rt,pf).call(this,l);g(this,Rt,Yi).set(e,c),g(this,Rt,Yi).set(a,c);const h=B(this,Rt,gf).call(this,l);return B(this,Rt,N1).call(this,s,h),c}addLuminosityFilter(e){let n=g(this,Rt,Yi).get(e||"luminosity");if(n)return n;let s,a;if(e?([s]=B(this,Rt,f_).call(this,[e]),a=`luminosity_${s}`):a="luminosity",n=g(this,Rt,Yi).get(a),n)return g(this,Rt,Yi).set(e,n),n;const l=`g_${g(this,zo)}_luminosity_map_${ds(this,uh)._++}`,c=B(this,Rt,pf).call(this,l);g(this,Rt,Yi).set(e,c),g(this,Rt,Yi).set(a,c);const h=B(this,Rt,gf).call(this,l);return B(this,Rt,z4).call(this,h),e&&B(this,Rt,N1).call(this,s,h),c}addHighlightHCMFilter(e,n,s,a,l){var F;const c=`${n}-${s}-${a}-${l}`;let h=g(this,Rt,df).get(e);if((h==null?void 0:h.key)===c||(h?((F=h.filter)==null||F.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},g(this,Rt,df).set(e,h)),!n||!s))return h.url;const[d,p]=[n,s].map(B(this,Rt,Om).bind(this));let v=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[E,A]=[a,l].map(B(this,Rt,Om).bind(this));b<v&&([v,b,E,A]=[b,v,A,E]),g(this,Rt,ff).style.color="";const S=(M,P,V)=>{const W=new Array(256),D=(b-v)/V,I=M/255,N=(P-M)/(255*V);let T=0;for(let U=0;U<=V;U++){const q=Math.round(v+U*D),j=I+U*N;for(let ct=T;ct<=q;ct++)W[ct]=j;T=q+1}for(let U=T;U<256;U++)W[U]=W[T-1];return W.join(",")},C=`g_${g(this,zo)}_hcm_${e}_filter`,x=h.filter=B(this,Rt,gf).call(this,C);return B(this,Rt,D1).call(this,x),B(this,Rt,Mm).call(this,S(E[0],A[0],5),S(E[1],A[1],5),S(E[2],A[2],5),x),h.url=B(this,Rt,pf).call(this,C),h.url}destroy(e=!1){e&&g(this,Rt,df).size!==0||(g(this,ka)&&(g(this,ka).parentNode.parentNode.remove(),L(this,ka,null)),g(this,ch)&&(g(this,ch).clear(),L(this,ch,null)),L(this,uh,0))}}lh=new WeakMap,ch=new WeakMap,ka=new WeakMap,zo=new WeakMap,Qi=new WeakMap,EE=new WeakMap,uh=new WeakMap,Rt=new WeakSet,Yi=function(){return g(this,ch)||L(this,ch,new Map)},df=function(){return g(this,EE)||L(this,EE,new Map)},ff=function(){if(!g(this,ka)){const e=g(this,Qi).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=g(this,Qi).createElementNS(Oo,"svg");s.setAttribute("width",0),s.setAttribute("height",0),L(this,ka,g(this,Qi).createElementNS(Oo,"defs")),e.append(s),s.append(g(this,ka)),g(this,Qi).body.append(e)}return g(this,ka)},f_=function(e){if(e.length===1){const d=e[0],p=new Array(256);for(let b=0;b<256;b++)p[b]=d[b]/255;const v=p.join(",");return[v,v,v]}const[n,s,a]=e,l=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=n[d]/255,c[d]=s[d]/255,h[d]=a[d]/255;return[l.join(","),c.join(","),h.join(",")]},pf=function(e){if(g(this,lh)===void 0){L(this,lh,"");const n=g(this,Qi).URL;n!==g(this,Qi).baseURI&&(EA(n)?de('#createUrl: ignore "data:"-URL for performance reasons.'):L(this,lh,n.split("#",1)[0]))}return`url(${g(this,lh)}#${e})`},z4=function(e){const n=g(this,Qi).createElementNS(Oo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},D1=function(e){const n=g(this,Qi).createElementNS(Oo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},gf=function(e){const n=g(this,Qi).createElementNS(Oo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),g(this,Rt,ff).append(n),n},Pm=function(e,n,s){const a=g(this,Qi).createElementNS(Oo,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},Mm=function(e,n,s,a){const l=g(this,Qi).createElementNS(Oo,"feComponentTransfer");a.append(l),B(this,Rt,Pm).call(this,l,"feFuncR",e),B(this,Rt,Pm).call(this,l,"feFuncG",n),B(this,Rt,Pm).call(this,l,"feFuncB",s)},N1=function(e,n){const s=g(this,Qi).createElementNS(Oo,"feComponentTransfer");n.append(s),B(this,Rt,Pm).call(this,s,"feFuncA",e)},Om=function(e){return g(this,Rt,ff).style.color=e,hR(getComputedStyle(g(this,Rt,ff)).getPropertyValue("color"))};class j4{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){mn("Abstract method `_fetch` called.")}}class H4 extends j4{async _fetch(t){const e=await _A(t,"arraybuffer");return new Uint8Array(e)}}if(ss){var L1=Promise.withResolvers(),Jm=null;(async()=>{const t=await U0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await U0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await U0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await U0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,l;return new Map(Object.entries({fs:t,http:e,https:n,url:s,canvas:a,path2d:l}))})().then(t=>{Jm=t,L1.resolve()},t=>{de(`loadPackages: ${t}`),Jm=new Map,L1.resolve()})}class Jc{static get promise(){return L1.promise}static get(t){return Jm==null?void 0:Jm.get(t)}}async function $4(i){const e=await Jc.get("fs").promises.readFile(i);return new Uint8Array(e)}class MQ extends B4{}class OQ extends F4{_createCanvas(t,e){return Jc.get("canvas").createCanvas(t,e)}}class DQ extends V4{async _fetch(t){return $4(t)}}class NQ extends j4{async _fetch(t){return $4(t)}}const gs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function F1(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class fR{getPattern(){mn("Abstract method `getPattern` called.")}}class LQ extends fR{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let a;if(s===gs.STROKE||s===gs.FILL){const l=e.current.getClippedPathBoundingBox(s,Cn(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Ft.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),F1(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=t.createPattern(d.canvas,"no-repeat");const v=new DOMMatrix(n);a.setTransform(v)}else F1(t,this._bbox),a=this._createGradient(t);return a}}function oT(i,t,e,n,s,a,l,c){const h=t.coords,d=t.colors,p=i.data,v=i.width*4;let b;h[e+1]>h[n+1]&&(b=e,e=n,n=b,b=a,a=l,l=b),h[n+1]>h[s+1]&&(b=n,n=s,s=b,b=l,l=c,c=b),h[e+1]>h[n+1]&&(b=e,e=n,n=b,b=a,a=l,l=b);const E=(h[e]+t.offsetX)*t.scaleX,A=(h[e+1]+t.offsetY)*t.scaleY,S=(h[n]+t.offsetX)*t.scaleX,C=(h[n+1]+t.offsetY)*t.scaleY,x=(h[s]+t.offsetX)*t.scaleX,F=(h[s+1]+t.offsetY)*t.scaleY;if(A>=F)return;const M=d[a],P=d[a+1],V=d[a+2],W=d[l],D=d[l+1],I=d[l+2],N=d[c],T=d[c+1],U=d[c+2],q=Math.round(A),j=Math.round(F);let ct,nt,Y,Q,at,dt,K,rt;for(let ut=q;ut<=j;ut++){if(ut<C){const xt=ut<A?0:(A-ut)/(A-C);ct=E-(E-S)*xt,nt=M-(M-W)*xt,Y=P-(P-D)*xt,Q=V-(V-I)*xt}else{let xt;ut>F?xt=1:C===F?xt=0:xt=(C-ut)/(C-F),ct=S-(S-x)*xt,nt=W-(W-N)*xt,Y=D-(D-T)*xt,Q=I-(I-U)*xt}let st;ut<A?st=0:ut>F?st=1:st=(A-ut)/(A-F),at=E-(E-x)*st,dt=M-(M-N)*st,K=P-(P-T)*st,rt=V-(V-U)*st;const vt=Math.round(Math.min(ct,at)),wt=Math.round(Math.max(ct,at));let _t=v*ut+vt*4;for(let xt=vt;xt<=wt;xt++)st=(ct-xt)/(ct-at),st<0?st=0:st>1&&(st=1),p[_t++]=nt-(nt-dt)*st|0,p[_t++]=Y-(Y-K)*st|0,p[_t++]=Q-(Q-rt)*st|0,p[_t++]=255}}function FQ(i,t,e){const n=t.coords,s=t.colors;let a,l;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(a=0;a<h;a++){let p=a*c;for(let v=0;v<d;v++,p++)oT(i,e,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),oT(i,e,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)oT(i,e,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class VQ extends fR{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,v=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),E=d/v,A=p/b,S={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/E,scaleY:1/A},C=v+2*2,x=b+2*2,F=n.getCanvas("mesh",C,x),M=F.context,P=M.createImageData(v,b);if(e){const W=P.data;for(let D=0,I=W.length;D<I;D+=4)W[D]=e[0],W[D+1]=e[1],W[D+2]=e[2],W[D+3]=255}for(const W of this._figures)FQ(P,W,S);return M.putImageData(P,2,2),{canvas:F.canvas,offsetX:c-2*E,offsetY:h-2*A,scaleX:E,scaleY:A}}getPattern(t,e,n,s){F1(t,this._bbox);let a;if(s===gs.SHADING)a=Ft.singularValueDecompose2dScale(Cn(t));else if(a=Ft.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=Ft.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const l=this._createMeshCanvas(a,s===gs.SHADING?null:this._background,e.cachedCanvases);return s!==gs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class UQ extends fR{getPattern(){return"hotpink"}}function BQ(i){switch(i[0]){case"RadialAxial":return new LQ(i);case"Mesh":return new VQ(i);case"Dummy":return new UQ}throw new Error(`Unknown IR type: ${i[0]}`)}const $O={COLORED:1,UNCOLORED:2},AE=class AE{constructor(t,e,n,s,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:d}=this;h=Math.abs(h),d=Math.abs(d),yA("TilingType: "+a);const p=e[0],v=e[1],b=e[2],E=e[3],A=b-p,S=E-v,C=Ft.singularValueDecompose2dScale(this.matrix),x=Ft.singularValueDecompose2dScale(this.baseTransform),F=C[0]*x[0],M=C[1]*x[1];let P=A,V=S,W=!1,D=!1;const I=Math.ceil(h*F),N=Math.ceil(d*M),T=Math.ceil(A*F),U=Math.ceil(S*M);I>=T?P=h:W=!0,N>=U?V=d:D=!0;const q=this.getSizeAndScale(P,this.ctx.canvas.width,F),j=this.getSizeAndScale(V,this.ctx.canvas.height,M),ct=t.cachedCanvases.getCanvas("pattern",q.size,j.size),nt=ct.context,Y=c.createCanvasGraphics(nt);if(Y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Y,s,l),nt.translate(-q.scale*p,-j.scale*v),Y.transform(q.scale,0,0,j.scale,0,0),nt.save(),this.clipBbox(Y,p,v,b,E),Y.baseTransform=Cn(Y.ctx),Y.executeOperatorList(n),Y.endDrawing(),nt.restore(),W||D){const Q=ct.canvas;W&&(P=h),D&&(V=d);const at=this.getSizeAndScale(P,this.ctx.canvas.width,F),dt=this.getSizeAndScale(V,this.ctx.canvas.height,M),K=at.size,rt=dt.size,ut=t.cachedCanvases.getCanvas("pattern-workaround",K,rt),st=ut.context,vt=W?Math.floor(A/h):0,wt=D?Math.floor(S/d):0;for(let _t=0;_t<=vt;_t++)for(let xt=0;xt<=wt;xt++)st.drawImage(Q,K*_t,rt*xt,K,rt,0,0,K,rt);return{canvas:ut.canvas,scaleX:at.scale,scaleY:dt.scale,offsetX:p,offsetY:v}}return{canvas:ct.canvas,scaleX:q.scale,scaleY:j.scale,offsetX:p,offsetY:v}}getSizeAndScale(t,e,n){const s=Math.max(AE.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=s?a=s:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,s,a){const l=s-e,c=a-n;t.ctx.rect(e,n,l,c),t.current.updateRectMinMax(Cn(t.ctx),[e,n,s,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,a=t.current;switch(e){case $O.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,a.fillColor=l.fillStyle,a.strokeColor=l.strokeStyle;break;case $O.UNCOLORED:const c=Ft.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new hQ(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let a=n;s!==gs.SHADING&&(a=Ft.transform(a,e.baseTransform),this.matrix&&(a=Ft.transform(a,this.matrix)));const l=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=t.createPattern(l.canvas,"repeat");return h.setTransform(c),h}};Qt(AE,"MAX_PATTERN_SIZE",3e3);let V1=AE;function zQ({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=ms.isLittleEndian?4278190080:255,[h,d]=l?[a,c]:[c,a],p=n>>3,v=n&7,b=i.length;e=new Uint32Array(e.buffer);let E=0;for(let A=0;A<s;A++){for(const C=t+p;t<C;t++){const x=t<b?i[t]:255;e[E++]=x&128?d:h,e[E++]=x&64?d:h,e[E++]=x&32?d:h,e[E++]=x&16?d:h,e[E++]=x&8?d:h,e[E++]=x&4?d:h,e[E++]=x&2?d:h,e[E++]=x&1?d:h}if(v===0)continue;const S=t<b?i[t++]:255;for(let C=0;C<v;C++)e[E++]=S&1<<7-C?d:h}return{srcPos:t,destPos:E}}const qO=16,GO=100,jQ=15,WO=10,KO=1e3,Cs=16;function HQ(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,a,l,c,h){t.transform(n,s,a,l,c,h),this.__originalTransform(n,s,a,l,c,h)},i.setTransform=function(n,s,a,l,c,h){t.setTransform(n,s,a,l,c,h),this.__originalSetTransform(n,s,a,l,c,h)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,a,l,c){t.bezierCurveTo(e,n,s,a,l,c),this.__originalBezierCurveTo(e,n,s,a,l,c)},i.rect=function(e,n,s,a){t.rect(e,n,s,a),this.__originalRect(e,n,s,a)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class $Q{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function B0(i,t,e,n,s,a,l,c,h,d){const[p,v,b,E,A,S]=Cn(i);if(v===0&&b===0){const F=l*p+A,M=Math.round(F),P=c*E+S,V=Math.round(P),W=(l+h)*p+A,D=Math.abs(Math.round(W)-M)||1,I=(c+d)*E+S,N=Math.abs(Math.round(I)-V)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(E),M,V),i.drawImage(t,e,n,s,a,0,0,D,N),i.setTransform(p,v,b,E,A,S),[D,N]}if(p===0&&E===0){const F=c*b+A,M=Math.round(F),P=l*v+S,V=Math.round(P),W=(c+d)*b+A,D=Math.abs(Math.round(W)-M)||1,I=(l+h)*v+S,N=Math.abs(Math.round(I)-V)||1;return i.setTransform(0,Math.sign(v),Math.sign(b),0,M,V),i.drawImage(t,e,n,s,a,0,0,N,D),i.setTransform(p,v,b,E,A,S),[N,D]}i.drawImage(t,e,n,s,a,l,c,h,d);const C=Math.hypot(p,v),x=Math.hypot(b,E);return[C*h,x*d]}function qQ(i){const{width:t,height:e}=i;if(t>KO||e>KO)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t+1;let l=new Uint8Array(a*(e+1)),c,h,d;const p=t+7&-8;let v=new Uint8Array(p*e),b=0;for(const x of i.data){let F=128;for(;F>0;)v[b++]=x&F?0:255,F>>=1}let E=0;for(b=0,v[b]!==0&&(l[0]=1,++E),h=1;h<t;h++)v[b]!==v[b+1]&&(l[h]=v[b]?2:1,++E),b++;for(v[b]!==0&&(l[h]=2,++E),c=1;c<e;c++){b=c*p,d=c*a,v[b-p]!==v[b]&&(l[d]=v[b]?1:8,++E);let x=(v[b]?4:0)+(v[b-p]?8:0);for(h=1;h<t;h++)x=(x>>2)+(v[b+1]?4:0)+(v[b-p+1]?8:0),s[x]&&(l[d+h]=s[x],++E),b++;if(v[b-p]!==v[b]&&(l[d+h]=v[b]?2:4,++E),E>n)return null}for(b=p*(e-1),d=c*a,v[b]!==0&&(l[d]=8,++E),h=1;h<t;h++)v[b]!==v[b+1]&&(l[d+h]=v[b]?4:8,++E),b++;if(v[b]!==0&&(l[d+h]=4,++E),E>n)return null;const A=new Int32Array([0,a,-1,0,-a,0,0,0,1]),S=new Path2D;for(c=0;E&&c<=e;c++){let x=c*a;const F=x+t;for(;x<F&&!l[x];)x++;if(x===F)continue;S.moveTo(x%a,c);const M=x;let P=l[x];do{const V=A[P];do x+=V;while(!l[x]);const W=l[x];W!==5&&W!==10?(P=W,l[x]=0):(P=W&51*P>>4,l[x]&=P>>2|P<<2),S.lineTo(x%a,x/a|0),l[x]||--E}while(M!==x);--c}return v=null,l=null,function(x){x.save(),x.scale(1/t,-1/e),x.translate(0,-e),x.fill(S),x.beginPath(),x.restore()}}class YO{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o4,this.textMatrixScale=1,this.fontMatrix=u1,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ki.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=Ft.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=Ft.applyTransform(e,t),s=Ft.applyTransform(e.slice(2),t),a=Ft.applyTransform([e[0],e[3]],t),l=Ft.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],a[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],a[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],a[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],a[1],l[1])}updateScalingPathMinMax(t,e){Ft.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,a,l,c,h,d,p){const v=Ft.bezierBoundingBox(e,n,s,a,l,c,h,d,p);p||this.updateRectMinMax(t,v)}getPathBoundingBox(t=gs.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===gs.STROKE){e||mn("Stroke bounding box must include transform.");const s=Ft.singularValueDecompose2dScale(e),a=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=a,n[1]-=l,n[2]+=a,n[3]+=l}return n}updateClipFromPath(){const t=Ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=gs.FILL,e=null){return Ft.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function XO(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%Cs,a=(e-s)/Cs,l=s===0?a:a+1,c=i.createImageData(n,Cs);let h=0,d;const p=t.data,v=c.data;let b,E,A,S;if(t.kind===a_.GRAYSCALE_1BPP){const C=p.byteLength,x=new Uint32Array(v.buffer,0,v.byteLength>>2),F=x.length,M=n+7>>3,P=4294967295,V=ms.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(A=b<a?Cs:s,d=0,E=0;E<A;E++){const W=C-h;let D=0;const I=W>M?n:W*8-7,N=I&-8;let T=0,U=0;for(;D<N;D+=8)U=p[h++],x[d++]=U&128?P:V,x[d++]=U&64?P:V,x[d++]=U&32?P:V,x[d++]=U&16?P:V,x[d++]=U&8?P:V,x[d++]=U&4?P:V,x[d++]=U&2?P:V,x[d++]=U&1?P:V;for(;D<I;D++)T===0&&(U=p[h++],T=128),x[d++]=U&T?P:V,T>>=1}for(;d<F;)x[d++]=0;i.putImageData(c,0,b*Cs)}}else if(t.kind===a_.RGBA_32BPP){for(E=0,S=n*Cs*4,b=0;b<a;b++)v.set(p.subarray(h,h+S)),h+=S,i.putImageData(c,0,E),E+=Cs;b<l&&(S=n*s*4,v.set(p.subarray(h,h+S)),i.putImageData(c,0,E))}else if(t.kind===a_.RGB_24BPP)for(A=Cs,S=n*A,b=0;b<l;b++){for(b>=a&&(A=s,S=n*A),d=0,E=S;E--;)v[d++]=p[h++],v[d++]=p[h++],v[d++]=p[h++],v[d++]=255;i.putImageData(c,0,b*Cs)}else throw new Error(`bad image kind: ${t.kind}`)}function QO(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%Cs,a=(e-s)/Cs,l=s===0?a:a+1,c=i.createImageData(n,Cs);let h=0;const d=t.data,p=c.data;for(let v=0;v<l;v++){const b=v<a?Cs:s;({srcPos:h}=zQ({src:d,srcPos:h,dest:p,width:n,height:b,nonBlackColor:0})),i.putImageData(c,0,v*Cs)}}function bm(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function z0(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!ss){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function ZO(i,t){if(t)return!0;const e=Ft.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Zc.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const GQ=["butt","round","square"],WQ=["miter","round","bevel"],KQ={},JO={};var eu,U1,B1;const ER=class ER{constructor(t,e,n,s,a,{optionalContentConfig:l,markedContentStack:c=null},h,d){$(this,eu);this.ctx=t,this.current=new YO(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new $Q(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Cn(this.compositeCtx))}this.ctx.save(),z0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Cn(this.ctx)}executeOperatorList(t,e,n,s){const a=t.argsArray,l=t.fnArray;let c=e||0;const h=a.length;if(h===c)return c;const d=h-c>WO&&typeof n=="function",p=d?Date.now()+jQ:0;let v=0;const b=this.commonObjs,E=this.objs;let A;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(A=l[c],A!==Mr.dependency)this[A].apply(this,a[c]);else for(const S of a[c]){const C=S.startsWith("g_")?b:E;if(!C.has(S))return C.get(S,n),c}if(c++,c===h)return c;if(d&&++v>WO){if(Date.now()>p)return n(),c;v=0}}}endDrawing(){B(this,eu,U1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),B(this,eu,B1).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=s,d="prescale1",p,v;for(;a>2&&c>1||l>2&&h>1;){let b=c,E=h;a>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/b),l>2&&h>1&&(E=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/E),p=this.cachedCanvases.getCanvas(d,b,E),v=p.context,v.clearRect(0,0,b,E),v.drawImage(t,0,0,c,h,0,0,b,E),t=p.canvas,c=b,h=E,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,a=this.current.fillColor,l=this.current.patternFill,c=Cn(e);let h,d,p,v;if((t.bitmap||t.data)&&t.count>1){const I=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),a]),h=this._cachedBitmapsMap.get(I),h||(h=new Map,this._cachedBitmapsMap.set(I,h));const N=h.get(d);if(N&&!l){const T=Math.round(Math.min(c[0],c[2])+c[4]),U=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:N,offsetX:T,offsetY:U}}p=N}p||(v=this.cachedCanvases.getCanvas("maskCanvas",n,s),QO(v.context,t));let b=Ft.transform(c,[1/n,0,0,-1/s,0,0]);b=Ft.transform(b,[1,0,0,1,0,-s]);const[E,A,S,C]=Ft.getAxialAlignedBoundingBox([0,0,n,s],b),x=Math.round(S-E)||1,F=Math.round(C-A)||1,M=this.cachedCanvases.getCanvas("fillCanvas",x,F),P=M.context,V=E,W=A;P.translate(-V,-W),P.transform(...b),p||(p=this._scaleImage(v.canvas,Mo(P)),p=p.img,h&&l&&h.set(d,p)),P.imageSmoothingEnabled=ZO(Cn(P),t.interpolate),B0(P,p,0,0,p.width,p.height,0,0,n,s),P.globalCompositeOperation="source-in";const D=Ft.transform(Mo(P),[1,0,0,1,-V,-W]);return P.fillStyle=l?a.getPattern(e,this,D,gs.FILL):a,P.fillRect(0,0,n,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,M.canvas)),{canvas:M.canvas,offsetX:Math.round(V),offsetY:Math.round(W)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=GQ[t]}setLineJoin(t){this.ctx.lineJoin=WQ[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...Cn(this.suspendedCtx)),bm(this.suspendedCtx,a),HQ(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const a=s[0],l=s[1],c=s[2]-a,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,a,l,c,h,d,p,v){let b=t.canvas,E=h-p,A=d-v;if(l){const C=Ft.makeHexColor(...l);if(E<0||A<0||E+n>b.width||A+s>b.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,s),F=x.context;F.drawImage(b,-E,-A),F.globalCompositeOperation="destination-atop",F.fillStyle=C,F.fillRect(0,0,n,s),F.globalCompositeOperation="source-over",b=x.canvas,E=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(E,A,n,s),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=C,t.fillRect(E,A,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const S=new Path2D;S.rect(h,d,n,s),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,E,A,n,s,h,d,n,s),e.restore()}save(){this.inSMaskMode?(bm(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bm(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,a,l){this.ctx.transform(t,e,n,s,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,a=this.current;let l=a.x,c=a.y,h,d;const p=Cn(s),v=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,b=v?n.slice(0):null;for(let E=0,A=0,S=t.length;E<S;E++)switch(t[E]|0){case Mr.rectangle:l=e[A++],c=e[A++];const C=e[A++],x=e[A++],F=l+C,M=c+x;s.moveTo(l,c),C===0||x===0?s.lineTo(F,M):(s.lineTo(F,c),s.lineTo(F,M),s.lineTo(l,M)),v||a.updateRectMinMax(p,[l,c,F,M]),s.closePath();break;case Mr.moveTo:l=e[A++],c=e[A++],s.moveTo(l,c),v||a.updatePathMinMax(p,l,c);break;case Mr.lineTo:l=e[A++],c=e[A++],s.lineTo(l,c),v||a.updatePathMinMax(p,l,c);break;case Mr.curveTo:h=l,d=c,l=e[A+4],c=e[A+5],s.bezierCurveTo(e[A],e[A+1],e[A+2],e[A+3],l,c),a.updateCurvePathMinMax(p,h,d,e[A],e[A+1],e[A+2],e[A+3],l,c,b),A+=6;break;case Mr.curveTo2:h=l,d=c,s.bezierCurveTo(l,c,e[A],e[A+1],e[A+2],e[A+3]),a.updateCurvePathMinMax(p,h,d,l,c,e[A],e[A+1],e[A+2],e[A+3],b),l=e[A+2],c=e[A+3],A+=4;break;case Mr.curveTo3:h=l,d=c,l=e[A+2],c=e[A+3],s.bezierCurveTo(e[A],e[A+1],l,c,l,c),a.updateCurvePathMinMax(p,h,d,e[A],e[A+1],l,c,l,c,b),A+=4;break;case Mr.closePath:s.closePath();break}v&&a.updateScalingPathMinMax(p,b),a.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,Mo(e),gs.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,Mo(e),gs.FILL),a=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),a&&e.restore(),t&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=KQ}eoClip(){this.pendingClip=JO}beginText(){this.current.textMatrix=o4,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var p;const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||u1,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&de("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let d=e;e<qO?d=qO:e>GO&&(d=GO),this.current.fontSizeScale=e/d,this.ctx.font=`${h} ${c} ${d}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,a,l){this.current.textMatrix=[t,e,n,s,a,l],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const a=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,p=h&Ki.FILL_STROKE_MASK,v=!!(h&Ki.ADD_TO_PATH_FLAG),b=l.patternFill&&!c.missingFile;let E;(c.disableFontFace||v||b)&&(E=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||b?(a.save(),a.translate(e,n),a.beginPath(),E(a,d),s&&a.setTransform(...s),(p===Ki.FILL||p===Ki.FILL_STROKE)&&a.fill(),(p===Ki.STROKE||p===Ki.FILL_STROKE)&&a.stroke(),a.restore()):((p===Ki.FILL||p===Ki.FILL_STROKE)&&a.fillText(t,e,n),(p===Ki.STROKE||p===Ki.FILL_STROKE)&&a.strokeText(t,e,n)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Cn(a),x:e,y:n,fontSize:d,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Ae(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,l=e.fontSizeScale,c=e.charSpacing,h=e.wordSpacing,d=e.fontDirection,p=e.textHScale*d,v=t.length,b=n.vertical,E=b?1:-1,A=n.defaultVMetrics,S=s*e.fontMatrix[0],C=e.textRenderingMode===Ki.FILL&&!n.disableFontFace&&!e.patternFill;a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),d>0?a.scale(p,-1):a.scale(p,1);let x;if(e.patternFill){a.save();const W=e.fillColor.getPattern(a,this,Mo(a),gs.FILL);x=Cn(a),a.restore(),a.fillStyle=W}let F=e.lineWidth;const M=e.textMatrixScale;if(M===0||F===0){const W=e.textRenderingMode&Ki.FILL_STROKE_MASK;(W===Ki.STROKE||W===Ki.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=M;if(l!==1&&(a.scale(l,l),F/=l),a.lineWidth=F,n.isInvalidPDFjsFont){const W=[];let D=0;for(const I of t)W.push(I.unicode),D+=I.width;a.fillText(W.join(""),0,0),e.x+=D*S*p,a.restore(),this.compose();return}let P=0,V;for(V=0;V<v;++V){const W=t[V];if(typeof W=="number"){P+=E*W*s/1e3;continue}let D=!1;const I=(W.isSpace?h:0)+c,N=W.fontChar,T=W.accent;let U,q,j=W.width;if(b){const nt=W.vmetric||A,Y=-(W.vmetric?nt[1]:j*.5)*S,Q=nt[2]*S;j=nt?-nt[0]:j,U=Y/l,q=(P+Q)/l}else U=P/l,q=0;if(n.remeasure&&j>0){const nt=a.measureText(N).width*1e3/s*l;if(j<nt&&this.isFontSubpixelAAEnabled){const Y=j/nt;D=!0,a.save(),a.scale(Y,1),U/=Y}else j!==nt&&(U+=(j-nt)/2e3*s/l)}if(this.contentVisible&&(W.isInFont||n.missingFile)){if(C&&!T)a.fillText(N,U,q);else if(this.paintChar(N,U,q,x),T){const nt=U+s*T.offset.x/l,Y=q-s*T.offset.y/l;this.paintChar(T.fontChar,nt,Y,x)}}const ct=b?j*S-I*d:j*S+I*d;P+=ct,D&&a.restore()}b?e.y-=P:e.x+=P*p,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,a=n.fontSize,l=n.fontDirection,c=s.vertical?1:-1,h=n.charSpacing,d=n.wordSpacing,p=n.textHScale*l,v=n.fontMatrix||u1,b=t.length,E=n.textRenderingMode===Ki.INVISIBLE;let A,S,C,x;if(!(E||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(p,l),A=0;A<b;++A){if(S=t[A],typeof S=="number"){x=c*S*a/1e3,this.ctx.translate(x,0),n.x+=x*p;continue}const F=(S.isSpace?d:0)+h,M=s.charProcOperatorList[S.operatorListId];if(!M){de(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),e.scale(a,a),e.transform(...v),this.executeOperatorList(M),this.restore()),C=Ft.applyTransform([S.width,0],v)[0]*a+F,e.translate(C,0),n.x+=C*p}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,a,l){this.ctx.rect(n,s,a-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||Cn(this.ctx),a={createCanvasGraphics:l=>new ER(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new V1(t,n,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=Ft.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=Ft.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=BQ(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Mo(e),gs.SHADING);const s=Mo(e);if(s){const{width:a,height:l}=e.canvas,[c,h,d,p]=Ft.getAxialAlignedBoundingBox([0,0,a,l],s);this.ctx.fillRect(c,h,d-c,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){mn("Should not call beginInlineImage")}beginImageData(){mn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Cn(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(Cn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||yA("TODO: Support non-isolated groups."),t.knockout&&de("Knockout groups not supported.");const n=Cn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Ft.getAxialAlignedBoundingBox(t.bbox,Cn(e));const a=[0,0,e.canvas.width,e.canvas.height];s=Ft.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(p,h,d),b=v.context;b.translate(-l,-c),b.transform(...n),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(l,c),e.save()),bm(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Cn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=Ft.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,s,a){if(B(this,eu,U1).call(this),z0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const l=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=l,e[3]=c;const[h,d]=Ft.singularValueDecompose2dScale(Cn(this.ctx)),{viewportScale:p}=this,v=Math.ceil(l*this.outputScaleX*p),b=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:E,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(h,0,0,-d,0,c*d),z0(this.ctx)}else z0(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],l,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new YO(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,eu,B1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=qQ(t)),s.compiled)){s.compiled(n);return}const a=this._createMaskCanvas(t),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,a,l){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const h=Cn(c);c.transform(e,n,s,a,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]);for(let p=0,v=l.length;p<v;p+=2){const b=Ft.transform(h,[e,n,s,a,l[p],l[p+1]]),[E,A]=Ft.applyTransform([0,0],b);c.drawImage(d.canvas,E,A)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:l,width:c,height:h,transform:d}=a,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),v=p.context;v.save();const b=this.getObject(l,a);QO(v,b),v.globalCompositeOperation="source-in",v.fillStyle=s?n.getPattern(v,this,Mo(e),gs.FILL):n,v.fillRect(0,0,c,h),v.restore(),e.save(),e.transform(...d),e.scale(1,-1),B0(e,p.canvas,0,0,c,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){de("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){de("Dependent image isn't ready yet");return}const l=a.width,c=a.height,h=[];for(let d=0,p=s.length;d<p;d+=2)h.push({transform:[e,0,0,n,s[d],s[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,s),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!ss){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/e,-1/n);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",e,n).context;XO(h,t),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,Mo(s));s.imageSmoothingEnabled=ZO(Cn(s),t.interpolate),B0(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,l=t.height,h=this.cachedCanvases.getCanvas("inlineImage",a,l).context;XO(h,t),s=this.applyTransferMapsToCanvas(h)}for(const a of e)n.save(),n.transform(...a.transform),n.scale(1,-1),B0(n,s,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===JO?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Cn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:a}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(e),d=Math.abs(a);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,v=d*t;l=p<1?1/p:1,c=v<1?1/v:1}}else{const h=Math.abs(e*a-n*s),d=Math.hypot(e,n),p=Math.hypot(s,a);if(t===0)l=p/h,c=d/h;else{const v=t*h;l=p>v?p/v:1,c=d>v?d/v:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,a]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&a===1){e.stroke();return}const l=e.getLineDash();if(t&&e.save(),e.scale(s,a),l.length>0){const c=Math.max(s,a);e.setLineDash(l.map(h=>h/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};eu=new WeakSet,U1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},B1=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Df=ER;for(const i in Mr)Df.prototype[i]!==void 0&&(Df.prototype[Mr[i]]=Df.prototype[i]);var Ny,Ly;class al{static get workerPort(){return g(this,Ny)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");L(this,Ny,t)}static get workerSrc(){return g(this,Ly)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");L(this,Ly,t)}}Ny=new WeakMap,Ly=new WeakMap,$(al,Ny,null),$(al,Ly,"");const j0={DATA:1,ERROR:2},Zn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Bs(i){switch(i instanceof Error||typeof i=="object"&&i!==null||mn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new ld(i.message);case"MissingPDFException":return new od(i.message);case"PasswordException":return new h1(i.message,i.code);case"UnexpectedResponseException":return new vA(i.message,i.status);case"UnknownErrorException":return new d1(i.message,i.details);default:return new d1(i.message,i.toString())}}var Zf,Sr,q4,G4,W4,p_;class Dm{constructor(t,e,n){$(this,Sr);$(this,Zf,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",B(this,Sr,q4).bind(this),{signal:g(this,Zf).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,n,s){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:Zn.PULL,streamId:a,desiredSize:d.desiredSize}),p.promise},cancel:d=>{pi(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:Zn.CANCEL,streamId:a,reason:Bs(d)}),p.promise}},n)}destroy(){var t;(t=g(this,Zf))==null||t.abort(),L(this,Zf,null)}}Zf=new WeakMap,Sr=new WeakSet,q4=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){B(this,Sr,W4).call(this,t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===j0.DATA)s.resolve(t.data);else if(t.callback===j0.ERROR)s.reject(Bs(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,a=this.comObj;new Promise(function(l){l(e(t.data))}).then(function(l){a.postMessage({sourceName:n,targetName:s,callback:j0.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:s,callback:j0.ERROR,callbackId:t.callbackId,reason:Bs(l)})});return}if(t.streamId){B(this,Sr,G4).call(this,t);return}e(t.data)},G4=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:Zn.ENQUEUE,streamId:e,chunk:d},v)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:Zn.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){pi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:Zn.ERROR,streamId:e,reason:Bs(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,new Promise(function(d){d(c(t.data,h))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Zn.START_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:s,stream:Zn.START_COMPLETE,streamId:e,reason:Bs(d)})})},W4=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Zn.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Bs(t.reason));break;case Zn.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Bs(t.reason));break;case Zn.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:Zn.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(h){var d;h((d=c.onPull)==null?void 0:d.call(c))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Zn.PULL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:Zn.PULL_COMPLETE,streamId:e,reason:Bs(h)})});break;case Zn.ENQUEUE:if(pi(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Zn.CLOSE:if(pi(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),B(this,Sr,p_).call(this,l,e);break;case Zn.ERROR:pi(l,"error should have stream controller"),l.controller.error(Bs(t.reason)),B(this,Sr,p_).call(this,l,e);break;case Zn.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Bs(t.reason)),B(this,Sr,p_).call(this,l,e);break;case Zn.CANCEL:if(!c)break;new Promise(function(h){var d;h((d=c.onCancel)==null?void 0:d.call(c,Bs(t.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Zn.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:Zn.CANCEL_COMPLETE,streamId:e,reason:Bs(h)})}),c.sinkCapability.reject(Bs(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},p_=async function(t,e){var n,s,a;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var hh,Fy;class YQ{constructor({parsedData:t,rawData:e}){$(this,hh);$(this,Fy);L(this,hh,t),L(this,Fy,e)}getRaw(){return g(this,Fy)}get(t){return g(this,hh).get(t)??null}getAll(){return aR(g(this,hh))}has(t){return g(this,hh).has(t)}}hh=new WeakMap,Fy=new WeakMap;const mf=Symbol("INTERNAL");var Vy,Uy,By,Jf;class XQ{constructor(t,{name:e,intent:n,usage:s,rbGroups:a}){$(this,Vy,!1);$(this,Uy,!1);$(this,By,!1);$(this,Jf,!0);L(this,Vy,!!(t&Ys.DISPLAY)),L(this,Uy,!!(t&Ys.PRINT)),this.name=e,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(g(this,By))return g(this,Jf);if(!g(this,Jf))return!1;const{print:t,view:e}=this.usage;return g(this,Vy)?(e==null?void 0:e.viewState)!=="OFF":g(this,Uy)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==mf&&mn("Internal method `_setVisible` called."),L(this,By,n),L(this,Jf,e)}}Vy=new WeakMap,Uy=new WeakMap,By=new WeakMap,Jf=new WeakMap;var Ec,We,tp,ep,zy,z1;class QQ{constructor(t,e=Ys.DISPLAY){$(this,zy);$(this,Ec,null);$(this,We,new Map);$(this,tp,null);$(this,ep,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,L(this,ep,t.order);for(const n of t.groups)g(this,We).set(n.id,new XQ(e,n));if(t.baseState==="OFF")for(const n of g(this,We).values())n._setVisible(mf,!1);for(const n of t.on)g(this,We).get(n)._setVisible(mf,!0);for(const n of t.off)g(this,We).get(n)._setVisible(mf,!1);L(this,tp,this.getHash())}}isVisible(t){if(g(this,We).size===0)return!0;if(!t)return yA("Optional content group not defined."),!0;if(t.type==="OCG")return g(this,We).has(t.id)?g(this,We).get(t.id).visible:(de(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return B(this,zy,z1).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(g(this,We).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(!g(this,We).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(!g(this,We).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(g(this,We).get(e).visible)return!1}return!0}return de(`Unknown optional content policy ${t.policy}.`),!0}return de(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var a;const s=g(this,We).get(t);if(!s){de(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==t&&((a=g(this,We).get(c))==null||a._setVisible(mf,!1,!0));s._setVisible(mf,!!e,!0),L(this,Ec,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=g(this,We).get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}L(this,Ec,null)}get hasInitialVisibility(){return g(this,tp)===null||this.getHash()===g(this,tp)}getOrder(){return g(this,We).size?g(this,ep)?g(this,ep).slice():[...g(this,We).keys()]:null}getGroups(){return g(this,We).size>0?aR(g(this,We)):null}getGroup(t){return g(this,We).get(t)||null}getHash(){if(g(this,Ec)!==null)return g(this,Ec);const t=new D4;for(const[e,n]of g(this,We))t.update(`${e}:${n.visible}`);return L(this,Ec,t.hexdigest())}}Ec=new WeakMap,We=new WeakMap,tp=new WeakMap,ep=new WeakMap,zy=new WeakSet,z1=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const a=t[s];let l;if(Array.isArray(a))l=B(this,zy,z1).call(this,a);else if(g(this,We).has(a))l=g(this,We).get(a).visible;else return de(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class ZQ{constructor(t,{disableRange:e=!1,disableStream:n=!1}){pi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});pi(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,a;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){pi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new JQ(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new tZ(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class JQ{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=cR(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class tZ{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function eZ(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),a(p)}if(e=l(i),e){const p=d(e);return a(p)}if(e=n("filename","i").exec(i),e){e=e[1];let p=c(e);return p=d(p),a(p)}function n(p,v){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function s(p,v){if(p){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(p,{fatal:!0}),E=bA(v);v=b.decode(E),t=!1}catch{}}return v}function a(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function l(p){const v=[];let b;const E=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=E.exec(p))!==null;){let[,S,C,x]=b;if(S=parseInt(S,10),S in v){if(S===0)break;continue}v[S]=[C,x]}const A=[];for(let S=0;S<v.length&&S in v;++S){let[C,x]=v[S];x=c(x),C&&(x=unescape(x),S===0&&(x=h(x))),A.push(x)}return A.join("")}function c(p){if(p.startsWith('"')){const v=p.slice(1).split('\\"');for(let b=0;b<v.length;++b){const E=v[b].indexOf('"');E!==-1&&(v[b]=v[b].slice(0,E),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}p=v.join('"')}return p}function h(p){const v=p.indexOf("'");if(v===-1)return p;const b=p.slice(0,v),A=p.slice(v+1).replace(/^[^']*'/,"");return s(b,A)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,E,A){if(E==="q"||E==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),s(b,A);try{A=atob(A)}catch{}return s(b,A)})}return""}function pR(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function gR({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(i.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function mR(i){const t=i.get("Content-Disposition");if(t){let e=eZ(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(cR(e))return e}return null}function AA(i,t){return i===404||i===0&&t.startsWith("file:")?new od('Missing PDF "'+t+'".'):new vA(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function K4(i){return i===200||i===206}function Y4(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function X4(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(de(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class tD{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=pR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return pi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new nZ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new iZ(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class nZ{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,Y4(n,this._withCredentials,this._abortController)).then(a=>{if(!K4(a.status))throw AA(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=gR({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=mR(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ld("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:X4(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class iZ{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,Y4(a,this._withCredentials,this._abortController)).then(c=>{if(!K4(c.status))throw AA(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:X4(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const lT=200,cT=206;function sZ(i){const t=i.response;return typeof t!="string"?t:bA(t).buffer}class rZ{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=pR(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const a in n)s[a]=n[a];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=cT):s.expectedStatus=lT,e.responseType="arraybuffer",t.onError&&(e.onerror=function(a){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var s;const n=this.pendingRequests[t];n&&((s=n.onProgress)==null||s.call(n,e))}onStateChange(t,e){var h,d,p;const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(h=n.onError)==null||h.call(n,s.status);return}const a=s.status||lT;if(!(a===lT&&n.expectedStatus===cT)&&a!==n.expectedStatus){(d=n.onError)==null||d.call(n,s.status);return}const c=sZ(s);if(a===cT){const v=s.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);n.onDone({begin:parseInt(b[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class aZ{constructor(t){this._source=t,this._manager=new rZ(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return pi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new oZ(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new lZ(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class oZ{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]})),{allowRangeRequests:s,suggestedLength:a}=gR({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=mR(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=AA(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lZ{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=AA(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const cZ=/^[a-z][a-z0-9\-+.]+:/i;function uZ(i){if(cZ.test(i))return new URL(i);const t=Jc.get("url");return new URL(t.pathToFileURL(i))}function Q4(i,t,e){return i.protocol==="http:"?Jc.get("http").request(i,{headers:t},e):Jc.get("https").request(i,{headers:t},e)}class hZ{constructor(t){this.source=t,this.url=uZ(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=pR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return pi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new pZ(this):new dZ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new gZ(this,t,e):new fZ(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Z4{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ld("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class J4{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class dZ extends Z4{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=s=>{if(s.statusCode===404){const h=new od(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(s);const a=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:c}=gR({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=mR(a)};this._request=Q4(this._url,e,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class fZ extends J4{constructor(t,e,n){super(t);const s=Object.fromEntries(t.headers);s.Range=`bytes=${e}-${n-1}`;const a=l=>{if(l.statusCode===404){const c=new od(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(l)};this._request=Q4(this._url,s,a),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class pZ extends Z4{constructor(t){super(t);const e=Jc.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new od(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class gZ extends J4{constructor(t,e,n){super(t);const s=Jc.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}}const mZ=1e5,As=30,yZ=.8;var gD,Ac,Ts,jy,Hy,dh,jo,$y,qy,fh,np,ip,Sc,sp,Gy,rp,ph,Wy,Ky,Vn,gh,mh,Yy,wc,ap,Al,t3,e3,H1,Js,g_,$1,n3,i3;let j1=(Vn=class{constructor({textContentSource:t,container:e,viewport:n}){$(this,Al);$(this,Ac,Promise.withResolvers());$(this,Ts,null);$(this,jy,!1);$(this,Hy,!!((gD=globalThis.FontInspector)!=null&&gD.enabled));$(this,dh,null);$(this,jo,null);$(this,$y,0);$(this,qy,0);$(this,fh,null);$(this,np,null);$(this,ip,0);$(this,Sc,0);$(this,sp,Object.create(null));$(this,Gy,[]);$(this,rp,null);$(this,ph,[]);$(this,Wy,new WeakMap);$(this,Ky,null);var h;if(t instanceof ReadableStream)L(this,rp,t);else if(typeof t=="object")L(this,rp,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');L(this,Ts,L(this,np,e)),L(this,Sc,n.scale*(globalThis.devicePixelRatio||1)),L(this,ip,n.rotation),L(this,jo,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:l,pageY:c}=n.rawDims;L(this,Ky,[1,0,0,-1,-l,c+a]),L(this,qy,s),L(this,$y,a),B(h=Vn,Js,n3).call(h),Xh(e,n),g(this,Ac).promise.finally(()=>{g(Vn,ap).delete(this),L(this,jo,null),L(this,sp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=ms.platform;return Ae(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{g(this,fh).read().then(({value:e,done:n})=>{if(n){g(this,Ac).resolve();return}g(this,dh)??L(this,dh,e.lang),Object.assign(g(this,sp),e.styles),B(this,Al,t3).call(this,e.items),t()},g(this,Ac).reject)};return L(this,fh,g(this,rp).getReader()),g(Vn,ap).add(this),t(),g(this,Ac).promise}update({viewport:t,onBefore:e=null}){var a;const n=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==g(this,ip)&&(e==null||e(),L(this,ip,s),Xh(g(this,np),{rotation:s})),n!==g(this,Sc)){e==null||e(),L(this,Sc,n);const l={div:null,properties:null,ctx:B(a=Vn,Js,g_).call(a,g(this,dh))};for(const c of g(this,ph))l.properties=g(this,Wy).get(c),l.div=c,B(this,Al,H1).call(this,l)}}cancel(){var e;const t=new ld("TextLayer task cancelled.");(e=g(this,fh))==null||e.cancel(t).catch(()=>{}),L(this,fh,null),g(this,Ac).reject(t)}get textDivs(){return g(this,ph)}get textContentItemsStr(){return g(this,Gy)}static cleanup(){if(!(g(this,ap).size>0)){g(this,gh).clear();for(const{canvas:t}of g(this,mh).values())t.remove();g(this,mh).clear()}}},Ac=new WeakMap,Ts=new WeakMap,jy=new WeakMap,Hy=new WeakMap,dh=new WeakMap,jo=new WeakMap,$y=new WeakMap,qy=new WeakMap,fh=new WeakMap,np=new WeakMap,ip=new WeakMap,Sc=new WeakMap,sp=new WeakMap,Gy=new WeakMap,rp=new WeakMap,ph=new WeakMap,Wy=new WeakMap,Ky=new WeakMap,gh=new WeakMap,mh=new WeakMap,Yy=new WeakMap,wc=new WeakMap,ap=new WeakMap,Al=new WeakSet,t3=function(t){var s,a;if(g(this,jy))return;(a=g(this,jo)).ctx??(a.ctx=B(s=Vn,Js,g_).call(s,g(this,dh)));const e=g(this,ph),n=g(this,Gy);for(const l of t){if(e.length>mZ){de("Ignoring additional textDivs for performance reasons."),L(this,jy,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=g(this,Ts);L(this,Ts,document.createElement("span")),g(this,Ts).classList.add("markedContent"),l.id!==null&&g(this,Ts).setAttribute("id",`${l.id}`),c.append(g(this,Ts))}else l.type==="endMarkedContent"&&L(this,Ts,g(this,Ts).parentNode);continue}n.push(l.str),B(this,Al,e3).call(this,l)}},e3=function(t){var S;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};g(this,ph).push(e);const s=Ft.transform(g(this,Ky),t.transform);let a=Math.atan2(s[1],s[0]);const l=g(this,sp)[t.fontName];l.vertical&&(a+=Math.PI/2);let c=g(this,Hy)&&l.fontSubstitution||l.fontFamily;c=Vn.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),d=h*B(S=Vn,Js,i3).call(S,c,g(this,dh));let p,v;a===0?(p=s[4],v=s[5]-d):(p=s[4]+d*Math.sin(a),v=s[5]-d*Math.cos(a));const b="calc(var(--scale-factor)*",E=e.style;g(this,Ts)===g(this,np)?(E.left=`${(100*p/g(this,qy)).toFixed(2)}%`,E.top=`${(100*v/g(this,$y)).toFixed(2)}%`):(E.left=`${b}${p.toFixed(2)}px)`,E.top=`${b}${v.toFixed(2)}px)`),E.fontSize=`${b}${(g(Vn,wc)*h).toFixed(2)}px)`,E.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,g(this,Hy)&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const C=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);C!==x&&Math.max(C,x)/Math.min(C,x)>1.5&&(A=!0)}if(A&&(n.canvasWidth=l.vertical?t.height:t.width),g(this,Wy).set(e,n),g(this,jo).div=e,g(this,jo).properties=n,B(this,Al,H1).call(this,g(this,jo)),n.hasText&&g(this,Ts).append(e),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),g(this,Ts).append(C)}},H1=function(t){var c;const{div:e,properties:n,ctx:s}=t,{style:a}=e;let l="";if(g(Vn,wc)>1&&(l=`scale(${1/g(Vn,wc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=a,{canvasWidth:d,fontSize:p}=n;B(c=Vn,Js,$1).call(c,s,p*g(this,Sc),h);const{width:v}=s.measureText(e.textContent);v>0&&(l=`scaleX(${d*g(this,Sc)/v}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Js=new WeakSet,g_=function(t=null){let e=g(this,mh).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,mh).set(t,e),g(this,Yy).set(e,{size:0,family:""})}return e},$1=function(t,e,n){const s=g(this,Yy).get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)},n3=function(){if(g(this,wc)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),L(this,wc,t.getBoundingClientRect().height),t.remove()},i3=function(t,e){const n=g(this,gh).get(t);if(n)return n;const s=B(this,Js,g_).call(this,e);s.canvas.width=s.canvas.height=As,B(this,Js,$1).call(this,s,As,t);const a=s.measureText("");let l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(l){const p=l/(l+c);return g(this,gh).set(t,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,As,As),s.strokeText("g",0,0);let h=s.getImageData(0,0,As,As).data;c=0;for(let p=h.length-1-3;p>=0;p-=4)if(h[p]>0){c=Math.ceil(p/4/As);break}s.clearRect(0,0,As,As),s.strokeText("A",0,As),h=s.getImageData(0,0,As,As).data,l=0;for(let p=0,v=h.length;p<v;p+=4)if(h[p]>0){l=As-Math.floor(p/4/As);break}s.canvas.width=s.canvas.height=0;const d=l?l/(l+c):yZ;return g(this,gh).set(t,d),d},$(Vn,Js),$(Vn,gh,new Map),$(Vn,mh,new Map),$(Vn,Yy,new WeakMap),$(Vn,wc,null),$(Vn,ap,new Set),Vn);class fy{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(a){var h;if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(fy.shouldBuildText(c))(h=a==null?void 0:a.attributes)!=null&&h.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const d of a.children)s(d)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const vZ=65536,bZ=100,_Z=5e3,EZ=ss?OQ:kQ,AZ=ss?DQ:U4,SZ=ss?MQ:PQ,wZ=ss?NQ:H4;function TZ(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new q1,{docId:e}=t,n=i.url?xZ(i.url):null,s=i.data?CZ(i.data):null,a=i.httpHeaders||null,l=i.withCredentials===!0,c=i.password??null,h=i.range instanceof s3?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:vZ;let p=i.worker instanceof Nf?i.worker:null;const v=i.verbosity,b=typeof i.docBaseUrl=="string"&&!EA(i.docBaseUrl)?i.docBaseUrl:null,E=typeof i.cMapUrl=="string"?i.cMapUrl:null,A=i.cMapPacked!==!1,S=i.CMapReaderFactory||AZ,C=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,x=i.StandardFontDataFactory||wZ,F=i.stopAtErrors!==!0,M=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,P=i.isEvalSupported!==!1,V=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!ss,W=typeof i.isChrome=="boolean"?i.isChrome:!ms.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),D=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,I=typeof i.disableFontFace=="boolean"?i.disableFontFace:ss,N=i.fontExtraProperties===!0,T=i.enableXfa===!0,U=i.ownerDocument||globalThis.document,q=i.disableRange===!0,j=i.disableStream===!0,ct=i.disableAutoFetch===!0,nt=i.pdfBug===!0,Y=i.CanvasFactory||EZ,Q=i.FilterFactory||SZ,at=i.enableHWA===!0,dt=h?h.length:i.length??NaN,K=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!ss&&!I,rt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:S===U4&&x===H4&&E&&C&&Cm(E,document.baseURI)&&Cm(C,document.baseURI);i.canvasFactory&&jO("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&jO("`filterFactory`-instance option, please use `FilterFactory` instead.");const ut=null;oQ(v);const st={canvasFactory:new Y({ownerDocument:U,enableHWA:at}),filterFactory:new Q({docId:e,ownerDocument:U}),cMapReaderFactory:rt?null:new S({baseUrl:E,isCompressed:A}),standardFontDataFactory:rt?null:new x({baseUrl:C})};if(!p){const _t={verbosity:v,port:al.workerPort};p=_t.port?Nf.fromPort(_t):new Nf(_t),t._worker=p}const vt={docId:e,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:ct,rangeChunkSize:d,length:dt,docBaseUrl:b,enableXfa:T,evaluatorOptions:{maxImageSize:M,disableFontFace:I,ignoreErrors:F,isEvalSupported:P,isOffscreenCanvasSupported:V,isChrome:W,canvasMaxAreaInBytes:D,fontExtraProperties:N,useSystemFonts:K,cMapUrl:rt?E:null,standardFontDataUrl:rt?C:null}},wt={disableFontFace:I,fontExtraProperties:N,ownerDocument:U,pdfBug:nt,styleElement:ut,loadingParams:{disableAutoFetch:ct,enableXfa:T}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const _t=p.messageHandler.sendWithPromise("GetDocRequest",vt,s?[s.buffer]:null);let xt;if(h)xt=new ZQ(h,{disableRange:q,disableStream:j});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Bt;ss?Bt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Cm(n)?tD:hZ:Bt=Cm(n)?tD:aZ,xt=new Bt({url:n,length:dt,httpHeaders:a,withCredentials:l,rangeChunkSize:d,disableRange:q,disableStream:j})}return _t.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const jt=new Dm(e,Bt,p.port),Et=new PZ(jt,t,xt,wt,st);t._transport=Et,jt.send("Ready",null)})}).catch(t._capability.reject),t}function xZ(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(ss&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function CZ(i){if(ss&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return bA(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function eD(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var SE;const wE=class wE{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ds(wE,SE)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};SE=new WeakMap,$(wE,SE,0);let q1=wE,s3=class{constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){mn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class RZ{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Tc,Ho,Er,yf,m_;class IZ{constructor(t,e,n,s=!1){$(this,Er);$(this,Tc,null);$(this,Ho,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new zO:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new r3,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new Xv({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=cc.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:v=!1}){var P,V;(P=this._stats)==null||P.time("Overall");const b=this._transport.getRenderingIntent(n,s,p,v),{renderingIntent:E,cacheKey:A}=b;L(this,Ho,!1),B(this,Er,m_).call(this),c||(c=this._transport.getOptionalContentConfig(E));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(E&Ys.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(V=this._stats)==null||V.time("Page Request"),this._pumpOperatorList(b));const x=W=>{var D;S.renderTasks.delete(F),(this._maybeCleanupAfterRender||C)&&L(this,Ho,!0),B(this,Er,yf).call(this,!C),W?(F.capability.reject(W),this._abortOperatorList({intentState:S,reason:W instanceof Error?W:new Error(W)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new W1({callback:x,params:{canvasContext:t,viewport:e,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:d});(S.renderTasks||(S.renderTasks=new Set)).add(F);const M=F.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([W,D])=>{var I;if(this.destroyed){x();return}if((I=this._stats)==null||I.time("Rendering"),!(D.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:W,optionalContentConfig:D}),F.operatorListChanged()}).catch(x),M}getOperatorList({intent:t="display",annotationMode:e=cc.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var d;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>fy.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function a(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},s)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),L(this,Ho,!1),B(this,Er,m_).call(this),Promise.all(t)}cleanup(t=!1){L(this,Ho,!0);const e=B(this,Er,yf).call(this,!1);return t&&e&&this._stats&&(this._stats=new zO),e}_startRenderPage(t,e){var s,a;const n=this._intentStates.get(e);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&B(this,Er,yf).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:v,done:b})=>{if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,d),p())},v=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const b of d.renderTasks)b.operatorListChanged();B(this,Er,yf).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(v);else if(d.opListReadCapability)d.opListReadCapability.reject(v);else throw v}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof lR){let s=bZ;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new ld(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Tc=new WeakMap,Ho=new WeakMap,Er=new WeakSet,yf=function(t=!1){if(B(this,Er,m_).call(this),!g(this,Ho)||this.destroyed)return!1;if(t)return L(this,Tc,setTimeout(()=>{L(this,Tc,null),B(this,Er,yf).call(this,!1)},_Z)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),L(this,Ho,!1),!0},m_=function(){g(this,Tc)&&(clearTimeout(g(this,Tc)),L(this,Tc,null))};var $o,TE;class kZ{constructor(){$(this,$o,new Map);$(this,TE,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};g(this,TE).then(()=>{for(const[s]of g(this,$o))s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){de("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}g(this,$o).set(e,s)}removeEventListener(t,e){const n=g(this,$o).get(e);n==null||n(),g(this,$o).delete(e)}terminate(){for(const[,t]of g(this,$o))t==null||t();g(this,$o).clear()}}$o=new WeakMap,TE=new WeakMap;var xE,yh,vh,op,y_,lp,v_;const En=class En{constructor({name:t=null,port:e=null,verbosity:n=lQ()}={}){$(this,op);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=g(En,vh))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(g(En,vh)||L(En,vh,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return ss?Promise.all([Jc.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Dm("main","worker",t),this._messageHandler.on("ready",function(){}),B(this,op,y_).call(this)}_initialize(){if(g(En,yh)||g(En,lp,v_)){this._setupFakeWorker();return}let{workerSrc:t}=En;try{En._isSameOrigin(window.location.href,t)||(t=En._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Dm("main","worker",e),s=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=e,this._webWorker=e,B(this,op,y_).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{yA("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(En,yh)||(de("Setting up fake worker."),L(En,yh,!0)),En._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new kZ;this._port=e;const n=`fake${ds(En,xE)._++}`,s=new Dm(n+"_worker",n,e);t.setup(s,e),this._messageHandler=new Dm(n,n+"_worker",e),B(this,op,y_).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=g(En,vh))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=g(this,vh))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new En(t)}static get workerSrc(){if(al.workerSrc)return al.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ae(this,"_setupFakeWorkerGlobal",(async()=>g(this,lp,v_)?g(this,lp,v_):(await import(this.workerSrc)).WorkerMessageHandler)())}};xE=new WeakMap,yh=new WeakMap,vh=new WeakMap,op=new WeakSet,y_=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},lp=new WeakSet,v_=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},$(En,lp),$(En,xE,0),$(En,yh,!1),$(En,vh),ss&&(L(En,yh,!0),al.workerSrc||(al.workerSrc="./pdf.worker.mjs")),En._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(e,n);return n.origin===s.origin},En._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Nf=En;var qo,Pa,cp,up,Ma,bh,Nm;class PZ{constructor(t,e,n,s,a){$(this,bh);$(this,qo,new Map);$(this,Pa,new Map);$(this,cp,new Map);$(this,up,new Map);$(this,Ma,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new r3,this.fontLoader=new RQ({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ae(this,"annotationStorage",new dR)}getRenderingIntent(t,e=cc.ENABLE,n=null,s=!1,a=!1){let l=Ys.DISPLAY,c=O1;switch(t){case"any":l=Ys.ANY;break;case"display":break;case"print":l=Ys.PRINT;break;default:de(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Ys.PRINT&&n instanceof L4?n:this.annotationStorage;switch(e){case cc.DISABLE:l+=Ys.ANNOTATIONS_DISABLE;break;case cc.ENABLE:break;case cc.ENABLE_FORMS:l+=Ys.ANNOTATIONS_FORMS;break;case cc.ENABLE_STORAGE:l+=Ys.ANNOTATIONS_STORAGE,c=h.serializable;break;default:de(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(l+=Ys.IS_EDITING),a&&(l+=Ys.OPLIST);const{ids:d,hash:p}=h.modifiedIds,v=[l,c.hash,p];return{renderingIntent:l,cacheKey:v.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Ma))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of g(this,Pa).values())t.push(s._destroy());g(this,Pa).clear(),g(this,cp).clear(),g(this,up).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),g(this,qo).clear(),this.filterFactory.destroy(),j1.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ld("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{pi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){s.close();return}pi(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(n,s)=>{pi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){s.close();return}pi(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{a.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new RZ(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new h1(n.message,n.code);break;case"InvalidPDFException":s=new l4(n.message);break;case"MissingPDFException":s=new od(n.message);break;case"UnexpectedResponseException":s=new vA(n.message,n.status);break;case"UnknownErrorException":s=new d1(n.message,n.details);break;default:mn("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(L(this,Ma,Promise.withResolvers()),e.onPassword){const s=a=>{a instanceof Error?g(this,Ma).reject(a):g(this,Ma).resolve({password:a})};try{e.onPassword(s,n.code)}catch(a){g(this,Ma).reject(a)}}else g(this,Ma).reject(new h1(n.message,n.code));return g(this,Ma).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,Pa).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,a])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in a){const E=a.error;de(`Error during font loading: ${E}`),this.commonObjs.resolve(n,E);break}const p=d&&((l=globalThis.FontInspector)!=null&&l.enabled)?(E,A)=>globalThis.FontInspector.fontAdded(E,A):null,v=new IQ(a,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&v.data&&(v.data=null),this.commonObjs.resolve(n,v)});break;case"CopyLocalImage":const{imageRef:b}=a;pi(b,"The imageRef must be defined.");for(const E of g(this,Pa).values())for(const[,A]of E.objs)if((A==null?void 0:A.ref)===b)return A.dataLen?(this.commonObjs.resolve(n,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,a,l])=>{var h;if(this.destroyed)return;const c=g(this,Pa).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(a){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>iQ&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&de("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=g(this,cp).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&g(this,up).set(a.refStr,t);const l=new IZ(e,a,this,this._params.pdfBug);return g(this,Pa).set(e,l),l});return g(this,cp).set(e,s),s}getPageIndex(t){return eD(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return B(this,bh,Nm).call(this,"GetFieldObjects")}hasJSActions(){return B(this,bh,Nm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,bh,Nm).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return B(this,bh,Nm).call(this,"GetOptionalContentConfig").then(e=>new QQ(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=g(this,qo).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,l;return{info:s[0],metadata:s[1]?new YQ(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return g(this,qo).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of g(this,Pa).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),g(this,qo).clear(),this.filterFactory.destroy(!0),j1.cleanup()}}cachedPageNumber(t){if(!eD(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return g(this,up).get(e)??null}}qo=new WeakMap,Pa=new WeakMap,cp=new WeakMap,up=new WeakMap,Ma=new WeakMap,bh=new WeakSet,Nm=function(t,e=null){const n=g(this,qo).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return g(this,qo).set(t,s),s};const H0=Symbol("INITIAL_DATA");var Vr,Xy,G1;class r3{constructor(){$(this,Xy);$(this,Vr,Object.create(null))}get(t,e=null){if(e){const s=B(this,Xy,G1).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=g(this,Vr)[t];if(!n||n.data===H0)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=g(this,Vr)[t];return!!e&&e.data!==H0}resolve(t,e=null){const n=B(this,Xy,G1).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in g(this,Vr)){const{data:n}=g(this,Vr)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}L(this,Vr,Object.create(null))}*[Symbol.iterator](){for(const t in g(this,Vr)){const{data:e}=g(this,Vr)[t];e!==H0&&(yield[t,e])}}}Vr=new WeakMap,Xy=new WeakSet,G1=function(t){var e;return(e=g(this,Vr))[t]||(e[t]={...Promise.withResolvers(),data:H0})};var xc;class MZ{constructor(t){$(this,xc,null);L(this,xc,t),this.onContinue=null}get promise(){return g(this,xc).capability.promise}cancel(t=0){g(this,xc).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=g(this,xc).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=g(this,xc);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}xc=new WeakMap;var Cc,_h;const Hu=class Hu{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:v=!1,pageColors:b=null}){$(this,Cc,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MZ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,h;if(this.cancelled)return;if(this._canvas){if(g(Hu,_h).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Hu,_h).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:a,background:l}=this.params;this.gfx=new Df(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Cc)&&(window.cancelAnimationFrame(g(this,Cc)),L(this,Cc,null)),g(Hu,_h).delete(this._canvas),this.callback(t||new lR(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?L(this,Cc,window.requestAnimationFrame(()=>{L(this,Cc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Hu,_h).delete(this._canvas),this.callback())))}};Cc=new WeakMap,_h=new WeakMap,$(Hu,_h,new WeakSet);let W1=Hu;const OZ="4.8.69",DZ="3634dab10";function nD(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function _m(i){return Math.max(0,Math.min(255,255*i))}class iD{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=_m(t),[t,t,t]}static G_HTML([t]){const e=nD(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(_m)}static RGB_HTML(t){return`#${t.map(nD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[_m(1-Math.min(1,t+s)),_m(1-Math.min(1,n+s)),_m(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,a=1-e,l=1-n,c=Math.min(s,a,l);return["CMYK",s,a,l,c]}}class NZ{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){mn("Abstract method `_createSVG` called.")}}class yR extends NZ{_createSVG(t){return document.createElementNS(Oo,t)}}class a3{static setupStorage(t,e,n,s,a){const l=s.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&a.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){var v,b;const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,a=t.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:a,linkService:n});const c=a!=="richText",h=t.div;if(h.append(l),t.viewport){const E=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=E}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const E=document.createTextNode(s.value);l.append(E),c&&fy.shouldBuildText(s.name)&&d.push(E)}return{textDivs:d}}const p=[[s,-1,l]];for(;p.length>0;){const[E,A,S]=p.at(-1);if(A+1===E.children.length){p.pop();continue}const C=E.children[++p.at(-1)[1]];if(C===null)continue;const{name:x}=C;if(x==="#text"){const M=document.createTextNode(C.value);d.push(M),S.append(M);continue}const F=(v=C==null?void 0:C.attributes)!=null&&v.xmlns?document.createElementNS(C.attributes.xmlns,x):document.createElement(x);if(S.append(F),C.attributes&&this.setAttributes({html:F,element:C,storage:e,intent:a,linkService:n}),((b=C.children)==null?void 0:b.length)>0)p.push([C,-1,F]);else if(C.value){const M=document.createTextNode(C.value);c&&fy.shouldBuildText(x)&&d.push(M),F.append(M)}}for(const E of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Zv=1e3,LZ=9,Zh=new WeakSet;function ul(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class FZ{static create(t){switch(t.data.annotationType){case ui.LINK:return new o3(t);case ui.TEXT:return new VZ(t);case ui.WIDGET:switch(t.data.fieldType){case"Tx":return new UZ(t);case"Btn":return t.data.radioButton?new u3(t):t.data.checkBox?new zZ(t):new jZ(t);case"Ch":return new HZ(t);case"Sig":return new BZ(t)}return new cd(t);case ui.POPUP:return new Y1(t);case ui.FREETEXT:return new g3(t);case ui.LINE:return new qZ(t);case ui.SQUARE:return new GZ(t);case ui.CIRCLE:return new WZ(t);case ui.POLYLINE:return new m3(t);case ui.CARET:return new YZ(t);case ui.INK:return new vR(t);case ui.POLYGON:return new KZ(t);case ui.HIGHLIGHT:return new y3(t);case ui.UNDERLINE:return new XZ(t);case ui.SQUIGGLY:return new QZ(t);case ui.STRIKEOUT:return new ZZ(t);case ui.STAMP:return new v3(t);case ui.FILEATTACHMENT:return new JZ(t);default:return new Gn(t)}}}var Eh,hp,dp,Qy,K1;const AR=class AR{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){$(this,Qy);$(this,Eh,null);$(this,hp,!1);$(this,dp,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return AR._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;g(this,Eh)||L(this,Eh,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&B(this,Qy,K1).call(this,e),(n=g(this,dp))==null||n.popup.updateEdited(t)}resetEdited(){var t;g(this,Eh)&&(B(this,Qy,K1).call(this,g(this,Eh).rect),(t=g(this,dp))==null||t.popup.resetEdited(),L(this,Eh,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof cd||(a.tabIndex=Zv);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof Y1){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,a),a}const{width:c,height:h}=ul(e.rect);if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(S>0||C>0){const F=`calc(${S}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;l.borderRadius=F}else if(this instanceof u3){const F=`calc(${c}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=F}switch(e.borderStyle.style){case vm.SOLID:l.borderStyle="solid";break;case vm.DASHED:l.borderStyle="dashed";break;case vm.BEVELED:de("Unimplemented border style: beveled");break;case vm.INSET:de("Unimplemented border style: inset");break;case vm.UNDERLINE:l.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(L(this,hp,!0),l.borderColor=Ft.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const d=Ft.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:v,pageX:b,pageY:E}=s.rawDims;l.left=`${100*(d[0]-b)/p}%`,l.top=`${100*(d[1]-E)/v}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(l.width=`${100*c/p}%`,l.height=`${100*h/v}%`):this.setRotation(A,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:l}=ul(this.data.rect);let c,h;t%180===0?(c=100*a/n,h=100*l/s):(c=100*l/n,h=100*a/s),e.style.width=`${c}%`,e.style.height=`${h}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const a=s.detail[e],l=a[0],c=a.slice(1);s.target.style[n]=iD[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:iD[`${l}_rgb`](c)})};return Ae(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||n[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,a]of Object.entries(e)){const l=n[s];if(l){const c={detail:{[s]:a},target:t};l(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,a]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,C,x,F]=t.subarray(2,6);if(s===S&&a===C&&e===x&&n===F)return}const{style:l}=this.container;let c;if(g(this,hp)){const{borderColor:S,borderWidth:C}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const h=s-e,d=a-n,{svgFactory:p}=this,v=p.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=p.createElement("defs");v.append(b);const E=p.createElement("clipPath"),A=`clippath_${this.data.id}`;E.setAttribute("id",A),E.setAttribute("clipPathUnits","objectBoundingBox"),b.append(E);for(let S=2,C=t.length;S<C;S+=8){const x=t[S],F=t[S+1],M=t[S+2],P=t[S+3],V=p.createElement("rect"),W=(M-e)/h,D=(a-F)/d,I=(x-M)/h,N=(F-P)/d;V.setAttribute("x",W),V.setAttribute("y",D),V.setAttribute("width",I),V.setAttribute("height",N),E.append(V),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${W}" y="${D}" width="${I}" height="${N}"/>`)}g(this,hp)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(v),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,e=L(this,dp,new Y1({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){mn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:l,exportValues:c}of s){if(a===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!Zh.has(d)){de(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,l=s.getAttribute("data-element-id");l!==e&&Zh.has(s)&&n.push({id:l,exportValue:a,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Eh=new WeakMap,hp=new WeakMap,dp=new WeakMap,Qy=new WeakSet,K1=function(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...t);const{width:d,height:p}=ul(t);e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+h)/l}%`,s===0?(e.width=`${100*d/a}%`,e.height=`${100*p/l}%`):this.setRotation(s)};let Gn=AR;var Xs,Vu,l3,c3;class o3 extends Gn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});$(this,Xs);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(n.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(B(this,Xs,l3).call(this,s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(B(this,Xs,c3).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&B(this,Xs,Vu).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),B(this,Xs,Vu).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const l=s.get(a);l&&(e[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),B(this,Xs,Vu).call(this)}_bindResetFormAction(e,n){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),B(this,Xs,Vu).call(this),!this._fieldObjects){de('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var v;s==null||s();const{fields:a,refs:l,include:c}=n,h=[];if(a.length!==0||l.length!==0){const b=new Set(l);for(const E of a){const A=this._fieldObjects[E]||[];for(const{id:S}of A)b.add(S)}for(const E of Object.values(this._fieldObjects))for(const A of E)b.has(A.id)===c&&h.push(A)}else for(const b of Object.values(this._fieldObjects))h.push(...b);const d=this.annotationStorage,p=[];for(const b of h){const{id:E}=b;switch(p.push(E),b.type){case"text":{const S=b.defaultValue||"";d.setValue(E,{value:S});break}case"checkbox":case"radiobutton":{const S=b.defaultValue===b.exportValues;d.setValue(E,{value:S});break}case"combobox":case"listbox":{const S=b.defaultValue||"";d.setValue(E,{value:S});break}default:continue}const A=document.querySelector(`[data-element-id="${E}"]`);if(A){if(!Zh.has(A)){de(`_bindResetFormAction - element not allowed: ${E}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Xs=new WeakSet,Vu=function(){this.container.setAttribute("data-internal-link","")},l3=function(e,n,s=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},B(this,Xs,Vu).call(this)},c3=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),B(this,Xs,Vu).call(this)};class VZ extends Gn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class cd extends Gn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ms.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,a){n.includes("mouse")?t.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{var c;if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l)}}))})}_setEventListeners(t,e,n,s){var a,l,c;for(const[h,d]of n)(d==="Action"||(a=this.data.actions)!=null&&a[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,d,s),d==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ft.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||LZ,a=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(sT*s))||1,v=d/p;l=Math.min(s,h(v/sT))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(d/sT))}a.fontSize=`calc(${l}px * var(--scale-factor))`,a.color=Ft.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class UZ extends cd{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),a.setValue(l.id,{[s]:n})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=t.getValue(e,{value:this.data.fieldValue});let c=l.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let d=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Zh.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Zv,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",b=>{const E=this.data.defaultFieldValue??"";n.value=p.userValue=E,p.formattedValue=null});let v=b=>{const{formattedValue:E}=p;E!=null&&(b.target.value=E),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",E=>{var S;if(p.focused)return;const{target:A}=E;p.userValue&&(A.value=p.userValue),p.lastCommittedValue=A.value,p.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const A={value(S){p.userValue=S.detail.value??"",t.setValue(e,{value:p.userValue.toString()}),S.target.value=p.userValue},formattedValue(S){const{formattedValue:C}=S.detail;p.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C),t.setValue(e,{formattedValue:C})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var M;const{charLimit:C}=S.detail,{target:x}=S;if(C===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",C);let F=p.userValue;!F||F.length<=C||(F=F.slice(0,C),x.value=p.userValue=F,t.setValue(e,{value:F}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(A,E)}),n.addEventListener("keydown",E=>{var C;p.commitKey=1;let A=-1;if(E.key==="Escape"?A=0:E.key==="Enter"&&!this.data.multiLine?A=2:E.key==="Tab"&&(p.commitKey=3),A===-1)return;const{value:S}=E.target;p.lastCommittedValue!==S&&(p.lastCommittedValue=S,p.userValue=S,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const b=v;v=null,n.addEventListener("blur",E=>{var S,C;if(!p.focused||!E.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(p.focused=!1);const{value:A}=E.target;p.userValue=A,p.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:p.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),b(E)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",E=>{var V;p.lastCommittedValue=null;const{data:A,target:S}=E,{value:C,selectionStart:x,selectionEnd:F}=S;let M=x,P=F;switch(E.inputType){case"deleteWordBackward":{const W=C.substring(0,x).match(/\w*[^\w]*$/);W&&(M-=W[0].length);break}case"deleteWordForward":{const W=C.substring(x).match(/^[^\w]*\w*/);W&&(P+=W[0].length);break}case"deleteContentBackward":x===F&&(M-=1);break;case"deleteContentForward":x===F&&(P+=1);break}E.preventDefault(),(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:M,selEnd:P}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${E}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class BZ extends cd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class zZ extends cd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Zh.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=Zv,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class u3 extends cd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(Zh.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=Zv,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const v of this._getElementsByName(d.target.name)){const b=p&&v.id===n;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class jZ extends o3{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class HZ extends cd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");Zh.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Zv;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const v=this.data.defaultFieldValue;for(const b of s.options)b.selected=b.value===v});for(const p of this.data.options){const v=document.createElement("option");v.textContent=p.displayValue,v.value=p.exportValue,n.value.includes(p.exportValue)&&(v.setAttribute("selected",!0),a=!1),s.append(v)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const v=p?"value":"textContent",{options:b,multiple:E}=s;return E?Array.prototype.filter.call(b,A=>A.selected).map(A=>A[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let h=c(!1);const d=p=>{const v=p.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const v={value(b){l==null||l();const E=b.detail.value,A=new Set(Array.isArray(E)?E:[E]);for(const S of s.options)S.selected=A.has(S.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(b){s.multiple=!0},remove(b){const E=s.options,A=b.detail.remove;E[A].selected=!1,s.remove(A),E.length>0&&Array.prototype.findIndex.call(E,C=>C.selected)===-1&&(E[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},clear(b){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(b){const{index:E,displayValue:A,exportValue:S}=b.detail.insert,C=s.children[E],x=document.createElement("option");x.textContent=A,x.value=S,C?C.before(x):s.append(x),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},items(b){const{items:E}=b.detail;for(;s.length!==0;)s.remove(0);for(const A of E){const{displayValue:S,exportValue:C}=A,x=document.createElement("option");x.textContent=S,x.value=C,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},indices(b){const E=new Set(b.detail.indices);for(const A of b.target.options)A.selected=E.has(A.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,p)}),s.addEventListener("input",p=>{var E;const v=c(!0),b=c(!1);t.setValue(e,{value:v}),p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Y1 extends Gn{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Gn._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new $Z({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${oR}${n}`).join(",")),this.container}}var fp,CE,RE,pp,Ah,Fn,Go,gp,Zy,Jy,mp,Wo,Ur,Ko,tv,Yo,ev,Sh,wh,sn,b_,X1,h3,d3,f3,p3,__,E_,Q1;class $Z{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:v}){$(this,sn);$(this,fp,B(this,sn,f3).bind(this));$(this,CE,B(this,sn,Q1).bind(this));$(this,RE,B(this,sn,E_).bind(this));$(this,pp,B(this,sn,__).bind(this));$(this,Ah,null);$(this,Fn,null);$(this,Go,null);$(this,gp,null);$(this,Zy,null);$(this,Jy,null);$(this,mp,null);$(this,Wo,!1);$(this,Ur,null);$(this,Ko,null);$(this,tv,null);$(this,Yo,null);$(this,ev,null);$(this,Sh,null);$(this,wh,!1);var b;L(this,Fn,t),L(this,ev,s),L(this,Go,l),L(this,Yo,c),L(this,Jy,h),L(this,Ah,e),L(this,tv,d),L(this,mp,p),L(this,Zy,n),L(this,gp,uR.toDateObject(a)),this.trigger=n.flatMap(E=>E.getElementsToTriggerPopup());for(const E of this.trigger)E.addEventListener("click",g(this,pp)),E.addEventListener("mouseenter",g(this,RE)),E.addEventListener("mouseleave",g(this,CE)),E.classList.add("popupTriggerArea");for(const E of n)(b=E.container)==null||b.addEventListener("keydown",g(this,fp));g(this,Fn).hidden=!0,v&&B(this,sn,__).call(this)}render(){if(g(this,Ur))return;const t=L(this,Ur,document.createElement("div"));if(t.className="popup",g(this,Ah)){const a=t.style.outlineColor=Ft.makeHexColor(...g(this,Ah));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:t.style.backgroundColor=Ft.makeHexColor(...g(this,Ah).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=g(this,ev),t.append(e),g(this,gp)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,gp).valueOf()})),e.append(a)}const s=g(this,sn,b_);if(s)a3.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(g(this,Go));t.append(a)}g(this,Fn).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,l=s.length;a<l;++a){const c=s[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;g(this,Sh)||L(this,Sh,{contentsObj:g(this,Go),richText:g(this,Yo)}),t&&L(this,Ko,null),e&&(L(this,Yo,B(this,sn,d3).call(this,e)),L(this,Go,null)),(n=g(this,Ur))==null||n.remove(),L(this,Ur,null)}resetEdited(){var t;g(this,Sh)&&({contentsObj:ds(this,Go)._,richText:ds(this,Yo)._}=g(this,Sh),L(this,Sh,null),(t=g(this,Ur))==null||t.remove(),L(this,Ur,null),L(this,Ko,null))}forceHide(){L(this,wh,this.isVisible),g(this,wh)&&(g(this,Fn).hidden=!0)}maybeShow(){g(this,wh)&&(g(this,Ur)||B(this,sn,E_).call(this),L(this,wh,!1),g(this,Fn).hidden=!1)}get isVisible(){return g(this,Fn).hidden===!1}}fp=new WeakMap,CE=new WeakMap,RE=new WeakMap,pp=new WeakMap,Ah=new WeakMap,Fn=new WeakMap,Go=new WeakMap,gp=new WeakMap,Zy=new WeakMap,Jy=new WeakMap,mp=new WeakMap,Wo=new WeakMap,Ur=new WeakMap,Ko=new WeakMap,tv=new WeakMap,Yo=new WeakMap,ev=new WeakMap,Sh=new WeakMap,wh=new WeakMap,sn=new WeakSet,b_=function(){const t=g(this,Yo),e=g(this,Go);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&g(this,Yo).html||null},X1=function(){var t,e,n;return((n=(e=(t=g(this,sn,b_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},h3=function(){var t,e,n;return((n=(e=(t=g(this,sn,b_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},d3=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:g(this,sn,h3),fontSize:g(this,sn,X1)?`calc(${g(this,sn,X1)}px * var(--scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return n},f3=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&g(this,Wo))&&B(this,sn,__).call(this)},p3=function(){if(g(this,Ko)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:a}}}=g(this,Jy);let l=!!g(this,mp),c=l?g(this,mp):g(this,tv);for(const A of g(this,Zy))if(!c||Ft.intersect(A.data.rect,c)!==null){c=A.data.rect,l=!0;break}const h=Ft.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,v=h[0]+p,b=h[1];L(this,Ko,[100*(v-s)/e,100*(b-a)/n]);const{style:E}=g(this,Fn);E.left=`${g(this,Ko)[0]}%`,E.top=`${g(this,Ko)[1]}%`},__=function(){L(this,Wo,!g(this,Wo)),g(this,Wo)?(B(this,sn,E_).call(this),g(this,Fn).addEventListener("click",g(this,pp)),g(this,Fn).addEventListener("keydown",g(this,fp))):(B(this,sn,Q1).call(this),g(this,Fn).removeEventListener("click",g(this,pp)),g(this,Fn).removeEventListener("keydown",g(this,fp)))},E_=function(){g(this,Ur)||this.render(),this.isVisible?g(this,Wo)&&g(this,Fn).classList.add("focused"):(B(this,sn,p3).call(this),g(this,Fn).hidden=!1,g(this,Fn).style.zIndex=parseInt(g(this,Fn).style.zIndex)+1e3)},Q1=function(){g(this,Fn).classList.remove("focused"),!(g(this,Wo)||!this.isVisible)&&(g(this,Fn).hidden=!0,g(this,Fn).style.zIndex=parseInt(g(this,Fn).style.zIndex)-1e3)};class g3 extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var nv;class qZ extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,nv,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:s}=ul(e.rect),a=this.svgFactory.create(n,s,!0),l=L(this,nv,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),l.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),l.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),l.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,nv)}addHighlightArea(){this.container.classList.add("highlightArea")}}nv=new WeakMap;var iv;class GZ extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,iv,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:s}=ul(e.rect),a=this.svgFactory.create(n,s,!0),l=e.borderStyle.width,c=L(this,iv,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,iv)}addHighlightArea(){this.container.classList.add("highlightArea")}}iv=new WeakMap;var sv;class WZ extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,sv,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:s}=ul(e.rect),a=this.svgFactory.create(n,s,!0),l=e.borderStyle.width,c=L(this,sv,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,sv)}addHighlightArea(){this.container.classList.add("highlightArea")}}sv=new WeakMap;var rv;class m3 extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,rv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:s,popupRef:a}}=this;if(!n)return this.container;const{width:l,height:c}=ul(e),h=this.svgFactory.create(l,c,!0);let d=[];for(let v=0,b=n.length;v<b;v+=2){const E=n[v]-e[0],A=e[3]-n[v+1];d.push(`${E},${A}`)}d=d.join(" ");const p=L(this,rv,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,rv)}addHighlightArea(){this.container.classList.add("highlightArea")}}rv=new WeakMap;class KZ extends m3{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YZ extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var av;class vR extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,av,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?le.HIGHLIGHT:le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:s,popupRef:a}}=this,{width:l,height:c}=ul(e),h=this.svgFactory.create(l,c,!0);for(const d of n){let p=[];for(let b=0,E=d.length;b<E;b+=2){const A=d[b]-e[0],S=e[3]-d[b+1];p.push(`${A},${S}`)}p=p.join(" ");const v=this.svgFactory.createElement(this.svgElementName);g(this,av).push(v),v.setAttribute("points",p),v.setAttribute("stroke-width",s.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),h.append(v)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,av)}addHighlightArea(){this.container.classList.add("highlightArea")}}av=new WeakMap;class y3 extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=le.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class XZ extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class QZ extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ZZ extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class v3 extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ov,lv,Z1;class JZ extends Gn{constructor(e){var s;super(e,{isRenderable:!0});$(this,lv);$(this,ov,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",B(this,lv,Z1).bind(this)),L(this,ov,s);const{isMac:a}=ms.platform;return e.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&B(this,lv,Z1).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return g(this,ov)}addHighlightArea(){this.container.classList.add("highlightArea")}}ov=new WeakMap,lv=new WeakSet,Z1=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var cv,Th,xh,uv,td,b3,J1,mD;let tJ=(mD=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:l,structTreeLayer:c}){$(this,td);$(this,cv,null);$(this,Th,null);$(this,xh,new Map);$(this,uv,null);this.div=t,L(this,cv,e),L(this,Th,n),L(this,uv,c||null),this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return g(this,xh).size>0}async render(t){var l;const{annotations:e}=t,n=this.div;Xh(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new yR,annotationStorage:t.annotationStorage||new dR,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===ui.POPUP;if(h){const v=s.get(c.id);if(!v)continue;a.elements=v}else{const{width:v,height:b}=ul(c.rect);if(v<=0||b<=0)continue}a.data=c;const d=FZ.create(a);if(!d.isRenderable)continue;if(!h&&c.popupRef){const v=s.get(c.popupRef);v?v.push(d):s.set(c.popupRef,[d])}const p=d.render();c.hidden&&(p.style.visibility="hidden"),await B(this,td,b3).call(this,p,c.id),d._isEditable&&(g(this,xh).set(d.data.id,d),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(d))}B(this,td,J1).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Xh(e,{rotation:t.rotation}),B(this,td,J1).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(g(this,xh).values())}getEditableAnnotation(t){return g(this,xh).get(t)}},cv=new WeakMap,Th=new WeakMap,xh=new WeakMap,uv=new WeakMap,td=new WeakSet,b3=async function(t,e){var l,c;const n=t.firstChild||t,s=n.id=`${oR}${e}`,a=await((l=g(this,uv))==null?void 0:l.getAriaAttributes(s));if(a)for(const[h,d]of a)n.setAttribute(h,d);this.div.append(t),(c=g(this,cv))==null||c.moveElementInDOM(this.div,t,n,!1)},J1=function(){if(!g(this,Th))return;const t=this.div;for(const[e,n]of g(this,Th)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n)}g(this,Th).clear()},mD);const $0=/\r\n?|\n/g;var Br,Hs,hv,Ch,$s,ii,_3,E3,A3,A_,dl,S_,w_,S3,ex,w3;const fn=class fn extends Ke{constructor(e){super({...e,name:"freeTextEditor"});$(this,ii);$(this,Br);$(this,Hs,"");$(this,hv,`${this.id}-editor`);$(this,Ch,null);$(this,$s);L(this,Br,e.color||fn._defaultColor||Ke._defaultLineColor),L(this,$s,e.fontSize||fn._defaultFontSize)}static get _keyboardManager(){const e=fn.prototype,n=l=>l.isEmpty(),s=Qh.TRANSLATE_SMALL,a=Qh.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new Qv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(e,n){Ke.initialize(e,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ne.FREETEXT_SIZE:fn._defaultFontSize=n;break;case ne.FREETEXT_COLOR:fn._defaultColor=n;break}}updateParams(e,n){switch(e){case ne.FREETEXT_SIZE:B(this,ii,_3).call(this,n);break;case ne.FREETEXT_COLOR:B(this,ii,E3).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,fn._defaultFontSize],[ne.FREETEXT_COLOR,fn._defaultColor||Ke._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,g(this,$s)],[ne.FREETEXT_COLOR,g(this,Br)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-fn._internalPadding*e,-(fn._internalPadding+g(this,$s))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(le.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),L(this,Ch,new AbortController);const e=this._uiManager.combinedSignal(g(this,Ch));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,hv)),this._isDraggable=!0,(e=g(this,Ch))==null||e.abort(),L(this,Ch,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=g(this,Hs),n=L(this,Hs,B(this,ii,A3).call(this).trimEnd());if(e===n)return;const s=a=>{if(L(this,Hs,a),!a){this.remove();return}B(this,ii,w_).call(this),this._uiManager.rebuild(this),B(this,ii,A_).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(e)},mustExec:!1}),B(this,ii,A_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){fn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,hv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${g(this,$s)}px * var(--scale-factor))`,s.color=g(this,Br),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),cE(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,v]=this.pageDimensions,[b,E]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=e+(c[0]-b)/p,S=n+this.height-(c[1]-E)/v;break;case 90:A=e+(c[0]-b)/p,S=n-(c[1]-E)/v,[h,d]=[d,-h];break;case 180:A=e-this.width+(c[0]-b)/p,S=n-(c[1]-E)/v,[h,d]=[-h,-d];break;case 270:A=e+(c[0]-b-this.height*v)/p,S=n+(c[1]-E-this.width*p)/v,[h,d]=[-d,h];break}this.setAt(A*a,S*l,h,d)}else this.setAt(e*a,n*l,this.width*a,this.height*l);B(this,ii,w_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var A,S,C;const n=e.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=B(A=fn,dl,ex).call(A,n.getData("text")||"").replaceAll($0,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=c,p=[],v=[];if(h.nodeType===Node.TEXT_NODE){const x=h.parentElement;if(v.push(h.nodeValue.slice(d).replaceAll($0,"")),x!==this.editorDiv){let F=p;for(const M of this.editorDiv.childNodes){if(M===x){F=v;continue}F.push(B(S=fn,dl,S_).call(S,M))}}p.push(h.nodeValue.slice(0,d).replaceAll($0,""))}else if(h===this.editorDiv){let x=p,F=0;for(const M of this.editorDiv.childNodes)F++===d&&(x=v),x.push(B(C=fn,dl,S_).call(C,M))}L(this,Hs,`${p.join(`
`)}${a}${v.join(`
`)}`),B(this,ii,w_).call(this);const b=new Range;let E=p.reduce((x,F)=>x+F.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const F=x.nodeValue.length;if(E<=F){b.setStart(x,E),b.setEnd(x,E);break}E-=F}l.removeAllRanges(),l.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,s){var c;let a=null;if(e instanceof g3){const{data:{defaultAppearanceData:{fontSize:h,fontColor:d},rect:p,rotation:v,id:b,popupRef:E},textContent:A,textPosition:S,parent:{page:{pageNumber:C}}}=e;if(!A||A.length===0)return null;a=e={annotationType:le.FREETEXT,color:Array.from(d),fontSize:h,value:A.join(`
`),position:S,pageIndex:C-1,rect:p.slice(0),rotation:v,id:b,deleted:!1,popupRef:E}}const l=await super.deserialize(e,n,s);return L(l,$s,e.fontSize),L(l,Br,Ft.makeHexColor(...e.color)),L(l,Hs,B(c=fn,dl,ex).call(c,e.value)),l.annotationElementId=e.id||null,l._initialData=a,l}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=fn._internalPadding*this.parentScale,s=this.getRect(n,n),a=Ke._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,Br)),l={annotationType:le.FREETEXT,color:a,fontSize:g(this,$s),value:B(this,ii,S3).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?l:this.annotationElementId&&!B(this,ii,w3).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${g(this,$s)}px * var(--scale-factor))`,s.color=g(this,Br),n.replaceChildren();for(const l of g(this,Hs).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const a=fn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:g(this,Hs)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Br=new WeakMap,Hs=new WeakMap,hv=new WeakMap,Ch=new WeakMap,$s=new WeakMap,ii=new WeakSet,_3=function(e){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-g(this,$s))*this.parentScale),L(this,$s,a),B(this,ii,A_).call(this)},s=g(this,$s);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},E3=function(e){const n=a=>{L(this,Br,this.editorDiv.style.color=a)},s=g(this,Br);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},A3=function(){var s;const e=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(B(s=fn,dl,S_).call(s,a)),n=a);return e.join(`
`)},A_=function(){const[e,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/n):(this.width=s.height/e,this.height=s.width/n),this.fixAndSetPosition()},dl=new WeakSet,S_=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll($0,"")},w_=function(){if(this.editorDiv.replaceChildren(),!!g(this,Hs))for(const e of g(this,Hs).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},S3=function(){return g(this,Hs).replaceAll(""," ")},ex=function(e){return e.replaceAll(" ","")},w3=function(e){const{value:n,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==s||e.color.some((c,h)=>c!==a[h])||e.pageIndex!==l},$(fn,dl),Qt(fn,"_freeTextDefaultContent",""),Qt(fn,"_internalPadding",0),Qt(fn,"_defaultColor",null),Qt(fn,"_defaultFontSize",10),Qt(fn,"_type","freetext"),Qt(fn,"_editorType",le.FREETEXT);let tx=fn;class T3{toSVGPath(){mn("Abstract method `toSVGPath` must be implemented.")}get box(){mn("Abstract getter `box` must be implemented.")}serialize(t,e){mn("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){mn("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){mn("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var qs,zr,yp,vp,Oa,me,Rh,Ih,dv,fv,bp,_p,Rc,pv,IE,kE,gi,Lm,x3,C3,R3,I3,k3,P3;const No=class No{constructor({x:t,y:e},n,s,a,l,c=0){$(this,gi);$(this,qs);$(this,zr,[]);$(this,yp);$(this,vp);$(this,Oa,[]);$(this,me,new Float64Array(18));$(this,Rh);$(this,Ih);$(this,dv);$(this,fv);$(this,bp);$(this,_p);$(this,Rc,[]);L(this,qs,n),L(this,_p,a*s),L(this,vp,l),g(this,me).set([NaN,NaN,NaN,NaN,t,e],6),L(this,yp,c),L(this,fv,g(No,pv)*s),L(this,dv,g(No,kE)*s),L(this,bp,s),g(this,Rc).push(t,e)}isEmpty(){return isNaN(g(this,me)[8])}add({x:t,y:e}){var N;L(this,Rh,t),L(this,Ih,e);const[n,s,a,l]=g(this,qs);let[c,h,d,p]=g(this,me).subarray(8,12);const v=t-d,b=e-p,E=Math.hypot(v,b);if(E<g(this,dv))return!1;const A=E-g(this,fv),S=A/E,C=S*v,x=S*b;let F=c,M=h;c=d,h=p,d+=C,p+=x,(N=g(this,Rc))==null||N.push(t,e);const P=-x/A,V=C/A,W=P*g(this,_p),D=V*g(this,_p);return g(this,me).set(g(this,me).subarray(2,8),0),g(this,me).set([d+W,p+D],4),g(this,me).set(g(this,me).subarray(14,18),12),g(this,me).set([d-W,p-D],16),isNaN(g(this,me)[6])?(g(this,Oa).length===0&&(g(this,me).set([c+W,h+D],2),g(this,Oa).push(NaN,NaN,NaN,NaN,(c+W-n)/a,(h+D-s)/l),g(this,me).set([c-W,h-D],14),g(this,zr).push(NaN,NaN,NaN,NaN,(c-W-n)/a,(h-D-s)/l)),g(this,me).set([F,M,c,h,d,p],6),!this.isEmpty()):(g(this,me).set([F,M,c,h,d,p],6),Math.abs(Math.atan2(M-h,F-c)-Math.atan2(x,C))<Math.PI/2?([c,h,d,p]=g(this,me).subarray(2,6),g(this,Oa).push(NaN,NaN,NaN,NaN,((c+d)/2-n)/a,((h+p)/2-s)/l),[c,h,F,M]=g(this,me).subarray(14,18),g(this,zr).push(NaN,NaN,NaN,NaN,((F+c)/2-n)/a,((M+h)/2-s)/l),!0):([F,M,c,h,d,p]=g(this,me).subarray(0,6),g(this,Oa).push(((F+5*c)/6-n)/a,((M+5*h)/6-s)/l,((5*c+d)/6-n)/a,((5*h+p)/6-s)/l,((c+d)/2-n)/a,((h+p)/2-s)/l),[d,p,c,h,F,M]=g(this,me).subarray(12,18),g(this,zr).push(((F+5*c)/6-n)/a,((M+5*h)/6-s)/l,((5*c+d)/6-n)/a,((5*h+p)/6-s)/l,((c+d)/2-n)/a,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=g(this,Oa),e=g(this,zr);if(isNaN(g(this,me)[6])&&!this.isEmpty())return B(this,gi,x3).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);B(this,gi,R3).call(this,n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return B(this,gi,C3).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,s,a,l){return new M3(t,e,n,s,a,l)}getOutlines(){var v;const t=g(this,Oa),e=g(this,zr),n=g(this,me),[s,a,l,c]=g(this,qs),h=new Float64Array((((v=g(this,Rc))==null?void 0:v.length)??0)+2);for(let b=0,E=h.length-2;b<E;b+=2)h[b]=(g(this,Rc)[b]-s)/l,h[b+1]=(g(this,Rc)[b+1]-a)/c;if(h[h.length-2]=(g(this,Rh)-s)/l,h[h.length-1]=(g(this,Ih)-a)/c,isNaN(n[6])&&!this.isEmpty())return B(this,gi,I3).call(this,h);const d=new Float64Array(g(this,Oa).length+24+g(this,zr).length);let p=t.length;for(let b=0;b<p;b+=2){if(isNaN(t[b])){d[b]=d[b+1]=NaN;continue}d[b]=t[b],d[b+1]=t[b+1]}p=B(this,gi,P3).call(this,d,p);for(let b=e.length-6;b>=6;b-=6)for(let E=0;E<6;E+=2){if(isNaN(e[b+E])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[b+E],d[p+1]=e[b+E+1],p+=2}return B(this,gi,k3).call(this,d,p),this.newFreeDrawOutline(d,h,g(this,qs),g(this,bp),g(this,yp),g(this,vp))}};qs=new WeakMap,zr=new WeakMap,yp=new WeakMap,vp=new WeakMap,Oa=new WeakMap,me=new WeakMap,Rh=new WeakMap,Ih=new WeakMap,dv=new WeakMap,fv=new WeakMap,bp=new WeakMap,_p=new WeakMap,Rc=new WeakMap,pv=new WeakMap,IE=new WeakMap,kE=new WeakMap,gi=new WeakSet,Lm=function(){const t=g(this,me).subarray(4,6),e=g(this,me).subarray(16,18),[n,s,a,l]=g(this,qs);return[(g(this,Rh)+(t[0]-e[0])/2-n)/a,(g(this,Ih)+(t[1]-e[1])/2-s)/l,(g(this,Rh)+(e[0]-t[0])/2-n)/a,(g(this,Ih)+(e[1]-t[1])/2-s)/l]},x3=function(){const[t,e,n,s]=g(this,qs),[a,l,c,h]=B(this,gi,Lm).call(this);return`M${(g(this,me)[2]-t)/n} ${(g(this,me)[3]-e)/s} L${(g(this,me)[4]-t)/n} ${(g(this,me)[5]-e)/s} L${a} ${l} L${c} ${h} L${(g(this,me)[16]-t)/n} ${(g(this,me)[17]-e)/s} L${(g(this,me)[14]-t)/n} ${(g(this,me)[15]-e)/s} Z`},C3=function(t){const e=g(this,zr);t.push(`L${e[4]} ${e[5]} Z`)},R3=function(t){const[e,n,s,a]=g(this,qs),l=g(this,me).subarray(4,6),c=g(this,me).subarray(16,18),[h,d,p,v]=B(this,gi,Lm).call(this);t.push(`L${(l[0]-e)/s} ${(l[1]-n)/a} L${h} ${d} L${p} ${v} L${(c[0]-e)/s} ${(c[1]-n)/a}`)},I3=function(t){const e=g(this,me),[n,s,a,l]=g(this,qs),[c,h,d,p]=B(this,gi,Lm).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-s)/l,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-s)/l,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-s)/l],0),this.newFreeDrawOutline(v,t,g(this,qs),g(this,bp),g(this,yp),g(this,vp))},k3=function(t,e){const n=g(this,zr);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},P3=function(t,e){const n=g(this,me).subarray(4,6),s=g(this,me).subarray(16,18),[a,l,c,h]=g(this,qs),[d,p,v,b]=B(this,gi,Lm).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/h],e),e+=24},$(No,pv,8),$(No,IE,2),$(No,kE,g(No,pv)+g(No,IE));let hE=No;var Ep,kh,Xo,gv,Gs,mv,jn,Is,Fm,Vm,O3;class M3 extends T3{constructor(e,n,s,a,l,c){super();$(this,Is);$(this,Ep);$(this,kh,null);$(this,Xo);$(this,gv);$(this,Gs);$(this,mv);$(this,jn);L(this,jn,e),L(this,Gs,n),L(this,Ep,s),L(this,mv,a),L(this,Xo,l),L(this,gv,c),B(this,Is,O3).call(this,c);const{x:h,y:d,width:p,height:v}=g(this,kh);for(let b=0,E=e.length;b<E;b+=2)e[b]=(e[b]-h)/p,e[b+1]=(e[b+1]-d)/v;for(let b=0,E=n.length;b<E;b+=2)n[b]=(n[b]-h)/p,n[b+1]=(n[b+1]-d)/v}toSVGPath(){const e=[`M${g(this,jn)[4]} ${g(this,jn)[5]}`];for(let n=6,s=g(this,jn).length;n<s;n+=6){if(isNaN(g(this,jn)[n])){e.push(`L${g(this,jn)[n+4]} ${g(this,jn)[n+5]}`);continue}e.push(`C${g(this,jn)[n]} ${g(this,jn)[n+1]} ${g(this,jn)[n+2]} ${g(this,jn)[n+3]} ${g(this,jn)[n+4]} ${g(this,jn)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,s,a],l){const c=s-e,h=a-n;let d,p;switch(l){case 0:d=B(this,Is,Fm).call(this,g(this,jn),e,a,c,-h),p=B(this,Is,Fm).call(this,g(this,Gs),e,a,c,-h);break;case 90:d=B(this,Is,Vm).call(this,g(this,jn),e,n,c,h),p=B(this,Is,Vm).call(this,g(this,Gs),e,n,c,h);break;case 180:d=B(this,Is,Fm).call(this,g(this,jn),s,n,-c,h),p=B(this,Is,Fm).call(this,g(this,Gs),s,n,-c,h);break;case 270:d=B(this,Is,Vm).call(this,g(this,jn),s,a,-c,-h),p=B(this,Is,Vm).call(this,g(this,Gs),s,a,-c,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}get box(){return g(this,kh)}newOutliner(e,n,s,a,l,c=0){return new hE(e,n,s,a,l,c)}getNewOutline(e,n){const{x:s,y:a,width:l,height:c}=g(this,kh),[h,d,p,v]=g(this,Ep),b=l*p,E=c*v,A=s*p+h,S=a*v+d,C=this.newOutliner({x:g(this,Gs)[0]*b+A,y:g(this,Gs)[1]*E+S},g(this,Ep),g(this,mv),e,g(this,gv),n??g(this,Xo));for(let x=2;x<g(this,Gs).length;x+=2)C.add({x:g(this,Gs)[x]*b+A,y:g(this,Gs)[x+1]*E+S});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Ep=new WeakMap,kh=new WeakMap,Xo=new WeakMap,gv=new WeakMap,Gs=new WeakMap,mv=new WeakMap,jn=new WeakMap,Is=new WeakSet,Fm=function(e,n,s,a,l){const c=new Float64Array(e.length);for(let h=0,d=e.length;h<d;h+=2)c[h]=n+e[h]*a,c[h+1]=s+e[h+1]*l;return c},Vm=function(e,n,s,a,l){const c=new Float64Array(e.length);for(let h=0,d=e.length;h<d;h+=2)c[h]=n+e[h+1]*a,c[h+1]=s+e[h]*l;return c},O3=function(e){const n=g(this,jn);let s=n[4],a=n[5],l=s,c=a,h=s,d=a,p=s,v=a;const b=e?Math.max:Math.min;for(let x=6,F=n.length;x<F;x+=6){if(isNaN(n[x]))l=Math.min(l,n[x+4]),c=Math.min(c,n[x+5]),h=Math.max(h,n[x+4]),d=Math.max(d,n[x+5]),v<n[x+5]?(p=n[x+4],v=n[x+5]):v===n[x+5]&&(p=b(p,n[x+4]));else{const M=Ft.bezierBoundingBox(s,a,...n.slice(x,x+6));l=Math.min(l,M[0]),c=Math.min(c,M[1]),h=Math.max(h,M[2]),d=Math.max(d,M[3]),v<M[3]?(p=M[2],v=M[3]):v===M[3]&&(p=b(p,M[2]))}s=n[x+4],a=n[x+5]}const E=l-g(this,Xo),A=c-g(this,Xo),S=h-l+2*g(this,Xo),C=d-c+2*g(this,Xo);L(this,kh,{x:E,y:A,width:S,height:C,lastPoint:[p,v]})};var yv,Ic,jr,vs,D3,T_,N3,L3,nx;class sD{constructor(t,e=0,n=0,s=!0){$(this,vs);$(this,yv);$(this,Ic,[]);$(this,jr,[]);let a=1/0,l=-1/0,c=1/0,h=-1/0;const d=10**-4;for(const{x:C,y:x,width:F,height:M}of t){const P=Math.floor((C-e)/d)*d,V=Math.ceil((C+F+e)/d)*d,W=Math.floor((x-e)/d)*d,D=Math.ceil((x+M+e)/d)*d,I=[P,W,D,!0],N=[V,W,D,!1];g(this,Ic).push(I,N),a=Math.min(a,P),l=Math.max(l,V),c=Math.min(c,W),h=Math.max(h,D)}const p=l-a+2*n,v=h-c+2*n,b=a-n,E=c-n,A=g(this,Ic).at(s?-1:-2),S=[A[0],A[2]];for(const C of g(this,Ic)){const[x,F,M]=C;C[0]=(x-b)/p,C[1]=(F-E)/v,C[2]=(M-E)/v}L(this,yv,{x:b,y:E,width:p,height:v,lastPoint:S})}getOutlines(){g(this,Ic).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of g(this,Ic))e[3]?(t.push(...B(this,vs,nx).call(this,e)),B(this,vs,N3).call(this,e)):(B(this,vs,L3).call(this,e),t.push(...B(this,vs,nx).call(this,e)));return B(this,vs,D3).call(this,t)}}yv=new WeakMap,Ic=new WeakMap,jr=new WeakMap,vs=new WeakSet,D3=function(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,v]=l;n.delete(l);let b=c,E=h;for(a=[c,d],s.push(a);;){let A;if(n.has(p))A=p;else if(n.has(v))A=v;else break;n.delete(A),[c,h,d,p,v]=A,b!==c&&(a.push(b,E,c,E===h?h:d),b=c),E=E===h?d:h}a.push(b,E)}return new eJ(s,g(this,yv))},T_=function(t){const e=g(this,jr);let n=0,s=e.length-1;for(;n<=s;){const a=n+s>>1,l=e[a][0];if(l===t)return a;l<t?n=a+1:s=a-1}return s+1},N3=function([,t,e]){const n=B(this,vs,T_).call(this,t);g(this,jr).splice(n,0,[t,e])},L3=function([,t,e]){const n=B(this,vs,T_).call(this,t);for(let s=n;s<g(this,jr).length;s++){const[a,l]=g(this,jr)[s];if(a!==t)break;if(a===t&&l===e){g(this,jr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,l]=g(this,jr)[s];if(a!==t)break;if(a===t&&l===e){g(this,jr).splice(s,1);return}}},nx=function(t){const[e,n,s]=t,a=[[e,n,s]],l=B(this,vs,T_).call(this,s);for(let c=0;c<l;c++){const[h,d]=g(this,jr)[c];for(let p=0,v=a.length;p<v;p++){const[,b,E]=a[p];if(!(d<=b||E<=h)){if(b>=h){if(E>d)a[p][1]=d;else{if(v===1)return[];a.splice(p,1),p--,v--}continue}a[p][2]=h,E>d&&a.push([e,d,E])}}}return a};var vv,Ap;class eJ extends T3{constructor(e,n){super();$(this,vv);$(this,Ap);L(this,Ap,e),L(this,vv,n)}toSVGPath(){const e=[];for(const n of g(this,Ap)){let[s,a]=n;e.push(`M${s} ${a}`);for(let l=2;l<n.length;l+=2){const c=n[l],h=n[l+1];c===s?(e.push(`V${h}`),a=h):h===a&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,n,s,a],l){const c=[],h=s-e,d=a-n;for(const p of g(this,Ap)){const v=new Array(p.length);for(let b=0;b<p.length;b+=2)v[b]=e+p[b]*h,v[b+1]=a-p[b+1]*d;c.push(v)}return c}get box(){return g(this,vv)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}vv=new WeakMap,Ap=new WeakMap;class ix extends hE{newFreeDrawOutline(t,e,n,s,a,l){return new nJ(t,e,n,s,a,l)}get classNamesForDrawing(){return["highlight","free"]}}class nJ extends M3{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,s,a,l=0){return new ix(t,e,n,s,a,l)}}var Hr,Ph,Sp,di,bv,wp,_v,Ev,kc,$r,Tp,Av,nn,sx,rx,ax,Uu,F3,sc;const Ss=class Ss{constructor({editor:t=null,uiManager:e=null}){$(this,nn);$(this,Hr,null);$(this,Ph,null);$(this,Sp);$(this,di,null);$(this,bv,!1);$(this,wp,!1);$(this,_v,null);$(this,Ev);$(this,kc,null);$(this,$r,null);$(this,Tp);var n;t?(L(this,wp,!1),L(this,Tp,ne.HIGHLIGHT_COLOR),L(this,_v,t)):(L(this,wp,!0),L(this,Tp,ne.HIGHLIGHT_DEFAULT_COLOR)),L(this,$r,(t==null?void 0:t._uiManager)||e),L(this,Ev,g(this,$r)._eventBus),L(this,Sp,(t==null?void 0:t.color)||((n=g(this,$r))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(Ss,Av)||L(Ss,Av,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ae(this,"_keyboardManager",new Qv([[["Escape","mac+Escape"],Ss.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ss.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ss.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ss.prototype._moveToPrevious],[["Home","mac+Home"],Ss.prototype._moveToBeginning],[["End","mac+End"],Ss.prototype._moveToEnd]]))}renderButton(){const t=L(this,Hr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=g(this,$r)._signal;t.addEventListener("click",B(this,nn,Uu).bind(this),{signal:e}),t.addEventListener("keydown",B(this,nn,ax).bind(this),{signal:e});const n=L(this,Ph,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,Sp),t.append(n),t}renderMainDropdown(){const t=L(this,di,B(this,nn,sx).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===g(this,Hr)){B(this,nn,Uu).call(this,t);return}const e=t.target.getAttribute("data-color");e&&B(this,nn,rx).call(this,e,t)}_moveToNext(t){var e,n;if(!g(this,nn,sc)){B(this,nn,Uu).call(this,t);return}if(t.target===g(this,Hr)){(e=g(this,di).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=g(this,di))==null?void 0:e.firstChild)||t.target===g(this,Hr)){g(this,nn,sc)&&this._hideDropdownFromKeyboard();return}g(this,nn,sc)||B(this,nn,Uu).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!g(this,nn,sc)){B(this,nn,Uu).call(this,t);return}(e=g(this,di).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!g(this,nn,sc)){B(this,nn,Uu).call(this,t);return}(e=g(this,di).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=g(this,di))==null||t.classList.add("hidden"),(e=g(this,kc))==null||e.abort(),L(this,kc,null)}_hideDropdownFromKeyboard(){var t;if(!g(this,wp)){if(!g(this,nn,sc)){(t=g(this,_v))==null||t.unselect();return}this.hideDropdown(),g(this,Hr).focus({preventScroll:!0,focusVisible:g(this,bv)})}}updateColor(t){if(g(this,Ph)&&(g(this,Ph).style.backgroundColor=t),!g(this,di))return;const e=g(this,$r).highlightColors.values();for(const n of g(this,di).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=g(this,Hr))==null||t.remove(),L(this,Hr,null),L(this,Ph,null),(e=g(this,di))==null||e.remove(),L(this,di,null)}};Hr=new WeakMap,Ph=new WeakMap,Sp=new WeakMap,di=new WeakMap,bv=new WeakMap,wp=new WeakMap,_v=new WeakMap,Ev=new WeakMap,kc=new WeakMap,$r=new WeakMap,Tp=new WeakMap,Av=new WeakMap,nn=new WeakSet,sx=function(){const t=document.createElement("div"),e=g(this,$r)._signal;t.addEventListener("contextmenu",wr,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of g(this,$r).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",g(Ss,Av)[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=s,a.setAttribute("aria-selected",s===g(this,Sp)),a.addEventListener("click",B(this,nn,rx).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",B(this,nn,ax).bind(this),{signal:e}),t},rx=function(t,e){e.stopPropagation(),g(this,Ev).dispatch("switchannotationeditorparams",{source:this,type:g(this,Tp),value:t})},ax=function(t){Ss._keyboardManager.exec(this,t)},Uu=function(t){if(g(this,nn,sc)){this.hideDropdown();return}if(L(this,bv,t.detail===0),g(this,kc)||(L(this,kc,new AbortController),window.addEventListener("pointerdown",B(this,nn,F3).bind(this),{signal:g(this,$r).combinedSignal(g(this,kc))})),g(this,di)){g(this,di).classList.remove("hidden");return}const e=L(this,di,B(this,nn,sx).call(this));g(this,Hr).append(e)},F3=function(t){var e;(e=g(this,di))!=null&&e.contains(t.target)||this.hideDropdown()},sc=function(){return g(this,di)&&!g(this,di).classList.contains("hidden")},$(Ss,Av,null);let dE=Ss;var xp,Sv,Qo,Mh,Cp,mr,wv,Tv,Oh,qr,Zi,xs,Rp,Zo,fi,Ip,yr,xv,ae,ox,x_,V3,U3,B3,lx,Bu,Ar,vf,z3,C_,Um,j3,H3,$3,q3,G3;const Fe=class Fe extends Ke{constructor(e){super({...e,name:"highlightEditor"});$(this,ae);$(this,xp,null);$(this,Sv,0);$(this,Qo);$(this,Mh,null);$(this,Cp,null);$(this,mr,null);$(this,wv,null);$(this,Tv,0);$(this,Oh,null);$(this,qr,null);$(this,Zi,null);$(this,xs,!1);$(this,Rp,null);$(this,Zo);$(this,fi,null);$(this,Ip,"");$(this,yr);$(this,xv,"");this.color=e.color||Fe._defaultColor,L(this,yr,e.thickness||Fe._defaultThickness),L(this,Zo,e.opacity||Fe._defaultOpacity),L(this,Qo,e.boxes||null),L(this,xv,e.methodOfCreation||""),L(this,Ip,e.text||""),this._isDraggable=!1,e.highlightId>-1?(L(this,xs,!0),B(this,ae,x_).call(this,e),B(this,ae,Bu).call(this)):g(this,Qo)&&(L(this,xp,e.anchorNode),L(this,Sv,e.anchorOffset),L(this,wv,e.focusNode),L(this,Tv,e.focusOffset),B(this,ae,ox).call(this),B(this,ae,Bu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Fe.prototype;return Ae(this,"_keyboardManager",new Qv([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,xs)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,yr),methodOfCreation:g(this,xv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var s;Ke.initialize(e,n),Fe._defaultColor||(Fe._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case ne.HIGHLIGHT_DEFAULT_COLOR:Fe._defaultColor=n;break;case ne.HIGHLIGHT_THICKNESS:Fe._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return g(this,Rp)}updateParams(e,n){switch(e){case ne.HIGHLIGHT_COLOR:B(this,ae,V3).call(this,n);break;case ne.HIGHLIGHT_THICKNESS:B(this,ae,U3).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_DEFAULT_COLOR,Fe._defaultColor],[ne.HIGHLIGHT_THICKNESS,Fe._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||Fe._defaultColor],[ne.HIGHLIGHT_THICKNESS,g(this,yr)||Fe._defaultThickness],[ne.HIGHLIGHT_FREE,g(this,xs)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(L(this,Cp,new dE({editor:this})),e.addColorPicker(g(this,Cp))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,ae,Um).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,B(this,ae,Um).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){B(this,ae,lx).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,ae,Bu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let n=!1;this.parent&&!e?B(this,ae,lx).call(this):e&&(B(this,ae,Bu).call(this,e),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var a,l,c;const{drawLayer:n}=this.parent;let s;g(this,xs)?(e=(e-this.rotation+360)%360,s=B(a=Fe,Ar,vf).call(a,g(this,qr).box,e)):s=B(l=Fe,Ar,vf).call(l,this,e),n.rotate(g(this,Zi),e),n.rotate(g(this,fi),e),n.updateBox(g(this,Zi),s),n.updateBox(g(this,fi),B(c=Fe,Ar,vf).call(c,g(this,mr).box,e))}render(){if(this.div)return this.div;const e=super.render();g(this,Ip)&&(e.setAttribute("aria-label",g(this,Ip)),e.setAttribute("role","mark")),g(this,xs)?e.classList.add("free"):this.div.addEventListener("keydown",B(this,ae,z3).bind(this),{signal:this._uiManager._signal});const n=L(this,Oh,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Mh);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),cE(this,g(this,Oh),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,fi),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,fi),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:B(this,ae,C_).call(this,!0);break;case 1:case 3:B(this,ae,C_).call(this,!1);break}}select(){var e,n;super.select(),g(this,fi)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,fi),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,fi),"selected"))}unselect(){var e;super.unselect(),g(this,fi)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,fi),"selected"),g(this,xs)||B(this,ae,C_).call(this,!1))}get _mustFixPosition(){return!g(this,xs)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(g(this,Zi),e),this.parent.drawLayer.show(g(this,fi),e))}static startHighlighting(e,n,{target:s,x:a,y:l}){const{x:c,y:h,width:d,height:p}=s.getBoundingClientRect(),v=new AbortController,b=e.combinedSignal(v),E=S=>{S.preventDefault(),S.stopPropagation()},A=S=>{v.abort(),B(this,Ar,q3).call(this,e,S)};window.addEventListener("blur",A,{signal:b}),window.addEventListener("pointerup",A,{signal:b}),window.addEventListener("pointerdown",E,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",wr,{signal:b}),s.addEventListener("pointermove",B(this,Ar,$3).bind(this,e),{signal:b}),this._freeHighlight=new ix({x:a,y:l},[c,h,d,p],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,s){var S,C,x,F;let a=null;if(e instanceof y3){const{data:{quadPoints:M,rect:P,rotation:V,id:W,color:D,opacity:I,popupRef:N},parent:{page:{pageNumber:T}}}=e;a=e={annotationType:le.HIGHLIGHT,color:Array.from(D),opacity:I,quadPoints:M,boxes:null,pageIndex:T-1,rect:P.slice(0),rotation:V,id:W,deleted:!1,popupRef:N}}else if(e instanceof vR){const{data:{inkLists:M,rect:P,rotation:V,id:W,color:D,borderStyle:{rawWidth:I},popupRef:N},parent:{page:{pageNumber:T}}}=e;a=e={annotationType:le.HIGHLIGHT,color:Array.from(D),thickness:I,inkLists:M,boxes:null,pageIndex:T-1,rect:P.slice(0),rotation:V,id:W,deleted:!1,popupRef:N}}const{color:l,quadPoints:c,inkLists:h,opacity:d}=e,p=await super.deserialize(e,n,s);p.color=Ft.makeHexColor(...l),L(p,Zo,d||1),h&&L(p,yr,e.thickness),p.annotationElementId=e.id||null,p._initialData=a;const[v,b]=p.pageDimensions,[E,A]=p.pageTranslation;if(c){const M=L(p,Qo,[]);for(let P=0;P<c.length;P+=8)M.push({x:(c[P]-E)/v,y:1-(c[P+1]-A)/b,width:(c[P+2]-c[P])/v,height:(c[P+1]-c[P+5])/b});B(S=p,ae,ox).call(S),B(C=p,ae,Bu).call(C),p.rotate(p.rotation)}else if(h){L(p,xs,!0);const M=h[0],P={x:M[0]-E,y:b-(M[1]-A)},V=new ix(P,[0,0,v,b],1,g(p,yr)/2,!0,.001);for(let I=0,N=M.length;I<N;I+=2)P.x=M[I]-E,P.y=b-(M[I+1]-A),V.add(P);const{id:W,clipPathId:D}=n.drawLayer.draw(V,p.color,p._defaultOpacity,!0);B(x=p,ae,x_).call(x,{highlightOutlines:V.getOutlines(),highlightId:W,clipPathId:D}),B(F=p,ae,Bu).call(F)}return p}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=Ke._colorManager.convert(this.color),a={annotationType:le.HIGHLIGHT,color:s,opacity:g(this,Zo),thickness:g(this,yr),quadPoints:B(this,ae,j3).call(this),outlines:B(this,ae,H3).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:B(this,ae,Um).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!B(this,ae,G3).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};xp=new WeakMap,Sv=new WeakMap,Qo=new WeakMap,Mh=new WeakMap,Cp=new WeakMap,mr=new WeakMap,wv=new WeakMap,Tv=new WeakMap,Oh=new WeakMap,qr=new WeakMap,Zi=new WeakMap,xs=new WeakMap,Rp=new WeakMap,Zo=new WeakMap,fi=new WeakMap,Ip=new WeakMap,yr=new WeakMap,xv=new WeakMap,ae=new WeakSet,ox=function(){const e=new sD(g(this,Qo),.001);L(this,qr,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,qr).box;const n=new sD(g(this,Qo),.0025,.001,this._uiManager.direction==="ltr");L(this,mr,n.getOutlines());const{lastPoint:s}=g(this,mr).box;L(this,Rp,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},x_=function({highlightOutlines:e,highlightId:n,clipPathId:s}){var v,b;if(L(this,qr,e),L(this,mr,e.getNewOutline(g(this,yr)/2+1.5,.0025)),n>=0)L(this,Zi,n),L(this,Mh,s),this.parent.drawLayer.finalizeLine(n,e),L(this,fi,this.parent.drawLayer.drawOutline(g(this,mr)));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,Zi),e),this.parent.drawLayer.updateBox(g(this,Zi),B(v=Fe,Ar,vf).call(v,g(this,qr).box,(E-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,fi),g(this,mr)),this.parent.drawLayer.updateBox(g(this,fi),B(b=Fe,Ar,vf).call(b,g(this,mr).box,E))}const{x:l,y:c,width:h,height:d}=e.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=d;break;case 90:{const[E,A]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*A/E,this.height=d*E/A;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[E,A]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*A/E,this.height=d*E/A;break}}const{lastPoint:p}=g(this,mr).box;L(this,Rp,[(p[0]-l)/h,(p[1]-c)/d])},V3=function(e){const n=(l,c)=>{var h,d,p;this.color=l,(h=this.parent)==null||h.drawLayer.changeColor(g(this,Zi),l),(d=g(this,Cp))==null||d.updateColor(l),L(this,Zo,c),(p=this.parent)==null||p.drawLayer.changeOpacity(g(this,Zi),c)},s=this.color,a=g(this,Zo);this.addCommands({cmd:n.bind(this,e,Fe._defaultOpacity),undo:n.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},U3=function(e){const n=g(this,yr),s=a=>{L(this,yr,a),B(this,ae,B3).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},B3=function(e){if(!g(this,xs))return;B(this,ae,x_).call(this,{highlightOutlines:g(this,qr).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},lx=function(){g(this,Zi)===null||!this.parent||(this.parent.drawLayer.remove(g(this,Zi)),L(this,Zi,null),this.parent.drawLayer.remove(g(this,fi)),L(this,fi,null))},Bu=function(e=this.parent){g(this,Zi)===null&&({id:ds(this,Zi)._,clipPathId:ds(this,Mh)._}=e.drawLayer.draw(g(this,qr),this.color,g(this,Zo)),L(this,fi,e.drawLayer.drawOutline(g(this,mr))),g(this,Oh)&&(g(this,Oh).style.clipPath=g(this,Mh)))},Ar=new WeakSet,vf=function({x:e,y:n,width:s,height:a},l){switch(l){case 90:return{x:1-n-a,y:e,width:a,height:s};case 180:return{x:1-e-s,y:1-n-a,width:s,height:a};case 270:return{x:n,y:1-e-s,width:a,height:s}}return{x:e,y:n,width:s,height:a}},z3=function(e){Fe._keyboardManager.exec(this,e)},C_=function(e){if(!g(this,xp))return;const n=window.getSelection();e?n.setPosition(g(this,xp),g(this,Sv)):n.setPosition(g(this,wv),g(this,Tv))},Um=function(){return g(this,xs)?this.rotation:0},j3=function(){if(g(this,xs))return null;const[e,n]=this.pageDimensions,[s,a]=this.pageTranslation,l=g(this,Qo),c=new Float32Array(l.length*8);let h=0;for(const{x:d,y:p,width:v,height:b}of l){const E=d*e+s,A=(1-p-b)*n+a;c[h]=c[h+4]=E,c[h+1]=c[h+3]=A,c[h+2]=c[h+6]=E+v*e,c[h+5]=c[h+7]=A+b*n,h+=8}return c},H3=function(e){return g(this,qr).serialize(e,B(this,ae,Um).call(this))},$3=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},q3=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},G3=function(e){const{color:n}=this._initialData;return e.color.some((s,a)=>s!==n[a])},$(Fe,Ar),Qt(Fe,"_defaultColor",null),Qt(Fe,"_defaultOpacity",1),Qt(Fe,"_defaultThickness",12),Qt(Fe,"_type","highlight"),Qt(Fe,"_editorType",le.HIGHLIGHT),Qt(Fe,"_freeHighlightId",-1),Qt(Fe,"_freeHighlight",null),Qt(Fe,"_freeHighlightClipId","");let fE=Fe;var Dh,Nh,Da,Jo,vr,Lh,Fh,Vh,tl,kp,Uh,Bh,Pc,Tt,W3,K3,Y3,X3,ux,Q3,hx,Z3,J3,t5,e5,n5,zu,dx,fx,px,R_,I_,bf,gx,k_,Sl,i5,mx,s5,r5,yx,P_,Bm;const wn=class wn extends Ke{constructor(e){super({...e,name:"inkEditor"});$(this,Tt);$(this,Dh,0);$(this,Nh,0);$(this,Da,null);$(this,Jo,new Path2D);$(this,vr,!1);$(this,Lh,null);$(this,Fh,!1);$(this,Vh,!1);$(this,tl,null);$(this,kp,null);$(this,Uh,0);$(this,Bh,0);$(this,Pc,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Ke.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case ne.INK_THICKNESS:wn._defaultThickness=n;break;case ne.INK_COLOR:wn._defaultColor=n;break;case ne.INK_OPACITY:wn._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case ne.INK_THICKNESS:B(this,Tt,W3).call(this,n);break;case ne.INK_COLOR:B(this,Tt,K3).call(this,n);break;case ne.INK_OPACITY:B(this,Tt,Y3).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.INK_THICKNESS,wn._defaultThickness],[ne.INK_COLOR,wn._defaultColor||Ke._defaultLineColor],[ne.INK_OPACITY,Math.round(wn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.INK_THICKNESS,this.thickness||wn._defaultThickness],[ne.INK_COLOR,this.color||wn._defaultColor||Ke._defaultLineColor],[ne.INK_OPACITY,Math.round(100*(this.opacity??wn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(B(this,Tt,R_).call(this),B(this,Tt,I_).call(this)),this.isAttachedToDOM||(this.parent.add(this),B(this,Tt,bf).call(this)),B(this,Tt,Bm).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Da)&&(clearTimeout(g(this,Da)),L(this,Da,null)),(e=g(this,tl))==null||e.disconnect(),L(this,tl,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,s=this.width*e,a=this.height*n;this.setDimensions(s,a)}enableEditMode(){g(this,vr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,B(this,Tt,dx).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),B(this,Tt,fx).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,vr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),L(this,vr,!0),this.div.classList.add("disabled"),B(this,Tt,Bm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||g(this,vr)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),B(this,Tt,Q3).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),B(this,Tt,hx).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),B(this,Tt,px).call(this,e)}canvasPointerleave(e){B(this,Tt,px).call(this,e)}get isResizable(){return!this.isEmpty()&&g(this,vr)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,a,l,c]=B(this,Tt,X3).call(this);if(this.setAt(s,a,0,0),this.setDims(l,c),B(this,Tt,R_).call(this),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(e*h,n*d,this.width*h,this.height*d),L(this,Vh,!0),B(this,Tt,bf).call(this),this.setDims(this.width*h,this.height*d),B(this,Tt,zu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return B(this,Tt,I_).call(this),this.div}setDimensions(e,n){const s=Math.round(e),a=Math.round(n);if(g(this,Uh)===s&&g(this,Bh)===a)return;L(this,Uh,s),L(this,Bh,a),this.canvas.style.visibility="hidden";const[l,c]=this.parentDimensions;this.width=e/l,this.height=n/c,this.fixAndSetPosition(),g(this,vr)&&B(this,Tt,gx).call(this,e,n),B(this,Tt,bf).call(this),B(this,Tt,zu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,s){var C,x,F;if(e instanceof vR)return null;const a=await super.deserialize(e,n,s);a.thickness=e.thickness,a.color=Ft.makeHexColor(...e.color),a.opacity=e.opacity;const[l,c]=a.pageDimensions,h=a.width*l,d=a.height*c,p=a.parentScale,v=e.thickness/2;L(a,vr,!0),L(a,Uh,Math.round(h)),L(a,Bh,Math.round(d));const{paths:b,rect:E,rotation:A}=e;for(let{bezier:M}of b){M=B(C=wn,Sl,s5).call(C,M,E,A);const P=[];a.paths.push(P);let V=p*(M[0]-v),W=p*(M[1]-v);for(let I=2,N=M.length;I<N;I+=6){const T=p*(M[I]-v),U=p*(M[I+1]-v),q=p*(M[I+2]-v),j=p*(M[I+3]-v),ct=p*(M[I+4]-v),nt=p*(M[I+5]-v);P.push([[V,W],[T,U],[q,j],[ct,nt]]),V=ct,W=nt}const D=B(this,Sl,i5).call(this,P);a.bezierPath2D.push(D)}const S=B(x=a,Tt,yx).call(x);return L(a,Nh,Math.max(Ke.MIN_SIZE,S[2]-S[0])),L(a,Dh,Math.max(Ke.MIN_SIZE,S[3]-S[1])),B(F=a,Tt,gx).call(F,h,d),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Ke._colorManager.convert(this.ctx.strokeStyle);return{annotationType:le.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:B(this,Tt,r5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Dh=new WeakMap,Nh=new WeakMap,Da=new WeakMap,Jo=new WeakMap,vr=new WeakMap,Lh=new WeakMap,Fh=new WeakMap,Vh=new WeakMap,tl=new WeakMap,kp=new WeakMap,Uh=new WeakMap,Bh=new WeakMap,Pc=new WeakMap,Tt=new WeakSet,W3=function(e){const n=a=>{this.thickness=a,B(this,Tt,Bm).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},K3=function(e){const n=a=>{this.color=a,B(this,Tt,zu).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Y3=function(e){const n=a=>{this.opacity=a,B(this,Tt,zu).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},X3=function(){const{parentRotation:e,parentDimensions:[n,s]}=this;switch(e){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},ux=function(){const{ctx:e,color:n,opacity:s,thickness:a,parentScale:l,scaleFactor:c}=this;e.lineWidth=a*l/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${wQ(s)}`},Q3=function(e,n){this.canvas.addEventListener("contextmenu",wr,{signal:this._uiManager._signal}),B(this,Tt,fx).call(this),L(this,Lh,new AbortController);const s=this._uiManager.combinedSignal(g(this,Lh));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,g(this,Vh)||(L(this,Vh,!0),B(this,Tt,bf).call(this),this.thickness||(this.thickness=wn._defaultThickness),this.color||(this.color=wn._defaultColor||Ke._defaultLineColor),this.opacity??(this.opacity=wn._defaultOpacity)),this.currentPath.push([e,n]),L(this,Fh,!1),B(this,Tt,ux).call(this),L(this,Pc,()=>{B(this,Tt,t5).call(this),g(this,Pc)&&window.requestAnimationFrame(g(this,Pc))}),window.requestAnimationFrame(g(this,Pc))},hx=function(e,n){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&n===a)return;const l=this.currentPath;let c=g(this,Jo);if(l.push([e,n]),L(this,Fh,!0),l.length<=2){c.moveTo(...l[0]),c.lineTo(e,n);return}l.length===3&&(L(this,Jo,c=new Path2D),c.moveTo(...l[0])),B(this,Tt,e5).call(this,c,...l.at(-3),...l.at(-2),e,n)},Z3=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);g(this,Jo).lineTo(...e)},J3=function(e,n){L(this,Pc,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),B(this,Tt,hx).call(this,e,n),B(this,Tt,Z3).call(this);let s;if(this.currentPath.length!==1)s=B(this,Tt,n5).call(this);else{const d=[e,n];s=[[d,d.slice(),d.slice(),d]]}const a=g(this,Jo),l=this.currentPath;this.currentPath=[],L(this,Jo,new Path2D);const c=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(B(this,Tt,R_).call(this),B(this,Tt,I_).call(this)),B(this,Tt,Bm).call(this))};this.addCommands({cmd:c,undo:h,mustExec:!0})},t5=function(){if(!g(this,Fh))return;L(this,Fh,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),a=n.map(c=>c[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...a)-e,Math.max(...a)+e;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)l.stroke(c);l.stroke(g(this,Jo)),l.restore()},e5=function(e,n,s,a,l,c,h){const d=(n+a)/2,p=(s+l)/2,v=(a+c)/2,b=(l+h)/2;e.bezierCurveTo(d+2*(a-d)/3,p+2*(l-p)/3,v+2*(a-v)/3,b+2*(l-b)/3,v,b)},n5=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let s,[a,l]=e[0];for(s=1;s<e.length-2;s++){const[E,A]=e[s],[S,C]=e[s+1],x=(E+S)/2,F=(A+C)/2,M=[a+2*(E-a)/3,l+2*(A-l)/3],P=[x+2*(E-x)/3,F+2*(A-F)/3];n.push([[a,l],M,P,[x,F]]),[a,l]=[x,F]}const[c,h]=e[s],[d,p]=e[s+1],v=[a+2*(c-a)/3,l+2*(h-l)/3],b=[d+2*(c-d)/3,p+2*(h-p)/3];return n.push([[a,l],v,b,[d,p]]),n},zu=function(){if(this.isEmpty()){B(this,Tt,k_).call(this);return}B(this,Tt,ux).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),B(this,Tt,k_).call(this);for(const s of this.bezierPath2D)n.stroke(s)},dx=function(){if(g(this,kp))return;L(this,kp,new AbortController);const e=this._uiManager.combinedSignal(g(this,kp));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},fx=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},px=function(e){var n;(n=g(this,Lh))==null||n.abort(),L(this,Lh,null),B(this,Tt,dx).call(this),g(this,Da)&&clearTimeout(g(this,Da)),L(this,Da,setTimeout(()=>{L(this,Da,null),this.canvas.removeEventListener("contextmenu",wr)},10)),B(this,Tt,J3).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},R_=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},I_=function(){L(this,tl,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,tl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,tl))==null||e.disconnect(),L(this,tl,null)},{once:!0})},bf=function(){if(!g(this,Vh))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),B(this,Tt,k_).call(this)},gx=function(e,n){const s=B(this,Tt,P_).call(this),a=(e-s)/g(this,Nh),l=(n-s)/g(this,Dh);this.scaleFactor=Math.min(a,l)},k_=function(){const e=B(this,Tt,P_).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Sl=new WeakSet,i5=function(e){const n=new Path2D;for(let s=0,a=e.length;s<a;s++){const[l,c,h,d]=e[s];s===0&&n.moveTo(...l),n.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}return n},mx=function(e,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let d=0,p=e.length;d<p;d+=2)e[d]+=a,e[d+1]=h-e[d+1];break;case 90:for(let d=0,p=e.length;d<p;d+=2){const v=e[d];e[d]=e[d+1]+a,e[d+1]=v+l}break;case 180:for(let d=0,p=e.length;d<p;d+=2)e[d]=c-e[d],e[d+1]+=l;break;case 270:for(let d=0,p=e.length;d<p;d+=2){const v=e[d];e[d]=c-e[d+1],e[d+1]=h-v}break;default:throw new Error("Invalid rotation")}return e},s5=function(e,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let d=0,p=e.length;d<p;d+=2)e[d]-=a,e[d+1]=h-e[d+1];break;case 90:for(let d=0,p=e.length;d<p;d+=2){const v=e[d];e[d]=e[d+1]-l,e[d+1]=v-a}break;case 180:for(let d=0,p=e.length;d<p;d+=2)e[d]=c-e[d],e[d+1]-=l;break;case 270:for(let d=0,p=e.length;d<p;d+=2){const v=e[d];e[d]=h-e[d+1],e[d+1]=c-v}break;default:throw new Error("Invalid rotation")}return e},r5=function(e,n,s,a){var p,v;const l=[],c=this.thickness/2,h=e*n+c,d=e*s+c;for(const b of this.paths){const E=[],A=[];for(let S=0,C=b.length;S<C;S++){const[x,F,M,P]=b[S];if(x[0]===P[0]&&x[1]===P[1]&&C===1){const j=e*x[0]+h,ct=e*x[1]+d;E.push(j,ct),A.push(j,ct);break}const V=e*x[0]+h,W=e*x[1]+d,D=e*F[0]+h,I=e*F[1]+d,N=e*M[0]+h,T=e*M[1]+d,U=e*P[0]+h,q=e*P[1]+d;S===0&&(E.push(V,W),A.push(V,W)),E.push(D,I,N,T,U,q),A.push(D,I),S===C-1&&A.push(U,q)}l.push({bezier:B(p=wn,Sl,mx).call(p,E,a,this.rotation),points:B(v=wn,Sl,mx).call(v,A,a,this.rotation)})}return l},yx=function(){let e=1/0,n=-1/0,s=1/0,a=-1/0;for(const l of this.paths)for(const[c,h,d,p]of l){const v=Ft.bezierBoundingBox(...c,...h,...d,...p);e=Math.min(e,v[0]),s=Math.min(s,v[1]),n=Math.max(n,v[2]),a=Math.max(a,v[3])}return[e,s,n,a]},P_=function(){return g(this,vr)?Math.ceil(this.thickness*this.parentScale):0},Bm=function(e=!1){if(this.isEmpty())return;if(!g(this,vr)){B(this,Tt,zu).call(this);return}const n=B(this,Tt,yx).call(this),s=B(this,Tt,P_).call(this);L(this,Nh,Math.max(Ke.MIN_SIZE,n[2]-n[0])),L(this,Dh,Math.max(Ke.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(s+g(this,Nh)*this.scaleFactor),l=Math.ceil(s+g(this,Dh)*this.scaleFactor),[c,h]=this.parentDimensions;this.width=a/c,this.height=l/h,this.setAspectRatio(a,l);const d=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],B(this,Tt,bf).call(this),B(this,Tt,zu).call(this),L(this,Uh,a),L(this,Bh,l),this.setDims(a,l);const v=e?s/this.scaleFactor/2:0;this.translate(d-this.translationX-v,p-this.translationY-v)},$(wn,Sl),Qt(wn,"_defaultColor",null),Qt(wn,"_defaultOpacity",1),Qt(wn,"_defaultThickness",1),Qt(wn,"_type","ink"),Qt(wn,"_editorType",le.INK);let cx=wn;var xn,Vi,Mc,el,Oc,Pp,Na,nl,La,Ws,Mp,Ee,zm,jm,M_,bx,a5,O_,_x,D_,o5,l5;const ty=class ty extends Ke{constructor(e){super({...e,name:"stampEditor"});$(this,Ee);$(this,xn,null);$(this,Vi,null);$(this,Mc,null);$(this,el,null);$(this,Oc,null);$(this,Pp,"");$(this,Na,null);$(this,nl,null);$(this,La,null);$(this,Ws,!1);$(this,Mp,!1);L(this,el,e.bitmapUrl),L(this,Oc,e.bitmapFile)}static initialize(e,n){Ke.initialize(e,n)}static get supportedTypes(){return Ae(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ae(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(le.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=e||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e,n;g(this,Vi)&&(L(this,xn,null),this._uiManager.imageManager.deleteId(g(this,Vi)),(e=g(this,Na))==null||e.remove(),L(this,Na,null),(n=g(this,nl))==null||n.disconnect(),L(this,nl,null),g(this,La)&&(clearTimeout(g(this,La)),L(this,La,null))),super.remove()}rebuild(){if(!this.parent){g(this,Vi)&&B(this,Ee,M_).call(this);return}super.rebuild(),this.div!==null&&(g(this,Vi)&&g(this,Na)===null&&B(this,Ee,M_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Mc)||g(this,xn)||g(this,el)||g(this,Oc)||g(this,Vi))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,xn)?B(this,Ee,bx).call(this):B(this,Ee,M_).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(e*s,n*a,this.width*s,this.height*a)}return this.div}copyCanvas(e,n,s=!1){var E;e||(e=224);const{width:a,height:l}=g(this,xn),c=new p1;let h=g(this,xn),d=a,p=l,v=null;if(n){if(a>n||l>n){const I=Math.min(n/a,n/l);d=Math.floor(a*I),p=Math.floor(l*I)}v=document.createElement("canvas");const A=v.width=Math.ceil(d*c.sx),S=v.height=Math.ceil(p*c.sy);g(this,Ws)||(h=B(this,Ee,O_).call(this,A,S));const C=v.getContext("2d");C.filter=this._uiManager.hcmFilter;let x="white",F="#cfcfd8";this._uiManager.hcmFilter!=="none"?F="black":(E=window.matchMedia)!=null&&E.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",F="#42414d");const M=15,P=M*c.sx,V=M*c.sy,W=new OffscreenCanvas(P*2,V*2),D=W.getContext("2d");D.fillStyle=x,D.fillRect(0,0,P*2,V*2),D.fillStyle=F,D.fillRect(0,0,P,V),D.fillRect(P,V,P,V),C.fillStyle=C.createPattern(W,"repeat"),C.fillRect(0,0,A,S),C.drawImage(h,0,0,h.width,h.height,0,0,A,S)}let b=null;if(s){let A,S;if(c.symmetric&&h.width<e&&h.height<e)A=h.width,S=h.height;else if(h=g(this,xn),a>e||l>e){const F=Math.min(e/a,e/l);A=Math.floor(a*F),S=Math.floor(l*F),g(this,Ws)||(h=B(this,Ee,O_).call(this,A,S))}const x=new OffscreenCanvas(A,S).getContext("2d",{willReadFrequently:!0});x.drawImage(h,0,0,h.width,h.height,0,0,A,S),b={width:A,height:S,data:x.getImageData(0,0,A,S).data}}return{canvas:v,width:d,height:p,imageData:b}}getImageForAltText(){return g(this,Na)}static async deserialize(e,n,s){var S;let a=null;if(e instanceof v3){const{data:{rect:C,rotation:x,id:F,structParent:M,popupRef:P},container:V,parent:{page:{pageNumber:W}}}=e,D=V.querySelector("canvas"),I=s.imageManager.getFromCanvas(V.id,D);D.remove();const N=((S=await n._structTree.getAriaAttributes(`${oR}${F}`))==null?void 0:S.get("aria-label"))||"";a=e={annotationType:le.STAMP,bitmapId:I.id,bitmap:I.bitmap,pageIndex:W-1,rect:C.slice(0),rotation:x,id:F,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:M,popupRef:P}}const l=await super.deserialize(e,n,s),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:v,accessibilityData:b}=e;p&&s.imageManager.isValidId(p)?(L(l,Vi,p),h&&L(l,xn,h)):L(l,el,d),L(l,Ws,v);const[E,A]=l.pageDimensions;return l.width=(c[2]-c[0])/E,l.height=(c[3]-c[1])/A,l.annotationElementId=e.id||null,b&&(l.altTextData=b),l._initialData=a,L(l,Mp,!!a),l}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:le.STAMP,bitmapId:g(this,Vi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,Ws),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=B(this,Ee,D_).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=B(this,Ee,l5).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=g(this,Ws)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(g(this,Vi)))n.stamps.set(g(this,Vi),{area:c,serialized:s}),s.bitmap=B(this,Ee,D_).call(this,!1);else if(g(this,Ws)){const h=n.stamps.get(g(this,Vi));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=B(this,Ee,D_).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};xn=new WeakMap,Vi=new WeakMap,Mc=new WeakMap,el=new WeakMap,Oc=new WeakMap,Pp=new WeakMap,Na=new WeakMap,nl=new WeakMap,La=new WeakMap,Ws=new WeakMap,Mp=new WeakMap,Ee=new WeakSet,zm=function(e,n=!1){if(!e){this.remove();return}L(this,xn,e.bitmap),n||(L(this,Vi,e.id),L(this,Ws,e.isSvg)),e.file&&L(this,Pp,e.file.name),B(this,Ee,bx).call(this)},jm=function(){if(L(this,Mc,null),this._uiManager.enableWaiting(!1),!!g(this,Na)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,xn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,xn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},M_=function(){if(g(this,Vi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Vi)).then(s=>B(this,Ee,zm).call(this,s,!0)).finally(()=>B(this,Ee,jm).call(this));return}if(g(this,el)){const s=g(this,el);L(this,el,null),this._uiManager.enableWaiting(!0),L(this,Mc,this._uiManager.imageManager.getFromUrl(s).then(a=>B(this,Ee,zm).call(this,a)).finally(()=>B(this,Ee,jm).call(this)));return}if(g(this,Oc)){const s=g(this,Oc);L(this,Oc,null),this._uiManager.enableWaiting(!0),L(this,Mc,this._uiManager.imageManager.getFromFile(s).then(a=>B(this,Ee,zm).call(this,a)).finally(()=>B(this,Ee,jm).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=ty.supportedTypesStr;const n=this._uiManager._signal;L(this,Mc,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),B(this,Ee,zm).call(this,a)}s()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>B(this,Ee,jm).call(this))),e.click()},bx=function(){const{div:e}=this;let{width:n,height:s}=g(this,xn);const[a,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*a,s=this.height*l;else if(n>c*a||s>c*l){const v=Math.min(c*a/n,c*l/s);n*=v,s*=v}const[h,d]=this.parentDimensions;this.setDims(n*h/a,s*d/l),this._uiManager.enableWaiting(!1);const p=L(this,Na,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),B(this,Ee,_x).call(this,n,s),B(this,Ee,o5).call(this),g(this,Mp)||(this.parent.addUndoableEditor(this),L(this,Mp,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,Pp)&&p.setAttribute("aria-label",g(this,Pp))},a5=function(e,n){var c;const[s,a]=this.parentDimensions;this.width=e/s,this.height=n/a,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,La)!==null&&clearTimeout(g(this,La)),L(this,La,setTimeout(()=>{L(this,La,null),B(this,Ee,_x).call(this,e,n)},200))},O_=function(e,n){const{width:s,height:a}=g(this,xn);let l=s,c=a,h=g(this,xn);for(;l>2*e||c>2*n;){const d=l,p=c;l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const v=new OffscreenCanvas(l,c);v.getContext("2d").drawImage(h,0,0,d,p,0,0,l,c),h=v.transferToImageBitmap()}return h},_x=function(e,n){const s=new p1,a=Math.ceil(e*s.sx),l=Math.ceil(n*s.sy),c=g(this,Na);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const h=g(this,Ws)?g(this,xn):B(this,Ee,O_).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,l)},D_=function(e){if(e){if(g(this,Ws)){const a=this._uiManager.imageManager.getSvgUrl(g(this,Vi));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,xn),n.getContext("2d").drawImage(g(this,xn),0,0),n.toDataURL()}if(g(this,Ws)){const[n,s]=this.pageDimensions,a=Math.round(this.width*n*Zc.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Zc.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(g(this,xn),0,0,g(this,xn).width,g(this,xn).height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(g(this,xn))},o5=function(){this._uiManager._signal&&(L(this,nl,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&B(this,Ee,a5).call(this,n.width,n.height)})),g(this,nl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,nl))==null||e.disconnect(),L(this,nl,null)},{once:!0}))},l5=function(e){var d;const{rect:n,pageIndex:s,accessibilityData:{altText:a}}=this._initialData,l=e.rect.every((p,v)=>Math.abs(p-n[v])<1),c=e.pageIndex===s,h=(((d=e.accessibilityData)==null?void 0:d.alt)||"")===a;return{isSame:l&&c&&h,isSameAltText:h}},Qt(ty,"_type","stamp"),Qt(ty,"_editorType",le.STAMP);let vx=ty;var zh,Op,Fa,Dc,il,Ks,Nc,Dp,Np,Ji,sl,zt,Lc,zi,c5,Ax,Sx,wx,N_;const Pr=class Pr{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){$(this,zi);$(this,zh);$(this,Op,!1);$(this,Fa,null);$(this,Dc,null);$(this,il,null);$(this,Ks,new Map);$(this,Nc,!1);$(this,Dp,!1);$(this,Np,!1);$(this,Ji,null);$(this,sl,null);$(this,zt);const v=[...g(Pr,Lc).values()];if(!Pr._initialized){Pr._initialized=!0;for(const b of v)b.initialize(p,t)}t.registerEditorTypes(v),L(this,zt,t),this.pageIndex=e,this.div=n,L(this,zh,a),L(this,Fa,l),this.viewport=d,L(this,Ji,h),this.drawLayer=c,this._structTree=s,g(this,zt).addLayer(this)}get isEmpty(){return g(this,Ks).size===0}get isInvisible(){return this.isEmpty&&g(this,zt).getMode()===le.NONE}updateToolbar(t){g(this,zt).updateToolbar(t)}updateMode(t=g(this,zt).getMode()){switch(B(this,zi,N_).call(this),t){case le.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case le.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of g(Pr,Lc).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=g(this,Ji))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(g(this,zt).getMode()!==le.INK)return;if(!t){for(const n of g(this,Ks).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){g(this,zt).setEditingState(t)}addCommands(t){g(this,zt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=g(this,Fa))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of g(this,Ks).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,zt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!g(this,Fa))return;const e=g(this,Fa).getEditableAnnotations();for(const n of e){if(n.hide(),g(this,zt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;L(this,Np,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of g(this,Ks).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(g(this,Fa)){const a=g(this,Fa).getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(g(this,zt).isDeletedAnnotationElement(c))continue;let h=e.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(c),h&&(g(this,zt).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}B(this,zi,N_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of g(Pr,Lc).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),L(this,Np,!1)}getEditableAnnotation(t){var e;return((e=g(this,Fa))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){g(this,zt).getActive()!==t&&g(this,zt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=g(this,Ji))!=null&&t.div&&!g(this,sl)){L(this,sl,new AbortController);const e=g(this,zt).combinedSignal(g(this,sl));g(this,Ji).div.addEventListener("pointerdown",B(this,zi,c5).bind(this),{signal:e}),g(this,Ji).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=g(this,Ji))!=null&&t.div&&g(this,sl)&&(g(this,sl).abort(),L(this,sl,null),g(this,Ji).div.classList.remove("highlighting"))}enableClick(){if(g(this,Dc))return;L(this,Dc,new AbortController);const t=g(this,zt).combinedSignal(g(this,Dc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=g(this,Dc))==null||t.abort(),L(this,Dc,null)}attach(t){g(this,Ks).set(t.id,t);const{annotationElementId:e}=t;e&&g(this,zt).isDeletedAnnotationElement(e)&&g(this,zt).removeDeletedAnnotationElement(t)}detach(t){var e;g(this,Ks).delete(t.id),(e=g(this,zh))==null||e.removePointerInTextLayer(t.contentDiv),!g(this,Np)&&t.annotationElementId&&g(this,zt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),g(this,zt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,g(this,Dp)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(g(this,zt).addDeletedAnnotationElement(t.annotationElementId),Ke.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),g(this,zt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),g(this,zt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!g(this,il)&&(t._focusEventsAllowed=!1,L(this,il,setTimeout(()=>{L(this,il,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:g(this,zt)._signal}),e.focus())},0))),t._structTreeParentId=(n=g(this,zh))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return g(this,zt).getId()}combinedSignal(t){return g(this,zt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=g(this,zi,Ax))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){g(this,zt).updateToolbar(t),g(this,zt).updateMode(t);const{offsetX:n,offsetY:s}=B(this,zi,wx).call(this),a=this.getNextId(),l=B(this,zi,Sx).call(this,{parent:this,id:a,x:n,y:s,uiManager:g(this,zt),isCentered:!0,...e});l&&this.add(l)}async deserialize(t){var e;return await((e=g(Pr,Lc).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,g(this,zt)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),a=B(this,zi,Sx).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:g(this,zt),isCentered:e,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(B(this,zi,wx).call(this),!0)}setSelected(t){g(this,zt).setSelected(t)}toggleSelected(t){g(this,zt).toggleSelected(t)}unselect(t){g(this,zt).unselect(t)}pointerup(t){const{isMac:e}=ms.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&g(this,Nc)){if(L(this,Nc,!1),!g(this,Op)){L(this,Op,!0);return}if(g(this,zt).getMode()===le.STAMP){g(this,zt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(g(this,zt).getMode()===le.HIGHLIGHT&&this.enableTextSelection(),g(this,Nc)){L(this,Nc,!1);return}const{isMac:e}=ms.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;L(this,Nc,!0);const n=g(this,zt).getActive();L(this,Op,!n||n.isEmpty())}findNewParent(t,e,n){const s=g(this,zt).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=g(this,zt).getActive())==null?void 0:t.parent)===this&&(g(this,zt).commitOrRemove(),g(this,zt).setActiveEditor(null)),g(this,il)&&(clearTimeout(g(this,il)),L(this,il,null));for(const n of g(this,Ks).values())(e=g(this,zh))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,Ks).clear(),g(this,zt).removeLayer(this)}render({viewport:t}){this.viewport=t,Xh(this.div,t);for(const e of g(this,zt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){g(this,zt).commitOrRemove(),B(this,zi,N_).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Xh(this.div,{rotation:n}),e!==n)for(const s of g(this,Ks).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return g(this,zt).viewParameters.realScale}};zh=new WeakMap,Op=new WeakMap,Fa=new WeakMap,Dc=new WeakMap,il=new WeakMap,Ks=new WeakMap,Nc=new WeakMap,Dp=new WeakMap,Np=new WeakMap,Ji=new WeakMap,sl=new WeakMap,zt=new WeakMap,Lc=new WeakMap,zi=new WeakSet,c5=function(t){g(this,zt).unselectAll();const{target:e}=t;if(e===g(this,Ji).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&g(this,Ji).div.contains(e)){const{isMac:n}=ms.platform;if(t.button!==0||t.ctrlKey&&n)return;g(this,zt).showAllEditors("highlight",!0,!0),g(this,Ji).div.classList.add("free"),this.toggleDrawing(),fE.startHighlighting(this,g(this,zt).direction==="ltr",{target:g(this,Ji).div,x:t.x,y:t.y}),g(this,Ji).div.addEventListener("pointerup",()=>{g(this,Ji).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,zt)._signal}),t.preventDefault()}},Ax=function(){return g(Pr,Lc).get(g(this,zt).getMode())},Sx=function(t){const e=g(this,zi,Ax);return e?new e.prototype.constructor(t):null},wx=function(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),d=(a+c)/2-t,p=(l+h)/2-e,[v,b]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:v,offsetY:b}},N_=function(){L(this,Dp,!0);for(const t of g(this,Ks).values())t.isEmpty()&&t.remove();L(this,Dp,!1)},Qt(Pr,"_initialized",!1),$(Pr,Lc,new Map([tx,cx,vx,fE].map(t=>[t._editorType,t])));let Ex=Pr;var Va,Cv,ti,rl,Rv,xx,ed,Cx,u5;const Ni=class Ni{constructor({pageIndex:t}){$(this,ed);$(this,Va,null);$(this,Cv,0);$(this,ti,new Map);$(this,rl,new Map);this.pageIndex=t}setParent(t){if(!g(this,Va)){L(this,Va,t);return}if(g(this,Va)!==t){if(g(this,ti).size>0)for(const e of g(this,ti).values())e.remove(),t.append(e);L(this,Va,t)}}static get _svgFactory(){return Ae(this,"_svgFactory",new yR)}draw(t,e,n,s=!1){const a=ds(this,Cv)._++,l=B(this,ed,Cx).call(this,t.box);l.classList.add(...t.classNamesForDrawing);const c=Ni._svgFactory.createElement("defs");l.append(c);const h=Ni._svgFactory.createElement("path");c.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("d",t.toSVGPath()),s&&g(this,rl).set(a,h);const p=B(this,ed,u5).call(this,c,d),v=Ni._svgFactory.createElement("use");return l.append(v),l.setAttribute("fill",e),l.setAttribute("fill-opacity",n),v.setAttribute("href",`#${d}`),g(this,ti).set(a,l),{id:a,clipPathId:`url(#${p})`}}drawOutline(t){const e=ds(this,Cv)._++,n=B(this,ed,Cx).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const s=Ni._svgFactory.createElement("defs");n.append(s);const a=Ni._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${e}`;a.setAttribute("id",l),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const p=Ni._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${e}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const v=Ni._svgFactory.createElement("rect");p.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=Ni._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const h=Ni._svgFactory.createElement("use");n.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const d=h.cloneNode();return n.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),g(this,ti).set(e,n),e}finalizeLine(t,e){const n=g(this,rl).get(t);g(this,rl).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){g(this,ti).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){g(this,rl).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;B(n=Ni,Rv,xx).call(n,g(this,ti).get(t),e)}show(t,e){g(this,ti).get(t).classList.toggle("hidden",!e)}rotate(t,e){g(this,ti).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){g(this,ti).get(t).setAttribute("fill",e)}changeOpacity(t,e){g(this,ti).get(t).setAttribute("fill-opacity",e)}addClass(t,e){g(this,ti).get(t).classList.add(e)}removeClass(t,e){g(this,ti).get(t).classList.remove(e)}getSVGRoot(t){return g(this,ti).get(t)}remove(t){g(this,rl).delete(t),g(this,Va)!==null&&(g(this,ti).get(t).remove(),g(this,ti).delete(t))}destroy(){L(this,Va,null);for(const t of g(this,ti).values())t.remove();g(this,ti).clear(),g(this,rl).clear()}};Va=new WeakMap,Cv=new WeakMap,ti=new WeakMap,rl=new WeakMap,Rv=new WeakSet,xx=function(t,{x:e=0,y:n=0,width:s=1,height:a=1}={}){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*s}%`,l.height=`${100*a}%`},ed=new WeakSet,Cx=function(t){var n;const e=Ni._svgFactory.create(1,1,!0);return g(this,Va).append(e),e.setAttribute("aria-hidden",!0),B(n=Ni,Rv,xx).call(n,e,t),e},u5=function(t,e){const n=Ni._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Ni._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},$(Ni,Rv);let Tx=Ni;var iJ=re.AbortException,sJ=re.AnnotationEditorLayer,rJ=re.AnnotationEditorParamsType,aJ=re.AnnotationEditorType,oJ=re.AnnotationEditorUIManager,h5=re.AnnotationLayer,d5=re.AnnotationMode,lJ=re.ColorPicker,cJ=re.DOMSVGFactory,uJ=re.DrawLayer,hJ=re.FeatureTest,bR=re.GlobalWorkerOptions,dJ=re.ImageKind,fJ=re.InvalidPDFException,pJ=re.MissingPDFException,gJ=re.OPS,mJ=re.OutputScale,yJ=re.PDFDataRangeTransport,vJ=re.PDFDateString,bJ=re.PDFWorker,_J=re.PasswordResponses,EJ=re.PermissionFlag,AJ=re.PixelsPerInch,SJ=re.RenderingCancelledException,f5=re.TextLayer,wJ=re.UnexpectedResponseException,TJ=re.Util,xJ=re.VerbosityLevel,CJ=re.XfaLayer,RJ=re.build,IJ=re.createValidAbsoluteUrl,kJ=re.fetchData,p5=re.getDocument,PJ=re.getFilenameFromUrl,MJ=re.getPdfFilenameFromUrl,OJ=re.getXfaPageViewport,DJ=re.isDataScheme,NJ=re.isPdfFile,LJ=re.noContextMenu,FJ=re.normalizeUnicode,VJ=re.setLayerDimensions,UJ=re.shadow,BJ=re.version;const zJ=Object.freeze(Object.defineProperty({__proto__:null,AbortException:iJ,AnnotationEditorLayer:sJ,AnnotationEditorParamsType:rJ,AnnotationEditorType:aJ,AnnotationEditorUIManager:oJ,AnnotationLayer:h5,AnnotationMode:d5,ColorPicker:lJ,DOMSVGFactory:cJ,DrawLayer:uJ,FeatureTest:hJ,GlobalWorkerOptions:bR,ImageKind:dJ,InvalidPDFException:fJ,MissingPDFException:pJ,OPS:gJ,OutputScale:mJ,PDFDataRangeTransport:yJ,PDFDateString:vJ,PDFWorker:bJ,PasswordResponses:_J,PermissionFlag:EJ,PixelsPerInch:AJ,RenderingCancelledException:SJ,TextLayer:f5,UnexpectedResponseException:wJ,Util:TJ,VerbosityLevel:xJ,XfaLayer:CJ,build:RJ,createValidAbsoluteUrl:IJ,fetchData:kJ,getDocument:p5,getFilenameFromUrl:PJ,getPdfFilenameFromUrl:MJ,getXfaPageViewport:OJ,isDataScheme:DJ,isPdfFile:NJ,noContextMenu:LJ,normalizeUnicode:FJ,setLayerDimensions:VJ,shadow:UJ,version:BJ},Symbol.toStringTag,{value:"Module"}));var Si=function(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return i.concat(a||Array.prototype.slice.call(t))},jJ=["onCopy","onCut","onPaste"],HJ=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],$J=["onFocus","onBlur"],qJ=["onInput","onInvalid","onReset","onSubmit"],GJ=["onLoad","onError"],WJ=["onKeyDown","onKeyPress","onKeyUp"],KJ=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],YJ=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],XJ=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],QJ=["onSelect"],ZJ=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],JJ=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],ttt=["onScroll"],ett=["onWheel"],ntt=["onAnimationStart","onAnimationEnd","onAnimationIteration"],itt=["onTransitionEnd"],stt=["onToggle"],rtt=["onChange"],att=Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(Si([],jJ,!0),HJ,!0),$J,!0),qJ,!0),GJ,!0),WJ,!0),KJ,!0),YJ,!0),XJ,!0),QJ,!0),ZJ,!0),JJ,!0),ttt,!0),ett,!0),ntt,!0),itt,!0),rtt,!0),stt,!0);function g5(i,t){var e={};return att.forEach(function(n){var s=i[n];s&&(t?e[n]=function(a){return s(a,t(n))}:e[n]=s)}),e}function Jv(i){var t=!1,e=new Promise(function(n,s){i.then(function(a){return!t&&n(a)}).catch(function(a){return!t&&s(a)})});return{promise:e,cancel:function(){t=!0}}}var ott="Invariant failed";function cn(i,t){if(!i)throw new Error(ott)}var uT,rD;function ltt(){if(rD)return uT;rD=1;var i=function(){};return uT=i,uT}var ctt=ltt();const is=kx(ctt);var aD=Object.prototype.hasOwnProperty;function oD(i,t,e){for(e of i.keys())if(Lf(e,t))return e}function Lf(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Lf(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=oD(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=oD(t,s),!s)||!Lf(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(aD.call(i,e)&&++n&&!aD.call(t,e)||!(e in t)||!Lf(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const m5=O.createContext(null);function Ff({children:i,type:t}){return z.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const utt="noopener noreferrer nofollow";class htt{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return cn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){cn(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{cn(this.pdfDocument),cn(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{cn(Array.isArray(e));const n=e[0];new Promise(s=>{cn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{s(a)}).catch(()=>{cn(!1)}):typeof n=="number"?s(n):cn(!1)}).then(s=>{const a=s+1;cn(this.pdfViewer),cn(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;cn(this.pdfViewer),cn(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||utt,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const lD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},SA=typeof window<"u",y5=SA&&window.location.protocol==="file:";function dtt(i){return typeof i<"u"}function Du(i){return dtt(i)&&i!==null}function ftt(i){return typeof i=="string"}function ptt(i){return i instanceof ArrayBuffer}function gtt(i){return cn(SA),i instanceof Blob}function Rx(i){return ftt(i)&&/^data:/.test(i)}function cD(i){cn(Rx(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function mtt(){return SA&&window.devicePixelRatio||1}const v5="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function uD(){is(!y5,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${v5}`)}function ytt(){is(!y5,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${v5}`)}function Jh(i){i!=null&&i.cancel&&i.cancel()}function Ix(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function vtt(i){return i.name==="RenderingCancelledException"}function btt(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function _tt(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Wp(){return O.useReducer(_tt,{value:void 0,error:void 0})}var Ett=function(i,t,e,n){function s(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function c(p){try{d(n.next(p))}catch(v){l(v)}}function h(p){try{d(n.throw(p))}catch(v){l(v)}}function d(p){p.done?a(p.value):s(p.value).then(c,h)}d((n=n.apply(i,t||[])).next())})},hD=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:Att}=zJ,Stt=(i,t)=>{switch(t){case lD.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case lD.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function dD(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const wtt=O.forwardRef(function(t,e){var{children:n,className:s,error:a="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:c,file:h,inputRef:d,imageResourcesPath:p,loading:v="Loading PDF",noData:b="No PDF file specified.",onItemClick:E,onLoadError:A,onLoadProgress:S,onLoadSuccess:C,onPassword:x=Stt,onSourceError:F,onSourceSuccess:M,options:P,renderMode:V,rotate:W}=t,D=hD(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[I,N]=Wp(),{value:T,error:U}=I,[q,j]=Wp(),{value:ct,error:nt}=q,Y=O.useRef(new htt),Q=O.useRef([]),at=O.useRef(void 0),dt=O.useRef(void 0);h&&h!==at.current&&dD(h)&&(is(!Lf(h,at.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),at.current=h),P&&P!==dt.current&&(is(!Lf(P,dt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),dt.current=P);const K=O.useRef({scrollPageIntoView:Mt=>{const{dest:kt,pageNumber:Wt,pageIndex:ue=Wt-1}=Mt;if(E){E({dest:kt,pageIndex:ue,pageNumber:Wt});return}const fe=Q.current[ue];if(fe){fe.scrollIntoView();return}is(!1,`An internal link leading to page ${Wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});O.useImperativeHandle(e,()=>({linkService:Y,pages:Q,viewer:K}),[]);function rt(){M&&M()}function ut(){U&&(is(!1,U.toString()),F&&F(U))}function st(){N({type:"RESET"})}O.useEffect(st,[h,N]);const vt=O.useCallback(()=>Ett(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return Rx(h)?{data:cD(h)}:(uD(),{url:h});if(h instanceof Att)return{range:h};if(ptt(h))return{data:h};if(SA&&gtt(h))return{data:yield btt(h)};if(cn(typeof h=="object"),cn(dD(h)),"url"in h&&typeof h.url=="string"){if(Rx(h.url)){const{url:Mt}=h,kt=hD(h,["url"]),Wt=cD(Mt);return Object.assign({data:Wt},kt)}uD()}return h}),[h]);O.useEffect(()=>{const Mt=Jv(vt());return Mt.promise.then(kt=>{N({type:"RESOLVE",value:kt})}).catch(kt=>{N({type:"REJECT",error:kt})}),()=>{Jh(Mt)}},[vt,N]),O.useEffect(()=>{if(!(typeof T>"u")){if(T===!1){ut();return}rt()}},[T]);function wt(){ct&&(C&&C(ct),Q.current=new Array(ct.numPages),Y.current.setDocument(ct))}function _t(){nt&&(is(!1,nt.toString()),A&&A(nt))}O.useEffect(function(){j({type:"RESET"})},[j,T]),O.useEffect(function(){if(!T)return;const kt=P?Object.assign(Object.assign({},T),P):T,Wt=p5(kt);S&&(Wt.onProgress=S),x&&(Wt.onPassword=x);const ue=Wt,fe=ue.promise.then(ke=>{j({type:"RESOLVE",value:ke})}).catch(ke=>{ue.destroyed||j({type:"REJECT",error:ke})});return()=>{fe.finally(()=>ue.destroy())}},[P,j,T]),O.useEffect(()=>{if(!(typeof ct>"u")){if(ct===!1){_t();return}wt()}},[ct]),O.useEffect(function(){Y.current.setViewer(K.current),Y.current.setExternalLinkRel(l),Y.current.setExternalLinkTarget(c)},[l,c]);const xt=O.useCallback((Mt,kt)=>{Q.current[Mt]=kt},[]),Bt=O.useCallback(Mt=>{delete Q.current[Mt]},[]),jt=O.useMemo(()=>({imageResourcesPath:p,linkService:Y.current,onItemClick:E,pdf:ct,registerPage:xt,renderMode:V,rotate:W,unregisterPage:Bt}),[p,E,ct,xt,V,W,Bt]),Et=O.useMemo(()=>g5(D,()=>ct),[D,ct]);function Ht(){return z.jsx(m5.Provider,{value:jt,children:n})}function Gt(){return h?ct==null?z.jsx(Ff,{type:"loading",children:typeof v=="function"?v():v}):ct===!1?z.jsx(Ff,{type:"error",children:typeof a=="function"?a():a}):Ht():z.jsx(Ff,{type:"no-data",children:typeof b=="function"?b():b})}return z.jsx("div",Object.assign({className:te("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},Et,{children:Gt()}))});function b5(){return O.useContext(m5)}function _5(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(a){e.forEach(function(l){typeof l=="function"?l(a):l&&(l.current=a)})}}const E5=O.createContext(null),A5={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ttt=/^H(\d+)$/;function xtt(i){return i in A5}function wA(i){return"children"in i}function S5(i){return wA(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function Ctt(i){const t={};if(wA(i)){const{role:e}=i,n=e.match(Ttt);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(xtt(e)){const s=A5[e];s&&(t.role=s)}}return t}function w5(i){const t={};if(wA(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),S5(i)){const[e]=i.children;if(e){const n=w5(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function Rtt(i){return i?Object.assign(Object.assign({},Ctt(i)),w5(i)):null}function T5({className:i,node:t}){const e=O.useMemo(()=>Rtt(t),[t]),n=O.useMemo(()=>!wA(t)||S5(t)?null:t.children.map((s,a)=>z.jsx(T5,{node:s},a)),[t]);return z.jsx("span",Object.assign({className:i},e,{children:n}))}function TA(){return O.useContext(E5)}function Itt(){const i=TA();cn(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=Wp(),{value:a,error:l}=n,{customTextRenderer:c,page:h}=i;function d(){a&&e&&e(a)}function p(){l&&(is(!1,l.toString()),t&&t(l))}return O.useEffect(function(){s({type:"RESET"})},[s,h]),O.useEffect(function(){if(c||!h)return;const b=Jv(h.getStructTree()),E=b;return b.promise.then(A=>{s({type:"RESOLVE",value:A})}).catch(A=>{s({type:"REJECT",error:A})}),()=>Jh(E)},[c,h,s]),O.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}d()}},[a]),a?z.jsx(T5,{className:"react-pdf__Page__structTree structTree",node:a}):null}const fD=d5;function ktt(i){const t=TA();cn(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:a=mtt(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:v,scale:b}=e,{canvasRef:E}=i;cn(h);const A=O.useRef(null);function S(){h&&c&&c(Ix(h,b))}function C(P){vtt(P)||(is(!1,P.toString()),l&&l(P))}const x=O.useMemo(()=>h.getViewport({scale:b*a,rotation:v}),[a,h,v,b]),F=O.useMemo(()=>h.getViewport({scale:b,rotation:v}),[h,v,b]);O.useEffect(function(){if(!h)return;h.cleanup();const{current:V}=A;if(!V)return;V.width=x.width,V.height=x.height,V.style.width=`${Math.floor(F.width)}px`,V.style.height=`${Math.floor(F.height)}px`,V.style.visibility="hidden";const W={annotationMode:d?fD.ENABLE_FORMS:fD.ENABLE,canvasContext:V.getContext("2d",{alpha:!1}),viewport:x};s&&(W.background=s);const D=h.render(W),I=D;return D.promise.then(()=>{V.style.visibility="",S()}).catch(C),()=>Jh(I)},[s,h,d,x,F]);const M=O.useCallback(()=>{const{current:P}=A;P&&(P.width=0,P.height=0)},[]);return O.useEffect(()=>M,[M]),z.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:_5(E,A),style:{display:"block",userSelect:"none"},children:p?z.jsx(Itt,{}):null})}function Ptt(i){return"str"in i}function Mtt(){const i=TA();cn(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:h,rotate:d,scale:p}=i;cn(l);const[v,b]=Wp(),{value:E,error:A}=v,S=O.useRef(null);is(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){E&&n&&n(E)}function x(){A&&(is(!1,A.toString()),e&&e(A))}O.useEffect(function(){b({type:"RESET"})},[l,b]),O.useEffect(function(){if(!l)return;const I=Jv(l.getTextContent()),N=I;return I.promise.then(T=>{b({type:"RESOLVE",value:T})}).catch(T=>{b({type:"REJECT",error:T})}),()=>Jh(N)},[l,b]),O.useEffect(()=>{if(E!==void 0){if(E===!1){x();return}C()}},[E]);const F=O.useCallback(()=>{a&&a()},[a]),M=O.useCallback(D=>{is(!1,D.toString()),s&&s(D)},[s]);function P(){const D=S.current;D&&D.classList.add("selecting")}function V(){const D=S.current;D&&D.classList.remove("selecting")}const W=O.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return O.useLayoutEffect(function(){if(!l||!E)return;const{current:I}=S;if(!I)return;I.innerHTML="";const N=l.streamTextContent({includeMarkedContent:!0}),T={container:I,textContentSource:N,viewport:W},U=new f5(T),q=U;return U.render().then(()=>{const j=document.createElement("div");j.className="endOfContent",I.append(j);const ct=I.querySelectorAll('[role="presentation"]');if(t){let nt=0;E.items.forEach((Y,Q)=>{if(!Ptt(Y))return;const at=ct[nt];if(!at)return;const dt=t(Object.assign({pageIndex:c,pageNumber:h,itemIndex:Q},Y));at.innerHTML=dt,nt+=Y.str&&Y.hasEOL?2:1})}F()}).catch(M),()=>Jh(q)},[t,M,F,l,c,h,E,W]),z.jsx("div",{className:te("react-pdf__Page__textContent","textLayer"),onMouseUp:V,onMouseDown:P,ref:S})}function Ott(){const i=b5(),t=TA();cn(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:v,rotate:b,scale:E=1}=e;cn(p),cn(d),cn(s);const[A,S]=Wp(),{value:C,error:x}=A,F=O.useRef(null);is(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){C&&l&&l(C)}function P(){x&&(is(!1,x.toString()),a&&a(x))}O.useEffect(function(){S({type:"RESET"})},[S,d]),O.useEffect(function(){if(!d)return;const N=Jv(d.getAnnotations()),T=N;return N.promise.then(U=>{S({type:"RESOLVE",value:U})}).catch(U=>{S({type:"REJECT",error:U})}),()=>{Jh(T)}},[S,d]),O.useEffect(()=>{if(C!==void 0){if(C===!1){P();return}M()}},[C]);function V(){h&&h()}function W(I){is(!1,`${I}`),c&&c(I)}const D=O.useMemo(()=>d.getViewport({scale:E,rotation:b}),[d,b,E]);return O.useEffect(function(){if(!p||!d||!s||!C)return;const{current:N}=F;if(!N)return;const T=D.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:N,l10n:null,page:d,structTreeLayer:null,viewport:T},q={annotations:C,annotationStorage:p.annotationStorage,div:N,imageResourcesPath:n,linkService:s,page:d,renderForms:v,viewport:T};N.innerHTML="";try{new h5(U).render(q),V()}catch(j){W(j)}return()=>{}},[C,n,s,d,p,v,D]),z.jsx("div",{className:te("react-pdf__Page__annotations","annotationLayer"),ref:F})}var Dtt=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const pD=1;function Ntt(i){const t=b5(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:l,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:v,error:b="Failed to load the page.",height:E,inputRef:A,loading:S="Loading page",noData:C="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:F,onGetStructTreeError:M,onGetStructTreeSuccess:P,onGetTextError:V,onGetTextSuccess:W,onLoadError:D,onLoadSuccess:I,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:T,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:j,onRenderTextLayerSuccess:ct,pageIndex:nt,pageNumber:Y,pdf:Q,registerPage:at,renderAnnotationLayer:dt=!0,renderForms:K=!1,renderMode:rt="canvas",renderTextLayer:ut=!0,rotate:st,scale:vt=pD,unregisterPage:wt,width:_t}=e,xt=Dtt(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Bt,jt]=Wp(),{value:Et,error:Ht}=Bt,Gt=O.useRef(null);cn(Q);const Mt=Du(Y)?Y-1:nt??null,kt=Y??(Du(nt)?nt+1:null),Wt=st??(Et?Et.rotate:null),ue=O.useMemo(()=>{if(!Et)return null;let ee=1;const Xe=vt??pD;if(_t||E){const Oe=Et.getViewport({scale:1,rotation:Wt});_t?ee=_t/Oe.width:E&&(ee=E/Oe.height)}return Xe*ee},[E,Et,Wt,vt,_t]);O.useEffect(function(){return()=>{Du(Mt)&&s&&wt&&wt(Mt)}},[s,Q,Mt,wt]);function fe(){if(I){if(!Et||!ue)return;I(Ix(Et,ue))}if(s&&at){if(!Du(Mt)||!Gt.current)return;at(Mt,Gt.current)}}function ke(){Ht&&(is(!1,Ht.toString()),D&&D(Ht))}O.useEffect(function(){jt({type:"RESET"})},[jt,Q,Mt]),O.useEffect(function(){if(!Q||!kt)return;const Xe=Jv(Q.getPage(kt)),Oe=Xe;return Xe.promise.then(De=>{jt({type:"RESOLVE",value:De})}).catch(De=>{jt({type:"REJECT",error:De})}),()=>Jh(Oe)},[jt,Q,kt]),O.useEffect(()=>{if(Et!==void 0){if(Et===!1){ke();return}fe()}},[Et,ue]);const Ue=O.useMemo(()=>Et&&Du(Mt)&&kt&&Du(Wt)&&Du(ue)?{_className:n,canvasBackground:a,customTextRenderer:p,devicePixelRatio:v,onGetAnnotationsError:x,onGetAnnotationsSuccess:F,onGetStructTreeError:M,onGetStructTreeSuccess:P,onGetTextError:V,onGetTextSuccess:W,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:T,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:j,onRenderTextLayerSuccess:ct,page:Et,pageIndex:Mt,pageNumber:kt,renderForms:K,renderTextLayer:ut,rotate:Wt,scale:ue}:null,[n,a,p,v,x,F,M,P,V,W,N,T,U,q,j,ct,Et,Mt,kt,K,ut,Wt,ue]),He=O.useMemo(()=>g5(xt,()=>Et&&(ue?Ix(Et,ue):void 0)),[xt,Et,ue]),pe=`${Mt}@${ue}/${Wt}`;function Ot(){switch(rt){case"custom":return cn(d),z.jsx(d,{},`${pe}_custom`);case"none":return null;case"canvas":default:return z.jsx(ktt,{canvasRef:l},`${pe}_canvas`)}}function si(){return ut?z.jsx(Mtt,{},`${pe}_text`):null}function Ye(){return dt?z.jsx(Ott,{},`${pe}_annotations`):null}function Hi(){return z.jsxs(E5.Provider,{value:Ue,children:[Ot(),si(),Ye(),c]})}function Re(){return kt?Q===null||Et===void 0||Et===null?z.jsx(Ff,{type:"loading",children:typeof S=="function"?S():S}):Q===!1||Et===!1?z.jsx(Ff,{type:"error",children:typeof b=="function"?b():b}):Hi():z.jsx(Ff,{type:"no-data",children:typeof C=="function"?C():C})}return z.jsx("div",Object.assign({className:te(n,h),"data-page-number":kt,ref:_5(A,Gt),style:{"--scale-factor":`${ue}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},He,{children:Re()}))}ytt();bR.workerSrc="pdf.worker.mjs";const Ltt=os(z.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Ftt=os(z.jsx("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"})),hT="/assets/workbook-Dd_TN73H.pdf";bR.workerSrc="/pdf.worker.js";function Vtt(){const[i,t]=O.useState(0),[e,n]=O.useState(1),[s,a]=O.useState(1),l=O.useRef(null),c=Pv();function h({numPages:d}){t(d),n(1)}return O.useEffect(()=>{const d=()=>{if(l.current){const b=l.current.offsetWidth/612;a(b)}};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),z.jsxs(St,{className:"wrapper",children:[z.jsx(XE,{subtitle:" "}),z.jsxs(St,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[z.jsxs(St,{className:"fullWidth fully_centeralize",children:[z.jsx("a",{href:hT,download:!0,target:"_blank",rel:"noopener noreferrer",children:z.jsx(St,{className:"homebutton fully_centeralize",children:z.jsx(Ltt,{fontSize:"large",sx:{color:"#1a1c21"}})})}),z.jsx(St,{className:"homebutton fully_centeralize",onClick:()=>{c("/")},children:z.jsx(a4,{fontSize:"large",sx:{color:"#1a1c21"}})}),z.jsx(St,{className:"homebutton fully_centeralize",onClick:()=>{navigator.share?navigator.share({title:" ",text:"2025 Summer Retreat - CHANGE ",url:hT}):alert("     .")},children:z.jsx(Ftt,{fontSize:"large",sx:{color:"#1a1c21"}})})]}),z.jsx(St,{ref:l,className:"centeralize",sx:{width:"100%",height:"100%",overflow:"auto",maxHeight:"calc(100vh-100px)",flex:1,minHeight:0},children:z.jsx(wtt,{file:hT,onLoadSuccess:h,children:z.jsx(Ntt,{scale:s,pageNumber:e,renderTextLayer:!1,renderAnnotationLayer:!1})})}),z.jsxs(St,{className:"fully_centeralize fullWidth",sx:{display:"flex",p:1,boxSizing:"border-box",height:"60px"},children:[z.jsx("button",{disabled:e<=1,onClick:()=>n(d=>d+-1),children:""}),z.jsxs(Lt,{sx:{ml:2,mr:2},children:[e," / ",i]}),z.jsx("button",{disabled:e>=i,onClick:()=>n(d=>d+1),children:""})]})]})]})}function Utt(){return z.jsx(YX,{children:z.jsx(Jj,{theme:QX,children:z.jsx(AU,{children:z.jsxs(ZV,{children:[z.jsx(af,{path:"/signin",element:z.jsx(XX,{})}),z.jsx(af,{path:"/",element:z.jsx(V0,{children:z.jsx(KX,{})})}),z.jsx(af,{path:"/pray",element:z.jsx(V0,{children:z.jsx(JX,{})})}),z.jsx(af,{path:"/post",element:z.jsx(V0,{children:z.jsx(tQ,{})})}),z.jsx(af,{path:"/workbook",element:z.jsx(V0,{children:z.jsx(Vtt,{})})})]})})})})}oV.createRoot(document.getElementById("root")).render(z.jsx(O.StrictMode,{children:z.jsx(Utt,{})}));
