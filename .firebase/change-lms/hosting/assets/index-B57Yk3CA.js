var N6=Object.defineProperty;var sP=i=>{throw TypeError(i)};var F6=(i,t,e)=>t in i?N6(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Qt=(i,t,e)=>F6(i,typeof t!="symbol"?t+"":t,e),Bw=(i,t,e)=>t.has(i)||sP("Cannot "+e);var g=(i,t,e)=>(Bw(i,t,"read from private field"),e?e.call(i):t.get(i)),$=(i,t,e)=>t.has(i)?sP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),V=(i,t,e,n)=>(Bw(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),j=(i,t,e)=>(Bw(i,t,"access private method"),e);var gs=(i,t,e,n)=>({set _(s){V(i,t,s,e)},get _(){return g(i,t,n)}});function V6(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function Zx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jw={exports:{}},vm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function U6(){if(rP)return vm;rP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:i,type:n,key:l,ref:s!==void 0?s:null,props:a}}return vm.Fragment=t,vm.jsx=e,vm.jsxs=e,vm}var aP;function B6(){return aP||(aP=1,jw.exports=U6()),jw.exports}var O=B6(),zw={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function j6(){if(oP)return oe;oP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(K){return K===null||typeof K!="object"?null:(K=y&&K[y]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function C(K,rt,ut){this.props=K,this.context=rt,this.refs=S,this.updater=ut||E}C.prototype.isReactComponent={},C.prototype.setState=function(K,rt){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,rt,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function x(){}x.prototype=C.prototype;function F(K,rt,ut){this.props=K,this.context=rt,this.refs=S,this.updater=ut||E}var k=F.prototype=new x;k.constructor=F,A(k,C.prototype),k.isPureReactComponent=!0;var D=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function L(K,rt,ut,st,bt,wt){return ut=wt.ref,{$$typeof:i,type:K,key:rt,ref:ut!==void 0?ut:null,props:wt}}function R(K,rt){return L(K.type,rt,void 0,void 0,void 0,K.props)}function N(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function T(K){var rt={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ut){return rt[ut]})}var B=/\/+/g;function q(K,rt){return typeof K=="object"&&K!==null&&K.key!=null?T(""+K.key):rt.toString(36)}function z(){}function ct(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(z,z):(K.status="pending",K.then(function(rt){K.status==="pending"&&(K.status="fulfilled",K.value=rt)},function(rt){K.status==="pending"&&(K.status="rejected",K.reason=rt)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function nt(K,rt,ut,st,bt){var wt=typeof K;(wt==="undefined"||wt==="boolean")&&(K=null);var Et=!1;if(K===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(K.$$typeof){case i:case t:Et=!0;break;case p:return Et=K._init,nt(Et(K._payload),rt,ut,st,bt)}}if(Et)return bt=bt(K),Et=st===""?"."+q(K,0):st,D(bt)?(ut="",Et!=null&&(ut=Et.replace(B,"$&/")+"/"),nt(bt,rt,ut,"",function(zt){return zt})):bt!=null&&(N(bt)&&(bt=R(bt,ut+(bt.key==null||K&&K.key===bt.key?"":(""+bt.key).replace(B,"$&/")+"/")+Et)),rt.push(bt)),1;Et=0;var Ct=st===""?".":st+":";if(D(K))for(var Bt=0;Bt<K.length;Bt++)st=K[Bt],wt=Ct+q(st,Bt),Et+=nt(st,rt,ut,wt,bt);else if(Bt=b(K),typeof Bt=="function")for(K=Bt.call(K),Bt=0;!(st=K.next()).done;)st=st.value,wt=Ct+q(st,Bt++),Et+=nt(st,rt,ut,wt,bt);else if(wt==="object"){if(typeof K.then=="function")return nt(ct(K),rt,ut,st,bt);throw rt=String(K),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Y(K,rt,ut){if(K==null)return K;var st=[],bt=0;return nt(K,st,"","",function(wt){return rt.call(ut,wt,bt++)}),st}function Q(K){if(K._status===-1){var rt=K._result;rt=rt(),rt.then(function(ut){(K._status===0||K._status===-1)&&(K._status=1,K._result=ut)},function(ut){(K._status===0||K._status===-1)&&(K._status=2,K._result=ut)}),K._status===-1&&(K._status=0,K._result=rt)}if(K._status===1)return K._result.default;throw K._result}var at=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function dt(){}return oe.Children={map:Y,forEach:function(K,rt,ut){Y(K,function(){rt.apply(this,arguments)},ut)},count:function(K){var rt=0;return Y(K,function(){rt++}),rt},toArray:function(K){return Y(K,function(rt){return rt})||[]},only:function(K){if(!N(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},oe.Component=C,oe.Fragment=e,oe.Profiler=s,oe.PureComponent=F,oe.StrictMode=n,oe.Suspense=h,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,oe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return U.H.useMemoCache(K)}},oe.cache=function(K){return function(){return K.apply(null,arguments)}},oe.cloneElement=function(K,rt,ut){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var st=A({},K.props),bt=K.key,wt=void 0;if(rt!=null)for(Et in rt.ref!==void 0&&(wt=void 0),rt.key!==void 0&&(bt=""+rt.key),rt)!W.call(rt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&rt.ref===void 0||(st[Et]=rt[Et]);var Et=arguments.length-2;if(Et===1)st.children=ut;else if(1<Et){for(var Ct=Array(Et),Bt=0;Bt<Et;Bt++)Ct[Bt]=arguments[Bt+2];st.children=Ct}return L(K.type,bt,void 0,void 0,wt,st)},oe.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},oe.createElement=function(K,rt,ut){var st,bt={},wt=null;if(rt!=null)for(st in rt.key!==void 0&&(wt=""+rt.key),rt)W.call(rt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(bt[st]=rt[st]);var Et=arguments.length-2;if(Et===1)bt.children=ut;else if(1<Et){for(var Ct=Array(Et),Bt=0;Bt<Et;Bt++)Ct[Bt]=arguments[Bt+2];bt.children=Ct}if(K&&K.defaultProps)for(st in Et=K.defaultProps,Et)bt[st]===void 0&&(bt[st]=Et[st]);return L(K,wt,void 0,void 0,null,bt)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(K){return{$$typeof:c,render:K}},oe.isValidElement=N,oe.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Q}},oe.memo=function(K,rt){return{$$typeof:d,type:K,compare:rt===void 0?null:rt}},oe.startTransition=function(K){var rt=U.T,ut={};U.T=ut;try{var st=K(),bt=U.S;bt!==null&&bt(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(dt,at)}catch(wt){at(wt)}finally{U.T=rt}},oe.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},oe.use=function(K){return U.H.use(K)},oe.useActionState=function(K,rt,ut){return U.H.useActionState(K,rt,ut)},oe.useCallback=function(K,rt){return U.H.useCallback(K,rt)},oe.useContext=function(K){return U.H.useContext(K)},oe.useDebugValue=function(){},oe.useDeferredValue=function(K,rt){return U.H.useDeferredValue(K,rt)},oe.useEffect=function(K,rt,ut){var st=U.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(K,rt)},oe.useId=function(){return U.H.useId()},oe.useImperativeHandle=function(K,rt,ut){return U.H.useImperativeHandle(K,rt,ut)},oe.useInsertionEffect=function(K,rt){return U.H.useInsertionEffect(K,rt)},oe.useLayoutEffect=function(K,rt){return U.H.useLayoutEffect(K,rt)},oe.useMemo=function(K,rt){return U.H.useMemo(K,rt)},oe.useOptimistic=function(K,rt){return U.H.useOptimistic(K,rt)},oe.useReducer=function(K,rt,ut){return U.H.useReducer(K,rt,ut)},oe.useRef=function(K){return U.H.useRef(K)},oe.useState=function(K){return U.H.useState(K)},oe.useSyncExternalStore=function(K,rt,ut){return U.H.useSyncExternalStore(K,rt,ut)},oe.useTransition=function(){return U.H.useTransition()},oe.version="19.1.0",oe}var lP;function Jx(){return lP||(lP=1,zw.exports=j6()),zw.exports}var M=Jx();const er=Zx(M),DT=V6({__proto__:null,default:er},[M]);var Hw={exports:{}},bm={},$w={exports:{}},qw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP;function z6(){return cP||(cP=1,function(i){function t(Y,Q){var at=Y.length;Y.push(Q);t:for(;0<at;){var dt=at-1>>>1,K=Y[dt];if(0<s(K,Q))Y[dt]=Q,Y[at]=K,at=dt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],at=Y.pop();if(at!==Q){Y[0]=at;t:for(var dt=0,K=Y.length,rt=K>>>1;dt<rt;){var ut=2*(dt+1)-1,st=Y[ut],bt=ut+1,wt=Y[bt];if(0>s(st,at))bt<K&&0>s(wt,st)?(Y[dt]=wt,Y[bt]=at,dt=bt):(Y[dt]=st,Y[ut]=at,dt=ut);else if(bt<K&&0>s(wt,at))Y[dt]=wt,Y[bt]=at,dt=bt;else break t}}return Q}function s(Y,Q){var at=Y.sortIndex-Q.sortIndex;return at!==0?at:Y.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();i.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,b=3,E=!1,A=!1,S=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var Q=e(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=Y)n(d),Q.sortIndex=Q.expirationTime,t(h,Q);else break;Q=e(d)}}function U(Y){if(S=!1,D(Y),!A)if(e(h)!==null)A=!0,W||(W=!0,q());else{var Q=e(d);Q!==null&&nt(U,Q.startTime-Y)}}var W=!1,L=-1,R=5,N=-1;function T(){return C?!0:!(i.unstable_now()-N<R)}function B(){if(C=!1,W){var Y=i.unstable_now();N=Y;var Q=!0;try{t:{A=!1,S&&(S=!1,F(L),L=-1),E=!0;var at=b;try{e:{for(D(Y),y=e(h);y!==null&&!(y.expirationTime>Y&&T());){var dt=y.callback;if(typeof dt=="function"){y.callback=null,b=y.priorityLevel;var K=dt(y.expirationTime<=Y);if(Y=i.unstable_now(),typeof K=="function"){y.callback=K,D(Y),Q=!0;break e}y===e(h)&&n(h),D(Y)}else n(h);y=e(h)}if(y!==null)Q=!0;else{var rt=e(d);rt!==null&&nt(U,rt.startTime-Y),Q=!1}}break t}finally{y=null,b=at,E=!1}Q=void 0}}finally{Q?q():W=!1}}}var q;if(typeof k=="function")q=function(){k(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ct=z.port2;z.port1.onmessage=B,q=function(){ct.postMessage(null)}}else q=function(){x(B,0)};function nt(Y,Q){L=x(function(){Y(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var at=b;b=Q;try{return Y()}finally{b=at}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var at=b;b=Y;try{return Q()}finally{b=at}},i.unstable_scheduleCallback=function(Y,Q,at){var dt=i.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?dt+at:dt):at=dt,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=at+K,Y={id:p++,callback:Q,priorityLevel:Y,startTime:at,expirationTime:K,sortIndex:-1},at>dt?(Y.sortIndex=at,t(d,Y),e(h)===null&&Y===e(d)&&(S?(F(L),L=-1):S=!0,nt(U,at-dt))):(Y.sortIndex=K,t(h,Y),A||E||(A=!0,W||(W=!0,q()))),Y},i.unstable_shouldYield=T,i.unstable_wrapCallback=function(Y){var Q=b;return function(){var at=b;b=Q;try{return Y.apply(this,arguments)}finally{b=at}}}}(qw)),qw}var uP;function H6(){return uP||(uP=1,$w.exports=z6()),$w.exports}var Gw={exports:{}},Yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function $6(){if(hP)return Yi;hP=1;var i=Jx();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yi.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,p)},Yi.flushSync=function(h){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=p,n.d.f()}},Yi.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Yi.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Yi.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:E}):p==="script"&&n.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Yi.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Yi.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Yi.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Yi.requestFormReset=function(h){n.d.r(h)},Yi.unstable_batchedUpdates=function(h,d){return h(d)},Yi.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Yi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yi.version="19.1.0",Yi}var dP;function XD(){if(dP)return Gw.exports;dP=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gw.exports=$6(),Gw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function q6(){if(fP)return bm;fP=1;var i=H6(),t=Jx(),e=XD();function n(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(n(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(n(188));return o!==r?null:r}for(var u=r,f=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return c(v),r;if(_===f)return c(v),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=v,f=_;else{for(var P=!1,H=v.child;H;){if(H===u){P=!0,u=v,f=_;break}if(H===f){P=!0,f=v,u=_;break}H=H.sibling}if(!P){for(H=_.child;H;){if(H===u){P=!0,u=_,f=v;break}if(H===f){P=!0,f=_,u=v;break}H=H.sibling}if(!P)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function ct(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case k:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case D:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return o=r.displayName||null,o!==null?o:ct(r.type)||"Memo";case R:o=r._payload,r=r._init;try{return ct(r(o))}catch{}}return null}var nt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},dt=[],K=-1;function rt(r){return{current:r}}function ut(r){0>K||(r.current=dt[K],dt[K]=null,K--)}function st(r,o){K++,dt[K]=r.current,r.current=o}var bt=rt(null),wt=rt(null),Et=rt(null),Ct=rt(null);function Bt(r,o){switch(st(Et,o),st(wt,r),st(bt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?M2(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=M2(o),r=O2(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ut(bt),st(bt,r)}function zt(){ut(bt),ut(wt),ut(Et)}function At(r){r.memoizedState!==null&&st(Ct,r);var o=bt.current,u=O2(o,r.type);o!==u&&(st(wt,r),st(bt,u))}function Ht(r){wt.current===r&&(ut(bt),ut(wt)),Ct.current===r&&(ut(Ct),fm._currentValue=at)}var Gt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,Pt=i.unstable_cancelCallback,Wt=i.unstable_shouldYield,ue=i.unstable_requestPaint,fe=i.unstable_now,ke=i.unstable_getCurrentPriorityLevel,Ue=i.unstable_ImmediatePriority,$e=i.unstable_UserBlockingPriority,pe=i.unstable_NormalPriority,Dt=i.unstable_LowPriority,oi=i.unstable_IdlePriority,Ze=i.log,Wi=i.unstable_setDisableYieldValue,Re=null,ee=null;function Je(r){if(typeof Ze=="function"&&Wi(r),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(Re,r)}catch{}}var Oe=Math.clz32?Math.clz32:On,De=Math.log,Kt=Math.LN2;function On(r){return r>>>=0,r===0?32:31-(De(r)/Kt|0)|0}var vn=256,Dn=4194304;function Lt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pe(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var v=0,_=r.suspendedLanes,P=r.pingedLanes;r=r.warmLanes;var H=f&134217727;return H!==0?(f=H&~_,f!==0?v=Lt(f):(P&=H,P!==0?v=Lt(P):u||(u=H&~r,u!==0&&(v=Lt(u))))):(H=f&~_,H!==0?v=Lt(H):P!==0?v=Lt(P):u||(u=f&~r,u!==0&&(v=Lt(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function gn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function sr(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var r=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),r}function gg(){var r=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),r}function oo(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function lo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function mg(r,o,u,f,v,_){var P=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var H=r.entanglements,X=r.expirationTimes,it=r.hiddenUpdates;for(u=P&~u;0<u;){var pt=31-Oe(u),mt=1<<pt;H[pt]=0,X[pt]=-1;var ot=it[pt];if(ot!==null)for(it[pt]=null,pt=0;pt<ot.length;pt++){var lt=ot[pt];lt!==null&&(lt.lane&=-536870913)}u&=~mt}f!==0&&aa(r,f,0),_!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=_&~(P&~o))}function aa(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Oe(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function yg(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-Oe(u),v=1<<f;v&o|r[f]&o&&(r[f]|=o),u&=~v}}function Pl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function _d(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ml(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:Z2(r.type))}function db(r,o){var u=Q.p;try{return Q.p=r,o()}finally{Q.p=u}}var bn=Math.random().toString(36).slice(2),li="__reactFiber$"+bn,Xn="__reactProps$"+bn,rr="__reactContainer$"+bn,vg="__reactEvents$"+bn,HA="__reactListeners$"+bn,Ol="__reactHandles$"+bn,fb="__reactResources$"+bn,du="__reactMarker$"+bn;function Dl(r){delete r[li],delete r[Xn],delete r[vg],delete r[HA],delete r[Ol]}function co(r){var o=r[li];if(o)return o;for(var u=r.parentNode;u;){if(o=u[rr]||u[li]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=F2(r);r!==null;){if(u=r[li])return u;r=F2(r)}return o}r=u,u=r.parentNode}return null}function oa(r){if(r=r[li]||r[rr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function la(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(n(33))}function hs(r){var o=r[fb];return o||(o=r[fb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function jn(r){r[du]=!0}var bg=new Set,Ed={};function Pr(r,o){uo(r,o),uo(r+"Capture",o)}function uo(r,o){for(Ed[r]=o,r=0;r<o.length;r++)bg.add(o[r])}var pb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gb={},fu={};function mb(r){return Gt.call(fu,r)?!0:Gt.call(gb,r)?!1:pb.test(r)?fu[r]=!0:(gb[r]=!0,!1)}function Ll(r,o,u){if(mb(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function ca(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Di(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var pu,yb;function ho(r){if(pu===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);pu=o&&o[1]||"",yb=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pu+r+yb}var Ad=!1;function Sd(r,o){if(!r||Ad)return"";Ad=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(lt){var ot=lt}Reflect.construct(r,[],mt)}else{try{mt.call()}catch(lt){ot=lt}r.call(mt.prototype)}}else{try{throw Error()}catch(lt){ot=lt}(mt=r())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(lt){if(lt&&ot&&typeof lt.stack=="string")return[lt.stack,ot.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),P=_[0],H=_[1];if(P&&H){var X=P.split(`
`),it=H.split(`
`);for(v=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;v<it.length&&!it[v].includes("DetermineComponentFrameRoot");)v++;if(f===X.length||v===it.length)for(f=X.length-1,v=it.length-1;1<=f&&0<=v&&X[f]!==it[v];)v--;for(;1<=f&&0<=v;f--,v--)if(X[f]!==it[v]){if(f!==1||v!==1)do if(f--,v--,0>v||X[f]!==it[v]){var pt=`
`+X[f].replace(" at new "," at ");return r.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",r.displayName)),pt}while(1<=f&&0<=v);break}}}finally{Ad=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ho(u):""}function _g(r){switch(r.tag){case 26:case 27:case 5:return ho(r.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 15:return Sd(r.type,!1);case 11:return Sd(r.type.render,!1);case 1:return Sd(r.type,!0);case 31:return ho("Activity");default:return""}}function wd(r){try{var o="";do o+=_g(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ds(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Eg(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $A(r){var o=Eg(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(P){f=""+P,_.call(this,P)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Td(r){r._valueTracker||(r._valueTracker=$A(r))}function Ag(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=Eg(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function gu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qA=/[\n"\\]/g;function Qn(r){return r.replace(qA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ls(r,o,u,f,v,_,P,H){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),o!=null?P==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ds(o)):r.value!==""+ds(o)&&(r.value=""+ds(o)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),o!=null?Nl(r,P,ds(o)):u!=null?Nl(r,P,ds(u)):f!=null&&r.removeAttribute("value"),v==null&&_!=null&&(r.defaultChecked=!!_),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.name=""+ds(H):r.removeAttribute("name")}function mu(r,o,u,f,v,_,P,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;u=u!=null?""+ds(u):"",o=o!=null?""+ds(o):u,H||o===r.value||(r.value=o),r.defaultValue=o}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=H?r.checked:!!f,r.defaultChecked=!!f,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P)}function Nl(r,o,u){o==="number"&&gu(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function fo(r,o,u,f){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&f&&(r[u].defaultSelected=!0)}else{for(u=""+ds(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function tn(r,o,u){if(o!=null&&(o=""+ds(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ds(u):""}function yu(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(n(92));if(nt(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=ds(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function ar(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vb(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||vu.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Sg(r,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var v in o)f=o[v],o.hasOwnProperty(v)&&u[v]!==f&&vb(r,v,f)}else for(var _ in o)o.hasOwnProperty(_)&&vb(r,_,o[_])}function wg(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xd(r){return WA.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var po=null;function or(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var go=null,mo=null;function Tg(r){var o=oa(r);if(o&&(r=o.stateNode)){var u=r[Xn]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ls(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Qn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var v=f[Xn]||null;if(!v)throw Error(n(90));Ls(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&Ag(f)}break t;case"textarea":tn(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&fo(r,!!u.multiple,o,!1)}}}var ua=!1;function bb(r,o,u){if(ua)return r(o,u);ua=!0;try{var f=r(o);return f}finally{if(ua=!1,(go!==null||mo!==null)&&(d0(),go&&(o=go,r=mo,mo=go=null,Tg(o),r)))for(o=0;o<r.length;o++)Tg(r[o])}}function bu(r,o){var u=r.stateNode;if(u===null)return null;var f=u[Xn]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Mr)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){lr=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{lr=!1}var ha=null,Fl=null,yo=null;function xg(){if(yo)return yo;var r,o=Fl,u=o.length,f,v="value"in ha?ha.value:ha.textContent,_=v.length;for(r=0;r<u&&o[r]===v[r];r++);var P=u-r;for(f=1;f<=P&&o[u-f]===v[_-f];f++);return yo=v.slice(r,1<f?1-f:void 0)}function da(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function fa(){return!0}function Cg(){return!1}function Ei(r){function o(u,f,v,_,P){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(u=r[H],this[H]=u?u(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fa:Cg,this.isPropagationStopped=Cg,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),o}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cd=Ei(Be),Eu=p({},Be,{view:0,detail:0}),_b=Ei(Eu),Rd,Id,pa,Au=p({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pa&&(pa&&r.type==="mousemove"?(Rd=r.screenX-pa.screenX,Id=r.screenY-pa.screenY):Id=Rd=0,pa=r),Rd)},movementY:function(r){return"movementY"in r?r.movementY:Id}}),cr=Ei(Au),Eb=p({},Au,{dataTransfer:0}),KA=Ei(Eb),Su=p({},Eu,{relatedTarget:0}),kd=Ei(Su),Rg=p({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),Pd=Ei(Rg),Ab=p({},Be,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Md=Ei(Ab),YA=p({},Be,{data:0}),Ig=Ei(YA),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kg(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=wb[r])?!!o[r]:!1}function Tu(){return kg}var Tb=p({},Eu,{key:function(r){if(r.key){var o=wu[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Od=Ei(Tb),xb=p({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Ei(xb),vo=p({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),Cb=Ei(vo),Rb=p({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ib=Ei(Rb),kb=p({},Au,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dd=Ei(kb),fs=p({},Be,{newState:0,oldState:0}),Pb=Ei(fs),Mb=[9,13,27,32],ga=Mr&&"CompositionEvent"in window,m=null;Mr&&"documentMode"in document&&(m=document.documentMode);var w=Mr&&"TextEvent"in window&&!m,I=Mr&&(!ga||m&&8<m&&11>=m),G=" ",tt=!1;function ht(r,o){switch(r){case"keyup":return Mb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function St(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Se=!1;function ci(r,o){switch(r){case"compositionend":return St(o);case"keypress":return o.which!==32?null:(tt=!0,G);case"textInput":return r=o.data,r===G&&tt?null:r;default:return null}}function we(r,o){if(Se)return r==="compositionend"||!ga&&ht(r,o)?(r=xg(),yo=Fl=ha=null,Se=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return I&&o.locale!=="ko"?null:o.data;default:return null}}var Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Ai[r.type]:o==="textarea"}function bo(r,o,u,f){go?mo?mo.push(f):mo=[f]:go=f,o=v0(o,"onChange"),0<o.length&&(u=new Cd("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var Li=null,ma=null;function Mg(r){C2(r,0)}function Ob(r){var o=la(r);if(Ag(o))return r}function KR(r,o){if(r==="change")return o}var YR=!1;if(Mr){var XA;if(Mr){var QA="oninput"in document;if(!QA){var XR=document.createElement("div");XR.setAttribute("oninput","return;"),QA=typeof XR.oninput=="function"}XA=QA}else XA=!1;YR=XA&&(!document.documentMode||9<document.documentMode)}function QR(){Li&&(Li.detachEvent("onpropertychange",ZR),ma=Li=null)}function ZR(r){if(r.propertyName==="value"&&Ob(ma)){var o=[];bo(o,ma,r,or(r)),bb(Mg,o)}}function dV(r,o,u){r==="focusin"?(QR(),Li=o,ma=u,Li.attachEvent("onpropertychange",ZR)):r==="focusout"&&QR()}function fV(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ob(ma)}function pV(r,o){if(r==="click")return Ob(o)}function gV(r,o){if(r==="input"||r==="change")return Ob(o)}function mV(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ns=typeof Object.is=="function"?Object.is:mV;function Og(r,o){if(Ns(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Gt.call(o,v)||!Ns(r[v],o[v]))return!1}return!0}function JR(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function tI(r,o){var u=JR(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=JR(u)}}function eI(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?eI(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function nI(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=gu(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=gu(r.document)}return o}function ZA(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var yV=Mr&&"documentMode"in document&&11>=document.documentMode,Ld=null,JA=null,Dg=null,tS=!1;function iI(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tS||Ld==null||Ld!==gu(f)||(f=Ld,"selectionStart"in f&&ZA(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Dg&&Og(Dg,f)||(Dg=f,f=v0(JA,"onSelect"),0<f.length&&(o=new Cd("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=Ld)))}function xu(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Nd={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionrun:xu("Transition","TransitionRun"),transitionstart:xu("Transition","TransitionStart"),transitioncancel:xu("Transition","TransitionCancel"),transitionend:xu("Transition","TransitionEnd")},eS={},sI={};Mr&&(sI=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function Cu(r){if(eS[r])return eS[r];if(!Nd[r])return r;var o=Nd[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in sI)return eS[r]=o[u];return r}var rI=Cu("animationend"),aI=Cu("animationiteration"),oI=Cu("animationstart"),vV=Cu("transitionrun"),bV=Cu("transitionstart"),_V=Cu("transitioncancel"),lI=Cu("transitionend"),cI=new Map,nS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nS.push("scrollEnd");function Or(r,o){cI.set(r,o),Pr(o,[r])}var uI=new WeakMap;function ur(r,o){if(typeof r=="object"&&r!==null){var u=uI.get(r);return u!==void 0?u:(o={value:r,source:o,stack:wd(o)},uI.set(r,o),o)}return{value:r,source:o,stack:wd(o)}}var hr=[],Fd=0,iS=0;function Db(){for(var r=Fd,o=iS=Fd=0;o<r;){var u=hr[o];hr[o++]=null;var f=hr[o];hr[o++]=null;var v=hr[o];hr[o++]=null;var _=hr[o];if(hr[o++]=null,f!==null&&v!==null){var P=f.pending;P===null?v.next=v:(v.next=P.next,P.next=v),f.pending=v}_!==0&&hI(u,v,_)}}function Lb(r,o,u,f){hr[Fd++]=r,hr[Fd++]=o,hr[Fd++]=u,hr[Fd++]=f,iS|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function sS(r,o,u,f){return Lb(r,o,u,f),Nb(r)}function Vd(r,o){return Lb(r,null,null,o),Nb(r)}function hI(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var v=!1,_=r.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(v=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,v&&o!==null&&(v=31-Oe(u),r=_.hiddenUpdates,f=r[v],f===null?r[v]=[o]:f.push(o),o.lane=u|536870912),_):null}function Nb(r){if(50<rm)throw rm=0,uw=null,Error(n(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ud={};function EV(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(r,o,u,f){return new EV(r,o,u,f)}function rS(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _o(r,o){var u=r.alternate;return u===null?(u=Fs(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function dI(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Fb(r,o,u,f,v,_){var P=0;if(f=r,typeof r=="function")rS(r)&&(P=1);else if(typeof r=="string")P=S6(r,u,bt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case N:return r=Fs(31,u,o,v),r.elementType=N,r.lanes=_,r;case A:return Ru(u.children,v,_,o);case S:P=8,v|=24;break;case C:return r=Fs(12,u,o,v|2),r.elementType=C,r.lanes=_,r;case U:return r=Fs(13,u,o,v),r.elementType=U,r.lanes=_,r;case W:return r=Fs(19,u,o,v),r.elementType=W,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case k:P=10;break t;case F:P=9;break t;case D:P=11;break t;case L:P=14;break t;case R:P=16,f=null;break t}P=29,u=Error(n(130,r===null?"null":typeof r,"")),f=null}return o=Fs(P,u,o,v),o.elementType=r,o.type=f,o.lanes=_,o}function Ru(r,o,u,f){return r=Fs(7,r,f,o),r.lanes=u,r}function aS(r,o,u){return r=Fs(6,r,null,o),r.lanes=u,r}function oS(r,o,u){return o=Fs(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Bd=[],jd=0,Vb=null,Ub=0,dr=[],fr=0,Iu=null,Eo=1,Ao="";function ku(r,o){Bd[jd++]=Ub,Bd[jd++]=Vb,Vb=r,Ub=o}function fI(r,o,u){dr[fr++]=Eo,dr[fr++]=Ao,dr[fr++]=Iu,Iu=r;var f=Eo;r=Ao;var v=32-Oe(f)-1;f&=~(1<<v),u+=1;var _=32-Oe(o)+v;if(30<_){var P=v-v%5;_=(f&(1<<P)-1).toString(32),f>>=P,v-=P,Eo=1<<32-Oe(o)+v|u<<v|f,Ao=_+r}else Eo=1<<_|u<<v|f,Ao=r}function lS(r){r.return!==null&&(ku(r,1),fI(r,1,0))}function cS(r){for(;r===Vb;)Vb=Bd[--jd],Bd[jd]=null,Ub=Bd[--jd],Bd[jd]=null;for(;r===Iu;)Iu=dr[--fr],dr[fr]=null,Ao=dr[--fr],dr[fr]=null,Eo=dr[--fr],dr[fr]=null}var ps=null,Ln=null,Le=!1,Pu=null,ya=!1,uS=Error(n(519));function Mu(r){var o=Error(n(418,""));throw Fg(ur(o,r)),uS}function pI(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[li]=r,o[Xn]=f,u){case"dialog":be("cancel",o),be("close",o);break;case"iframe":case"object":case"embed":be("load",o);break;case"video":case"audio":for(u=0;u<om.length;u++)be(om[u],o);break;case"source":be("error",o);break;case"img":case"image":case"link":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"input":be("invalid",o),mu(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Td(o);break;case"select":be("invalid",o);break;case"textarea":be("invalid",o),yu(o,f.value,f.defaultValue,f.children),Td(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||P2(o.textContent,u)?(f.popover!=null&&(be("beforetoggle",o),be("toggle",o)),f.onScroll!=null&&be("scroll",o),f.onScrollEnd!=null&&be("scrollend",o),f.onClick!=null&&(o.onclick=b0),o=!0):o=!1,o||Mu(r)}function gI(r){for(ps=r.return;ps;)switch(ps.tag){case 5:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:ps=ps.return}}function Lg(r){if(r!==ps)return!1;if(!Le)return gI(r),Le=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||xw(r.type,r.memoizedProps)),u=!u),u&&Ln&&Mu(r),gI(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Ln=Lr(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Ln=null}}else o===27?(o=Ln,Jl(r.type)?(r=kw,kw=null,Ln=r):Ln=o):Ln=ps?Lr(r.stateNode.nextSibling):null;return!0}function Ng(){Ln=ps=null,Le=!1}function mI(){var r=Pu;return r!==null&&(ws===null?ws=r:ws.push.apply(ws,r),Pu=null),r}function Fg(r){Pu===null?Pu=[r]:Pu.push(r)}var hS=rt(null),Ou=null,So=null;function Vl(r,o,u){st(hS,o._currentValue),o._currentValue=u}function wo(r){r._currentValue=hS.current,ut(hS)}function dS(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function fS(r,o,u,f){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var _=v.dependencies;if(_!==null){var P=v.child;_=_.firstContext;t:for(;_!==null;){var H=_;_=v;for(var X=0;X<o.length;X++)if(H.context===o[X]){_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),dS(_.return,u,r),f||(P=null);break t}_=H.next}}else if(v.tag===18){if(P=v.return,P===null)throw Error(n(341));P.lanes|=u,_=P.alternate,_!==null&&(_.lanes|=u),dS(P,u,r),P=null}else P=v.child;if(P!==null)P.return=v;else for(P=v;P!==null;){if(P===r){P=null;break}if(v=P.sibling,v!==null){v.return=P.return,P=v;break}P=P.return}v=P}}function Vg(r,o,u,f){r=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var P=v.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var H=v.type;Ns(v.pendingProps.value,P.value)||(r!==null?r.push(H):r=[H])}}else if(v===Ct.current){if(P=v.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(fm):r=[fm])}v=v.return}r!==null&&fS(o,r,u,f),o.flags|=262144}function Bb(r){for(r=r.firstContext;r!==null;){if(!Ns(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Du(r){Ou=r,So=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ki(r){return yI(Ou,r)}function jb(r,o){return Ou===null&&Du(r),yI(r,o)}function yI(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},So===null){if(r===null)throw Error(n(308));So=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else So=So.next=o;return u}var AV=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},SV=i.unstable_scheduleCallback,wV=i.unstable_NormalPriority,hi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pS(){return{controller:new AV,data:new Map,refCount:0}}function Ug(r){r.refCount--,r.refCount===0&&SV(wV,function(){r.controller.abort()})}var Bg=null,gS=0,zd=0,Hd=null;function TV(r,o){if(Bg===null){var u=Bg=[];gS=0,zd=yw(),Hd={status:"pending",value:void 0,then:function(f){u.push(f)}}}return gS++,o.then(vI,vI),o}function vI(){if(--gS===0&&Bg!==null){Hd!==null&&(Hd.status="fulfilled");var r=Bg;Bg=null,zd=0,Hd=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function xV(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var bI=Y.S;Y.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&TV(r,o),bI!==null&&bI(r,o)};var Lu=rt(null);function mS(){var r=Lu.current;return r!==null?r:fn.pooledCache}function zb(r,o){o===null?st(Lu,Lu.current):st(Lu,o.pool)}function _I(){var r=mS();return r===null?null:{parent:hi._currentValue,pool:r}}var jg=Error(n(460)),EI=Error(n(474)),Hb=Error(n(542)),yS={then:function(){}};function AI(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $b(){}function SI(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then($b,$b),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,TI(r),r;default:if(typeof o.status=="string")o.then($b,$b);else{if(r=fn,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=f}},function(f){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,TI(r),r}throw zg=o,jg}}var zg=null;function wI(){if(zg===null)throw Error(n(459));var r=zg;return zg=null,r}function TI(r){if(r===jg||r===Hb)throw Error(n(483))}var Ul=!1;function vS(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bS(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Bl(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function jl(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,o=Nb(r),hI(r,null,u),o}return Lb(r,f,o,u),Nb(r)}function Hg(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,yg(r,u)}}function _S(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=P:_=_.next=P,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var ES=!1;function $g(){if(ES){var r=Hd;if(r!==null)throw r}}function qg(r,o,u,f){ES=!1;var v=r.updateQueue;Ul=!1;var _=v.firstBaseUpdate,P=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var X=H,it=X.next;X.next=null,P===null?_=it:P.next=it,P=X;var pt=r.alternate;pt!==null&&(pt=pt.updateQueue,H=pt.lastBaseUpdate,H!==P&&(H===null?pt.firstBaseUpdate=it:H.next=it,pt.lastBaseUpdate=X))}if(_!==null){var mt=v.baseState;P=0,pt=it=X=null,H=_;do{var ot=H.lane&-536870913,lt=ot!==H.lane;if(lt?(Te&ot)===ot:(f&ot)===ot){ot!==0&&ot===zd&&(ES=!0),pt!==null&&(pt=pt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var Zt=r,$t=H;ot=o;var sn=u;switch($t.tag){case 1:if(Zt=$t.payload,typeof Zt=="function"){mt=Zt.call(sn,mt,ot);break t}mt=Zt;break t;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=$t.payload,ot=typeof Zt=="function"?Zt.call(sn,mt,ot):Zt,ot==null)break t;mt=p({},mt,ot);break t;case 2:Ul=!0}}ot=H.callback,ot!==null&&(r.flags|=64,lt&&(r.flags|=8192),lt=v.callbacks,lt===null?v.callbacks=[ot]:lt.push(ot))}else lt={lane:ot,tag:H.tag,payload:H.payload,callback:H.callback,next:null},pt===null?(it=pt=lt,X=mt):pt=pt.next=lt,P|=ot;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;lt=H,H=lt.next,lt.next=null,v.lastBaseUpdate=lt,v.shared.pending=null}}while(!0);pt===null&&(X=mt),v.baseState=X,v.firstBaseUpdate=it,v.lastBaseUpdate=pt,_===null&&(v.shared.lanes=0),Yl|=P,r.lanes=P,r.memoizedState=mt}}function xI(r,o){if(typeof r!="function")throw Error(n(191,r));r.call(o)}function CI(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)xI(u[r],o)}var $d=rt(null),qb=rt(0);function RI(r,o){r=Po,st(qb,r),st($d,o),Po=r|o.baseLanes}function AS(){st(qb,Po),st($d,$d.current)}function SS(){Po=qb.current,ut($d),ut(qb)}var zl=0,he=null,en=null,Zn=null,Gb=!1,qd=!1,Nu=!1,Wb=0,Gg=0,Gd=null,CV=0;function zn(){throw Error(n(321))}function wS(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ns(r[u],o[u]))return!1;return!0}function TS(r,o,u,f,v,_){return zl=_,he=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=r===null||r.memoizedState===null?hk:dk,Nu=!1,_=u(f,v),Nu=!1,qd&&(_=kI(o,u,f,v)),II(r),_}function II(r){Y.H=Jb;var o=en!==null&&en.next!==null;if(zl=0,Zn=en=he=null,Gb=!1,Gg=0,Gd=null,o)throw Error(n(300));r===null||Si||(r=r.dependencies,r!==null&&Bb(r)&&(Si=!0))}function kI(r,o,u,f){he=r;var v=0;do{if(qd&&(Gd=null),Gg=0,qd=!1,25<=v)throw Error(n(301));if(v+=1,Zn=en=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=DV,_=o(u,f)}while(qd);return _}function RV(){var r=Y.H,o=r.useState()[0];return o=typeof o.then=="function"?Wg(o):o,r=r.useState()[0],(en!==null?en.memoizedState:null)!==r&&(he.flags|=1024),o}function xS(){var r=Wb!==0;return Wb=0,r}function CS(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function RS(r){if(Gb){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Gb=!1}zl=0,Zn=en=he=null,qd=!1,Gg=Wb=0,Gd=null}function As(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?he.memoizedState=Zn=r:Zn=Zn.next=r,Zn}function Jn(){if(en===null){var r=he.alternate;r=r!==null?r.memoizedState:null}else r=en.next;var o=Zn===null?he.memoizedState:Zn.next;if(o!==null)Zn=o,en=r;else{if(r===null)throw he.alternate===null?Error(n(467)):Error(n(310));en=r,r={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Zn===null?he.memoizedState=Zn=r:Zn=Zn.next=r}return Zn}function IS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wg(r){var o=Gg;return Gg+=1,Gd===null&&(Gd=[]),r=SI(Gd,r,o),o=he,(Zn===null?o.memoizedState:Zn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?hk:dk),r}function Kb(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wg(r);if(r.$$typeof===k)return Ki(r)}throw Error(n(438,String(r)))}function kS(r){var o=null,u=he.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=he.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=IS(),he.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=T;return o.index++,u}function To(r,o){return typeof o=="function"?o(r):o}function Yb(r){var o=Jn();return PS(o,en,r)}function PS(r,o,u){var f=r.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var v=r.baseQueue,_=f.pending;if(_!==null){if(v!==null){var P=v.next;v.next=_.next,_.next=P}o.baseQueue=v=_,f.pending=null}if(_=r.baseState,v===null)r.memoizedState=_;else{o=v.next;var H=P=null,X=null,it=o,pt=!1;do{var mt=it.lane&-536870913;if(mt!==it.lane?(Te&mt)===mt:(zl&mt)===mt){var ot=it.revertLane;if(ot===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),mt===zd&&(pt=!0);else if((zl&ot)===ot){it=it.next,ot===zd&&(pt=!0);continue}else mt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},X===null?(H=X=mt,P=_):X=X.next=mt,he.lanes|=ot,Yl|=ot;mt=it.action,Nu&&u(_,mt),_=it.hasEagerState?it.eagerState:u(_,mt)}else ot={lane:mt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},X===null?(H=X=ot,P=_):X=X.next=ot,he.lanes|=mt,Yl|=mt;it=it.next}while(it!==null&&it!==o);if(X===null?P=_:X.next=H,!Ns(_,r.memoizedState)&&(Si=!0,pt&&(u=Hd,u!==null)))throw u;r.memoizedState=_,r.baseState=P,r.baseQueue=X,f.lastRenderedState=_}return v===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function MS(r){var o=Jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var P=v=v.next;do _=r(_,P.action),P=P.next;while(P!==v);Ns(_,o.memoizedState)||(Si=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function PI(r,o,u){var f=he,v=Jn(),_=Le;if(_){if(u===void 0)throw Error(n(407));u=u()}else u=o();var P=!Ns((en||v).memoizedState,u);P&&(v.memoizedState=u,Si=!0),v=v.queue;var H=DI.bind(null,f,v,r);if(Kg(2048,8,H,[r]),v.getSnapshot!==o||P||Zn!==null&&Zn.memoizedState.tag&1){if(f.flags|=2048,Wd(9,Xb(),OI.bind(null,f,v,u,o),null),fn===null)throw Error(n(349));_||(zl&124)!==0||MI(f,o,u)}return u}function MI(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=he.updateQueue,o===null?(o=IS(),he.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function OI(r,o,u,f){o.value=u,o.getSnapshot=f,LI(o)&&NI(r)}function DI(r,o,u){return u(function(){LI(o)&&NI(r)})}function LI(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ns(r,u)}catch{return!0}}function NI(r){var o=Vd(r,2);o!==null&&zs(o,r,2)}function OS(r){var o=As();if(typeof r=="function"){var u=r;if(r=u(),Nu){Je(!0);try{u()}finally{Je(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:r},o}function FI(r,o,u,f){return r.baseState=u,PS(r,en,typeof f=="function"?f:To)}function IV(r,o,u,f,v){if(Zb(r))throw Error(n(485));if(r=o.action,r!==null){var _={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};Y.T!==null?u(!0):_.isTransition=!1,f(_),u=o.pending,u===null?(_.next=o.pending=_,VI(o,_)):(_.next=u.next,o.pending=u.next=_)}}function VI(r,o){var u=o.action,f=o.payload,v=r.state;if(o.isTransition){var _=Y.T,P={};Y.T=P;try{var H=u(v,f),X=Y.S;X!==null&&X(P,H),UI(r,o,H)}catch(it){DS(r,o,it)}finally{Y.T=_}}else try{_=u(v,f),UI(r,o,_)}catch(it){DS(r,o,it)}}function UI(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){BI(r,o,f)},function(f){return DS(r,o,f)}):BI(r,o,u)}function BI(r,o,u){o.status="fulfilled",o.value=u,jI(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,VI(r,u)))}function DS(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,jI(o),o=o.next;while(o!==f)}r.action=null}function jI(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function zI(r,o){return o}function HI(r,o){if(Le){var u=fn.formState;if(u!==null){t:{var f=he;if(Le){if(Ln){e:{for(var v=Ln,_=ya;v.nodeType!==8;){if(!_){v=null;break e}if(v=Lr(v.nextSibling),v===null){v=null;break e}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Ln=Lr(v.nextSibling),f=v.data==="F!";break t}}Mu(f)}f=!1}f&&(o=u[0])}}return u=As(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zI,lastRenderedState:o},u.queue=f,u=lk.bind(null,he,f),f.dispatch=u,f=OS(!1),_=US.bind(null,he,!1,f.queue),f=As(),v={state:o,dispatch:null,action:r,pending:null},f.queue=v,u=IV.bind(null,he,v,_,u),v.dispatch=u,f.memoizedState=r,[o,u,!1]}function $I(r){var o=Jn();return qI(o,en,r)}function qI(r,o,u){if(o=PS(r,o,zI)[0],r=Yb(To)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Wg(o)}catch(P){throw P===jg?Hb:P}else f=o;o=Jn();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(he.flags|=2048,Wd(9,Xb(),kV.bind(null,v,u),null)),[f,_,r]}function kV(r,o){r.action=o}function GI(r){var o=Jn(),u=en;if(u!==null)return qI(o,u,r);Jn(),o=o.memoizedState,u=Jn();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function Wd(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=he.updateQueue,o===null&&(o=IS(),he.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Xb(){return{destroy:void 0,resource:void 0}}function WI(){return Jn().memoizedState}function Qb(r,o,u,f){var v=As();f=f===void 0?null:f,he.flags|=r,v.memoizedState=Wd(1|o,Xb(),u,f)}function Kg(r,o,u,f){var v=Jn();f=f===void 0?null:f;var _=v.memoizedState.inst;en!==null&&f!==null&&wS(f,en.memoizedState.deps)?v.memoizedState=Wd(o,_,u,f):(he.flags|=r,v.memoizedState=Wd(1|o,_,u,f))}function KI(r,o){Qb(8390656,8,r,o)}function YI(r,o){Kg(2048,8,r,o)}function XI(r,o){return Kg(4,2,r,o)}function QI(r,o){return Kg(4,4,r,o)}function ZI(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function JI(r,o,u){u=u!=null?u.concat([r]):null,Kg(4,4,ZI.bind(null,o,r),u)}function LS(){}function tk(r,o){var u=Jn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&wS(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function ek(r,o){var u=Jn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&wS(o,f[1]))return f[0];if(f=r(),Nu){Je(!0);try{r()}finally{Je(!1)}}return u.memoizedState=[f,o],f}function NS(r,o,u){return u===void 0||(zl&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=s2(),he.lanes|=r,Yl|=r,u)}function nk(r,o,u,f){return Ns(u,o)?u:$d.current!==null?(r=NS(r,u,f),Ns(r,o)||(Si=!0),r):(zl&42)===0?(Si=!0,r.memoizedState=u):(r=s2(),he.lanes|=r,Yl|=r,o)}function ik(r,o,u,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var P=Y.T,H={};Y.T=H,US(r,!1,o,u);try{var X=v(),it=Y.S;if(it!==null&&it(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pt=xV(X,f);Yg(r,o,pt,js(r))}else Yg(r,o,f,js(r))}catch(mt){Yg(r,o,{then:function(){},status:"rejected",reason:mt},js())}finally{Q.p=_,Y.T=P}}function PV(){}function FS(r,o,u,f){if(r.tag!==5)throw Error(n(476));var v=sk(r).queue;ik(r,v,o,at,u===null?PV:function(){return rk(r),u(f)})}function sk(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:at},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function rk(r){var o=sk(r).next.queue;Yg(r,o,{},js())}function VS(){return Ki(fm)}function ak(){return Jn().memoizedState}function ok(){return Jn().memoizedState}function MV(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=js();r=Bl(u);var f=jl(o,r,u);f!==null&&(zs(f,o,u),Hg(f,o,u)),o={cache:pS()},r.payload=o;return}o=o.return}}function OV(r,o,u){var f=js();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Zb(r)?ck(o,u):(u=sS(r,o,u,f),u!==null&&(zs(u,r,f),uk(u,o,f)))}function lk(r,o,u){var f=js();Yg(r,o,u,f)}function Yg(r,o,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zb(r))ck(o,v);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var P=o.lastRenderedState,H=_(P,u);if(v.hasEagerState=!0,v.eagerState=H,Ns(H,P))return Lb(r,o,v,0),fn===null&&Db(),!1}catch{}finally{}if(u=sS(r,o,v,f),u!==null)return zs(u,r,f),uk(u,o,f),!0}return!1}function US(r,o,u,f){if(f={lane:2,revertLane:yw(),action:f,hasEagerState:!1,eagerState:null,next:null},Zb(r)){if(o)throw Error(n(479))}else o=sS(r,u,f,2),o!==null&&zs(o,r,2)}function Zb(r){var o=r.alternate;return r===he||o!==null&&o===he}function ck(r,o){qd=Gb=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function uk(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,yg(r,u)}}var Jb={readContext:Ki,use:Kb,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn},hk={readContext:Ki,use:Kb,useCallback:function(r,o){return As().memoizedState=[r,o===void 0?null:o],r},useContext:Ki,useEffect:KI,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Qb(4194308,4,ZI.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Qb(4194308,4,r,o)},useInsertionEffect:function(r,o){Qb(4,2,r,o)},useMemo:function(r,o){var u=As();o=o===void 0?null:o;var f=r();if(Nu){Je(!0);try{r()}finally{Je(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=As();if(u!==void 0){var v=u(o);if(Nu){Je(!0);try{u(o)}finally{Je(!1)}}}else v=o;return f.memoizedState=f.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},f.queue=r,r=r.dispatch=OV.bind(null,he,r),[f.memoizedState,r]},useRef:function(r){var o=As();return r={current:r},o.memoizedState=r},useState:function(r){r=OS(r);var o=r.queue,u=lk.bind(null,he,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:LS,useDeferredValue:function(r,o){var u=As();return NS(u,r,o)},useTransition:function(){var r=OS(!1);return r=ik.bind(null,he,r.queue,!0,!1),As().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=he,v=As();if(Le){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),fn===null)throw Error(n(349));(Te&124)!==0||MI(f,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,KI(DI.bind(null,f,_,r),[r]),f.flags|=2048,Wd(9,Xb(),OI.bind(null,f,_,u,o),null),u},useId:function(){var r=As(),o=fn.identifierPrefix;if(Le){var u=Ao,f=Eo;u=(f&~(1<<32-Oe(f)-1)).toString(32)+u,o=""+o+"R"+u,u=Wb++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=CV++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:VS,useFormState:HI,useActionState:HI,useOptimistic:function(r){var o=As();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=US.bind(null,he,!0,u),u.dispatch=o,[r,o]},useMemoCache:kS,useCacheRefresh:function(){return As().memoizedState=MV.bind(null,he)}},dk={readContext:Ki,use:Kb,useCallback:tk,useContext:Ki,useEffect:YI,useImperativeHandle:JI,useInsertionEffect:XI,useLayoutEffect:QI,useMemo:ek,useReducer:Yb,useRef:WI,useState:function(){return Yb(To)},useDebugValue:LS,useDeferredValue:function(r,o){var u=Jn();return nk(u,en.memoizedState,r,o)},useTransition:function(){var r=Yb(To)[0],o=Jn().memoizedState;return[typeof r=="boolean"?r:Wg(r),o]},useSyncExternalStore:PI,useId:ak,useHostTransitionStatus:VS,useFormState:$I,useActionState:$I,useOptimistic:function(r,o){var u=Jn();return FI(u,en,r,o)},useMemoCache:kS,useCacheRefresh:ok},DV={readContext:Ki,use:Kb,useCallback:tk,useContext:Ki,useEffect:YI,useImperativeHandle:JI,useInsertionEffect:XI,useLayoutEffect:QI,useMemo:ek,useReducer:MS,useRef:WI,useState:function(){return MS(To)},useDebugValue:LS,useDeferredValue:function(r,o){var u=Jn();return en===null?NS(u,r,o):nk(u,en.memoizedState,r,o)},useTransition:function(){var r=MS(To)[0],o=Jn().memoizedState;return[typeof r=="boolean"?r:Wg(r),o]},useSyncExternalStore:PI,useId:ak,useHostTransitionStatus:VS,useFormState:GI,useActionState:GI,useOptimistic:function(r,o){var u=Jn();return en!==null?FI(u,en,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:kS,useCacheRefresh:ok},Kd=null,Xg=0;function t0(r){var o=Xg;return Xg+=1,Kd===null&&(Kd=[]),SI(Kd,r,o)}function Qg(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function e0(r,o){throw o.$$typeof===y?Error(n(525)):(r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function fk(r){var o=r._init;return o(r._payload)}function pk(r){function o(J,Z){if(r){var et=J.deletions;et===null?(J.deletions=[Z],J.flags|=16):et.push(Z)}}function u(J,Z){if(!r)return null;for(;Z!==null;)o(J,Z),Z=Z.sibling;return null}function f(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function v(J,Z){return J=_o(J,Z),J.index=0,J.sibling=null,J}function _(J,Z,et){return J.index=et,r?(et=J.alternate,et!==null?(et=et.index,et<Z?(J.flags|=67108866,Z):et):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function P(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function H(J,Z,et,gt){return Z===null||Z.tag!==6?(Z=aS(et,J.mode,gt),Z.return=J,Z):(Z=v(Z,et),Z.return=J,Z)}function X(J,Z,et,gt){var Mt=et.type;return Mt===A?pt(J,Z,et.props.children,gt,et.key):Z!==null&&(Z.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===R&&fk(Mt)===Z.type)?(Z=v(Z,et.props),Qg(Z,et),Z.return=J,Z):(Z=Fb(et.type,et.key,et.props,null,J.mode,gt),Qg(Z,et),Z.return=J,Z)}function it(J,Z,et,gt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==et.containerInfo||Z.stateNode.implementation!==et.implementation?(Z=oS(et,J.mode,gt),Z.return=J,Z):(Z=v(Z,et.children||[]),Z.return=J,Z)}function pt(J,Z,et,gt,Mt){return Z===null||Z.tag!==7?(Z=Ru(et,J.mode,gt,Mt),Z.return=J,Z):(Z=v(Z,et),Z.return=J,Z)}function mt(J,Z,et){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=aS(""+Z,J.mode,et),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return et=Fb(Z.type,Z.key,Z.props,null,J.mode,et),Qg(et,Z),et.return=J,et;case E:return Z=oS(Z,J.mode,et),Z.return=J,Z;case R:var gt=Z._init;return Z=gt(Z._payload),mt(J,Z,et)}if(nt(Z)||q(Z))return Z=Ru(Z,J.mode,et,null),Z.return=J,Z;if(typeof Z.then=="function")return mt(J,t0(Z),et);if(Z.$$typeof===k)return mt(J,jb(J,Z),et);e0(J,Z)}return null}function ot(J,Z,et,gt){var Mt=Z!==null?Z.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Mt!==null?null:H(J,Z,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return et.key===Mt?X(J,Z,et,gt):null;case E:return et.key===Mt?it(J,Z,et,gt):null;case R:return Mt=et._init,et=Mt(et._payload),ot(J,Z,et,gt)}if(nt(et)||q(et))return Mt!==null?null:pt(J,Z,et,gt,null);if(typeof et.then=="function")return ot(J,Z,t0(et),gt);if(et.$$typeof===k)return ot(J,Z,jb(J,et),gt);e0(J,et)}return null}function lt(J,Z,et,gt,Mt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return J=J.get(et)||null,H(Z,J,""+gt,Mt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case b:return J=J.get(gt.key===null?et:gt.key)||null,X(Z,J,gt,Mt);case E:return J=J.get(gt.key===null?et:gt.key)||null,it(Z,J,gt,Mt);case R:var ge=gt._init;return gt=ge(gt._payload),lt(J,Z,et,gt,Mt)}if(nt(gt)||q(gt))return J=J.get(et)||null,pt(Z,J,gt,Mt,null);if(typeof gt.then=="function")return lt(J,Z,et,t0(gt),Mt);if(gt.$$typeof===k)return lt(J,Z,et,jb(Z,gt),Mt);e0(Z,gt)}return null}function Zt(J,Z,et,gt){for(var Mt=null,ge=null,Ut=Z,Yt=Z=0,Ti=null;Ut!==null&&Yt<et.length;Yt++){Ut.index>Yt?(Ti=Ut,Ut=null):Ti=Ut.sibling;var Me=ot(J,Ut,et[Yt],gt);if(Me===null){Ut===null&&(Ut=Ti);break}r&&Ut&&Me.alternate===null&&o(J,Ut),Z=_(Me,Z,Yt),ge===null?Mt=Me:ge.sibling=Me,ge=Me,Ut=Ti}if(Yt===et.length)return u(J,Ut),Le&&ku(J,Yt),Mt;if(Ut===null){for(;Yt<et.length;Yt++)Ut=mt(J,et[Yt],gt),Ut!==null&&(Z=_(Ut,Z,Yt),ge===null?Mt=Ut:ge.sibling=Ut,ge=Ut);return Le&&ku(J,Yt),Mt}for(Ut=f(Ut);Yt<et.length;Yt++)Ti=lt(Ut,J,Yt,et[Yt],gt),Ti!==null&&(r&&Ti.alternate!==null&&Ut.delete(Ti.key===null?Yt:Ti.key),Z=_(Ti,Z,Yt),ge===null?Mt=Ti:ge.sibling=Ti,ge=Ti);return r&&Ut.forEach(function(sc){return o(J,sc)}),Le&&ku(J,Yt),Mt}function $t(J,Z,et,gt){if(et==null)throw Error(n(151));for(var Mt=null,ge=null,Ut=Z,Yt=Z=0,Ti=null,Me=et.next();Ut!==null&&!Me.done;Yt++,Me=et.next()){Ut.index>Yt?(Ti=Ut,Ut=null):Ti=Ut.sibling;var sc=ot(J,Ut,Me.value,gt);if(sc===null){Ut===null&&(Ut=Ti);break}r&&Ut&&sc.alternate===null&&o(J,Ut),Z=_(sc,Z,Yt),ge===null?Mt=sc:ge.sibling=sc,ge=sc,Ut=Ti}if(Me.done)return u(J,Ut),Le&&ku(J,Yt),Mt;if(Ut===null){for(;!Me.done;Yt++,Me=et.next())Me=mt(J,Me.value,gt),Me!==null&&(Z=_(Me,Z,Yt),ge===null?Mt=Me:ge.sibling=Me,ge=Me);return Le&&ku(J,Yt),Mt}for(Ut=f(Ut);!Me.done;Yt++,Me=et.next())Me=lt(Ut,J,Yt,Me.value,gt),Me!==null&&(r&&Me.alternate!==null&&Ut.delete(Me.key===null?Yt:Me.key),Z=_(Me,Z,Yt),ge===null?Mt=Me:ge.sibling=Me,ge=Me);return r&&Ut.forEach(function(L6){return o(J,L6)}),Le&&ku(J,Yt),Mt}function sn(J,Z,et,gt){if(typeof et=="object"&&et!==null&&et.type===A&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case b:t:{for(var Mt=et.key;Z!==null;){if(Z.key===Mt){if(Mt=et.type,Mt===A){if(Z.tag===7){u(J,Z.sibling),gt=v(Z,et.props.children),gt.return=J,J=gt;break t}}else if(Z.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===R&&fk(Mt)===Z.type){u(J,Z.sibling),gt=v(Z,et.props),Qg(gt,et),gt.return=J,J=gt;break t}u(J,Z);break}else o(J,Z);Z=Z.sibling}et.type===A?(gt=Ru(et.props.children,J.mode,gt,et.key),gt.return=J,J=gt):(gt=Fb(et.type,et.key,et.props,null,J.mode,gt),Qg(gt,et),gt.return=J,J=gt)}return P(J);case E:t:{for(Mt=et.key;Z!==null;){if(Z.key===Mt)if(Z.tag===4&&Z.stateNode.containerInfo===et.containerInfo&&Z.stateNode.implementation===et.implementation){u(J,Z.sibling),gt=v(Z,et.children||[]),gt.return=J,J=gt;break t}else{u(J,Z);break}else o(J,Z);Z=Z.sibling}gt=oS(et,J.mode,gt),gt.return=J,J=gt}return P(J);case R:return Mt=et._init,et=Mt(et._payload),sn(J,Z,et,gt)}if(nt(et))return Zt(J,Z,et,gt);if(q(et)){if(Mt=q(et),typeof Mt!="function")throw Error(n(150));return et=Mt.call(et),$t(J,Z,et,gt)}if(typeof et.then=="function")return sn(J,Z,t0(et),gt);if(et.$$typeof===k)return sn(J,Z,jb(J,et),gt);e0(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Z!==null&&Z.tag===6?(u(J,Z.sibling),gt=v(Z,et),gt.return=J,J=gt):(u(J,Z),gt=aS(et,J.mode,gt),gt.return=J,J=gt),P(J)):u(J,Z)}return function(J,Z,et,gt){try{Xg=0;var Mt=sn(J,Z,et,gt);return Kd=null,Mt}catch(Ut){if(Ut===jg||Ut===Hb)throw Ut;var ge=Fs(29,Ut,null,J.mode);return ge.lanes=gt,ge.return=J,ge}finally{}}}var Yd=pk(!0),gk=pk(!1),pr=rt(null),va=null;function Hl(r){var o=r.alternate;st(di,di.current&1),st(pr,r),va===null&&(o===null||$d.current!==null||o.memoizedState!==null)&&(va=r)}function mk(r){if(r.tag===22){if(st(di,di.current),st(pr,r),va===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(va=r)}}else $l()}function $l(){st(di,di.current),st(pr,pr.current)}function xo(r){ut(pr),va===r&&(va=null),ut(di)}var di=rt(0);function n0(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Iw(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function BS(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var jS={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=js(),v=Bl(f);v.payload=o,u!=null&&(v.callback=u),o=jl(r,v,f),o!==null&&(zs(o,r,f),Hg(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=js(),v=Bl(f);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=jl(r,v,f),o!==null&&(zs(o,r,f),Hg(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=js(),f=Bl(u);f.tag=2,o!=null&&(f.callback=o),o=jl(r,f,u),o!==null&&(zs(o,r,u),Hg(o,r,u))}};function yk(r,o,u,f,v,_,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,P):o.prototype&&o.prototype.isPureReactComponent?!Og(u,f)||!Og(v,_):!0}function vk(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&jS.enqueueReplaceState(o,o.state,null)}function Fu(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}var i0=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function bk(r){i0(r)}function _k(r){console.error(r)}function Ek(r){i0(r)}function s0(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Ak(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zS(r,o,u){return u=Bl(u),u.tag=3,u.payload={element:null},u.callback=function(){s0(r,o)},u}function Sk(r){return r=Bl(r),r.tag=3,r}function wk(r,o,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;r.payload=function(){return v(_)},r.callback=function(){Ak(o,u,f)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){Ak(o,u,f),typeof v!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var H=f.stack;this.componentDidCatch(f.value,{componentStack:H!==null?H:""})})}function LV(r,o,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Vg(o,u,v,!0),u=pr.current,u!==null){switch(u.tag){case 13:return va===null?dw():u.alternate===null&&Nn===0&&(Nn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===yS?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),pw(r,f,v)),!1;case 22:return u.flags|=65536,f===yS?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),pw(r,f,v)),!1}throw Error(n(435,u.tag))}return pw(r,f,v),dw(),!1}if(Le)return o=pr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,f!==uS&&(r=Error(n(422),{cause:f}),Fg(ur(r,u)))):(f!==uS&&(o=Error(n(423),{cause:f}),Fg(ur(o,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,f=ur(f,u),v=zS(r.stateNode,f,v),_S(r,v),Nn!==4&&(Nn=2)),!1;var _=Error(n(520),{cause:f});if(_=ur(_,u),sm===null?sm=[_]:sm.push(_),Nn!==4&&(Nn=2),o===null)return!0;f=ur(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=zS(u.stateNode,f,r),_S(u,r),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xl===null||!Xl.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Sk(v),wk(v,r,u,f),_S(u,v),!1}u=u.return}while(u!==null);return!1}var Tk=Error(n(461)),Si=!1;function Ni(r,o,u,f){o.child=r===null?gk(o,null,u,f):Yd(o,r.child,u,f)}function xk(r,o,u,f,v){u=u.render;var _=o.ref;if("ref"in f){var P={};for(var H in f)H!=="ref"&&(P[H]=f[H])}else P=f;return Du(o),f=TS(r,o,u,P,_,v),H=xS(),r!==null&&!Si?(CS(r,o,v),Co(r,o,v)):(Le&&H&&lS(o),o.flags|=1,Ni(r,o,f,v),o.child)}function Ck(r,o,u,f,v){if(r===null){var _=u.type;return typeof _=="function"&&!rS(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,Rk(r,o,_,f,v)):(r=Fb(u.type,null,f,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(_=r.child,!XS(r,v)){var P=_.memoizedProps;if(u=u.compare,u=u!==null?u:Og,u(P,f)&&r.ref===o.ref)return Co(r,o,v)}return o.flags|=1,r=_o(_,f),r.ref=o.ref,r.return=o,o.child=r}function Rk(r,o,u,f,v){if(r!==null){var _=r.memoizedProps;if(Og(_,f)&&r.ref===o.ref)if(Si=!1,o.pendingProps=f=_,XS(r,v))(r.flags&131072)!==0&&(Si=!0);else return o.lanes=r.lanes,Co(r,o,v)}return HS(r,o,u,f,v)}function Ik(r,o,u){var f=o.pendingProps,v=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=_!==null?_.baseLanes|u:u,r!==null){for(v=o.child=r.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;o.childLanes=_&~f}else o.childLanes=0,o.child=null;return kk(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&zb(o,_!==null?_.cachePool:null),_!==null?RI(o,_):AS(),mk(o);else return o.lanes=o.childLanes=536870912,kk(r,o,_!==null?_.baseLanes|u:u,u)}else _!==null?(zb(o,_.cachePool),RI(o,_),$l(),o.memoizedState=null):(r!==null&&zb(o,null),AS(),$l());return Ni(r,o,v,u),o.child}function kk(r,o,u,f){var v=mS();return v=v===null?null:{parent:hi._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},r!==null&&zb(o,null),AS(),mk(o),r!==null&&Vg(r,o,f,!0),null}function r0(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function HS(r,o,u,f,v){return Du(o),u=TS(r,o,u,f,void 0,v),f=xS(),r!==null&&!Si?(CS(r,o,v),Co(r,o,v)):(Le&&f&&lS(o),o.flags|=1,Ni(r,o,u,v),o.child)}function Pk(r,o,u,f,v,_){return Du(o),o.updateQueue=null,u=kI(o,f,u,v),II(r),f=xS(),r!==null&&!Si?(CS(r,o,_),Co(r,o,_)):(Le&&f&&lS(o),o.flags|=1,Ni(r,o,u,_),o.child)}function Mk(r,o,u,f,v){if(Du(o),o.stateNode===null){var _=Ud,P=u.contextType;typeof P=="object"&&P!==null&&(_=Ki(P)),_=new u(f,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=jS,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=f,_.state=o.memoizedState,_.refs={},vS(o),P=u.contextType,_.context=typeof P=="object"&&P!==null?Ki(P):Ud,_.state=o.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(BS(o,u,P,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&jS.enqueueReplaceState(_,_.state,null),qg(o,f,_,v),$g(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){_=o.stateNode;var H=o.memoizedProps,X=Fu(u,H);_.props=X;var it=_.context,pt=u.contextType;P=Ud,typeof pt=="object"&&pt!==null&&(P=Ki(pt));var mt=u.getDerivedStateFromProps;pt=typeof mt=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,pt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||it!==P)&&vk(o,_,f,P),Ul=!1;var ot=o.memoizedState;_.state=ot,qg(o,f,_,v),$g(),it=o.memoizedState,H||ot!==it||Ul?(typeof mt=="function"&&(BS(o,u,mt,f),it=o.memoizedState),(X=Ul||yk(o,u,X,f,ot,it,P))?(pt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=it),_.props=f,_.state=it,_.context=P,f=X):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{_=o.stateNode,bS(r,o),P=o.memoizedProps,pt=Fu(u,P),_.props=pt,mt=o.pendingProps,ot=_.context,it=u.contextType,X=Ud,typeof it=="object"&&it!==null&&(X=Ki(it)),H=u.getDerivedStateFromProps,(it=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==mt||ot!==X)&&vk(o,_,f,X),Ul=!1,ot=o.memoizedState,_.state=ot,qg(o,f,_,v),$g();var lt=o.memoizedState;P!==mt||ot!==lt||Ul||r!==null&&r.dependencies!==null&&Bb(r.dependencies)?(typeof H=="function"&&(BS(o,u,H,f),lt=o.memoizedState),(pt=Ul||yk(o,u,pt,f,ot,lt,X)||r!==null&&r.dependencies!==null&&Bb(r.dependencies))?(it||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,lt,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,lt,X)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===r.memoizedProps&&ot===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ot===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=lt),_.props=f,_.state=lt,_.context=X,f=pt):(typeof _.componentDidUpdate!="function"||P===r.memoizedProps&&ot===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ot===r.memoizedState||(o.flags|=1024),f=!1)}return _=f,r0(r,o),f=(o.flags&128)!==0,_||f?(_=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,r!==null&&f?(o.child=Yd(o,r.child,null,v),o.child=Yd(o,null,u,v)):Ni(r,o,u,v),o.memoizedState=_.state,r=o.child):r=Co(r,o,v),r}function Ok(r,o,u,f){return Ng(),o.flags|=256,Ni(r,o,u,f),o.child}var $S={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qS(r){return{baseLanes:r,cachePool:_I()}}function GS(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=gr),r}function Dk(r,o,u){var f=o.pendingProps,v=!1,_=(o.flags&128)!==0,P;if((P=_)||(P=r!==null&&r.memoizedState===null?!1:(di.current&2)!==0),P&&(v=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,r===null){if(Le){if(v?Hl(o):$l(),Le){var H=Ln,X;if(X=H){t:{for(X=H,H=ya;X.nodeType!==8;){if(!H){H=null;break t}if(X=Lr(X.nextSibling),X===null){H=null;break t}}H=X}H!==null?(o.memoizedState={dehydrated:H,treeContext:Iu!==null?{id:Eo,overflow:Ao}:null,retryLane:536870912,hydrationErrors:null},X=Fs(18,null,null,0),X.stateNode=H,X.return=o,o.child=X,ps=o,Ln=null,X=!0):X=!1}X||Mu(o)}if(H=o.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Iw(H)?o.lanes=32:o.lanes=536870912,null;xo(o)}return H=f.children,f=f.fallback,v?($l(),v=o.mode,H=a0({mode:"hidden",children:H},v),f=Ru(f,v,u,null),H.return=o,f.return=o,H.sibling=f,o.child=H,v=o.child,v.memoizedState=qS(u),v.childLanes=GS(r,P,u),o.memoizedState=$S,f):(Hl(o),WS(o,H))}if(X=r.memoizedState,X!==null&&(H=X.dehydrated,H!==null)){if(_)o.flags&256?(Hl(o),o.flags&=-257,o=KS(r,o,u)):o.memoizedState!==null?($l(),o.child=r.child,o.flags|=128,o=null):($l(),v=f.fallback,H=o.mode,f=a0({mode:"visible",children:f.children},H),v=Ru(v,H,u,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,Yd(o,r.child,null,u),f=o.child,f.memoizedState=qS(u),f.childLanes=GS(r,P,u),o.memoizedState=$S,o=v);else if(Hl(o),Iw(H)){if(P=H.nextSibling&&H.nextSibling.dataset,P)var it=P.dgst;P=it,f=Error(n(419)),f.stack="",f.digest=P,Fg({value:f,source:null,stack:null}),o=KS(r,o,u)}else if(Si||Vg(r,o,u,!1),P=(u&r.childLanes)!==0,Si||P){if(P=fn,P!==null&&(f=u&-u,f=(f&42)!==0?1:Pl(f),f=(f&(P.suspendedLanes|u))!==0?0:f,f!==0&&f!==X.retryLane))throw X.retryLane=f,Vd(r,f),zs(P,r,f),Tk;H.data==="$?"||dw(),o=KS(r,o,u)}else H.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=X.treeContext,Ln=Lr(H.nextSibling),ps=o,Le=!0,Pu=null,ya=!1,r!==null&&(dr[fr++]=Eo,dr[fr++]=Ao,dr[fr++]=Iu,Eo=r.id,Ao=r.overflow,Iu=o),o=WS(o,f.children),o.flags|=4096);return o}return v?($l(),v=f.fallback,H=o.mode,X=r.child,it=X.sibling,f=_o(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,it!==null?v=_o(it,v):(v=Ru(v,H,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,H=r.child.memoizedState,H===null?H=qS(u):(X=H.cachePool,X!==null?(it=hi._currentValue,X=X.parent!==it?{parent:it,pool:it}:X):X=_I(),H={baseLanes:H.baseLanes|u,cachePool:X}),v.memoizedState=H,v.childLanes=GS(r,P,u),o.memoizedState=$S,f):(Hl(o),u=r.child,r=u.sibling,u=_o(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(P=o.deletions,P===null?(o.deletions=[r],o.flags|=16):P.push(r)),o.child=u,o.memoizedState=null,u)}function WS(r,o){return o=a0({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function a0(r,o){return r=Fs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function KS(r,o,u){return Yd(o,r.child,null,u),r=WS(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Lk(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),dS(r.return,o,u)}function YS(r,o,u,f,v){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v)}function Nk(r,o,u){var f=o.pendingProps,v=f.revealOrder,_=f.tail;if(Ni(r,o,f.children,u),f=di.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lk(r,u,o);else if(r.tag===19)Lk(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(st(di,f),v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&n0(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),YS(o,!1,v,u,_);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&n0(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}YS(o,!0,u,null,_);break;case"together":YS(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Co(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Yl|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Vg(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,u=_o(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=_o(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function XS(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Bb(r)))}function NV(r,o,u){switch(o.tag){case 3:Bt(o,o.stateNode.containerInfo),Vl(o,hi,r.memoizedState.cache),Ng();break;case 27:case 5:At(o);break;case 4:Bt(o,o.stateNode.containerInfo);break;case 10:Vl(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Hl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Dk(r,o,u):(Hl(o),r=Co(r,o,u),r!==null?r.sibling:null);Hl(o);break;case 19:var v=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Vg(r,o,u,!1),f=(u&o.childLanes)!==0),v){if(f)return Nk(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),st(di,di.current),f)break;return null;case 22:case 23:return o.lanes=0,Ik(r,o,u);case 24:Vl(o,hi,r.memoizedState.cache)}return Co(r,o,u)}function Fk(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Si=!0;else{if(!XS(r,u)&&(o.flags&128)===0)return Si=!1,NV(r,o,u);Si=(r.flags&131072)!==0}else Si=!1,Le&&(o.flags&1048576)!==0&&fI(o,Ub,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,v=f._init;if(f=v(f._payload),o.type=f,typeof f=="function")rS(f)?(r=Fu(f,r),o.tag=1,o=Mk(null,o,f,r,u)):(o.tag=0,o=HS(null,o,f,r,u));else{if(f!=null){if(v=f.$$typeof,v===D){o.tag=11,o=xk(null,o,f,r,u);break t}else if(v===L){o.tag=14,o=Ck(null,o,f,r,u);break t}}throw o=ct(f)||f,Error(n(306,o,""))}}return o;case 0:return HS(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,v=Fu(f,o.pendingProps),Mk(r,o,f,v,u);case 3:t:{if(Bt(o,o.stateNode.containerInfo),r===null)throw Error(n(387));f=o.pendingProps;var _=o.memoizedState;v=_.element,bS(r,o),qg(o,f,null,u);var P=o.memoizedState;if(f=P.cache,Vl(o,hi,f),f!==_.cache&&fS(o,[hi],u,!0),$g(),f=P.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Ok(r,o,f,u);break t}else if(f!==v){v=ur(Error(n(424)),o),Fg(v),o=Ok(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ln=Lr(r.firstChild),ps=o,Le=!0,Pu=null,ya=!0,u=gk(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ng(),f===v){o=Co(r,o,u);break t}Ni(r,o,f,u)}o=o.child}return o;case 26:return r0(r,o),r===null?(u=j2(o.type,null,o.pendingProps,null))?o.memoizedState=u:Le||(u=o.type,r=o.pendingProps,f=_0(Et.current).createElement(u),f[li]=o,f[Xn]=r,Vi(f,u,r),jn(f),o.stateNode=f):o.memoizedState=j2(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return At(o),r===null&&Le&&(f=o.stateNode=V2(o.type,o.pendingProps,Et.current),ps=o,ya=!0,v=Ln,Jl(o.type)?(kw=v,Ln=Lr(f.firstChild)):Ln=v),Ni(r,o,o.pendingProps.children,u),r0(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Le&&((v=f=Ln)&&(f=u6(f,o.type,o.pendingProps,ya),f!==null?(o.stateNode=f,ps=o,Ln=Lr(f.firstChild),ya=!1,v=!0):v=!1),v||Mu(o)),At(o),v=o.type,_=o.pendingProps,P=r!==null?r.memoizedProps:null,f=_.children,xw(v,_)?f=null:P!==null&&xw(v,P)&&(o.flags|=32),o.memoizedState!==null&&(v=TS(r,o,RV,null,null,u),fm._currentValue=v),r0(r,o),Ni(r,o,f,u),o.child;case 6:return r===null&&Le&&((r=u=Ln)&&(u=h6(u,o.pendingProps,ya),u!==null?(o.stateNode=u,ps=o,Ln=null,r=!0):r=!1),r||Mu(o)),null;case 13:return Dk(r,o,u);case 4:return Bt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Yd(o,null,f,u):Ni(r,o,f,u),o.child;case 11:return xk(r,o,o.type,o.pendingProps,u);case 7:return Ni(r,o,o.pendingProps,u),o.child;case 8:return Ni(r,o,o.pendingProps.children,u),o.child;case 12:return Ni(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Vl(o,o.type,f.value),Ni(r,o,f.children,u),o.child;case 9:return v=o.type._context,f=o.pendingProps.children,Du(o),v=Ki(v),f=f(v),o.flags|=1,Ni(r,o,f,u),o.child;case 14:return Ck(r,o,o.type,o.pendingProps,u);case 15:return Rk(r,o,o.type,o.pendingProps,u);case 19:return Nk(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=a0(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=_o(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Ik(r,o,u);case 24:return Du(o),f=Ki(hi),r===null?(v=mS(),v===null&&(v=fn,_=pS(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:f,cache:v},vS(o),Vl(o,hi,v)):((r.lanes&u)!==0&&(bS(r,o),qg(o,null,null,u),$g()),v=r.memoizedState,_=o.memoizedState,v.parent!==f?(v={parent:f,cache:f},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Vl(o,hi,f)):(f=_.cache,Vl(o,hi,f),f!==v.cache&&fS(o,[hi],u,!0))),Ni(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ro(r){r.flags|=4}function Vk(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!G2(o)){if(o=pr.current,o!==null&&((Te&4194048)===Te?va!==null:(Te&62914560)!==Te&&(Te&536870912)===0||o!==va))throw zg=yS,EI;r.flags|=8192}}function o0(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?gg():536870912,r.lanes|=o,Jd|=o)}function Zg(r,o){if(!Le)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function wn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function FV(r,o,u){var f=o.pendingProps;switch(cS(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(o),null;case 1:return wn(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),wo(hi),zt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Lg(o)?Ro(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mI())),wn(o),null;case 26:return u=o.memoizedState,r===null?(Ro(o),u!==null?(wn(o),Vk(o,u)):(wn(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Ro(o),wn(o),Vk(o,u)):(wn(o),o.flags&=-16777217):(r.memoizedProps!==f&&Ro(o),wn(o),o.flags&=-16777217),null;case 27:Ht(o),u=Et.current;var v=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Ro(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return wn(o),null}r=bt.current,Lg(o)?pI(o):(r=V2(v,f,u),o.stateNode=r,Ro(o))}return wn(o),null;case 5:if(Ht(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Ro(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return wn(o),null}if(r=bt.current,Lg(o))pI(o);else{switch(v=_0(Et.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}r[li]=o,r[Xn]=f;t:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break t;for(;v.sibling===null;){if(v.return===null||v.return===o)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=r;t:switch(Vi(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ro(o)}}return wn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Ro(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(r=Et.current,Lg(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,v=ps,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}r[li]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||P2(r.nodeValue,u)),r||Mu(o)}else r=_0(r).createTextNode(f),r[li]=o,o.stateNode=r}return wn(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Lg(o),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[li]=o}else Ng(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wn(o),v=!1}else v=mI(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(xo(o),o):(xo(o),null)}if(xo(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),o0(o,o.updateQueue),wn(o),null;case 4:return zt(),r===null&&Ew(o.stateNode.containerInfo),wn(o),null;case 10:return wo(o.type),wn(o),null;case 19:if(ut(di),v=o.memoizedState,v===null)return wn(o),null;if(f=(o.flags&128)!==0,_=v.rendering,_===null)if(f)Zg(v,!1);else{if(Nn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(_=n0(r),_!==null){for(o.flags|=128,Zg(v,!1),r=_.updateQueue,o.updateQueue=r,o0(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)dI(u,r),u=u.sibling;return st(di,di.current&1|2),o.child}r=r.sibling}v.tail!==null&&fe()>u0&&(o.flags|=128,f=!0,Zg(v,!1),o.lanes=4194304)}else{if(!f)if(r=n0(_),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,o0(o,r),Zg(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Le)return wn(o),null}else 2*fe()-v.renderingStartTime>u0&&u!==536870912&&(o.flags|=128,f=!0,Zg(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(r=v.last,r!==null?r.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=fe(),o.sibling=null,r=di.current,st(di,f?r&1|2:r&1),o):(wn(o),null);case 22:case 23:return xo(o),SS(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(wn(o),o.subtreeFlags&6&&(o.flags|=8192)):wn(o),u=o.updateQueue,u!==null&&o0(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&ut(Lu),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),wo(hi),wn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function VV(r,o){switch(cS(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return wo(hi),zt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ht(o),null;case 13:if(xo(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ng()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ut(di),null;case 4:return zt(),null;case 10:return wo(o.type),null;case 22:case 23:return xo(o),SS(),r!==null&&ut(Lu),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return wo(hi),null;case 25:return null;default:return null}}function Uk(r,o){switch(cS(o),o.tag){case 3:wo(hi),zt();break;case 26:case 27:case 5:Ht(o);break;case 4:zt();break;case 13:xo(o);break;case 19:ut(di);break;case 10:wo(o.type);break;case 22:case 23:xo(o),SS(),r!==null&&ut(Lu);break;case 24:wo(hi)}}function Jg(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&r)===r){f=void 0;var _=u.create,P=u.inst;f=_(),P.destroy=f}u=u.next}while(u!==v)}}catch(H){cn(o,o.return,H)}}function ql(r,o,u){try{var f=o.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&r)===r){var P=f.inst,H=P.destroy;if(H!==void 0){P.destroy=void 0,v=o;var X=u,it=H;try{it()}catch(pt){cn(v,X,pt)}}}f=f.next}while(f!==_)}}catch(pt){cn(o,o.return,pt)}}function Bk(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{CI(o,u)}catch(f){cn(r,r.return,f)}}}function jk(r,o,u){u.props=Fu(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){cn(r,o,f)}}function tm(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(v){cn(r,o,v)}}function ba(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){cn(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){cn(r,o,v)}else u.current=null}function zk(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){cn(r,r.return,v)}}function QS(r,o,u){try{var f=r.stateNode;r6(f,r.type,u,o),f[Xn]=o}catch(v){cn(r,r.return,v)}}function Hk(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Jl(r.type)||r.tag===4}function ZS(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Hk(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Jl(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function JS(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=b0));else if(f!==4&&(f===27&&Jl(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(JS(r,o,u),r=r.sibling;r!==null;)JS(r,o,u),r=r.sibling}function l0(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&Jl(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(l0(r,o,u),r=r.sibling;r!==null;)l0(r,o,u),r=r.sibling}function $k(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Vi(o,f,u),o[li]=r,o[Xn]=u}catch(_){cn(r,r.return,_)}}var Io=!1,Hn=!1,tw=!1,qk=typeof WeakSet=="function"?WeakSet:Set,wi=null;function UV(r,o){if(r=r.containerInfo,ww=x0,r=nI(r),ZA(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break t}var P=0,H=-1,X=-1,it=0,pt=0,mt=r,ot=null;e:for(;;){for(var lt;mt!==u||v!==0&&mt.nodeType!==3||(H=P+v),mt!==_||f!==0&&mt.nodeType!==3||(X=P+f),mt.nodeType===3&&(P+=mt.nodeValue.length),(lt=mt.firstChild)!==null;)ot=mt,mt=lt;for(;;){if(mt===r)break e;if(ot===u&&++it===v&&(H=P),ot===_&&++pt===f&&(X=P),(lt=mt.nextSibling)!==null)break;mt=ot,ot=mt.parentNode}mt=lt}u=H===-1||X===-1?null:{start:H,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(Tw={focusedElem:r,selectionRange:u},x0=!1,wi=o;wi!==null;)if(o=wi,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,wi=r;else for(;wi!==null;){switch(o=wi,_=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var Zt=Fu(u.type,v,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(Zt,_),f.__reactInternalSnapshotBeforeUpdate=r}catch($t){cn(u,u.return,$t)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Rw(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Rw(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=o.sibling,r!==null){r.return=o.return,wi=r;break}wi=o.return}}function Gk(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Gl(r,u),f&4&&Jg(5,u);break;case 1:if(Gl(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(P){cn(u,u.return,P)}else{var v=Fu(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(P){cn(u,u.return,P)}}f&64&&Bk(u),f&512&&tm(u,u.return);break;case 3:if(Gl(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{CI(r,o)}catch(P){cn(u,u.return,P)}}break;case 27:o===null&&f&4&&$k(u);case 26:case 5:Gl(r,u),o===null&&f&4&&zk(u),f&512&&tm(u,u.return);break;case 12:Gl(r,u);break;case 13:Gl(r,u),f&4&&Yk(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=KV.bind(null,u),d6(r,u))));break;case 22:if(f=u.memoizedState!==null||Io,!f){o=o!==null&&o.memoizedState!==null||Hn,v=Io;var _=Hn;Io=f,(Hn=o)&&!_?Wl(r,u,(u.subtreeFlags&8772)!==0):Gl(r,u),Io=v,Hn=_}break;case 30:break;default:Gl(r,u)}}function Wk(r){var o=r.alternate;o!==null&&(r.alternate=null,Wk(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Dl(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _n=null,Ss=!1;function ko(r,o,u){for(u=u.child;u!==null;)Kk(r,o,u),u=u.sibling}function Kk(r,o,u){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(Re,u)}catch{}switch(u.tag){case 26:Hn||ba(u,o),ko(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Hn||ba(u,o);var f=_n,v=Ss;Jl(u.type)&&(_n=u.stateNode,Ss=!1),ko(r,o,u),cm(u.stateNode),_n=f,Ss=v;break;case 5:Hn||ba(u,o);case 6:if(f=_n,v=Ss,_n=null,ko(r,o,u),_n=f,Ss=v,_n!==null)if(Ss)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(_){cn(u,o,_)}else try{_n.removeChild(u.stateNode)}catch(_){cn(u,o,_)}break;case 18:_n!==null&&(Ss?(r=_n,N2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),ym(r)):N2(_n,u.stateNode));break;case 4:f=_n,v=Ss,_n=u.stateNode.containerInfo,Ss=!0,ko(r,o,u),_n=f,Ss=v;break;case 0:case 11:case 14:case 15:Hn||ql(2,u,o),Hn||ql(4,u,o),ko(r,o,u);break;case 1:Hn||(ba(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&jk(u,o,f)),ko(r,o,u);break;case 21:ko(r,o,u);break;case 22:Hn=(f=Hn)||u.memoizedState!==null,ko(r,o,u),Hn=f;break;default:ko(r,o,u)}}function Yk(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ym(r)}catch(u){cn(o,o.return,u)}}function BV(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new qk),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new qk),o;default:throw Error(n(435,r.tag))}}function ew(r,o){var u=BV(r);o.forEach(function(f){var v=YV.bind(null,r,f);u.has(f)||(u.add(f),f.then(v,v))})}function Vs(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],_=r,P=o,H=P;t:for(;H!==null;){switch(H.tag){case 27:if(Jl(H.type)){_n=H.stateNode,Ss=!1;break t}break;case 5:_n=H.stateNode,Ss=!1;break t;case 3:case 4:_n=H.stateNode.containerInfo,Ss=!0;break t}H=H.return}if(_n===null)throw Error(n(160));Kk(_,P,v),_n=null,Ss=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Xk(o,r),o=o.sibling}var Dr=null;function Xk(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Vs(o,r),Us(r),f&4&&(ql(3,r,r.return),Jg(3,r),ql(5,r,r.return));break;case 1:Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),f&64&&Io&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Dr;if(Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,v=v.ownerDocument||v;e:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[du]||_[li]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Vi(_,f,u),_[li]=r,jn(_),f=_;break t;case"link":var P=$2("link","href",v).get(f+(u.href||""));if(P){for(var H=0;H<P.length;H++)if(_=P[H],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(H,1);break e}}_=v.createElement(f),Vi(_,f,u),v.head.appendChild(_);break;case"meta":if(P=$2("meta","content",v).get(f+(u.content||""))){for(H=0;H<P.length;H++)if(_=P[H],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(H,1);break e}}_=v.createElement(f),Vi(_,f,u),v.head.appendChild(_);break;default:throw Error(n(468,f))}_[li]=r,jn(_),f=_}r.stateNode=f}else q2(v,r.type,r.stateNode);else r.stateNode=H2(v,f,r.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?q2(v,r.type,r.stateNode):H2(v,f,r.memoizedProps)):f===null&&r.stateNode!==null&&QS(r,r.memoizedProps,u.memoizedProps)}break;case 27:Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),u!==null&&f&4&&QS(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),r.flags&32){v=r.stateNode;try{ar(v,"")}catch(lt){cn(r,r.return,lt)}}f&4&&r.stateNode!=null&&(v=r.memoizedProps,QS(r,v,u!==null?u.memoizedProps:v)),f&1024&&(tw=!0);break;case 6:if(Vs(o,r),Us(r),f&4){if(r.stateNode===null)throw Error(n(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(lt){cn(r,r.return,lt)}}break;case 3:if(S0=null,v=Dr,Dr=E0(o.containerInfo),Vs(o,r),Dr=v,Us(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ym(o.containerInfo)}catch(lt){cn(r,r.return,lt)}tw&&(tw=!1,Qk(r));break;case 4:f=Dr,Dr=E0(r.stateNode.containerInfo),Vs(o,r),Us(r),Dr=f;break;case 12:Vs(o,r),Us(r);break;case 13:Vs(o,r),Us(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ow=fe()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ew(r,f)));break;case 22:v=r.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,it=Io,pt=Hn;if(Io=it||v,Hn=pt||X,Vs(o,r),Hn=pt,Io=it,Us(r),f&8192)t:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||X||Io||Hn||Vu(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){X=u=o;try{if(_=X.stateNode,v)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{H=X.stateNode;var mt=X.memoizedProps.style,ot=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;H.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(lt){cn(X,X.return,lt)}}}else if(o.tag===6){if(u===null){X=o;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(lt){cn(X,X.return,lt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,ew(r,u))));break;case 19:Vs(o,r),Us(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ew(r,f)));break;case 30:break;case 21:break;default:Vs(o,r),Us(r)}}function Us(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(Hk(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,_=ZS(r);l0(r,_,v);break;case 5:var P=u.stateNode;u.flags&32&&(ar(P,""),u.flags&=-33);var H=ZS(r);l0(r,H,P);break;case 3:case 4:var X=u.stateNode.containerInfo,it=ZS(r);JS(r,it,X);break;default:throw Error(n(161))}}catch(pt){cn(r,r.return,pt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Qk(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Qk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Gl(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gk(r,o.alternate,o),o=o.sibling}function Vu(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ql(4,o,o.return),Vu(o);break;case 1:ba(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&jk(o,o.return,u),Vu(o);break;case 27:cm(o.stateNode);case 26:case 5:ba(o,o.return),Vu(o);break;case 22:o.memoizedState===null&&Vu(o);break;case 30:Vu(o);break;default:Vu(o)}r=r.sibling}}function Wl(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,v=r,_=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:Wl(v,_,u),Jg(4,_);break;case 1:if(Wl(v,_,u),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(it){cn(f,f.return,it)}if(f=_,v=f.updateQueue,v!==null){var H=f.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)xI(X[v],H)}catch(it){cn(f,f.return,it)}}u&&P&64&&Bk(_),tm(_,_.return);break;case 27:$k(_);case 26:case 5:Wl(v,_,u),u&&f===null&&P&4&&zk(_),tm(_,_.return);break;case 12:Wl(v,_,u);break;case 13:Wl(v,_,u),u&&P&4&&Yk(v,_);break;case 22:_.memoizedState===null&&Wl(v,_,u),tm(_,_.return);break;case 30:break;default:Wl(v,_,u)}o=o.sibling}}function nw(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ug(u))}function iw(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Ug(r))}function _a(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Zk(r,o,u,f),o=o.sibling}function Zk(r,o,u,f){var v=o.flags;switch(o.tag){case 0:case 11:case 15:_a(r,o,u,f),v&2048&&Jg(9,o);break;case 1:_a(r,o,u,f);break;case 3:_a(r,o,u,f),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Ug(r)));break;case 12:if(v&2048){_a(r,o,u,f),r=o.stateNode;try{var _=o.memoizedProps,P=_.id,H=_.onPostCommit;typeof H=="function"&&H(P,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(X){cn(o,o.return,X)}}else _a(r,o,u,f);break;case 13:_a(r,o,u,f);break;case 23:break;case 22:_=o.stateNode,P=o.alternate,o.memoizedState!==null?_._visibility&2?_a(r,o,u,f):em(r,o):_._visibility&2?_a(r,o,u,f):(_._visibility|=2,Xd(r,o,u,f,(o.subtreeFlags&10256)!==0)),v&2048&&nw(P,o);break;case 24:_a(r,o,u,f),v&2048&&iw(o.alternate,o);break;default:_a(r,o,u,f)}}function Xd(r,o,u,f,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=r,P=o,H=u,X=f,it=P.flags;switch(P.tag){case 0:case 11:case 15:Xd(_,P,H,X,v),Jg(8,P);break;case 23:break;case 22:var pt=P.stateNode;P.memoizedState!==null?pt._visibility&2?Xd(_,P,H,X,v):em(_,P):(pt._visibility|=2,Xd(_,P,H,X,v)),v&&it&2048&&nw(P.alternate,P);break;case 24:Xd(_,P,H,X,v),v&&it&2048&&iw(P.alternate,P);break;default:Xd(_,P,H,X,v)}o=o.sibling}}function em(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,v=f.flags;switch(f.tag){case 22:em(u,f),v&2048&&nw(f.alternate,f);break;case 24:em(u,f),v&2048&&iw(f.alternate,f);break;default:em(u,f)}o=o.sibling}}var nm=8192;function Qd(r){if(r.subtreeFlags&nm)for(r=r.child;r!==null;)Jk(r),r=r.sibling}function Jk(r){switch(r.tag){case 26:Qd(r),r.flags&nm&&r.memoizedState!==null&&T6(Dr,r.memoizedState,r.memoizedProps);break;case 5:Qd(r);break;case 3:case 4:var o=Dr;Dr=E0(r.stateNode.containerInfo),Qd(r),Dr=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=nm,nm=16777216,Qd(r),nm=o):Qd(r));break;default:Qd(r)}}function t2(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function im(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];wi=f,n2(f,r)}t2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)e2(r),r=r.sibling}function e2(r){switch(r.tag){case 0:case 11:case 15:im(r),r.flags&2048&&ql(9,r,r.return);break;case 3:im(r);break;case 12:im(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,c0(r)):im(r);break;default:im(r)}}function c0(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];wi=f,n2(f,r)}t2(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ql(8,o,o.return),c0(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,c0(o));break;default:c0(o)}r=r.sibling}}function n2(r,o){for(;wi!==null;){var u=wi;switch(u.tag){case 0:case 11:case 15:ql(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ug(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,wi=f;else t:for(u=r;wi!==null;){f=wi;var v=f.sibling,_=f.return;if(Wk(f),f===u){wi=null;break t}if(v!==null){v.return=_,wi=v;break t}wi=_}}}var jV={getCacheForType:function(r){var o=Ki(hi),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},zV=typeof WeakMap=="function"?WeakMap:Map,qe=0,fn=null,ve=null,Te=0,Ge=0,Bs=null,Kl=!1,Zd=!1,sw=!1,Po=0,Nn=0,Yl=0,Uu=0,rw=0,gr=0,Jd=0,sm=null,ws=null,aw=!1,ow=0,u0=1/0,h0=null,Xl=null,Fi=0,Ql=null,tf=null,ef=0,lw=0,cw=null,i2=null,rm=0,uw=null;function js(){if((qe&2)!==0&&Te!==0)return Te&-Te;if(Y.T!==null){var r=zd;return r!==0?r:yw()}return Ml()}function s2(){gr===0&&(gr=(Te&536870912)===0||Le?kl():536870912);var r=pr.current;return r!==null&&(r.flags|=32),gr}function zs(r,o,u){(r===fn&&(Ge===2||Ge===9)||r.cancelPendingCommit!==null)&&(nf(r,0),Zl(r,Te,gr,!1)),lo(r,u),((qe&2)===0||r!==fn)&&(r===fn&&((qe&2)===0&&(Uu|=u),Nn===4&&Zl(r,Te,gr,!1)),Ea(r))}function r2(r,o,u){if((qe&6)!==0)throw Error(n(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||gn(r,o),v=f?qV(r,o):fw(r,o,!0),_=f;do{if(v===0){Zd&&!f&&Zl(r,o,0,!1);break}else{if(u=r.current.alternate,_&&!HV(u)){v=fw(r,o,!1),_=!1;continue}if(v===2){if(_=o,r.errorRecoveryDisabledLanes&_)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;t:{var H=r;v=sm;var X=H.current.memoizedState.isDehydrated;if(X&&(nf(H,P).flags|=256),P=fw(H,P,!1),P!==2){if(sw&&!X){H.errorRecoveryDisabledLanes|=_,Uu|=_,v=4;break t}_=ws,ws=v,_!==null&&(ws===null?ws=_:ws.push.apply(ws,_))}v=P}if(_=!1,v!==2)continue}}if(v===1){nf(r,0),Zl(r,o,0,!0);break}t:{switch(f=r,_=v,_){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Zl(f,o,gr,!Kl);break t;case 2:ws=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=ow+300-fe(),10<v)){if(Zl(f,o,gr,!Kl),Pe(f,0,!0)!==0)break t;f.timeoutHandle=D2(a2.bind(null,f,u,ws,h0,aw,o,gr,Uu,Jd,Kl,_,2,-0,0),v);break t}a2(f,u,ws,h0,aw,o,gr,Uu,Jd,Kl,_,0,-0,0)}}break}while(!0);Ea(r)}function a2(r,o,u,f,v,_,P,H,X,it,pt,mt,ot,lt){if(r.timeoutHandle=-1,mt=o.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(dm={stylesheets:null,count:0,unsuspend:w6},Jk(o),mt=x6(),mt!==null)){r.cancelPendingCommit=mt(f2.bind(null,r,o,_,u,f,v,P,H,X,pt,1,ot,lt)),Zl(r,_,P,!it);return}f2(r,o,_,u,f,v,P,H,X)}function HV(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],_=v.getSnapshot;v=v.value;try{if(!Ns(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zl(r,o,u,f){o&=~rw,o&=~Uu,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var v=o;0<v;){var _=31-Oe(v),P=1<<_;f[_]=-1,v&=~P}u!==0&&aa(r,u,o)}function d0(){return(qe&6)===0?(am(0),!1):!0}function hw(){if(ve!==null){if(Ge===0)var r=ve.return;else r=ve,So=Ou=null,RS(r),Kd=null,Xg=0,r=ve;for(;r!==null;)Uk(r.alternate,r),r=r.return;ve=null}}function nf(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,o6(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),hw(),fn=r,ve=u=_o(r.current,null),Te=o,Ge=0,Bs=null,Kl=!1,Zd=gn(r,o),sw=!1,Jd=gr=rw=Uu=Yl=Nn=0,ws=sm=null,aw=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var v=31-Oe(f),_=1<<v;o|=r[v],f&=~_}return Po=o,Db(),u}function o2(r,o){he=null,Y.H=Jb,o===jg||o===Hb?(o=wI(),Ge=3):o===EI?(o=wI(),Ge=4):Ge=o===Tk?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Bs=o,ve===null&&(Nn=1,s0(r,ur(o,r.current)))}function l2(){var r=Y.H;return Y.H=Jb,r===null?Jb:r}function c2(){var r=Y.A;return Y.A=jV,r}function dw(){Nn=4,Kl||(Te&4194048)!==Te&&pr.current!==null||(Zd=!0),(Yl&134217727)===0&&(Uu&134217727)===0||fn===null||Zl(fn,Te,gr,!1)}function fw(r,o,u){var f=qe;qe|=2;var v=l2(),_=c2();(fn!==r||Te!==o)&&(h0=null,nf(r,o)),o=!1;var P=Nn;t:do try{if(Ge!==0&&ve!==null){var H=ve,X=Bs;switch(Ge){case 8:hw(),P=6;break t;case 3:case 2:case 9:case 6:pr.current===null&&(o=!0);var it=Ge;if(Ge=0,Bs=null,sf(r,H,X,it),u&&Zd){P=0;break t}break;default:it=Ge,Ge=0,Bs=null,sf(r,H,X,it)}}$V(),P=Nn;break}catch(pt){o2(r,pt)}while(!0);return o&&r.shellSuspendCounter++,So=Ou=null,qe=f,Y.H=v,Y.A=_,ve===null&&(fn=null,Te=0,Db()),P}function $V(){for(;ve!==null;)u2(ve)}function qV(r,o){var u=qe;qe|=2;var f=l2(),v=c2();fn!==r||Te!==o?(h0=null,u0=fe()+500,nf(r,o)):Zd=gn(r,o);t:do try{if(Ge!==0&&ve!==null){o=ve;var _=Bs;e:switch(Ge){case 1:Ge=0,Bs=null,sf(r,o,_,1);break;case 2:case 9:if(AI(_)){Ge=0,Bs=null,h2(o);break}o=function(){Ge!==2&&Ge!==9||fn!==r||(Ge=7),Ea(r)},_.then(o,o);break t;case 3:Ge=7;break t;case 4:Ge=5;break t;case 7:AI(_)?(Ge=0,Bs=null,h2(o)):(Ge=0,Bs=null,sf(r,o,_,7));break;case 5:var P=null;switch(ve.tag){case 26:P=ve.memoizedState;case 5:case 27:var H=ve;if(!P||G2(P)){Ge=0,Bs=null;var X=H.sibling;if(X!==null)ve=X;else{var it=H.return;it!==null?(ve=it,f0(it)):ve=null}break e}}Ge=0,Bs=null,sf(r,o,_,5);break;case 6:Ge=0,Bs=null,sf(r,o,_,6);break;case 8:hw(),Nn=6;break t;default:throw Error(n(462))}}GV();break}catch(pt){o2(r,pt)}while(!0);return So=Ou=null,Y.H=f,Y.A=v,qe=u,ve!==null?0:(fn=null,Te=0,Db(),Nn)}function GV(){for(;ve!==null&&!Wt();)u2(ve)}function u2(r){var o=Fk(r.alternate,r,Po);r.memoizedProps=r.pendingProps,o===null?f0(r):ve=o}function h2(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Pk(u,o,o.pendingProps,o.type,void 0,Te);break;case 11:o=Pk(u,o,o.pendingProps,o.type.render,o.ref,Te);break;case 5:RS(o);default:Uk(u,o),o=ve=dI(o,Po),o=Fk(u,o,Po)}r.memoizedProps=r.pendingProps,o===null?f0(r):ve=o}function sf(r,o,u,f){So=Ou=null,RS(o),Kd=null,Xg=0;var v=o.return;try{if(LV(r,v,o,u,Te)){Nn=1,s0(r,ur(u,r.current)),ve=null;return}}catch(_){if(v!==null)throw ve=v,_;Nn=1,s0(r,ur(u,r.current)),ve=null;return}o.flags&32768?(Le||f===1?r=!0:Zd||(Te&536870912)!==0?r=!1:(Kl=r=!0,(f===2||f===9||f===3||f===6)&&(f=pr.current,f!==null&&f.tag===13&&(f.flags|=16384))),d2(o,r)):f0(o)}function f0(r){var o=r;do{if((o.flags&32768)!==0){d2(o,Kl);return}r=o.return;var u=FV(o.alternate,o,Po);if(u!==null){ve=u;return}if(o=o.sibling,o!==null){ve=o;return}ve=o=r}while(o!==null);Nn===0&&(Nn=5)}function d2(r,o){do{var u=VV(r.alternate,r);if(u!==null){u.flags&=32767,ve=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){ve=r;return}ve=r=u}while(r!==null);Nn=6,ve=null}function f2(r,o,u,f,v,_,P,H,X){r.cancelPendingCommit=null;do p0();while(Fi!==0);if((qe&6)!==0)throw Error(n(327));if(o!==null){if(o===r.current)throw Error(n(177));if(_=o.lanes|o.childLanes,_|=iS,mg(r,u,_,P,H,X),r===fn&&(ve=fn=null,Te=0),tf=o,Ql=r,ef=u,lw=_,cw=v,i2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,XV(pe,function(){return v2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,v=Q.p,Q.p=2,P=qe,qe|=4;try{UV(r,o,u)}finally{qe=P,Q.p=v,Y.T=f}}Fi=1,p2(),g2(),m2()}}function p2(){if(Fi===1){Fi=0;var r=Ql,o=tf,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var f=Q.p;Q.p=2;var v=qe;qe|=4;try{Xk(o,r);var _=Tw,P=nI(r.containerInfo),H=_.focusedElem,X=_.selectionRange;if(P!==H&&H&&H.ownerDocument&&eI(H.ownerDocument.documentElement,H)){if(X!==null&&ZA(H)){var it=X.start,pt=X.end;if(pt===void 0&&(pt=it),"selectionStart"in H)H.selectionStart=it,H.selectionEnd=Math.min(pt,H.value.length);else{var mt=H.ownerDocument||document,ot=mt&&mt.defaultView||window;if(ot.getSelection){var lt=ot.getSelection(),Zt=H.textContent.length,$t=Math.min(X.start,Zt),sn=X.end===void 0?$t:Math.min(X.end,Zt);!lt.extend&&$t>sn&&(P=sn,sn=$t,$t=P);var J=tI(H,$t),Z=tI(H,sn);if(J&&Z&&(lt.rangeCount!==1||lt.anchorNode!==J.node||lt.anchorOffset!==J.offset||lt.focusNode!==Z.node||lt.focusOffset!==Z.offset)){var et=mt.createRange();et.setStart(J.node,J.offset),lt.removeAllRanges(),$t>sn?(lt.addRange(et),lt.extend(Z.node,Z.offset)):(et.setEnd(Z.node,Z.offset),lt.addRange(et))}}}}for(mt=[],lt=H;lt=lt.parentNode;)lt.nodeType===1&&mt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<mt.length;H++){var gt=mt[H];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}x0=!!ww,Tw=ww=null}finally{qe=v,Q.p=f,Y.T=u}}r.current=o,Fi=2}}function g2(){if(Fi===2){Fi=0;var r=Ql,o=tf,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var f=Q.p;Q.p=2;var v=qe;qe|=4;try{Gk(r,o.alternate,o)}finally{qe=v,Q.p=f,Y.T=u}}Fi=3}}function m2(){if(Fi===4||Fi===3){Fi=0,ue();var r=Ql,o=tf,u=ef,f=i2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fi=5:(Fi=0,tf=Ql=null,y2(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(Xl=null),_d(u),o=o.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(Re,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Y.T,v=Q.p,Q.p=2,Y.T=null;try{for(var _=r.onRecoverableError,P=0;P<f.length;P++){var H=f[P];_(H.value,{componentStack:H.stack})}}finally{Y.T=o,Q.p=v}}(ef&3)!==0&&p0(),Ea(r),v=r.pendingLanes,(u&4194090)!==0&&(v&42)!==0?r===uw?rm++:(rm=0,uw=r):rm=0,am(0)}}function y2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Ug(o)))}function p0(r){return p2(),g2(),m2(),v2()}function v2(){if(Fi!==5)return!1;var r=Ql,o=lw;lw=0;var u=_d(ef),f=Y.T,v=Q.p;try{Q.p=32>u?32:u,Y.T=null,u=cw,cw=null;var _=Ql,P=ef;if(Fi=0,tf=Ql=null,ef=0,(qe&6)!==0)throw Error(n(331));var H=qe;if(qe|=4,e2(_.current),Zk(_,_.current,P,u),qe=H,am(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(Re,_)}catch{}return!0}finally{Q.p=v,Y.T=f,y2(r,o)}}function b2(r,o,u){o=ur(u,o),o=zS(r.stateNode,o,2),r=jl(r,o,2),r!==null&&(lo(r,2),Ea(r))}function cn(r,o,u){if(r.tag===3)b2(r,r,u);else for(;o!==null;){if(o.tag===3){b2(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xl===null||!Xl.has(f))){r=ur(u,r),u=Sk(2),f=jl(o,u,2),f!==null&&(wk(u,f,o,r),lo(f,2),Ea(f));break}}o=o.return}}function pw(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new zV;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(u)||(sw=!0,v.add(u),r=WV.bind(null,r,o,u),o.then(r,r))}function WV(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,fn===r&&(Te&u)===u&&(Nn===4||Nn===3&&(Te&62914560)===Te&&300>fe()-ow?(qe&2)===0&&nf(r,0):rw|=u,Jd===Te&&(Jd=0)),Ea(r)}function _2(r,o){o===0&&(o=gg()),r=Vd(r,o),r!==null&&(lo(r,o),Ea(r))}function KV(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),_2(r,u)}function YV(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(o),_2(r,u)}function XV(r,o){return Ot(r,o)}var g0=null,rf=null,gw=!1,m0=!1,mw=!1,Bu=0;function Ea(r){r!==rf&&r.next===null&&(rf===null?g0=rf=r:rf=rf.next=r),m0=!0,gw||(gw=!0,ZV())}function am(r,o){if(!mw&&m0){mw=!0;do for(var u=!1,f=g0;f!==null;){if(r!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var P=f.suspendedLanes,H=f.pingedLanes;_=(1<<31-Oe(42|r)+1)-1,_&=v&~(P&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,w2(f,_))}else _=Te,_=Pe(f,f===fn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||gn(f,_)||(u=!0,w2(f,_));f=f.next}while(u);mw=!1}}function QV(){E2()}function E2(){m0=gw=!1;var r=0;Bu!==0&&(a6()&&(r=Bu),Bu=0);for(var o=fe(),u=null,f=g0;f!==null;){var v=f.next,_=A2(f,o);_===0?(f.next=null,u===null?g0=v:u.next=v,v===null&&(rf=u)):(u=f,(r!==0||(_&3)!==0)&&(m0=!0)),f=v}am(r)}function A2(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var P=31-Oe(_),H=1<<P,X=v[P];X===-1?((H&u)===0||(H&f)!==0)&&(v[P]=sr(H,o)):X<=o&&(r.expiredLanes|=H),_&=~H}if(o=fn,u=Te,u=Pe(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(Ge===2||Ge===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Pt(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||gn(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&Pt(f),_d(u)){case 2:case 8:u=$e;break;case 32:u=pe;break;case 268435456:u=oi;break;default:u=pe}return f=S2.bind(null,r),u=Ot(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&Pt(f),r.callbackPriority=2,r.callbackNode=null,2}function S2(r,o){if(Fi!==0&&Fi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(p0()&&r.callbackNode!==u)return null;var f=Te;return f=Pe(r,r===fn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(r2(r,f,o),A2(r,fe()),r.callbackNode!=null&&r.callbackNode===u?S2.bind(null,r):null)}function w2(r,o){if(p0())return null;r2(r,o,!0)}function ZV(){l6(function(){(qe&6)!==0?Ot(Ue,QV):E2()})}function yw(){return Bu===0&&(Bu=kl()),Bu}function T2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:xd(""+r)}function x2(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function JV(r,o,u,f,v){if(o==="submit"&&u&&u.stateNode===v){var _=T2((v[Xn]||null).action),P=f.submitter;P&&(o=(o=P[Xn]||null)?T2(o.formAction):P.getAttribute("formAction"),o!==null&&(_=o,P=null));var H=new Cd("action","action",null,f,v);r.push({event:H,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Bu!==0){var X=P?x2(v,P):new FormData(v);FS(u,{pending:!0,data:X,method:v.method,action:_},null,X)}}else typeof _=="function"&&(H.preventDefault(),X=P?x2(v,P):new FormData(v),FS(u,{pending:!0,data:X,method:v.method,action:_},_,X))},currentTarget:v}]})}}for(var vw=0;vw<nS.length;vw++){var bw=nS[vw],t6=bw.toLowerCase(),e6=bw[0].toUpperCase()+bw.slice(1);Or(t6,"on"+e6)}Or(rI,"onAnimationEnd"),Or(aI,"onAnimationIteration"),Or(oI,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(vV,"onTransitionRun"),Or(bV,"onTransitionStart"),Or(_V,"onTransitionCancel"),Or(lI,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var om="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(om));function C2(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],v=f.event;f=f.listeners;t:{var _=void 0;if(o)for(var P=f.length-1;0<=P;P--){var H=f[P],X=H.instance,it=H.currentTarget;if(H=H.listener,X!==_&&v.isPropagationStopped())break t;_=H,v.currentTarget=it;try{_(v)}catch(pt){i0(pt)}v.currentTarget=null,_=X}else for(P=0;P<f.length;P++){if(H=f[P],X=H.instance,it=H.currentTarget,H=H.listener,X!==_&&v.isPropagationStopped())break t;_=H,v.currentTarget=it;try{_(v)}catch(pt){i0(pt)}v.currentTarget=null,_=X}}}}function be(r,o){var u=o[vg];u===void 0&&(u=o[vg]=new Set);var f=r+"__bubble";u.has(f)||(R2(o,r,2,!1),u.add(f))}function _w(r,o,u){var f=0;o&&(f|=4),R2(u,r,f,o)}var y0="_reactListening"+Math.random().toString(36).slice(2);function Ew(r){if(!r[y0]){r[y0]=!0,bg.forEach(function(u){u!=="selectionchange"&&(n6.has(u)||_w(u,!1,r),_w(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[y0]||(o[y0]=!0,_w("selectionchange",!1,o))}}function R2(r,o,u,f){switch(Z2(o)){case 2:var v=I6;break;case 8:v=k6;break;default:v=Lw}u=v.bind(null,o,u,r),v=void 0,!lr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function Aw(r,o,u,f,v){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var P=f.tag;if(P===3||P===4){var H=f.stateNode.containerInfo;if(H===v)break;if(P===4)for(P=f.return;P!==null;){var X=P.tag;if((X===3||X===4)&&P.stateNode.containerInfo===v)return;P=P.return}for(;H!==null;){if(P=co(H),P===null)return;if(X=P.tag,X===5||X===6||X===26||X===27){f=_=P;continue t}H=H.parentNode}}f=f.return}bb(function(){var it=_,pt=or(u),mt=[];t:{var ot=cI.get(r);if(ot!==void 0){var lt=Cd,Zt=r;switch(r){case"keypress":if(da(u)===0)break t;case"keydown":case"keyup":lt=Od;break;case"focusin":Zt="focus",lt=kd;break;case"focusout":Zt="blur",lt=kd;break;case"beforeblur":case"afterblur":lt=kd;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=KA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Cb;break;case rI:case aI:case oI:lt=Pd;break;case lI:lt=Ib;break;case"scroll":case"scrollend":lt=_b;break;case"wheel":lt=Dd;break;case"copy":case"cut":case"paste":lt=Md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Pg;break;case"toggle":case"beforetoggle":lt=Pb}var $t=(o&4)!==0,sn=!$t&&(r==="scroll"||r==="scrollend"),J=$t?ot!==null?ot+"Capture":null:ot;$t=[];for(var Z=it,et;Z!==null;){var gt=Z;if(et=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||et===null||J===null||(gt=bu(Z,J),gt!=null&&$t.push(lm(Z,gt,et))),sn)break;Z=Z.return}0<$t.length&&(ot=new lt(ot,Zt,null,u,pt),mt.push({event:ot,listeners:$t}))}}if((o&7)===0){t:{if(ot=r==="mouseover"||r==="pointerover",lt=r==="mouseout"||r==="pointerout",ot&&u!==po&&(Zt=u.relatedTarget||u.fromElement)&&(co(Zt)||Zt[rr]))break t;if((lt||ot)&&(ot=pt.window===pt?pt:(ot=pt.ownerDocument)?ot.defaultView||ot.parentWindow:window,lt?(Zt=u.relatedTarget||u.toElement,lt=it,Zt=Zt?co(Zt):null,Zt!==null&&(sn=a(Zt),$t=Zt.tag,Zt!==sn||$t!==5&&$t!==27&&$t!==6)&&(Zt=null)):(lt=null,Zt=it),lt!==Zt)){if($t=cr,gt="onMouseLeave",J="onMouseEnter",Z="mouse",(r==="pointerout"||r==="pointerover")&&($t=Pg,gt="onPointerLeave",J="onPointerEnter",Z="pointer"),sn=lt==null?ot:la(lt),et=Zt==null?ot:la(Zt),ot=new $t(gt,Z+"leave",lt,u,pt),ot.target=sn,ot.relatedTarget=et,gt=null,co(pt)===it&&($t=new $t(J,Z+"enter",Zt,u,pt),$t.target=et,$t.relatedTarget=sn,gt=$t),sn=gt,lt&&Zt)e:{for($t=lt,J=Zt,Z=0,et=$t;et;et=af(et))Z++;for(et=0,gt=J;gt;gt=af(gt))et++;for(;0<Z-et;)$t=af($t),Z--;for(;0<et-Z;)J=af(J),et--;for(;Z--;){if($t===J||J!==null&&$t===J.alternate)break e;$t=af($t),J=af(J)}$t=null}else $t=null;lt!==null&&I2(mt,ot,lt,$t,!1),Zt!==null&&sn!==null&&I2(mt,sn,Zt,$t,!0)}}t:{if(ot=it?la(it):window,lt=ot.nodeName&&ot.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ot.type==="file")var Mt=KR;else if(ui(ot))if(YR)Mt=gV;else{Mt=fV;var ge=dV}else lt=ot.nodeName,!lt||lt.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?it&&wg(it.elementType)&&(Mt=KR):Mt=pV;if(Mt&&(Mt=Mt(r,it))){bo(mt,Mt,u,pt);break t}ge&&ge(r,ot,it),r==="focusout"&&it&&ot.type==="number"&&it.memoizedProps.value!=null&&Nl(ot,"number",ot.value)}switch(ge=it?la(it):window,r){case"focusin":(ui(ge)||ge.contentEditable==="true")&&(Ld=ge,JA=it,Dg=null);break;case"focusout":Dg=JA=Ld=null;break;case"mousedown":tS=!0;break;case"contextmenu":case"mouseup":case"dragend":tS=!1,iI(mt,u,pt);break;case"selectionchange":if(yV)break;case"keydown":case"keyup":iI(mt,u,pt)}var Ut;if(ga)t:{switch(r){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Se?ht(r,u)&&(Yt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Yt="onCompositionStart");Yt&&(I&&u.locale!=="ko"&&(Se||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Se&&(Ut=xg()):(ha=pt,Fl="value"in ha?ha.value:ha.textContent,Se=!0)),ge=v0(it,Yt),0<ge.length&&(Yt=new Ig(Yt,r,null,u,pt),mt.push({event:Yt,listeners:ge}),Ut?Yt.data=Ut:(Ut=St(u),Ut!==null&&(Yt.data=Ut)))),(Ut=w?ci(r,u):we(r,u))&&(Yt=v0(it,"onBeforeInput"),0<Yt.length&&(ge=new Ig("onBeforeInput","beforeinput",null,u,pt),mt.push({event:ge,listeners:Yt}),ge.data=Ut)),JV(mt,r,it,u,pt)}C2(mt,o)})}function lm(r,o,u){return{instance:r,listener:o,currentTarget:u}}function v0(r,o){for(var u=o+"Capture",f=[];r!==null;){var v=r,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=bu(r,u),v!=null&&f.unshift(lm(r,v,_)),v=bu(r,o),v!=null&&f.push(lm(r,v,_))),r.tag===3)return f;r=r.return}return[]}function af(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function I2(r,o,u,f,v){for(var _=o._reactName,P=[];u!==null&&u!==f;){var H=u,X=H.alternate,it=H.stateNode;if(H=H.tag,X!==null&&X===f)break;H!==5&&H!==26&&H!==27||it===null||(X=it,v?(it=bu(u,_),it!=null&&P.unshift(lm(u,it,X))):v||(it=bu(u,_),it!=null&&P.push(lm(u,it,X)))),u=u.return}P.length!==0&&r.push({event:o,listeners:P})}var i6=/\r\n?/g,s6=/\u0000|\uFFFD/g;function k2(r){return(typeof r=="string"?r:""+r).replace(i6,`
`).replace(s6,"")}function P2(r,o){return o=k2(o),k2(r)===o}function b0(){}function nn(r,o,u,f,v,_){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ar(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ar(r,""+f);break;case"className":ca(r,"class",f);break;case"tabIndex":ca(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(r,u,f);break;case"style":Sg(r,f,_);break;case"data":if(o!=="object"){ca(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=xd(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&nn(r,o,"name",v.name,v,null),nn(r,o,"formEncType",v.formEncType,v,null),nn(r,o,"formMethod",v.formMethod,v,null),nn(r,o,"formTarget",v.formTarget,v,null)):(nn(r,o,"encType",v.encType,v,null),nn(r,o,"method",v.method,v,null),nn(r,o,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=xd(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=b0);break;case"onScroll":f!=null&&be("scroll",r);break;case"onScrollEnd":f!=null&&be("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=xd(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":be("beforetoggle",r),be("toggle",r),Ll(r,"popover",f);break;case"xlinkActuate":Di(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Di(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Di(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Di(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Di(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Di(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Di(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Di(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Di(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ll(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=GA.get(u)||u,Ll(r,u,f))}}function Sw(r,o,u,f,v,_){switch(u){case"style":Sg(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof f=="string"?ar(r,f):(typeof f=="number"||typeof f=="bigint")&&ar(r,""+f);break;case"onScroll":f!=null&&be("scroll",r);break;case"onScrollEnd":f!=null&&be("scrollend",r);break;case"onClick":f!=null&&(r.onclick=b0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ed.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=r[Xn]||null,_=_!=null?_[u]:null,typeof _=="function"&&r.removeEventListener(o,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,v);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Ll(r,u,f)}}}function Vi(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",r),be("load",r);var f=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var P=u[_];if(P!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:nn(r,o,_,P,u,null)}}v&&nn(r,o,"srcSet",u.srcSet,u,null),f&&nn(r,o,"src",u.src,u,null);return;case"input":be("invalid",r);var H=_=P=v=null,X=null,it=null;for(f in u)if(u.hasOwnProperty(f)){var pt=u[f];if(pt!=null)switch(f){case"name":v=pt;break;case"type":P=pt;break;case"checked":X=pt;break;case"defaultChecked":it=pt;break;case"value":_=pt;break;case"defaultValue":H=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,o));break;default:nn(r,o,f,pt,u,null)}}mu(r,_,H,X,it,P,v,!1),Td(r);return;case"select":be("invalid",r),f=P=_=null;for(v in u)if(u.hasOwnProperty(v)&&(H=u[v],H!=null))switch(v){case"value":_=H;break;case"defaultValue":P=H;break;case"multiple":f=H;default:nn(r,o,v,H,u,null)}o=_,u=P,r.multiple=!!f,o!=null?fo(r,!!f,o,!1):u!=null&&fo(r,!!f,u,!0);return;case"textarea":be("invalid",r),_=v=f=null;for(P in u)if(u.hasOwnProperty(P)&&(H=u[P],H!=null))switch(P){case"value":f=H;break;case"defaultValue":v=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:nn(r,o,P,H,u,null)}yu(r,f,v,_),Td(r);return;case"option":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:nn(r,o,X,f,u,null)}return;case"dialog":be("beforetoggle",r),be("toggle",r),be("cancel",r),be("close",r);break;case"iframe":case"object":be("load",r);break;case"video":case"audio":for(f=0;f<om.length;f++)be(om[f],r);break;case"image":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"embed":case"source":case"link":be("error",r),be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in u)if(u.hasOwnProperty(it)&&(f=u[it],f!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:nn(r,o,it,f,u,null)}return;default:if(wg(o)){for(pt in u)u.hasOwnProperty(pt)&&(f=u[pt],f!==void 0&&Sw(r,o,pt,f,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(f=u[H],f!=null&&nn(r,o,H,f,u,null))}function r6(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,P=null,H=null,X=null,it=null,pt=null;for(lt in u){var mt=u[lt];if(u.hasOwnProperty(lt)&&mt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":X=mt;default:f.hasOwnProperty(lt)||nn(r,o,lt,null,f,mt)}}for(var ot in f){var lt=f[ot];if(mt=u[ot],f.hasOwnProperty(ot)&&(lt!=null||mt!=null))switch(ot){case"type":_=lt;break;case"name":v=lt;break;case"checked":it=lt;break;case"defaultChecked":pt=lt;break;case"value":P=lt;break;case"defaultValue":H=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,o));break;default:lt!==mt&&nn(r,o,ot,lt,f,mt)}}Ls(r,P,H,X,it,pt,_,v);return;case"select":lt=P=H=ot=null;for(_ in u)if(X=u[_],u.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":lt=X;default:f.hasOwnProperty(_)||nn(r,o,_,null,f,X)}for(v in f)if(_=f[v],X=u[v],f.hasOwnProperty(v)&&(_!=null||X!=null))switch(v){case"value":ot=_;break;case"defaultValue":H=_;break;case"multiple":P=_;default:_!==X&&nn(r,o,v,_,f,X)}o=H,u=P,f=lt,ot!=null?fo(r,!!u,ot,!1):!!f!=!!u&&(o!=null?fo(r,!!u,o,!0):fo(r,!!u,u?[]:"",!1));return;case"textarea":lt=ot=null;for(H in u)if(v=u[H],u.hasOwnProperty(H)&&v!=null&&!f.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:nn(r,o,H,null,f,v)}for(P in f)if(v=f[P],_=u[P],f.hasOwnProperty(P)&&(v!=null||_!=null))switch(P){case"value":ot=v;break;case"defaultValue":lt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==_&&nn(r,o,P,v,f,_)}tn(r,ot,lt);return;case"option":for(var Zt in u)if(ot=u[Zt],u.hasOwnProperty(Zt)&&ot!=null&&!f.hasOwnProperty(Zt))switch(Zt){case"selected":r.selected=!1;break;default:nn(r,o,Zt,null,f,ot)}for(X in f)if(ot=f[X],lt=u[X],f.hasOwnProperty(X)&&ot!==lt&&(ot!=null||lt!=null))switch(X){case"selected":r.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:nn(r,o,X,ot,f,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in u)ot=u[$t],u.hasOwnProperty($t)&&ot!=null&&!f.hasOwnProperty($t)&&nn(r,o,$t,null,f,ot);for(it in f)if(ot=f[it],lt=u[it],f.hasOwnProperty(it)&&ot!==lt&&(ot!=null||lt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,o));break;default:nn(r,o,it,ot,f,lt)}return;default:if(wg(o)){for(var sn in u)ot=u[sn],u.hasOwnProperty(sn)&&ot!==void 0&&!f.hasOwnProperty(sn)&&Sw(r,o,sn,void 0,f,ot);for(pt in f)ot=f[pt],lt=u[pt],!f.hasOwnProperty(pt)||ot===lt||ot===void 0&&lt===void 0||Sw(r,o,pt,ot,f,lt);return}}for(var J in u)ot=u[J],u.hasOwnProperty(J)&&ot!=null&&!f.hasOwnProperty(J)&&nn(r,o,J,null,f,ot);for(mt in f)ot=f[mt],lt=u[mt],!f.hasOwnProperty(mt)||ot===lt||ot==null&&lt==null||nn(r,o,mt,ot,f,lt)}var ww=null,Tw=null;function _0(r){return r.nodeType===9?r:r.ownerDocument}function M2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O2(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function xw(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cw=null;function a6(){var r=window.event;return r&&r.type==="popstate"?r===Cw?!1:(Cw=r,!0):(Cw=null,!1)}var D2=typeof setTimeout=="function"?setTimeout:void 0,o6=typeof clearTimeout=="function"?clearTimeout:void 0,L2=typeof Promise=="function"?Promise:void 0,l6=typeof queueMicrotask=="function"?queueMicrotask:typeof L2<"u"?function(r){return L2.resolve(null).then(r).catch(c6)}:D2;function c6(r){setTimeout(function(){throw r})}function Jl(r){return r==="head"}function N2(r,o){var u=o,f=0,v=0;do{var _=u.nextSibling;if(r.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<f&&8>f){u=f;var P=r.ownerDocument;if(u&1&&cm(P.documentElement),u&2&&cm(P.body),u&4)for(u=P.head,cm(u),P=u.firstChild;P;){var H=P.nextSibling,X=P.nodeName;P[du]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&P.rel.toLowerCase()==="stylesheet"||u.removeChild(P),P=H}}if(v===0){r.removeChild(_),ym(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=_}while(u);ym(o)}function Rw(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Rw(u),Dl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function u6(r,o,u,f){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[du])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Lr(r.nextSibling),r===null)break}return null}function h6(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Lr(r.nextSibling),r===null))return null;return r}function Iw(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function d6(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Lr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var kw=null;function F2(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function V2(r,o,u){switch(o=_0(u),r){case"html":if(r=o.documentElement,!r)throw Error(n(452));return r;case"head":if(r=o.head,!r)throw Error(n(453));return r;case"body":if(r=o.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function cm(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Dl(r)}var mr=new Map,U2=new Set;function E0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Mo=Q.d;Q.d={f:f6,r:p6,D:g6,C:m6,L:y6,m:v6,X:_6,S:b6,M:E6};function f6(){var r=Mo.f(),o=d0();return r||o}function p6(r){var o=oa(r);o!==null&&o.tag===5&&o.type==="form"?rk(o):Mo.r(r)}var of=typeof document>"u"?null:document;function B2(r,o,u){var f=of;if(f&&typeof o=="string"&&o){var v=Qn(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),U2.has(v)||(U2.add(v),r={rel:r,crossOrigin:u,href:o},f.querySelector(v)===null&&(o=f.createElement("link"),Vi(o,"link",r),jn(o),f.head.appendChild(o)))}}function g6(r){Mo.D(r),B2("dns-prefetch",r,null)}function m6(r,o){Mo.C(r,o),B2("preconnect",r,o)}function y6(r,o,u){Mo.L(r,o,u);var f=of;if(f&&r&&o){var v='link[rel="preload"][as="'+Qn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Qn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Qn(u.imageSizes)+'"]')):v+='[href="'+Qn(r)+'"]';var _=v;switch(o){case"style":_=lf(r);break;case"script":_=cf(r)}mr.has(_)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),mr.set(_,r),f.querySelector(v)!==null||o==="style"&&f.querySelector(um(_))||o==="script"&&f.querySelector(hm(_))||(o=f.createElement("link"),Vi(o,"link",r),jn(o),f.head.appendChild(o)))}}function v6(r,o){Mo.m(r,o);var u=of;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Qn(f)+'"][href="'+Qn(r)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=cf(r)}if(!mr.has(_)&&(r=p({rel:"modulepreload",href:r},o),mr.set(_,r),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hm(_)))return}f=u.createElement("link"),Vi(f,"link",r),jn(f),u.head.appendChild(f)}}}function b6(r,o,u){Mo.S(r,o,u);var f=of;if(f&&r){var v=hs(f).hoistableStyles,_=lf(r);o=o||"default";var P=v.get(_);if(!P){var H={loading:0,preload:null};if(P=f.querySelector(um(_)))H.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=mr.get(_))&&Pw(r,u);var X=P=f.createElement("link");jn(X),Vi(X,"link",r),X._p=new Promise(function(it,pt){X.onload=it,X.onerror=pt}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,A0(P,o,f)}P={type:"stylesheet",instance:P,count:1,state:H},v.set(_,P)}}}function _6(r,o){Mo.X(r,o);var u=of;if(u&&r){var f=hs(u).hoistableScripts,v=cf(r),_=f.get(v);_||(_=u.querySelector(hm(v)),_||(r=p({src:r,async:!0},o),(o=mr.get(v))&&Mw(r,o),_=u.createElement("script"),jn(_),Vi(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function E6(r,o){Mo.M(r,o);var u=of;if(u&&r){var f=hs(u).hoistableScripts,v=cf(r),_=f.get(v);_||(_=u.querySelector(hm(v)),_||(r=p({src:r,async:!0,type:"module"},o),(o=mr.get(v))&&Mw(r,o),_=u.createElement("script"),jn(_),Vi(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function j2(r,o,u,f){var v=(v=Et.current)?E0(v):null;if(!v)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=lf(u.href),u=hs(v).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=lf(u.href);var _=hs(v).hoistableStyles,P=_.get(r);if(P||(v=v.ownerDocument||v,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,P),(_=v.querySelector(um(r)))&&!_._p&&(P.instance=_,P.state.loading=5),mr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mr.set(r,u),_||A6(v,r,u,P.state))),o&&f===null)throw Error(n(528,""));return P}if(o&&f!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cf(u),u=hs(v).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function lf(r){return'href="'+Qn(r)+'"'}function um(r){return'link[rel="stylesheet"]['+r+"]"}function z2(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function A6(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Vi(o,"link",u),jn(o),r.head.appendChild(o))}function cf(r){return'[src="'+Qn(r)+'"]'}function hm(r){return"script[async]"+r}function H2(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Qn(u.href)+'"]');if(f)return o.instance=f,jn(f),f;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),jn(f),Vi(f,"style",v),A0(f,u.precedence,r),o.instance=f;case"stylesheet":v=lf(u.href);var _=r.querySelector(um(v));if(_)return o.state.loading|=4,o.instance=_,jn(_),_;f=z2(u),(v=mr.get(v))&&Pw(f,v),_=(r.ownerDocument||r).createElement("link"),jn(_);var P=_;return P._p=new Promise(function(H,X){P.onload=H,P.onerror=X}),Vi(_,"link",f),o.state.loading|=4,A0(_,u.precedence,r),o.instance=_;case"script":return _=cf(u.src),(v=r.querySelector(hm(_)))?(o.instance=v,jn(v),v):(f=u,(v=mr.get(_))&&(f=p({},u),Mw(f,v)),r=r.ownerDocument||r,v=r.createElement("script"),jn(v),Vi(v,"link",f),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,A0(f,u.precedence,r));return o.instance}function A0(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,P=0;P<f.length;P++){var H=f[P];if(H.dataset.precedence===o)_=H;else if(_!==v)break}_?_.parentNode.insertBefore(r,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Pw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Mw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var S0=null;function $2(r,o,u){if(S0===null){var f=new Map,v=S0=new Map;v.set(u,f)}else v=S0,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var _=u[v];if(!(_[du]||_[li]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(o)||"";P=r+P;var H=f.get(P);H?H.push(_):f.set(P,[_])}}return f}function q2(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function S6(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function G2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var dm=null;function w6(){}function T6(r,o,u){if(dm===null)throw Error(n(475));var f=dm;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=lf(u.href),_=r.querySelector(um(v));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=w0.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=_,jn(_);return}_=r.ownerDocument||r,u=z2(u),(v=mr.get(v))&&Pw(u,v),_=_.createElement("link"),jn(_);var P=_;P._p=new Promise(function(H,X){P.onload=H,P.onerror=X}),Vi(_,"link",u),o.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=w0.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function x6(){if(dm===null)throw Error(n(475));var r=dm;return r.stylesheets&&r.count===0&&Ow(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&Ow(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function w0(){if(this.count--,this.count===0){if(this.stylesheets)Ow(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var T0=null;function Ow(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,T0=new Map,o.forEach(C6,r),T0=null,w0.call(r))}function C6(r,o){if(!(o.state.loading&4)){var u=T0.get(r);if(u)var f=u.get(null);else{u=new Map,T0.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var P=v[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),f=P)}f&&u.set(null,f)}v=o.instance,P=v.getAttribute("data-precedence"),_=u.get(P)||f,_===f&&u.set(null,v),u.set(P,v),this.count++,f=w0.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var fm={$$typeof:k,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function R6(r,o,u,f,v,_,P,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function W2(r,o,u,f,v,_,P,H,X,it,pt,mt){return r=new R6(r,o,u,P,H,X,it,mt),o=1,_===!0&&(o|=24),_=Fs(3,null,null,o),r.current=_,_.stateNode=r,o=pS(),o.refCount++,r.pooledCache=o,o.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:o},vS(_),r}function K2(r){return r?(r=Ud,r):Ud}function Y2(r,o,u,f,v,_){v=K2(v),f.context===null?f.context=v:f.pendingContext=v,f=Bl(o),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=jl(r,f,o),u!==null&&(zs(u,r,o),Hg(u,r,o))}function X2(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Dw(r,o){X2(r,o),(r=r.alternate)&&X2(r,o)}function Q2(r){if(r.tag===13){var o=Vd(r,67108864);o!==null&&zs(o,r,67108864),Dw(r,67108864)}}var x0=!0;function I6(r,o,u,f){var v=Y.T;Y.T=null;var _=Q.p;try{Q.p=2,Lw(r,o,u,f)}finally{Q.p=_,Y.T=v}}function k6(r,o,u,f){var v=Y.T;Y.T=null;var _=Q.p;try{Q.p=8,Lw(r,o,u,f)}finally{Q.p=_,Y.T=v}}function Lw(r,o,u,f){if(x0){var v=Nw(f);if(v===null)Aw(r,o,f,C0,u),J2(r,f);else if(M6(v,r,o,u,f))f.stopPropagation();else if(J2(r,f),o&4&&-1<P6.indexOf(r)){for(;v!==null;){var _=oa(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=Lt(_.pendingLanes);if(P!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;P;){var X=1<<31-Oe(P);H.entanglements[1]|=X,P&=~X}Ea(_),(qe&6)===0&&(u0=fe()+500,am(0))}}break;case 13:H=Vd(_,2),H!==null&&zs(H,_,2),d0(),Dw(_,2)}if(_=Nw(f),_===null&&Aw(r,o,f,C0,u),_===v)break;v=_}v!==null&&f.stopPropagation()}else Aw(r,o,f,null,u)}}function Nw(r){return r=or(r),Fw(r)}var C0=null;function Fw(r){if(C0=null,r=co(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return C0=r,null}function Z2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Ue:return 2;case $e:return 8;case pe:case Dt:return 32;case oi:return 268435456;default:return 32}default:return 32}}var Vw=!1,tc=null,ec=null,nc=null,pm=new Map,gm=new Map,ic=[],P6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J2(r,o){switch(r){case"focusin":case"focusout":tc=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":nc=null;break;case"pointerover":case"pointerout":pm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(o.pointerId)}}function mm(r,o,u,f,v,_){return r===null||r.nativeEvent!==_?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},o!==null&&(o=oa(o),o!==null&&Q2(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function M6(r,o,u,f,v){switch(o){case"focusin":return tc=mm(tc,r,o,u,f,v),!0;case"dragenter":return ec=mm(ec,r,o,u,f,v),!0;case"mouseover":return nc=mm(nc,r,o,u,f,v),!0;case"pointerover":var _=v.pointerId;return pm.set(_,mm(pm.get(_)||null,r,o,u,f,v)),!0;case"gotpointercapture":return _=v.pointerId,gm.set(_,mm(gm.get(_)||null,r,o,u,f,v)),!0}return!1}function tP(r){var o=co(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,db(r.priority,function(){if(u.tag===13){var f=js();f=Pl(f);var v=Vd(u,f);v!==null&&zs(v,u,f),Dw(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function R0(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Nw(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);po=f,u.target.dispatchEvent(f),po=null}else return o=oa(u),o!==null&&Q2(o),r.blockedOn=u,!1;o.shift()}return!0}function eP(r,o,u){R0(r)&&u.delete(o)}function O6(){Vw=!1,tc!==null&&R0(tc)&&(tc=null),ec!==null&&R0(ec)&&(ec=null),nc!==null&&R0(nc)&&(nc=null),pm.forEach(eP),gm.forEach(eP)}function I0(r,o){r.blockedOn===o&&(r.blockedOn=null,Vw||(Vw=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,O6)))}var k0=null;function nP(r){k0!==r&&(k0=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){k0===r&&(k0=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],v=r[o+2];if(typeof f!="function"){if(Fw(f||u)===null)continue;break}var _=oa(u);_!==null&&(r.splice(o,3),o-=3,FS(_,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function ym(r){function o(X){return I0(X,r)}tc!==null&&I0(tc,r),ec!==null&&I0(ec,r),nc!==null&&I0(nc,r),pm.forEach(o),gm.forEach(o);for(var u=0;u<ic.length;u++){var f=ic[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ic.length&&(u=ic[0],u.blockedOn===null);)tP(u),u.blockedOn===null&&ic.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],_=u[f+1],P=v[Xn]||null;if(typeof _=="function")P||nP(u);else if(P){var H=null;if(_&&_.hasAttribute("formAction")){if(v=_,P=_[Xn]||null)H=P.formAction;else if(Fw(v)!==null)continue}else H=P.action;typeof H=="function"?u[f+1]=H:(u.splice(f,3),f-=3),nP(u)}}}function Uw(r){this._internalRoot=r}P0.prototype.render=Uw.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,f=js();Y2(u,f,r,o,null,null)},P0.prototype.unmount=Uw.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Y2(r.current,2,null,r,null,null),d0(),o[rr]=null}};function P0(r){this._internalRoot=r}P0.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ml();r={blockedOn:null,target:r,priority:o};for(var u=0;u<ic.length&&o!==0&&o<ic[u].priority;u++);ic.splice(u,0,r),u===0&&tP(r)}};var iP=t.version;if(iP!=="19.1.0")throw Error(n(527,iP,"19.1.0"));Q.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var D6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{Re=M0.inject(D6),ee=M0}catch{}}return bm.createRoot=function(r,o){if(!s(r))throw Error(n(299));var u=!1,f="",v=bk,_=_k,P=Ek,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks)),o=W2(r,1,!1,null,null,u,f,v,_,P,H,null),r[rr]=o.current,Ew(r),new Uw(o)},bm.hydrateRoot=function(r,o,u){if(!s(r))throw Error(n(299));var f=!1,v="",_=bk,P=_k,H=Ek,X=null,it=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks),u.formState!==void 0&&(it=u.formState)),o=W2(r,1,!0,o,u??null,f,v,_,P,H,X,it),o.context=K2(null),u=o.current,f=js(),f=Pl(f),v=Bl(f),v.callback=null,jl(u,v,f),u=f,o.current.lanes=u,lo(o,u),Ea(o),r[rr]=o.current,Ew(r),new P0(o)},bm.version="19.1.0",bm}var pP;function G6(){if(pP)return Hw.exports;pP=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hw.exports=q6(),Hw.exports}var W6=G6(),_m={},gP;function K6(){if(gP)return _m;gP=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.parse=l,_m.serialize=d;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,E){const A=new a,S=b.length;if(S<2)return A;const C=(E==null?void 0:E.decode)||p;let x=0;do{const F=b.indexOf("=",x);if(F===-1)break;const k=b.indexOf(";",x),D=k===-1?S:k;if(F>D){x=b.lastIndexOf(";",F-1)+1;continue}const U=c(b,x,F),W=h(b,F,U),L=b.slice(U,W);if(A[L]===void 0){let R=c(b,F+1,D),N=h(b,D,R);const T=C(b.slice(R,N));A[L]=T}x=D+1}while(x<S);return A}function c(b,E,A){do{const S=b.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<A);return A}function h(b,E,A){for(;E>A;){const S=b.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return A}function d(b,E,A){const S=(A==null?void 0:A.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=S(E);if(!t.test(C))throw new TypeError(`argument val is invalid: ${E}`);let x=b+"="+C;if(!A)return x;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);x+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);x+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);x+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);x+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(x+="; HttpOnly"),A.secure&&(x+="; Secure"),A.partitioned&&(x+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return x}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return _m}K6();var mP="popstate";function Y6(i={}){function t(n,s){let{pathname:a,search:l,hash:c}=n.location;return LT("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(n,s){return typeof s=="string"?s:hy(s)}return Q6(t,e,null,i)}function Pn(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function to(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X6(){return Math.random().toString(36).substring(2,10)}function yP(i,t){return{usr:i.state,key:i.key,idx:t}}function LT(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?ng(t):t,state:e,key:t&&t.key||n||X6()}}function hy({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function ng(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function Q6(i,t,e,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let C=p(),x=C==null?null:C-d;d=C,h&&h({action:c,location:S.location,delta:x})}function b(C,x){c="PUSH";let F=LT(S.location,C,x);d=p()+1;let k=yP(F,d),D=S.createHref(F);try{l.pushState(k,"",D)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(D)}a&&h&&h({action:c,location:S.location,delta:1})}function E(C,x){c="REPLACE";let F=LT(S.location,C,x);d=p();let k=yP(F,d),D=S.createHref(F);l.replaceState(k,"",D),a&&h&&h({action:c,location:S.location,delta:0})}function A(C){return Z6(C)}let S={get action(){return c},get location(){return i(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(mP,y),h=C,()=>{s.removeEventListener(mP,y),h=null}},createHref(C){return t(s,C)},createURL:A,encodeLocation(C){let x=A(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:E,go(C){return l.go(C)}};return S}function Z6(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Pn(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:hy(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function QD(i,t,e="/"){return J6(i,t,e,!1)}function J6(i,t,e,n){let s=typeof t=="string"?ng(t):t,a=yl(s.pathname||"/",e);if(a==null)return null;let l=ZD(i);tU(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=hU(a);c=cU(l[h],d,n)}return c}function ZD(i,t=[],e=[],n=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Pn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=fl([n,h.relativePath]),p=e.concat(h);a.children&&a.children.length>0&&(Pn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ZD(a.children,t,p,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:oU(d,a.index),routesMeta:p})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of JD(a.path))s(a,l,h)}),t}function JD(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=JD(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function tU(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:lU(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var eU=/^:[\w-]+$/,nU=3,iU=2,sU=1,rU=10,aU=-2,vP=i=>i==="*";function oU(i,t){let e=i.split("/"),n=e.length;return e.some(vP)&&(n+=aU),t&&(n+=iU),e.filter(s=>!vP(s)).reduce((s,a)=>s+(eU.test(a)?nU:a===""?sU:rU),n)}function lU(i,t){return i.length===t.length&&i.slice(0,-1).every((n,s)=>n===t[s])?i[i.length-1]-t[t.length-1]:0}function cU(i,t,e=!1){let{routesMeta:n}=i,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=K_({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),b=h.route;if(!y&&d&&e&&!n[n.length-1].route.index&&(y=K_({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:fl([a,y.pathname]),pathnameBase:gU(fl([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=fl([a,y.pathnameBase]))}return l}function K_(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=uU(i.path,i.caseSensitive,i.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:y},b)=>{if(p==="*"){let A=c[b]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[b];return y&&!E?d[p]=void 0:d[p]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:i}}function uU(i,t=!1,e=!0){to(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function hU(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return to(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function yl(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function dU(i,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof i=="string"?ng(i):i;return{pathname:e?e.startsWith("/")?e:fU(e,t):t,search:mU(n),hash:yU(s)}}function fU(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Ww(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pU(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tL(i){let t=pU(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function eL(i,t,e,n=!1){let s;typeof i=="string"?s=ng(i):(s={...i},Pn(!s.pathname||!s.pathname.includes("?"),Ww("?","pathname","search",s)),Pn(!s.pathname||!s.pathname.includes("#"),Ww("#","pathname","hash",s)),Pn(!s.search||!s.search.includes("#"),Ww("#","search","hash",s)));let a=i===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=e;else{let y=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?t[y]:"/"}let h=dU(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var fl=i=>i.join("/").replace(/\/\/+/g,"/"),gU=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),mU=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,yU=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function vU(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var nL=["POST","PUT","PATCH","DELETE"];new Set(nL);var bU=["GET",...nL];new Set(bU);var ig=M.createContext(null);ig.displayName="DataRouter";var GE=M.createContext(null);GE.displayName="DataRouterState";var iL=M.createContext({isTransitioning:!1});iL.displayName="ViewTransition";var _U=M.createContext(new Map);_U.displayName="Fetchers";var EU=M.createContext(null);EU.displayName="Await";var io=M.createContext(null);io.displayName="Navigation";var Uv=M.createContext(null);Uv.displayName="Location";var Rl=M.createContext({outlet:null,matches:[],isDataRoute:!1});Rl.displayName="Route";var tC=M.createContext(null);tC.displayName="RouteError";function AU(i,{relative:t}={}){Pn(Bv(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=M.useContext(io),{hash:s,pathname:a,search:l}=jv(i,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:fl([e,a])),n.createHref({pathname:c,search:l,hash:s})}function Bv(){return M.useContext(Uv)!=null}function dd(){return Pn(Bv(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Uv).location}var sL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rL(i){M.useContext(io).static||M.useLayoutEffect(i)}function sg(){let{isDataRoute:i}=M.useContext(Rl);return i?LU():SU()}function SU(){Pn(Bv(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(ig),{basename:t,navigator:e}=M.useContext(io),{matches:n}=M.useContext(Rl),{pathname:s}=dd(),a=JSON.stringify(tL(n)),l=M.useRef(!1);return rL(()=>{l.current=!0}),M.useCallback((h,d={})=>{if(to(l.current,sL),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=eL(h,JSON.parse(a),s,d.relative==="path");i==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fl([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,a,s,i])}M.createContext(null);function jv(i,{relative:t}={}){let{matches:e}=M.useContext(Rl),{pathname:n}=dd(),s=JSON.stringify(tL(e));return M.useMemo(()=>eL(i,JSON.parse(s),n,t==="path"),[i,s,n,t])}function wU(i,t){return aL(i,t)}function aL(i,t,e,n){var x;Pn(Bv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(io),{matches:a}=M.useContext(Rl),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let F=p&&p.path||"";oL(h,!p||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let y=dd(),b;if(t){let F=typeof t=="string"?ng(t):t;Pn(d==="/"||((x=F.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${F.pathname}" was given in the \`location\` prop.`),b=F}else b=y;let E=b.pathname||"/",A=E;if(d!=="/"){let F=d.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let S=QD(i,{pathname:A});to(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),to(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=IU(S&&S.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:fl([d,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?d:fl([d,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,e,n);return t&&C?M.createElement(Uv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function TU(){let i=DU(),t=vU(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:s},e):null,l)}var xU=M.createElement(TU,null),CU=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?M.createElement(Rl.Provider,{value:this.props.routeContext},M.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RU({routeContext:i,match:t,children:e}){let n=M.useContext(ig);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Rl.Provider,{value:i},e)}function IU(i,t=[],e=null,n=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let s=i,a=e==null?void 0:e.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Pn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(e)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=e,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let y,b=!1,E=null,A=null;e&&(y=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||xU,l&&(c<0&&p===0?(oL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):c===p&&(b=!0,A=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),C=()=>{let x;return y?x=E:b?x=A:d.route.Component?x=M.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,M.createElement(RU,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:e!=null},children:x})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?M.createElement(CU,{location:e.location,revalidation:e.revalidation,component:E,error:y,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function eC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kU(i){let t=M.useContext(ig);return Pn(t,eC(i)),t}function PU(i){let t=M.useContext(GE);return Pn(t,eC(i)),t}function MU(i){let t=M.useContext(Rl);return Pn(t,eC(i)),t}function nC(i){let t=MU(i),e=t.matches[t.matches.length-1];return Pn(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function OU(){return nC("useRouteId")}function DU(){var n;let i=M.useContext(tC),t=PU("useRouteError"),e=nC("useRouteError");return i!==void 0?i:(n=t.errors)==null?void 0:n[e]}function LU(){let{router:i}=kU("useNavigate"),t=nC("useNavigate"),e=M.useRef(!1);return rL(()=>{e.current=!0}),M.useCallback(async(s,a={})=>{to(e.current,sL),e.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:t,...a}))},[i,t])}var bP={};function oL(i,t,e){!t&&!bP[i]&&(bP[i]=!0,to(!1,e))}M.memo(NU);function NU({routes:i,future:t,state:e}){return aL(i,void 0,e,t)}function $u(i){Pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FU({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:a=!1}){Pn(!Bv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=ng(e));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:b="default"}=e,E=M.useMemo(()=>{let A=yl(h,l);return A==null?null:{location:{pathname:A,search:d,hash:p,state:y,key:b},navigationType:n}},[l,h,d,p,y,b,n]);return to(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:M.createElement(io.Provider,{value:c},M.createElement(Uv.Provider,{children:t,value:E}))}function VU({children:i,location:t}){return wU(NT(i),t)}function NT(i,t=[]){let e=[];return M.Children.forEach(i,(n,s)=>{if(!M.isValidElement(n))return;let a=[...t,s];if(n.type===M.Fragment){e.push.apply(e,NT(n.props.children,a));return}Pn(n.type===$u,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=NT(n.props.children,a)),e.push(l)}),e}var n_="get",i_="application/x-www-form-urlencoded";function WE(i){return i!=null&&typeof i.tagName=="string"}function UU(i){return WE(i)&&i.tagName.toLowerCase()==="button"}function BU(i){return WE(i)&&i.tagName.toLowerCase()==="form"}function jU(i){return WE(i)&&i.tagName.toLowerCase()==="input"}function zU(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function HU(i,t){return i.button===0&&(!t||t==="_self")&&!zU(i)}var O0=null;function $U(){if(O0===null)try{new FormData(document.createElement("form"),0),O0=!1}catch{O0=!0}return O0}var qU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kw(i){return i!=null&&!qU.has(i)?(to(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${i_}"`),null):i}function GU(i,t){let e,n,s,a,l;if(BU(i)){let c=i.getAttribute("action");n=c?yl(c,t):null,e=i.getAttribute("method")||n_,s=Kw(i.getAttribute("enctype"))||i_,a=new FormData(i)}else if(UU(i)||jU(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?yl(h,t):null,e=i.getAttribute("formmethod")||c.getAttribute("method")||n_,s=Kw(i.getAttribute("formenctype"))||Kw(c.getAttribute("enctype"))||i_,a=new FormData(c,i),!$U()){let{name:d,type:p,value:y}=i;if(p==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,y)}}else{if(WE(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=n_,n=null,s=i_,l=i}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:a,body:l}}function iC(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function WU(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KU(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function YU(i,t,e){let n=await Promise.all(i.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await WU(a,e);return l.links?l.links():[]}return[]}));return JU(n.flat(1).filter(KU).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _P(i,t,e,n,s,a){let l=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,c=(h,d)=>{var p;return e[d].pathname!==h.pathname||((p=e[d].route.path)==null?void 0:p.endsWith("*"))&&e[d].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?t.filter((h,d)=>{var y;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XU(i,t,{includeHydrateFallback:e}={}){return QU(i.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function QU(i){return[...new Set(i)]}function ZU(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function JU(i,t){let e=new Set;return new Set(t),i.reduce((n,s)=>{let a=JSON.stringify(ZU(s));return e.has(a)||(e.add(a),n.push({key:a,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tB=new Set([100,101,204,205]);function eB(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&yl(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lL(){let i=M.useContext(ig);return iC(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nB(){let i=M.useContext(GE);return iC(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var sC=M.createContext(void 0);sC.displayName="FrameworkContext";function cL(){let i=M.useContext(sC);return iC(i,"You must render this element inside a <HydratedRouter> element"),i}function iB(i,t){let e=M.useContext(sC),[n,s]=M.useState(!1),[a,l]=M.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,b=M.useRef(null);M.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let S=x=>{x.forEach(F=>{l(F.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[i]),M.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let E=()=>{s(!0)},A=()=>{s(!1),l(!1)};return e?i!=="intent"?[a,b,{}]:[a,b,{onFocus:Em(c,E),onBlur:Em(h,A),onMouseEnter:Em(d,E),onMouseLeave:Em(p,A),onTouchStart:Em(y,E)}]:[!1,b,{}]}function Em(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function sB({page:i,...t}){let{router:e}=lL(),n=M.useMemo(()=>QD(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?M.createElement(aB,{page:i,matches:n,...t}):null}function rB(i){let{manifest:t,routeModules:e}=cL(),[n,s]=M.useState([]);return M.useEffect(()=>{let a=!1;return YU(i,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[i,t,e]),n}function aB({page:i,matches:t,...e}){let n=dd(),{manifest:s,routeModules:a}=cL(),{basename:l}=lL(),{loaderData:c,matches:h}=nB(),d=M.useMemo(()=>_P(i,t,h,s,n,"data"),[i,t,h,s,n]),p=M.useMemo(()=>_P(i,t,h,s,n,"assets"),[i,t,h,s,n]),y=M.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let A=new Set,S=!1;if(t.forEach(x=>{var k;let F=s.routes[x.route.id];!F||!F.hasLoader||(!d.some(D=>D.route.id===x.route.id)&&x.route.id in c&&((k=a[x.route.id])!=null&&k.shouldRevalidate)||F.hasClientLoader?S=!0:A.add(x.route.id))}),A.size===0)return[];let C=eB(i,l);return S&&A.size>0&&C.searchParams.set("_routes",t.filter(x=>A.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[l,c,n,s,d,t,i,a]),b=M.useMemo(()=>XU(p,s),[p,s]),E=rB(p);return M.createElement(M.Fragment,null,y.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),E.map(({key:A,link:S})=>M.createElement("link",{key:A,...S})))}function oB(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var uL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uL&&(window.__reactRouterVersion="7.6.2")}catch{}function lB({basename:i,children:t,window:e}){let n=M.useRef();n.current==null&&(n.current=Y6({window:e,v5Compat:!0}));let s=n.current,[a,l]=M.useState({action:s.action,location:s.location}),c=M.useCallback(h=>{M.startTransition(()=>l(h))},[l]);return M.useLayoutEffect(()=>s.listen(c),[s,c]),M.createElement(FU,{basename:i,children:t,location:a.location,navigationType:a.action,navigator:s})}var hL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dL=M.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,...b},E){let{basename:A}=M.useContext(io),S=typeof d=="string"&&hL.test(d),C,x=!1;if(typeof d=="string"&&S&&(C=d,uL))try{let N=new URL(window.location.href),T=d.startsWith("//")?new URL(N.protocol+d):new URL(d),B=yl(T.pathname,A);T.origin===N.origin&&B!=null?d=B+T.search+T.hash:x=!0}catch{to(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=AU(d,{relative:s}),[k,D,U]=iB(n,b),W=dB(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function L(N){t&&t(N),N.defaultPrevented||W(N)}let R=M.createElement("a",{...b,...U,href:C||F,onClick:x||a?t:L,ref:oB(E,D),target:h,"data-discover":!S&&e==="render"?"true":void 0});return k&&!S?M.createElement(M.Fragment,null,R,M.createElement(sB,{page:F})):R});dL.displayName="Link";var cB=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...d},p){let y=jv(l,{relative:d.relative}),b=dd(),E=M.useContext(GE),{navigator:A,basename:S}=M.useContext(io),C=E!=null&&yB(y)&&c===!0,x=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,F=b.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(F=F.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&S&&(k=yl(k,S)||k);const D=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let U=F===x||!s&&F.startsWith(x)&&F.charAt(D)==="/",W=k!=null&&(k===x||!s&&k.startsWith(x)&&k.charAt(x.length)==="/"),L={isActive:U,isPending:W,isTransitioning:C},R=U?t:void 0,N;typeof n=="function"?N=n(L):N=[n,U?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(L):a;return M.createElement(dL,{...d,"aria-current":R,className:N,ref:p,style:T,to:l,viewTransition:c},typeof h=="function"?h(L):h)});cB.displayName="NavLink";var uB=M.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:a,method:l=n_,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,...b},E)=>{let A=gB(),S=mB(c,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&hL.test(c),F=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let D=k.nativeEvent.submitter,U=(D==null?void 0:D.getAttribute("formmethod"))||l;A(D||k.currentTarget,{fetcherKey:t,method:U,navigate:e,replace:s,state:a,relative:d,preventScrollReset:p,viewTransition:y})};return M.createElement("form",{ref:E,method:C,action:S,onSubmit:n?h:F,...b,"data-discover":!x&&i==="render"?"true":void 0})});uB.displayName="Form";function hB(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fL(i){let t=M.useContext(ig);return Pn(t,hB(i)),t}function dB(i,{target:t,replace:e,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=sg(),h=dd(),d=jv(i,{relative:a});return M.useCallback(p=>{if(HU(p,t)){p.preventDefault();let y=e!==void 0?e:hy(h)===hy(d);c(i,{replace:y,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,d,e,n,t,i,s,a,l])}var fB=0,pB=()=>`__${String(++fB)}__`;function gB(){let{router:i}=fL("useSubmit"),{basename:t}=M.useContext(io),e=OU();return M.useCallback(async(n,s={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=GU(n,t);if(s.navigate===!1){let p=s.fetcherKey||pB();await i.fetch(p,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,t,e])}function mB(i,{relative:t}={}){let{basename:e}=M.useContext(io),n=M.useContext(Rl);Pn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...jv(i||".",{relative:t})},l=dd();if(i==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!i||i===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:fl([e,a.pathname])),hy(a)}function yB(i,t={}){let e=M.useContext(iL);Pn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=fL("useViewTransitionState"),s=jv(i,{relative:t.relative});if(!e.isTransitioning)return!1;let a=yl(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=yl(e.nextLocation.pathname,n)||e.nextLocation.pathname;return K_(s.pathname,l)!=null||K_(s.pathname,a)!=null}[...tB];var pL=XD();const D0=Zx(pL);function vl(i,...t){const e=new URL(`https://mui.com/production-error/?code=${i}`);return t.forEach(n=>e.searchParams.append("args[]",n)),`Minified MUI error #${i}; visit ${e} for the full message.`}function Y_(){return Y_=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Y_.apply(null,arguments)}function vB(i){if(i.sheet)return i.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===i)return document.styleSheets[t]}function bB(i){var t=document.createElement("style");return t.setAttribute("data-emotion",i.key),i.nonce!==void 0&&t.setAttribute("nonce",i.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var _B=function(){function i(e){var n=this;this._insertTag=function(s){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,a),n.tags.push(s)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=i.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bB(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=vB(s);try{a.insertRule(n,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},i}(),Qi="-ms-",X_="-moz-",Ne="-webkit-",gL="comm",rC="rule",aC="decl",EB="@import",mL="@keyframes",AB="@layer",SB=Math.abs,KE=String.fromCharCode,wB=Object.assign;function TB(i,t){return $i(i,0)^45?(((t<<2^$i(i,0))<<2^$i(i,1))<<2^$i(i,2))<<2^$i(i,3):0}function yL(i){return i.trim()}function xB(i,t){return(i=t.exec(i))?i[0]:i}function Ve(i,t,e){return i.replace(t,e)}function FT(i,t){return i.indexOf(t)}function $i(i,t){return i.charCodeAt(t)|0}function dy(i,t,e){return i.slice(t,e)}function $a(i){return i.length}function oC(i){return i.length}function L0(i,t){return t.push(i),i}function CB(i,t){return i.map(t).join("")}var YE=1,Hp=1,vL=0,Os=0,si=0,rg="";function XE(i,t,e,n,s,a,l){return{value:i,root:t,parent:e,type:n,props:s,children:a,line:YE,column:Hp,length:l,return:""}}function Am(i,t){return wB(XE("",null,null,"",null,null,0),i,{length:-i.length},t)}function RB(){return si}function IB(){return si=Os>0?$i(rg,--Os):0,Hp--,si===10&&(Hp=1,YE--),si}function nr(){return si=Os<vL?$i(rg,Os++):0,Hp++,si===10&&(Hp=1,YE++),si}function Ka(){return $i(rg,Os)}function s_(){return Os}function zv(i,t){return dy(rg,i,t)}function fy(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bL(i){return YE=Hp=1,vL=$a(rg=i),Os=0,[]}function _L(i){return rg="",i}function r_(i){return yL(zv(Os-1,VT(i===91?i+2:i===40?i+1:i)))}function kB(i){for(;(si=Ka())&&si<33;)nr();return fy(i)>2||fy(si)>3?"":" "}function PB(i,t){for(;--t&&nr()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return zv(i,s_()+(t<6&&Ka()==32&&nr()==32))}function VT(i){for(;nr();)switch(si){case i:return Os;case 34:case 39:i!==34&&i!==39&&VT(si);break;case 40:i===41&&VT(i);break;case 92:nr();break}return Os}function MB(i,t){for(;nr()&&i+si!==57;)if(i+si===84&&Ka()===47)break;return"/*"+zv(t,Os-1)+"*"+KE(i===47?i:nr())}function OB(i){for(;!fy(Ka());)nr();return zv(i,Os)}function DB(i){return _L(a_("",null,null,null,[""],i=bL(i),0,[0],i))}function a_(i,t,e,n,s,a,l,c,h){for(var d=0,p=0,y=l,b=0,E=0,A=0,S=1,C=1,x=1,F=0,k="",D=s,U=a,W=n,L=k;C;)switch(A=F,F=nr()){case 40:if(A!=108&&$i(L,y-1)==58){FT(L+=Ve(r_(F),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:L+=r_(F);break;case 9:case 10:case 13:case 32:L+=kB(A);break;case 92:L+=PB(s_()-1,7);continue;case 47:switch(Ka()){case 42:case 47:L0(LB(MB(nr(),s_()),t,e),h);break;default:L+="/"}break;case 123*S:c[d++]=$a(L)*x;case 125*S:case 59:case 0:switch(F){case 0:case 125:C=0;case 59+p:x==-1&&(L=Ve(L,/\f/g,"")),E>0&&$a(L)-y&&L0(E>32?AP(L+";",n,e,y-1):AP(Ve(L," ","")+";",n,e,y-2),h);break;case 59:L+=";";default:if(L0(W=EP(L,t,e,d,p,s,c,k,D=[],U=[],y),a),F===123)if(p===0)a_(L,t,W,W,D,a,y,c,U);else switch(b===99&&$i(L,3)===110?100:b){case 100:case 108:case 109:case 115:a_(i,W,W,n&&L0(EP(i,W,W,0,0,s,c,k,s,D=[],y),U),s,U,y,c,n?D:U);break;default:a_(L,W,W,W,[""],U,0,c,U)}}d=p=E=0,S=x=1,k=L="",y=l;break;case 58:y=1+$a(L),E=A;default:if(S<1){if(F==123)--S;else if(F==125&&S++==0&&IB()==125)continue}switch(L+=KE(F),F*S){case 38:x=p>0?1:(L+="\f",-1);break;case 44:c[d++]=($a(L)-1)*x,x=1;break;case 64:Ka()===45&&(L+=r_(nr())),b=Ka(),p=y=$a(k=L+=OB(s_())),F++;break;case 45:A===45&&$a(L)==2&&(S=0)}}return a}function EP(i,t,e,n,s,a,l,c,h,d,p){for(var y=s-1,b=s===0?a:[""],E=oC(b),A=0,S=0,C=0;A<n;++A)for(var x=0,F=dy(i,y+1,y=SB(S=l[A])),k=i;x<E;++x)(k=yL(S>0?b[x]+" "+F:Ve(F,/&\f/g,b[x])))&&(h[C++]=k);return XE(i,t,e,s===0?rC:c,h,d,p)}function LB(i,t,e){return XE(i,t,e,gL,KE(RB()),dy(i,2,-2),0)}function AP(i,t,e,n){return XE(i,t,e,aC,dy(i,0,n),dy(i,n+1,-1),n)}function Of(i,t){for(var e="",n=oC(i),s=0;s<n;s++)e+=t(i[s],s,i,t)||"";return e}function NB(i,t,e,n){switch(i.type){case AB:if(i.children.length)break;case EB:case aC:return i.return=i.return||i.value;case gL:return"";case mL:return i.return=i.value+"{"+Of(i.children,n)+"}";case rC:i.value=i.props.join(",")}return $a(e=Of(i.children,n))?i.return=i.value+"{"+e+"}":""}function FB(i){var t=oC(i);return function(e,n,s,a){for(var l="",c=0;c<t;c++)l+=i[c](e,n,s,a)||"";return l}}function VB(i){return function(t){t.root||(t=t.return)&&i(t)}}function EL(i){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=i(e)),t[e]}}var UB=function(t,e,n){for(var s=0,a=0;s=a,a=Ka(),s===38&&a===12&&(e[n]=1),!fy(a);)nr();return zv(t,Os)},BB=function(t,e){var n=-1,s=44;do switch(fy(s)){case 0:s===38&&Ka()===12&&(e[n]=1),t[n]+=UB(Os-1,e,n);break;case 2:t[n]+=r_(s);break;case 4:if(s===44){t[++n]=Ka()===58?"&\f":"",e[n]=t[n].length;break}default:t[n]+=KE(s)}while(s=nr());return t},jB=function(t,e){return _L(BB(bL(t),e))},SP=new WeakMap,zB=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!SP.get(n))&&!s){SP.set(t,!0);for(var a=[],l=jB(e,a),c=n.props,h=0,d=0;h<l.length;h++)for(var p=0;p<c.length;p++,d++)t.props[d]=a[h]?l[h].replace(/&\f/g,c[p]):c[p]+" "+l[h]}}},HB=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function AL(i,t){switch(TB(i,t)){case 5103:return Ne+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ne+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Ne+i+X_+i+Qi+i+i;case 6828:case 4268:return Ne+i+Qi+i+i;case 6165:return Ne+i+Qi+"flex-"+i+i;case 5187:return Ne+i+Ve(i,/(\w+).+(:[^]+)/,Ne+"box-$1$2"+Qi+"flex-$1$2")+i;case 5443:return Ne+i+Qi+"flex-item-"+Ve(i,/flex-|-self/,"")+i;case 4675:return Ne+i+Qi+"flex-line-pack"+Ve(i,/align-content|flex-|-self/,"")+i;case 5548:return Ne+i+Qi+Ve(i,"shrink","negative")+i;case 5292:return Ne+i+Qi+Ve(i,"basis","preferred-size")+i;case 6060:return Ne+"box-"+Ve(i,"-grow","")+Ne+i+Qi+Ve(i,"grow","positive")+i;case 4554:return Ne+Ve(i,/([^-])(transform)/g,"$1"+Ne+"$2")+i;case 6187:return Ve(Ve(Ve(i,/(zoom-|grab)/,Ne+"$1"),/(image-set)/,Ne+"$1"),i,"")+i;case 5495:case 3959:return Ve(i,/(image-set\([^]*)/,Ne+"$1$`$1");case 4968:return Ve(Ve(i,/(.+:)(flex-)?(.*)/,Ne+"box-pack:$3"+Qi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ne+i+i;case 4095:case 3583:case 4068:case 2532:return Ve(i,/(.+)-inline(.+)/,Ne+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($a(i)-1-t>6)switch($i(i,t+1)){case 109:if($i(i,t+4)!==45)break;case 102:return Ve(i,/(.+:)(.+)-([^]+)/,"$1"+Ne+"$2-$3$1"+X_+($i(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~FT(i,"stretch")?AL(Ve(i,"stretch","fill-available"),t)+i:i}break;case 4949:if($i(i,t+1)!==115)break;case 6444:switch($i(i,$a(i)-3-(~FT(i,"!important")&&10))){case 107:return Ve(i,":",":"+Ne)+i;case 101:return Ve(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ne+($i(i,14)===45?"inline-":"")+"box$3$1"+Ne+"$2$3$1"+Qi+"$2box$3")+i}break;case 5936:switch($i(i,t+11)){case 114:return Ne+i+Qi+Ve(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Ne+i+Qi+Ve(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Ne+i+Qi+Ve(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Ne+i+Qi+i+i}return i}var $B=function(t,e,n,s){if(t.length>-1&&!t.return)switch(t.type){case aC:t.return=AL(t.value,t.length);break;case mL:return Of([Am(t,{value:Ve(t.value,"@","@"+Ne)})],s);case rC:if(t.length)return CB(t.props,function(a){switch(xB(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Of([Am(t,{props:[Ve(a,/:(read-\w+)/,":"+X_+"$1")]})],s);case"::placeholder":return Of([Am(t,{props:[Ve(a,/:(plac\w+)/,":"+Ne+"input-$1")]}),Am(t,{props:[Ve(a,/:(plac\w+)/,":"+X_+"$1")]}),Am(t,{props:[Ve(a,/:(plac\w+)/,Qi+"input-$1")]})],s)}return""})}},qB=[$B],GB=function(t){var e=t.key;if(e==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var C=S.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=t.stylisPlugins||qB,a={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(S){for(var C=S.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)a[C[x]]=!0;c.push(S)});var h,d=[zB,HB];{var p,y=[NB,VB(function(S){p.insert(S)})],b=FB(d.concat(s,y)),E=function(C){return Of(DB(C),b)};h=function(C,x,F,k){p=F,E(C?C+"{"+x.styles+"}":x.styles),k&&(A.inserted[x.name]=!0)}}var A={key:e,sheet:new _B({key:e,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:h};return A.sheet.hydrate(c),A},Yw={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP;function WB(){if(wP)return je;wP=1;var i=typeof Symbol=="function"&&Symbol.for,t=i?Symbol.for("react.element"):60103,e=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,y=i?Symbol.for("react.suspense"):60113,b=i?Symbol.for("react.suspense_list"):60120,E=i?Symbol.for("react.memo"):60115,A=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,C=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.responder"):60118,F=i?Symbol.for("react.scope"):60119;function k(U){if(typeof U=="object"&&U!==null){var W=U.$$typeof;switch(W){case t:switch(U=U.type,U){case h:case d:case n:case a:case s:case y:return U;default:switch(U=U&&U.$$typeof,U){case c:case p:case A:case E:case l:return U;default:return W}}case e:return W}}}function D(U){return k(U)===d}return je.AsyncMode=h,je.ConcurrentMode=d,je.ContextConsumer=c,je.ContextProvider=l,je.Element=t,je.ForwardRef=p,je.Fragment=n,je.Lazy=A,je.Memo=E,je.Portal=e,je.Profiler=a,je.StrictMode=s,je.Suspense=y,je.isAsyncMode=function(U){return D(U)||k(U)===h},je.isConcurrentMode=D,je.isContextConsumer=function(U){return k(U)===c},je.isContextProvider=function(U){return k(U)===l},je.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===t},je.isForwardRef=function(U){return k(U)===p},je.isFragment=function(U){return k(U)===n},je.isLazy=function(U){return k(U)===A},je.isMemo=function(U){return k(U)===E},je.isPortal=function(U){return k(U)===e},je.isProfiler=function(U){return k(U)===a},je.isStrictMode=function(U){return k(U)===s},je.isSuspense=function(U){return k(U)===y},je.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===d||U===a||U===s||U===y||U===b||typeof U=="object"&&U!==null&&(U.$$typeof===A||U.$$typeof===E||U.$$typeof===l||U.$$typeof===c||U.$$typeof===p||U.$$typeof===C||U.$$typeof===x||U.$$typeof===F||U.$$typeof===S)},je.typeOf=k,je}var TP;function KB(){return TP||(TP=1,Yw.exports=WB()),Yw.exports}var Xw,xP;function YB(){if(xP)return Xw;xP=1;var i=KB(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[i.ForwardRef]=n,a[i.Memo]=s;function l(A){return i.isMemo(A)?s:a[A.$$typeof]||t}var c=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;function E(A,S,C){if(typeof S!="string"){if(b){var x=y(S);x&&x!==b&&E(A,x,C)}var F=h(S);d&&(F=F.concat(d(S)));for(var k=l(A),D=l(S),U=0;U<F.length;++U){var W=F[U];if(!e[W]&&!(C&&C[W])&&!(D&&D[W])&&!(k&&k[W])){var L=p(S,W);try{c(A,W,L)}catch{}}}}return A}return Xw=E,Xw}YB();var XB=!0;function SL(i,t,e){var n="";return e.split(" ").forEach(function(s){i[s]!==void 0?t.push(i[s]+";"):s&&(n+=s+" ")}),n}var lC=function(t,e,n){var s=t.key+"-"+e.name;(n===!1||XB===!1)&&t.registered[s]===void 0&&(t.registered[s]=e.styles)},cC=function(t,e,n){lC(t,e,n);var s=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var a=e;do t.insert(e===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function QB(i){for(var t=0,e,n=0,s=i.length;s>=4;++n,s-=4)e=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(i.charCodeAt(n+2)&255)<<16;case 2:t^=(i.charCodeAt(n+1)&255)<<8;case 1:t^=i.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ZB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JB=/[A-Z]|^ms/g,tj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wL=function(t){return t.charCodeAt(1)===45},CP=function(t){return t!=null&&typeof t!="boolean"},Qw=EL(function(i){return wL(i)?i:i.replace(JB,"-$&").toLowerCase()}),RP=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(tj,function(n,s,a){return qa={name:s,styles:a,next:qa},s})}return ZB[t]!==1&&!wL(t)&&typeof e=="number"&&e!==0?e+"px":e};function py(i,t,e){if(e==null)return"";var n=e;if(n.__emotion_styles!==void 0)return n;switch(typeof e){case"boolean":return"";case"object":{var s=e;if(s.anim===1)return qa={name:s.name,styles:s.styles,next:qa},s.name;var a=e;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)qa={name:l.name,styles:l.styles,next:qa},l=l.next;var c=a.styles+";";return c}return ej(i,t,e)}case"function":{if(i!==void 0){var h=qa,d=e(i);return qa=h,py(i,t,d)}break}}var p=e;if(t==null)return p;var y=t[p];return y!==void 0?y:p}function ej(i,t,e){var n="";if(Array.isArray(e))for(var s=0;s<e.length;s++)n+=py(i,t,e[s])+";";else for(var a in e){var l=e[a];if(typeof l!="object"){var c=l;t!=null&&t[c]!==void 0?n+=a+"{"+t[c]+"}":CP(c)&&(n+=Qw(a)+":"+RP(a,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var h=0;h<l.length;h++)CP(l[h])&&(n+=Qw(a)+":"+RP(a,l[h])+";");else{var d=py(i,t,l);switch(a){case"animation":case"animationName":{n+=Qw(a)+":"+d+";";break}default:n+=a+"{"+d+"}"}}}return n}var IP=/label:\s*([^\s;{]+)\s*(;|$)/g,qa;function Hv(i,t,e){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var n=!0,s="";qa=void 0;var a=i[0];if(a==null||a.raw===void 0)n=!1,s+=py(e,t,a);else{var l=a;s+=l[0]}for(var c=1;c<i.length;c++)if(s+=py(e,t,i[c]),n){var h=a;s+=h[c]}IP.lastIndex=0;for(var d="",p;(p=IP.exec(s))!==null;)d+="-"+p[1];var y=QB(s)+d;return{name:y,styles:s,next:qa}}var nj=function(t){return t()},TL=DT.useInsertionEffect?DT.useInsertionEffect:!1,xL=TL||nj,kP=TL||M.useLayoutEffect,CL=M.createContext(typeof HTMLElement<"u"?GB({key:"css"}):null);CL.Provider;var uC=function(t){return M.forwardRef(function(e,n){var s=M.useContext(CL);return t(e,s,n)})},$v=M.createContext({}),hC={}.hasOwnProperty,UT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ij=function(t,e){var n={};for(var s in e)hC.call(e,s)&&(n[s]=e[s]);return n[UT]=t,n},sj=function(t){var e=t.cache,n=t.serialized,s=t.isStringTag;return lC(e,n,s),xL(function(){return cC(e,n,s)}),null},rj=uC(function(i,t,e){var n=i.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=i[UT],a=[n],l="";typeof i.className=="string"?l=SL(t.registered,a,i.className):i.className!=null&&(l=i.className+" ");var c=Hv(a,void 0,M.useContext($v));l+=t.key+"-"+c.name;var h={};for(var d in i)hC.call(i,d)&&d!=="css"&&d!==UT&&(h[d]=i[d]);return h.className=l,e&&(h.ref=e),M.createElement(M.Fragment,null,M.createElement(sj,{cache:t,serialized:c,isStringTag:typeof s=="string"}),M.createElement(s,h))}),aj=rj,PP=function(t,e){var n=arguments;if(e==null||!hC.call(e,"css"))return M.createElement.apply(void 0,n);var s=n.length,a=new Array(s);a[0]=aj,a[1]=ij(t,e);for(var l=2;l<s;l++)a[l]=n[l];return M.createElement.apply(null,a)};(function(i){var t;t||(t=i.JSX||(i.JSX={}))})(PP||(PP={}));var oj=uC(function(i,t){var e=i.styles,n=Hv([e],void 0,M.useContext($v)),s=M.useRef();return kP(function(){var a=t.key+"-global",l=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,h=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),h!==null&&(c=!0,h.setAttribute("data-emotion",a),l.hydrate([h])),s.current=[l,c],function(){l.flush()}},[t]),kP(function(){var a=s.current,l=a[0],c=a[1];if(c){a[1]=!1;return}if(n.next!==void 0&&cC(t,n.next,!0),l.tags.length){var h=l.tags[l.tags.length-1].nextElementSibling;l.before=h,l.flush()}t.insert("",n,l,!1)},[t,n.name]),null});function qv(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return Hv(t)}function fd(){var i=qv.apply(void 0,arguments),t="animation-"+i.name;return{name:t,styles:"@keyframes "+t+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var lj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cj=EL(function(i){return lj.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),uj=cj,hj=function(t){return t!=="theme"},MP=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?uj:hj},OP=function(t,e,n){var s;if(e){var a=e.shouldForwardProp;s=t.__emotion_forwardProp&&a?function(l){return t.__emotion_forwardProp(l)&&a(l)}:a}return typeof s!="function"&&n&&(s=t.__emotion_forwardProp),s},dj=function(t){var e=t.cache,n=t.serialized,s=t.isStringTag;return lC(e,n,s),xL(function(){return cC(e,n,s)}),null},fj=function i(t,e){var n=t.__emotion_real===t,s=n&&t.__emotion_base||t,a,l;e!==void 0&&(a=e.label,l=e.target);var c=OP(t,e,n),h=c||MP(s),d=!h("as");return function(){var p=arguments,y=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&y.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)y.push.apply(y,p);else{var b=p[0];y.push(b[0]);for(var E=p.length,A=1;A<E;A++)y.push(p[A],b[A])}var S=uC(function(C,x,F){var k=d&&C.as||s,D="",U=[],W=C;if(C.theme==null){W={};for(var L in C)W[L]=C[L];W.theme=M.useContext($v)}typeof C.className=="string"?D=SL(x.registered,U,C.className):C.className!=null&&(D=C.className+" ");var R=Hv(y.concat(U),x.registered,W);D+=x.key+"-"+R.name,l!==void 0&&(D+=" "+l);var N=d&&c===void 0?MP(k):h,T={};for(var B in C)d&&B==="as"||N(B)&&(T[B]=C[B]);return T.className=D,F&&(T.ref=F),M.createElement(M.Fragment,null,M.createElement(dj,{cache:x,serialized:R,isStringTag:typeof k=="string"}),M.createElement(k,T))});return S.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=y,S.__emotion_forwardProp=c,Object.defineProperty(S,"toString",{value:function(){return"."+l}}),S.withComponent=function(C,x){var F=i(C,Y_({},e,x,{shouldForwardProp:OP(S,x,!0)}));return F.apply(void 0,y)},S}},pj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],BT=fj.bind(null);pj.forEach(function(i){BT[i]=BT(i)});function gj(i){return i==null||Object.keys(i).length===0}function RL(i){const{styles:t,defaultTheme:e={}}=i,n=typeof t=="function"?s=>t(gj(s)?e:s):t;return O.jsx(oj,{styles:n})}function IL(i,t){return BT(i,t)}function mj(i,t){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=t(i.__emotion_styles))}const DP=[];function LP(i){return DP[0]=i,Hv(DP)}var Zw={exports:{}},rn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP;function yj(){if(NP)return rn;NP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case i:switch(S=S.type,S){case e:case s:case n:case h:case d:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case y:case p:return S;case a:return S;default:return C}}case t:return C}}}return rn.ContextConsumer=a,rn.ContextProvider=l,rn.Element=i,rn.ForwardRef=c,rn.Fragment=e,rn.Lazy=y,rn.Memo=p,rn.Portal=t,rn.Profiler=s,rn.StrictMode=n,rn.Suspense=h,rn.SuspenseList=d,rn.isContextConsumer=function(S){return A(S)===a},rn.isContextProvider=function(S){return A(S)===l},rn.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===i},rn.isForwardRef=function(S){return A(S)===c},rn.isFragment=function(S){return A(S)===e},rn.isLazy=function(S){return A(S)===y},rn.isMemo=function(S){return A(S)===p},rn.isPortal=function(S){return A(S)===t},rn.isProfiler=function(S){return A(S)===s},rn.isStrictMode=function(S){return A(S)===n},rn.isSuspense=function(S){return A(S)===h},rn.isSuspenseList=function(S){return A(S)===d},rn.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===e||S===s||S===n||S===h||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===y||S.$$typeof===p||S.$$typeof===l||S.$$typeof===a||S.$$typeof===c||S.$$typeof===E||S.getModuleId!==void 0)},rn.typeOf=A,rn}var FP;function vj(){return FP||(FP=1,Zw.exports=yj()),Zw.exports}var kL=vj();function Ga(i){if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function PL(i){if(M.isValidElement(i)||kL.isValidElementType(i)||!Ga(i))return i;const t={};return Object.keys(i).forEach(e=>{t[e]=PL(i[e])}),t}function cs(i,t,e={clone:!0}){const n=e.clone?{...i}:i;return Ga(i)&&Ga(t)&&Object.keys(t).forEach(s=>{M.isValidElement(t[s])||kL.isValidElementType(t[s])?n[s]=t[s]:Ga(t[s])&&Object.prototype.hasOwnProperty.call(i,s)&&Ga(i[s])?n[s]=cs(i[s],t[s],e):e.clone?n[s]=Ga(t[s])?PL(t[s]):t[s]:n[s]=t[s]}),n}const bj=i=>{const t=Object.keys(i).map(e=>({key:e,val:i[e]}))||[];return t.sort((e,n)=>e.val-n.val),t.reduce((e,n)=>({...e,[n.key]:n.val}),{})};function _j(i){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:n=5,...s}=i,a=bj(t),l=Object.keys(a);function c(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e})`}function h(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-n/100}${e})`}function d(b,E){const A=l.indexOf(E);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e}) and (max-width:${(A!==-1&&typeof t[l[A]]=="number"?t[l[A]]:E)-n/100}${e})`}function p(b){return l.indexOf(b)+1<l.length?d(b,l[l.indexOf(b)+1]):c(b)}function y(b){const E=l.indexOf(b);return E===0?c(l[1]):E===l.length-1?h(l[E]):d(b,l[l.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:c,down:h,between:d,only:p,not:y,unit:e,...s}}function Ej(i,t){if(!i.containerQueries)return t;const e=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,s)=>{var l,c;const a=/min-width:\s*([0-9.]+)/;return+(((l=n.match(a))==null?void 0:l[1])||0)-+(((c=s.match(a))==null?void 0:c[1])||0)});return e.length?e.reduce((n,s)=>{const a=t[s];return delete n[s],n[s]=a,n},{...t}):t}function Aj(i,t){return t==="@"||t.startsWith("@")&&(i.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function Sj(i,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,n,s]=e,a=Number.isNaN(+n)?n||0:+n;return i.containerQueries(s).up(a)}function wj(i){const t=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function e(a,l){a.up=(...c)=>t(i.breakpoints.up(...c),l),a.down=(...c)=>t(i.breakpoints.down(...c),l),a.between=(...c)=>t(i.breakpoints.between(...c),l),a.only=(...c)=>t(i.breakpoints.only(...c),l),a.not=(...c)=>{const h=t(i.breakpoints.not(...c),l);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const n={},s=a=>(e(n,a),n);return e(s),{...i,containerQueries:s}}const Tj={borderRadius:4};function Jm(i,t){return t?cs(i,t,{clone:!1}):i}const QE={xs:0,sm:600,md:900,lg:1200,xl:1536},VP={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${QE[i]}px)`},xj={containerQueries:i=>({up:t=>{let e=typeof t=="number"?t:QE[t]||t;return typeof e=="number"&&(e=`${e}px`),i?`@container ${i} (min-width:${e})`:`@container (min-width:${e})`}})};function bl(i,t,e){const n=i.theme||{};if(Array.isArray(t)){const a=n.breakpoints||VP;return t.reduce((l,c,h)=>(l[a.up(a.keys[h])]=e(t[h]),l),{})}if(typeof t=="object"){const a=n.breakpoints||VP;return Object.keys(t).reduce((l,c)=>{if(Aj(a.keys,c)){const h=Sj(n.containerQueries?n:xj,c);h&&(l[h]=e(t[c],c))}else if(Object.keys(a.values||QE).includes(c)){const h=a.up(c);l[h]=e(t[c],c)}else{const h=c;l[h]=t[h]}return l},{})}return e(t)}function Cj(i={}){var e;return((e=i.keys)==null?void 0:e.reduce((n,s)=>{const a=i.up(s);return n[a]={},n},{}))||{}}function Rj(i,t){return i.reduce((e,n)=>{const s=e[n];return(!s||Object.keys(s).length===0)&&delete e[n],e},t)}function qt(i){if(typeof i!="string")throw new Error(vl(7));return i.charAt(0).toUpperCase()+i.slice(1)}function ZE(i,t,e=!0){if(!t||typeof t!="string")return null;if(i&&i.vars&&e){const n=`vars.${t}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,i);if(n!=null)return n}return t.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,i)}function Q_(i,t,e,n=e){let s;return typeof i=="function"?s=i(e):Array.isArray(i)?s=i[e]||n:s=ZE(i,e)||n,t&&(s=t(s,n,i)),s}function Yn(i){const{prop:t,cssProperty:e=i.prop,themeKey:n,transform:s}=i,a=l=>{if(l[t]==null)return null;const c=l[t],h=l.theme,d=ZE(h,n)||{};return bl(l,c,y=>{let b=Q_(d,s,y);return y===b&&typeof y=="string"&&(b=Q_(d,s,`${t}${y==="default"?"":qt(y)}`,y)),e===!1?b:{[e]:b}})};return a.propTypes={},a.filterProps=[t],a}function Ij(i){const t={};return e=>(t[e]===void 0&&(t[e]=i(e)),t[e])}const kj={m:"margin",p:"padding"},Pj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Mj=Ij(i=>{if(i.length>2)if(UP[i])i=UP[i];else return[i];const[t,e]=i.split(""),n=kj[t],s=Pj[e]||"";return Array.isArray(s)?s.map(a=>n+a):[n+s]}),dC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...dC,...fC];function Gv(i,t,e,n){const s=ZE(i,t,!0)??e;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),c=s[l];return a>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof s=="function"?s:()=>{}}function pC(i){return Gv(i,"spacing",8)}function Wv(i,t){return typeof t=="string"||t==null?t:i(t)}function Oj(i,t){return e=>i.reduce((n,s)=>(n[s]=Wv(t,e),n),{})}function Dj(i,t,e,n){if(!t.includes(e))return null;const s=Mj(e),a=Oj(s,n),l=i[e];return bl(i,l,a)}function ML(i,t){const e=pC(i.theme);return Object.keys(i).map(n=>Dj(i,t,n,e)).reduce(Jm,{})}function Fn(i){return ML(i,dC)}Fn.propTypes={};Fn.filterProps=dC;function Vn(i){return ML(i,fC)}Vn.propTypes={};Vn.filterProps=fC;function OL(i=8,t=pC({spacing:i})){if(i.mui)return i;const e=(...n)=>(n.length===0?[1]:n).map(a=>{const l=t(a);return typeof l=="number"?`${l}px`:l}).join(" ");return e.mui=!0,e}function JE(...i){const t=i.reduce((n,s)=>(s.filterProps.forEach(a=>{n[a]=s}),n),{}),e=n=>Object.keys(n).reduce((s,a)=>t[a]?Jm(s,t[a](n)):s,{});return e.propTypes={},e.filterProps=i.reduce((n,s)=>n.concat(s.filterProps),[]),e}function wr(i){return typeof i!="number"?i:`${i}px solid`}function kr(i,t){return Yn({prop:i,themeKey:"borders",transform:t})}const Lj=kr("border",wr),Nj=kr("borderTop",wr),Fj=kr("borderRight",wr),Vj=kr("borderBottom",wr),Uj=kr("borderLeft",wr),Bj=kr("borderColor"),jj=kr("borderTopColor"),zj=kr("borderRightColor"),Hj=kr("borderBottomColor"),$j=kr("borderLeftColor"),qj=kr("outline",wr),Gj=kr("outlineColor"),tA=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const t=Gv(i.theme,"shape.borderRadius",4),e=n=>({borderRadius:Wv(t,n)});return bl(i,i.borderRadius,e)}return null};tA.propTypes={};tA.filterProps=["borderRadius"];JE(Lj,Nj,Fj,Vj,Uj,Bj,jj,zj,Hj,$j,tA,qj,Gj);const eA=i=>{if(i.gap!==void 0&&i.gap!==null){const t=Gv(i.theme,"spacing",8),e=n=>({gap:Wv(t,n)});return bl(i,i.gap,e)}return null};eA.propTypes={};eA.filterProps=["gap"];const nA=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const t=Gv(i.theme,"spacing",8),e=n=>({columnGap:Wv(t,n)});return bl(i,i.columnGap,e)}return null};nA.propTypes={};nA.filterProps=["columnGap"];const iA=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const t=Gv(i.theme,"spacing",8),e=n=>({rowGap:Wv(t,n)});return bl(i,i.rowGap,e)}return null};iA.propTypes={};iA.filterProps=["rowGap"];const Wj=Yn({prop:"gridColumn"}),Kj=Yn({prop:"gridRow"}),Yj=Yn({prop:"gridAutoFlow"}),Xj=Yn({prop:"gridAutoColumns"}),Qj=Yn({prop:"gridAutoRows"}),Zj=Yn({prop:"gridTemplateColumns"}),Jj=Yn({prop:"gridTemplateRows"}),tz=Yn({prop:"gridTemplateAreas"}),ez=Yn({prop:"gridArea"});JE(eA,nA,iA,Wj,Kj,Yj,Xj,Qj,Zj,Jj,tz,ez);function Df(i,t){return t==="grey"?t:i}const nz=Yn({prop:"color",themeKey:"palette",transform:Df}),iz=Yn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Df}),sz=Yn({prop:"backgroundColor",themeKey:"palette",transform:Df});JE(nz,iz,sz);function tr(i){return i<=1&&i!==0?`${i*100}%`:i}const rz=Yn({prop:"width",transform:tr}),gC=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const t=e=>{var s,a,l,c,h;const n=((l=(a=(s=i.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:l[e])||QE[e];return n?((h=(c=i.theme)==null?void 0:c.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${n}${i.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:tr(e)}};return bl(i,i.maxWidth,t)}return null};gC.filterProps=["maxWidth"];const az=Yn({prop:"minWidth",transform:tr}),oz=Yn({prop:"height",transform:tr}),lz=Yn({prop:"maxHeight",transform:tr}),cz=Yn({prop:"minHeight",transform:tr});Yn({prop:"size",cssProperty:"width",transform:tr});Yn({prop:"size",cssProperty:"height",transform:tr});const uz=Yn({prop:"boxSizing"});JE(rz,gC,az,oz,lz,cz,uz);const Kv={border:{themeKey:"borders",transform:wr},borderTop:{themeKey:"borders",transform:wr},borderRight:{themeKey:"borders",transform:wr},borderBottom:{themeKey:"borders",transform:wr},borderLeft:{themeKey:"borders",transform:wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:tA},color:{themeKey:"palette",transform:Df},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Df},backgroundColor:{themeKey:"palette",transform:Df},p:{style:Vn},pt:{style:Vn},pr:{style:Vn},pb:{style:Vn},pl:{style:Vn},px:{style:Vn},py:{style:Vn},padding:{style:Vn},paddingTop:{style:Vn},paddingRight:{style:Vn},paddingBottom:{style:Vn},paddingLeft:{style:Vn},paddingX:{style:Vn},paddingY:{style:Vn},paddingInline:{style:Vn},paddingInlineStart:{style:Vn},paddingInlineEnd:{style:Vn},paddingBlock:{style:Vn},paddingBlockStart:{style:Vn},paddingBlockEnd:{style:Vn},m:{style:Fn},mt:{style:Fn},mr:{style:Fn},mb:{style:Fn},ml:{style:Fn},mx:{style:Fn},my:{style:Fn},margin:{style:Fn},marginTop:{style:Fn},marginRight:{style:Fn},marginBottom:{style:Fn},marginLeft:{style:Fn},marginX:{style:Fn},marginY:{style:Fn},marginInline:{style:Fn},marginInlineStart:{style:Fn},marginInlineEnd:{style:Fn},marginBlock:{style:Fn},marginBlockStart:{style:Fn},marginBlockEnd:{style:Fn},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:eA},rowGap:{style:iA},columnGap:{style:nA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:tr},maxWidth:{style:gC},minWidth:{transform:tr},height:{transform:tr},maxHeight:{transform:tr},minHeight:{transform:tr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function hz(...i){const t=i.reduce((n,s)=>n.concat(Object.keys(s)),[]),e=new Set(t);return i.every(n=>e.size===Object.keys(n).length)}function dz(i,t){return typeof i=="function"?i(t):i}function fz(){function i(e,n,s,a){const l={[e]:n,theme:s},c=a[e];if(!c)return{[e]:n};const{cssProperty:h=e,themeKey:d,transform:p,style:y}=c;if(n==null)return null;if(d==="typography"&&n==="inherit")return{[e]:n};const b=ZE(s,d)||{};return y?y(l):bl(l,n,A=>{let S=Q_(b,p,A);return A===S&&typeof A=="string"&&(S=Q_(b,p,`${e}${A==="default"?"":qt(A)}`,A)),h===!1?S:{[h]:S}})}function t(e){const{sx:n,theme:s={}}=e||{};if(!n)return null;const a=s.unstable_sxConfig??Kv;function l(c){let h=c;if(typeof c=="function")h=c(s);else if(typeof c!="object")return c;if(!h)return null;const d=Cj(s.breakpoints),p=Object.keys(d);let y=d;return Object.keys(h).forEach(b=>{const E=dz(h[b],s);if(E!=null)if(typeof E=="object")if(a[b])y=Jm(y,i(b,E,s,a));else{const A=bl({theme:s},E,S=>({[b]:S}));hz(A,E)?y[b]=t({sx:E,theme:s}):y=Jm(y,A)}else y=Jm(y,i(b,E,s,a))}),Ej(s,Rj(p,y))}return Array.isArray(n)?n.map(l):l(n)}return t}const Xc=fz();Xc.filterProps=["sx"];function pz(i,t){var n;const e=this;if(e.vars){if(!((n=e.colorSchemes)!=null&&n[i])||typeof e.getColorSchemeSelector!="function")return{};let s=e.getColorSchemeSelector(i);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return e.palette.mode===i?t:{}}function mC(i={},...t){const{breakpoints:e={},palette:n={},spacing:s,shape:a={},...l}=i,c=_j(e),h=OL(s);let d=cs({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:h,shape:{...Tj,...a}},l);return d=wj(d),d.applyStyles=pz,d=t.reduce((p,y)=>cs(p,y),d),d.unstable_sxConfig={...Kv,...l==null?void 0:l.unstable_sxConfig},d.unstable_sx=function(y){return Xc({sx:y,theme:this})},d}function gz(i){return Object.keys(i).length===0}function DL(i=null){const t=M.useContext($v);return!t||gz(t)?i:t}const mz=mC();function yC(i=mz){return DL(i)}function yz({styles:i,themeId:t,defaultTheme:e={}}){const n=yC(e),s=typeof i=="function"?i(t&&n[t]||n):i;return O.jsx(RL,{styles:s})}const vz=i=>{var n;const t={systemProps:{},otherProps:{}},e=((n=i==null?void 0:i.theme)==null?void 0:n.unstable_sxConfig)??Kv;return Object.keys(i).forEach(s=>{e[s]?t.systemProps[s]=i[s]:t.otherProps[s]=i[s]}),t};function LL(i){const{sx:t,...e}=i,{systemProps:n,otherProps:s}=vz(e);let a;return Array.isArray(t)?a=[n,...t]:typeof t=="function"?a=(...l)=>{const c=t(...l);return Ga(c)?{...n,...c}:n}:a={...n,...t},{...s,sx:a}}const BP=i=>i,bz=()=>{let i=BP;return{configure(t){i=t},generate(t){return i(t)},reset(){i=BP}}},NL=bz();function FL(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=FL(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function Jt(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=FL(i))&&(n&&(n+=" "),n+=t);return n}function _z(i={}){const{themeId:t,defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:s}=i,a=IL("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Xc);return M.forwardRef(function(h,d){const p=yC(e),{className:y,component:b="div",...E}=LL(h);return O.jsx(a,{as:b,ref:d,className:Jt(y,s?s(n):n),theme:t&&p[t]||p,...E})})}const Ez={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xe(i,t,e="Mui"){const n=Ez[t];return n?`${e}-${n}`:`${NL.generate(i)}-${t}`}function He(i,t,e="Mui"){const n={};return t.forEach(s=>{n[s]=Xe(i,s,e)}),n}function VL(i){const{variants:t,...e}=i,n={variants:t,style:LP(e),isProcessed:!0};return n.style===e||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=LP(s.style))}),n}const Az=mC();function Jw(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function Sz(i){return i?(t,e)=>e[i]:null}function wz(i,t,e){i.theme=Cz(i.theme)?e:i.theme[t]||i.theme}function o_(i,t){const e=typeof t=="function"?t(i):t;if(Array.isArray(e))return e.flatMap(n=>o_(i,n));if(Array.isArray(e==null?void 0:e.variants)){let n;if(e.isProcessed)n=e.style;else{const{variants:s,...a}=e;n=a}return UL(i,e.variants,[n])}return e!=null&&e.isProcessed?e.style:e}function UL(i,t,e=[]){var s;let n;t:for(let a=0;a<t.length;a+=1){const l=t[a];if(typeof l.props=="function"){if(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),!l.props(n))continue}else for(const c in l.props)if(i[c]!==l.props[c]&&((s=i.ownerState)==null?void 0:s[c])!==l.props[c])continue t;typeof l.style=="function"?(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),e.push(l.style(n))):e.push(l.style)}return e}function Tz(i={}){const{themeId:t,defaultTheme:e=Az,rootShouldForwardProp:n=Jw,slotShouldForwardProp:s=Jw}=i;function a(c){wz(c,t,e)}return(c,h={})=>{mj(c,U=>U.filter(W=>W!==Xc));const{name:d,slot:p,skipVariantsResolver:y,skipSx:b,overridesResolver:E=Sz(Iz(p)),...A}=h,S=y!==void 0?y:p&&p!=="Root"&&p!=="root"||!1,C=b||!1;let x=Jw;p==="Root"||p==="root"?x=n:p?x=s:Rz(c)&&(x=void 0);const F=IL(c,{shouldForwardProp:x,label:xz(),...A}),k=U=>{if(U.__emotion_real===U)return U;if(typeof U=="function")return function(L){return o_(L,U)};if(Ga(U)){const W=VL(U);return W.variants?function(R){return o_(R,W)}:W.style}return U},D=(...U)=>{const W=[],L=U.map(k),R=[];if(W.push(a),d&&E&&R.push(function(q){var Y,Q;const ct=(Q=(Y=q.theme.components)==null?void 0:Y[d])==null?void 0:Q.styleOverrides;if(!ct)return null;const nt={};for(const at in ct)nt[at]=o_(q,ct[at]);return E(q,nt)}),d&&!S&&R.push(function(q){var nt,Y;const z=q.theme,ct=(Y=(nt=z==null?void 0:z.components)==null?void 0:nt[d])==null?void 0:Y.variants;return ct?UL(q,ct):null}),C||R.push(Xc),Array.isArray(L[0])){const B=L.shift(),q=new Array(W.length).fill(""),z=new Array(R.length).fill("");let ct;ct=[...q,...B,...z],ct.raw=[...q,...B.raw,...z],W.unshift(ct)}const N=[...W,...L,...R],T=F(...N);return c.muiName&&(T.muiName=c.muiName),T};return F.withConfig&&(D.withConfig=F.withConfig),D}}function xz(i,t){return void 0}function Cz(i){for(const t in i)return!1;return!0}function Rz(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Iz(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}function Z_(i,t){const e={...t};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const s=n;if(s==="components"||s==="slots")e[s]={...i[s],...e[s]};else if(s==="componentsProps"||s==="slotProps"){const a=i[s],l=t[s];if(!l)e[s]=a||{};else if(!a)e[s]=l;else{e[s]={...l};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const h=c;e[s][h]=Z_(a[h],l[h])}}}else e[s]===void 0&&(e[s]=i[s])}return e}const Qc=typeof window<"u"?M.useLayoutEffect:M.useEffect;function kz(i,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(i,e))}function vC(i,t=0,e=1){return kz(i,t,e)}function Pz(i){i=i.slice(1);const t=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let e=i.match(t);return e&&e[0].length===1&&(e=e.map(n=>n+n)),e?`rgb${e.length===4?"a":""}(${e.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Zc(i){if(i.type)return i;if(i.charAt(0)==="#")return Zc(Pz(i));const t=i.indexOf("("),e=i.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(vl(9,i));let n=i.substring(t+1,i.length-1),s;if(e==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(vl(10,s))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:e,values:n,colorSpace:s}}const Mz=i=>{const t=Zc(i);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&n!==0?`${e}%`:e).join(" ")},Pm=(i,t)=>{try{return Mz(i)}catch{return i}};function sA(i){const{type:t,colorSpace:e}=i;let{values:n}=i;return t.includes("rgb")?n=n.map((s,a)=>a<3?parseInt(s,10):s):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${e} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function BL(i){i=Zc(i);const{values:t}=i,e=t[0],n=t[1]/100,s=t[2]/100,a=n*Math.min(s,1-s),l=(d,p=(d+e/30)%12)=>s-a*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const h=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return i.type==="hsla"&&(c+="a",h.push(t[3])),sA({type:c,values:h})}function jT(i){i=Zc(i);let t=i.type==="hsl"||i.type==="hsla"?Zc(BL(i)).values:i.values;return t=t.map(e=>(i.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Oz(i,t){const e=jT(i),n=jT(t);return(Math.max(e,n)+.05)/(Math.min(e,n)+.05)}function Qr(i,t){return i=Zc(i),t=vC(t),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${t}`:i.values[3]=t,sA(i)}function N0(i,t,e){try{return Qr(i,t)}catch{return i}}function bC(i,t){if(i=Zc(i),t=vC(t),i.type.includes("hsl"))i.values[2]*=1-t;else if(i.type.includes("rgb")||i.type.includes("color"))for(let e=0;e<3;e+=1)i.values[e]*=1-t;return sA(i)}function un(i,t,e){try{return bC(i,t)}catch{return i}}function _C(i,t){if(i=Zc(i),t=vC(t),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*t;else if(i.type.includes("rgb"))for(let e=0;e<3;e+=1)i.values[e]+=(255-i.values[e])*t;else if(i.type.includes("color"))for(let e=0;e<3;e+=1)i.values[e]+=(1-i.values[e])*t;return sA(i)}function hn(i,t,e){try{return _C(i,t)}catch{return i}}function Dz(i,t=.15){return jT(i)>.5?bC(i,t):_C(i,t)}function F0(i,t,e){try{return Dz(i,t)}catch{return i}}const jL=M.createContext(null);function EC(){return M.useContext(jL)}const Lz=typeof Symbol=="function"&&Symbol.for,Nz=Lz?Symbol.for("mui.nested"):"__THEME_NESTED__";function Fz(i,t){return typeof t=="function"?t(i):{...i,...t}}function Vz(i){const{children:t,theme:e}=i,n=EC(),s=M.useMemo(()=>{const a=n===null?{...e}:Fz(n,e);return a!=null&&(a[Nz]=n!==null),a},[e,n]);return O.jsx(jL.Provider,{value:s,children:t})}const zL=M.createContext();function Uz({value:i,...t}){return O.jsx(zL.Provider,{value:i??!0,...t})}const Bz=()=>M.useContext(zL)??!1,HL=M.createContext(void 0);function jz({value:i,children:t}){return O.jsx(HL.Provider,{value:i,children:t})}function zz(i){const{theme:t,name:e,props:n}=i;if(!t||!t.components||!t.components[e])return n;const s=t.components[e];return s.defaultProps?Z_(s.defaultProps,n):!s.styleOverrides&&!s.variants?Z_(s,n):n}function Hz({props:i,name:t}){const e=M.useContext(HL);return zz({props:i,name:t,theme:{components:e}})}const jP={};function zP(i,t,e,n=!1){return M.useMemo(()=>{const s=i&&t[i]||t;if(typeof e=="function"){const a=e(s),l=i?{...t,[i]:a}:a;return n?()=>l:l}return i?{...t,[i]:e}:{...t,...e}},[i,t,e,n])}function $L(i){const{children:t,theme:e,themeId:n}=i,s=DL(jP),a=EC()||jP,l=zP(n,s,e),c=zP(n,a,e,!0),h=(n?l[n]:l).direction==="rtl";return O.jsx(Vz,{theme:c,children:O.jsx($v.Provider,{value:l,children:O.jsx(Uz,{value:h,children:O.jsx(jz,{value:n?l[n].components:l.components,children:t})})})})}const HP={theme:void 0};function $z(i){let t,e;return function(s){let a=t;return(a===void 0||s.theme!==e)&&(HP.theme=s.theme,a=VL(i(HP)),t=a,e=s.theme),a}}const AC="mode",SC="color-scheme",qz="data-color-scheme";function Gz(i){const{defaultMode:t="system",defaultLightColorScheme:e="light",defaultDarkColorScheme:n="dark",modeStorageKey:s=AC,colorSchemeStorageKey:a=SC,attribute:l=qz,colorSchemeNode:c="document.documentElement",nonce:h}=i||{};let d="",p=l;if(l==="class"&&(p=".%s"),l==="data"&&(p="[data-%s]"),p.startsWith(".")){const b=p.substring(1);d+=`${c}.classList.remove('${b}'.replace('%s', light), '${b}'.replace('%s', dark));
      ${c}.classList.add('${b}'.replace('%s', colorScheme));`}const y=p.match(/\[([^\]]+)\]/);if(y){const[b,E]=y[1].split("=");E||(d+=`${c}.removeAttribute('${b}'.replace('%s', light));
      ${c}.removeAttribute('${b}'.replace('%s', dark));`),d+=`
      ${c}.setAttribute('${b}'.replace('%s', colorScheme), ${E?`${E}.replace('%s', colorScheme)`:'""'});`}else d+=`${c}.setAttribute('${p}', colorScheme);`;return O.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${s}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${e}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Wz(){}const Kz=({key:i,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(e){if(typeof window>"u")return;if(!t)return e;let n;try{n=t.localStorage.getItem(i)}catch{}return n||e},set:e=>{if(t)try{t.localStorage.setItem(i,e)}catch{}},subscribe:e=>{if(!t)return Wz;const n=s=>{const a=s.newValue;s.key===i&&e(a)};return t.addEventListener("storage",n),()=>{t.removeEventListener("storage",n)}}});function tT(){}function $P(i){if(typeof window<"u"&&typeof window.matchMedia=="function"&&i==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function qL(i,t){if(i.mode==="light"||i.mode==="system"&&i.systemMode==="light")return t("light");if(i.mode==="dark"||i.mode==="system"&&i.systemMode==="dark")return t("dark")}function Yz(i){return qL(i,t=>{if(t==="light")return i.lightColorScheme;if(t==="dark")return i.darkColorScheme})}function Xz(i){const{defaultMode:t="light",defaultLightColorScheme:e,defaultDarkColorScheme:n,supportedColorSchemes:s=[],modeStorageKey:a=AC,colorSchemeStorageKey:l=SC,storageWindow:c=typeof window>"u"?void 0:window,storageManager:h=Kz,noSsr:d=!1}=i,p=s.join(","),y=s.length>1,b=M.useMemo(()=>h==null?void 0:h({key:a,storageWindow:c}),[h,a,c]),E=M.useMemo(()=>h==null?void 0:h({key:`${l}-light`,storageWindow:c}),[h,l,c]),A=M.useMemo(()=>h==null?void 0:h({key:`${l}-dark`,storageWindow:c}),[h,l,c]),[S,C]=M.useState(()=>{const R=(b==null?void 0:b.get(t))||t,N=(E==null?void 0:E.get(e))||e,T=(A==null?void 0:A.get(n))||n;return{mode:R,systemMode:$P(R),lightColorScheme:N,darkColorScheme:T}}),[x,F]=M.useState(d||!y);M.useEffect(()=>{F(!0)},[]);const k=Yz(S),D=M.useCallback(R=>{C(N=>{if(R===N.mode)return N;const T=R??t;return b==null||b.set(T),{...N,mode:T,systemMode:$P(T)}})},[b,t]),U=M.useCallback(R=>{R?typeof R=="string"?R&&!p.includes(R)?console.error(`\`${R}\` does not exist in \`theme.colorSchemes\`.`):C(N=>{const T={...N};return qL(N,B=>{B==="light"&&(E==null||E.set(R),T.lightColorScheme=R),B==="dark"&&(A==null||A.set(R),T.darkColorScheme=R)}),T}):C(N=>{const T={...N},B=R.light===null?e:R.light,q=R.dark===null?n:R.dark;return B&&(p.includes(B)?(T.lightColorScheme=B,E==null||E.set(B)):console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`)),q&&(p.includes(q)?(T.darkColorScheme=q,A==null||A.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),T}):C(N=>(E==null||E.set(e),A==null||A.set(n),{...N,lightColorScheme:e,darkColorScheme:n}))},[p,E,A,e,n]),W=M.useCallback(R=>{S.mode==="system"&&C(N=>{const T=R!=null&&R.matches?"dark":"light";return N.systemMode===T?N:{...N,systemMode:T}})},[S.mode]),L=M.useRef(W);return L.current=W,M.useEffect(()=>{if(typeof window.matchMedia!="function"||!y)return;const R=(...T)=>L.current(...T),N=window.matchMedia("(prefers-color-scheme: dark)");return N.addListener(R),R(N),()=>{N.removeListener(R)}},[y]),M.useEffect(()=>{if(y){const R=(b==null?void 0:b.subscribe(B=>{(!B||["light","dark","system"].includes(B))&&D(B||t)}))||tT,N=(E==null?void 0:E.subscribe(B=>{(!B||p.match(B))&&U({light:B})}))||tT,T=(A==null?void 0:A.subscribe(B=>{(!B||p.match(B))&&U({dark:B})}))||tT;return()=>{R(),N(),T()}}},[U,D,p,t,c,y,b,E,A]),{...S,mode:x?S.mode:void 0,systemMode:x?S.systemMode:void 0,colorScheme:x?k:void 0,setMode:D,setColorScheme:U}}const Qz="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Zz(i){const{themeId:t,theme:e={},modeStorageKey:n=AC,colorSchemeStorageKey:s=SC,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:c}=i,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=M.createContext(void 0),p=()=>M.useContext(d)||h,y={},b={};function E(x){var Re,ee,Je,Oe;const{children:F,theme:k,modeStorageKey:D=n,colorSchemeStorageKey:U=s,disableTransitionOnChange:W=a,storageManager:L,storageWindow:R=typeof window>"u"?void 0:window,documentNode:N=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:B=!1,disableStyleSheetGeneration:q=!1,defaultMode:z="system",forceThemeRerender:ct=!1,noSsr:nt}=x,Y=M.useRef(!1),Q=EC(),at=M.useContext(d),dt=!!at&&!B,K=M.useMemo(()=>k||(typeof e=="function"?e():e),[k]),rt=K[t],ut=rt||K,{colorSchemes:st=y,components:bt=b,cssVarPrefix:wt}=ut,Et=Object.keys(st).filter(De=>!!st[De]).join(","),Ct=M.useMemo(()=>Et.split(","),[Et]),Bt=typeof l=="string"?l:l.light,zt=typeof l=="string"?l:l.dark,At=st[Bt]&&st[zt]?z:((ee=(Re=st[ut.defaultColorScheme])==null?void 0:Re.palette)==null?void 0:ee.mode)||((Je=ut.palette)==null?void 0:Je.mode),{mode:Ht,setMode:Gt,systemMode:Ot,lightColorScheme:Pt,darkColorScheme:Wt,colorScheme:ue,setColorScheme:fe}=Xz({supportedColorSchemes:Ct,defaultLightColorScheme:Bt,defaultDarkColorScheme:zt,modeStorageKey:D,colorSchemeStorageKey:U,defaultMode:At,storageManager:L,storageWindow:R,noSsr:nt});let ke=Ht,Ue=ue;dt&&(ke=at.mode,Ue=at.colorScheme);let $e=Ue||ut.defaultColorScheme;ut.vars&&!ct&&($e=ut.defaultColorScheme);const pe=M.useMemo(()=>{var On;const De=((On=ut.generateThemeVars)==null?void 0:On.call(ut))||ut.vars,Kt={...ut,components:bt,colorSchemes:st,cssVarPrefix:wt,vars:De};if(typeof Kt.generateSpacing=="function"&&(Kt.spacing=Kt.generateSpacing()),$e){const vn=st[$e];vn&&typeof vn=="object"&&Object.keys(vn).forEach(Dn=>{vn[Dn]&&typeof vn[Dn]=="object"?Kt[Dn]={...Kt[Dn],...vn[Dn]}:Kt[Dn]=vn[Dn]})}return c?c(Kt):Kt},[ut,$e,bt,st,wt]),Dt=ut.colorSchemeSelector;Qc(()=>{if(Ue&&T&&Dt&&Dt!=="media"){const De=Dt;let Kt=Dt;if(De==="class"&&(Kt=".%s"),De==="data"&&(Kt="[data-%s]"),De!=null&&De.startsWith("data-")&&!De.includes("%s")&&(Kt=`[${De}="%s"]`),Kt.startsWith("."))T.classList.remove(...Ct.map(On=>Kt.substring(1).replace("%s",On))),T.classList.add(Kt.substring(1).replace("%s",Ue));else{const On=Kt.replace("%s",Ue).match(/\[([^\]]+)\]/);if(On){const[vn,Dn]=On[1].split("=");Dn||Ct.forEach(Lt=>{T.removeAttribute(vn.replace(Ue,Lt))}),T.setAttribute(vn,Dn?Dn.replace(/"|'/g,""):"")}else T.setAttribute(Kt,Ue)}}},[Ue,Dt,T,Ct]),M.useEffect(()=>{let De;if(W&&Y.current&&N){const Kt=N.createElement("style");Kt.appendChild(N.createTextNode(Qz)),N.head.appendChild(Kt),window.getComputedStyle(N.body),De=setTimeout(()=>{N.head.removeChild(Kt)},1)}return()=>{clearTimeout(De)}},[Ue,W,N]),M.useEffect(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const oi=M.useMemo(()=>({allColorSchemes:Ct,colorScheme:Ue,darkColorScheme:Wt,lightColorScheme:Pt,mode:ke,setColorScheme:fe,setMode:Gt,systemMode:Ot}),[Ct,Ue,Wt,Pt,ke,fe,Gt,Ot,pe.colorSchemeSelector]);let Ze=!0;(q||ut.cssVariables===!1||dt&&(Q==null?void 0:Q.cssVarPrefix)===wt)&&(Ze=!1);const Wi=O.jsxs(M.Fragment,{children:[O.jsx($L,{themeId:rt?t:void 0,theme:pe,children:F}),Ze&&O.jsx(RL,{styles:((Oe=pe.generateStyleSheets)==null?void 0:Oe.call(pe))||[]})]});return dt?Wi:O.jsx(d.Provider,{value:oi,children:Wi})}const A=typeof l=="string"?l:l.light,S=typeof l=="string"?l:l.dark;return{CssVarsProvider:E,useColorScheme:p,getInitColorSchemeScript:x=>Gz({colorSchemeStorageKey:s,defaultLightColorScheme:A,defaultDarkColorScheme:S,modeStorageKey:n,...x})}}function Jz(i=""){function t(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${s}${t(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${i?`${i}-`:""}${n}${t(...s)})`}const qP=(i,t,e,n=[])=>{let s=i;t.forEach((a,l)=>{l===t.length-1?Array.isArray(s)?s[Number(a)]=e:s&&typeof s=="object"&&(s[a]=e):s&&typeof s=="object"&&(s[a]||(s[a]=n.includes(a)?[]:{}),s=s[a])})},t9=(i,t,e)=>{function n(s,a=[],l=[]){Object.entries(s).forEach(([c,h])=>{(!e||e&&!e([...a,c]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?n(h,[...a,c],Array.isArray(h)?[...l,c]:l):t([...a,c],h,l))})}n(i)},e9=(i,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>i.includes(n))||i[i.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function eT(i,t){const{prefix:e,shouldSkipGeneratingVar:n}=t||{},s={},a={},l={};return t9(i,(c,h,d)=>{if((typeof h=="string"||typeof h=="number")&&(!n||!n(c,h))){const p=`--${e?`${e}-`:""}${c.join("-")}`,y=e9(c,h);Object.assign(s,{[p]:y}),qP(a,c,`var(${p})`,d),qP(l,c,`var(${p}, ${y})`,d)}},c=>c[0]==="vars"),{css:s,vars:a,varsWithDefaults:l}}function n9(i,t={}){const{getSelector:e=C,disableCssColorScheme:n,colorSchemeSelector:s}=t,{colorSchemes:a={},components:l,defaultColorScheme:c="light",...h}=i,{vars:d,css:p,varsWithDefaults:y}=eT(h,t);let b=y;const E={},{[c]:A,...S}=a;if(Object.entries(S||{}).forEach(([k,D])=>{const{vars:U,css:W,varsWithDefaults:L}=eT(D,t);b=cs(b,L),E[k]={css:W,vars:U}}),A){const{css:k,vars:D,varsWithDefaults:U}=eT(A,t);b=cs(b,U),E[c]={css:k,vars:D}}function C(k,D){var W,L;let U=s;if(s==="class"&&(U=".%s"),s==="data"&&(U="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(U=`[${s}="%s"]`),k){if(U==="media")return i.defaultColorScheme===k?":root":{[`@media (prefers-color-scheme: ${((L=(W=a[k])==null?void 0:W.palette)==null?void 0:L.mode)||k})`]:{":root":D}};if(U)return i.defaultColorScheme===k?`:root, ${U.replace("%s",String(k))}`:U.replace("%s",String(k))}return":root"}return{vars:b,generateThemeVars:()=>{let k={...d};return Object.entries(E).forEach(([,{vars:D}])=>{k=cs(k,D)}),k},generateStyleSheets:()=>{var R,N;const k=[],D=i.defaultColorScheme||"light";function U(T,B){Object.keys(B).length&&k.push(typeof T=="string"?{[T]:{...B}}:T)}U(e(void 0,{...p}),p);const{[D]:W,...L}=E;if(W){const{css:T}=W,B=(N=(R=a[D])==null?void 0:R.palette)==null?void 0:N.mode,q=!n&&B?{colorScheme:B,...T}:{...T};U(e(D,{...q}),q)}return Object.entries(L).forEach(([T,{css:B}])=>{var ct,nt;const q=(nt=(ct=a[T])==null?void 0:ct.palette)==null?void 0:nt.mode,z=!n&&q?{colorScheme:q,...B}:{...B};U(e(T,{...z}),z)}),k}}}function i9(i){return function(e){return i==="media"?`@media (prefers-color-scheme: ${e})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${e}"] &`:i==="class"?`.${e} &`:i==="data"?`[data-${e}] &`:`${i.replace("%s",e)} &`:"&"}}function Qe(i,t,e=void 0){const n={};for(const s in i){const a=i[s];let l="",c=!0;for(let h=0;h<a.length;h+=1){const d=a[h];d&&(l+=(c===!0?"":" ")+t(d),c=!1,e&&e[d]&&(l+=" "+e[d]))}n[s]=l}return n}function nT(i,t){var e,n,s;return M.isValidElement(i)&&t.indexOf(i.type.muiName??((s=(n=(e=i.type)==null?void 0:e._payload)==null?void 0:n.value)==null?void 0:s.muiName))!==-1}const Ya="$$material",gy={black:"#000",white:"#fff"},s9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},uf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},hf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Sm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},df={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ff={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},pf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function GL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gy.white,default:gy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const r9=GL();function WL(){return{text:{primary:gy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const GP=WL();function WP(i,t,e,n){const s=n.light||n,a=n.dark||n*1.5;i[t]||(i.hasOwnProperty(e)?i[t]=i[e]:t==="light"?i.light=_C(i.main,s):t==="dark"&&(i.dark=bC(i.main,a)))}function a9(i="light"){return i==="dark"?{main:df[200],light:df[50],dark:df[400]}:{main:df[700],light:df[400],dark:df[800]}}function o9(i="light"){return i==="dark"?{main:uf[200],light:uf[50],dark:uf[400]}:{main:uf[500],light:uf[300],dark:uf[700]}}function l9(i="light"){return i==="dark"?{main:hf[500],light:hf[300],dark:hf[700]}:{main:hf[700],light:hf[400],dark:hf[800]}}function c9(i="light"){return i==="dark"?{main:ff[400],light:ff[300],dark:ff[700]}:{main:ff[700],light:ff[500],dark:ff[900]}}function u9(i="light"){return i==="dark"?{main:pf[400],light:pf[300],dark:pf[700]}:{main:pf[800],light:pf[500],dark:pf[900]}}function h9(i="light"){return i==="dark"?{main:Sm[400],light:Sm[300],dark:Sm[700]}:{main:"#ed6c02",light:Sm[500],dark:Sm[900]}}function wC(i){const{mode:t="light",contrastThreshold:e=3,tonalOffset:n=.2,...s}=i,a=i.primary||a9(t),l=i.secondary||o9(t),c=i.error||l9(t),h=i.info||c9(t),d=i.success||u9(t),p=i.warning||h9(t);function y(S){return Oz(S,GP.text.primary)>=e?GP.text.primary:r9.text.primary}const b=({color:S,name:C,mainShade:x=500,lightShade:F=300,darkShade:k=700})=>{if(S={...S},!S.main&&S[x]&&(S.main=S[x]),!S.hasOwnProperty("main"))throw new Error(vl(11,C?` (${C})`:"",x));if(typeof S.main!="string")throw new Error(vl(12,C?` (${C})`:"",JSON.stringify(S.main)));return WP(S,"light",F,n),WP(S,"dark",k,n),S.contrastText||(S.contrastText=y(S.main)),S};let E;return t==="light"?E=GL():t==="dark"&&(E=WL()),cs({common:{...gy},mode:t,primary:b({color:a,name:"primary"}),secondary:b({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:c,name:"error"}),warning:b({color:p,name:"warning"}),info:b({color:h,name:"info"}),success:b({color:d,name:"success"}),grey:s9,contrastThreshold:e,getContrastText:y,augmentColor:b,tonalOffset:n,...E},s)}function d9(i){const t={};return Object.entries(i).forEach(n=>{const[s,a]=n;typeof a=="object"&&(t[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function f9(i,t){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...t}}function p9(i){return Math.round(i*1e5)/1e5}const KP={textTransform:"uppercase"},YP='"Roboto", "Helvetica", "Arial", sans-serif';function KL(i,t){const{fontFamily:e=YP,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:d,pxToRem:p,...y}=typeof t=="function"?t(i):t,b=n/14,E=p||(C=>`${C/h*b}rem`),A=(C,x,F,k,D)=>({fontFamily:e,fontWeight:C,fontSize:E(x),lineHeight:F,...e===YP?{letterSpacing:`${p9(k/x)}em`}:{},...D,...d}),S={h1:A(s,96,1.167,-1.5),h2:A(s,60,1.2,-.5),h3:A(a,48,1.167,0),h4:A(a,34,1.235,.25),h5:A(a,24,1.334,0),h6:A(l,20,1.6,.15),subtitle1:A(a,16,1.75,.15),subtitle2:A(l,14,1.57,.1),body1:A(a,16,1.5,.15),body2:A(a,14,1.43,.15),button:A(l,14,1.75,.4,KP),caption:A(a,12,1.66,.4),overline:A(a,12,2.66,1,KP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return cs({htmlFontSize:h,pxToRem:E,fontFamily:e,fontSize:n,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c,...S},y,{clone:!1})}const g9=.2,m9=.14,y9=.12;function En(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${g9})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${m9})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${y9})`].join(",")}const v9=["none",En(0,2,1,-1,0,1,1,0,0,1,3,0),En(0,3,1,-2,0,2,2,0,0,1,5,0),En(0,3,3,-2,0,3,4,0,0,1,8,0),En(0,2,4,-1,0,4,5,0,0,1,10,0),En(0,3,5,-1,0,5,8,0,0,1,14,0),En(0,3,5,-1,0,6,10,0,0,1,18,0),En(0,4,5,-2,0,7,10,1,0,2,16,1),En(0,5,5,-3,0,8,10,1,0,3,14,2),En(0,5,6,-3,0,9,12,1,0,3,16,2),En(0,6,6,-3,0,10,14,1,0,4,18,3),En(0,6,7,-4,0,11,15,1,0,4,20,3),En(0,7,8,-4,0,12,17,2,0,5,22,4),En(0,7,8,-4,0,13,19,2,0,5,24,4),En(0,7,9,-4,0,14,21,2,0,5,26,4),En(0,8,9,-5,0,15,22,2,0,6,28,5),En(0,8,10,-5,0,16,24,2,0,6,30,5),En(0,8,11,-5,0,17,26,2,0,6,32,5),En(0,9,11,-5,0,18,28,2,0,7,34,6),En(0,9,12,-6,0,19,29,2,0,7,36,6),En(0,10,13,-6,0,20,31,3,0,8,38,7),En(0,10,13,-6,0,21,33,3,0,8,40,7),En(0,10,14,-6,0,22,35,3,0,8,42,7),En(0,11,14,-7,0,23,36,3,0,9,44,8),En(0,11,15,-7,0,24,38,3,0,9,46,8)],b9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XP(i){return`${Math.round(i)}ms`}function E9(i){if(!i)return 0;const t=i/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function A9(i){const t={...b9,...i.easing},e={..._9,...i.duration};return{getAutoHeightDuration:E9,create:(s=["all"],a={})=>{const{duration:l=e.standard,easing:c=t.easeInOut,delay:h=0,...d}=a;return(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof l=="string"?l:XP(l)} ${c} ${typeof h=="string"?h:XP(h)}`).join(",")},...i,easing:t,duration:e}}const S9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function w9(i){return Ga(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function YL(i={}){const t={...i};function e(n){const s=Object.entries(n);for(let a=0;a<s.length;a++){const[l,c]=s[a];!w9(c)||l.startsWith("unstable_")?delete n[l]:Ga(c)&&(n[l]={...c},e(n[l]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function zT(i={},...t){const{breakpoints:e,mixins:n={},spacing:s,palette:a={},transitions:l={},typography:c={},shape:h,...d}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(vl(20));const p=wC(a),y=mC(i);let b=cs(y,{mixins:f9(y.breakpoints,n),palette:p,shadows:v9.slice(),typography:KL(p,c),transitions:A9(l),zIndex:{...S9}});return b=cs(b,d),b=t.reduce((E,A)=>cs(E,A),b),b.unstable_sxConfig={...Kv,...d==null?void 0:d.unstable_sxConfig},b.unstable_sx=function(A){return Xc({sx:A,theme:this})},b.toRuntimeSource=YL,b}function HT(i){let t;return i<1?t=5.11916*i**2:t=4.5*Math.log(i+1)+2,Math.round(t*10)/1e3}const T9=[...Array(25)].map((i,t)=>{if(t===0)return"none";const e=HT(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function XL(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function QL(i){return i==="dark"?T9:[]}function x9(i){const{palette:t={mode:"light"},opacity:e,overlays:n,...s}=i,a=wC(t);return{palette:a,opacity:{...XL(a.mode),...e},overlays:n||QL(a.mode),...s}}function C9(i){var t;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((t=i[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const R9=i=>[...[...Array(25)].map((t,e)=>`--${i?`${i}-`:""}overlays-${e}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],I9=i=>(t,e)=>{const n=i.rootSelector||":root",s=i.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),i.defaultColorScheme===t){if(t==="dark"){const l={};return R9(i.cssVarPrefix).forEach(c=>{l[c]=e[c],delete e[c]}),a==="media"?{[n]:e,"@media (prefers-color-scheme: dark)":{[n]:l}}:a?{[a.replace("%s",t)]:l,[`${n}, ${a.replace("%s",t)}`]:e}:{[n]:{...e,...l}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:e}};if(a)return a.replace("%s",String(t))}return n};function k9(i,t){t.forEach(e=>{i[e]||(i[e]={})})}function ft(i,t,e){!i[t]&&e&&(i[t]=e)}function Mm(i){return typeof i!="string"||!i.startsWith("hsl")?i:BL(i)}function Oo(i,t){`${t}Channel`in i||(i[`${t}Channel`]=Pm(Mm(i[t])))}function P9(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const Aa=i=>{try{return i()}catch{}},M9=(i="mui")=>Jz(i);function iT(i,t,e,n){if(!t)return;t=t===!0?{}:t;const s=n==="dark"?"dark":"light";if(!e){i[n]=x9({...t,palette:{mode:s,...t==null?void 0:t.palette}});return}const{palette:a,...l}=zT({...e,palette:{mode:s,...t==null?void 0:t.palette}});return i[n]={...t,palette:a,opacity:{...XL(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||QL(s)},l}function O9(i={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=C9,colorSchemeSelector:c=e.light&&e.dark?"media":void 0,rootSelector:h=":root",...d}=i,p=Object.keys(e)[0],y=n||(e.light&&p!=="light"?"light":p),b=M9(a),{[y]:E,light:A,dark:S,...C}=e,x={...C};let F=E;if((y==="dark"&&!("dark"in e)||y==="light"&&!("light"in e))&&(F=!0),!F)throw new Error(vl(21,y));const k=iT(x,F,d,y);A&&!x.light&&iT(x,A,void 0,"light"),S&&!x.dark&&iT(x,S,void 0,"dark");let D={defaultColorScheme:y,...k,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:h,getCssVar:b,colorSchemes:x,font:{...d9(k.typography),...k.font},spacing:P9(d.spacing)};Object.keys(D.colorSchemes).forEach(N=>{const T=D.colorSchemes[N].palette,B=q=>{const z=q.split("-"),ct=z[1],nt=z[2];return b(q,T[ct][nt])};if(T.mode==="light"&&(ft(T.common,"background","#fff"),ft(T.common,"onBackground","#000")),T.mode==="dark"&&(ft(T.common,"background","#000"),ft(T.common,"onBackground","#fff")),k9(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ft(T.Alert,"errorColor",un(T.error.light,.6)),ft(T.Alert,"infoColor",un(T.info.light,.6)),ft(T.Alert,"successColor",un(T.success.light,.6)),ft(T.Alert,"warningColor",un(T.warning.light,.6)),ft(T.Alert,"errorFilledBg",B("palette-error-main")),ft(T.Alert,"infoFilledBg",B("palette-info-main")),ft(T.Alert,"successFilledBg",B("palette-success-main")),ft(T.Alert,"warningFilledBg",B("palette-warning-main")),ft(T.Alert,"errorFilledColor",Aa(()=>T.getContrastText(T.error.main))),ft(T.Alert,"infoFilledColor",Aa(()=>T.getContrastText(T.info.main))),ft(T.Alert,"successFilledColor",Aa(()=>T.getContrastText(T.success.main))),ft(T.Alert,"warningFilledColor",Aa(()=>T.getContrastText(T.warning.main))),ft(T.Alert,"errorStandardBg",hn(T.error.light,.9)),ft(T.Alert,"infoStandardBg",hn(T.info.light,.9)),ft(T.Alert,"successStandardBg",hn(T.success.light,.9)),ft(T.Alert,"warningStandardBg",hn(T.warning.light,.9)),ft(T.Alert,"errorIconColor",B("palette-error-main")),ft(T.Alert,"infoIconColor",B("palette-info-main")),ft(T.Alert,"successIconColor",B("palette-success-main")),ft(T.Alert,"warningIconColor",B("palette-warning-main")),ft(T.AppBar,"defaultBg",B("palette-grey-100")),ft(T.Avatar,"defaultBg",B("palette-grey-400")),ft(T.Button,"inheritContainedBg",B("palette-grey-300")),ft(T.Button,"inheritContainedHoverBg",B("palette-grey-A100")),ft(T.Chip,"defaultBorder",B("palette-grey-400")),ft(T.Chip,"defaultAvatarColor",B("palette-grey-700")),ft(T.Chip,"defaultIconColor",B("palette-grey-700")),ft(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ft(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ft(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ft(T.LinearProgress,"primaryBg",hn(T.primary.main,.62)),ft(T.LinearProgress,"secondaryBg",hn(T.secondary.main,.62)),ft(T.LinearProgress,"errorBg",hn(T.error.main,.62)),ft(T.LinearProgress,"infoBg",hn(T.info.main,.62)),ft(T.LinearProgress,"successBg",hn(T.success.main,.62)),ft(T.LinearProgress,"warningBg",hn(T.warning.main,.62)),ft(T.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),ft(T.Slider,"primaryTrack",hn(T.primary.main,.62)),ft(T.Slider,"secondaryTrack",hn(T.secondary.main,.62)),ft(T.Slider,"errorTrack",hn(T.error.main,.62)),ft(T.Slider,"infoTrack",hn(T.info.main,.62)),ft(T.Slider,"successTrack",hn(T.success.main,.62)),ft(T.Slider,"warningTrack",hn(T.warning.main,.62));const q=F0(T.background.default,.8);ft(T.SnackbarContent,"bg",q),ft(T.SnackbarContent,"color",Aa(()=>T.getContrastText(q))),ft(T.SpeedDialAction,"fabHoverBg",F0(T.background.paper,.15)),ft(T.StepConnector,"border",B("palette-grey-400")),ft(T.StepContent,"border",B("palette-grey-400")),ft(T.Switch,"defaultColor",B("palette-common-white")),ft(T.Switch,"defaultDisabledColor",B("palette-grey-100")),ft(T.Switch,"primaryDisabledColor",hn(T.primary.main,.62)),ft(T.Switch,"secondaryDisabledColor",hn(T.secondary.main,.62)),ft(T.Switch,"errorDisabledColor",hn(T.error.main,.62)),ft(T.Switch,"infoDisabledColor",hn(T.info.main,.62)),ft(T.Switch,"successDisabledColor",hn(T.success.main,.62)),ft(T.Switch,"warningDisabledColor",hn(T.warning.main,.62)),ft(T.TableCell,"border",hn(N0(T.divider,1),.88)),ft(T.Tooltip,"bg",N0(T.grey[700],.92))}if(T.mode==="dark"){ft(T.Alert,"errorColor",hn(T.error.light,.6)),ft(T.Alert,"infoColor",hn(T.info.light,.6)),ft(T.Alert,"successColor",hn(T.success.light,.6)),ft(T.Alert,"warningColor",hn(T.warning.light,.6)),ft(T.Alert,"errorFilledBg",B("palette-error-dark")),ft(T.Alert,"infoFilledBg",B("palette-info-dark")),ft(T.Alert,"successFilledBg",B("palette-success-dark")),ft(T.Alert,"warningFilledBg",B("palette-warning-dark")),ft(T.Alert,"errorFilledColor",Aa(()=>T.getContrastText(T.error.dark))),ft(T.Alert,"infoFilledColor",Aa(()=>T.getContrastText(T.info.dark))),ft(T.Alert,"successFilledColor",Aa(()=>T.getContrastText(T.success.dark))),ft(T.Alert,"warningFilledColor",Aa(()=>T.getContrastText(T.warning.dark))),ft(T.Alert,"errorStandardBg",un(T.error.light,.9)),ft(T.Alert,"infoStandardBg",un(T.info.light,.9)),ft(T.Alert,"successStandardBg",un(T.success.light,.9)),ft(T.Alert,"warningStandardBg",un(T.warning.light,.9)),ft(T.Alert,"errorIconColor",B("palette-error-main")),ft(T.Alert,"infoIconColor",B("palette-info-main")),ft(T.Alert,"successIconColor",B("palette-success-main")),ft(T.Alert,"warningIconColor",B("palette-warning-main")),ft(T.AppBar,"defaultBg",B("palette-grey-900")),ft(T.AppBar,"darkBg",B("palette-background-paper")),ft(T.AppBar,"darkColor",B("palette-text-primary")),ft(T.Avatar,"defaultBg",B("palette-grey-600")),ft(T.Button,"inheritContainedBg",B("palette-grey-800")),ft(T.Button,"inheritContainedHoverBg",B("palette-grey-700")),ft(T.Chip,"defaultBorder",B("palette-grey-700")),ft(T.Chip,"defaultAvatarColor",B("palette-grey-300")),ft(T.Chip,"defaultIconColor",B("palette-grey-300")),ft(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ft(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ft(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ft(T.LinearProgress,"primaryBg",un(T.primary.main,.5)),ft(T.LinearProgress,"secondaryBg",un(T.secondary.main,.5)),ft(T.LinearProgress,"errorBg",un(T.error.main,.5)),ft(T.LinearProgress,"infoBg",un(T.info.main,.5)),ft(T.LinearProgress,"successBg",un(T.success.main,.5)),ft(T.LinearProgress,"warningBg",un(T.warning.main,.5)),ft(T.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),ft(T.Slider,"primaryTrack",un(T.primary.main,.5)),ft(T.Slider,"secondaryTrack",un(T.secondary.main,.5)),ft(T.Slider,"errorTrack",un(T.error.main,.5)),ft(T.Slider,"infoTrack",un(T.info.main,.5)),ft(T.Slider,"successTrack",un(T.success.main,.5)),ft(T.Slider,"warningTrack",un(T.warning.main,.5));const q=F0(T.background.default,.98);ft(T.SnackbarContent,"bg",q),ft(T.SnackbarContent,"color",Aa(()=>T.getContrastText(q))),ft(T.SpeedDialAction,"fabHoverBg",F0(T.background.paper,.15)),ft(T.StepConnector,"border",B("palette-grey-600")),ft(T.StepContent,"border",B("palette-grey-600")),ft(T.Switch,"defaultColor",B("palette-grey-300")),ft(T.Switch,"defaultDisabledColor",B("palette-grey-600")),ft(T.Switch,"primaryDisabledColor",un(T.primary.main,.55)),ft(T.Switch,"secondaryDisabledColor",un(T.secondary.main,.55)),ft(T.Switch,"errorDisabledColor",un(T.error.main,.55)),ft(T.Switch,"infoDisabledColor",un(T.info.main,.55)),ft(T.Switch,"successDisabledColor",un(T.success.main,.55)),ft(T.Switch,"warningDisabledColor",un(T.warning.main,.55)),ft(T.TableCell,"border",un(N0(T.divider,1),.68)),ft(T.Tooltip,"bg",N0(T.grey[700],.92))}Oo(T.background,"default"),Oo(T.background,"paper"),Oo(T.common,"background"),Oo(T.common,"onBackground"),Oo(T,"divider"),Object.keys(T).forEach(q=>{const z=T[q];q!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&ft(T[q],"mainChannel",Pm(Mm(z.main))),z.light&&ft(T[q],"lightChannel",Pm(Mm(z.light))),z.dark&&ft(T[q],"darkChannel",Pm(Mm(z.dark))),z.contrastText&&ft(T[q],"contrastTextChannel",Pm(Mm(z.contrastText))),q==="text"&&(Oo(T[q],"primary"),Oo(T[q],"secondary")),q==="action"&&(z.active&&Oo(T[q],"active"),z.selected&&Oo(T[q],"selected")))})}),D=t.reduce((N,T)=>cs(N,T),D);const U={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:I9(D)},{vars:W,generateThemeVars:L,generateStyleSheets:R}=n9(D,U);return D.vars=W,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([N,T])=>{D[N]=T}),D.generateThemeVars=L,D.generateStyleSheets=R,D.generateSpacing=function(){return OL(d.spacing,pC(this))},D.getColorSchemeSelector=i9(c),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=l,D.unstable_sxConfig={...Kv,...d==null?void 0:d.unstable_sxConfig},D.unstable_sx=function(T){return Xc({sx:T,theme:this})},D.toRuntimeSource=YL,D}function QP(i,t,e){i.colorSchemes&&e&&(i.colorSchemes[t]={...e!==!0&&e,palette:wC({...e===!0?{}:e.palette,mode:t})})}function rA(i={},...t){const{palette:e,cssVariables:n=!1,colorSchemes:s=e?void 0:{light:!0},defaultColorScheme:a=e==null?void 0:e.mode,...l}=i,c=a||"light",h=s==null?void 0:s[c],d={...s,...e?{[c]:{...typeof h!="boolean"&&h,palette:e}}:void 0};if(n===!1){if(!("colorSchemes"in i))return zT(i,...t);let p=e;"palette"in i||d[c]&&(d[c]!==!0?p=d[c].palette:c==="dark"&&(p={mode:"dark"}));const y=zT({...i,palette:p},...t);return y.defaultColorScheme=c,y.colorSchemes=d,y.palette.mode==="light"&&(y.colorSchemes.light={...d.light!==!0&&d.light,palette:y.palette},QP(y,"dark",d.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:y.palette},QP(y,"light",d.light)),y}return!e&&!("light"in d)&&c==="light"&&(d.light=!0),O9({...l,colorSchemes:d,defaultColorScheme:c,...typeof n!="boolean"&&n},...t)}function D9(i){return String(i).match(/[\d.\-+]*\s*(.*)/)[1]||""}function L9(i){return parseFloat(i)}const TC=rA();function aA(){const i=yC(TC);return i[Ya]||i}function ZL(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const ra=i=>ZL(i)&&i!=="classes",Ft=Tz({themeId:Ya,defaultTheme:TC,rootShouldForwardProp:ra});function N9({theme:i,...t}){const e=Ya in i?i[Ya]:void 0;return O.jsx($L,{...t,themeId:e?Ya:void 0,theme:e||i})}const V0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:F9}=Zz({themeId:Ya,theme:()=>rA({cssVariables:!0}),colorSchemeStorageKey:V0.colorSchemeStorageKey,modeStorageKey:V0.modeStorageKey,defaultColorScheme:{light:V0.defaultLightColorScheme,dark:V0.defaultDarkColorScheme},resolveTheme:i=>{const t={...i,typography:KL(i.palette,i.typography)};return t.unstable_sx=function(n){return Xc({sx:n,theme:this})},t}}),V9=F9;function U9({theme:i,...t}){const e=M.useMemo(()=>{if(typeof i=="function")return i;const n=Ya in i?i[Ya]:i;return"colorSchemes"in n?null:"vars"in n?i:{...i,vars:null}},[i]);return e?O.jsx(N9,{theme:e,...t}):O.jsx(V9,{theme:i,...t})}const B9=He("MuiBox",["root"]),j9=rA(),vt=_z({themeId:Ya,defaultTheme:j9,defaultClassName:B9.root,generateClassName:NL.generate});function z9(i){return O.jsx(yz,{...i,defaultTheme:TC,themeId:Ya})}function H9(i){return function(e){return O.jsx(z9,{styles:typeof i=="function"?n=>i({theme:n,...e}):i})}}function $9(){return LL}const Sn=$z;function ln(i){return Hz(i)}function q9(i){return typeof i.main=="string"}function G9(i,t=[]){if(!q9(i))return!1;for(const e of t)if(!i.hasOwnProperty(e)||typeof i[e]!="string")return!1;return!0}function _l(i=[]){return([,t])=>t&&G9(t,i)}function W9(i){return Xe("MuiTypography",i)}He("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const K9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Y9=$9(),X9=i=>{const{align:t,gutterBottom:e,noWrap:n,paragraph:s,variant:a,classes:l}=i,c={root:["root",a,i.align!=="inherit"&&`align${qt(t)}`,e&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return Qe(c,W9,l)},Q9=Ft("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${qt(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(Sn(({theme:i})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(i.palette).filter(_l()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),...Object.entries(((t=i.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${qt(e)}`},style:{color:(i.vars||i).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),ZP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xt=M.forwardRef(function(t,e){const{color:n,...s}=ln({props:t,name:"MuiTypography"}),a=!K9[n],l=Y9({...s,...a&&{color:n}}),{align:c="inherit",className:h,component:d,gutterBottom:p=!1,noWrap:y=!1,paragraph:b=!1,variant:E="body1",variantMapping:A=ZP,...S}=l,C={...l,align:c,color:n,className:h,component:d,gutterBottom:p,noWrap:y,paragraph:b,variant:E,variantMapping:A},x=d||(b?"p":A[E]||ZP[E])||"span",F=X9(C);return O.jsx(Q9,{as:x,ref:e,className:Jt(F.root,h),...S,ownerState:C,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...S.style}})});function JP(...i){return i.reduce((t,e)=>e==null?t:function(...s){t.apply(this,s),e.apply(this,s)},()=>{})}function Z9(i){return Xe("MuiSvgIcon",i)}He("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const J9=i=>{const{color:t,fontSize:e,classes:n}=i,s={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(e)}`]};return Qe(s,Z9,n)},tH=Ft("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color!=="inherit"&&t[`color${qt(e.color)}`],t[`fontSize${qt(e.fontSize)}`]]}})(Sn(({theme:i})=>{var t,e,n,s,a,l,c,h,d,p,y,b,E,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=i.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(n=(e=(i.vars??i).transitions)==null?void 0:e.duration)==null?void 0:n.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(a=i.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(c=i.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=i.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,S])=>S&&S.main).map(([S])=>{var C,x;return{props:{color:S},style:{color:(x=(C=(i.vars??i).palette)==null?void 0:C[S])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(b=(y=(i.vars??i).palette)==null?void 0:y.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(A=(E=(i.vars??i).palette)==null?void 0:E.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),$T=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiSvgIcon"}),{children:s,className:a,color:l="inherit",component:c="svg",fontSize:h="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:y,viewBox:b="0 0 24 24",...E}=n,A=M.isValidElement(s)&&s.type==="svg",S={...n,color:l,component:c,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:b,hasSvgAsChild:A},C={};p||(C.viewBox=b);const x=J9(S);return O.jsxs(tH,{as:c,className:Jt(x.root,a),focusable:"false",color:d,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:e,...C,...E,...A&&s.props,ownerState:S,children:[A?s.props.children:s,y?O.jsx("title",{children:y}):null]})});$T.muiName="SvgIcon";function Oi(i,t){function e(n,s){return O.jsx($T,{"data-testid":void 0,ref:s,...n,children:i})}return e.muiName=$T.muiName,M.memo(M.forwardRef(e))}function JL(i,t=166){let e;function n(...s){const a=()=>{i.apply(this,s)};clearTimeout(e),e=setTimeout(a,t)}return n.clear=()=>{clearTimeout(e)},n}function na(i){return i&&i.ownerDocument||document}function El(i){return na(i).defaultView||window}function tM(i,t){typeof i=="function"?i(t):i&&(i.current=t)}let eM=0;function eH(i){const[t,e]=M.useState(i),n=i||t;return M.useEffect(()=>{t==null&&(eM+=1,e(`mui-${eM}`))},[t]),n}const nH={...DT},nM=nH.useId;function Yv(i){if(nM!==void 0){const t=nM();return i??t}return eH(i)}function iM(i){const{controlled:t,default:e,name:n,state:s="value"}=i,{current:a}=M.useRef(t!==void 0),[l,c]=M.useState(e),h=a?t:l,d=M.useCallback(p=>{a||c(p)},[]);return[h,d]}function Zh(i){const t=M.useRef(i);return Qc(()=>{t.current=i}),M.useRef((...e)=>(0,t.current)(...e)).current}function Ds(...i){const t=M.useRef(void 0),e=M.useCallback(n=>{const s=i.map(a=>{if(a==null)return null;if(typeof a=="function"){const l=a,c=l(n);return typeof c=="function"?c:()=>{l(null)}}return a.current=n,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},i);return M.useMemo(()=>i.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=e(n))},i)}function iH(i,t){const e=i.charCodeAt(2);return i[0]==="o"&&i[1]==="n"&&e>=65&&e<=90&&typeof t=="function"}function sH(i,t){if(!i)return t;function e(l,c){const h={};return Object.keys(c).forEach(d=>{iH(d,c[d])&&typeof l[d]=="function"&&(h[d]=(...p)=>{l[d](...p),c[d](...p)})}),h}if(typeof i=="function"||typeof t=="function")return l=>{const c=typeof t=="function"?t(l):t,h=typeof i=="function"?i({...l,...c}):i,d=Jt(l==null?void 0:l.className,c==null?void 0:c.className,h==null?void 0:h.className),p=e(h,c);return{...c,...h,...p,...!!d&&{className:d},...(c==null?void 0:c.style)&&(h==null?void 0:h.style)&&{style:{...c.style,...h.style}},...(c==null?void 0:c.sx)&&(h==null?void 0:h.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(h.sx)?h.sx:[h.sx]]}}};const n=t,s=e(i,n),a=Jt(n==null?void 0:n.className,i==null?void 0:i.className);return{...t,...i,...s,...!!a&&{className:a},...(n==null?void 0:n.style)&&(i==null?void 0:i.style)&&{style:{...n.style,...i.style}},...(n==null?void 0:n.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function tN(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}function qT(i,t){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},qT(i,t)}function eN(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,qT(i,t)}const sM={disabled:!1},J_=er.createContext(null);var rH=function(t){return t.scrollTop},Om="unmounted",qu="exited",Gu="entering",vf="entered",GT="exiting",so=function(i){eN(t,i);function t(n,s){var a;a=i.call(this,n,s)||this;var l=s,c=l&&!l.isMounting?n.enter:n.appear,h;return a.appearStatus=null,n.in?c?(h=qu,a.appearStatus=Gu):h=vf:n.unmountOnExit||n.mountOnEnter?h=Om:h=qu,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===Om?{status:qu}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Gu&&l!==vf&&(a=Gu):(l===Gu||l===vf)&&(a=GT)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,a,l,c;return a=l=c=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:c}},e.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Gu){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:D0.findDOMNode(this);l&&rH(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qu&&this.setState({status:Om})},e.performEnter=function(s){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:s,h=this.props.nodeRef?[c]:[D0.findDOMNode(this),c],d=h[0],p=h[1],y=this.getTimeouts(),b=c?y.appear:y.enter;if(!s&&!l||sM.disabled){this.safeSetState({status:vf},function(){a.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:Gu},function(){a.props.onEntering(d,p),a.onTransitionEnd(b,function(){a.safeSetState({status:vf},function(){a.props.onEntered(d,p)})})})},e.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:D0.findDOMNode(this);if(!a||sM.disabled){this.safeSetState({status:qu},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:GT},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:qu},function(){s.props.onExited(c)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},e.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:D0.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],p=h[1];this.props.addEndListener(d,p)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===Om)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=tN(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return er.createElement(J_.Provider,{value:null},typeof l=="function"?l(s,c):er.cloneElement(er.Children.only(l),c))},t}(er.Component);so.contextType=J_;so.propTypes={};function gf(){}so.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gf,onEntering:gf,onEntered:gf,onExit:gf,onExiting:gf,onExited:gf};so.UNMOUNTED=Om;so.EXITED=qu;so.ENTERING=Gu;so.ENTERED=vf;so.EXITING=GT;function aH(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function xC(i,t){var e=function(a){return t&&M.isValidElement(a)?t(a):a},n=Object.create(null);return i&&M.Children.map(i,function(s){return s}).forEach(function(s){n[s.key]=e(s)}),n}function oH(i,t){i=i||{},t=t||{};function e(p){return p in t?t[p]:i[p]}var n=Object.create(null),s=[];for(var a in i)a in t?s.length&&(n[a]=s,s=[]):s.push(a);var l,c={};for(var h in t){if(n[h])for(l=0;l<n[h].length;l++){var d=n[h][l];c[n[h][l]]=e(d)}c[h]=e(h)}for(l=0;l<s.length;l++)c[s[l]]=e(s[l]);return c}function th(i,t,e){return e[t]!=null?e[t]:i.props[t]}function lH(i,t){return xC(i.children,function(e){return M.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:th(e,"appear",i),enter:th(e,"enter",i),exit:th(e,"exit",i)})})}function cH(i,t,e){var n=xC(i.children),s=oH(t,n);return Object.keys(s).forEach(function(a){var l=s[a];if(M.isValidElement(l)){var c=a in t,h=a in n,d=t[a],p=M.isValidElement(d)&&!d.props.in;h&&(!c||p)?s[a]=M.cloneElement(l,{onExited:e.bind(null,l),in:!0,exit:th(l,"exit",i),enter:th(l,"enter",i)}):!h&&c&&!p?s[a]=M.cloneElement(l,{in:!1}):h&&c&&M.isValidElement(d)&&(s[a]=M.cloneElement(l,{onExited:e.bind(null,l),in:d.props.in,exit:th(l,"exit",i),enter:th(l,"enter",i)}))}}),s}var uH=Object.values||function(i){return Object.keys(i).map(function(t){return i[t]})},hH={component:"div",childFactory:function(t){return t}},CC=function(i){eN(t,i);function t(n,s){var a;a=i.call(this,n,s)||this;var l=a.handleExited.bind(aH(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,a){var l=a.children,c=a.handleExited,h=a.firstRender;return{children:h?lH(s,c):cH(s,l,c),firstRender:!1}},e.handleExited=function(s,a){var l=xC(this.props.children);s.key in l||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(c){var h=Y_({},c.children);return delete h[s.key],{children:h}}))},e.render=function(){var s=this.props,a=s.component,l=s.childFactory,c=tN(s,["component","childFactory"]),h=this.state.contextValue,d=uH(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?er.createElement(J_.Provider,{value:h},d):er.createElement(J_.Provider,{value:h},er.createElement(a,c,d))},t}(er.Component);CC.propTypes={};CC.defaultProps=hH;const rM={};function nN(i,t){const e=M.useRef(rM);return e.current===rM&&(e.current=i(t)),e}const dH=[];function fH(i){M.useEffect(i,dH)}class RC{constructor(){Qt(this,"currentId",null);Qt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Qt(this,"disposeEffect",()=>this.clear)}static create(){return new RC}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function iN(){const i=nN(RC.create).current;return fH(i.disposeEffect),i}const sN=i=>i.scrollTop;function tE(i,t){const{timeout:e,easing:n,style:s={}}=i;return{duration:s.transitionDuration??(typeof e=="number"?e:e[t.mode]||0),easing:s.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:s.transitionDelay}}function pH(i){return Xe("MuiPaper",i)}He("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gH=i=>{const{square:t,elevation:e,variant:n,classes:s}=i,a={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${e}`]};return Qe(a,pH,s)},mH=Ft("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(Sn(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),oA=M.forwardRef(function(t,e){var E;const n=ln({props:t,name:"MuiPaper"}),s=aA(),{className:a,component:l="div",elevation:c=1,square:h=!1,variant:d="elevation",...p}=n,y={...n,component:l,elevation:c,square:h,variant:d},b=gH(y);return O.jsx(mH,{as:l,ownerState:y,className:Jt(b.root,a),ref:e,...p,style:{...d==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[c],...s.vars&&{"--Paper-overlay":(E=s.vars.overlays)==null?void 0:E[c]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Qr("#fff",HT(c))}, ${Qr("#fff",HT(c))})`}},...p.style}})});function yH(i){return typeof i=="string"}function rN(i,t,e){return i===void 0||yH(i)?t:{...t,ownerState:{...t.ownerState,...e}}}function aN(i,t,e){return typeof i=="function"?i(t,e):i}function oN(i,t=[]){if(i===void 0)return{};const e={};return Object.keys(i).filter(n=>n.match(/^on[A-Z]/)&&typeof i[n]=="function"&&!t.includes(n)).forEach(n=>{e[n]=i[n]}),e}function aM(i){if(i===void 0)return{};const t={};return Object.keys(i).filter(e=>!(e.match(/^on[A-Z]/)&&typeof i[e]=="function")).forEach(e=>{t[e]=i[e]}),t}function lN(i){const{getSlotProps:t,additionalProps:e,externalSlotProps:n,externalForwardedProps:s,className:a}=i;if(!t){const E=Jt(e==null?void 0:e.className,a,s==null?void 0:s.className,n==null?void 0:n.className),A={...e==null?void 0:e.style,...s==null?void 0:s.style,...n==null?void 0:n.style},S={...e,...s,...n};return E.length>0&&(S.className=E),Object.keys(A).length>0&&(S.style=A),{props:S,internalRef:void 0}}const l=oN({...s,...n}),c=aM(n),h=aM(s),d=t(l),p=Jt(d==null?void 0:d.className,e==null?void 0:e.className,a,s==null?void 0:s.className,n==null?void 0:n.className),y={...d==null?void 0:d.style,...e==null?void 0:e.style,...s==null?void 0:s.style,...n==null?void 0:n.style},b={...d,...e,...h,...c};return p.length>0&&(b.className=p),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:d.ref}}function Gn(i,t){const{className:e,elementType:n,ownerState:s,externalForwardedProps:a,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...h}=t,{component:d,slots:p={[i]:void 0},slotProps:y={[i]:void 0},...b}=a,E=p[i]||n,A=aN(y[i],s),{props:{component:S,...C},internalRef:x}=lN({className:e,...h,externalForwardedProps:i==="root"?b:void 0,externalSlotProps:A}),F=Ds(x,A==null?void 0:A.ref,t.ref),k=i==="root"?S||d:S,D=rN(E,{...i==="root"&&!d&&!p[i]&&l,...i!=="root"&&!p[i]&&l,...C,...k&&!c&&{as:k},...k&&c&&{component:k},ref:F},s);return[E,D]}function oM(i){try{return i.matches(":focus-visible")}catch{}return!1}class eE{constructor(){Qt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new eE}static use(){const t=nN(eE.create).current,[e,n]=M.useState(!1);return t.shouldMount=e,t.setShouldMount=n,M.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=bH(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function vH(){return eE.use()}function bH(){let i,t;const e=new Promise((n,s)=>{i=n,t=s});return e.resolve=i,e.reject=t,e}function _H(i){const{className:t,classes:e,pulsate:n=!1,rippleX:s,rippleY:a,rippleSize:l,in:c,onExited:h,timeout:d}=i,[p,y]=M.useState(!1),b=Jt(t,e.ripple,e.rippleVisible,n&&e.ripplePulsate),E={width:l,height:l,top:-(l/2)+a,left:-(l/2)+s},A=Jt(e.child,p&&e.childLeaving,n&&e.childPulsate);return!c&&!p&&y(!0),M.useEffect(()=>{if(!c&&h!=null){const S=setTimeout(h,d);return()=>{clearTimeout(S)}}},[h,c,d]),O.jsx("span",{className:b,style:E,children:O.jsx("span",{className:A})})}const Sr=He("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),WT=550,EH=80,AH=fd`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,SH=fd`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,wH=fd`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TH=Ft("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),xH=Ft(_H,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Sr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${AH};
    animation-duration: ${WT}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${Sr.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${Sr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Sr.childLeaving} {
    opacity: 0;
    animation-name: ${SH};
    animation-duration: ${WT}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${Sr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${wH};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,CH=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:l,...c}=n,[h,d]=M.useState([]),p=M.useRef(0),y=M.useRef(null);M.useEffect(()=>{y.current&&(y.current(),y.current=null)},[h]);const b=M.useRef(!1),E=iN(),A=M.useRef(null),S=M.useRef(null),C=M.useCallback(D=>{const{pulsate:U,rippleX:W,rippleY:L,rippleSize:R,cb:N}=D;d(T=>[...T,O.jsx(xH,{classes:{ripple:Jt(a.ripple,Sr.ripple),rippleVisible:Jt(a.rippleVisible,Sr.rippleVisible),ripplePulsate:Jt(a.ripplePulsate,Sr.ripplePulsate),child:Jt(a.child,Sr.child),childLeaving:Jt(a.childLeaving,Sr.childLeaving),childPulsate:Jt(a.childPulsate,Sr.childPulsate)},timeout:WT,pulsate:U,rippleX:W,rippleY:L,rippleSize:R},p.current)]),p.current+=1,y.current=N},[a]),x=M.useCallback((D={},U={},W=()=>{})=>{const{pulsate:L=!1,center:R=s||U.pulsate,fakeElement:N=!1}=U;if((D==null?void 0:D.type)==="mousedown"&&b.current){b.current=!1;return}(D==null?void 0:D.type)==="touchstart"&&(b.current=!0);const T=N?null:S.current,B=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let q,z,ct;if(R||D===void 0||D.clientX===0&&D.clientY===0||!D.clientX&&!D.touches)q=Math.round(B.width/2),z=Math.round(B.height/2);else{const{clientX:nt,clientY:Y}=D.touches&&D.touches.length>0?D.touches[0]:D;q=Math.round(nt-B.left),z=Math.round(Y-B.top)}if(R)ct=Math.sqrt((2*B.width**2+B.height**2)/3),ct%2===0&&(ct+=1);else{const nt=Math.max(Math.abs((T?T.clientWidth:0)-q),q)*2+2,Y=Math.max(Math.abs((T?T.clientHeight:0)-z),z)*2+2;ct=Math.sqrt(nt**2+Y**2)}D!=null&&D.touches?A.current===null&&(A.current=()=>{C({pulsate:L,rippleX:q,rippleY:z,rippleSize:ct,cb:W})},E.start(EH,()=>{A.current&&(A.current(),A.current=null)})):C({pulsate:L,rippleX:q,rippleY:z,rippleSize:ct,cb:W})},[s,C,E]),F=M.useCallback(()=>{x({},{pulsate:!0})},[x]),k=M.useCallback((D,U)=>{if(E.clear(),(D==null?void 0:D.type)==="touchend"&&A.current){A.current(),A.current=null,E.start(0,()=>{k(D,U)});return}A.current=null,d(W=>W.length>0?W.slice(1):W),y.current=U},[E]);return M.useImperativeHandle(e,()=>({pulsate:F,start:x,stop:k}),[F,x,k]),O.jsx(TH,{className:Jt(Sr.root,a.root,l),ref:S,...c,children:O.jsx(CC,{component:null,exit:!0,children:h})})});function RH(i){return Xe("MuiButtonBase",i)}const IH=He("MuiButtonBase",["root","disabled","focusVisible"]),kH=i=>{const{disabled:t,focusVisible:e,focusVisibleClassName:n,classes:s}=i,l=Qe({root:["root",t&&"disabled",e&&"focusVisible"]},RH,s);return e&&n&&(l.root+=` ${n}`),l},PH=Ft("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${IH.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),cN=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:l,className:c,component:h="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:y=!1,focusRipple:b=!1,focusVisibleClassName:E,LinkComponent:A="a",onBlur:S,onClick:C,onContextMenu:x,onDragLeave:F,onFocus:k,onFocusVisible:D,onKeyDown:U,onKeyUp:W,onMouseDown:L,onMouseLeave:R,onMouseUp:N,onTouchEnd:T,onTouchMove:B,onTouchStart:q,tabIndex:z=0,TouchRippleProps:ct,touchRippleRef:nt,type:Y,...Q}=n,at=M.useRef(null),dt=vH(),K=Ds(dt.ref,nt),[rt,ut]=M.useState(!1);d&&rt&&ut(!1),M.useImperativeHandle(s,()=>({focusVisible:()=>{ut(!0),at.current.focus()}}),[]);const st=dt.shouldMount&&!p&&!d;M.useEffect(()=>{rt&&b&&!p&&dt.pulsate()},[p,b,rt,dt]);const bt=Do(dt,"start",L,y),wt=Do(dt,"stop",x,y),Et=Do(dt,"stop",F,y),Ct=Do(dt,"stop",N,y),Bt=Do(dt,"stop",Dt=>{rt&&Dt.preventDefault(),R&&R(Dt)},y),zt=Do(dt,"start",q,y),At=Do(dt,"stop",T,y),Ht=Do(dt,"stop",B,y),Gt=Do(dt,"stop",Dt=>{oM(Dt.target)||ut(!1),S&&S(Dt)},!1),Ot=Zh(Dt=>{at.current||(at.current=Dt.currentTarget),oM(Dt.target)&&(ut(!0),D&&D(Dt)),k&&k(Dt)}),Pt=()=>{const Dt=at.current;return h&&h!=="button"&&!(Dt.tagName==="A"&&Dt.href)},Wt=Zh(Dt=>{b&&!Dt.repeat&&rt&&Dt.key===" "&&dt.stop(Dt,()=>{dt.start(Dt)}),Dt.target===Dt.currentTarget&&Pt()&&Dt.key===" "&&Dt.preventDefault(),U&&U(Dt),Dt.target===Dt.currentTarget&&Pt()&&Dt.key==="Enter"&&!d&&(Dt.preventDefault(),C&&C(Dt))}),ue=Zh(Dt=>{b&&Dt.key===" "&&rt&&!Dt.defaultPrevented&&dt.stop(Dt,()=>{dt.pulsate(Dt)}),W&&W(Dt),C&&Dt.target===Dt.currentTarget&&Pt()&&Dt.key===" "&&!Dt.defaultPrevented&&C(Dt)});let fe=h;fe==="button"&&(Q.href||Q.to)&&(fe=A);const ke={};fe==="button"?(ke.type=Y===void 0?"button":Y,ke.disabled=d):(!Q.href&&!Q.to&&(ke.role="button"),d&&(ke["aria-disabled"]=d));const Ue=Ds(e,at),$e={...n,centerRipple:a,component:h,disabled:d,disableRipple:p,disableTouchRipple:y,focusRipple:b,tabIndex:z,focusVisible:rt},pe=kH($e);return O.jsxs(PH,{as:fe,className:Jt(pe.root,c),ownerState:$e,onBlur:Gt,onClick:C,onContextMenu:wt,onFocus:Ot,onKeyDown:Wt,onKeyUp:ue,onMouseDown:bt,onMouseLeave:Bt,onMouseUp:Ct,onDragLeave:Et,onTouchEnd:At,onTouchMove:Ht,onTouchStart:zt,ref:Ue,tabIndex:d?-1:z,type:Y,...ke,...Q,children:[l,st?O.jsx(CH,{ref:K,center:a,...ct}):null]})});function Do(i,t,e,n=!1){return Zh(s=>(e&&e(s),n||i[t](s),!0))}function MH(i){return Xe("MuiCircularProgress",i)}He("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const rc=44,KT=fd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,YT=fd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,OH=typeof KT!="string"?qv`
        animation: ${KT} 1.4s linear infinite;
      `:null,DH=typeof YT!="string"?qv`
        animation: ${YT} 1.4s ease-in-out infinite;
      `:null,LH=i=>{const{classes:t,variant:e,color:n,disableShrink:s}=i,a={root:["root",e,`color${qt(n)}`],svg:["svg"],circle:["circle",`circle${qt(e)}`,s&&"circleDisableShrink"]};return Qe(a,MH,t)},NH=Ft("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`color${qt(e.color)}`]]}})(Sn(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:OH||{animation:`${KT} 1.4s linear infinite`}},...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}}))]}))),FH=Ft("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),VH=Ft("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.circle,t[`circle${qt(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(Sn(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:DH||{animation:`${YT} 1.4s ease-in-out infinite`}}]}))),uN=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:l=!1,size:c=40,style:h,thickness:d=3.6,value:p=0,variant:y="indeterminate",...b}=n,E={...n,color:a,disableShrink:l,size:c,thickness:d,value:p,variant:y},A=LH(E),S={},C={},x={};if(y==="determinate"){const F=2*Math.PI*((rc-d)/2);S.strokeDasharray=F.toFixed(3),x["aria-valuenow"]=Math.round(p),S.strokeDashoffset=`${((100-p)/100*F).toFixed(3)}px`,C.transform="rotate(-90deg)"}return O.jsx(NH,{className:Jt(A.root,s),style:{width:c,height:c,...C,...h},ownerState:E,ref:e,role:"progressbar",...x,...b,children:O.jsx(FH,{className:A.svg,ownerState:E,viewBox:`${rc/2} ${rc/2} ${rc} ${rc}`,children:O.jsx(VH,{className:A.circle,style:S,ownerState:E,cx:rc,cy:rc,r:(rc-d)/2,fill:"none",strokeWidth:d})})})});function UH(i){return Xe("MuiIconButton",i)}const lM=He("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),BH=i=>{const{classes:t,disabled:e,color:n,edge:s,size:a,loading:l}=i,c={root:["root",l&&"loading",e&&"disabled",n!=="default"&&`color${qt(n)}`,s&&`edge${qt(s)}`,`size${qt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Qe(c,UH,t)},jH=Ft(cN,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.loading&&t.loading,e.color!=="default"&&t[`color${qt(e.color)}`],e.edge&&t[`edge${qt(e.edge)}`],t[`size${qt(e.size)}`]]}})(Sn(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Sn(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}})),...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr((i.vars||i).palette[t].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${lM.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${lM.loading}`]:{color:"transparent"}}))),zH=Ft("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),sT=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiIconButton"}),{edge:s=!1,children:a,className:l,color:c="default",disabled:h=!1,disableFocusRipple:d=!1,size:p="medium",id:y,loading:b=null,loadingIndicator:E,...A}=n,S=Yv(y),C=E??O.jsx(uN,{"aria-labelledby":S,color:"inherit",size:16}),x={...n,edge:s,color:c,disabled:h,disableFocusRipple:d,loading:b,loadingIndicator:C,size:p},F=BH(x);return O.jsxs(jH,{id:b?S:y,className:Jt(F.root,l),centerRipple:!0,focusRipple:!d,disabled:h||b,ref:e,...A,ownerState:x,children:[typeof b=="boolean"&&O.jsx("span",{className:F.loadingWrapper,style:{display:"contents"},children:O.jsx(zH,{className:F.loadingIndicator,ownerState:x,children:b&&C})}),a]})});function HH(i){var y;const{elementType:t,externalSlotProps:e,ownerState:n,skipResolvingSlotProps:s=!1,...a}=i,l=s?{}:aN(e,n),{props:c,internalRef:h}=lN({...a,externalSlotProps:l}),d=Ds(h,l==null?void 0:l.ref,(y=i.additionalProps)==null?void 0:y.ref);return rN(t,{...c,ref:d},n)}function Xv(i){var t;return parseInt(M.version,10)>=19?((t=i==null?void 0:i.props)==null?void 0:t.ref)||null:(i==null?void 0:i.ref)||null}function $H(i){return typeof i=="function"?i():i}const qH=M.forwardRef(function(t,e){const{children:n,container:s,disablePortal:a=!1}=t,[l,c]=M.useState(null),h=Ds(M.isValidElement(n)?Xv(n):null,e);if(Qc(()=>{a||c($H(s)||document.body)},[s,a]),Qc(()=>{if(l&&!a)return tM(e,l),()=>{tM(e,null)}},[e,l,a]),a){if(M.isValidElement(n)){const d={ref:h};return M.cloneElement(n,d)}return n}return l&&pL.createPortal(n,l)});function U0(i){return parseInt(i,10)||0}const GH={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function WH(i){for(const t in i)return!1;return!0}function cM(i){return WH(i)||i.outerHeightStyle===0&&!i.overflowing}const KH=M.forwardRef(function(t,e){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:c,...h}=t,{current:d}=M.useRef(c!=null),p=M.useRef(null),y=Ds(e,p),b=M.useRef(null),E=M.useRef(null),A=M.useCallback(()=>{const k=p.current,D=E.current;if(!k||!D)return;const W=El(k).getComputedStyle(k);if(W.width==="0px")return{outerHeightStyle:0,overflowing:!1};D.style.width=W.width,D.value=k.value||t.placeholder||"x",D.value.slice(-1)===`
`&&(D.value+=" ");const L=W.boxSizing,R=U0(W.paddingBottom)+U0(W.paddingTop),N=U0(W.borderBottomWidth)+U0(W.borderTopWidth),T=D.scrollHeight;D.value="x";const B=D.scrollHeight;let q=T;a&&(q=Math.max(Number(a)*B,q)),s&&(q=Math.min(Number(s)*B,q)),q=Math.max(q,B);const z=q+(L==="border-box"?R+N:0),ct=Math.abs(q-T)<=1;return{outerHeightStyle:z,overflowing:ct}},[s,a,t.placeholder]),S=Zh(()=>{const k=p.current,D=A();if(!k||!D||cM(D))return!1;const U=D.outerHeightStyle;return b.current!=null&&b.current!==U}),C=M.useCallback(()=>{const k=p.current,D=A();if(!k||!D||cM(D))return;const U=D.outerHeightStyle;b.current!==U&&(b.current=U,k.style.height=`${U}px`),k.style.overflow=D.overflowing?"hidden":""},[A]),x=M.useRef(-1);Qc(()=>{const k=JL(C),D=p==null?void 0:p.current;if(!D)return;const U=El(D);U.addEventListener("resize",k);let W;return typeof ResizeObserver<"u"&&(W=new ResizeObserver(()=>{S()&&(W.unobserve(D),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{W.observe(D)}))}),W.observe(D)),()=>{k.clear(),cancelAnimationFrame(x.current),U.removeEventListener("resize",k),W&&W.disconnect()}},[A,C,S]),Qc(()=>{C()});const F=k=>{d||C();const D=k.target,U=D.value.length,W=D.value.endsWith(`
`),L=D.selectionStart===U;W&&L&&D.setSelectionRange(U,U),n&&n(k)};return O.jsxs(M.Fragment,{children:[O.jsx("textarea",{value:c,onChange:F,ref:y,rows:a,style:l,...h}),O.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:E,tabIndex:-1,style:{...GH.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function XT(i){return typeof i=="string"}function ag({props:i,states:t,muiFormControl:e}){return t.reduce((n,s)=>(n[s]=i[s],e&&typeof i[s]>"u"&&(n[s]=e[s]),n),{})}const IC=M.createContext(void 0);function og(){return M.useContext(IC)}function uM(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function nE(i,t=!1){return i&&(uM(i.value)&&i.value!==""||t&&uM(i.defaultValue)&&i.defaultValue!=="")}function YH(i){return i.startAdornment}function XH(i){return Xe("MuiInputBase",i)}const $p=He("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var hM;const lA=(i,t)=>{const{ownerState:e}=i;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${qt(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},cA=(i,t)=>{const{ownerState:e}=i;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},QH=i=>{const{classes:t,color:e,disabled:n,error:s,endAdornment:a,focused:l,formControl:c,fullWidth:h,hiddenLabel:d,multiline:p,readOnly:y,size:b,startAdornment:E,type:A}=i,S={root:["root",`color${qt(e)}`,n&&"disabled",s&&"error",h&&"fullWidth",l&&"focused",c&&"formControl",b&&b!=="medium"&&`size${qt(b)}`,p&&"multiline",E&&"adornedStart",a&&"adornedEnd",d&&"hiddenLabel",y&&"readOnly"],input:["input",n&&"disabled",A==="search"&&"inputTypeSearch",p&&"inputMultiline",b==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",E&&"inputAdornedStart",a&&"inputAdornedEnd",y&&"readOnly"]};return Qe(S,XH,t)},uA=Ft("div",{name:"MuiInputBase",slot:"Root",overridesResolver:lA})(Sn(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$p.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),hA=Ft("input",{name:"MuiInputBase",slot:"Input",overridesResolver:cA})(Sn(({theme:i})=>{const t=i.palette.mode==="light",e={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},n={opacity:"0 !important"},s=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$p.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${$p.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),dM=H9({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),kC=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:l,className:c,color:h,components:d={},componentsProps:p={},defaultValue:y,disabled:b,disableInjectingGlobalStyles:E,endAdornment:A,error:S,fullWidth:C=!1,id:x,inputComponent:F="input",inputProps:k={},inputRef:D,margin:U,maxRows:W,minRows:L,multiline:R=!1,name:N,onBlur:T,onChange:B,onClick:q,onFocus:z,onKeyDown:ct,onKeyUp:nt,placeholder:Y,readOnly:Q,renderSuffix:at,rows:dt,size:K,slotProps:rt={},slots:ut={},startAdornment:st,type:bt="text",value:wt,...Et}=n,Ct=k.value!=null?k.value:wt,{current:Bt}=M.useRef(Ct!=null),zt=M.useRef(),At=M.useCallback(Kt=>{},[]),Ht=Ds(zt,D,k.ref,At),[Gt,Ot]=M.useState(!1),Pt=og(),Wt=ag({props:n,muiFormControl:Pt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Wt.focused=Pt?Pt.focused:Gt,M.useEffect(()=>{!Pt&&b&&Gt&&(Ot(!1),T&&T())},[Pt,b,Gt,T]);const ue=Pt&&Pt.onFilled,fe=Pt&&Pt.onEmpty,ke=M.useCallback(Kt=>{nE(Kt)?ue&&ue():fe&&fe()},[ue,fe]);Qc(()=>{Bt&&ke({value:Ct})},[Ct,ke,Bt]);const Ue=Kt=>{z&&z(Kt),k.onFocus&&k.onFocus(Kt),Pt&&Pt.onFocus?Pt.onFocus(Kt):Ot(!0)},$e=Kt=>{T&&T(Kt),k.onBlur&&k.onBlur(Kt),Pt&&Pt.onBlur?Pt.onBlur(Kt):Ot(!1)},pe=(Kt,...On)=>{if(!Bt){const vn=Kt.target||zt.current;if(vn==null)throw new Error(vl(1));ke({value:vn.value})}k.onChange&&k.onChange(Kt,...On),B&&B(Kt,...On)};M.useEffect(()=>{ke(zt.current)},[]);const Dt=Kt=>{zt.current&&Kt.currentTarget===Kt.target&&zt.current.focus(),q&&q(Kt)};let oi=F,Ze=k;R&&oi==="input"&&(dt?Ze={type:void 0,minRows:dt,maxRows:dt,...Ze}:Ze={type:void 0,maxRows:W,minRows:L,...Ze},oi=KH);const Wi=Kt=>{ke(Kt.animationName==="mui-auto-fill-cancel"?zt.current:{value:"x"})};M.useEffect(()=>{Pt&&Pt.setAdornedStart(!!st)},[Pt,st]);const Re={...n,color:Wt.color||"primary",disabled:Wt.disabled,endAdornment:A,error:Wt.error,focused:Wt.focused,formControl:Pt,fullWidth:C,hiddenLabel:Wt.hiddenLabel,multiline:R,size:Wt.size,startAdornment:st,type:bt},ee=QH(Re),Je=ut.root||d.Root||uA,Oe=rt.root||p.root||{},De=ut.input||d.Input||hA;return Ze={...Ze,...rt.input??p.input},O.jsxs(M.Fragment,{children:[!E&&typeof dM=="function"&&(hM||(hM=O.jsx(dM,{}))),O.jsxs(Je,{...Oe,ref:e,onClick:Dt,...Et,...!XT(Je)&&{ownerState:{...Re,...Oe.ownerState}},className:Jt(ee.root,Oe.className,c,Q&&"MuiInputBase-readOnly"),children:[st,O.jsx(IC.Provider,{value:null,children:O.jsx(De,{"aria-invalid":Wt.error,"aria-describedby":s,autoComplete:a,autoFocus:l,defaultValue:y,disabled:Wt.disabled,id:x,onAnimationStart:Wi,name:N,placeholder:Y,readOnly:Q,required:Wt.required,rows:dt,value:Ct,onKeyDown:ct,onKeyUp:nt,type:bt,...Ze,...!XT(De)&&{as:oi,ownerState:{...Re,...Ze.ownerState}},ref:Ht,className:Jt(ee.input,Ze.className,Q&&"MuiInputBase-readOnly"),onBlur:$e,onChange:pe,onFocus:Ue})}),A,at?at({...Wt,startAdornment:st}):null]})]})});function ZH(i){return Xe("MuiInput",i)}const wm={...$p,...He("MuiInput",["root","underline","input"])};function JH(i){return Xe("MuiOutlinedInput",i)}const Sa={...$p,...He("MuiOutlinedInput",["root","notchedOutline","input"])};function t$(i){return Xe("MuiFilledInput",i)}const ju={...$p,...He("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},e$=Oi(O.jsx("path",{d:"M7 10l5 5 5-5z"})),n$={entering:{opacity:1},entered:{opacity:1}},QT=M.forwardRef(function(t,e){const n=aA(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:h,in:d,onEnter:p,onEntered:y,onEntering:b,onExit:E,onExited:A,onExiting:S,style:C,timeout:x=s,TransitionComponent:F=so,...k}=t,D=M.useRef(null),U=Ds(D,Xv(c),e),W=ct=>nt=>{if(ct){const Y=D.current;nt===void 0?ct(Y):ct(Y,nt)}},L=W(b),R=W((ct,nt)=>{sN(ct);const Y=tE({style:C,timeout:x,easing:h},{mode:"enter"});ct.style.webkitTransition=n.transitions.create("opacity",Y),ct.style.transition=n.transitions.create("opacity",Y),p&&p(ct,nt)}),N=W(y),T=W(S),B=W(ct=>{const nt=tE({style:C,timeout:x,easing:h},{mode:"exit"});ct.style.webkitTransition=n.transitions.create("opacity",nt),ct.style.transition=n.transitions.create("opacity",nt),E&&E(ct)}),q=W(A),z=ct=>{a&&a(D.current,ct)};return O.jsx(F,{appear:l,in:d,nodeRef:D,onEnter:R,onEntered:N,onEntering:L,onExit:B,onExited:q,onExiting:T,addEndListener:z,timeout:x,...k,children:(ct,{ownerState:nt,...Y})=>M.cloneElement(c,{style:{opacity:0,visibility:ct==="exited"&&!d?"hidden":void 0,...n$[ct],...C,...c.props.style},ref:U,...Y})})});function i$(i){return Xe("MuiBackdrop",i)}He("MuiBackdrop",["root","invisible"]);const s$=i=>{const{classes:t,invisible:e}=i;return Qe({root:["root",e&&"invisible"]},i$,t)},r$=Ft("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),hN=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",invisible:c=!1,open:h,components:d={},componentsProps:p={},slotProps:y={},slots:b={},TransitionComponent:E,transitionDuration:A,...S}=n,C={...n,component:l,invisible:c},x=s$(C),F={transition:E,root:d.Root,...b},k={...p,...y},D={slots:F,slotProps:k},[U,W]=Gn("root",{elementType:r$,externalForwardedProps:D,className:Jt(x.root,a),ownerState:C}),[L,R]=Gn("transition",{elementType:QT,externalForwardedProps:D,ownerState:C});return O.jsx(L,{in:h,timeout:A,...S,...R,children:O.jsx(U,{"aria-hidden":!0,...W,classes:x,ref:e,children:s})})});function a$(i){return Xe("MuiButton",i)}const zu=He("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),o$=M.createContext({}),l$=M.createContext(void 0),c$=i=>{const{color:t,disableElevation:e,fullWidth:n,size:s,variant:a,loading:l,loadingPosition:c,classes:h}=i,d={root:["root",l&&"loading",a,`${a}${qt(t)}`,`size${qt(s)}`,`${a}Size${qt(s)}`,`color${qt(t)}`,e&&"disableElevation",n&&"fullWidth",l&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(s)}`],endIcon:["icon","endIcon",`iconSize${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=Qe(d,a$,h);return{...h,...p}},dN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],u$=Ft(cN,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`${e.variant}${qt(e.color)}`],t[`size${qt(e.size)}`],t[`${e.variant}Size${qt(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(Sn(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],e=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${zu.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${zu.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${zu.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${zu.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(_l()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(i.vars||i).palette[n].main,"--variant-outlinedColor":(i.vars||i).palette[n].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[n].mainChannel} / 0.5)`:Qr(i.palette[n].main,.5),"--variant-containedColor":(i.vars||i).palette[n].contrastText,"--variant-containedBg":(i.vars||i).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[n].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette[n].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[n].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette[n].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${zu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${zu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${zu.loading}`]:{color:"transparent"}}}]}})),h$=Ft("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${qt(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...dN]})),d$=Ft("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${qt(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...dN]})),f$=Ft("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),fM=Ft("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),fN=M.forwardRef(function(t,e){const n=M.useContext(o$),s=M.useContext(l$),a=Z_(n,t),l=ln({props:a,name:"MuiButton"}),{children:c,color:h="primary",component:d="button",className:p,disabled:y=!1,disableElevation:b=!1,disableFocusRipple:E=!1,endIcon:A,focusVisibleClassName:S,fullWidth:C=!1,id:x,loading:F=null,loadingIndicator:k,loadingPosition:D="center",size:U="medium",startIcon:W,type:L,variant:R="text",...N}=l,T=Yv(x),B=k??O.jsx(uN,{"aria-labelledby":T,color:"inherit",size:16}),q={...l,color:h,component:d,disabled:y,disableElevation:b,disableFocusRipple:E,fullWidth:C,loading:F,loadingIndicator:B,loadingPosition:D,size:U,type:L,variant:R},z=c$(q),ct=(W||F&&D==="start")&&O.jsx(h$,{className:z.startIcon,ownerState:q,children:W||O.jsx(fM,{className:z.loadingIconPlaceholder,ownerState:q})}),nt=(A||F&&D==="end")&&O.jsx(d$,{className:z.endIcon,ownerState:q,children:A||O.jsx(fM,{className:z.loadingIconPlaceholder,ownerState:q})}),Y=s||"",Q=typeof F=="boolean"?O.jsx("span",{className:z.loadingWrapper,style:{display:"contents"},children:F&&O.jsx(f$,{className:z.loadingIndicator,ownerState:q,children:B})}):null;return O.jsxs(u$,{ownerState:q,className:Jt(n.className,z.root,p,Y),component:d,disabled:y||F,focusRipple:!E,focusVisibleClassName:Jt(z.focusVisible,S),ref:e,type:L,id:F?T:x,...N,classes:z,children:[ct,D!=="end"&&Q,c,D==="end"&&Q,nt]})});function p$(i){return Xe("MuiCard",i)}He("MuiCard",["root"]);const g$=i=>{const{classes:t}=i;return Qe({root:["root"]},p$,t)},m$=Ft(oA,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),y$=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiCard"}),{className:s,raised:a=!1,...l}=n,c={...n,raised:a},h=g$(c);return O.jsx(m$,{className:Jt(h.root,s),elevation:a?8:void 0,ref:e,ownerState:c,...l})});function v$(i){return Xe("MuiCardContent",i)}He("MuiCardContent",["root"]);const b$=i=>{const{classes:t}=i;return Qe({root:["root"]},v$,t)},_$=Ft("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),E$=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiCardContent"}),{className:s,component:a="div",...l}=n,c={...n,component:a},h=b$(c);return O.jsx(_$,{as:a,className:Jt(h.root,s),ownerState:c,ref:e,...l})});function pN(i=window){const t=i.document.documentElement.clientWidth;return i.innerWidth-t}function A$(i){const t=na(i);return t.body===i?El(i).innerWidth>t.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function ty(i,t){t?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function pM(i){return parseInt(El(i).getComputedStyle(i).paddingRight,10)||0}function S$(i){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),n=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return e||n}function gM(i,t,e,n,s){const a=[t,e,...n];[].forEach.call(i.children,l=>{const c=!a.includes(l),h=!S$(l);c&&h&&ty(l,s)})}function rT(i,t){let e=-1;return i.some((n,s)=>t(n)?(e=s,!0):!1),e}function w$(i,t){const e=[],n=i.container;if(!t.disableScrollLock){if(A$(n)){const l=pN(El(n));e.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${pM(n)+l}px`;const c=na(n).querySelectorAll(".mui-fixed");[].forEach.call(c,h=>{e.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${pM(h)+l}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=na(n).body;else{const l=n.parentElement,c=El(n);a=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}e.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{e.forEach(({value:a,el:l,property:c})=>{a?l.style.setProperty(c,a):l.style.removeProperty(c)})}}function T$(i){const t=[];return[].forEach.call(i.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class x${constructor(){this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&ty(t.modalRef,!1);const s=T$(e);gM(e,t.mount,t.modalRef,s,!0);const a=rT(this.containers,l=>l.container===e);return a!==-1?(this.containers[a].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:s}),n)}mount(t,e){const n=rT(this.containers,a=>a.modals.includes(t)),s=this.containers[n];s.restore||(s.restore=w$(s,e))}remove(t,e=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const s=rT(this.containers,l=>l.modals.includes(t)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&ty(t.modalRef,e),gM(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const l=a.modals[a.modals.length-1];l.modalRef&&ty(l.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const C$=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function R$(i){const t=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(t)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:t}function I$(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const t=n=>i.ownerDocument.querySelector(`input[type="radio"]${n}`);let e=t(`[name="${i.name}"]:checked`);return e||(e=t(`[name="${i.name}"]`)),e!==i}function k$(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||I$(i))}function P$(i){const t=[],e=[];return Array.from(i.querySelectorAll(C$)).forEach((n,s)=>{const a=R$(n);a===-1||!k$(n)||(a===0?t.push(n):e.push({documentOrder:s,tabIndex:a,node:n}))}),e.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(t)}function M$(){return!0}function O$(i){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:a=P$,isEnabled:l=M$,open:c}=i,h=M.useRef(!1),d=M.useRef(null),p=M.useRef(null),y=M.useRef(null),b=M.useRef(null),E=M.useRef(!1),A=M.useRef(null),S=Ds(Xv(t),A),C=M.useRef(null);M.useEffect(()=>{!c||!A.current||(E.current=!e)},[e,c]),M.useEffect(()=>{if(!c||!A.current)return;const k=na(A.current);return A.current.contains(k.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),E.current&&A.current.focus()),()=>{s||(y.current&&y.current.focus&&(h.current=!0,y.current.focus()),y.current=null)}},[c]),M.useEffect(()=>{if(!c||!A.current)return;const k=na(A.current),D=L=>{C.current=L,!(n||!l()||L.key!=="Tab")&&k.activeElement===A.current&&L.shiftKey&&(h.current=!0,p.current&&p.current.focus())},U=()=>{var N,T;const L=A.current;if(L===null)return;if(!k.hasFocus()||!l()||h.current){h.current=!1;return}if(L.contains(k.activeElement)||n&&k.activeElement!==d.current&&k.activeElement!==p.current)return;if(k.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!E.current)return;let R=[];if((k.activeElement===d.current||k.activeElement===p.current)&&(R=a(A.current)),R.length>0){const B=!!((N=C.current)!=null&&N.shiftKey&&((T=C.current)==null?void 0:T.key)==="Tab"),q=R[0],z=R[R.length-1];typeof q!="string"&&typeof z!="string"&&(B?z.focus():q.focus())}else L.focus()};k.addEventListener("focusin",U),k.addEventListener("keydown",D,!0);const W=setInterval(()=>{k.activeElement&&k.activeElement.tagName==="BODY"&&U()},50);return()=>{clearInterval(W),k.removeEventListener("focusin",U),k.removeEventListener("keydown",D,!0)}},[e,n,s,l,c,a]);const x=k=>{y.current===null&&(y.current=k.relatedTarget),E.current=!0,b.current=k.target;const D=t.props.onFocus;D&&D(k)},F=k=>{y.current===null&&(y.current=k.relatedTarget),E.current=!0};return O.jsxs(M.Fragment,{children:[O.jsx("div",{tabIndex:c?0:-1,onFocus:F,ref:d,"data-testid":"sentinelStart"}),M.cloneElement(t,{ref:S,onFocus:x}),O.jsx("div",{tabIndex:c?0:-1,onFocus:F,ref:p,"data-testid":"sentinelEnd"})]})}function D$(i){return typeof i=="function"?i():i}function L$(i){return i?i.props.hasOwnProperty("in"):!1}const mM=()=>{},B0=new x$;function N$(i){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:h,open:d,rootRef:p}=i,y=M.useRef({}),b=M.useRef(null),E=M.useRef(null),A=Ds(E,p),[S,C]=M.useState(!d),x=L$(c);let F=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(F=!1);const k=()=>na(b.current),D=()=>(y.current.modalRef=E.current,y.current.mount=b.current,y.current),U=()=>{B0.mount(D(),{disableScrollLock:n}),E.current&&(E.current.scrollTop=0)},W=Zh(()=>{const nt=D$(t)||k().body;B0.add(D(),nt),E.current&&U()}),L=()=>B0.isTopModal(D()),R=Zh(nt=>{b.current=nt,nt&&(d&&L()?U():E.current&&ty(E.current,F))}),N=M.useCallback(()=>{B0.remove(D(),F)},[F]);M.useEffect(()=>()=>{N()},[N]),M.useEffect(()=>{d?W():(!x||!s)&&N()},[d,N,x,s,W]);const T=nt=>Y=>{var Q;(Q=nt.onKeyDown)==null||Q.call(nt,Y),!(Y.key!=="Escape"||Y.which===229||!L())&&(e||(Y.stopPropagation(),h&&h(Y,"escapeKeyDown")))},B=nt=>Y=>{var Q;(Q=nt.onClick)==null||Q.call(nt,Y),Y.target===Y.currentTarget&&h&&h(Y,"backdropClick")};return{getRootProps:(nt={})=>{const Y=oN(i);delete Y.onTransitionEnter,delete Y.onTransitionExited;const Q={...Y,...nt};return{role:"presentation",...Q,onKeyDown:T(Q),ref:A}},getBackdropProps:(nt={})=>{const Y=nt;return{"aria-hidden":!0,...Y,onClick:B(Y),open:d}},getTransitionProps:()=>{const nt=()=>{C(!1),a&&a()},Y=()=>{C(!0),l&&l(),s&&N()};return{onEnter:JP(nt,(c==null?void 0:c.props.onEnter)??mM),onExited:JP(Y,(c==null?void 0:c.props.onExited)??mM)}},rootRef:A,portalRef:R,isTopModal:L,exited:S,hasTransition:x}}function F$(i){return Xe("MuiModal",i)}He("MuiModal",["root","hidden","backdrop"]);const V$=i=>{const{open:t,exited:e,classes:n}=i;return Qe({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},F$,n)},U$=Ft("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.open&&e.exited&&t.hidden]}})(Sn(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),B$=Ft(hN,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),gN=M.forwardRef(function(t,e){const n=ln({name:"MuiModal",props:t}),{BackdropComponent:s=B$,BackdropProps:a,classes:l,className:c,closeAfterTransition:h=!1,children:d,container:p,component:y,components:b={},componentsProps:E={},disableAutoFocus:A=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:F=!1,disableScrollLock:k=!1,hideBackdrop:D=!1,keepMounted:U=!1,onClose:W,onTransitionEnter:L,onTransitionExited:R,open:N,slotProps:T={},slots:B={},theme:q,...z}=n,ct={...n,closeAfterTransition:h,disableAutoFocus:A,disableEnforceFocus:S,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:F,disableScrollLock:k,hideBackdrop:D,keepMounted:U},{getRootProps:nt,getBackdropProps:Y,getTransitionProps:Q,portalRef:at,isTopModal:dt,exited:K,hasTransition:rt}=N$({...ct,rootRef:e}),ut={...ct,exited:K},st=V$(ut),bt={};if(d.props.tabIndex===void 0&&(bt.tabIndex="-1"),rt){const{onEnter:At,onExited:Ht}=Q();bt.onEnter=At,bt.onExited=Ht}const wt={slots:{root:b.Root,backdrop:b.Backdrop,...B},slotProps:{...E,...T}},[Et,Ct]=Gn("root",{ref:e,elementType:U$,externalForwardedProps:{...wt,...z,component:y},getSlotProps:nt,ownerState:ut,className:Jt(c,st==null?void 0:st.root,!ut.open&&ut.exited&&(st==null?void 0:st.hidden))}),[Bt,zt]=Gn("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:wt,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:At=>Y({...At,onClick:Ht=>{At!=null&&At.onClick&&At.onClick(Ht)}}),className:Jt(a==null?void 0:a.className,st==null?void 0:st.backdrop),ownerState:ut});return!U&&!N&&(!rt||K)?null:O.jsx(qH,{ref:at,container:p,disablePortal:x,children:O.jsxs(Et,{...Ct,children:[!D&&s?O.jsx(Bt,{...zt}):null,O.jsx(O$,{disableEnforceFocus:S,disableAutoFocus:A,disableRestoreFocus:F,isEnabled:dt,open:N,children:M.cloneElement(d,bt)})]})})});function j$(i){return Xe("MuiDialog",i)}const aT=He("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),mN=M.createContext({}),z$=Ft(hN,{name:"MuiDialog",slot:"Backdrop",overrides:(i,t)=>t.backdrop})({zIndex:-1}),H$=i=>{const{classes:t,scroll:e,maxWidth:n,fullWidth:s,fullScreen:a}=i,l={root:["root"],container:["container",`scroll${qt(e)}`],paper:["paper",`paperScroll${qt(e)}`,`paperWidth${qt(String(n))}`,s&&"paperFullWidth",a&&"paperFullScreen"]};return Qe(l,j$,t)},$$=Ft(gN,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),q$=Ft("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.container,t[`scroll${qt(e.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),G$=Ft(oA,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.paper,t[`scrollPaper${qt(e.scroll)}`],t[`paperWidth${qt(String(e.maxWidth))}`],e.fullWidth&&t.paperFullWidth,e.fullScreen&&t.paperFullScreen]}})(Sn(({theme:i})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${aT.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(i.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${i.breakpoints.values[t]}${i.breakpoints.unit}`,[`&.${aT.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${aT.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),oT=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiDialog"}),s=aA(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":h=!0,BackdropComponent:d,BackdropProps:p,children:y,className:b,disableEscapeKeyDown:E=!1,fullScreen:A=!1,fullWidth:S=!1,maxWidth:C="sm",onClick:x,onClose:F,open:k,PaperComponent:D=oA,PaperProps:U={},scroll:W="paper",slots:L={},slotProps:R={},TransitionComponent:N=QT,transitionDuration:T=a,TransitionProps:B,...q}=n,z={...n,disableEscapeKeyDown:E,fullScreen:A,fullWidth:S,maxWidth:C,scroll:W},ct=H$(z),nt=M.useRef(),Y=Ot=>{nt.current=Ot.target===Ot.currentTarget},Q=Ot=>{x&&x(Ot),nt.current&&(nt.current=null,F&&F(Ot,"backdropClick"))},at=Yv(c),dt=M.useMemo(()=>({titleId:at}),[at]),K={transition:N,...L},rt={transition:B,paper:U,backdrop:p,...R},ut={slots:K,slotProps:rt},[st,bt]=Gn("root",{elementType:$$,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:z,className:Jt(ct.root,b),ref:e}),[wt,Et]=Gn("backdrop",{elementType:z$,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:z}),[Ct,Bt]=Gn("paper",{elementType:G$,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:z,className:Jt(ct.paper,U.className)}),[zt,At]=Gn("container",{elementType:q$,externalForwardedProps:ut,ownerState:z,className:ct.container}),[Ht,Gt]=Gn("transition",{elementType:QT,externalForwardedProps:ut,ownerState:z,additionalProps:{appear:!0,in:k,timeout:T,role:"presentation"}});return O.jsx(st,{closeAfterTransition:!0,slots:{backdrop:wt},slotProps:{backdrop:{transitionDuration:T,as:d,...Et}},disableEscapeKeyDown:E,onClose:F,open:k,onClick:Q,...bt,...q,children:O.jsx(Ht,{...Gt,children:O.jsx(zt,{onMouseDown:Y,...At,children:O.jsx(Ct,{as:D,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":at,"aria-modal":h,...Bt,children:O.jsx(mN.Provider,{value:dt,children:y})})})})})});function W$(i){return Xe("MuiDialogTitle",i)}He("MuiDialogTitle",["root"]);const K$=i=>{const{classes:t}=i;return Qe({root:["root"]},W$,t)},Y$=Ft(xt,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),lT=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiDialogTitle"}),{className:s,id:a,...l}=n,c=n,h=K$(c),{titleId:d=a}=M.useContext(mN);return O.jsx(Y$,{component:"h2",className:Jt(h.root,s),ownerState:c,ref:e,variant:"h6",id:a??d,...l})}),X$=i=>{const{classes:t,disableUnderline:e,startAdornment:n,endAdornment:s,size:a,hiddenLabel:l,multiline:c}=i,h={root:["root",!e&&"underline",n&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${qt(a)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},d=Qe(h,t$,t);return{...t,...d}},Q$=Ft(uA,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...lA(i,t),!e.disableUnderline&&t.underline]}})(Sn(({theme:i})=>{const t=i.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n}},[`&.${ju.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n},[`&.${ju.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ju.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ju.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ju.disabled}, .${ju.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${ju.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(_l()).map(([l])=>{var c;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(c=(i.vars||i).palette[l])==null?void 0:c.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Z$=Ft(hA,{name:"MuiFilledInput",slot:"Input",overridesResolver:cA})(Sn(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),PC=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:l,fullWidth:c=!1,hiddenLabel:h,inputComponent:d="input",multiline:p=!1,slotProps:y,slots:b={},type:E="text",...A}=n,S={...n,disableUnderline:s,fullWidth:c,inputComponent:d,multiline:p,type:E},C=X$(n),x={root:{ownerState:S},input:{ownerState:S}},F=y??l?cs(x,y??l):x,k=b.root??a.Root??Q$,D=b.input??a.Input??Z$;return O.jsx(kC,{slots:{root:k,input:D},slotProps:F,fullWidth:c,inputComponent:d,multiline:p,ref:e,type:E,...A,classes:C})});PC.muiName="Input";function J$(i){return Xe("MuiFormControl",i)}He("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const t8=i=>{const{classes:t,margin:e,fullWidth:n}=i,s={root:["root",e!=="none"&&`margin${qt(e)}`,n&&"fullWidth"]};return Qe(s,J$,t)},e8=Ft("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[`margin${qt(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),n8=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiFormControl"}),{children:s,className:a,color:l="primary",component:c="div",disabled:h=!1,error:d=!1,focused:p,fullWidth:y=!1,hiddenLabel:b=!1,margin:E="none",required:A=!1,size:S="medium",variant:C="outlined",...x}=n,F={...n,color:l,component:c,disabled:h,error:d,fullWidth:y,hiddenLabel:b,margin:E,required:A,size:S,variant:C},k=t8(F),[D,U]=M.useState(()=>{let nt=!1;return s&&M.Children.forEach(s,Y=>{if(!nT(Y,["Input","Select"]))return;const Q=nT(Y,["Select"])?Y.props.input:Y;Q&&YH(Q.props)&&(nt=!0)}),nt}),[W,L]=M.useState(()=>{let nt=!1;return s&&M.Children.forEach(s,Y=>{nT(Y,["Input","Select"])&&(nE(Y.props,!0)||nE(Y.props.inputProps,!0))&&(nt=!0)}),nt}),[R,N]=M.useState(!1);h&&R&&N(!1);const T=p!==void 0&&!h?p:R;let B;M.useRef(!1);const q=M.useCallback(()=>{L(!0)},[]),z=M.useCallback(()=>{L(!1)},[]),ct=M.useMemo(()=>({adornedStart:D,setAdornedStart:U,color:l,disabled:h,error:d,filled:W,focused:T,fullWidth:y,hiddenLabel:b,size:S,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:z,onFilled:q,registerEffect:B,required:A,variant:C}),[D,l,h,d,W,T,y,b,B,z,q,A,S,C]);return O.jsx(IC.Provider,{value:ct,children:O.jsx(e8,{as:c,ownerState:F,className:Jt(k.root,a),ref:e,...x,children:s})})});function i8(i){return Xe("MuiFormHelperText",i)}const yM=He("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var vM;const s8=i=>{const{classes:t,contained:e,size:n,disabled:s,error:a,filled:l,focused:c,required:h}=i,d={root:["root",s&&"disabled",a&&"error",n&&`size${qt(n)}`,e&&"contained",c&&"focused",l&&"filled",h&&"required"]};return Qe(d,i8,t)},r8=Ft("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.size&&t[`size${qt(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(Sn(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${yM.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${yM.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),a8=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiFormHelperText"}),{children:s,className:a,component:l="p",disabled:c,error:h,filled:d,focused:p,margin:y,required:b,variant:E,...A}=n,S=og(),C=ag({props:n,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),x={...n,component:l,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const F=s8(x);return O.jsx(r8,{as:l,className:Jt(F.root,a),ref:e,...A,ownerState:x,children:s===" "?vM||(vM=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function o8(i){return Xe("MuiFormLabel",i)}const ey=He("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),l8=i=>{const{classes:t,color:e,focused:n,disabled:s,error:a,filled:l,required:c}=i,h={root:["root",`color${qt(e)}`,s&&"disabled",a&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",a&&"error"]};return Qe(h,o8,t)},c8=Ft("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(Sn(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{[`&.${ey.focused}`]:{color:(i.vars||i).palette[t].main}}})),{props:{},style:{[`&.${ey.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${ey.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),u8=Ft("span",{name:"MuiFormLabel",slot:"Asterisk"})(Sn(({theme:i})=>({[`&.${ey.error}`]:{color:(i.vars||i).palette.error.main}}))),h8=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiFormLabel"}),{children:s,className:a,color:l,component:c="label",disabled:h,error:d,filled:p,focused:y,required:b,...E}=n,A=og(),S=ag({props:n,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),C={...n,color:S.color||"primary",component:c,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},x=l8(C);return O.jsxs(c8,{as:c,ownerState:C,className:Jt(x.root,a),ref:e,...E,children:[s,S.required&&O.jsxs(u8,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function ZT(i){return`scale(${i}, ${i**2})`}const d8={entering:{opacity:1,transform:ZT(1)},entered:{opacity:1,transform:"none"}},cT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),JT=M.forwardRef(function(t,e){const{addEndListener:n,appear:s=!0,children:a,easing:l,in:c,onEnter:h,onEntered:d,onEntering:p,onExit:y,onExited:b,onExiting:E,style:A,timeout:S="auto",TransitionComponent:C=so,...x}=t,F=iN(),k=M.useRef(),D=aA(),U=M.useRef(null),W=Ds(U,Xv(a),e),L=nt=>Y=>{if(nt){const Q=U.current;Y===void 0?nt(Q):nt(Q,Y)}},R=L(p),N=L((nt,Y)=>{sN(nt);const{duration:Q,delay:at,easing:dt}=tE({style:A,timeout:S,easing:l},{mode:"enter"});let K;S==="auto"?(K=D.transitions.getAutoHeightDuration(nt.clientHeight),k.current=K):K=Q,nt.style.transition=[D.transitions.create("opacity",{duration:K,delay:at}),D.transitions.create("transform",{duration:cT?K:K*.666,delay:at,easing:dt})].join(","),h&&h(nt,Y)}),T=L(d),B=L(E),q=L(nt=>{const{duration:Y,delay:Q,easing:at}=tE({style:A,timeout:S,easing:l},{mode:"exit"});let dt;S==="auto"?(dt=D.transitions.getAutoHeightDuration(nt.clientHeight),k.current=dt):dt=Y,nt.style.transition=[D.transitions.create("opacity",{duration:dt,delay:Q}),D.transitions.create("transform",{duration:cT?dt:dt*.666,delay:cT?Q:Q||dt*.333,easing:at})].join(","),nt.style.opacity=0,nt.style.transform=ZT(.75),y&&y(nt)}),z=L(b),ct=nt=>{S==="auto"&&F.start(k.current||0,nt),n&&n(U.current,nt)};return O.jsx(C,{appear:s,in:c,nodeRef:U,onEnter:N,onEntered:T,onEntering:R,onExit:q,onExited:z,onExiting:B,addEndListener:ct,timeout:S==="auto"?null:S,...x,children:(nt,{ownerState:Y,...Q})=>M.cloneElement(a,{style:{opacity:0,transform:ZT(.75),visibility:nt==="exited"&&!c?"hidden":void 0,...d8[nt],...A,...a.props.style},ref:W,...Q})})});JT&&(JT.muiSupportAuto=!0);const f8=i=>{const{classes:t,disableUnderline:e}=i,s=Qe({root:["root",!e&&"underline"],input:["input"]},ZH,t);return{...t,...s}},p8=Ft(uA,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...lA(i,t),!e.disableUnderline&&t.underline]}})(Sn(({theme:i})=>{let e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(e=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wm.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wm.disabled}, .${wm.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${wm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(_l()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[n].main}`}}}))]}})),g8=Ft(hA,{name:"MuiInput",slot:"Input",overridesResolver:cA})({}),MC=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:h="input",multiline:d=!1,slotProps:p,slots:y={},type:b="text",...E}=n,A=f8(n),C={root:{ownerState:{disableUnderline:s}}},x=p??l?cs(p??l,C):C,F=y.root??a.Root??p8,k=y.input??a.Input??g8;return O.jsx(kC,{slots:{root:F,input:k},slotProps:x,fullWidth:c,inputComponent:h,multiline:d,ref:e,type:b,...E,classes:A})});MC.muiName="Input";function m8(i){return Xe("MuiInputLabel",i)}He("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const y8=i=>{const{classes:t,formControl:e,size:n,shrink:s,disableAnimation:a,variant:l,required:c}=i,h={root:["root",e&&"formControl",!a&&"animated",s&&"shrink",n&&n!=="medium"&&`size${qt(n)}`,l],asterisk:[c&&"asterisk"]},d=Qe(h,m8,t);return{...t,...d}},v8=Ft(h8,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${ey.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(Sn(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="filled"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:e,size:n})=>t==="filled"&&e.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="outlined"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),b8=M.forwardRef(function(t,e){const n=ln({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:a,shrink:l,variant:c,className:h,...d}=n,p=og();let y=l;typeof y>"u"&&p&&(y=p.filled||p.focused||p.adornedStart);const b=ag({props:n,muiFormControl:p,states:["size","variant","required","focused"]}),E={...n,disableAnimation:s,formControl:p,shrink:y,size:b.size,variant:b.variant,required:b.required,focused:b.focused},A=y8(E);return O.jsx(v8,{"data-shrink":y,ref:e,className:Jt(A.root,h),...d,ownerState:E,classes:A})}),_8=M.createContext({});function E8(i){return Xe("MuiList",i)}He("MuiList",["root","padding","dense","subheader"]);const A8=i=>{const{classes:t,disablePadding:e,dense:n,subheader:s}=i;return Qe({root:["root",!e&&"padding",n&&"dense",s&&"subheader"]},E8,t)},S8=Ft("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),w8=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiList"}),{children:s,className:a,component:l="ul",dense:c=!1,disablePadding:h=!1,subheader:d,...p}=n,y=M.useMemo(()=>({dense:c}),[c]),b={...n,component:l,dense:c,disablePadding:h},E=A8(b);return O.jsx(_8.Provider,{value:y,children:O.jsxs(S8,{as:l,className:Jt(E.root,a),ref:e,ownerState:b,...p,children:[d,s]})})});function uT(i,t,e){return i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:i.firstChild}function bM(i,t,e){return i===t?e?i.firstChild:i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:i.lastChild}function yN(i,t){if(t===void 0)return!0;let e=i.innerText;return e===void 0&&(e=i.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function Tm(i,t,e,n,s,a){let l=!1,c=s(i,t,t?e:!1);for(;c;){if(c===i.firstChild){if(l)return!1;l=!0}const h=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!yN(c,a)||h)c=s(i,c,e);else return c.focus(),!0}return!1}const T8=M.forwardRef(function(t,e){const{actions:n,autoFocus:s=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:h=!1,disableListWrap:d=!1,onKeyDown:p,variant:y="selectedMenu",...b}=t,E=M.useRef(null),A=M.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Qc(()=>{s&&E.current.focus()},[s]),M.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(k,{direction:D})=>{const U=!E.current.style.width;if(k.clientHeight<E.current.clientHeight&&U){const W=`${pN(El(k))}px`;E.current.style[D==="rtl"?"paddingLeft":"paddingRight"]=W,E.current.style.width=`calc(100% + ${W})`}return E.current}}),[]);const S=k=>{const D=E.current,U=k.key;if(k.ctrlKey||k.metaKey||k.altKey){p&&p(k);return}const L=na(D).activeElement;if(U==="ArrowDown")k.preventDefault(),Tm(D,L,d,h,uT);else if(U==="ArrowUp")k.preventDefault(),Tm(D,L,d,h,bM);else if(U==="Home")k.preventDefault(),Tm(D,null,d,h,uT);else if(U==="End")k.preventDefault(),Tm(D,null,d,h,bM);else if(U.length===1){const R=A.current,N=U.toLowerCase(),T=performance.now();R.keys.length>0&&(T-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&N!==R.keys[0]&&(R.repeating=!1)),R.lastTime=T,R.keys.push(N);const B=L&&!R.repeating&&yN(L,R);R.previousKeyMatched&&(B||Tm(D,L,!1,h,uT,R))?k.preventDefault():R.previousKeyMatched=!1}p&&p(k)},C=Ds(E,e);let x=-1;M.Children.forEach(l,(k,D)=>{if(!M.isValidElement(k)){x===D&&(x+=1,x>=l.length&&(x=-1));return}k.props.disabled||(y==="selectedMenu"&&k.props.selected||x===-1)&&(x=D),x===D&&(k.props.disabled||k.props.muiSkipListHighlight||k.type.muiSkipListHighlight)&&(x+=1,x>=l.length&&(x=-1))});const F=M.Children.map(l,(k,D)=>{if(D===x){const U={};return a&&(U.autoFocus=!0),k.props.tabIndex===void 0&&y==="selectedMenu"&&(U.tabIndex=0),M.cloneElement(k,U)}return k});return O.jsx(w8,{role:"menu",ref:C,className:c,onKeyDown:S,tabIndex:s?0:-1,...b,children:F})});function x8(i){return Xe("MuiPopover",i)}He("MuiPopover",["root","paper"]);function _M(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.height/2:t==="bottom"&&(e=i.height),e}function EM(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.width/2:t==="right"&&(e=i.width),e}function AM(i){return[i.horizontal,i.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function j0(i){return typeof i=="function"?i():i}const C8=i=>{const{classes:t}=i;return Qe({root:["root"],paper:["paper"]},x8,t)},R8=Ft(gN,{name:"MuiPopover",slot:"Root"})({}),vN=Ft(oA,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),I8=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:h="anchorEl",children:d,className:p,container:y,elevation:b=8,marginThreshold:E=16,open:A,PaperProps:S={},slots:C={},slotProps:x={},transformOrigin:F={vertical:"top",horizontal:"left"},TransitionComponent:k,transitionDuration:D="auto",TransitionProps:U={},disableScrollLock:W=!1,...L}=n,R=M.useRef(),N={...n,anchorOrigin:l,anchorReference:h,elevation:b,marginThreshold:E,transformOrigin:F,TransitionComponent:k,transitionDuration:D,TransitionProps:U},T=C8(N),B=M.useCallback(()=>{if(h==="anchorPosition")return c;const At=j0(a),Gt=(At&&At.nodeType===1?At:na(R.current).body).getBoundingClientRect();return{top:Gt.top+_M(Gt,l.vertical),left:Gt.left+EM(Gt,l.horizontal)}},[a,l.horizontal,l.vertical,c,h]),q=M.useCallback(At=>({vertical:_M(At,F.vertical),horizontal:EM(At,F.horizontal)}),[F.horizontal,F.vertical]),z=M.useCallback(At=>{const Ht={width:At.offsetWidth,height:At.offsetHeight},Gt=q(Ht);if(h==="none")return{top:null,left:null,transformOrigin:AM(Gt)};const Ot=B();let Pt=Ot.top-Gt.vertical,Wt=Ot.left-Gt.horizontal;const ue=Pt+Ht.height,fe=Wt+Ht.width,ke=El(j0(a)),Ue=ke.innerHeight-E,$e=ke.innerWidth-E;if(E!==null&&Pt<E){const pe=Pt-E;Pt-=pe,Gt.vertical+=pe}else if(E!==null&&ue>Ue){const pe=ue-Ue;Pt-=pe,Gt.vertical+=pe}if(E!==null&&Wt<E){const pe=Wt-E;Wt-=pe,Gt.horizontal+=pe}else if(fe>$e){const pe=fe-$e;Wt-=pe,Gt.horizontal+=pe}return{top:`${Math.round(Pt)}px`,left:`${Math.round(Wt)}px`,transformOrigin:AM(Gt)}},[a,h,B,q,E]),[ct,nt]=M.useState(A),Y=M.useCallback(()=>{const At=R.current;if(!At)return;const Ht=z(At);Ht.top!==null&&At.style.setProperty("top",Ht.top),Ht.left!==null&&(At.style.left=Ht.left),At.style.transformOrigin=Ht.transformOrigin,nt(!0)},[z]);M.useEffect(()=>(W&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[a,W,Y]);const Q=()=>{Y()},at=()=>{nt(!1)};M.useEffect(()=>{A&&Y()}),M.useImperativeHandle(s,()=>A?{updatePosition:()=>{Y()}}:null,[A,Y]),M.useEffect(()=>{if(!A)return;const At=JL(()=>{Y()}),Ht=El(j0(a));return Ht.addEventListener("resize",At),()=>{At.clear(),Ht.removeEventListener("resize",At)}},[a,A,Y]);let dt=D;const K={slots:{transition:k,...C},slotProps:{transition:U,paper:S,...x}},[rt,ut]=Gn("transition",{elementType:JT,externalForwardedProps:K,ownerState:N,getSlotProps:At=>({...At,onEntering:(Ht,Gt)=>{var Ot;(Ot=At.onEntering)==null||Ot.call(At,Ht,Gt),Q()},onExited:Ht=>{var Gt;(Gt=At.onExited)==null||Gt.call(At,Ht),at()}}),additionalProps:{appear:!0,in:A}});D==="auto"&&!rt.muiSupportAuto&&(dt=void 0);const st=y||(a?na(j0(a)).body:void 0),[bt,{slots:wt,slotProps:Et,...Ct}]=Gn("root",{ref:e,elementType:R8,externalForwardedProps:{...K,...L},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:sH(typeof x.backdrop=="function"?x.backdrop(N):x.backdrop,{invisible:!0})},container:st,open:A},ownerState:N,className:Jt(T.root,p)}),[Bt,zt]=Gn("paper",{ref:R,className:T.paper,elementType:vN,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:ct?void 0:{opacity:0}},ownerState:N});return O.jsx(bt,{...Ct,...!XT(bt)&&{slots:wt,slotProps:Et,disableScrollLock:W},children:O.jsx(rt,{...ut,timeout:dt,children:O.jsx(Bt,{...zt,children:d})})})});function k8(i){return Xe("MuiMenu",i)}He("MuiMenu",["root","paper","list"]);const P8={vertical:"top",horizontal:"right"},M8={vertical:"top",horizontal:"left"},O8=i=>{const{classes:t}=i;return Qe({root:["root"],paper:["paper"],list:["list"]},k8,t)},D8=Ft(I8,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiMenu",slot:"Root"})({}),L8=Ft(vN,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),N8=Ft(T8,{name:"MuiMenu",slot:"List"})({outline:0}),F8=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:h={},onClose:d,open:p,PaperProps:y={},PopoverClasses:b,transitionDuration:E="auto",TransitionProps:{onEntering:A,...S}={},variant:C="selectedMenu",slots:x={},slotProps:F={},...k}=n,D=Bz(),U={...n,autoFocus:s,disableAutoFocusItem:c,MenuListProps:h,onEntering:A,PaperProps:y,transitionDuration:E,TransitionProps:S,variant:C},W=O8(U),L=s&&!c&&p,R=M.useRef(null),N=(dt,K)=>{R.current&&R.current.adjustStyleForScrollbar(dt,{direction:D?"rtl":"ltr"}),A&&A(dt,K)},T=dt=>{dt.key==="Tab"&&(dt.preventDefault(),d&&d(dt,"tabKeyDown"))};let B=-1;M.Children.map(a,(dt,K)=>{M.isValidElement(dt)&&(dt.props.disabled||(C==="selectedMenu"&&dt.props.selected||B===-1)&&(B=K))});const q={slots:x,slotProps:{list:h,transition:S,paper:y,...F}},z=HH({elementType:x.root,externalSlotProps:F.root,ownerState:U,className:[W.root,l]}),[ct,nt]=Gn("paper",{className:W.paper,elementType:L8,externalForwardedProps:q,shouldForwardComponentProp:!0,ownerState:U}),[Y,Q]=Gn("list",{className:Jt(W.list,h.className),elementType:N8,shouldForwardComponentProp:!0,externalForwardedProps:q,getSlotProps:dt=>({...dt,onKeyDown:K=>{var rt;T(K),(rt=dt.onKeyDown)==null||rt.call(dt,K)}}),ownerState:U}),at=typeof q.slotProps.transition=="function"?q.slotProps.transition(U):q.slotProps.transition;return O.jsx(D8,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?P8:M8,slots:{root:x.root,paper:ct,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:z,paper:nt,backdrop:typeof F.backdrop=="function"?F.backdrop(U):F.backdrop,transition:{...at,onEntering:(...dt)=>{var K;N(...dt),(K=at==null?void 0:at.onEntering)==null||K.call(at,...dt)}}},open:p,ref:e,transitionDuration:E,ownerState:U,...k,classes:b,children:O.jsx(Y,{actions:R,autoFocus:s&&(B===-1||c),autoFocusItem:L,variant:C,...Q,children:a})})});function V8(i){return Xe("MuiNativeSelect",i)}const OC=He("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),U8=i=>{const{classes:t,variant:e,disabled:n,multiple:s,open:a,error:l}=i,c={select:["select",e,n&&"disabled",s&&"multiple",l&&"error"],icon:["icon",`icon${qt(e)}`,a&&"iconOpen",n&&"disabled"]};return Qe(c,V8,t)},bN=Ft("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${OC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),B8=Ft(bN,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ra,overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.select,t[e.variant],e.error&&t.error,{[`&.${OC.multiple}`]:t.multiple}]}})({}),_N=Ft("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${OC.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),j8=Ft(_N,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),z8=M.forwardRef(function(t,e){const{className:n,disabled:s,error:a,IconComponent:l,inputRef:c,variant:h="standard",...d}=t,p={...t,disabled:s,variant:h,error:a},y=U8(p);return O.jsxs(M.Fragment,{children:[O.jsx(B8,{ownerState:p,className:Jt(y.select,n),disabled:s,ref:c||e,...d}),t.multiple?null:O.jsx(j8,{as:l,ownerState:p,className:y.icon})]})});var SM;const H8=Ft("fieldset",{shouldForwardProp:ra})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$8=Ft("legend",{shouldForwardProp:ra})(Sn(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function q8(i){const{children:t,classes:e,className:n,label:s,notched:a,...l}=i,c=s!=null&&s!=="",h={...i,notched:a,withLabel:c};return O.jsx(H8,{"aria-hidden":!0,className:n,ownerState:h,...l,children:O.jsx($8,{ownerState:h,children:c?O.jsx("span",{children:s}):SM||(SM=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const G8=i=>{const{classes:t}=i,n=Qe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},JH,t);return{...t,...n}},W8=Ft(uA,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:lA})(Sn(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sa.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Sa.focused} .${Sa.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(_l()).map(([e])=>({props:{color:e},style:{[`&.${Sa.focused} .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${Sa.error} .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${Sa.disabled} .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),K8=Ft(q8,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Sn(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Y8=Ft(hA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:cA})(Sn(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),DC=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:l="input",label:c,multiline:h=!1,notched:d,slots:p={},slotProps:y={},type:b="text",...E}=n,A=G8(n),S=og(),C=ag({props:n,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...n,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:a,hiddenLabel:C.hiddenLabel,multiline:h,size:C.size,type:b},F=p.root??s.Root??W8,k=p.input??s.Input??Y8,[D,U]=Gn("notchedOutline",{elementType:K8,className:A.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:p,slotProps:y},additionalProps:{label:c!=null&&c!==""&&C.required?O.jsxs(M.Fragment,{children:[c,"","*"]}):c}});return O.jsx(kC,{slots:{root:F,input:k},slotProps:y,renderSuffix:W=>O.jsx(D,{...U,notched:typeof d<"u"?d:!!(W.startAdornment||W.filled||W.focused)}),fullWidth:a,inputComponent:l,multiline:h,ref:e,type:b,...E,classes:{...A,notchedOutline:null}})});DC.muiName="Input";function EN(i){return Xe("MuiSelect",i)}const xm=He("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var wM;const X8=Ft(bN,{name:"MuiSelect",slot:"Select",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`&.${xm.select}`]:t.select},{[`&.${xm.select}`]:t[e.variant]},{[`&.${xm.error}`]:t.error},{[`&.${xm.multiple}`]:t.multiple}]}})({[`&.${xm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Q8=Ft(_N,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),Z8=Ft("input",{shouldForwardProp:i=>ZL(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TM(i,t){return typeof t=="object"&&t!==null?i===t:String(i)===String(t)}function J8(i){return i==null||typeof i=="string"&&!i.trim()}const t7=i=>{const{classes:t,variant:e,disabled:n,multiple:s,open:a,error:l}=i,c={select:["select",e,n&&"disabled",s&&"multiple",l&&"error"],icon:["icon",`icon${qt(e)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Qe(c,EN,t)},e7=M.forwardRef(function(t,e){var Dn;const{"aria-describedby":n,"aria-label":s,autoFocus:a,autoWidth:l,children:c,className:h,defaultOpen:d,defaultValue:p,disabled:y,displayEmpty:b,error:E=!1,IconComponent:A,inputRef:S,labelId:C,MenuProps:x={},multiple:F,name:k,onBlur:D,onChange:U,onClose:W,onFocus:L,onOpen:R,open:N,readOnly:T,renderValue:B,required:q,SelectDisplayProps:z={},tabIndex:ct,type:nt,value:Y,variant:Q="standard",...at}=t,[dt,K]=iM({controlled:Y,default:p,name:"Select"}),[rt,ut]=iM({controlled:N,default:d,name:"Select"}),st=M.useRef(null),bt=M.useRef(null),[wt,Et]=M.useState(null),{current:Ct}=M.useRef(N!=null),[Bt,zt]=M.useState(),At=Ds(e,S),Ht=M.useCallback(Lt=>{bt.current=Lt,Lt&&Et(Lt)},[]),Gt=wt==null?void 0:wt.parentNode;M.useImperativeHandle(At,()=>({focus:()=>{bt.current.focus()},node:st.current,value:dt}),[dt]),M.useEffect(()=>{d&&rt&&wt&&!Ct&&(zt(l?null:Gt.clientWidth),bt.current.focus())},[wt,l]),M.useEffect(()=>{a&&bt.current.focus()},[a]),M.useEffect(()=>{if(!C)return;const Lt=na(bt.current).getElementById(C);if(Lt){const Pe=()=>{getSelection().isCollapsed&&bt.current.focus()};return Lt.addEventListener("click",Pe),()=>{Lt.removeEventListener("click",Pe)}}},[C]);const Ot=(Lt,Pe)=>{Lt?R&&R(Pe):W&&W(Pe),Ct||(zt(l?null:Gt.clientWidth),ut(Lt))},Pt=Lt=>{Lt.button===0&&(Lt.preventDefault(),bt.current.focus(),Ot(!0,Lt))},Wt=Lt=>{Ot(!1,Lt)},ue=M.Children.toArray(c),fe=Lt=>{const Pe=ue.find(gn=>gn.props.value===Lt.target.value);Pe!==void 0&&(K(Pe.props.value),U&&U(Lt,Pe))},ke=Lt=>Pe=>{let gn;if(Pe.currentTarget.hasAttribute("tabindex")){if(F){gn=Array.isArray(dt)?dt.slice():[];const sr=dt.indexOf(Lt.props.value);sr===-1?gn.push(Lt.props.value):gn.splice(sr,1)}else gn=Lt.props.value;if(Lt.props.onClick&&Lt.props.onClick(Pe),dt!==gn&&(K(gn),U)){const sr=Pe.nativeEvent||Pe,kl=new sr.constructor(sr.type,sr);Object.defineProperty(kl,"target",{writable:!0,value:{value:gn,name:k}}),U(kl,Lt)}F||Ot(!1,Pe)}},Ue=Lt=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(Lt.key)&&(Lt.preventDefault(),Ot(!0,Lt))},$e=wt!==null&&rt,pe=Lt=>{!$e&&D&&(Object.defineProperty(Lt,"target",{writable:!0,value:{value:dt,name:k}}),D(Lt))};delete at["aria-invalid"];let Dt,oi;const Ze=[];let Wi=!1;(nE({value:dt})||b)&&(B?Dt=B(dt):Wi=!0);const Re=ue.map(Lt=>{if(!M.isValidElement(Lt))return null;let Pe;if(F){if(!Array.isArray(dt))throw new Error(vl(2));Pe=dt.some(gn=>TM(gn,Lt.props.value)),Pe&&Wi&&Ze.push(Lt.props.children)}else Pe=TM(dt,Lt.props.value),Pe&&Wi&&(oi=Lt.props.children);return M.cloneElement(Lt,{"aria-selected":Pe?"true":"false",onClick:ke(Lt),onKeyUp:gn=>{gn.key===" "&&gn.preventDefault(),Lt.props.onKeyUp&&Lt.props.onKeyUp(gn)},role:"option",selected:Pe,value:void 0,"data-value":Lt.props.value})});Wi&&(F?Ze.length===0?Dt=null:Dt=Ze.reduce((Lt,Pe,gn)=>(Lt.push(Pe),gn<Ze.length-1&&Lt.push(", "),Lt),[]):Dt=oi);let ee=Bt;!l&&Ct&&wt&&(ee=Gt.clientWidth);let Je;typeof ct<"u"?Je=ct:Je=y?null:0;const Oe=z.id||(k?`mui-component-select-${k}`:void 0),De={...t,variant:Q,value:dt,open:$e,error:E},Kt=t7(De),On={...x.PaperProps,...(Dn=x.slotProps)==null?void 0:Dn.paper},vn=Yv();return O.jsxs(M.Fragment,{children:[O.jsx(X8,{as:"div",ref:Ht,tabIndex:Je,role:"combobox","aria-controls":$e?vn:void 0,"aria-disabled":y?"true":void 0,"aria-expanded":$e?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":q?"true":void 0,"aria-invalid":E?"true":void 0,onKeyDown:Ue,onMouseDown:y||T?null:Pt,onBlur:pe,onFocus:L,...z,ownerState:De,className:Jt(z.className,Kt.select,h),id:Oe,children:J8(Dt)?wM||(wM=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Dt}),O.jsx(Z8,{"aria-invalid":E,value:Array.isArray(dt)?dt.join(","):dt,name:k,ref:st,"aria-hidden":!0,onChange:fe,tabIndex:-1,disabled:y,className:Kt.nativeInput,autoFocus:a,required:q,...at,ownerState:De}),O.jsx(Q8,{as:A,className:Kt.icon,ownerState:De}),O.jsx(F8,{id:`menu-${k||""}`,anchorEl:Gt,open:$e,onClose:Wt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":F?"true":void 0,disableListWrap:!0,id:vn,...x.MenuListProps},paper:{...On,style:{minWidth:ee,...On!=null?On.style:null}}},children:Re})]})}),n7=i=>{const{classes:t}=i,n=Qe({root:["root"]},EN,t);return{...t,...n}},LC={name:"MuiSelect",slot:"Root",shouldForwardProp:i=>ra(i)&&i!=="variant"},i7=Ft(MC,LC)(""),s7=Ft(DC,LC)(""),r7=Ft(PC,LC)(""),AN=M.forwardRef(function(t,e){const n=ln({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:l={},className:c,defaultOpen:h=!1,displayEmpty:d=!1,IconComponent:p=e$,id:y,input:b,inputProps:E,label:A,labelId:S,MenuProps:C,multiple:x=!1,native:F=!1,onClose:k,onOpen:D,open:U,renderValue:W,SelectDisplayProps:L,variant:R="outlined",...N}=n,T=F?z8:e7,B=og(),q=ag({props:n,muiFormControl:B,states:["variant","error"]}),z=q.variant||R,ct={...n,variant:z,classes:l},nt=n7(ct),{root:Y,...Q}=nt,at=b||{standard:O.jsx(i7,{ownerState:ct}),outlined:O.jsx(s7,{label:A,ownerState:ct}),filled:O.jsx(r7,{ownerState:ct})}[z],dt=Ds(e,Xv(at));return O.jsx(M.Fragment,{children:M.cloneElement(at,{inputComponent:T,inputProps:{children:a,error:q.error,IconComponent:p,variant:z,type:void 0,multiple:x,...F?{id:y}:{autoWidth:s,defaultOpen:h,displayEmpty:d,labelId:S,MenuProps:C,onClose:k,onOpen:D,open:U,renderValue:W,SelectDisplayProps:{id:y,...L}},...E,classes:E?cs(Q,E.classes):Q,...b?b.props.inputProps:{}},...(x&&F||d)&&z==="outlined"?{notched:!0}:{},ref:dt,className:Jt(at.props.className,c,nt.root),...!b&&{variant:z},...N})})});AN.muiName="Select";function a7(i){return Xe("MuiSkeleton",i)}He("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const o7=i=>{const{classes:t,variant:e,animation:n,hasChildren:s,width:a,height:l}=i;return Qe({root:["root",e,n,s&&"withChildren",s&&!a&&"fitContent",s&&!l&&"heightAuto"]},a7,t)},t1=fd`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,e1=fd`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,l7=typeof t1!="string"?qv`
        animation: ${t1} 2s ease-in-out 0.5s infinite;
      `:null,c7=typeof e1!="string"?qv`
        &::after {
          animation: ${e1} 2s linear 0.5s infinite;
        }
      `:null,u7=Ft("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],e.animation!==!1&&t[e.animation],e.hasChildren&&t.withChildren,e.hasChildren&&!e.width&&t.fitContent,e.hasChildren&&!e.height&&t.heightAuto]}})(Sn(({theme:i})=>{const t=D9(i.shape.borderRadius)||"px",e=L9(i.shape.borderRadius);return{display:"block",backgroundColor:i.vars?i.vars.palette.Skeleton.bg:Qr(i.palette.text.primary,i.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${e}${t}/${Math.round(e/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(i.vars||i).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:l7||{animation:`${t1} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(i.vars||i).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:c7||{"&::after":{animation:`${e1} 2s linear 0.5s infinite`}}}]}})),iE=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:a,component:l="span",height:c,style:h,variant:d="text",width:p,...y}=n,b={...n,animation:s,component:l,variant:d,hasChildren:!!y.children},E=o7(b);return O.jsx(u7,{as:l,ref:e,className:Jt(E.root,a),ownerState:b,...y,style:{width:p,height:c,...h}})});function h7(i){return Xe("MuiTextField",i)}He("MuiTextField",["root"]);const d7={standard:MC,filled:PC,outlined:DC},f7=i=>{const{classes:t}=i;return Qe({root:["root"]},h7,t)},p7=Ft(n8,{name:"MuiTextField",slot:"Root"})({}),g7=M.forwardRef(function(t,e){const n=ln({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:l,className:c,color:h="primary",defaultValue:d,disabled:p=!1,error:y=!1,FormHelperTextProps:b,fullWidth:E=!1,helperText:A,id:S,InputLabelProps:C,inputProps:x,InputProps:F,inputRef:k,label:D,maxRows:U,minRows:W,multiline:L=!1,name:R,onBlur:N,onChange:T,onFocus:B,placeholder:q,required:z=!1,rows:ct,select:nt=!1,SelectProps:Y,slots:Q={},slotProps:at={},type:dt,value:K,variant:rt="outlined",...ut}=n,st={...n,autoFocus:a,color:h,disabled:p,error:y,fullWidth:E,multiline:L,required:z,select:nt,variant:rt},bt=f7(st),wt=Yv(S),Et=A&&wt?`${wt}-helper-text`:void 0,Ct=D&&wt?`${wt}-label`:void 0,Bt=d7[rt],zt={slots:Q,slotProps:{input:F,inputLabel:C,htmlInput:x,formHelperText:b,select:Y,...at}},At={},Ht=zt.slotProps.inputLabel;rt==="outlined"&&(Ht&&typeof Ht.shrink<"u"&&(At.notched=Ht.shrink),At.label=D),nt&&((!Y||!Y.native)&&(At.id=void 0),At["aria-describedby"]=void 0);const[Gt,Ot]=Gn("root",{elementType:p7,shouldForwardComponentProp:!0,externalForwardedProps:{...zt,...ut},ownerState:st,className:Jt(bt.root,c),ref:e,additionalProps:{disabled:p,error:y,fullWidth:E,required:z,color:h,variant:rt}}),[Pt,Wt]=Gn("input",{elementType:Bt,externalForwardedProps:zt,additionalProps:At,ownerState:st}),[ue,fe]=Gn("inputLabel",{elementType:b8,externalForwardedProps:zt,ownerState:st}),[ke,Ue]=Gn("htmlInput",{elementType:"input",externalForwardedProps:zt,ownerState:st}),[$e,pe]=Gn("formHelperText",{elementType:a8,externalForwardedProps:zt,ownerState:st}),[Dt,oi]=Gn("select",{elementType:AN,externalForwardedProps:zt,ownerState:st}),Ze=O.jsx(Pt,{"aria-describedby":Et,autoComplete:s,autoFocus:a,defaultValue:d,fullWidth:E,multiline:L,name:R,rows:ct,maxRows:U,minRows:W,type:dt,value:K,id:wt,inputRef:k,onBlur:N,onChange:T,onFocus:B,placeholder:q,inputProps:Ue,slots:{input:Q.htmlInput?ke:void 0},...Wt});return O.jsxs(Gt,{...Ot,children:[D!=null&&D!==""&&O.jsx(ue,{htmlFor:wt,id:Ct,...fe,children:D}),nt?O.jsx(Dt,{"aria-describedby":Et,id:wt,labelId:Ct,value:K,input:Ze,...oi,children:l}):Ze,A&&O.jsx($e,{id:Et,...pe,children:A})]})}),m7=Oi(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}));function Qv({subtitle:i}){const t=sg();return O.jsxs(vt,{className:"fullWidth header",children:[O.jsxs(vt,{className:"fullHeight",sx:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},onClick:()=>{t("/")},children:[O.jsx(xt,{variant:"header_small",sx:{ml:"1px"},children:"2025 SUMMER RETREAT"}),O.jsx(xt,{variant:"header",children:"CHANGE"})]}),i&&O.jsx(xt,{children:i}),O.jsx(m7,{fontSize:"large",sx:{color:"#FAC656"}})]})}const y7=()=>{};var xM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=function(i){const t=[];let e=0;for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},v7=function(i){const t=[];let e=0,n=0;for(;e<i.length;){const s=i[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=i[e++];t[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=i[e++],l=i[e++],c=i[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(h>>10)),t[n++]=String.fromCharCode(56320+(h&1023))}else{const a=i[e++],l=i[e++];t[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},wN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<i.length;s+=3){const a=i[s],l=s+1<i.length,c=l?i[s+1]:0,h=s+2<i.length,d=h?i[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let b=(c&15)<<2|d>>6,E=d&63;h||(E=64,l||(b=64)),n.push(e[p],e[y],e[b],e[E])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(SN(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):v7(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<i.length;){const a=e[i.charAt(s++)],c=s<i.length?e[i.charAt(s)]:0;++s;const d=s<i.length?e[i.charAt(s)]:64;++s;const y=s<i.length?e[i.charAt(s)]:64;if(++s,a==null||c==null||d==null||y==null)throw new b7;const b=a<<2|c>>4;if(n.push(b),d!==64){const E=c<<4&240|d>>2;if(n.push(E),y!==64){const A=d<<6&192|y;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class b7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _7=function(i){const t=SN(i);return wN.encodeByteArray(t,!0)},sE=function(i){return _7(i).replace(/\./g,"")},TN=function(i){try{return wN.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=()=>E7().__FIREBASE_DEFAULTS__,S7=()=>{if(typeof process>"u"||typeof xM>"u")return;const i=xM.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},w7=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&TN(i[1]);return t&&JSON.parse(t)},dA=()=>{try{return y7()||A7()||S7()||w7()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},xN=i=>{var t,e;return(e=(t=dA())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},CN=i=>{const t=xN(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},RN=()=>{var i;return(i=dA())===null||i===void 0?void 0:i.config},IN=i=>{var t;return(t=dA())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i){return i.endsWith(".cloudworkstations.dev")}async function NC(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[sE(JSON.stringify(e)),sE(JSON.stringify(l)),""].join(".")}const ny={};function x7(){const i={prod:[],emulator:[]};for(const t of Object.keys(ny))ny[t]?i.emulator.push(t):i.prod.push(t);return i}function C7(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let CM=!1;function FC(i,t){if(typeof window>"u"||typeof document>"u"||!lg(window.location.host)||ny[i]===t||ny[i]||CM)return;ny[i]=t;function e(b){return`__firebase__banner__${b}`}const n="__firebase__banner",a=x7().prod.length>0;function l(){const b=document.getElementById(n);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{CM=!0,l()},b}function p(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=C7(n),E=e("text"),A=document.getElementById(E)||document.createElement("span"),S=e("learnmore"),C=document.getElementById(S)||document.createElement("a"),x=e("preprendIcon"),F=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const k=b.element;c(k),p(C,S);const D=d();h(F,x),k.append(F,A,C,D),document.body.appendChild(k)}a?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(us())}function I7(){var i;const t=(i=dA())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P7(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function M7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O7(){const i=us();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function D7(){return!I7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L7(){try{return typeof indexedDB=="object"}catch{return!1}}function N7(){return new Promise((i,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7="FirebaseError";class ro extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=F7,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zv.prototype.create)}}class Zv{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?V7(a,n):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ro(s,c,n)}}function V7(i,t){return i.replace(U7,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const U7=/\{\$([^}]+)}/g;function B7(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function nd(i,t){if(i===t)return!0;const e=Object.keys(i),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const a=i[s],l=t[s];if(RM(a)&&RM(l)){if(!nd(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function RM(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(i){const t=[];for(const[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function j7(i,t){const e=new z7(i,t);return e.subscribe.bind(e)}class z7{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");H7(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=hT),s.error===void 0&&(s.error=hT),s.complete===void 0&&(s.complete=hT);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H7(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function hT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i){return i&&i._delegate?i._delegate:i}class Jc{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new T7;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(G7(t))try{this.getOrInitializeService({instanceIdentifier:Wu})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(t=Wu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wu){return this.instances.has(t)}getOptions(t=Wu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(s)}return s}onInit(t,e){var n;const s=this.normalizeInstanceIdentifier(e),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:q7(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Wu){return this.component?this.component.multipleInstances?t:Wu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q7(i){return i===Wu?void 0:i}function G7(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new $7(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(_e||(_e={}));const K7={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},Y7=_e.INFO,X7={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Q7=(i,t,...e)=>{if(t<i.logLevel)return;const n=new Date().toISOString(),s=X7[t];if(s)console[s](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class VC{constructor(t){this.name=t,this._logLevel=Y7,this._logHandler=Q7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?K7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const Z7=(i,t)=>t.some(e=>i instanceof e);let IM,kM;function J7(){return IM||(IM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tq(){return kM||(kM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PN=new WeakMap,n1=new WeakMap,MN=new WeakMap,dT=new WeakMap,UC=new WeakMap;function eq(i){const t=new Promise((e,n)=>{const s=()=>{i.removeEventListener("success",a),i.removeEventListener("error",l)},a=()=>{e(Hc(i.result)),s()},l=()=>{n(i.error),s()};i.addEventListener("success",a),i.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&PN.set(e,i)}).catch(()=>{}),UC.set(t,i),t}function nq(i){if(n1.has(i))return;const t=new Promise((e,n)=>{const s=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",l),i.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{n(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",a),i.addEventListener("error",l),i.addEventListener("abort",l)});n1.set(i,t)}let i1={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return n1.get(i);if(t==="objectStoreNames")return i.objectStoreNames||MN.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Hc(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function iq(i){i1=i(i1)}function sq(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=i.call(fT(this),t,...e);return MN.set(n,t.sort?t.sort():[t]),Hc(n)}:tq().includes(i)?function(...t){return i.apply(fT(this),t),Hc(PN.get(this))}:function(...t){return Hc(i.apply(fT(this),t))}}function rq(i){return typeof i=="function"?sq(i):(i instanceof IDBTransaction&&nq(i),Z7(i,J7())?new Proxy(i,i1):i)}function Hc(i){if(i instanceof IDBRequest)return eq(i);if(dT.has(i))return dT.get(i);const t=rq(i);return t!==i&&(dT.set(i,t),UC.set(t,i)),t}const fT=i=>UC.get(i);function aq(i,t,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(i,t),c=Hc(l);return n&&l.addEventListener("upgradeneeded",h=>{n(Hc(l.result),h.oldVersion,h.newVersion,Hc(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const oq=["get","getKey","getAll","getAllKeys","count"],lq=["put","add","delete","clear"],pT=new Map;function PM(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(pT.get(t))return pT.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=lq.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||oq.includes(e)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),s&&h.done]))[0]};return pT.set(t,a),a}iq(i=>({...i,get:(t,e,n)=>PM(t,e)||i.get(t,e,n),has:(t,e)=>!!PM(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(uq(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function uq(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const s1="@firebase/app",MM="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new VC("@firebase/app"),hq="@firebase/app-compat",dq="@firebase/analytics-compat",fq="@firebase/analytics",pq="@firebase/app-check-compat",gq="@firebase/app-check",mq="@firebase/auth",yq="@firebase/auth-compat",vq="@firebase/database",bq="@firebase/data-connect",_q="@firebase/database-compat",Eq="@firebase/functions",Aq="@firebase/functions-compat",Sq="@firebase/installations",wq="@firebase/installations-compat",Tq="@firebase/messaging",xq="@firebase/messaging-compat",Cq="@firebase/performance",Rq="@firebase/performance-compat",Iq="@firebase/remote-config",kq="@firebase/remote-config-compat",Pq="@firebase/storage",Mq="@firebase/storage-compat",Oq="@firebase/firestore",Dq="@firebase/ai",Lq="@firebase/firestore-compat",Nq="firebase",Fq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="[DEFAULT]",Vq={[s1]:"fire-core",[hq]:"fire-core-compat",[fq]:"fire-analytics",[dq]:"fire-analytics-compat",[gq]:"fire-app-check",[pq]:"fire-app-check-compat",[mq]:"fire-auth",[yq]:"fire-auth-compat",[vq]:"fire-rtdb",[bq]:"fire-data-connect",[_q]:"fire-rtdb-compat",[Eq]:"fire-fn",[Aq]:"fire-fn-compat",[Sq]:"fire-iid",[wq]:"fire-iid-compat",[Tq]:"fire-fcm",[xq]:"fire-fcm-compat",[Cq]:"fire-perf",[Rq]:"fire-perf-compat",[Iq]:"fire-rc",[kq]:"fire-rc-compat",[Pq]:"fire-gcs",[Mq]:"fire-gcs-compat",[Oq]:"fire-fst",[Lq]:"fire-fst-compat",[Dq]:"fire-vertex","fire-js":"fire-js",[Nq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map,Uq=new Map,a1=new Map;function OM(i,t){try{i.container.addComponent(t)}catch(e){Al.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function id(i){const t=i.name;if(a1.has(t))return Al.debug(`There were multiple attempts to register component ${t}.`),!1;a1.set(t,i);for(const e of rE.values())OM(e,i);for(const e of Uq.values())OM(e,i);return!0}function fA(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Zr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$c=new Zv("app","Firebase",Bq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $c.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=Fq;function ON(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const n=Object.assign({name:r1,automaticDataCollectionEnabled:!0},t),s=n.name;if(typeof s!="string"||!s)throw $c.create("bad-app-name",{appName:String(s)});if(e||(e=RN()),!e)throw $c.create("no-options");const a=rE.get(s);if(a){if(nd(e,a.options)&&nd(n,a.config))return a;throw $c.create("duplicate-app",{appName:s})}const l=new W7(s);for(const h of a1.values())l.addComponent(h);const c=new jq(e,n,l);return rE.set(s,c),c}function BC(i=r1){const t=rE.get(i);if(!t&&i===r1&&RN())return ON();if(!t)throw $c.create("no-app",{appName:i});return t}function Xa(i,t,e){var n;let s=(n=Vq[i])!==null&&n!==void 0?n:i;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Al.warn(c.join(" "));return}id(new Jc(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq="firebase-heartbeat-database",Hq=1,my="firebase-heartbeat-store";let gT=null;function DN(){return gT||(gT=aq(zq,Hq,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(my)}catch(e){console.warn(e)}}}}).catch(i=>{throw $c.create("idb-open",{originalErrorMessage:i.message})})),gT}async function $q(i){try{const e=(await DN()).transaction(my),n=await e.objectStore(my).get(LN(i));return await e.done,n}catch(t){if(t instanceof ro)Al.warn(t.message);else{const e=$c.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Al.warn(e.message)}}}async function DM(i,t){try{const n=(await DN()).transaction(my,"readwrite");await n.objectStore(my).put(t,LN(i)),await n.done}catch(e){if(e instanceof ro)Al.warn(e.message);else{const n=$c.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Al.warn(n.message)}}}function LN(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=1024,Gq=30;class Wq{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Yq(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=LM();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Gq){const l=Xq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Al.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LM(),{heartbeatsToSend:n,unsentEntries:s}=Kq(this._heartbeatsCache.heartbeats),a=sE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Al.warn(e),""}}}function LM(){return new Date().toISOString().substring(0,10)}function Kq(i,t=qq){const e=[];let n=i.slice();for(const s of i){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),NM(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),NM(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class Yq{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L7()?N7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await $q(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return DM(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return DM(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function NM(i){return sE(JSON.stringify({version:2,heartbeats:i})).length}function Xq(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let n=1;n<i.length;n++)i[n].date<e&&(e=i[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(i){id(new Jc("platform-logger",t=>new cq(t),"PRIVATE")),id(new Jc("heartbeat",t=>new Wq(t),"PRIVATE")),Xa(s1,MM,i),Xa(s1,MM,"esm2017"),Xa("fire-js","")}Qq("");var Zq="firebase",Jq="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(Zq,Jq,"app");function jC(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e}function NN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tG=NN,FN=new Zv("auth","Firebase",NN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new VC("@firebase/auth");function eG(i,...t){aE.logLevel<=_e.WARN&&aE.warn(`Auth (${pd}): ${i}`,...t)}function l_(i,...t){aE.logLevel<=_e.ERROR&&aE.error(`Auth (${pd}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(i,...t){throw zC(i,...t)}function Qa(i,...t){return zC(i,...t)}function VN(i,t,e){const n=Object.assign(Object.assign({},tG()),{[t]:e});return new Zv("auth","Firebase",n).create(t,{appName:i.name})}function Jh(i){return VN(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zC(i,...t){if(typeof i!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return FN.create(i,...t)}function te(i,t,...e){if(!i)throw zC(t,...e)}function hl(i){const t="INTERNAL ASSERTION FAILED: "+i;throw l_(t),new Error(t)}function wl(i,t){i||hl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function nG(){return FM()==="http:"||FM()==="https:"}function FM(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nG()||P7()||"connection"in navigator)?navigator.onLine:!0}function sG(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,e){this.shortDelay=t,this.longDelay=e,wl(e>t,"Short delay should be less than long delay!"),this.isMobile=R7()||M7()}get(){return iG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i,t){wl(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oG=new tb(3e4,6e4);function $C(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function cg(i,t,e,n,s={}){return BN(i,s,async()=>{let a={},l={};n&&(t==="GET"?l=n:a={body:JSON.stringify(n)});const c=Jv(Object.assign({key:i.config.apiKey},l)).slice(1),h=await i._getAdditionalHeaders();h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode);const d=Object.assign({method:t,headers:h},a);return k7()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&lg(i.emulatorConfig.host)&&(d.credentials="include"),UN.fetch()(await jN(i,i.config.apiHost,e,c),d)})}async function BN(i,t,e){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},rG),t);try{const s=new cG(i),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw z0(i,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw z0(i,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw z0(i,"email-already-in-use",l);if(h==="USER_DISABLED")throw z0(i,"user-disabled",l);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw VN(i,p,d);Sl(i,p)}}catch(s){if(s instanceof ro)throw s;Sl(i,"network-request-failed",{message:String(s)})}}async function lG(i,t,e,n,s={}){const a=await cg(i,t,e,n,s);return"mfaPendingCredential"in a&&Sl(i,"multi-factor-auth-required",{_serverResponse:a}),a}async function jN(i,t,e,n){const s=`${t}${e}?${n}`,a=i,l=a.config.emulator?HC(i.config,s):`${i.config.apiScheme}://${s}`;return aG.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class cG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Qa(this.auth,"network-request-failed")),oG.get())})}}function z0(i,t,e){const n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=Qa(i,t,n);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uG(i,t){return cg(i,"POST","/v1/accounts:delete",t)}async function oE(i,t){return cg(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hG(i,t=!1){const e=ia(i),n=await e.getIdToken(t),s=qC(n);te(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:iy(mT(s.auth_time)),issuedAtTime:iy(mT(s.iat)),expirationTime:iy(mT(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mT(i){return Number(i)*1e3}function qC(i){const[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return l_("JWT malformed, contained fewer than 3 sections"),null;try{const s=TN(e);return s?JSON.parse(s):(l_("Failed to decode base64 JWT payload"),null)}catch(s){return l_("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function VM(i){const t=qC(i);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(i,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof ro&&dG(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function dG({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=iy(this.lastLoginAt),this.creationTime=iy(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(i){var t;const e=i.auth,n=await i.getIdToken(),s=await yy(i,oE(e,{idToken:n}));te(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?zN(a.providerUserInfo):[],c=gG(i.providerData,l),h=i.isAnonymous,d=!(i.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new l1(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(i,y)}async function pG(i){const t=ia(i);await lE(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gG(i,t){return[...i.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function zN(i){return i.map(t=>{var{providerId:e}=t,n=jC(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(i,t){const e=await BN(i,{},async()=>{const n=Jv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=i.config,l=await jN(i,s,"/v1/token",`key=${a}`),c=await i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",UN.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function yG(i,t){return cg(i,"POST","/v2/accounts:revokeToken",$C(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){te(t.length!==0,"internal-error");const e=VM(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:a}=await mG(t,e);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:a}=e,l=new Lf;return n&&(te(typeof n=="string","internal-error",{appName:t}),l.refreshToken=n),s&&(te(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(te(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Lf,this.toJSON())}_performRefresh(){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(i,t){te(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Jr{constructor(t){var{uid:e,auth:n,stsTokenManager:s}=t,a=jC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new l1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await yy(this,this.stsTokenManager.getToken(this.auth,t));return te(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return hG(this,t)}reload(){return pG(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Jr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await lE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Jh(this.auth));const t=await this.getIdToken();return await yy(this,uG(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,s,a,l,c,h,d,p;const y=(n=e.displayName)!==null&&n!==void 0?n:void 0,b=(s=e.email)!==null&&s!==void 0?s:void 0,E=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=e.photoURL)!==null&&l!==void 0?l:void 0,S=(c=e.tenantId)!==null&&c!==void 0?c:void 0,C=(h=e._redirectEventId)!==null&&h!==void 0?h:void 0,x=(d=e.createdAt)!==null&&d!==void 0?d:void 0,F=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:D,isAnonymous:U,providerData:W,stsTokenManager:L}=e;te(k&&L,t,"internal-error");const R=Lf.fromJSON(this.name,L);te(typeof k=="string",t,"internal-error"),ac(y,t.name),ac(b,t.name),te(typeof D=="boolean",t,"internal-error"),te(typeof U=="boolean",t,"internal-error"),ac(E,t.name),ac(A,t.name),ac(S,t.name),ac(C,t.name),ac(x,t.name),ac(F,t.name);const N=new Jr({uid:k,auth:t,email:b,emailVerified:D,displayName:y,isAnonymous:U,photoURL:A,phoneNumber:E,tenantId:S,stsTokenManager:R,createdAt:x,lastLoginAt:F});return W&&Array.isArray(W)&&(N.providerData=W.map(T=>Object.assign({},T))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(t,e,n=!1){const s=new Lf;s.updateFromServerResponse(e);const a=new Jr({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await lE(a),a}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?zN(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Lf;c.updateFromIdToken(n);const h=new Jr({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new l1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Map;function dl(i){wl(i instanceof Function,"Expected a class definition");let t=UM.get(i);return t?(wl(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,UM.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}HN.type="NONE";const BM=HN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(i,t,e){return`firebase:${i}:${t}:${e}`}class Nf{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=c_(this.userKey,s.apiKey,a),this.fullPersistenceKey=c_("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await oE(this.auth,{idToken:t}).catch(()=>{});return e?Jr._fromGetAccountInfoResponse(this.auth,e,t):null}return Jr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Nf(dl(BM),t,n);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||dl(BM);const l=c_(n,t.config.apiKey,t.name);let c=null;for(const d of e)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const b=await oE(t,{idToken:p}).catch(()=>{});if(!b)break;y=await Jr._fromGetAccountInfoResponse(t,b,p)}else y=Jr._fromJSON(t,p);d!==a&&(c=y),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Nf(a,t,n):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new Nf(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($N(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YN(t))return"Blackberry";if(XN(t))return"Webos";if(qN(t))return"Safari";if((t.includes("chrome/")||GN(t))&&!t.includes("edge/"))return"Chrome";if(KN(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $N(i=us()){return/firefox\//i.test(i)}function qN(i=us()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GN(i=us()){return/crios\//i.test(i)}function WN(i=us()){return/iemobile/i.test(i)}function KN(i=us()){return/android/i.test(i)}function YN(i=us()){return/blackberry/i.test(i)}function XN(i=us()){return/webos/i.test(i)}function GC(i=us()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vG(i=us()){var t;return GC(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function bG(){return O7()&&document.documentMode===10}function QN(i=us()){return GC(i)||KN(i)||XN(i)||YN(i)||/windows phone/i.test(i)||WN(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(i,t=[]){let e;switch(i){case"Browser":e=jM(us());break;case"Worker":e=`${jM(us())}-${i}`;break;default:e=i}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${pd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(i,t={}){return cg(i,"GET","/v2/passwordPolicy",$C(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=6;class SG{constructor(t){var e,n,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:AG,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(e=h.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zM(this),this.idTokenSubscription=new zM(this),this.beforeStateQueue=new _G(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=dl(e)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await Nf.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await oE(this,{idToken:t}),n=await Jr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Zr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await lE(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sG()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zr(this.app))return Promise.reject(Jh(this));const e=t?ia(t):null;return e&&te(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Jh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zr(this.app)?Promise.reject(Jh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await EG(this),e=new SG(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zv("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await yG(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&dl(t)||this._popupRedirectResolver;te(e,this,"argument-error"),this.redirectPersistenceManager=await Nf.create(this,[dl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,n,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&eG(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function WC(i){return ia(i)}class zM{constructor(t){this.auth=t,this.observer=null,this.addObserver=j7(e=>this.observer=e)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TG(i){KC=i}function xG(i){return KC.loadJS(i)}function CG(){return KC.gapiScript}function RG(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(i,t){const e=fA(i,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(nd(a,t??{}))return s;Sl(s,"already-initialized")}return e.initialize({options:t})}function kG(i,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(dl);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function PG(i,t,e){const n=WC(i);te(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,a=JN(t),{host:l,port:c}=MG(t),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){te(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),te(nd(d,n.config.emulator)&&nd(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,lg(l)?(NC(`${a}//${l}${h}`),FC("Auth",!0)):OG()}function JN(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function MG(i){const t=JN(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:HM(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:HM(l)}}}function HM(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function OG(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hl("not implemented")}_getIdTokenResponse(t){return hl("not implemented")}_linkToIdToken(t,e){return hl("not implemented")}_getReauthenticationResolver(t){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(i,t){return lG(i,"POST","/v1/accounts:signInWithIdp",$C(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="http://localhost";class sd extends t4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new sd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Sl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=e,a=jC(e,["providerId","signInMethod"]);if(!n||!s)return null;const l=new sd(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Ff(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Ff(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ff(t,e)}buildRequest(){const t={requestUri:DG,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Jv(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends e4{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends eb{constructor(){super("facebook.com")}static credential(t){return sd._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cc.credentialFromTaggedObject(t)}static credentialFromError(t){return cc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cc.credential(t.oauthAccessToken)}catch{return null}}}cc.FACEBOOK_SIGN_IN_METHOD="facebook.com";cc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends eb{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return sd._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return uc.credentialFromTaggedObject(t)}static credentialFromError(t){return uc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return uc.credential(e,n)}catch{return null}}}uc.GOOGLE_SIGN_IN_METHOD="google.com";uc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends eb{constructor(){super("github.com")}static credential(t){return sd._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hc.credentialFromTaggedObject(t)}static credentialFromError(t){return hc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hc.credential(t.oauthAccessToken)}catch{return null}}}hc.GITHUB_SIGN_IN_METHOD="github.com";hc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends eb{constructor(){super("twitter.com")}static credential(t,e){return sd._fromParams({providerId:dc.PROVIDER_ID,signInMethod:dc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return dc.credentialFromTaggedObject(t)}static credentialFromError(t){return dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return dc.credential(e,n)}catch{return null}}}dc.TWITTER_SIGN_IN_METHOD="twitter.com";dc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const a=await Jr._fromIdTokenResponse(t,n,s),l=$M(n);return new qp({user:a,providerId:l,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=$M(n);return new qp({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function $M(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends ro{constructor(t,e,n,s){var a;super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,cE.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new cE(t,e,n,s)}}function n4(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cE._fromErrorAndOperation(i,a,t,n):a})}async function LG(i,t,e=!1){const n=await yy(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return qp._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NG(i,t,e=!1){const{auth:n}=i;if(Zr(n.app))return Promise.reject(Jh(n));const s="reauthenticate";try{const a=await yy(i,n4(n,s,t,i),e);te(a.idToken,n,"internal-error");const l=qC(a.idToken);te(l,n,"internal-error");const{sub:c}=l;return te(i.uid===c,n,"user-mismatch"),qp._forOperation(i,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FG(i,t,e=!1){if(Zr(i.app))return Promise.reject(Jh(i));const n="signIn",s=await n4(i,n,t),a=await qp._fromIdTokenResponse(i,n,s);return e||await i._updateCurrentUser(a.user),a}function VG(i,t,e,n){return ia(i).onIdTokenChanged(t,e,n)}function UG(i,t,e){return ia(i).beforeAuthStateChanged(t,e)}const uE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(uE,"1"),this.storage.removeItem(uE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=1e3,jG=10;class s4 extends i4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!e&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);bG()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,jG):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},BG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}s4.type="LOCAL";const zG=s4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4 extends i4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}r4.type="SESSION";const a4=r4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new pA(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(l).map(async d=>d(e.origin,a)),h=await HG(c);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=YC("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return window}function qG(i){Za().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function GG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WG(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function KG(){return o4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="firebaseLocalStorageDb",YG=1,hE="firebaseLocalStorage",c4="fbase_key";class nb{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function gA(i,t){return i.transaction([hE],t?"readwrite":"readonly").objectStore(hE)}function XG(){const i=indexedDB.deleteDatabase(l4);return new nb(i).toPromise()}function c1(){const i=indexedDB.open(l4,YG);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(hE,{keyPath:c4})}catch(s){e(s)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(hE)?t(n):(n.close(),await XG(),t(await c1()))})})}async function qM(i,t,e){const n=gA(i,!0).put({[c4]:t,value:e});return new nb(n).toPromise()}async function QG(i,t){const e=gA(i,!1).get(t),n=await new nb(e).toPromise();return n===void 0?null:n.value}function GM(i,t){const e=gA(i,!0).delete(t);return new nb(e).toPromise()}const ZG=800,JG=3;class u4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>JG)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pA._getInstance(KG()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await GG(),!this.activeServiceWorker)return;this.sender=new $G(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await c1();return await qM(t,uE,"1"),await GM(t,uE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qM(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>QG(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>GM(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=gA(s,!1).getAll();return new nb(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u4.type="LOCAL";const tW=u4;new tb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(i,t){return t?dl(t):(te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends t4{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ff(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ff(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ff(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function nW(i){return FG(i.auth,new XC(i),i.bypassAuthState)}function iW(i){const{auth:t,user:e}=i;return te(e,t,"internal-error"),NG(e,new XC(i),i.bypassAuthState)}async function sW(i){const{auth:t,user:e}=i;return te(e,t,"internal-error"),LG(e,new XC(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,e,n,s,a=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nW;case"linkViaPopup":case"linkViaRedirect":return sW;case"reauthViaPopup":case"reauthViaRedirect":return iW;default:Sl(this.auth,"internal-error")}}resolve(t){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=new tb(2e3,1e4);class Pf extends h4{constructor(t,e,n,s,a){super(t,e,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Pf.currentPopupAction&&Pf.currentPopupAction.cancel(),Pf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){wl(this.filter.length===1,"Popup operations only handle one event");const t=YC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pf.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rW.get())};t()}}Pf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW="pendingRedirect",u_=new Map;class oW extends h4{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=u_.get(this.auth._key());if(!t){try{const n=await lW(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}u_.set(this.auth._key(),t)}return this.bypassAuthState||u_.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lW(i,t){const e=hW(t),n=uW(i);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}function cW(i,t){u_.set(i._key(),t)}function uW(i){return dl(i._redirectPersistence)}function hW(i){return c_(aW,i.config.apiKey,i.name)}async function dW(i,t,e=!1){if(Zr(i.app))return Promise.reject(Jh(i));const n=WC(i),s=eW(n,t),l=await new oW(n,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=10*60*1e3;class pW{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gW(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!d4(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Qa(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fW&&this.cachedEventUids.clear(),this.cachedEventUids.has(WM(t))}saveEventToCache(t){this.cachedEventUids.add(WM(t)),this.lastProcessedEventTime=Date.now()}}function WM(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function d4({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function gW(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d4(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(i,t={}){return cg(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vW=/^https?/;async function bW(i){if(i.config.emulator)return;const{authorizedDomains:t}=await mW(i);for(const e of t)try{if(_W(e))return}catch{}Sl(i,"unauthorized-domain")}function _W(i){const t=o1(),{protocol:e,hostname:n}=new URL(t);if(i.startsWith("chrome-extension://")){const l=new URL(i);return l.hostname===""&&n===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===n}if(!vW.test(e))return!1;if(yW.test(i))return n===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=new tb(3e4,6e4);function KM(){const i=Za().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function AW(i){return new Promise((t,e)=>{var n,s,a;function l(){KM(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{KM(),e(Qa(i,"network-request-failed"))},timeout:EW.get()})}if(!((s=(n=Za().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Za().gapi)===null||a===void 0)&&a.load)l();else{const c=RG("iframefcb");return Za()[c]=()=>{gapi.load?l():e(Qa(i,"network-request-failed"))},xG(`${CG()}?onload=${c}`).catch(h=>e(h))}}).catch(t=>{throw h_=null,t})}let h_=null;function SW(i){return h_=h_||AW(i),h_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=new tb(5e3,15e3),TW="__/auth/iframe",xW="emulator/auth/iframe",CW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IW(i){const t=i.config;te(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?HC(t,xW):`https://${i.config.authDomain}/${TW}`,n={apiKey:t.apiKey,appName:i.name,v:pd},s=RW.get(i.config.apiHost);s&&(n.eid=s);const a=i._getFrameworks();return a.length&&(n.fw=a.join(",")),`${e}?${Jv(n).slice(1)}`}async function kW(i){const t=await SW(i),e=Za().gapi;return te(e,i,"internal-error"),t.open({where:document.body,url:IW(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CW,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=Qa(i,"network-request-failed"),c=Za().setTimeout(()=>{a(l)},wW.get());function h(){Za().clearTimeout(c),s(n)}n.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MW=500,OW=600,DW="_blank",LW="http://localhost";class YM{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NW(i,t,e,n=MW,s=OW){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},PW),{width:n.toString(),height:s.toString(),top:a,left:l}),d=us().toLowerCase();e&&(c=GN(d)?DW:e),$N(d)&&(t=t||LW,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[E,A])=>`${b}${E}=${A},`,"");if(vG(d)&&c!=="_self")return FW(t||"",c),new YM(null);const y=window.open(t||"",c,p);te(y,i,"popup-blocked");try{y.focus()}catch{}return new YM(y)}function FW(i,t){const e=document.createElement("a");e.href=i,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="__/auth/handler",UW="emulator/auth/handler",BW=encodeURIComponent("fac");async function XM(i,t,e,n,s,a){te(i.config.authDomain,i,"auth-domain-config-required"),te(i.config.apiKey,i,"invalid-api-key");const l={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:n,v:pd,eventId:s};if(t instanceof e4){t.setDefaultLanguage(i.languageCode),l.providerId=t.providerId||"",B7(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof eb){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}i.tenantId&&(l.tid=i.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await i._getAppCheckToken(),d=h?`#${BW}=${encodeURIComponent(h)}`:"";return`${jW(i)}?${Jv(c).slice(1)}${d}`}function jW({config:i}){return i.emulator?HC(i,UW):`https://${i.authDomain}/${VW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="webStorageSupport";class zW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a4,this._completeRedirectFn=dW,this._overrideRedirectResult=cW}async _openPopup(t,e,n,s){var a;wl((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await XM(t,e,n,o1(),s);return NW(t,l,YC())}async _openRedirect(t,e,n,s){await this._originValidation(t);const a=await XM(t,e,n,o1(),s);return qG(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(wl(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await kW(t),n=new pW(t);return e.register("authEvent",s=>(te(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(yT,{type:yT},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[yT];l!==void 0&&e(!!l),Sl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=bW(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return QN()||qN()||GC()}}const HW=zW;var QM="@firebase/auth",ZM="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GW(i){id(new Jc("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;te(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZN(i)},d=new wG(n,s,a,h);return kG(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),id(new Jc("auth-internal",t=>{const e=WC(t.getProvider("auth").getImmediate());return(n=>new $W(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(QM,ZM,qW(i)),Xa(QM,ZM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=5*60,KW=IN("authIdTokenMaxAge")||WW;let JM=null;const YW=i=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>KW)return;const s=e==null?void 0:e.token;JM!==s&&(JM=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function XW(i=BC()){const t=fA(i,"auth");if(t.isInitialized())return t.getImmediate();const e=IG(i,{popupRedirectResolver:HW,persistence:[tW,zG,a4]}),n=IN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=YW(a.toString());UG(e,l,()=>l(e.currentUser)),VG(e,c=>l(c))}}const s=xN("auth");return s&&PG(e,`http://${s}`),e}function QW(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}TG({loadJS(i){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=s=>{const a=Qa("internal-error");a.customData=s,e(a)},n.type="text/javascript",n.charset="UTF-8",QW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GW("Browser");var tO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qc,f4;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(L,R){function N(){}N.prototype=R.prototype,L.D=R.prototype,L.prototype=new N,L.prototype.constructor=L,L.C=function(T,B,q){for(var z=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)z[ct-2]=arguments[ct];return R.prototype[B].apply(T,z)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,R,N){N||(N=0);var T=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)T[B]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(B=0;16>B;++B)T[B]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=L.g[0],N=L.g[1],B=L.g[2];var q=L.g[3],z=R+(q^N&(B^q))+T[0]+3614090360&4294967295;R=N+(z<<7&4294967295|z>>>25),z=q+(B^R&(N^B))+T[1]+3905402710&4294967295,q=R+(z<<12&4294967295|z>>>20),z=B+(N^q&(R^N))+T[2]+606105819&4294967295,B=q+(z<<17&4294967295|z>>>15),z=N+(R^B&(q^R))+T[3]+3250441966&4294967295,N=B+(z<<22&4294967295|z>>>10),z=R+(q^N&(B^q))+T[4]+4118548399&4294967295,R=N+(z<<7&4294967295|z>>>25),z=q+(B^R&(N^B))+T[5]+1200080426&4294967295,q=R+(z<<12&4294967295|z>>>20),z=B+(N^q&(R^N))+T[6]+2821735955&4294967295,B=q+(z<<17&4294967295|z>>>15),z=N+(R^B&(q^R))+T[7]+4249261313&4294967295,N=B+(z<<22&4294967295|z>>>10),z=R+(q^N&(B^q))+T[8]+1770035416&4294967295,R=N+(z<<7&4294967295|z>>>25),z=q+(B^R&(N^B))+T[9]+2336552879&4294967295,q=R+(z<<12&4294967295|z>>>20),z=B+(N^q&(R^N))+T[10]+4294925233&4294967295,B=q+(z<<17&4294967295|z>>>15),z=N+(R^B&(q^R))+T[11]+2304563134&4294967295,N=B+(z<<22&4294967295|z>>>10),z=R+(q^N&(B^q))+T[12]+1804603682&4294967295,R=N+(z<<7&4294967295|z>>>25),z=q+(B^R&(N^B))+T[13]+4254626195&4294967295,q=R+(z<<12&4294967295|z>>>20),z=B+(N^q&(R^N))+T[14]+2792965006&4294967295,B=q+(z<<17&4294967295|z>>>15),z=N+(R^B&(q^R))+T[15]+1236535329&4294967295,N=B+(z<<22&4294967295|z>>>10),z=R+(B^q&(N^B))+T[1]+4129170786&4294967295,R=N+(z<<5&4294967295|z>>>27),z=q+(N^B&(R^N))+T[6]+3225465664&4294967295,q=R+(z<<9&4294967295|z>>>23),z=B+(R^N&(q^R))+T[11]+643717713&4294967295,B=q+(z<<14&4294967295|z>>>18),z=N+(q^R&(B^q))+T[0]+3921069994&4294967295,N=B+(z<<20&4294967295|z>>>12),z=R+(B^q&(N^B))+T[5]+3593408605&4294967295,R=N+(z<<5&4294967295|z>>>27),z=q+(N^B&(R^N))+T[10]+38016083&4294967295,q=R+(z<<9&4294967295|z>>>23),z=B+(R^N&(q^R))+T[15]+3634488961&4294967295,B=q+(z<<14&4294967295|z>>>18),z=N+(q^R&(B^q))+T[4]+3889429448&4294967295,N=B+(z<<20&4294967295|z>>>12),z=R+(B^q&(N^B))+T[9]+568446438&4294967295,R=N+(z<<5&4294967295|z>>>27),z=q+(N^B&(R^N))+T[14]+3275163606&4294967295,q=R+(z<<9&4294967295|z>>>23),z=B+(R^N&(q^R))+T[3]+4107603335&4294967295,B=q+(z<<14&4294967295|z>>>18),z=N+(q^R&(B^q))+T[8]+1163531501&4294967295,N=B+(z<<20&4294967295|z>>>12),z=R+(B^q&(N^B))+T[13]+2850285829&4294967295,R=N+(z<<5&4294967295|z>>>27),z=q+(N^B&(R^N))+T[2]+4243563512&4294967295,q=R+(z<<9&4294967295|z>>>23),z=B+(R^N&(q^R))+T[7]+1735328473&4294967295,B=q+(z<<14&4294967295|z>>>18),z=N+(q^R&(B^q))+T[12]+2368359562&4294967295,N=B+(z<<20&4294967295|z>>>12),z=R+(N^B^q)+T[5]+4294588738&4294967295,R=N+(z<<4&4294967295|z>>>28),z=q+(R^N^B)+T[8]+2272392833&4294967295,q=R+(z<<11&4294967295|z>>>21),z=B+(q^R^N)+T[11]+1839030562&4294967295,B=q+(z<<16&4294967295|z>>>16),z=N+(B^q^R)+T[14]+4259657740&4294967295,N=B+(z<<23&4294967295|z>>>9),z=R+(N^B^q)+T[1]+2763975236&4294967295,R=N+(z<<4&4294967295|z>>>28),z=q+(R^N^B)+T[4]+1272893353&4294967295,q=R+(z<<11&4294967295|z>>>21),z=B+(q^R^N)+T[7]+4139469664&4294967295,B=q+(z<<16&4294967295|z>>>16),z=N+(B^q^R)+T[10]+3200236656&4294967295,N=B+(z<<23&4294967295|z>>>9),z=R+(N^B^q)+T[13]+681279174&4294967295,R=N+(z<<4&4294967295|z>>>28),z=q+(R^N^B)+T[0]+3936430074&4294967295,q=R+(z<<11&4294967295|z>>>21),z=B+(q^R^N)+T[3]+3572445317&4294967295,B=q+(z<<16&4294967295|z>>>16),z=N+(B^q^R)+T[6]+76029189&4294967295,N=B+(z<<23&4294967295|z>>>9),z=R+(N^B^q)+T[9]+3654602809&4294967295,R=N+(z<<4&4294967295|z>>>28),z=q+(R^N^B)+T[12]+3873151461&4294967295,q=R+(z<<11&4294967295|z>>>21),z=B+(q^R^N)+T[15]+530742520&4294967295,B=q+(z<<16&4294967295|z>>>16),z=N+(B^q^R)+T[2]+3299628645&4294967295,N=B+(z<<23&4294967295|z>>>9),z=R+(B^(N|~q))+T[0]+4096336452&4294967295,R=N+(z<<6&4294967295|z>>>26),z=q+(N^(R|~B))+T[7]+1126891415&4294967295,q=R+(z<<10&4294967295|z>>>22),z=B+(R^(q|~N))+T[14]+2878612391&4294967295,B=q+(z<<15&4294967295|z>>>17),z=N+(q^(B|~R))+T[5]+4237533241&4294967295,N=B+(z<<21&4294967295|z>>>11),z=R+(B^(N|~q))+T[12]+1700485571&4294967295,R=N+(z<<6&4294967295|z>>>26),z=q+(N^(R|~B))+T[3]+2399980690&4294967295,q=R+(z<<10&4294967295|z>>>22),z=B+(R^(q|~N))+T[10]+4293915773&4294967295,B=q+(z<<15&4294967295|z>>>17),z=N+(q^(B|~R))+T[1]+2240044497&4294967295,N=B+(z<<21&4294967295|z>>>11),z=R+(B^(N|~q))+T[8]+1873313359&4294967295,R=N+(z<<6&4294967295|z>>>26),z=q+(N^(R|~B))+T[15]+4264355552&4294967295,q=R+(z<<10&4294967295|z>>>22),z=B+(R^(q|~N))+T[6]+2734768916&4294967295,B=q+(z<<15&4294967295|z>>>17),z=N+(q^(B|~R))+T[13]+1309151649&4294967295,N=B+(z<<21&4294967295|z>>>11),z=R+(B^(N|~q))+T[4]+4149444226&4294967295,R=N+(z<<6&4294967295|z>>>26),z=q+(N^(R|~B))+T[11]+3174756917&4294967295,q=R+(z<<10&4294967295|z>>>22),z=B+(R^(q|~N))+T[2]+718787259&4294967295,B=q+(z<<15&4294967295|z>>>17),z=N+(q^(B|~R))+T[9]+3951481745&4294967295,L.g[0]=L.g[0]+R&4294967295,L.g[1]=L.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,L.g[2]=L.g[2]+B&4294967295,L.g[3]=L.g[3]+q&4294967295}n.prototype.u=function(L,R){R===void 0&&(R=L.length);for(var N=R-this.blockSize,T=this.B,B=this.h,q=0;q<R;){if(B==0)for(;q<=N;)s(this,L,q),q+=this.blockSize;if(typeof L=="string"){for(;q<R;)if(T[B++]=L.charCodeAt(q++),B==this.blockSize){s(this,T),B=0;break}}else for(;q<R;)if(T[B++]=L[q++],B==this.blockSize){s(this,T),B=0;break}}this.h=B,this.o+=R},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var R=1;R<L.length-8;++R)L[R]=0;var N=8*this.o;for(R=L.length-8;R<L.length;++R)L[R]=N&255,N/=256;for(this.u(L),L=Array(16),R=N=0;4>R;++R)for(var T=0;32>T;T+=8)L[N++]=this.g[R]>>>T&255;return L};function a(L,R){var N=c;return Object.prototype.hasOwnProperty.call(N,L)?N[L]:N[L]=R(L)}function l(L,R){this.h=R;for(var N=[],T=!0,B=L.length-1;0<=B;B--){var q=L[B]|0;T&&q==R||(N[B]=q,T=!1)}this.g=N}var c={};function h(L){return-128<=L&&128>L?a(L,function(R){return new l([R|0],0>R?-1:0)}):new l([L|0],0>L?-1:0)}function d(L){if(isNaN(L)||!isFinite(L))return y;if(0>L)return C(d(-L));for(var R=[],N=1,T=0;L>=N;T++)R[T]=L/N|0,N*=4294967296;return new l(R,0)}function p(L,R){if(L.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L.charAt(0)=="-")return C(p(L.substring(1),R));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(R,8)),T=y,B=0;B<L.length;B+=8){var q=Math.min(8,L.length-B),z=parseInt(L.substring(B,B+q),R);8>q?(q=d(Math.pow(R,q)),T=T.j(q).add(d(z))):(T=T.j(N),T=T.add(d(z)))}return T}var y=h(0),b=h(1),E=h(16777216);i=l.prototype,i.m=function(){if(S(this))return-C(this).m();for(var L=0,R=1,N=0;N<this.g.length;N++){var T=this.i(N);L+=(0<=T?T:4294967296+T)*R,R*=4294967296}return L},i.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(A(this))return"0";if(S(this))return"-"+C(this).toString(L);for(var R=d(Math.pow(L,6)),N=this,T="";;){var B=D(N,R).g;N=x(N,B.j(R));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(L);if(N=B,A(N))return q+T;for(;6>q.length;)q="0"+q;T=q+T}},i.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function A(L){if(L.h!=0)return!1;for(var R=0;R<L.g.length;R++)if(L.g[R]!=0)return!1;return!0}function S(L){return L.h==-1}i.l=function(L){return L=x(this,L),S(L)?-1:A(L)?0:1};function C(L){for(var R=L.g.length,N=[],T=0;T<R;T++)N[T]=~L.g[T];return new l(N,~L.h).add(b)}i.abs=function(){return S(this)?C(this):this},i.add=function(L){for(var R=Math.max(this.g.length,L.g.length),N=[],T=0,B=0;B<=R;B++){var q=T+(this.i(B)&65535)+(L.i(B)&65535),z=(q>>>16)+(this.i(B)>>>16)+(L.i(B)>>>16);T=z>>>16,q&=65535,z&=65535,N[B]=z<<16|q}return new l(N,N[N.length-1]&-2147483648?-1:0)};function x(L,R){return L.add(C(R))}i.j=function(L){if(A(this)||A(L))return y;if(S(this))return S(L)?C(this).j(C(L)):C(C(this).j(L));if(S(L))return C(this.j(C(L)));if(0>this.l(E)&&0>L.l(E))return d(this.m()*L.m());for(var R=this.g.length+L.g.length,N=[],T=0;T<2*R;T++)N[T]=0;for(T=0;T<this.g.length;T++)for(var B=0;B<L.g.length;B++){var q=this.i(T)>>>16,z=this.i(T)&65535,ct=L.i(B)>>>16,nt=L.i(B)&65535;N[2*T+2*B]+=z*nt,F(N,2*T+2*B),N[2*T+2*B+1]+=q*nt,F(N,2*T+2*B+1),N[2*T+2*B+1]+=z*ct,F(N,2*T+2*B+1),N[2*T+2*B+2]+=q*ct,F(N,2*T+2*B+2)}for(T=0;T<R;T++)N[T]=N[2*T+1]<<16|N[2*T];for(T=R;T<2*R;T++)N[T]=0;return new l(N,0)};function F(L,R){for(;(L[R]&65535)!=L[R];)L[R+1]+=L[R]>>>16,L[R]&=65535,R++}function k(L,R){this.g=L,this.h=R}function D(L,R){if(A(R))throw Error("division by zero");if(A(L))return new k(y,y);if(S(L))return R=D(C(L),R),new k(C(R.g),C(R.h));if(S(R))return R=D(L,C(R)),new k(C(R.g),R.h);if(30<L.g.length){if(S(L)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var N=b,T=R;0>=T.l(L);)N=U(N),T=U(T);var B=W(N,1),q=W(T,1);for(T=W(T,2),N=W(N,2);!A(T);){var z=q.add(T);0>=z.l(L)&&(B=B.add(N),q=z),T=W(T,1),N=W(N,1)}return R=x(L,B.j(R)),new k(B,R)}for(B=y;0<=L.l(R);){for(N=Math.max(1,Math.floor(L.m()/R.m())),T=Math.ceil(Math.log(N)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),q=d(N),z=q.j(R);S(z)||0<z.l(L);)N-=T,q=d(N),z=q.j(R);A(q)&&(q=b),B=B.add(q),L=x(L,z)}return new k(B,L)}i.A=function(L){return D(this,L).h},i.and=function(L){for(var R=Math.max(this.g.length,L.g.length),N=[],T=0;T<R;T++)N[T]=this.i(T)&L.i(T);return new l(N,this.h&L.h)},i.or=function(L){for(var R=Math.max(this.g.length,L.g.length),N=[],T=0;T<R;T++)N[T]=this.i(T)|L.i(T);return new l(N,this.h|L.h)},i.xor=function(L){for(var R=Math.max(this.g.length,L.g.length),N=[],T=0;T<R;T++)N[T]=this.i(T)^L.i(T);return new l(N,this.h^L.h)};function U(L){for(var R=L.g.length+1,N=[],T=0;T<R;T++)N[T]=L.i(T)<<1|L.i(T-1)>>>31;return new l(N,L.h)}function W(L,R){var N=R>>5;R%=32;for(var T=L.g.length-N,B=[],q=0;q<T;q++)B[q]=0<R?L.i(q+N)>>>R|L.i(q+N+1)<<32-R:L.i(q+N);return new l(B,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,f4=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,qc=l}).apply(typeof tO<"u"?tO:typeof self<"u"?self:typeof window<"u"?window:{});var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p4,Dm,g4,d_,u1,m4,y4,v4;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,I){return m==Array.prototype||m==Object.prototype||(m[w]=I.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof H0=="object"&&H0];for(var w=0;w<m.length;++w){var I=m[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=e(this);function s(m,w){if(w)t:{var I=n;m=m.split(".");for(var G=0;G<m.length-1;G++){var tt=m[G];if(!(tt in I))break t;I=I[tt]}m=m[m.length-1],G=I[m],w=w(G),w!=G&&w!=null&&t(I,m,{configurable:!0,writable:!0,value:w})}}function a(m,w){m instanceof String&&(m+="");var I=0,G=!1,tt={next:function(){if(!G&&I<m.length){var ht=I++;return{value:w(ht,m[ht]),done:!1}}return G=!0,{done:!0,value:void 0}}};return tt[Symbol.iterator]=function(){return tt},tt}s("Array.prototype.values",function(m){return m||function(){return a(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,I){return m.call.apply(m.bind,arguments)}function y(m,w,I){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(tt,G),m.apply(w,tt)}}return function(){return m.apply(w,arguments)}}function b(m,w,I){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,b.apply(null,arguments)}function E(m,w){var I=Array.prototype.slice.call(arguments,1);return function(){var G=I.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function A(m,w){function I(){}I.prototype=w.prototype,m.aa=w.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(G,tt,ht){for(var St=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)St[Se-2]=arguments[Se];return w.prototype[tt].apply(G,St)}}function S(m){const w=m.length;if(0<w){const I=Array(w);for(let G=0;G<w;G++)I[G]=m[G];return I}return[]}function C(m,w){for(let I=1;I<arguments.length;I++){const G=arguments[I];if(h(G)){const tt=m.length||0,ht=G.length||0;m.length=tt+ht;for(let St=0;St<ht;St++)m[tt+St]=G[St]}else m.push(G)}}class x{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function F(m){return/^[\s\xa0]*$/.test(m)}function k(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function D(m){return D[" "](m),m}D[" "]=function(){};var U=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function W(m,w,I){for(const G in m)w.call(I,m[G],G,m)}function L(m,w){for(const I in m)w.call(void 0,m[I],I,m)}function R(m){const w={};for(const I in m)w[I]=m[I];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(m,w){let I,G;for(let tt=1;tt<arguments.length;tt++){G=arguments[tt];for(I in G)m[I]=G[I];for(let ht=0;ht<N.length;ht++)I=N[ht],Object.prototype.hasOwnProperty.call(G,I)&&(m[I]=G[I])}}function B(m){var w=1;m=m.split(":");const I=[];for(;0<w&&m.length;)I.push(m.shift()),w--;return m.length&&I.push(m.join(":")),I}function q(m){c.setTimeout(()=>{throw m},0)}function z(){var m=dt;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ct{constructor(){this.h=this.g=null}add(w,I){const G=nt.get();G.set(w,I),this.h?this.h.next=G:this.g=G,this.h=G}}var nt=new x(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,at=!1,dt=new ct,K=()=>{const m=c.Promise.resolve(void 0);Q=()=>{m.then(rt)}};var rt=()=>{for(var m;m=z();){try{m.h.call(m.g)}catch(I){q(I)}var w=nt;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}at=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};c.addEventListener("test",I,w),c.removeEventListener("test",I,w)}catch{}return m}();function wt(m,w){if(st.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(U){t:{try{D(w.nodeName);var tt=!0;break t}catch{}tt=!1}tt||(w=null)}}else I=="mouseover"?w=m.fromElement:I=="mouseout"&&(w=m.toElement);this.relatedTarget=w,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Et[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&wt.aa.h.call(this)}}A(wt,st);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function zt(m,w,I,G,tt){this.listener=m,this.proxy=null,this.src=w,this.type=I,this.capture=!!G,this.ha=tt,this.key=++Bt,this.da=this.fa=!1}function At(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ht(m){this.src=m,this.g={},this.h=0}Ht.prototype.add=function(m,w,I,G,tt){var ht=m.toString();m=this.g[ht],m||(m=this.g[ht]=[],this.h++);var St=Ot(m,w,G,tt);return-1<St?(w=m[St],I||(w.fa=!1)):(w=new zt(w,this.src,ht,!!G,tt),w.fa=I,m.push(w)),w};function Gt(m,w){var I=w.type;if(I in m.g){var G=m.g[I],tt=Array.prototype.indexOf.call(G,w,void 0),ht;(ht=0<=tt)&&Array.prototype.splice.call(G,tt,1),ht&&(At(w),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Ot(m,w,I,G){for(var tt=0;tt<m.length;++tt){var ht=m[tt];if(!ht.da&&ht.listener==w&&ht.capture==!!I&&ht.ha==G)return tt}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),Wt={};function ue(m,w,I,G,tt){if(Array.isArray(w)){for(var ht=0;ht<w.length;ht++)ue(m,w[ht],I,G,tt);return null}return I=Wi(I),m&&m[Ct]?m.K(w,I,d(G)?!!G.capture:!1,tt):fe(m,w,I,!1,G,tt)}function fe(m,w,I,G,tt,ht){if(!w)throw Error("Invalid event type");var St=d(tt)?!!tt.capture:!!tt,Se=oi(m);if(Se||(m[Pt]=Se=new Ht(m)),I=Se.add(w,I,G,St,ht),I.proxy)return I;if(G=ke(),I.proxy=G,G.src=m,G.listener=I,m.addEventListener)bt||(tt=St),tt===void 0&&(tt=!1),m.addEventListener(w.toString(),G,tt);else if(m.attachEvent)m.attachEvent(pe(w.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ke(){function m(I){return w.call(m.src,m.listener,I)}const w=Dt;return m}function Ue(m,w,I,G,tt){if(Array.isArray(w))for(var ht=0;ht<w.length;ht++)Ue(m,w[ht],I,G,tt);else G=d(G)?!!G.capture:!!G,I=Wi(I),m&&m[Ct]?(m=m.i,w=String(w).toString(),w in m.g&&(ht=m.g[w],I=Ot(ht,I,G,tt),-1<I&&(At(ht[I]),Array.prototype.splice.call(ht,I,1),ht.length==0&&(delete m.g[w],m.h--)))):m&&(m=oi(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Ot(w,I,G,tt)),(I=-1<m?w[m]:null)&&$e(I))}function $e(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Ct])Gt(w.i,m);else{var I=m.type,G=m.proxy;w.removeEventListener?w.removeEventListener(I,G,m.capture):w.detachEvent?w.detachEvent(pe(I),G):w.addListener&&w.removeListener&&w.removeListener(G),(I=oi(w))?(Gt(I,m),I.h==0&&(I.src=null,w[Pt]=null)):At(m)}}}function pe(m){return m in Wt?Wt[m]:Wt[m]="on"+m}function Dt(m,w){if(m.da)m=!0;else{w=new wt(w,this);var I=m.listener,G=m.ha||m.src;m.fa&&$e(m),m=I.call(G,w)}return m}function oi(m){return m=m[Pt],m instanceof Ht?m:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wi(m){return typeof m=="function"?m:(m[Ze]||(m[Ze]=function(w){return m.handleEvent(w)}),m[Ze])}function Re(){ut.call(this),this.i=new Ht(this),this.M=this,this.F=null}A(Re,ut),Re.prototype[Ct]=!0,Re.prototype.removeEventListener=function(m,w,I,G){Ue(this,m,w,I,G)};function ee(m,w){var I,G=m.F;if(G)for(I=[];G;G=G.F)I.push(G);if(m=m.M,G=w.type||w,typeof w=="string")w=new st(w,m);else if(w instanceof st)w.target=w.target||m;else{var tt=w;w=new st(G,m),T(w,tt)}if(tt=!0,I)for(var ht=I.length-1;0<=ht;ht--){var St=w.g=I[ht];tt=Je(St,G,!0,w)&&tt}if(St=w.g=m,tt=Je(St,G,!0,w)&&tt,tt=Je(St,G,!1,w)&&tt,I)for(ht=0;ht<I.length;ht++)St=w.g=I[ht],tt=Je(St,G,!1,w)&&tt}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var I=m.g[w],G=0;G<I.length;G++)At(I[G]);delete m.g[w],m.h--}}this.F=null},Re.prototype.K=function(m,w,I,G){return this.i.add(String(m),w,!1,I,G)},Re.prototype.L=function(m,w,I,G){return this.i.add(String(m),w,!0,I,G)};function Je(m,w,I,G){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var tt=!0,ht=0;ht<w.length;++ht){var St=w[ht];if(St&&!St.da&&St.capture==I){var Se=St.listener,ci=St.ha||St.src;St.fa&&Gt(m.i,St),tt=Se.call(ci,G)!==!1&&tt}}return tt&&!G.defaultPrevented}function Oe(m,w,I){if(typeof m=="function")I&&(m=b(m,I));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function De(m){m.g=Oe(()=>{m.g=null,m.i&&(m.i=!1,De(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Kt extends ut{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(m){ut.call(this),this.h=m,this.g={}}A(On,ut);var vn=[];function Dn(m){W(m.g,function(w,I){this.g.hasOwnProperty(I)&&$e(w)},m),m.g={}}On.prototype.N=function(){On.aa.N.call(this),Dn(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=c.JSON.stringify,Pe=c.JSON.parse,gn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function sr(){}sr.prototype.h=null;function kl(m){return m.h||(m.h=m.i())}function gg(){}var oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lo(){st.call(this,"d")}A(lo,st);function mg(){st.call(this,"c")}A(mg,st);var aa={},yg=null;function Pl(){return yg=yg||new Re}aa.La="serverreachability";function _d(m){st.call(this,aa.La,m)}A(_d,st);function Ml(m){const w=Pl();ee(w,new _d(w))}aa.STAT_EVENT="statevent";function db(m,w){st.call(this,aa.STAT_EVENT,m),this.stat=w}A(db,st);function bn(m){const w=Pl();ee(w,new db(w,m))}aa.Ma="timingevent";function li(m,w){st.call(this,aa.Ma,m),this.size=w}A(li,st);function Xn(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function vg(m,w,I,G,tt,ht){m.info(function(){if(m.g)if(ht)for(var St="",Se=ht.split("&"),ci=0;ci<Se.length;ci++){var we=Se[ci].split("=");if(1<we.length){var Ai=we[0];we=we[1];var ui=Ai.split("_");St=2<=ui.length&&ui[1]=="type"?St+(Ai+"="+we+"&"):St+(Ai+"=redacted&")}}else St=null;else St=ht;return"XMLHTTP REQ ("+G+") [attempt "+tt+"]: "+w+`
`+I+`
`+St})}function HA(m,w,I,G,tt,ht,St){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+tt+"]: "+w+`
`+I+`
`+ht+" "+St})}function Ol(m,w,I,G){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+du(m,I)+(G?" "+G:"")})}function fb(m,w){m.info(function(){return"TIMEOUT: "+w})}rr.prototype.info=function(){};function du(m,w){if(!m.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var G=I[m];if(!(2>G.length)){var tt=G[1];if(Array.isArray(tt)&&!(1>tt.length)){var ht=tt[0];if(ht!="noop"&&ht!="stop"&&ht!="close")for(var St=1;St<tt.length;St++)tt[St]=""}}}}return Lt(I)}catch{return w}}var Dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},co={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oa;function la(){}A(la,sr),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},oa=new la;function hs(m,w,I,G){this.j=m,this.i=w,this.l=I,this.R=G||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var bg={},Ed={};function Pr(m,w,I){m.L=1,m.v=yu(Ls(w)),m.m=I,m.P=!0,uo(m,null)}function uo(m,w){m.F=Date.now(),fu(m),m.A=Ls(m.v);var I=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),Tg(I.i,"t",G),m.C=0,I=m.j.J,m.h=new jn,m.g=Ib(m.j,I?w:null,!m.m),0<m.O&&(m.M=new Kt(b(m.Y,m,m.g),m.O)),w=m.U,I=m.g,G=m.ca;var tt="readystatechange";Array.isArray(tt)||(tt&&(vn[0]=tt.toString()),tt=vn);for(var ht=0;ht<tt.length;ht++){var St=ue(I,tt[ht],G||w.handleEvent,!1,w.h||w);if(!St)break;w.g[St.key]=St}w=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ml(),vg(m.i,m.u,m.A,m.l,m.R,m.m)}hs.prototype.ca=function(m){m=m.target;const w=this.M;w&&cr(m)==3?w.j():this.Y(m)},hs.prototype.Y=function(m){try{if(m==this.g)t:{const ui=cr(this.g);var w=this.g.Ba();const bo=this.g.Z();if(!(3>ui)&&(ui!=3||this.g&&(this.h.h||this.g.oa()||Eb(this.g)))){this.J||ui!=4||w==7||(w==8||0>=bo?Ml(3):Ml(2)),Ll(this);var I=this.g.Z();this.X=I;e:if(pb(this)){var G=Eb(this.g);m="";var tt=G.length,ht=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),ca(this);var St="";break e}this.h.i=new c.TextDecoder}for(w=0;w<tt;w++)this.h.h=!0,m+=this.h.i.decode(G[w],{stream:!(ht&&w==tt-1)});G.length=0,this.h.g+=m,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=I==200,HA(this.i,this.u,this.A,this.l,this.R,ui,I),this.o){if(this.T&&!this.K){e:{if(this.g){var Se,ci=this.g;if((Se=ci.g?ci.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Se)){var we=Se;break e}}we=null}if(I=we)Ol(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pu(this,I);else{this.o=!1,this.s=3,bn(12),Di(this),ca(this);break t}}if(this.P){I=!0;let Li;for(;!this.J&&this.C<St.length;)if(Li=gb(this,St),Li==Ed){ui==4&&(this.s=4,bn(14),I=!1),Ol(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==bg){this.s=4,bn(15),Ol(this.i,this.l,St,"[Invalid Chunk]"),I=!1;break}else Ol(this.i,this.l,Li,null),pu(this,Li);if(pb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ui!=4||St.length!=0||this.h.h||(this.s=1,bn(16),I=!1),this.o=this.o&&I,!I)Ol(this.i,this.l,St,"[Invalid Chunked Response]"),Di(this),ca(this);else if(0<St.length&&!this.W){this.W=!0;var Ai=this.j;Ai.g==this&&Ai.ba&&!Ai.M&&(Ai.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),Tu(Ai),Ai.M=!0,bn(11))}}else Ol(this.i,this.l,St,null),pu(this,St);ui==4&&Di(this),this.o&&!this.J&&(ui==4?xb(this.j,this):(this.o=!1,fu(this)))}else KA(this.g),I==400&&0<St.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),Di(this),ca(this)}}}catch{}finally{}};function pb(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function gb(m,w){var I=m.C,G=w.indexOf(`
`,I);return G==-1?Ed:(I=Number(w.substring(I,G)),isNaN(I)?bg:(G+=1,G+I>w.length?Ed:(w=w.slice(G,G+I),m.C=G+I,w)))}hs.prototype.cancel=function(){this.J=!0,Di(this)};function fu(m){m.S=Date.now()+m.I,mb(m,m.I)}function mb(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Xn(b(m.ba,m),w)}function Ll(m){m.B&&(c.clearTimeout(m.B),m.B=null)}hs.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(fb(this.i,this.A),this.L!=2&&(Ml(),bn(17)),Di(this),this.s=2,ca(this)):mb(this,this.S-m)};function ca(m){m.j.G==0||m.J||xb(m.j,m)}function Di(m){Ll(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Dn(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function pu(m,w){try{var I=m.j;if(I.G!=0&&(I.g==m||_g(I.h,m))){if(!m.K&&_g(I.h,m)&&I.G==3){try{var G=I.Da.g.parse(w)}catch{G=null}if(Array.isArray(G)&&G.length==3){var tt=G;if(tt[0]==0){t:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)Od(I),Pd(I);else break t;kg(I),bn(18)}}else I.za=tt[1],0<I.za-I.T&&37500>tt[2]&&I.F&&I.v==0&&!I.C&&(I.C=Xn(b(I.Za,I),6e3));if(1>=Sd(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else vo(I,11)}else if((m.K||I.g==m)&&Od(I),!F(w))for(tt=I.Da.g.parse(w),w=0;w<tt.length;w++){let we=tt[w];if(I.T=we[0],we=we[1],I.G==2)if(we[0]=="c"){I.K=we[1],I.ia=we[2];const Ai=we[3];Ai!=null&&(I.la=Ai,I.j.info("VER="+I.la));const ui=we[4];ui!=null&&(I.Aa=ui,I.j.info("SVER="+I.Aa));const bo=we[5];bo!=null&&typeof bo=="number"&&0<bo&&(G=1.5*bo,I.L=G,I.j.info("backChannelRequestTimeoutMs_="+G)),G=I;const Li=m.g;if(Li){const ma=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var ht=G.h;ht.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(ht.j=ht.l,ht.g=new Set,ht.h&&(wd(ht,ht.h),ht.h=null))}if(G.D){const Mg=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Mg&&(G.ya=Mg,tn(G.I,G.D,Mg))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),G=I;var St=m;if(G.qa=Rb(G,G.J?G.ia:null,G.W),St.K){ds(G.h,St);var Se=St,ci=G.L;ci&&(Se.I=ci),Se.B&&(Ll(Se),fu(Se)),G.g=St}else wb(G);0<I.i.length&&Md(I)}else we[0]!="stop"&&we[0]!="close"||vo(I,7);else I.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?vo(I,7):Rg(I):we[0]!="noop"&&I.l&&I.l.ta(we),I.v=0)}}Ml(4)}catch{}}var yb=class{constructor(m,w){this.g=m,this.map=w}};function ho(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ad(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Sd(m){return m.h?1:m.g?m.g.size:0}function _g(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function wd(m,w){m.g?m.g.add(w):m.h=w}function ds(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}ho.prototype.cancel=function(){if(this.i=Eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Eg(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const I of m.g.values())w=w.concat(I.D);return w}return S(m.i)}function $A(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],I=m.length,G=0;G<I;G++)w.push(m[G]);return w}w=[],I=0;for(G in m)w[I++]=m[G];return w}function Td(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var I=0;I<m;I++)w.push(I);return w}w=[],I=0;for(const G in m)w[I++]=G;return w}}}function Ag(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var I=Td(m),G=$A(m),tt=G.length,ht=0;ht<tt;ht++)w.call(void 0,G[ht],I&&I[ht],m)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qA(m,w){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var G=m[I].indexOf("="),tt=null;if(0<=G){var ht=m[I].substring(0,G);tt=m[I].substring(G+1)}else ht=m[I];w(ht,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function Qn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Qn){this.h=m.h,mu(this,m.j),this.o=m.o,this.g=m.g,Nl(this,m.s),this.l=m.l;var w=m.i,I=new po;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),fo(this,I),this.m=m.m}else m&&(w=String(m).match(gu))?(this.h=!1,mu(this,w[1]||"",!0),this.o=ar(w[2]||""),this.g=ar(w[3]||"",!0),Nl(this,w[4]),this.l=ar(w[5]||"",!0),fo(this,w[6]||"",!0),this.m=ar(w[7]||"")):(this.h=!1,this.i=new po(null,this.h))}Qn.prototype.toString=function(){var m=[],w=this.j;w&&m.push(vu(w,Sg,!0),":");var I=this.g;return(I||w=="file")&&(m.push("//"),(w=this.o)&&m.push(vu(w,Sg,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(vu(I,I.charAt(0)=="/"?GA:wg,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",vu(I,xd)),m.join("")};function Ls(m){return new Qn(m)}function mu(m,w,I){m.j=I?ar(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Nl(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function fo(m,w,I){w instanceof po?(m.i=w,bb(m.i,m.h)):(I||(w=vu(w,WA)),m.i=new po(w,m.h))}function tn(m,w,I){m.i.set(w,I)}function yu(m){return tn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ar(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function vu(m,w,I){return typeof m=="string"?(m=encodeURI(m).replace(w,vb),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function vb(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Sg=/[#\/\?@]/g,wg=/[#\?:]/g,GA=/[#\?]/g,WA=/[#\?@]/g,xd=/#/g;function po(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function or(m){m.g||(m.g=new Map,m.h=0,m.i&&qA(m.i,function(w,I){m.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}i=po.prototype,i.add=function(m,w){or(this),this.i=null,m=ua(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(w),this.h+=1,this};function go(m,w){or(m),w=ua(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function mo(m,w){return or(m),w=ua(m,w),m.g.has(w)}i.forEach=function(m,w){or(this),this.g.forEach(function(I,G){I.forEach(function(tt){m.call(w,tt,G,this)},this)},this)},i.na=function(){or(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let G=0;G<w.length;G++){const tt=m[G];for(let ht=0;ht<tt.length;ht++)I.push(w[G])}return I},i.V=function(m){or(this);let w=[];if(typeof m=="string")mo(this,m)&&(w=w.concat(this.g.get(ua(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)w=w.concat(m[I])}return w},i.set=function(m,w){return or(this),this.i=null,m=ua(this,m),mo(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function Tg(m,w,I){go(m,w),0<I.length&&(m.i=null,m.g.set(ua(m,w),S(I)),m.h+=I.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var G=w[I];const ht=encodeURIComponent(String(G)),St=this.V(G);for(G=0;G<St.length;G++){var tt=ht;St[G]!==""&&(tt+="="+encodeURIComponent(String(St[G]))),m.push(tt)}}return this.i=m.join("&")};function ua(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function bb(m,w){w&&!m.j&&(or(m),m.i=null,m.g.forEach(function(I,G){var tt=G.toLowerCase();G!=tt&&(go(this,G),Tg(this,tt,I))},m)),m.j=w}function bu(m,w){const I=new rr;if(c.Image){const G=new Image;G.onload=E(lr,I,"TestLoadImage: loaded",!0,w,G),G.onerror=E(lr,I,"TestLoadImage: error",!1,w,G),G.onabort=E(lr,I,"TestLoadImage: abort",!1,w,G),G.ontimeout=E(lr,I,"TestLoadImage: timeout",!1,w,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else w(!1)}function Mr(m,w){const I=new rr,G=new AbortController,tt=setTimeout(()=>{G.abort(),lr(I,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:G.signal}).then(ht=>{clearTimeout(tt),ht.ok?lr(I,"TestPingServer: ok",!0,w):lr(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(tt),lr(I,"TestPingServer: error",!1,w)})}function lr(m,w,I,G,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),G(I)}catch{}}function _u(){this.g=new gn}function ha(m,w,I){const G=I||"";try{Ag(m,function(tt,ht){let St=tt;d(tt)&&(St=Lt(tt)),w.push(G+ht+"="+encodeURIComponent(St))})}catch(tt){throw w.push(G+"type="+encodeURIComponent("_badmap")),tt}}function Fl(m){this.l=m.Ub||null,this.j=m.eb||!1}A(Fl,sr),Fl.prototype.g=function(){return new yo(this.l,this.j)},Fl.prototype.i=function(m){return function(){return m}}({});function yo(m,w){Re.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(yo,Re),i=yo.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,fa(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},i.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xg(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function xg(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}i.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?da(this):fa(this),this.readyState==3&&xg(this)}},i.Ra=function(m){this.g&&(this.response=this.responseText=m,da(this))},i.Qa=function(m){this.g&&(this.response=m,da(this))},i.ga=function(){this.g&&da(this)};function da(m){m.readyState=4,m.l=null,m.j=null,m.v=null,fa(m)}i.setRequestHeader=function(m,w){this.u.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=w.next();return m.join(`\r
`)};function fa(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Cg(m){let w="";return W(m,function(I,G){w+=G,w+=":",w+=I,w+=`\r
`}),w}function Ei(m,w,I){t:{for(G in I){var G=!1;break t}G=!0}G||(I=Cg(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):tn(m,w,I))}function Be(m){Re.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Be,Re);var Cd=/^https?$/i,Eu=["POST","PUT"];i=Be.prototype,i.Ha=function(m){this.J=m},i.ea=function(m,w,I,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oa.g(),this.v=this.o?kl(this.o):kl(oa),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ht){_b(this,ht);return}if(m=I||"",I=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var tt in G)I.set(tt,G[tt]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ht of G.keys())I.set(ht,G.get(ht));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(I.keys()).find(ht=>ht.toLowerCase()=="content-type"),tt=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Eu,w,void 0))||G||tt||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ht,St]of I)this.g.setRequestHeader(ht,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Au(this),this.u=!0,this.g.send(m),this.u=!1}catch(ht){_b(this,ht)}};function _b(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Rd(m),pa(m)}function Rd(m){m.A||(m.A=!0,ee(m,"complete"),ee(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ee(this,"complete"),ee(this,"abort"),pa(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),Be.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Id(this):this.bb())},i.bb=function(){Id(this)};function Id(m){if(m.h&&typeof l<"u"&&(!m.v[1]||cr(m)!=4||m.Z()!=2)){if(m.u&&cr(m)==4)Oe(m.Ea,0,m);else if(ee(m,"readystatechange"),cr(m)==4){m.h=!1;try{const St=m.Z();t:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var I;if(!(I=w)){var G;if(G=St===0){var tt=String(m.D).match(gu)[1]||null;!tt&&c.self&&c.self.location&&(tt=c.self.location.protocol.slice(0,-1)),G=!Cd.test(tt?tt.toLowerCase():"")}I=G}if(I)ee(m,"complete"),ee(m,"success");else{m.m=6;try{var ht=2<cr(m)?m.g.statusText:""}catch{ht=""}m.l=ht+" ["+m.Z()+"]",Rd(m)}}finally{pa(m)}}}}function pa(m,w){if(m.g){Au(m);const I=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||ee(m,"ready");try{I.onreadystatechange=G}catch{}}}function Au(m){m.I&&(c.clearTimeout(m.I),m.I=null)}i.isActive=function(){return!!this.g};function cr(m){return m.g?m.g.readyState:0}i.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Pe(w)}};function Eb(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function KA(m){const w={};m=(m.g&&2<=cr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(F(m[G]))continue;var I=B(m[G]);const tt=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ht=w[tt]||[];w[tt]=ht,ht.push(I)}L(w,function(G){return G.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Su(m,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||w}function kd(m){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Su("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Su("baseRetryDelayMs",5e3,m),this.cb=Su("retryDelaySeedMs",1e4,m),this.Wa=Su("forwardChannelMaxRetries",2,m),this.wa=Su("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(m&&m.concurrentRequestLimit),this.Da=new _u,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=kd.prototype,i.la=8,i.G=1,i.connect=function(m,w,I,G){bn(0),this.W=m,this.H=w||{},I&&G!==void 0&&(this.H.OSID=I,this.H.OAID=G),this.F=this.X,this.I=Rb(this,null,this.W),Md(this)};function Rg(m){if(Ab(m),m.G==3){var w=m.U++,I=Ls(m.I);if(tn(I,"SID",m.K),tn(I,"RID",w),tn(I,"TYPE","terminate"),wu(m,I),w=new hs(m,m.j,w),w.L=2,w.v=yu(Ls(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=w.v,I=!0),I||(w.g=Ib(w.j,null),w.g.ea(w.v)),w.F=Date.now(),fu(w)}Cb(m)}function Pd(m){m.g&&(Tu(m),m.g.cancel(),m.g=null)}function Ab(m){Pd(m),m.u&&(c.clearTimeout(m.u),m.u=null),Od(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Md(m){if(!Ad(m.h)&&!m.s){m.s=!0;var w=m.Ga;Q||K(),at||(Q(),at=!0),dt.add(w,m),m.B=0}}function YA(m,w){return Sd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Xn(b(m.Ga,m,w),Pg(m,m.B)),m.B++,!0)}i.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const tt=new hs(this,this.j,m);let ht=this.o;if(this.S&&(ht?(ht=R(ht),T(ht,this.S)):ht=this.S),this.m!==null||this.O||(tt.H=ht,ht=null),this.P)t:{for(var w=0,I=0;I<this.i.length;I++){e:{var G=this.i[I];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break e}G=void 0}if(G===void 0)break;if(w+=G,4096<w){w=I;break t}if(w===4096||I===this.i.length-1){w=I+1;break t}}w=1e3}else w=1e3;w=Sb(this,tt,w),I=Ls(this.I),tn(I,"RID",m),tn(I,"CVER",22),this.D&&tn(I,"X-HTTP-Session-Id",this.D),wu(this,I),ht&&(this.O?w="headers="+encodeURIComponent(String(Cg(ht)))+"&"+w:this.m&&Ei(I,this.m,ht)),wd(this.h,tt),this.Ua&&tn(I,"TYPE","init"),this.P?(tn(I,"$req",w),tn(I,"SID","null"),tt.T=!0,Pr(tt,I,null)):Pr(tt,I,w),this.G=2}}else this.G==3&&(m?Ig(this,m):this.i.length==0||Ad(this.h)||Ig(this))};function Ig(m,w){var I;w?I=w.l:I=m.U++;const G=Ls(m.I);tn(G,"SID",m.K),tn(G,"RID",I),tn(G,"AID",m.T),wu(m,G),m.m&&m.o&&Ei(G,m.m,m.o),I=new hs(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Sb(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),wd(m.h,I),Pr(I,G,w)}function wu(m,w){m.H&&W(m.H,function(I,G){tn(w,G,I)}),m.l&&Ag({},function(I,G){tn(w,G,I)})}function Sb(m,w,I){I=Math.min(m.i.length,I);var G=m.l?b(m.l.Na,m.l,m):null;t:{var tt=m.i;let ht=-1;for(;;){const St=["count="+I];ht==-1?0<I?(ht=tt[0].g,St.push("ofs="+ht)):ht=0:St.push("ofs="+ht);let Se=!0;for(let ci=0;ci<I;ci++){let we=tt[ci].g;const Ai=tt[ci].map;if(we-=ht,0>we)ht=Math.max(0,tt[ci].g-100),Se=!1;else try{ha(Ai,St,"req"+we+"_")}catch{G&&G(Ai)}}if(Se){G=St.join("&");break t}}}return m=m.i.splice(0,I),w.D=m,G}function wb(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;Q||K(),at||(Q(),at=!0),dt.add(w,m),m.v=0}}function kg(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Xn(b(m.Fa,m),Pg(m,m.v)),m.v++,!0)}i.Fa=function(){if(this.u=null,Tb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Xn(b(this.ab,this),m)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),Pd(this),Tb(this))};function Tu(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Tb(m){m.g=new hs(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ls(m.qa);tn(w,"RID","rpc"),tn(w,"SID",m.K),tn(w,"AID",m.T),tn(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&tn(w,"TO",m.ja),tn(w,"TYPE","xmlhttp"),wu(m,w),m.m&&m.o&&Ei(w,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=yu(Ls(w)),I.m=null,I.P=!0,uo(I,m)}i.Za=function(){this.C!=null&&(this.C=null,Pd(this),kg(this),bn(19))};function Od(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function xb(m,w){var I=null;if(m.g==w){Od(m),Tu(m),m.g=null;var G=2}else if(_g(m.h,w))I=w.D,ds(m.h,w),G=1;else return;if(m.G!=0){if(w.o)if(G==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var tt=m.B;G=Pl(),ee(G,new li(G,I)),Md(m)}else wb(m);else if(tt=w.s,tt==3||tt==0&&0<w.X||!(G==1&&YA(m,w)||G==2&&kg(m)))switch(I&&0<I.length&&(w=m.h,w.i=w.i.concat(I)),tt){case 1:vo(m,5);break;case 4:vo(m,10);break;case 3:vo(m,6);break;default:vo(m,2)}}}function Pg(m,w){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*w}function vo(m,w){if(m.j.info("Error code "+w),w==2){var I=b(m.fb,m),G=m.Xa;const tt=!G;G=new Qn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mu(G,"https"),yu(G),tt?bu(G.toString(),I):Mr(G.toString(),I)}else bn(2);m.G=0,m.l&&m.l.sa(w),Cb(m),Ab(m)}i.fb=function(m){m?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Cb(m){if(m.G=0,m.ka=[],m.l){const w=Eg(m.h);(w.length!=0||m.i.length!=0)&&(C(m.ka,w),C(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function Rb(m,w,I){var G=I instanceof Qn?Ls(I):new Qn(I);if(G.g!="")w&&(G.g=w+"."+G.g),Nl(G,G.s);else{var tt=c.location;G=tt.protocol,w=w?w+"."+tt.hostname:tt.hostname,tt=+tt.port;var ht=new Qn(null);G&&mu(ht,G),w&&(ht.g=w),tt&&Nl(ht,tt),I&&(ht.l=I),G=ht}return I=m.D,w=m.ya,I&&w&&tn(G,I,w),tn(G,"VER",m.la),wu(m,G),G}function Ib(m,w,I){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Be(new Fl({eb:I})):new Be(m.pa),w.Ha(m.J),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function kb(){}i=kb.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Dd(){}Dd.prototype.g=function(m,w){return new fs(m,w)};function fs(m,w){Re.call(this),this.g=new kd(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!F(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!F(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new ga(this)}A(fs,Re),fs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fs.prototype.close=function(){Rg(this.g)},fs.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=Lt(m),m=I);w.i.push(new yb(w.Ya++,m)),w.G==3&&Md(w)},fs.prototype.N=function(){this.g.l=null,delete this.j,Rg(this.g),delete this.g,fs.aa.N.call(this)};function Pb(m){lo.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){t:{for(const I in w){m=I;break t}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}A(Pb,lo);function Mb(){mg.call(this),this.status=1}A(Mb,mg);function ga(m){this.g=m}A(ga,kb),ga.prototype.ua=function(){ee(this.g,"a")},ga.prototype.ta=function(m){ee(this.g,new Pb(m))},ga.prototype.sa=function(m){ee(this.g,new Mb)},ga.prototype.ra=function(){ee(this.g,"b")},Dd.prototype.createWebChannel=Dd.prototype.g,fs.prototype.send=fs.prototype.o,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,v4=function(){return new Dd},y4=function(){return Pl()},m4=aa,u1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dl.NO_ERROR=0,Dl.TIMEOUT=8,Dl.HTTP_ERROR=6,d_=Dl,co.COMPLETE="complete",g4=co,gg.EventType=oo,oo.OPEN="a",oo.CLOSE="b",oo.ERROR="c",oo.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Dm=gg,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,p4=Be}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});const eO="@firebase/firestore",nO="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new VC("@firebase/firestore");function bf(){return rd.logLevel}function kt(i,...t){if(rd.logLevel<=_e.DEBUG){const e=t.map(QC);rd.debug(`Firestore (${ug}): ${i}`,...e)}}function Tl(i,...t){if(rd.logLevel<=_e.ERROR){const e=t.map(QC);rd.error(`Firestore (${ug}): ${i}`,...e)}}function Gp(i,...t){if(rd.logLevel<=_e.WARN){const e=t.map(QC);rd.warn(`Firestore (${ug}): ${i}`,...e)}}function QC(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,b4(i,n,e)}function b4(i,t,e){let n=`FIRESTORE (${ug}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw Tl(n),new Error(n)}function Mn(i,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,i||b4(t,s,n)}function Ce(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends ro{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ss.UNAUTHENTICATED))}shutdown(){}}class JW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class tK{constructor(t){this.t=t,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Mn(this.o===void 0,42304);let n=this.i;const s=h=>this.i!==n?(n=this.i,e(h)):Promise.resolve();let a=new td;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new td,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new td)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mn(typeof n.accessToken=="string",31837,{l:n}),new _4(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mn(t===null||typeof t=="string",2055,{h:t}),new ss(t)}}class eK{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nK{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new eK(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iK{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Mn(this.o===void 0,3512);const n=a=>{a.error!=null&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,kt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const s=a=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new iO(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=sK(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<e&&(n+=t.charAt(s[a]%62))}return n}}function ye(i,t){return i<t?-1:i>t?1:0}function h1(i,t){let e=0;for(;e<i.length&&e<t.length;){const n=i.codePointAt(e),s=t.codePointAt(e);if(n!==s){if(n<128&&s<128)return ye(n,s);{const a=E4(),l=aK(a.encode(sO(i,e)),a.encode(sO(t,e)));return l!==0?l:ye(n,s)}}e+=n>65535?2:1}return ye(i.length,t.length)}function sO(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function aK(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return ye(i[e],t[e]);return ye(i.length,t.length)}function Wp(i,t,e){return i.length===t.length&&i.every((n,s)=>e(n,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=-62135596800,aO=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(t){return bi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*aO);return new bi(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<rO)throw new Nt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aO}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-rO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(t){return new ie(t)}static min(){return new ie(new bi(0,0))}static max(){return new ie(new bi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__name__";class Ta{constructor(t,e,n){e===void 0?e=0:e>t.length&&se(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&se(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return Ta.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ta?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=Ta.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return ye(t.length,e.length)}static compareSegments(t,e){const n=Ta.isNumericId(t),s=Ta.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?Ta.extractNumericId(t).compare(Ta.extractNumericId(e)):h1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qc.fromString(t.substring(4,t.length-2))}}class In extends Ta{construct(t,e,n){return new In(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Nt(_t.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(s=>s.length>0))}return new In(e)}static emptyPath(){return new In([])}}const oK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class as extends Ta{construct(t,e,n){return new as(t,e,n)}static isValidIdentifier(t){return oK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),as.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oO}static keyField(){return new as([oO])}static fromServerFormat(t){const e=[];let n="",s=0;const a=()=>{if(n.length===0)throw new Nt(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Nt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Nt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(n+=c,s++):(a(),s++)}if(a(),l)throw new Nt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new as(e)}static emptyPath(){return new as([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.path=t}static fromPath(t){return new Xt(In.fromString(t))}static fromName(t){return new Xt(In.fromString(t).popFirst(5))}static empty(){return new Xt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&In.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return In.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xt(new In(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-1;function lK(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(n===1e9?new bi(e+1,0):new bi(e,n));return new tu(s,Xt.empty(),t)}function cK(i){return new tu(i.readTime,i.key,vy)}class tu{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new tu(ie.min(),Xt.empty(),vy)}static max(){return new tu(ie.max(),Xt.empty(),vy)}}function uK(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Xt.comparator(i.documentKey,t.documentKey),e!==0?e:ye(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(i){if(i.code!==_t.FAILED_PRECONDITION||i.message!==hK)throw i;kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yt((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(n,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof yt?e:yt.resolve(e)}catch(e){return yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):yt.reject(e)}static resolve(t){return new yt((e,n)=>{e(t)})}static reject(t){return new yt((e,n)=>{n(t)})}static waitFor(t){return new yt((e,n)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&e()},h=>n(h))}),l=!0,a===s&&e()})}static or(t){let e=yt.resolve(!1);for(const n of t)e=e.next(s=>s?yt.resolve(s):n());return e}static forEach(t,e){const n=[];return t.forEach((s,a)=>{n.push(e.call(this,s,a))}),this.waitFor(n)}static mapArray(t,e){return new yt((n,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;e(t[d]).next(p=>{l[d]=p,++c,c===a&&n(l)},p=>s(p))}})}static doWhile(t,e){return new yt((n,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):n()};a()})}}function fK(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hg(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>e.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}yA.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=-1;function vA(i){return i==null}function dE(i){return i===0&&1/i==-1/0}function gK(i){return typeof i=="number"&&Number.isInteger(i)&&!dE(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="";function mK(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=lO(t)),t=yK(i.get(e),t);return lO(t)}function yK(i,t){let e=t;const n=i.length;for(let s=0;s<n;s++){const a=i.charAt(s);switch(a){case"\0":e+="";break;case A4:e+="";break;default:e+=a}}return e}function lO(i){return i+A4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function dg(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function S4(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,e){this.comparator=t,this.root=e||Hi.EMPTY}insert(t,e){return new Wn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(t){return new Wn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $0(this.root,t,this.comparator,!1)}getReverseIterator(){return new $0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $0(this.root,t,this.comparator,!0)}}class $0{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?n(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Hi{constructor(t,e,n,s,a){this.key=t,this.value=e,this.color=n??Hi.RED,this.left=s??Hi.EMPTY,this.right=a??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,a){return new Hi(t??this.key,e??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const a=n(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,n),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Hi.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw se(27949);return t+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1;Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(t,e,n,s,a){return this}insert(t,e,n){return new Hi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.comparator=t,this.data=new Wn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uO(this.data.getIterator())}getIteratorFrom(t){return new uO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof _i)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new _i(this.comparator);return e.data=t,e}}class uO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t){this.fields=t,t.sort(as.comparator)}static empty(){return new jc([])}unionWith(t){let e=new _i(as.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new jc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wp(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new w4("Invalid base64 string: "+a):a}}(t);return new Gi(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Gi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const vK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(i){if(Mn(!!i,39018),typeof i=="string"){let t=0;const e=vK.exec(i);if(Mn(!!e,46558,{timestamp:i}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:qn(i.seconds),nanos:qn(i.nanos)}}function qn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function nu(i){return typeof i=="string"?Gi.fromBase64String(i):Gi.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="server_timestamp",x4="__type__",C4="__previous_value__",R4="__local_write_time__";function ZC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[x4])===null||e===void 0?void 0:e.stringValue)===T4}function bA(i){const t=i.mapValue.fields[C4];return ZC(t)?bA(t):t}function by(i){const t=eu(i.mapValue.fields[R4].timestampValue);return new bi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(t,e,n,s,a,l,c,h,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const fE="(default)";class _y{constructor(t,e){this.projectId=t,this.database=e||fE}static empty(){return new _y("","")}get isDefaultDatabase(){return this.database===fE}isEqual(t){return t instanceof _y&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__type__",_K="__max__",q0={mapValue:{}},k4="__vector__",pE="value";function iu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ZC(i)?4:AK(i)?9007199254740991:EK(i)?10:11:se(28295,{value:i})}function eo(i,t){if(i===t)return!0;const e=iu(i);if(e!==iu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return by(i).isEqual(by(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=eu(s.timestampValue),c=eu(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(s,a){return nu(s.bytesValue).isEqual(nu(a.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(s,a){return qn(s.geoPointValue.latitude)===qn(a.geoPointValue.latitude)&&qn(s.geoPointValue.longitude)===qn(a.geoPointValue.longitude)}(i,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qn(s.integerValue)===qn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=qn(s.doubleValue),c=qn(a.doubleValue);return l===c?dE(l)===dE(c):isNaN(l)&&isNaN(c)}return!1}(i,t);case 9:return Wp(i.arrayValue.values||[],t.arrayValue.values||[],eo);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(cO(l)!==cO(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!eo(l[h],c[h])))return!1;return!0}(i,t);default:return se(52216,{left:i})}}function Ey(i,t){return(i.values||[]).find(e=>eo(e,t))!==void 0}function Kp(i,t){if(i===t)return 0;const e=iu(i),n=iu(t);if(e!==n)return ye(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return ye(i.booleanValue,t.booleanValue);case 2:return function(a,l){const c=qn(a.integerValue||a.doubleValue),h=qn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(i,t);case 3:return hO(i.timestampValue,t.timestampValue);case 4:return hO(by(i),by(t));case 5:return h1(i.stringValue,t.stringValue);case 6:return function(a,l){const c=nu(a),h=nu(l);return c.compareTo(h)}(i.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ye(c[d],h[d]);if(p!==0)return p}return ye(c.length,h.length)}(i.referenceValue,t.referenceValue);case 8:return function(a,l){const c=ye(qn(a.latitude),qn(l.latitude));return c!==0?c:ye(qn(a.longitude),qn(l.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return dO(i.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,d,p;const y=a.fields||{},b=l.fields||{},E=(c=y[pE])===null||c===void 0?void 0:c.arrayValue,A=(h=b[pE])===null||h===void 0?void 0:h.arrayValue,S=ye(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:dO(E,A)}(i.mapValue,t.mapValue);case 11:return function(a,l){if(a===q0.mapValue&&l===q0.mapValue)return 0;if(a===q0.mapValue)return 1;if(l===q0.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const b=h1(h[y],p[y]);if(b!==0)return b;const E=Kp(c[h[y]],d[p[y]]);if(E!==0)return E}return ye(h.length,p.length)}(i.mapValue,t.mapValue);default:throw se(23264,{Pe:e})}}function hO(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return ye(i,t);const e=eu(i),n=eu(t),s=ye(e.seconds,n.seconds);return s!==0?s:ye(e.nanos,n.nanos)}function dO(i,t){const e=i.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const a=Kp(e[s],n[s]);if(a)return a}return ye(e.length,n.length)}function Yp(i){return d1(i)}function d1(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=eu(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return nu(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Xt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",s=!0;for(const a of e.values||[])s?s=!1:n+=",",n+=d1(a);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${d1(e.fields[l])}`;return s+"}"}(i.mapValue):se(61005,{value:i})}function f_(i){switch(iu(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bA(i);return t?16+f_(t):16;case 5:return 2*i.stringValue.length;case 6:return nu(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+f_(a),0)}(i.arrayValue);case 10:case 11:return function(n){let s=0;return dg(n.fields,(a,l)=>{s+=a.length+f_(l)}),s}(i.mapValue);default:throw se(13486,{value:i})}}function fO(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function f1(i){return!!i&&"integerValue"in i}function JC(i){return!!i&&"arrayValue"in i}function pO(i){return!!i&&"nullValue"in i}function gO(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vT(i){return!!i&&"mapValue"in i}function EK(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[I4])===null||e===void 0?void 0:e.stringValue)===k4}function sy(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return dg(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=sy(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=sy(i.arrayValue.values[e]);return t}return Object.assign({},i)}function AK(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_K}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.value=t}static empty(){return new Wa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!vT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=sy(e)}setAll(t){let e=as.emptyPath(),n={},s=[];t.forEach((l,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,n,s),n={},s=[],e=c.popLast()}l?n[c.lastSegment()]=sy(l):s.push(c.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,n,s)}delete(t){const e=this.field(t.popLast());vT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return eo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];vT(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){dg(e,(s,a)=>t[s]=a);for(const s of n)delete t[s]}clone(){return new Wa(sy(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,e,n,s,a,l,c){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new rs(t,0,ie.min(),ie.min(),ie.min(),Wa.empty(),0)}static newFoundDocument(t,e,n,s){return new rs(t,1,e,ie.min(),n,s,0)}static newNoDocument(t,e){return new rs(t,2,e,ie.min(),ie.min(),Wa.empty(),0)}static newUnknownDocument(t,e){return new rs(t,3,e,ie.min(),ie.min(),Wa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,e){this.position=t,this.inclusive=e}}function mO(i,t,e){let n=0;for(let s=0;s<i.position.length;s++){const a=t[s],l=i.position[s];if(a.field.isKeyField()?n=Xt.comparator(Xt.fromName(l.referenceValue),e.key):n=Kp(l,e.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function yO(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!eo(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,e="asc"){this.field=t,this.dir=e}}function SK(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{}class ri extends P4{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new TK(t,e,n):e==="array-contains"?new RK(t,n):e==="in"?new IK(t,n):e==="not-in"?new kK(t,n):e==="array-contains-any"?new PK(t,n):new ri(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new xK(t,n):new CK(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Kp(e,this.value)):e!==null&&iu(this.value)===iu(e)&&this.matchesComparison(Kp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends P4{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new sa(t,e)}matches(t){return M4(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function M4(i){return i.op==="and"}function O4(i){return wK(i)&&M4(i)}function wK(i){for(const t of i.filters)if(t instanceof sa)return!1;return!0}function p1(i){if(i instanceof ri)return i.field.canonicalString()+i.op.toString()+Yp(i.value);if(O4(i))return i.filters.map(t=>p1(t)).join(",");{const t=i.filters.map(e=>p1(e)).join(",");return`${i.op}(${t})`}}function D4(i,t){return i instanceof ri?function(n,s){return s instanceof ri&&n.op===s.op&&n.field.isEqual(s.field)&&eo(n.value,s.value)}(i,t):i instanceof sa?function(n,s){return s instanceof sa&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,c)=>a&&D4(l,s.filters[c]),!0):!1}(i,t):void se(19439)}function L4(i){return i instanceof ri?function(e){return`${e.field.canonicalString()} ${e.op} ${Yp(e.value)}`}(i):i instanceof sa?function(e){return e.op.toString()+" {"+e.getFilters().map(L4).join(" ,")+"}"}(i):"Filter"}class TK extends ri{constructor(t,e,n){super(t,e,n),this.key=Xt.fromName(n.referenceValue)}matches(t){const e=Xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class xK extends ri{constructor(t,e){super(t,"in",e),this.keys=N4("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class CK extends ri{constructor(t,e){super(t,"not-in",e),this.keys=N4("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function N4(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>Xt.fromName(n.referenceValue))}class RK extends ri{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return JC(e)&&Ey(e.arrayValue,this.value)}}class IK extends ri{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ey(this.value.arrayValue,e)}}class kK extends ri{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ey(this.value.arrayValue,e)}}class PK extends ri{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!JC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>Ey(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(t,e=null,n=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function vO(i,t=null,e=[],n=[],s=null,a=null,l=null){return new MK(i,t,e,n,s,a,l)}function tR(i){const t=Ce(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>p1(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),vA(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Yp(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Yp(n)).join(",")),t.Ie=e}return t.Ie}function eR(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!SK(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!D4(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!yO(i.startAt,t.startAt)&&yO(i.endAt,t.endAt)}function g1(i){return Xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,e=null,n=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OK(i,t,e,n,s,a,l,c){return new fg(i,t,e,n,s,a,l,c)}function F4(i){return new fg(i)}function bO(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function V4(i){return i.collectionGroup!==null}function ry(i){const t=Ce(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new _i(as.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ee.push(new Ay(a,n))}),e.has(as.keyField().canonicalString())||t.Ee.push(new Ay(as.keyField(),n))}return t.Ee}function Ja(i){const t=Ce(i);return t.de||(t.de=DK(t,ry(i))),t.de}function DK(i,t){if(i.limitType==="F")return vO(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Ay(s.field,a)});const e=i.endAt?new gE(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new gE(i.startAt.position,i.startAt.inclusive):null;return vO(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}function m1(i,t){const e=i.filters.concat([t]);return new fg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function mE(i,t,e){return new fg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function _A(i,t){return eR(Ja(i),Ja(t))&&i.limitType===t.limitType}function U4(i){return`${tR(Ja(i))}|lt:${i.limitType}`}function _f(i){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>L4(s)).join(", ")}]`),vA(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Yp(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Yp(s)).join(",")),`Target(${n})`}(Ja(i))}; limitType=${i.limitType})`}function EA(i,t){return t.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Xt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(i,t)&&function(n,s){for(const a of ry(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(i,t)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(i,t)&&function(n,s){return!(n.startAt&&!function(l,c,h){const d=mO(l,c,h);return l.inclusive?d<=0:d<0}(n.startAt,ry(n),s)||n.endAt&&!function(l,c,h){const d=mO(l,c,h);return l.inclusive?d>=0:d>0}(n.endAt,ry(n),s))}(i,t)}function LK(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function B4(i){return(t,e)=>{let n=!1;for(const s of ry(i)){const a=NK(s,t,e);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function NK(i,t,e){const n=i.field.isKeyField()?Xt.comparator(t.key,e.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?Kp(h,d):se(42886)}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){dg(this.inner,(e,n)=>{for(const[s,a]of n)t(s,a)})}isEmpty(){return S4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=new Wn(Xt.comparator);function su(){return FK}const j4=new Wn(Xt.comparator);function Lm(...i){let t=j4;for(const e of i)t=t.insert(e.key,e);return t}function VK(i){let t=j4;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function eh(){return ay()}function z4(){return ay()}function ay(){return new gd(i=>i.toString(),(i,t)=>i.isEqual(t))}const UK=new _i(Xt.comparator);function Ie(...i){let t=UK;for(const e of i)t=t.add(e);return t}const BK=new _i(ye);function jK(){return BK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dE(t)?"-0":t}}function H4(i){return{integerValue:""+i}}function zK(i,t){return gK(t)?H4(t):nR(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this._=void 0}}function HK(i,t,e){return i instanceof y1?function(s,a){const l={fields:{[x4]:{stringValue:T4},[R4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ZC(a)&&(a=bA(a)),a&&(l.fields[C4]=a),{mapValue:l}}(e,t):i instanceof yE?$4(i,t):i instanceof vE?q4(i,t):function(s,a){const l=qK(s,a),c=_O(l)+_O(s.Re);return f1(l)&&f1(s.Re)?H4(c):nR(s.serializer,c)}(i,t)}function $K(i,t,e){return i instanceof yE?$4(i,t):i instanceof vE?q4(i,t):e}function qK(i,t){return i instanceof v1?function(n){return f1(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class y1 extends AA{}class yE extends AA{constructor(t){super(),this.elements=t}}function $4(i,t){const e=G4(t);for(const n of i.elements)e.some(s=>eo(s,n))||e.push(n);return{arrayValue:{values:e}}}class vE extends AA{constructor(t){super(),this.elements=t}}function q4(i,t){let e=G4(t);for(const n of i.elements)e=e.filter(s=>!eo(s,n));return{arrayValue:{values:e}}}class v1 extends AA{constructor(t,e){super(),this.serializer=t,this.Re=e}}function _O(i){return qn(i.integerValue||i.doubleValue)}function G4(i){return JC(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function GK(i,t){return i.field.isEqual(t.field)&&function(n,s){return n instanceof yE&&s instanceof yE||n instanceof vE&&s instanceof vE?Wp(n.elements,s.elements,eo):n instanceof v1&&s instanceof v1?eo(n.Re,s.Re):n instanceof y1&&s instanceof y1}(i.transform,t.transform)}class ed{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ed}static exists(t){return new ed(void 0,t)}static updateTime(t){return new ed(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function p_(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class iR{}function W4(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new KK(i.key,ed.none()):new sR(i.key,i.data,ed.none());{const e=i.data,n=Wa.empty();let s=new _i(as.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new SA(i.key,n,new jc(s.toArray()),ed.none())}}function WK(i,t,e){i instanceof sR?function(s,a,l){const c=s.value.clone(),h=AO(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(i,t,e):i instanceof SA?function(s,a,l){if(!p_(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=AO(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(K4(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(i,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function oy(i,t,e,n){return i instanceof sR?function(a,l,c,h){if(!p_(a.precondition,l))return c;const d=a.value.clone(),p=SO(a.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(i,t,e,n):i instanceof SA?function(a,l,c,h){if(!p_(a.precondition,l))return c;const d=SO(a.fieldTransforms,h,l),p=l.data;return p.setAll(K4(a)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(i,t,e,n):function(a,l,c){return p_(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(i,t,e)}function EO(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Wp(n,s,(a,l)=>GK(a,l))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class sR extends iR{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class SA extends iR{constructor(t,e,n,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function K4(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function AO(i,t,e){const n=new Map;Mn(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let s=0;s<e.length;s++){const a=i[s],l=a.transform,c=t.data.field(a.field);n.set(a.field,$K(l,c,e[s]))}return n}function SO(i,t,e){const n=new Map;for(const s of i){const a=s.transform,l=e.data.field(s.field);n.set(s.field,HK(a,l,t))}return n}class KK extends iR{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&WK(a,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=oy(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=oy(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=z4();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(s.key)?null:c;const h=W4(l,c);h!==null&&n.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ie.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ie())}isEqual(t){return this.batchId===t.batchId&&Wp(this.mutations,t.mutations,(e,n)=>EO(e,n))&&Wp(this.baseMutations,t.baseMutations,(e,n)=>EO(e,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,xe;function Y4(i){if(i===void 0)return Tl("GRPC error has no .code"),_t.UNKNOWN;switch(i){case ei.OK:return _t.OK;case ei.CANCELLED:return _t.CANCELLED;case ei.UNKNOWN:return _t.UNKNOWN;case ei.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case ei.INTERNAL:return _t.INTERNAL;case ei.UNAVAILABLE:return _t.UNAVAILABLE;case ei.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case ei.NOT_FOUND:return _t.NOT_FOUND;case ei.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case ei.ABORTED:return _t.ABORTED;case ei.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case ei.DATA_LOSS:return _t.DATA_LOSS;default:return se(39323,{code:i})}}(xe=ei||(ei={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=new qc([4294967295,4294967295],0);function wO(i){const t=E4().encode(i),e=new f4;return e.update(t),new Uint8Array(e.digest())}function TO(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qc([e,n],0),new qc([s,a],0)]}class rR{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Nm(`Invalid padding: ${e}`);if(n<0)throw new Nm(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Nm(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Nm(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=qc.fromNumber(this.pe)}we(t,e,n){let s=t.add(e.multiply(qc.fromNumber(n)));return s.compare(ZK)===1&&(s=new qc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=wO(t),[n,s]=TO(e);for(let a=0;a<this.hashCount;a++){const l=this.we(n,s,a);if(!this.be(l))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new rR(a,s,e);return n.forEach(c=>l.insert(c)),l}insert(t){if(this.pe===0)return;const e=wO(t),[n,s]=TO(e);for(let a=0;a<this.hashCount;a++){const l=this.we(n,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Nm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,e,n,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,ib.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new wA(ie.min(),s,new Wn(ye),su(),Ie())}}class ib{constructor(t,e,n,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new ib(n,e,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,e,n,s){this.De=t,this.removedTargetIds=e,this.key=n,this.ve=s}}class X4{constructor(t,e){this.targetId=t,this.Ce=e}}class Q4{constructor(t,e,n=Gi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class xO{constructor(){this.Fe=0,this.Me=CO(),this.xe=Gi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ie(),e=Ie(),n=Ie();return this.Me.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:se(38017,{changeType:a})}}),new ib(this.xe,this.Oe,t,e,n)}Qe(){this.Ne=!1,this.Me=CO()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class JK{constructor(t){this.ze=t,this.je=new Map,this.He=su(),this.Je=G0(),this.Ye=G0(),this.Ze=new Wn(ye)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const n=this.rt(e);switch(t.state){case 0:this.it(e)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(e);break;case 3:this.it(e)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),n.ke(t.resumeToken));break;default:se(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((n,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,n=t.Ce.count,s=this._t(e);if(s){const a=s.target;if(g1(a))if(n===0){const l=new Xt(a.path);this.tt(e,l,rs.newNoDocument(l,ie.min()))}else Mn(n===1,20013,{expectedCount:n});else{const l=this.ut(e);if(l!==n){const c=this.ct(t),h=c?this.lt(c,t,l):1;if(h!==0){this.st(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=e;let l,c;try{l=nu(n).toUint8Array()}catch(h){if(h instanceof w4)return Gp("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new rR(l,s,a)}catch(h){return Gp(h instanceof Nm?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(t,e,n){return e.Ce.count===n-this.Tt(t,e.targetId)?0:2}Tt(t,e){const n=this.ze.getRemoteKeysForTarget(e);let s=0;return n.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,a,null),s++)}),s}It(t){const e=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&g1(c.target)){const h=new Xt(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,rs.newNoDocument(h,t))}a.Le&&(e.set(l,a.qe()),a.Qe())}});let n=Ie();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,l)=>l.setReadTime(t));const s=new wA(t,e,this.Ze,this.He,n);return this.He=su(),this.Je=G0(),this.Ye=G0(),this.Ze=new Wn(ye),s}et(t,e){if(!this.it(t))return;const n=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,n),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,n){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),n&&(this.He=this.He.insert(e,n))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new xO,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new _i(ye),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new _i(ye),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||kt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new xO),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function G0(){return new Wn(Xt.comparator)}function CO(){return new Wn(Xt.comparator)}const tY={asc:"ASCENDING",desc:"DESCENDING"},eY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nY={and:"AND",or:"OR"};class iY{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function b1(i,t){return i.useProto3Json||vA(t)?t:{value:t}}function _1(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z4(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Vf(i){return Mn(!!i,49232),ie.fromTimestamp(function(e){const n=eu(e);return new bi(n.seconds,n.nanos)}(i))}function J4(i,t){return E1(i,t).canonicalString()}function E1(i,t){const e=function(s){return new In(["projects",s.projectId,"databases",s.database])}(i).child("documents");return t===void 0?e:e.child(t)}function tF(i){const t=In.fromString(i);return Mn(rF(t),10190,{key:t.toString()}),t}function bT(i,t){const e=tF(t);if(e.get(1)!==i.databaseId.projectId)throw new Nt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Nt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Xt(nF(e))}function eF(i,t){return J4(i.databaseId,t)}function sY(i){const t=tF(i);return t.length===4?In.emptyPath():nF(t)}function RO(i){return new In(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nF(i){return Mn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rY(i,t){let e;if("targetChange"in t){t.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(Mn(p===void 0||typeof p=="string",58123),Gi.fromBase64String(p||"")):(Mn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Gi.fromUint8Array(p||new Uint8Array))}(i,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?_t.UNKNOWN:Y4(d.code);return new Nt(p,d.message||"")}(l);e=new Q4(n,s,a,c||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=bT(i,n.document.name),a=Vf(n.document.updateTime),l=n.document.createTime?Vf(n.document.createTime):ie.min(),c=new Wa({mapValue:{fields:n.document.fields}}),h=rs.newFoundDocument(s,a,l,c),d=n.targetIds||[],p=n.removedTargetIds||[];e=new g_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=bT(i,n.document),a=n.readTime?Vf(n.readTime):ie.min(),l=rs.newNoDocument(s,a),c=n.removedTargetIds||[];e=new g_([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=bT(i,n.document),a=n.removedTargetIds||[];e=new g_([],a,s,null)}else{if(!("filter"in t))return se(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new QK(s,a),c=n.targetId;e=new X4(c,l)}}return e}function aY(i,t){return{documents:[eF(i,t.path)]}}function oY(i,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=eF(i,s);const a=function(d){if(d.length!==0)return sF(sa.create(d,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(p=>function(b){return{field:Ef(b.field),direction:uY(b.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=b1(i,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{gt:e,parent:s}}function lY(i){let t=sY(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){Mn(n===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=function(y){const b=iF(y);return b instanceof sa&&O4(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(y){return y.map(b=>function(A){return new Ay(Af(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let c=null;e.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,vA(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(y){const b=!!y.before,E=y.values||[];return new gE(E,b)}(e.startAt));let d=null;return e.endAt&&(d=function(y){const b=!y.before,E=y.values||[];return new gE(E,b)}(e.endAt)),OK(t,s,l,a,c,"F",h,d)}function cY(i,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function iF(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Af(e.unaryFilter.field);return ri.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Af(e.unaryFilter.field);return ri.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Af(e.unaryFilter.field);return ri.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Af(e.unaryFilter.field);return ri.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(i):i.fieldFilter!==void 0?function(e){return ri.create(Af(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return sa.create(e.compositeFilter.filters.map(n=>iF(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(e.compositeFilter.op))}(i):se(30097,{filter:i})}function uY(i){return tY[i]}function hY(i){return eY[i]}function dY(i){return nY[i]}function Ef(i){return{fieldPath:i.canonicalString()}}function Af(i){return as.fromServerFormat(i.fieldPath)}function sF(i){return i instanceof ri?function(e){if(e.op==="=="){if(gO(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NAN"}};if(pO(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gO(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NOT_NAN"}};if(pO(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ef(e.field),op:hY(e.op),value:e.value}}}(i):i instanceof sa?function(e){const n=e.getFilters().map(s=>sF(s));return n.length===1?n[0]:{compositeFilter:{op:dY(e.op),filters:n}}}(i):se(54877,{filter:i})}function rF(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e,n,s,a=ie.min(),l=ie.min(),c=Gi.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new zc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(t){this.wt=t}}function pY(i){const t=lY({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?mE(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(){this.Cn=new mY}addToCollectionParentIndex(t,e){return this.Cn.add(e),yt.resolve()}getCollectionParents(t,e){return yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return yt.resolve()}deleteFieldIndex(t,e){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,e){return yt.resolve()}getDocumentsMatchingTarget(t,e){return yt.resolve(null)}getIndexType(t,e){return yt.resolve(0)}getFieldIndexes(t,e){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,e){return yt.resolve(tu.min())}getMinOffsetFromCollectionGroup(t,e){return yt.resolve(tu.min())}updateCollectionGroup(t,e,n){return yt.resolve()}updateIndexEntries(t,e){return yt.resolve()}}class mY{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new _i(In.comparator),a=!s.has(n);return this.index[e]=s.add(n),a}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new _i(In.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aF=41943040;class Ps{static withCacheSize(t){return new Ps(t,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(aF,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xp(0)}static lr(){return new Xp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="LruGarbageCollector",yY=1048576;function PO([i,t],[e,n]){const s=ye(i,e);return s===0?ye(t,n):s}class vY{constructor(t){this.Er=t,this.buffer=new _i(PO),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();PO(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bY{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){kt(kO,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hg(e)?kt(kO,"Ignoring IndexedDB error during garbage collection: ",e):await mA(e)}await this.mr(3e5)})}}class _Y{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(e===0)return yt.resolve(yA.le);const n=new vY(e);return this.gr.forEachTarget(t,s=>n.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>n.Rr(s))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.gr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(IO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IO):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let n,s,a,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(n=y,c=Date.now(),this.removeTargets(t,n,e))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,n))).next(y=>(d=Date.now(),bf()<=_e.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function EY(i,t){return new _Y(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this.changes=new gd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?yt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(n=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(n!==null&&oy(n.mutation,s,jc.empty(),bi.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Ie()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Ie()){const s=eh();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,n).next(a=>{let l=Lm();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const n=eh();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Ie()))}populateOverlays(t,e,n){const s=[];return n.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{e.set(l,c)})})}computeViews(t,e,n,s){let a=su();const l=ay(),c=function(){return ay()}();return e.forEach((h,d)=>{const p=n.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof SA)?a=a.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),oy(p.mutation,d,p.mutation.getFieldMask(),bi.now())):l.set(d.key,jc.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,p)=>l.set(d,p)),e.forEach((d,p)=>{var y;return c.set(d,new SY(p,(y=l.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,e){const n=ay();let s=new Wn((l,c)=>l-c),a=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let p=n.get(h)||jc.empty();p=c.applyToLocalView(d,p),n.set(h,p);const y=(s.get(c.batchId)||Ie()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=z4();p.forEach(b=>{if(!a.has(b)){const E=W4(e.get(b),n.get(b));E!==null&&y.set(b,E),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return yt.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,s){return function(l){return Xt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):V4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-a.size):yt.resolve(eh());let c=vy,h=a;return l.next(d=>yt.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?yt.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{h=h.insert(p,b)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,Ie())).next(p=>({batchId:c,changes:VK(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xt(e)).next(n=>{let s=Lm();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const a=e.collectionGroup;let l=Lm();return this.indexManager.getCollectionParents(t,a).next(c=>yt.forEach(c,h=>{const d=function(y,b){return new fg(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,n,s).next(p=>{p.forEach((y,b)=>{l=l.insert(y,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,a,s))).next(l=>{a.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,rs.newInvalidDocument(p)))});let c=Lm();return l.forEach((h,d)=>{const p=a.get(h);p!==void 0&&oy(p.mutation,d,jc.empty(),bi.now()),EA(e,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return yt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Vf(s.createTime)}}(e)),yt.resolve()}getNamedQuery(t,e){return yt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:pY(s.bundledQuery),readTime:Vf(s.readTime)}}(e)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(){this.overlays=new Wn(Xt.comparator),this.Qr=new Map}getOverlay(t,e){return yt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=eh();return yt.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((s,a)=>{this.St(t,e,a)}),yt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.Qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),yt.resolve()}getOverlaysForCollection(t,e,n){const s=eh(),a=e.length+1,l=new Xt(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>n&&s.set(h.getKey(),h)}return yt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let a=new Wn((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=eh(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=eh(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return yt.resolve(c)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(n.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new XK(e,n));let a=this.Qr.get(e);a===void 0&&(a=Ie(),this.Qr.set(e,a)),this.Qr.set(e,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(){this.sessionToken=Gi.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.$r=new _i(Mi.Ur),this.Kr=new _i(Mi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const n=new Mi(t,e);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.zr(new Mi(t,e))}jr(t,e){t.forEach(n=>this.removeReference(n,e))}Hr(t){const e=new Xt(new In([])),n=new Mi(e,t),s=new Mi(e,t+1),a=[];return this.Kr.forEachInRange([n,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Xt(new In([])),n=new Mi(e,t),s=new Mi(e,t+1);let a=Ie();return this.Kr.forEachInRange([n,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new Mi(t,0),n=this.$r.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Mi{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Xt.comparator(t.key,e.key)||ye(t.Zr,e.Zr)}static Wr(t,e){return ye(t.Zr,e.Zr)||Xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new _i(Mi.Ur)}checkEmpty(t){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new YK(a,e,n,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Mi(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return yt.resolve(l)}lookupMutationBatch(t,e){return yt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ti(n),a=s<0?0:s;return yt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?pK:this.nr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Mi(e,0),s=new Mi(e,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,s],l=>{const c=this.ei(l.Zr);a.push(c)}),yt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new _i(ye);return e.forEach(s=>{const a=new Mi(s,0),l=new Mi(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{n=n.add(c.Zr)})}),yt.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let a=n;Xt.isDocumentKey(a)||(a=a.child(""));const l=new Mi(new Xt(a),0);let c=new _i(ye);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Zr)),!0)},l),yt.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(n=>{const s=this.ei(n);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Mn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return yt.forEach(e.mutations,s=>{const a=new Mi(s.key,e.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=n})}sr(t){}containsKey(t,e){const n=new Mi(e,0),s=this.Xr.firstAfterOrEqual(n);return yt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,yt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(t){this.ii=t,this.docs=function(){return new Wn(Xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),a=s?s.size:0,l=this.ii(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return yt.resolve(n?n.document.mutableCopy():rs.newInvalidDocument(e))}getEntries(t,e){let n=su();return e.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():rs.newInvalidDocument(s))}),yt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let a=su();const l=e.path,c=new Xt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||uK(cK(p),n)<=0||(s.has(p.key)||EA(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return yt.resolve(a)}getAllFromCollectionGroup(t,e,n,s){se(9500)}si(t,e){return yt.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new kY(this)}getSize(t){return yt.resolve(this.size)}}class kY extends AY{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(n)}),yt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(t){this.persistence=t,this.oi=new gd(e=>tR(e),eR),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new aR,this.targetCount=0,this.ui=Xp.cr()}forEachTarget(t,e){return this.oi.forEach((n,s)=>e(s)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this._i&&(this._i=e),yt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Xp(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,yt.resolve()}updateTargetData(t,e){return this.Tr(e),yt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,e,n){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),yt.waitFor(a).next(()=>s)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,e){const n=this.oi.get(e)||null;return yt.resolve(n)}addMatchingKeys(t,e,n){return this.ai.Gr(e,n),yt.resolve()}removeMatchingKeys(t,e,n){this.ai.jr(e,n);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),yt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),yt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ai.Yr(e);return yt.resolve(n)}containsKey(t,e){return yt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t,e){this.ci={},this.overlays={},this.li=new yA(0),this.hi=!1,this.hi=!0,this.Pi=new CY,this.referenceDelegate=t(this),this.Ti=new PY(this),this.indexManager=new gY,this.remoteDocumentCache=function(s){return new IY(s)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new fY(e),this.Ei=new TY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new xY,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ci[t.toKey()];return n||(n=new RY(e,this.referenceDelegate),this.ci[t.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,n){kt("MemoryPersistence","Starting transaction:",t);const s=new MY(this.li.next());return this.referenceDelegate.di(),n(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(t,e){return yt.or(Object.values(this.ci).map(n=>()=>n.containsKey(t,e)))}}class MY extends dK{constructor(t){super(),this.currentSequenceNumber=t}}class oR{constructor(t){this.persistence=t,this.Vi=new aR,this.mi=null}static fi(t){return new oR(t)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(t,e,n){return this.Vi.addReference(n,e),this.gi.delete(n.toString()),yt.resolve()}removeReference(t,e,n){return this.Vi.removeReference(n,e),this.gi.add(n.toString()),yt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),yt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.gi,n=>{const s=Xt.fromPath(n);return this.pi(t,s).next(a=>{a||e.removeEntry(s,ie.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(n=>{n?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return yt.or([()=>yt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class bE{constructor(t,e){this.persistence=t,this.yi=new gd(n=>mK(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=EY(this,e)}static fi(t,e){return new bE(t,e)}di(){}Ai(t){return yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>e.next(s=>n+s))}br(t){let e=0;return this.yr(t,n=>{e++}).next(()=>e)}yr(t,e){return yt.forEach(this.yi,(n,s)=>this.Dr(t,n,s).next(a=>a?yt.resolve():e(s)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(t,l=>this.Dr(t,l,e).next(c=>{c||(n++,a.removeEntry(l,ie.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),yt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.yi.set(n,t.currentSequenceNumber),yt.resolve()}removeReference(t,e,n){return this.yi.set(n,t.currentSequenceNumber),yt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),yt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=f_(t.data.value)),e}Dr(t,e,n){return yt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return yt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.ds=n,this.As=s}static Rs(t,e){let n=Ie(),s=Ie();for(const a of e.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new lR(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return D7()?8:fK(us())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,n,s){const a={result:null};return this.ws(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(t,e,s,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new OY;return this.Ss(t,e,l).next(c=>{if(a.result=c,this.fs)return this.Ds(t,e,l,c.size)})}).next(()=>a.result)}Ds(t,e,n,s){return n.documentReadCount<this.gs?(bf()<=_e.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",_f(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),yt.resolve()):(bf()<=_e.DEBUG&&kt("QueryEngine","Query:",_f(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ps*s?(bf()<=_e.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",_f(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ja(e))):yt.resolve())}ws(t,e){if(bO(e))return yt.resolve(null);let n=Ja(e);return this.indexManager.getIndexType(t,n).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=mE(e,null,"F"),n=Ja(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const l=Ie(...a);return this.ys.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,n).next(h=>{const d=this.vs(e,c);return this.Cs(e,d,l,h.readTime)?this.ws(t,mE(e,null,"F")):this.Fs(t,d,e,h)}))})))}bs(t,e,n,s){return bO(e)||s.isEqual(ie.min())?yt.resolve(null):this.ys.getDocuments(t,n).next(a=>{const l=this.vs(e,a);return this.Cs(e,l,n,s)?yt.resolve(null):(bf()<=_e.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_f(e)),this.Fs(t,l,e,lK(s,vy)).next(c=>c))})}vs(t,e){let n=new _i(B4(t));return e.forEach((s,a)=>{EA(t,a)&&(n=n.add(a))}),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,n){return bf()<=_e.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",_f(e)),this.ys.getDocumentsMatchingQuery(t,e,tu.min(),n)}Fs(t,e,n,s){return this.ys.getDocumentsMatchingQuery(t,n,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="LocalStore",LY=3e8;class NY{constructor(t,e,n,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new Wn(ye),this.Os=new gd(a=>tR(a),eR),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(n)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wY(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function FY(i,t,e,n){return new NY(i,t,e,n)}async function lF(i,t){const e=Ce(i);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,e.Ls(t),e.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let h=Ie();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of a){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function cF(i){const t=Ce(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function VY(i,t){const e=Ce(i),n=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const c=[];t.targetChanges.forEach((p,y)=>{const b=s.get(y);if(!b)return;c.push(e.Ti.removeMatchingKeys(a,p.removedDocuments,y).next(()=>e.Ti.addMatchingKeys(a,p.addedDocuments,y)));let E=b.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?E=E.withResumeToken(Gi.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,n)),s=s.insert(y,E),function(S,C,x){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=LY?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(b,E,p)&&c.push(e.Ti.updateTargetData(a,E))});let h=su(),d=Ie();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(UY(a,l,t.documentUpdates).next(p=>{h=p.qs,d=p.Qs})),!n.isEqual(ie.min())){const p=e.Ti.getLastRemoteSnapshotVersion(a).next(y=>e.Ti.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(p)}return yt.waitFor(c).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(e.xs=s,a))}function UY(i,t,e){let n=Ie(),s=Ie();return e.forEach(a=>n=n.add(a)),t.getEntries(i,n).next(a=>{let l=su();return e.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(ie.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):kt(cR,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:s}})}function BY(i,t){const e=Ce(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return e.Ti.getTargetData(n,t).next(a=>a?(s=a,yt.resolve(s)):e.Ti.allocateTargetId(n).next(l=>(s=new zc(t,l,"TargetPurposeListen",n.currentSequenceNumber),e.Ti.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=e.xs.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(n.targetId,n),e.Os.set(t,n.targetId)),n})}async function A1(i,t,e){const n=Ce(i),s=n.xs.get(t),a=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!hg(l))throw l;kt(cR,`Failed to update sequence numbers for target ${t}: ${l}`)}n.xs=n.xs.remove(t),n.Os.delete(s.target)}function MO(i,t,e){const n=Ce(i);let s=ie.min(),a=Ie();return n.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=Ce(h),b=y.Os.get(p);return b!==void 0?yt.resolve(y.xs.get(b)):y.Ti.getTargetData(d,p)}(n,l,Ja(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(l,t,e?s:ie.min(),e?a:Ie())).next(c=>(jY(n,LK(t),c),{documents:c,$s:a})))}function jY(i,t,e){let n=i.Ns.get(t)||ie.min();e.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),i.Ns.set(t,n)}class OO{constructor(){this.activeTargetIds=jK()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zY{constructor(){this.xo=new OO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,n){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new OO,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="ConnectivityMonitor";class LO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){kt(DO,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){kt(DO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0=null;function S1(){return W0===null?W0=function(){return 268435456+Math.round(2147483648*Math.random())}():W0++,"0x"+W0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="RestConnection",$Y={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qY{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${n}/databases/${s}`,this.Go=this.databaseId.database===fE?`project_id=${n}`:`project_id=${n}&database_id=${s}`}zo(t,e,n,s,a){const l=S1(),c=this.jo(t,e.toUriEncodedString());kt(_T,`Sending RPC '${t}' ${l}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(c),p=lg(d);return this.Jo(t,c,h,n,p).then(y=>(kt(_T,`Received RPC '${t}' ${l}: `,y),y),y=>{throw Gp(_T,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",n),y})}Yo(t,e,n,s,a,l){return this.zo(t,e,n,s,a)}Ho(t,e,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ug}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),n&&n.headers.forEach((s,a)=>t[a]=s)}jo(t,e){const n=$Y[t];return`${this.Ko}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="WebChannelConnection";class WY extends qY{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,a){const l=S1();return new Promise((c,h)=>{const d=new p4;d.setWithCredentials(!0),d.listenOnce(g4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case d_.NO_ERROR:const y=d.getResponseJson();kt(Xi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case d_.TIMEOUT:kt(Xi,`RPC '${t}' ${l} timed out`),h(new Nt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case d_.HTTP_ERROR:const b=d.getStatus();if(kt(Xi,`RPC '${t}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const S=function(x){const F=x.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(F)>=0?F:_t.UNKNOWN}(A.status);h(new Nt(S,A.message))}else h(new Nt(_t.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Nt(_t.UNAVAILABLE,"Connection failed."));break;default:se(9055,{h_:t,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{kt(Xi,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);kt(Xi,`RPC '${t}' ${l} sending request:`,s),d.send(e,"POST",p,n,15)})}I_(t,e,n){const s=S1(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=v4(),c=y4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,e,n),h.encodeInitMessageHeaders=!0;const p=a.join("");kt(Xi,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.E_(y);let b=!1,E=!1;const A=new GY({Zo:C=>{E?kt(Xi,`Not sending because RPC '${t}' stream ${s} is closed:`,C):(b||(kt(Xi,`Opening RPC '${t}' stream ${s} transport.`),y.open(),b=!0),kt(Xi,`RPC '${t}' stream ${s} sending:`,C),y.send(C))},Xo:()=>y.close()}),S=(C,x,F)=>{C.listen(x,k=>{try{F(k)}catch(D){setTimeout(()=>{throw D},0)}})};return S(y,Dm.EventType.OPEN,()=>{E||(kt(Xi,`RPC '${t}' stream ${s} transport opened.`),A.__())}),S(y,Dm.EventType.CLOSE,()=>{E||(E=!0,kt(Xi,`RPC '${t}' stream ${s} transport closed`),A.u_(),this.d_(y))}),S(y,Dm.EventType.ERROR,C=>{E||(E=!0,Gp(Xi,`RPC '${t}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.u_(new Nt(_t.UNAVAILABLE,"The operation could not be completed")))}),S(y,Dm.EventType.MESSAGE,C=>{var x;if(!E){const F=C.data[0];Mn(!!F,16349);const k=F,D=(k==null?void 0:k.error)||((x=k[0])===null||x===void 0?void 0:x.error);if(D){kt(Xi,`RPC '${t}' stream ${s} received error:`,D);const U=D.status;let W=function(N){const T=ei[N];if(T!==void 0)return Y4(T)}(U),L=D.message;W===void 0&&(W=_t.INTERNAL,L="Unknown error status: "+U+" with message "+D.message),E=!0,A.u_(new Nt(W,L)),y.close()}else kt(Xi,`RPC '${t}' stream ${s} received:`,F),A.c_(F)}}),S(c,m4.STAT_EVENT,C=>{C.stat===u1.PROXY?kt(Xi,`RPC '${t}' stream ${s} detected buffering proxy`):C.stat===u1.NOPROXY&&kt(Xi,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function ET(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i){return new iY(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(t,e,n=1e3,s=1.5,a=6e4){this.xi=t,this.timerId=e,this.A_=n,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),s=Math.max(0,e-n);s>0&&kt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="PersistentStream";class KY{constructor(t,e,n,s,a,l,c,h){this.xi=t,this.S_=n,this.D_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new uF(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===_t.RESOURCE_EXHAUSTED?(Tl(e.toString()),Tl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.v_===e&&this.z_(n,s)},n=>{t(()=>{const s=new Nt(_t.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(s)})})}z_(t,e){const n=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{n(()=>this.j_(s))}),this.stream.onMessage(s=>{n(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return kt(NO,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(kt(NO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YY extends KY{constructor(t,e,n,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,l),this.serializer=a}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=rY(this.serializer,t),n=function(a){if(!("targetChange"in a))return ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ie.min():l.readTime?Vf(l.readTime):ie.min()}(t);return this.listener.Y_(e,n)}Z_(t){const e={};e.database=RO(this.serializer),e.addTarget=function(a,l){let c;const h=l.target;if(c=g1(h)?{documents:aY(a,h)}:{query:oY(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Z4(a,l.resumeToken);const d=b1(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ie.min())>0){c.readTime=_1(a,l.snapshotVersion.toTimestamp());const d=b1(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const n=cY(this.serializer,t);n&&(e.labels=n),this.Q_(e)}X_(t){const e={};e.database=RO(this.serializer),e.removeTarget=t,this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{}class QY extends XY{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Nt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,n,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(t,E1(e,n),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Nt(_t.UNKNOWN,a.toString())})}Yo(t,e,n,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(t,E1(e,n),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(_t.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ZY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Tl(e),this.ua=!1):kt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RemoteStore";class JY{constructor(t,e,n,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{n.enqueueAndForget(async()=>{rb(this)&&(kt(Qp,"Restarting streams for network reachability change."),await async function(h){const d=Ce(h);d.da.add(4),await sb(d),d.Va.set("Unknown"),d.da.delete(4),await xA(d)}(this))})}),this.Va=new ZY(n,s)}}async function xA(i){if(rb(i))for(const t of i.Aa)await t(!0)}async function sb(i){for(const t of i.Aa)await t(!1)}function hF(i,t){const e=Ce(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),fR(e)?dR(e):pg(e).N_()&&hR(e,t))}function uR(i,t){const e=Ce(i),n=pg(e);e.Ea.delete(t),n.N_()&&dF(e,t),e.Ea.size===0&&(n.N_()?n.k_():rb(e)&&e.Va.set("Unknown"))}function hR(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}pg(i).Z_(t)}function dF(i,t){i.ma.Ke(t),pg(i).X_(t)}function dR(i){i.ma=new JK({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),pg(i).start(),i.Va.ca()}function fR(i){return rb(i)&&!pg(i).O_()&&i.Ea.size>0}function rb(i){return Ce(i).da.size===0}function fF(i){i.ma=void 0}async function tX(i){i.Va.set("Online")}async function eX(i){i.Ea.forEach((t,e)=>{hR(i,t)})}async function nX(i,t){fF(i),fR(i)?(i.Va.Pa(t),dR(i)):i.Va.set("Unknown")}async function iX(i,t,e){if(i.Va.set("Online"),t instanceof Q4&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(i,t)}catch(n){kt(Qp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await FO(i,n)}else if(t instanceof g_?i.ma.Xe(t):t instanceof X4?i.ma.ot(t):i.ma.nt(t),!e.isEqual(ie.min()))try{const n=await cF(i.localStore);e.compareTo(n)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ea.get(d);p&&a.Ea.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=a.Ea.get(h);if(!p)return;a.Ea.set(h,p.withResumeToken(Gi.EMPTY_BYTE_STRING,p.snapshotVersion)),dF(a,h);const y=new zc(p.target,h,d,p.sequenceNumber);hR(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(i,e)}catch(n){kt(Qp,"Failed to raise snapshot:",n),await FO(i,n)}}async function FO(i,t,e){if(!hg(t))throw t;i.da.add(1),await sb(i),i.Va.set("Offline"),e||(e=()=>cF(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{kt(Qp,"Retrying IndexedDB access"),await e(),i.da.delete(1),await xA(i)})}async function VO(i,t){const e=Ce(i);e.asyncQueue.verifyOperationInProgress(),kt(Qp,"RemoteStore received new credentials");const n=rb(e);e.da.add(3),await sb(e),n&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await xA(e)}async function sX(i,t){const e=Ce(i);t?(e.da.delete(2),await xA(e)):t||(e.da.add(2),await sb(e),e.Va.set("Unknown"))}function pg(i){return i.fa||(i.fa=function(e,n,s){const a=Ce(e);return a.oa(),new YY(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{e_:tX.bind(null,i),n_:eX.bind(null,i),i_:nX.bind(null,i),Y_:iX.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),fR(i)?dR(i):i.Va.set("Unknown")):(await i.fa.stop(),fF(i))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,e,n,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new td,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,a){const l=Date.now()+n,c=new pR(t,e,l,s,a);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pF(i,t){if(Tl("AsyncQueue",`${t}: ${i}`),hg(i))return new Nt(_t.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{static emptySet(t){return new Uf(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Xt.comparator(e.key,n.key):(e,n)=>Xt.comparator(e.key,n.key),this.keyedMap=Lm(),this.sortedSet=new Wn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Uf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.pa=new Wn(Xt.comparator)}track(t){const e=t.doc.key,n=this.pa.get(e);n?t.type!==0&&n.type===3?this.pa=this.pa.insert(e,t):t.type===3&&n.type!==1?this.pa=this.pa.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.pa=this.pa.remove(e):t.type===1&&n.type===2?this.pa=this.pa.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):se(63341,{Vt:t,ya:n}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,n)=>{t.push(n)}),t}}class Zp{constructor(t,e,n,s,a,l,c,h,d){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,n,s,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new Zp(t,e,Uf.emptySet(e),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_A(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class aX{constructor(){this.queries=BO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=Ce(e),a=s.queries;s.queries=BO(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(n)})})(this,new Nt(_t.ABORTED,"Firestore shutting down"))}}function BO(){return new gd(i=>U4(i),_A)}async function oX(i,t){const e=Ce(i);let n=3;const s=t.query;let a=e.queries.get(s);a?!a.Da()&&t.va()&&(n=2):(a=new rX,n=t.va()?0:1);try{switch(n){case 0:a.ba=await e.onListen(s,!0);break;case 1:a.ba=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const c=pF(l,`Initialization of query '${_f(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,a),a.Sa.push(t),t.Fa(e.onlineState),a.ba&&t.Ma(a.ba)&&gR(e)}async function lX(i,t){const e=Ce(i),n=t.query;let s=3;const a=e.queries.get(n);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.va()?0:1:!a.Da()&&t.va()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function cX(i,t){const e=Ce(i);let n=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const c of l.Sa)c.Ma(s)&&(n=!0);l.ba=s}}n&&gR(e)}function uX(i,t,e){const n=Ce(i),s=n.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);n.queries.delete(t)}function gR(i){i.Ca.forEach(t=>{t.next()})}var w1,jO;(jO=w1||(w1={})).xa="default",jO.Cache="cache";class hX{constructor(t,e,n){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new Zp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const n=e!=="Offline";return(!this.options.Qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Zp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==w1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t){this.key=t}}class mF{constructor(t){this.key=t}}class dX{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ie(),this.mutatedKeys=Ie(),this.Za=B4(t),this.Xa=new Uf(this.Za)}get eu(){return this.Ha}tu(t,e){const n=e?e.nu:new UO,s=e?e.Xa:this.Xa;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const b=s.get(p),E=EA(this.query,y)?y:null,A=!!b&&this.mutatedKeys.has(b.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;b&&E?b.data.isEqual(E.data)?A!==S&&(n.track({type:3,doc:E}),C=!0):this.ru(b,E)||(n.track({type:2,doc:E}),C=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(c=!0)):!b&&E?(n.track({type:0,doc:E}),C=!0):b&&!E&&(n.track({type:1,doc:b}),C=!0,(h||d)&&(c=!0)),C&&(E?(l=l.add(E),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Xa:l,nu:n,Cs:c,mutatedKeys:a}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const a=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const l=t.nu.wa();l.sort((p,y)=>function(E,A){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:C})}};return S(E)-S(A)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(n),s=s!=null&&s;const c=e&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new Zp(this.query,t.Xa,a,l,t.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new UO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ie(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const e=[];return t.forEach(n=>{this.Ya.has(n)||e.push(new mF(n))}),this.Ya.forEach(n=>{t.has(n)||e.push(new gF(n))}),e}au(t){this.Ha=t.$s,this.Ya=Ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Zp.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const mR="SyncEngine";class fX{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class pX{constructor(t){this.key=t,this.cu=!1}}class gX{constructor(t,e,n,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new gd(c=>U4(c),_A),this.Pu=new Map,this.Tu=new Set,this.Iu=new Wn(Xt.comparator),this.Eu=new Map,this.du=new aR,this.Au={},this.Ru=new Map,this.Vu=Xp.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mX(i,t,e=!0){const n=EF(i);let s;const a=n.hu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await yF(n,t,e,!0),s}async function yX(i,t){const e=EF(i);await yF(e,t,!0,!1)}async function yF(i,t,e,n){const s=await BY(i.localStore,Ja(t)),a=s.targetId,l=i.sharedClientState.addLocalQueryTarget(a,e);let c;return n&&(c=await vX(i,t,a,l==="current",s.resumeToken)),i.isPrimaryClient&&e&&hF(i.remoteStore,s),c}async function vX(i,t,e,n,s){i.fu=(y,b,E)=>async function(S,C,x,F){let k=C.view.tu(x);k.Cs&&(k=await MO(S.localStore,C.query,!1).then(({documents:L})=>C.view.tu(L,k)));const D=F&&F.targetChanges.get(C.targetId),U=F&&F.targetMismatches.get(C.targetId)!=null,W=C.view.applyChanges(k,S.isPrimaryClient,D,U);return HO(S,C.targetId,W.ou),W.snapshot}(i,y,b,E);const a=await MO(i.localStore,t,!0),l=new dX(t,a.$s),c=l.tu(a.documents),h=ib.createSynthesizedTargetChangeForCurrentChange(e,n&&i.onlineState!=="Offline",s),d=l.applyChanges(c,i.isPrimaryClient,h);HO(i,e,d.ou);const p=new fX(t,e,l);return i.hu.set(t,p),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),d.snapshot}async function bX(i,t,e){const n=Ce(i),s=n.hu.get(t),a=n.Pu.get(s.targetId);if(a.length>1)return n.Pu.set(s.targetId,a.filter(l=>!_A(l,t))),void n.hu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await A1(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),e&&uR(n.remoteStore,s.targetId),T1(n,s.targetId)}).catch(mA)):(T1(n,s.targetId),await A1(n.localStore,s.targetId,!0))}async function _X(i,t){const e=Ce(i),n=e.hu.get(t),s=e.Pu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),uR(e.remoteStore,n.targetId))}async function vF(i,t){const e=Ce(i);try{const n=await VY(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Eu.get(a);l&&(Mn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?Mn(l.cu,14607):s.removedDocuments.size>0&&(Mn(l.cu,42227),l.cu=!1))}),await _F(e,n,t)}catch(n){await mA(n)}}function zO(i,t,e){const n=Ce(i);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.hu.forEach((a,l)=>{const c=l.view.Fa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ce(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const b of y.Sa)b.Fa(c)&&(d=!0)}),d&&gR(h)}(n.eventManager,t),s.length&&n.lu.Y_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function EX(i,t,e){const n=Ce(i);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Eu.get(t),a=s&&s.key;if(a){let l=new Wn(Xt.comparator);l=l.insert(a,rs.newNoDocument(a,ie.min()));const c=Ie().add(a),h=new wA(ie.min(),new Map,new Wn(ye),l,c);await vF(n,h),n.Iu=n.Iu.remove(a),n.Eu.delete(t),yR(n)}else await A1(n.localStore,t,!1).then(()=>T1(n,t,e)).catch(mA)}function T1(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.Pu.get(t))i.hu.delete(n),e&&i.lu.gu(n,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(n=>{i.du.containsKey(n)||bF(i,n)})}function bF(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(uR(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),yR(i))}function HO(i,t,e){for(const n of e)n instanceof gF?(i.du.addReference(n.key,t),AX(i,n)):n instanceof mF?(kt(mR,"Document no longer in limbo: "+n.key),i.du.removeReference(n.key,t),i.du.containsKey(n.key)||bF(i,n.key)):se(19791,{pu:n})}function AX(i,t){const e=t.key,n=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(n)||(kt(mR,"New document in limbo: "+e),i.Tu.add(n),yR(i))}function yR(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Xt(In.fromString(t)),n=i.Vu.next();i.Eu.set(n,new pX(e)),i.Iu=i.Iu.insert(e,n),hF(i.remoteStore,new zc(Ja(F4(e.path)),n,"TargetPurposeLimboResolution",yA.le))}}async function _F(i,t,e){const n=Ce(i),s=[],a=[],l=[];n.hu.isEmpty()||(n.hu.forEach((c,h)=>{l.push(n.fu(h,t,e).then(d=>{var p;if((d||e)&&n.isPrimaryClient){const y=d?!d.fromCache:(p=e==null?void 0:e.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=lR.Rs(h.targetId,d);a.push(y)}}))}),await Promise.all(l),n.lu.Y_(s),await async function(h,d){const p=Ce(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>yt.forEach(d,b=>yt.forEach(b.ds,E=>p.persistence.referenceDelegate.addReference(y,b.targetId,E)).next(()=>yt.forEach(b.As,E=>p.persistence.referenceDelegate.removeReference(y,b.targetId,E)))))}catch(y){if(!hg(y))throw y;kt(cR,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const E=p.xs.get(b),A=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(A);p.xs=p.xs.insert(b,S)}}}(n.localStore,a))}async function SX(i,t){const e=Ce(i);if(!e.currentUser.isEqual(t)){kt(mR,"User change. New user:",t.toKey());const n=await lF(e.localStore,t);e.currentUser=t,function(a,l){a.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Nt(_t.CANCELLED,l))})}),a.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await _F(e,n.ks)}}function wX(i,t){const e=Ce(i),n=e.Eu.get(t);if(n&&n.cu)return Ie().add(n.key);{let s=Ie();const a=e.Pu.get(t);if(!a)return s;for(const l of a){const c=e.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function EF(i){const t=Ce(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=vF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EX.bind(null,t),t.lu.Y_=cX.bind(null,t.eventManager),t.lu.gu=uX.bind(null,t.eventManager),t}class _E{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=TA(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return FY(this.persistence,new DY,t.initialUser,this.serializer)}Su(t){return new oF(oR.fi,this.serializer)}bu(t){return new zY}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_E.provider={build:()=>new _E};class TX extends _E{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Mn(this.persistence.referenceDelegate instanceof bE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bY(n,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new oF(n=>bE.fi(n,e),this.serializer)}}class x1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>zO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=SX.bind(null,this.syncEngine),await sX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new aX}()}createDatastore(t){const e=TA(t.databaseInfo.databaseId),n=function(a){return new WY(a)}(t.databaseInfo);return function(a,l,c,h){return new QY(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,s,a,l,c){return new JY(n,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,e=>zO(this.syncEngine,e,0),function(){return LO.C()?new LO:new HY}())}createSyncEngine(t,e){return function(s,a,l,c,h,d,p){const y=new gX(s,a,l,c,h,d);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const a=Ce(s);kt(Qp,"RemoteStore shutting down."),a.da.add(5),await sb(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}x1.provider={build:()=>new x1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Tl("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="FirestoreClient";class CX{constructor(t,e,n,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=ss.UNAUTHENTICATED,this.clientId=rK.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{kt(ru,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(kt(ru,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new td;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=pF(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function AT(i,t){i.asyncQueue.verifyOperationInProgress(),kt(ru,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(async s=>{n.isEqual(s)||(await lF(t.localStore,s),n=s)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function $O(i,t){i.asyncQueue.verifyOperationInProgress();const e=await RX(i);kt(ru,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>VO(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,s)=>VO(t.remoteStore,s)),i._onlineComponents=t}async function RX(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){kt(ru,"Using user provided OfflineComponentProvider");try{await AT(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===_t.FAILED_PRECONDITION||s.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Gp("Error using user provided cache. Falling back to memory cache: "+e),await AT(i,new _E)}}else kt(ru,"Using default OfflineComponentProvider"),await AT(i,new TX(void 0));return i._offlineComponents}async function IX(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(kt(ru,"Using user provided OnlineComponentProvider"),await $O(i,i._uninitializedComponentsProvider._online)):(kt(ru,"Using default OnlineComponentProvider"),await $O(i,new x1))),i._onlineComponents}async function kX(i){const t=await IX(i),e=t.eventManager;return e.onListen=mX.bind(null,t.syncEngine),e.onUnlisten=bX.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=yX.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_X.bind(null,t.syncEngine),e}function PX(i,t,e={}){const n=new td;return i.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const p=new xX({next:b=>{p.xu(),l.enqueueAndForget(()=>lX(a,y)),b.fromCache&&h.source==="server"?d.reject(new Nt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new hX(c,p,{includeMetadataChanges:!0,Qa:!0});return oX(a,y)}(await kX(i),i.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(i,t,e){if(!e)throw new Nt(_t.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function OX(i,t,e,n){if(t===!0&&n===!0)throw new Nt(_t.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function GO(i){if(Xt.isDocumentKey(i))throw new Nt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function CA(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":se(12329,{type:typeof i})}function C1(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Nt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=CA(i);throw new Nt(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="firestore.googleapis.com",WO=!0;class KO{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Nt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SF,this.ssl=WO}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:WO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aF;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<yY)throw new Nt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OX("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AF((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Nt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Nt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Nt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vR{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Nt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ZW;switch(n.type){case"firstParty":return new nK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Nt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=qO.get(e);n&&(kt("ComponentProvider","Removing Datastore"),qO.delete(e),n.terminate())}(this),Promise.resolve()}}function DX(i,t,e,n={}){var s;i=C1(i,vR);const a=lg(t),l=i._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),h=`${t}:${e}`;a&&(NC(`https://${h}`),FC("Firestore",!0)),l.host!==SF&&l.host!==h&&Gp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:n});if(!nd(d,c)&&(i._setSettings(d),n.mockUserToken)){let p,y;if(typeof n.mockUserToken=="string")p=n.mockUserToken,y=ss.MOCK_USER;else{p=kN(n.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new Nt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ss(b)}i._authCredentials=new JW(new _4(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new uu(this.firestore,t,this._query)}}class Il{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Il(this.firestore,t,this._key)}}class Bf extends uu{constructor(t,e,n){super(t,e,F4(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Il(this.firestore,null,new Xt(t))}withConverter(t){return new Bf(this.firestore,t,this._path)}}function Gc(i,t,...e){if(i=ia(i),MX("collection","path",t),i instanceof vR){const n=In.fromString(t,...e);return GO(n),new Bf(i,null,n)}{if(!(i instanceof Il||i instanceof Bf))throw new Nt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(In.fromString(t,...e));return GO(n),new Bf(i.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="AsyncQueue";class XO{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new uF(this,"async_queue_retry"),this.rc=()=>{const n=ET();n&&kt(YO,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=t;const e=ET();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=ET();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new td;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!hg(t))throw t;kt(YO,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(n=>{throw this.Xu=n,this.ec=!1,Tl("INTERNAL UNHANDLED ERROR: ",QO(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=e,e}enqueueAfterDelay(t,e,n){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const s=pR.createAndSchedule(this,t,e,n,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&se(47125,{cc:QO(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function QO(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class wF extends vR{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new XO,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XO(t),this._firestoreClient=void 0,await t}}}function LX(i,t){const e=typeof i=="object"?i:BC(),n=typeof i=="string"?i:fE,s=fA(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=CN("firestore");a&&DX(s,...a)}return s}function NX(i){if(i._terminated)throw new Nt(_t.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FX(i),i._firestoreClient}function FX(i){var t,e,n;const s=i._freezeSettings(),a=function(c,h,d,p){return new bK(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AF(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new CX(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jp(Gi.fromBase64String(t))}catch(e){throw new Nt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jp(Gi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Nt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new as(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=/^__.*__$/;function CF(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ic:i})}}class ER{constructor(t,e,n,s,a,l){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new ER(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:n,Rc:!1});return s.Vc(t),s}mc(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:n,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return R1(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(CF(this.Ic)&&VX.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class UX{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||TA(t)}bc(t,e,n,s=!1){return new ER({Ic:t,methodName:e,wc:n,path:as.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BX(i){const t=i._freezeSettings(),e=TA(i._databaseId);return new UX(i._databaseId,!!t.ignoreUndefinedProperties,e)}function jX(i,t,e,n=!1){return AR(e,i.bc(n?4:3,t))}function AR(i,t){if(RF(i=ia(i)))return HX("Unsupported field value:",t,i),zX(i,t);if(i instanceof xF)return function(n,s){if(!CF(s.Ic))throw s.gc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const c of n){let h=AR(c,s.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(i,t)}return function(n,s){if((n=ia(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zK(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=bi.fromDate(n);return{timestampValue:_1(s.serializer,a)}}if(n instanceof bi){const a=new bi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_1(s.serializer,a)}}if(n instanceof bR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jp)return{bytesValue:Z4(s.serializer,n._byteString)};if(n instanceof Il){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:J4(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof _R)return function(l,c){return{mapValue:{fields:{[I4]:{stringValue:k4},[pE]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return nR(c.serializer,d)})}}}}}}(n,s);throw s.gc(`Unsupported field value: ${CA(n)}`)}(i,t)}function zX(i,t){const e={};return S4(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dg(i,(n,s)=>{const a=AR(s,t.Ac(n));a!=null&&(e[n]=a)}),{mapValue:{fields:e}}}function RF(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof bi||i instanceof bR||i instanceof Jp||i instanceof Il||i instanceof xF||i instanceof _R)}function HX(i,t,e){if(!RF(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const n=CA(e);throw n==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+n)}}const $X=new RegExp("[~\\*/\\[\\]]");function qX(i,t,e){if(t.search($X)>=0)throw R1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new TF(...t.split("."))._internalPath}catch{throw R1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function R1(i,t,e,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${n}`),l&&(h+=` in document ${s}`),h+=")"),new Nt(_t.INVALID_ARGUMENT,c+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(t,e,n,s,a){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Il(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(RA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class GX extends IF{data(){return super.data()}}function RA(i,t){return typeof t=="string"?qX(i,t):t instanceof TF?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Nt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SR{}class wR extends SR{}function Wc(i,t,...e){let n=[];t instanceof SR&&n.push(t),n=n.concat(e),function(a){const l=a.filter(h=>h instanceof xR).length,c=a.filter(h=>h instanceof IA).length;if(l>1||l>0&&c>0)throw new Nt(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)i=s._apply(i);return i}class IA extends wR{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new IA(t,e,n)}_apply(t){const e=this._parse(t);return PF(t._query,e),new uu(t.firestore,t.converter,m1(t._query,e))}_parse(t){const e=BX(t.firestore);return function(a,l,c,h,d,p,y){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Nt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){JO(y,p);const A=[];for(const S of y)A.push(ZO(h,a,S));b={arrayValue:{values:A}}}else b=ZO(h,a,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||JO(y,p),b=jX(c,l,y,p==="in"||p==="not-in");return ri.create(d,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function TR(i,t,e){const n=t,s=RA("where",i);return IA._create(s,n,e)}class xR extends SR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new xR(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:sa.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)PF(l,h),l=m1(l,h)}(t._query,e),new uu(t.firestore,t.converter,m1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CR extends wR{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new CR(t,e)}_apply(t){const e=function(s,a,l){if(s.startAt!==null)throw new Nt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Nt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ay(a,l)}(t._query,this._field,this._direction);return new uu(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new fg(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function kF(i,t="asc"){const e=t,n=RA("orderBy",i);return CR._create(n,e)}class RR extends wR{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new RR(t,e,n)}_apply(t){return new uu(t.firestore,t.converter,mE(t._query,this._limit,this._limitType))}}function KX(i){return RR._create("limit",i,"F")}function ZO(i,t,e){if(typeof(e=ia(e))=="string"){if(e==="")throw new Nt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V4(t)&&e.indexOf("/")!==-1)throw new Nt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(In.fromString(e));if(!Xt.isDocumentKey(n))throw new Nt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return fO(i,new Xt(n))}if(e instanceof Il)return fO(i,e._key);throw new Nt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CA(e)}.`)}function JO(i,t){if(!Array.isArray(i)||i.length===0)throw new Nt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function PF(i,t){const e=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Nt(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Nt(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class YX{convertValue(t,e="none"){switch(iu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw se(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return dg(t,(s,a)=>{n[s]=this.convertValue(a,e)}),n}convertVectorValue(t){var e,n,s;const a=(s=(n=(e=t.fields)===null||e===void 0?void 0:e[pE].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(l=>qn(l.doubleValue));return new _R(a)}convertGeoPoint(t){return new bR(qn(t.latitude),qn(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=bA(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(by(t));default:return null}}convertTimestamp(t){const e=eu(t);return new bi(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=In.fromString(t);Mn(rF(n),9688,{name:t});const s=new _y(n.get(1),n.get(3)),a=new Xt(n.popFirst(5));return s.isEqual(e)||Tl(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XX extends IF{constructor(t,e,n,s,a,l){super(t,e,n,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new m_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(RA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class m_ extends XX{data(t={}){return super.data(t)}}class QX{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new K0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new m_(this._firestore,this._userDataWriter,n.key,n,new K0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new m_(s._firestore,s._userDataWriter,c.doc.key,c.doc,new K0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new m_(s._firestore,s._userDataWriter,c.doc.key,c.doc,new K0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:ZX(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZX(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:i})}}class JX extends YX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Il(this.firestore,null,e)}}function Kc(i){i=C1(i,uu);const t=C1(i.firestore,wF),e=NX(t),n=new JX(t);return WX(i._query),PX(e,i._query).then(s=>new QX(t,n,i,s))}(function(t,e=!0){(function(s){ug=s})(pd),id(new Jc("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new wF(new tK(n.getProvider("auth-internal")),new iK(l,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Nt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _y(d.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Xa(eO,nO,t),Xa(eO,nO,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="firebasestorage.googleapis.com",tQ="storageBucket",eQ=2*60*1e3,nQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends ro{constructor(t,e,n=0){super(ST(t),`Firebase Storage: ${e} (${ST(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ao.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ST(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var no;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(no||(no={}));function ST(i){return"storage/"+i}function iQ(){const i="An unknown error occurred, please check the error payload for server response.";return new ao(no.UNKNOWN,i)}function sQ(){return new ao(no.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rQ(){return new ao(no.CANCELED,"User canceled the upload/download.")}function aQ(i){return new ao(no.INVALID_URL,"Invalid URL '"+i+"'.")}function oQ(i){return new ao(no.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tD(i){return new ao(no.INVALID_ARGUMENT,i)}function OF(){return new ao(no.APP_DELETED,"The Firebase app was deleted.")}function lQ(i){return new ao(no.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=ta.makeFromUrl(t,e)}catch{return new ta(t,"")}if(n.path==="")return n;throw oQ(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const p="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${p}/b/${s}/o${b}`,"i"),A={bucket:1,path:3},S=e===MF?"(?:storage.googleapis.com|storage.cloud.google.com)":e,C="([^?#]*)",x=new RegExp(`^https?://${S}/${s}/${C}`,"i"),k=[{regex:c,indices:h,postModify:a},{regex:E,indices:A,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<k.length;D++){const U=k[D],W=U.regex.exec(t);if(W){const L=W[U.indices.bucket];let R=W[U.indices.path];R||(R=""),n=new ta(L,R),U.postModify(n);break}}if(n==null)throw aQ(t);return n}}class cQ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(i,t,e){let n=1,s=null,a=null,l=!1,c=0;function h(){return c===2}let d=!1;function p(...C){d||(d=!0,t.apply(null,C))}function y(C){s=setTimeout(()=>{s=null,i(E,h())},C)}function b(){a&&clearTimeout(a)}function E(C,...x){if(d){b();return}if(C){b(),p.call(null,C,...x);return}if(h()||l){b(),p.call(null,C,...x);return}n<64&&(n*=2);let k;c===1?(c=2,k=0):k=(n+Math.random())*1e3,y(k)}let A=!1;function S(C){A||(A=!0,b(),!d&&(s!==null?(C||(c=2),clearTimeout(s),y(0)):C||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,S(!0)},e),S}function hQ(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(i){return i!==void 0}function eD(i,t,e,n){if(n<t)throw tD(`Invalid value for '${i}'. Expected ${t} or greater.`);if(n>e)throw tD(`Invalid value for '${i}'. Expected ${e} or less.`)}function fQ(i){const t=encodeURIComponent;let e="?";for(const n in i)if(i.hasOwnProperty(n)){const s=t(n)+"="+t(i[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var EE;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(EE||(EE={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(i,t){const e=i>=500&&i<600,s=[408,429].indexOf(i)!==-1,a=t.indexOf(i)!==-1;return e||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(t,e,n,s,a,l,c,h,d,p,y,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new Y0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===EE.NO_ERROR,h=a.getStatus();if(!c||pQ(h,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===EE.ABORT;n(!1,new Y0(!1,null,p));return}const d=this.successCodes_.indexOf(h)!==-1;n(!0,new Y0(d,a))})},e=(n,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());dQ(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=iQ();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?OF():rQ();l(h)}else{const h=sQ();l(h)}};this.canceled_?e(!1,new Y0(!1,null,!0)):this.backoffId_=uQ(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Y0{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function mQ(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function yQ(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function vQ(i,t){t&&(i["X-Firebase-GMPID"]=t)}function bQ(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function _Q(i,t,e,n,s,a,l=!0,c=!1){const h=fQ(i.urlParams),d=i.url+h,p=Object.assign({},i.headers);return vQ(p,t),mQ(p,e),yQ(p,a),bQ(p,n),new gQ(d,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function AQ(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,e){this._service=t,e instanceof ta?this._location=e:this._location=ta.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new AE(t,e)}get root(){const t=new ta(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AQ(this._location.path)}get storage(){return this._service}get parent(){const t=EQ(this._location.path);if(t===null)return null;const e=new ta(this._location.bucket,t);return new AE(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw lQ(t)}}function nD(i,t){const e=t==null?void 0:t[tQ];return e==null?null:ta.makeFromBucketSpec(e,i)}function SQ(i,t,e,n={}){i.host=`${t}:${e}`;const s=lg(t);s&&(NC(`https://${i.host}`),FC("Storage",!0)),i._isUsingEmulator=!0,i._protocol=s?"https":"http";const{mockUserToken:a}=n;a&&(i._overrideAuthToken=typeof a=="string"?a:kN(a,i.app.options.projectId))}class wQ{constructor(t,e,n,s,a,l=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=MF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eQ,this._maxUploadRetryTime=nQ,this._requests=new Set,s!=null?this._bucket=ta.makeFromBucketSpec(s,this._host):this._bucket=nD(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ta.makeFromBucketSpec(this._url,t):this._bucket=nD(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){eD("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){eD("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new AE(this,t)}_makeRequest(t,e,n,s,a=!0){if(this._deleted)return new cQ(OF());{const l=_Q(t,this._appId,n,s,e,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const iD="@firebase/storage",sD="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="storage";function TQ(i=BC(),t){i=ia(i);const n=fA(i,DF).getImmediate({identifier:t}),s=CN("storage");return s&&xQ(n,...s),n}function xQ(i,t,e,n={}){SQ(i,t,e,n)}function CQ(i,{instanceIdentifier:t}){const e=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),s=i.getProvider("app-check-internal");return new wQ(e,n,s,t,pd)}function RQ(){id(new Jc(DF,CQ,"PUBLIC").setMultipleInstances(!0)),Xa(iD,sD,""),Xa(iD,sD,"esm2017")}RQ();const IQ={apiKey:"AIzaSyCoHjDrMtMrNLllpFDZpTQw4-oq7qoalFc",authDomain:"change-lms.firebaseapp.com",projectId:"change-lms",storageBucket:"change-lms.firebasestorage.app",messagingSenderId:"172184355270",appId:"1:172184355270:web:5aa19f0480788c255bf2c7",measurementId:"G-EHMG7GZ0Z6"},IR=ON(IQ);XW(IR);const Yc=LX(IR);TQ(IR);const wT=Oi(O.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),kQ=Oi(O.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"})),PQ=Oi(O.jsx("path",{d:"M7 3H4v3H2V1h5zm15 3V1h-5v2h3v3zM7 21H4v-3H2v5h5zm13-3v3h-3v2h5v-5zm-1 0c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2zM15 8H9v2h6zm0 3H9v2h6zm0 3H9v2h6z"})),MQ=Oi([O.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),O.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),OQ=Oi([O.jsx("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01M4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3m16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"},"0"),O.jsx("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2"},"1")]),DQ=Oi(O.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),LQ=Oi([O.jsx("path",{d:"M16 10.04 12 8l-4 2.04v3.35L4 15.2V20h5v-2.04c0-1.69 1.35-3.06 3-3.06s3 1.37 3 3.06V20h5v-4.79l-4-1.81zm-4 3.46c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5",opacity:".3"},"0"),O.jsx("path",{d:"M18 12.22V9l-5-2.5V5h2V3h-2V1h-2v2H9v2h2v1.5L6 9v3.22L2 14v8h9v-4c0-.55.45-1 1-1s1 .45 1 1v4h9v-8zM20 20h-5v-2.04c0-1.69-1.35-3.06-3-3.06s-3 1.37-3 3.06V20H4v-4.79l4-1.81v-3.35L12 8l4 2.04v3.35l4 1.81z"},"1"),O.jsx("circle",{cx:"12",cy:"12",r:"1.5"},"2")]),NQ=Oi([O.jsx("path",{d:"M17 18h1c.55 0 1-.45 1-1v-3h-2zM5 17c0 .55.45 1 1 1h1v-4H5z",opacity:".3"},"0"),O.jsx("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9M7 14v4H6c-.55 0-1-.45-1-1v-3zm12 3c0 .55-.45 1-1 1h-1v-4h2z"},"1")]),rD=Oi([O.jsx("path",{d:"m9.83 18 .59.59L12 20.17l1.59-1.59.58-.58H19V4H5v14zm.29-8.88L12 5l1.88 4.12L18 11l-4.12 1.88L12 17l-1.88-4.12L6 11z",opacity:".3"},"0"),O.jsx("path",{d:"M5 20h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2M5 4h14v14h-4.83l-.59.59L12 20.17l-1.59-1.59-.58-.58H5zm7 13 1.88-4.12L18 11l-4.12-1.88L12 5l-1.88 4.12L6 11l4.12 1.88z"},"1")]),FQ=Oi([O.jsx("path",{d:"m5 18.31 3-1.16V5.45L5 6.46zm11 .24 3-1.01V5.69l-3 1.17z",opacity:".3"},"0"),O.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M8 17.15l-3 1.16V6.46l3-1.01zm6 1.38-4-1.4V5.47l4 1.4zm5-.99-3 1.01V6.86l3-1.16z"},"1")]),VQ=Oi([O.jsx("path",{d:"M5 17h14v-5H5zm11.5-4c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5m-9 0c.83 0 1.5.67 1.5 1.5S8.33 16 7.5 16 6 15.33 6 14.5 6.67 13 7.5 13",opacity:".3"},"0"),O.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.85 7h10.29l1.04 3H5.81zM19 17H5v-5h14z"},"1"),O.jsx("circle",{cx:"7.5",cy:"14.5",r:"1.5"},"2"),O.jsx("circle",{cx:"16.5",cy:"14.5",r:"1.5"},"3")]),UQ="/assets/parking_map-DAqnMtWO.png";function BQ(){const i=[{time:"8:30 - 9:00",content:"  "},{time:"9:00 - 9:30",content:" "},{time:"09:30 - 11:00",content:` 
 ( )`},{time:"11:00 - 17:00",content:" ,  "},{time:"17:00 - 18:00",content:"  "},{time:"18:00 - 20:00",content:"   "},{time:"20:00 - 21:30",content:" "},{time:"21:30 - 22:00",content:"  "}];return O.jsx(vt,{children:i.map((t,e)=>O.jsxs(vt,{sx:{display:"flex",padding:"12px",borderBottom:"1px solid #ccc",alignItems:"flex-start"},children:[O.jsx(xt,{sx:{width:"100px",fontWeight:"bold",flexShrink:0},variant:"group_member",children:t.time}),O.jsx(xt,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:t.content})]},e))})}const jQ="/assets/world_map-DcDVn5i4.png",zQ="/assets/vote-BYAisUKO.png";function I1({ad_id:i}){return O.jsxs(O.Fragment,{children:[i=="outreach"&&O.jsxs(vt,{className:"fullWidth advertise",children:[O.jsxs(vt,{className:"advertise_content",children:[O.jsx(xt,{variant:"ad_title",children:"  !?"}),O.jsx(xt,{variant:"ad_description",children:"2025 :  /  "})]}),O.jsx(vt,{className:"advertise_image-wrapper",children:O.jsx("img",{src:jQ,className:"advertise_image"})})]}),i=="leader"&&O.jsxs(vt,{className:"fullWidth advertise",sx:{marginTop:1,backgroundColor:"#92B4A7"},children:[O.jsxs(vt,{className:"advertise_content",children:[O.jsx(xt,{variant:"ad_title",children:"    "}),O.jsx(xt,{variant:"ad_description",children:"2026  /  "})]}),O.jsx(vt,{className:"advertise_image-wrapper",children:O.jsx("img",{src:zQ,className:"advertise_image",style:{width:"130%"}})})]})]})}const LF=M.createContext(null),HQ=({children:i})=>{const[t,e]=M.useState(),[n,s]=M.useState(!0);return M.useEffect(()=>{const a=localStorage.getItem("user");a&&e(JSON.parse(a)),s(!1)},[]),O.jsx(LF.Provider,{value:{user:t,setUser:e,loading:n},children:i})},kA=()=>M.useContext(LF);function $Q(){var C;const[i,t]=M.useState([]),[e,n]=M.useState([]),[s,a]=M.useState([]),[l,c]=M.useState({announcement:!0,prayBoard:!0,users:!0,courses:!1,selected_courses:!1}),[h,d]=M.useState(!1),[p,y]=M.useState(!1),[b,E]=M.useState(!1),{user:A}=kA(),S=sg();return M.useEffect(()=>{(async()=>{c(R=>({...R,announcement:!0}));const F=Wc(Gc(Yc,"announcements"),TR("active","==",!0),kF("created_at","asc")),k=await Kc(F);if(k.empty)console.log("[Warning]No accouncements has been queried");else{const R=k.docs.map(N=>N.data());t(R)}c(R=>({...R,announcement:!1})),c(R=>({...R,prayBoard:!0}));const D=Wc(Gc(Yc,"pray_board"),KX(10)),U=await Kc(D);if(U.empty)console.log("[Warning]No Prays");else{const R=U.docs.map(N=>N.data());n(R)}c(R=>({...R,prayBoard:!1})),c(R=>({...R,users:!0})),c(R=>({...R,users:!0}));const W=Wc(Gc(Yc,"users")),L=await Kc(W);if(!L.empty){const R=L.docs.map(N=>N.data());a(R)}c(R=>({...R,users:!1}))})()},[]),M.useEffect(()=>{console.log(l)},[l]),M.useEffect(()=>{console.log(e),console.log(e.length)},[e]),O.jsxs(vt,{className:"wrapper",children:[O.jsx(Qv,{}),O.jsx(vt,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0},children:O.jsx(xt,{variant:"body1",children:" "})}),O.jsxs(vt,{className:"fullWidth announcementArea flex-left",children:[l.announcement&&O.jsx(iE,{variant:"rectangular",className:"announcementDocument",animation:"wave"}),i?i.map(x=>O.jsxs(vt,{className:"announcementDocument",children:[O.jsx(xt,{variant:"announcePreviewTitle",children:x.title}),O.jsx(xt,{variant:"announcePreviewContent",children:x.content}),O.jsxs(fN,{variant:"text",size:"small",sx:{mt:"auto",alignSelf:"flex-start",color:"#00002F",p:0,display:"flex",justifyContent:"flex-start"},onClick:()=>{alert("   ")},children:[" ",">"]})]},`announcement-${x.title}`)):O.jsx(vt,{children:O.jsx(xt,{children:"No Announcement"})})]}),O.jsxs(vt,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:3},children:[O.jsxs(vt,{className:"external-linkbox",onClick:()=>{window.open("http://www.jeongeui.com","_blank")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(LQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{window.open("https://youtube.com/playlist?list=PLCOgZLj-whreTVYXkuQRv_Mx0O2j5A9vW&feature=shared","_blank")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(NQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{S("/pray")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(rD,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{window.open("https://map.naver.com","_blank")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(FQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{E(!0)},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(VQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]})]}),O.jsxs(vt,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:1},children:[O.jsxs(vt,{className:"external-linkbox",onClick:()=>{d(!0)},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(OQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{S("/courses")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(DQ,{sx:{color:"#FAC656"}})}),O.jsx(vt,{className:"external_description_box",children:A!=null&&A.is_leader?O.jsxs(O.Fragment,{children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]}):O.jsxs(O.Fragment,{children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{alert("   ")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(kQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{S("/workbook")},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(PQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]}),O.jsxs(vt,{className:"external-linkbox",onClick:()=>{y(!0)},children:[O.jsx(vt,{className:"external-icon centeralize",children:O.jsx(MQ,{sx:{color:"#FAC656"}})}),O.jsxs(vt,{className:"external_description_box",children:[O.jsx(xt,{variant:"blacksmall",children:""}),O.jsx(xt,{variant:"blacksmall",children:""})]})]})]}),O.jsxs(vt,{sx:{marginTop:"5vh"},children:[O.jsx(I1,{ad_id:"outreach"}),O.jsx(I1,{ad_id:"leader"})]}),O.jsxs(vt,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0,marginTop:3,justifyContent:"space-between",alignItems:"flex-end"},children:[O.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[O.jsx(rD,{sx:{color:"#FAC656",mr:.5}}),O.jsx(xt,{variant:"body1",children:""})]}),O.jsxs(xt,{variant:"toDetail",onClick:()=>{S("/pray")},children:["more ",">"]})]}),l.prayBoard?O.jsx(iE,{variant:"rectangular",className:"boardPreview",animation:"wave"}):O.jsx(vt,{className:"boardPreview",children:e.length>0?e.map(x=>{var F;return O.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between"},children:[O.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[O.jsx(vt,{sx:{marginRight:1},children:O.jsx(xt,{variant:"boardPreview_title",children:x.title})}),O.jsx(vt,{sx:{display:"flex",alignItems:"center",maxWidth:"50%"},children:O.jsx(xt,{variant:"boardPreview_detail",children:x.content})})]}),s&&O.jsx(vt,{sx:{minWidth:"32px"},children:O.jsx(xt,{variant:"boardPreview_author",children:(F=s.filter(k=>k.student_id==x.author_id)[0])==null?void 0:F.name})})]},`pray_${x.created_at}`)}):O.jsx(vt,{className:"fully_centeralize fullWidth",sx:{height:"120px"},children:O.jsx(xt,{variant:"group_member",children:"  "})})}),O.jsxs(oT,{open:p,onClose:()=>y(!1),fullWidth:!0,maxWidth:"sm",children:[O.jsxs(lT,{sx:{m:0,p:2},children:[" ",O.jsx(sT,{"aria-label":"close",onClick:()=>y(!1),sx:{position:"absolute",right:8,top:8,color:x=>x.palette.grey[500]},children:O.jsx(wT,{})})]}),O.jsx(vt,{sx:{p:2},children:O.jsx(BQ,{})})]}),O.jsxs(oT,{open:b,onClose:()=>E(!1),fullWidth:!0,maxWidth:"sm",children:[O.jsxs(lT,{sx:{m:0,p:2},children:["",O.jsx(sT,{"aria-label":"close",onClick:()=>E(!1),sx:{position:"absolute",right:8,top:8,color:x=>x.palette.grey[500]},children:O.jsx(wT,{})})]}),O.jsxs(vt,{sx:{p:2},children:[O.jsxs(vt,{sx:{display:"flex"},children:[O.jsx(xt,{sx:{mr:1},variant:"group_member",children:""}),O.jsxs(xt,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:[" 8~ 11 ",`
`,"  ."," "]})]}),O.jsxs(vt,{sx:{display:"flex"},children:[O.jsx(xt,{sx:{mr:1},variant:"group_member",children:""}),O.jsx(xt,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:"   ."})]}),O.jsxs(vt,{sx:{display:"flex"},children:[O.jsx(xt,{sx:{mr:1},variant:"group_member",children:""}),O.jsxs(xt,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:["     ",`
`,"   ."]})]})]}),O.jsx("img",{src:UQ})]}),O.jsxs(oT,{open:h,onClose:()=>d(!1),fullWidth:!0,maxWidth:"sm",children:[O.jsxs(lT,{sx:{m:0,p:2},children:[" ",O.jsx(sT,{"aria-label":"close",onClick:()=>E(!1),sx:{position:"absolute",right:8,top:8,color:x=>x.palette.grey[500]},children:O.jsx(wT,{})})]}),O.jsxs(vt,{sx:{p:2},children:[O.jsxs(vt,{sx:{display:"flex",alignItems:"center",mb:1},children:[O.jsx(xt,{variant:"label",sx:{mr:1},children:""}),O.jsx(xt,{variant:"group_member",children:(C=s.filter(x=>x.group_id==A.group_id&&x.is_leader)[0])==null?void 0:C.name})]}),O.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[O.jsx(xt,{variant:"label",sx:{mr:1},children:""}),O.jsx(vt,{sx:{display:"flex"},children:s.filter(x=>x.group_id==A.group_id&&!x.is_leader).map(x=>O.jsx(xt,{variant:"group_member",sx:{mr:.5},children:x.name}))})]})]})]}),O.jsxs(vt,{className:"fullWidth",sx:{mt:2,mb:1,borderTop:"0.5px gray solid"},children:[O.jsx(vt,{sx:{height:"2.4vw"},children:O.jsx(xt,{variant:"footerinfo",children:"Ver0.4.2 | Copyright @DENVER | Design assisted by Sandy, Lim. Eunseo, Choo."})}),O.jsx(vt,{sx:{height:"2.4vw"},children:O.jsx(xt,{variant:"footerinfo",children:"Published for @ , 2025,."})}),O.jsx(vt,{sx:{height:"2.4vw"},children:O.jsx(xt,{variant:"footerinfo",children:"Contact us | fe.dev.denver@gmail.com or   "})})]})]})}function qQ(){const[i,t]=M.useState(""),[e,n]=M.useState(""),{setUser:s}=kA(),[a,l]=M.useState(!1),c=async()=>{l(!0);const h=Wc(Gc(Yc,"users"),TR("student_id","==",i)),d=await Kc(h);if(d.empty)n("  .");else{const p=d.docs[0].data();console.log(p),s(p),localStorage.setItem("user",JSON.stringify(p)),window.location.href="/"}l(!1)};return O.jsxs(vt,{className:"wrapper centeralize",sx:{height:"100vh",mt:"-60px"},children:[O.jsx(vt,{sx:{position:"absolute",top:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:O.jsx(xt,{variant:"subtitle_extrasmall",children:"THEREFORE, I URGE YOU, BROTHERS, IN VIEW OF GOD'S MERCY, TO OFFER YOUR BODIES AS LIVING SACRIFICES, HOLY AND PLEASING TO GOD--THIS IS YOURN SPIRITUAL ACT OF WORSHIP."})}),O.jsx(xt,{className:"subtitle",variant:"subtitle_small",children:"2025 SUMMER RETREAT"}),O.jsx(xt,{className:"subtitle",variant:"subtitle_big",children:"CHANGE"}),O.jsx(xt,{className:"subtitle",variant:"subtitle_small",children:"GOD'S WILL JEONGEUI YOUTH"}),O.jsxs(vt,{sx:{paddingLeft:10,paddingRight:10,boxSizing:"border-box"},children:[O.jsx(g7,{label:"",fullWidth:!0,margin:"normal",value:i,onChange:h=>t(h.target.value),variant:"standard"}),e&&O.jsx(xt,{color:"error",mt:1,children:e}),O.jsx(fN,{variant:"contained",fullWidth:!0,sx:{mt:2,height:"32.5px",bgcolor:i?"error.main":"grey.400",color:i?"common.white":"grey.700","&:hover":{bgcolor:i?"error.dark":"grey.500"},"&.Mui-disabled":{bgcolor:"grey.400",color:"grey.700"}},onClick:c,loading:a,children:a?"":""})]}),O.jsx(vt,{sx:{position:"absolute",bottom:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:O.jsxs(xt,{variant:"subtitle_extrasmall",children:["DO NOT CONFORM ANY LONGER TO THE PATTERN OF THIS WORLD, BUT BE TRANSFORMED BY THE RENEWING OF YOUR MIND, THEN YOU WILL BE ABLE TO TEST AND APPROVE WHAT GOD'S WILL IS--HIS GOOD, PLEASING AND PERFECT WILL. ","[","ROMANS 12:1-2","]"]})})]})}function Cm({children:i}){const{user:t,loading:e}=kA(),n=sg();return M.useEffect(()=>{!e&&!t&&n("/signin")},[t,e,n]),e?O.jsx("div",{children:"Loading..."}):O.jsx(O.Fragment,{children:t?i:null})}const GQ=rA({components:{MuiTextField:{defaultProps:{variant:"standard"}},MuiInput:{styleOverrides:{root:{color:"white","&:before":{borderBottom:"1px solid #fff"},"&:hover:not(.Mui-disabled):before":{borderBottom:"1px solid #ddd"},"&:after":{borderBottom:"2px solid #FAC656"}}}},MuiInputLabel:{styleOverrides:{root:{color:"#fff","&.Mui-focused":{color:"#FAC656"}}}}},typography:{body1:{fontSize:"20px",fontWeight:600,fontFamily:'"Pretendard", sans-serif',color:"#FAC656"},body2:{fontWeight:600,fontFamily:'"Pretendard", sans-serif',color:"#FAC656"},subtitle1:{fontSize:"18px",fontWeight:700,fontFamily:'"Pretendard", sans-serif'},announcePreviewTitle:{fontSize:"16px",fontWeight:800,fontFamily:'"Pretendard", sans-serif',color:"#00002F"},announcePreviewContent:{fontSize:"14px",fontWeight:400,fontFamily:'"Pretendard", sans-serif',color:"#00002F",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineClamp:2,boxOrient:"vertical",display:"-webkit-box"},blacksmall:{fontSize:"14px",color:"#F5F5DC",fontFamily:'"Pretendard", sans-serif',lineHeight:"1.1"},ad_title:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"17.5px",fontWeight:900,fontFamily:'"Pretendard", sans-serif'},ad_description:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"11.7px",fontWeight:600,fontFamily:'"Pretendard", sans-serif'},toDetail:{fontSize:"12px",color:"grey",fontWeight:"bold",fontFamily:'"Pretendard", sans-serif'},boardPreview_title:{color:"#000",fontSize:"14px",fontFamily:'"Pretendard", sans-serif'},boardPreview_detail:{fontSize:"12px",color:"gray",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",lineClamp:1,boxOrient:"vertical",display:"-webkit-box",fontFamily:' "Pretendard", sans-serif'},boardPreview_author:{fontSize:"12px",color:"gray",overflow:"hidden",fontFamily:'"Pretendard", sans-serif'},boardTitle:{fontSize:"16px",fontWeight:900,color:"#FAC656",fontFamily:'"Pretendard", sans-serif'},boardContent:{fontSize:"14px",whiteSpace:"pre-line",textOverflow:"ellipsis",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineClamp:3,boxOrient:"vertical",display:"-webkit-box",overflow:"hidden",color:"#FFF",fontFamily:'"Pretendard", sans-serif'},boardMetadata:{fontSize:"14px",color:"#DADADA"},subtitle_extrasmall:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"14px",fontWeight:"bold",lineHeight:1},subtitle_small:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"20px",fontWeight:"bold",lineHeight:1},subtitle_big:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"64px",fontWeight:"bold",lineHeight:1},header:{color:"#FAC656",fontSize:"32px",fontWeight:"bold",lineHeight:1,fontFamily:'"Staatliches", "Pretendard", sans-serif'},header_small:{color:"#FAC656",fontSize:"12px",fontWeight:"bold",lineHeight:1,fontStretch:"57%",fontFamily:'"Staatliches", "Pretendard", sans-serif'},footerinfo:{color:"#FFF",fontSize:"2.2vw",fontFamily:'"Pretendard", sans-serif'},label:{fontSize:"16px",backgroundColor:"gray",paddingLeft:6,paddingRight:6,borderRadius:12,color:"#FFF",fontFamily:'"Pretendard", sans-serif'},credit_category:{color:"#FFF",fontFamily:'"Pretendard", sans-serif',fontWeight:500,fontSize:"18px"},credit_body1:{color:"#FAC656",fontFamily:'"Pretendard", sans-serif',fontWeight:700,fontSize:"18px"},credit_body2:{color:"gray",fontFamily:'"Pretendard", sans-serif',fontWeight:400,fontSize:"16px"},success:{fontSize:"14px",fontFamily:'"Pretendard", sans-serif',fontWeight:400,color:"green"},group_member:{fontSize:"14px",color:"#000",fontFamily:'"Pretendard", sans-serif',fontWeight:400}}}),NF=Oi(O.jsx("path",{d:"M12 3 4 9v12h5v-7h6v7h5V9z"}));function FF(){const i=sg();return O.jsx(vt,{className:"leftBottom_floating fully_centeralize homebutton",onClick:()=>{i("/")},children:O.jsx(NF,{fontSize:"large",sx:{color:"#1a1c21"}})})}function WQ(){const[i,t]=M.useState([]),[e,n]=M.useState([]),[s,a]=M.useState(!0);M.useEffect(()=>{(async()=>{a(!0);const h=Wc(Gc(Yc,"pray_board"),kF("created_at")),d=await Kc(h);if(d.empty)console.log("[Warning]No Prays");else{const b=d.docs.map(E=>E.data());t(b)}const p=Wc(Gc(Yc,"users")),y=await Kc(p);if(!y.empty){const b=y.docs.map(E=>E.data());n(b)}a(!1)})()},[]);const l=c=>{const d=bi.now().seconds-c.seconds;return d<60?`${Math.floor(d)} `:d<3600?`${Math.floor(d/60)} `:`${Math.floor(d/86400)} `};return O.jsxs(vt,{className:"wrapper",children:[O.jsx(Qv,{subtitle:""}),O.jsx(I1,{ad_id:"outreach"}),s?O.jsx(iE,{variant:"rectangular",animation:"wave",className:"fullWidth",sx:{mt:2,minHeight:"300px",borderRadius:3}}):O.jsx(vt,{className:"fullWidth",sx:{mt:2},children:i==null?void 0:i.map(c=>{var h;return O.jsxs(vt,{className:"boardCard",children:[O.jsx(xt,{variant:"boardTitle",children:c.title}),O.jsx(xt,{variant:"boardContent",children:c.content}),O.jsx(vt,{sx:{mt:1},children:O.jsxs(xt,{variant:"boardMetadata",children:[l(c.created_at)," | ",c.author_id,"(",(h=e.filter(d=>d.student_id==c.author_id)[0])==null?void 0:h.name,")"]})})]},`pray_${c.created_at}`)})}),O.jsx(FF,{})]})}function KQ({boardType:i=" "}){return O.jsx(vt,{className:"wrapper",children:O.jsx(Qv,{subtitle:i})})}const YQ="modulepreload",XQ=function(i){return"/"+i},aD={},X0=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let l=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(e.map(d=>{if(d=XQ(d),d in aD)return;aD[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":YQ,p||(b.as="script"),b.crossOrigin="",b.href=d,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((E,A)=>{b.addEventListener("load",E),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var ly={};ly.d=(i,t)=>{for(var e in t)ly.o(t,e)&&!ly.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};ly.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var re=globalThis.pdfjsLib={};ly.d(re,{AbortException:()=>yd,AnnotationEditorLayer:()=>jx,AnnotationEditorParamsType:()=>ne,AnnotationEditorType:()=>le,AnnotationEditorUIManager:()=>od,AnnotationLayer:()=>KJ,AnnotationMode:()=>fc,ColorPicker:()=>xE,DOMSVGFactory:()=>jR,DrawLayer:()=>qx,FeatureTest:()=>bs,GlobalWorkerOptions:()=>ul,ImageKind:()=>y_,InvalidPDFException:()=>UF,MissingPDFException:()=>md,OPS:()=>Fr,OutputScale:()=>D1,PDFDataRangeTransport:()=>L3,PDFDateString:()=>DR,PDFWorker:()=>zf,PasswordResponses:()=>tZ,PermissionFlag:()=>JQ,PixelsPerInch:()=>au,RenderingCancelledException:()=>MR,TextLayer:()=>lx,UnexpectedResponseException:()=>DA,Util:()=>Vt,VerbosityLevel:()=>PA,XfaLayer:()=>F3,build:()=>RJ,createValidAbsoluteUrl:()=>sZ,fetchData:()=>NA,getDocument:()=>bJ,getFilenameFromUrl:()=>fZ,getPdfFilenameFromUrl:()=>pZ,getXfaPageViewport:()=>gZ,isDataScheme:()=>FA,isPdfFile:()=>OR,noContextMenu:()=>Ir,normalizeUnicode:()=>uZ,setLayerDimensions:()=>ad,shadow:()=>Ae,version:()=>CJ});const ls=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),VF=[1,0,0,1,0,0],k1=[.001,0,0,.001,0,0],QQ=1e7,TT=1.35,Zs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},fc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ZQ="pdfjs_internal_editor_",le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},JQ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Zi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},y_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Rm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},PA={ERRORS:0,WARNINGS:1,INFOS:5},Fr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},tZ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let MA=PA.WARNINGS;function eZ(i){Number.isInteger(i)&&(MA=i)}function nZ(){return MA}function OA(i){MA>=PA.INFOS&&console.log(`Info: ${i}`)}function de(i){MA>=PA.WARNINGS&&console.log(`Warning: ${i}`)}function mn(i){throw new Error(i)}function yi(i,t){i||mn(t)}function iZ(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sZ(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=cZ(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(iZ(n))return n}catch{}return null}function Ae(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const hu=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class P1 extends hu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class M1 extends hu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class UF extends hu{constructor(t){super(t,"InvalidPDFException")}}class md extends hu{constructor(t){super(t,"MissingPDFException")}}class DA extends hu{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class rZ extends hu{constructor(t){super(t,"FormatError")}}class yd extends hu{constructor(t){super(t,"AbortException")}}function BF(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&mn("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),l=i.subarray(s,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function LA(i){typeof i!="string"&&mn("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function aZ(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function kR(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function oZ(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function lZ(){try{return new Function(""),!0}catch{return!1}}class bs{static get isLittleEndian(){return Ae(this,"isLittleEndian",oZ())}static get isEvalSupported(){return Ae(this,"isEvalSupported",lZ())}static get isOffscreenCanvasSupported(){return Ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ae(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ae(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ae(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const xT=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var gl,v_,O1;class Vt{static makeHexColor(t,e,n){return`#${xT[t]}${xT[e]}${xT[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,a]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),a=this.applyTransform([t[0],t[3]],e),l=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],a[0],l[0]),Math.min(n[1],s[1],a[1],l[1]),Math.max(n[0],s[0],a[0],l[0]),Math.max(n[1],s[1],a[1],l[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],l=t[2]*e[1]+t[3]*e[3],c=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-a*s))/2,d=c+h||1,p=c-h||1;return[Math.sqrt(d),Math.sqrt(p)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[n,a,s,l]}static bezierBoundingBox(t,e,n,s,a,l,c,h,d){return d?(d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h)):d=[Math.min(t,c),Math.min(e,h),Math.max(t,c),Math.max(e,h)],j(this,gl,O1).call(this,t,n,a,c,e,s,l,h,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),d),j(this,gl,O1).call(this,t,n,a,c,e,s,l,h,3*(-e+3*(s-l)+h),6*(e-2*s+l),3*(s-e),d),d}}gl=new WeakSet,v_=function(t,e,n,s,a,l,c,h,d,p){if(d<=0||d>=1)return;const y=1-d,b=d*d,E=b*d,A=y*(y*(y*t+3*d*e)+3*b*n)+E*s,S=y*(y*(y*a+3*d*l)+3*b*c)+E*h;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],S)},O1=function(t,e,n,s,a,l,c,h,d,p,y,b){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&j(this,gl,v_).call(this,t,e,n,s,a,l,c,h,-y/p,b);return}const E=p**2-4*y*d;if(E<0)return;const A=Math.sqrt(E),S=2*d;j(this,gl,v_).call(this,t,e,n,s,a,l,c,h,(-p+A)/S,b),j(this,gl,v_).call(this,t,e,n,s,a,l,c,h,(-p-A)/S,b)},$(Vt,gl);function cZ(i){return decodeURIComponent(escape(i))}let CT=null,oD=null;function uZ(i){return CT||(CT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oD=new Map([["","t"]])),i.replaceAll(CT,(t,e,n)=>e?e.normalize("NFKC"):oD.get(n))}function hZ(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return BF(i)}const PR="pdfjs_internal_id_",Lo={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function dZ(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(BF(i))}const Fo="http://www.w3.org/2000/svg",Zu=class Zu{};Qt(Zu,"CSS",96),Qt(Zu,"PDF",72),Qt(Zu,"PDF_TO_CSS_UNITS",Zu.CSS/Zu.PDF);let au=Zu;async function NA(i,t="text"){if(Fm(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class ab{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=a;const c=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let d,p,y,b;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,p=0,y=0,b=1;break;case 90:d=0,p=1,y=1,b=0;break;case 270:d=0,p=-1,y=-1,b=0;break;case 0:d=1,p=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,b=-b);let E,A,S,C;d===0?(E=Math.abs(h-t[1])*e+s,A=Math.abs(c-t[0])*e+a,S=(t[3]-t[1])*e,C=(t[2]-t[0])*e):(E=Math.abs(c-t[0])*e+s,A=Math.abs(h-t[1])*e+a,S=(t[2]-t[0])*e,C=(t[3]-t[1])*e),this.transform=[d*e,p*e,y*e,b*e,E-d*e*c-y*e*h,A-p*e*c-b*e*h],this.width=S,this.height=C}get rawDims(){const{viewBox:t}=this;return Ae(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new ab({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){return Vt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Vt.applyTransform([t[0],t[1]],this.transform),n=Vt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return Vt.applyInverseTransform([t,e],this.transform)}}class MR extends hu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function FA(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function OR(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function fZ(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function pZ(i,t="document.pdf"){if(typeof i!="string")return t;if(FA(i))return de('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let a=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||t}class lD{constructor(){Qt(this,"started",Object.create(null));Qt(this,"times",[])}time(t){t in this.started&&de(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||de(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Fm(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function Ir(i){i.preventDefault()}function cD(i){console.log("Deprecated API usage: "+i)}var wy;class DR{static toDateObject(t){if(!t||typeof t!="string")return null;g(this,wy)||V(this,wy,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g(this,wy).exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,d==="-"?(l+=p,c+=y):d==="+"&&(l-=p,c-=y),new Date(Date.UTC(n,s,a,l,c,h))}}wy=new WeakMap,$(DR,wy);function gZ(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new ab({viewBox:a,scale:t,rotation:e})}function LR(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(de(`Not a valid color format: "${i}"`),[0,0,0])}function mZ(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,LR(n))}t.remove()}function Rn(i){const{a:t,b:e,c:n,d:s,e:a,f:l}=i.getTransform();return[t,e,n,s,a,l]}function No(i){const{a:t,b:e,c:n,d:s,e:a,f:l}=i.getTransform().invertSelf();return[t,e,n,s,a,l]}function ad(i,t,e=!1,n=!0){if(t instanceof ab){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:l}=i,c=bs.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${a}px`,p=c?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,y=c?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=y):(l.width=y,l.height=p)}n&&i.setAttribute("data-main-rotation",t.rotation)}class D1{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var pc,nh,Vr,ih,Ty,xy,IE,jF,_s,zF,HF,b_,$F,N1;const Vo=class Vo{constructor(t){$(this,_s);$(this,pc,null);$(this,nh,null);$(this,Vr);$(this,ih,null);$(this,Ty,null);V(this,Vr,t),g(Vo,xy)||V(Vo,xy,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=V(this,pc,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=g(this,Vr)._uiManager._signal;t.addEventListener("contextmenu",Ir,{signal:e}),t.addEventListener("pointerdown",j(Vo,IE,jF),{signal:e});const n=V(this,ih,document.createElement("div"));n.className="buttons",t.append(n);const s=g(this,Vr).toolbarPosition;if(s){const{style:a}=t,l=g(this,Vr)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return j(this,_s,$F).call(this),t}get div(){return g(this,pc)}hide(){var t;g(this,pc).classList.add("hidden"),(t=g(this,nh))==null||t.hideDropdown()}show(){var t;g(this,pc).classList.remove("hidden"),(t=g(this,Ty))==null||t.shown()}async addAltText(t){const e=await t.render();j(this,_s,b_).call(this,e),g(this,ih).prepend(e,g(this,_s,N1)),V(this,Ty,t)}addColorPicker(t){V(this,nh,t);const e=t.renderButton();j(this,_s,b_).call(this,e),g(this,ih).prepend(e,g(this,_s,N1))}remove(){var t;g(this,pc).remove(),(t=g(this,nh))==null||t.destroy(),V(this,nh,null)}};pc=new WeakMap,nh=new WeakMap,Vr=new WeakMap,ih=new WeakMap,Ty=new WeakMap,xy=new WeakMap,IE=new WeakSet,jF=function(t){t.stopPropagation()},_s=new WeakSet,zF=function(t){g(this,Vr)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},HF=function(t){g(this,Vr)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},b_=function(t){const e=g(this,Vr)._uiManager._signal;t.addEventListener("focusin",j(this,_s,zF).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",j(this,_s,HF).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ir,{signal:e})},$F=function(){const{editorType:t,_uiManager:e}=g(this,Vr),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(Vo,xy)[t]),j(this,_s,b_).call(this,n),n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),g(this,ih).append(n)},N1=function(){const t=document.createElement("div");return t.className="divider",t},$(Vo,IE),$(Vo,xy,null);let L1=Vo;var Cy,sh,rh,lu,qF,GF,WF;class yZ{constructor(t){$(this,lu);$(this,Cy,null);$(this,sh,null);$(this,rh);V(this,rh,t)}show(t,e,n){const[s,a]=j(this,lu,GF).call(this,e,n),{style:l}=g(this,sh)||V(this,sh,j(this,lu,qF).call(this));t.append(g(this,sh)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,sh).remove()}}Cy=new WeakMap,sh=new WeakMap,rh=new WeakMap,lu=new WeakSet,qF=function(){const t=V(this,sh,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ir,{signal:g(this,rh)._signal});const e=V(this,Cy,document.createElement("div"));return e.className="buttons",t.append(e),j(this,lu,WF).call(this),t},GF=function(t,e){let n=0,s=0;for(const a of t){const l=a.y+a.height;if(l<n)continue;const c=a.x+(e?a.width:0);if(l>n){s=c,n=l;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]},WF=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,rh)._signal;t.addEventListener("contextmenu",Ir,{signal:n}),t.addEventListener("click",()=>{g(this,rh).highlightSelection("floating_button")},{signal:n}),g(this,Cy).append(t)};function SE(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function vZ(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var kE;class bZ{constructor(){$(this,kE,0)}get id(){return`${ZQ}${gs(this,kE)._++}`}}kE=new WeakMap;var qf,Ry,ts,Gf,__;const qR=class qR{constructor(){$(this,Gf);$(this,qf,hZ());$(this,Ry,0);$(this,ts,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ae(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:a}=t;return j(this,Gf,__).call(this,`${e}_${n}_${s}_${a}`,t)}async getFromUrl(t){return j(this,Gf,__).call(this,t,t)}async getFromBlob(t,e){const n=await e;return j(this,Gf,__).call(this,t,n)}async getFromId(t){g(this,ts)||V(this,ts,new Map);const e=g(this,ts).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){g(this,ts)||V(this,ts,new Map);let n=g(this,ts).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${g(this,qf)}_${gs(this,Ry)._++}`,refCounter:1,isSvg:!1},g(this,ts).set(t,n),g(this,ts).set(n.id,n),n}getSvgUrl(t){const e=g(this,ts).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;g(this,ts)||V(this,ts,new Map);const e=g(this,ts).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=a.convertToBlob()}(s=n.close)==null||s.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${g(this,qf)}_`)}};qf=new WeakMap,Ry=new WeakMap,ts=new WeakMap,Gf=new WeakSet,__=async function(t,e){g(this,ts)||V(this,ts,new Map);let n=g(this,ts).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,qf)}_${gs(this,Ry)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(n.url=e,s=await NA(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=qR._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const y=n.svgUrl=l.result;c.src=await a?`${y}#svgView(preserveAspectRatio(none))`:y},c.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return g(this,ts).set(t,n),n&&g(this,ts).set(n.id,n),n};let F1=qR;var Ci,gc,Iy,Ri;class _Z{constructor(t=128){$(this,Ci,[]);$(this,gc,!1);$(this,Iy);$(this,Ri,-1);V(this,Iy,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&t(),g(this,gc))return;const h={cmd:t,undo:e,post:n,type:a};if(g(this,Ri)===-1){g(this,Ci).length>0&&(g(this,Ci).length=0),V(this,Ri,0),g(this,Ci).push(h);return}if(l&&g(this,Ci)[g(this,Ri)].type===a){c&&(h.undo=g(this,Ci)[g(this,Ri)].undo),g(this,Ci)[g(this,Ri)]=h;return}const d=g(this,Ri)+1;d===g(this,Iy)?g(this,Ci).splice(0,1):(V(this,Ri,d),d<g(this,Ci).length&&g(this,Ci).splice(d)),g(this,Ci).push(h)}undo(){if(g(this,Ri)===-1)return;V(this,gc,!0);const{undo:t,post:e}=g(this,Ci)[g(this,Ri)];t(),e==null||e(),V(this,gc,!1),V(this,Ri,g(this,Ri)-1)}redo(){if(g(this,Ri)<g(this,Ci).length-1){V(this,Ri,g(this,Ri)+1),V(this,gc,!0);const{cmd:t,post:e}=g(this,Ci)[g(this,Ri)];t(),e==null||e(),V(this,gc,!1)}}hasSomethingToUndo(){return g(this,Ri)!==-1}hasSomethingToRedo(){return g(this,Ri)<g(this,Ci).length-1}destroy(){V(this,Ci,null)}}Ci=new WeakMap,gc=new WeakMap,Iy=new WeakMap,Ri=new WeakMap;var PE,KF;class ob{constructor(t){$(this,PE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=bs.platform;for(const[n,s,a={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(j(this,PE,KF).call(this,e));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...l,e)(),a||(e.stopPropagation(),e.preventDefault()))}}PE=new WeakSet,KF=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const ME=class ME{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return mZ(t),Ae(this,"_colors",t)}convert(t){const e=LR(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((a,l)=>a===e[l]))return ME._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Vt.makeHexColor(...e):t}};Qt(ME,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let V1=ME;var Wf,$s,pi,Bi,Kf,Bo,Yf,Ur,mc,Xf,ah,xa,Br,oh,ky,Py,Qf,My,Ca,yc,Zf,vc,Ra,OE,bc,Oy,_c,lh,Dy,Ly,Ii,We,jo,ch,Ny,Fy,Ec,Ia,zo,Vy,vr,Rt,E_,U1,YF,XF,A_,QF,ZF,JF,B1,t3,j1,z1,e3,ms,oc,n3,i3,H1,s3,Vm,$1;const Mf=class Mf{constructor(t,e,n,s,a,l,c,h,d,p,y){$(this,Rt);$(this,Wf,new AbortController);$(this,$s,null);$(this,pi,new Map);$(this,Bi,new Map);$(this,Kf,null);$(this,Bo,null);$(this,Yf,null);$(this,Ur,new _Z);$(this,mc,null);$(this,Xf,0);$(this,ah,new Set);$(this,xa,null);$(this,Br,null);$(this,oh,new Set);$(this,ky,!1);$(this,Py,!1);$(this,Qf,!1);$(this,My,null);$(this,Ca,null);$(this,yc,null);$(this,Zf,null);$(this,vc,!1);$(this,Ra,null);$(this,OE,new bZ);$(this,bc,!1);$(this,Oy,!1);$(this,_c,null);$(this,lh,null);$(this,Dy,null);$(this,Ly,null);$(this,Ii,le.NONE);$(this,We,new Set);$(this,jo,null);$(this,ch,null);$(this,Ny,null);$(this,Fy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});$(this,Ec,[0,0]);$(this,Ia,null);$(this,zo,null);$(this,Vy,null);$(this,vr,null);const b=this._signal=g(this,Wf).signal;V(this,zo,t),V(this,Vy,e),V(this,Kf,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:b}),j(this,Rt,QF).call(this),j(this,Rt,e3).call(this),j(this,Rt,B1).call(this),V(this,Bo,a.annotationStorage),V(this,My,a.filterFactory),V(this,ch,l),V(this,Zf,c||null),V(this,ky,h),V(this,Py,d),V(this,Qf,p),V(this,Ly,y||null),this.viewParameters={realScale:au.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Mf.prototype,e=l=>g(l,zo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new ob([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&g(l,zo).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&g(l,zo).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,n,s;(t=g(this,vr))==null||t.resolve(),V(this,vr,null),(e=g(this,Wf))==null||e.abort(),V(this,Wf,null),this._signal=null;for(const a of g(this,Bi).values())a.destroy();g(this,Bi).clear(),g(this,pi).clear(),g(this,oh).clear(),V(this,$s,null),g(this,We).clear(),g(this,Ur).destroy(),(n=g(this,Kf))==null||n.destroy(),(s=g(this,Ra))==null||s.hide(),V(this,Ra,null),g(this,Ca)&&(clearTimeout(g(this,Ca)),V(this,Ca,null)),g(this,Ia)&&(clearTimeout(g(this,Ia)),V(this,Ia,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return g(this,Ly)}get useNewAltTextFlow(){return g(this,Py)}get useNewAltTextWhenAddingImage(){return g(this,Qf)}get hcmFilter(){return Ae(this,"hcmFilter",g(this,ch)?g(this,My).addHCMFilter(g(this,ch).foreground,g(this,ch).background):"none")}get direction(){return Ae(this,"direction",getComputedStyle(g(this,zo)).direction)}get highlightColors(){return Ae(this,"highlightColors",g(this,Zf)?new Map(g(this,Zf).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ae(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){V(this,Dy,t)}editAltText(t,e=!1){var n;(n=g(this,Kf))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":V(this,Qf,e);break}}onPageChanging({pageNumber:t}){V(this,Xf,t-1)}focusMainContainer(){g(this,zo).focus()}findParent(t,e){for(const n of g(this,Bi).values()){const{x:s,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+l&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){g(this,Vy).classList.toggle("noUserSelect",t)}addShouldRescale(t){g(this,oh).add(t)}removeShouldRescale(t){g(this,oh).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*au.PDF_TO_CSS_UNITS;for(const e of g(this,oh))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l}=e,c=e.toString(),d=j(this,Rt,E_).call(this,e).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;e.empty();const y=j(this,Rt,U1).call(this,d),b=g(this,Ii)===le.NONE,E=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(le.HIGHLIGHT,E);return}E()}addToAnnotationStorage(t){!t.isEmpty()&&g(this,Bo)&&!g(this,Bo).has(t.id)&&g(this,Bo).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,g(this,vc)&&(V(this,vc,!1),j(this,Rt,A_).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of g(this,We))if(e.div.contains(t)){V(this,lh,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!g(this,lh))return;const[t,e]=g(this,lh);V(this,lh,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){j(this,Rt,B1).call(this),j(this,Rt,j1).call(this)}removeEditListeners(){j(this,Rt,t3).call(this),j(this,Rt,z1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of g(this,Br))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of g(this,Br))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=g(this,$s))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of g(this,We)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of g(this,Br))if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){de(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of n){const d=await s.deserialize(h);if(!d)return;a.push(d)}const l=()=>{for(const h of a)j(this,Rt,H1).call(this,h);j(this,Rt,$1).call(this,a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){de(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,Ii)!==le.NONE&&!this.isEditorHandlingKeyboard&&Mf._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,vc)&&(V(this,vc,!1),j(this,Rt,A_).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(j(this,Rt,ZF).call(this),j(this,Rt,j1).call(this),j(this,Rt,ms).call(this,{isEditing:g(this,Ii)!==le.NONE,isEmpty:j(this,Rt,Vm).call(this),hasSomethingToUndo:g(this,Ur).hasSomethingToUndo(),hasSomethingToRedo:g(this,Ur).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,Rt,JF).call(this),j(this,Rt,z1).call(this),j(this,Rt,ms).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!g(this,Br)){V(this,Br,t);for(const e of g(this,Br))j(this,Rt,oc).call(this,e.defaultPropertiesToUpdate)}}getId(){return g(this,OE).id}get currentLayer(){return g(this,Bi).get(g(this,Xf))}getLayer(t){return g(this,Bi).get(t)}get currentPageIndex(){return g(this,Xf)}addLayer(t){g(this,Bi).set(t.pageIndex,t),g(this,bc)?t.enable():t.disable()}removeLayer(t){g(this,Bi).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(g(this,Ii)!==t&&!(g(this,vr)&&(await g(this,vr).promise,!g(this,vr)))){if(V(this,vr,Promise.withResolvers()),V(this,Ii,t),t===le.NONE){this.setEditingState(!1),j(this,Rt,i3).call(this),g(this,vr).resolve();return}this.setEditingState(!0),await j(this,Rt,n3).call(this),this.unselectAll();for(const s of g(this,Bi).values())s.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),g(this,vr).resolve();return}for(const s of g(this,pi).values())s.annotationElementId===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();g(this,vr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==g(this,Ii)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(g(this,Br)){switch(t){case ne.CREATE:this.currentLayer.addNewEditor();return;case ne.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,Dy))==null||n.updateColor(e);break;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Ny)||V(this,Ny,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of g(this,We))s.updateParams(t,e);for(const s of g(this,Br))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var a;for(const l of g(this,pi).values())l.editorType===t&&l.show(e);(((a=g(this,Ny))==null?void 0:a.get(ne.HIGHLIGHT_SHOW_ALL))??!0)!==e&&j(this,Rt,oc).call(this,[[ne.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(g(this,Oy)!==t){V(this,Oy,t);for(const e of g(this,Bi).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of g(this,pi).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return g(this,pi).get(t)}addEditor(t){g(this,pi).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(g(this,Ca)&&clearTimeout(g(this,Ca)),V(this,Ca,setTimeout(()=>{this.focusMainContainer(),V(this,Ca,null)},0))),g(this,pi).delete(t.id),this.unselect(t),(!t.annotationElementId||!g(this,ah).has(t.annotationElementId))&&((e=g(this,Bo))==null||e.remove(t.id))}addDeletedAnnotationElement(t){g(this,ah).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return g(this,ah).has(t)}removeDeletedAnnotationElement(t){g(this,ah).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){g(this,$s)!==t&&(V(this,$s,t),t&&j(this,Rt,oc).call(this,t.propertiesToUpdate))}updateUI(t){g(this,Rt,s3)===t&&j(this,Rt,oc).call(this,t.propertiesToUpdate)}toggleSelected(t){if(g(this,We).has(t)){g(this,We).delete(t),t.unselect(),j(this,Rt,ms).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,We).add(t),t.select(),j(this,Rt,oc).call(this,t.propertiesToUpdate),j(this,Rt,ms).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of g(this,We))e!==t&&e.unselect();g(this,We).clear(),g(this,We).add(t),t.select(),j(this,Rt,oc).call(this,t.propertiesToUpdate),j(this,Rt,ms).call(this,{hasSelectedEditor:!0})}isSelected(t){return g(this,We).has(t)}get firstSelectedEditor(){return g(this,We).values().next().value}unselect(t){t.unselect(),g(this,We).delete(t),j(this,Rt,ms).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,We).size!==0}get isEnterHandled(){return g(this,We).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,Ur).undo(),j(this,Rt,ms).call(this,{hasSomethingToUndo:g(this,Ur).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,Rt,Vm).call(this)})}redo(){g(this,Ur).redo(),j(this,Rt,ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Ur).hasSomethingToRedo(),isEmpty:j(this,Rt,Vm).call(this)})}addCommands(t){g(this,Ur).add(t),j(this,Rt,ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,Rt,Vm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...g(this,We)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)j(this,Rt,H1).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=g(this,$s))==null||t.commitOrRemove()}hasSomethingToControl(){return g(this,$s)||this.hasSelection}selectAll(){for(const t of g(this,We))t.commit();j(this,Rt,$1).call(this,g(this,pi).values())}unselectAll(){if(!(g(this,$s)&&(g(this,$s).commitOrRemove(),g(this,Ii)!==le.NONE))&&this.hasSelection){for(const t of g(this,We))t.unselect();g(this,We).clear(),j(this,Rt,ms).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Ec)[0]+=t,g(this,Ec)[1]+=e;const[s,a]=g(this,Ec),l=[...g(this,We)],c=1e3;g(this,Ia)&&clearTimeout(g(this,Ia)),V(this,Ia,setTimeout(()=>{V(this,Ia,null),g(this,Ec)[0]=g(this,Ec)[1]=0,this.addCommands({cmd:()=>{for(const h of l)g(this,pi).has(h.id)&&h.translateInPage(s,a)},undo:()=>{for(const h of l)g(this,pi).has(h.id)&&h.translateInPage(-s,-a)},mustExec:!1})},c));for(const h of l)h.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),V(this,xa,new Map);for(const t of g(this,We))g(this,xa).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,xa))return!1;this.disableUserSelect(!1);const t=g(this,xa);V(this,xa,null);let e=!1;for(const[{x:s,y:a,pageIndex:l},c]of t)c.newX=s,c.newY=a,c.newPageIndex=l,e||(e=s!==c.savedX||a!==c.savedY||l!==c.savedPageIndex);if(!e)return!1;const n=(s,a,l,c)=>{if(g(this,pi).has(s.id)){const h=g(this,Bi).get(c);h?s._setParentAndPosition(h,a,l):(s.pageIndex=c,s.x=a,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:l,newPageIndex:c}]of t)n(s,a,l,c)},undo:()=>{for(const[s,{savedX:a,savedY:l,savedPageIndex:c}]of t)n(s,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(g(this,xa))for(const n of g(this,xa).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||g(this,We).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return g(this,$s)===t}getActive(){return g(this,$s)}getMode(){return g(this,Ii)}get imageManager(){return Ae(this,"imageManager",new F1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,y,b)=>({x:(p-s)/l,y:1-(d+y-n)/a,width:b/l,height:y/a});break;case"180":c=(d,p,y,b)=>({x:1-(d+y-n)/a,y:1-(p+b-s)/l,width:y/a,height:b/l});break;case"270":c=(d,p,y,b)=>({x:1-(p+b-s)/l,y:(d-n)/a,width:b/l,height:y/a});break;default:c=(d,p,y,b)=>({x:(d-n)/a,y:(p-s)/l,width:y/a,height:b/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const y=e.getRangeAt(d);if(!y.collapsed)for(const{x:b,y:E,width:A,height:S}of y.getClientRects())A===0||S===0||h.push(c(b,E,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(g(this,Yf)||V(this,Yf,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=g(this,Yf))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=g(this,Yf))==null?void 0:s.get(t.data.id);if(!e)return;const n=g(this,Bo).getRawValue(e);n&&(g(this,Ii)===le.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Wf=new WeakMap,$s=new WeakMap,pi=new WeakMap,Bi=new WeakMap,Kf=new WeakMap,Bo=new WeakMap,Yf=new WeakMap,Ur=new WeakMap,mc=new WeakMap,Xf=new WeakMap,ah=new WeakMap,xa=new WeakMap,Br=new WeakMap,oh=new WeakMap,ky=new WeakMap,Py=new WeakMap,Qf=new WeakMap,My=new WeakMap,Ca=new WeakMap,yc=new WeakMap,Zf=new WeakMap,vc=new WeakMap,Ra=new WeakMap,OE=new WeakMap,bc=new WeakMap,Oy=new WeakMap,_c=new WeakMap,lh=new WeakMap,Dy=new WeakMap,Ly=new WeakMap,Ii=new WeakMap,We=new WeakMap,jo=new WeakMap,ch=new WeakMap,Ny=new WeakMap,Fy=new WeakMap,Ec=new WeakMap,Ia=new WeakMap,zo=new WeakMap,Vy=new WeakMap,vr=new WeakMap,Rt=new WeakSet,E_=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},U1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of g(this,Bi).values())if(n.hasTextLayer(t))return n;return null},YF=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=j(this,Rt,E_).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(g(this,Ra)||V(this,Ra,new yZ(this)),g(this,Ra).show(n,s,this.direction==="ltr"))},XF=function(){var a,l,c;const t=document.getSelection();if(!t||t.isCollapsed){g(this,jo)&&((a=g(this,Ra))==null||a.hide(),V(this,jo,null),j(this,Rt,ms).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===g(this,jo))return;const s=j(this,Rt,E_).call(this,t).closest(".textLayer");if(!s){g(this,jo)&&((l=g(this,Ra))==null||l.hide(),V(this,jo,null),j(this,Rt,ms).call(this,{hasSelectedText:!1}));return}if((c=g(this,Ra))==null||c.hide(),V(this,jo,e),j(this,Rt,ms).call(this,{hasSelectedText:!0}),!(g(this,Ii)!==le.HIGHLIGHT&&g(this,Ii)!==le.NONE)&&(g(this,Ii)===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),V(this,vc,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=g(this,Ii)===le.HIGHLIGHT?j(this,Rt,U1).call(this,s):null;h==null||h.toggleDrawing();const d=new AbortController,p=this.combinedSignal(d),y=b=>{b.type==="pointerup"&&b.button!==0||(d.abort(),h==null||h.toggleDrawing(!0),b.type==="pointerup"&&j(this,Rt,A_).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:p}),window.addEventListener("blur",y,{signal:p})}},A_=function(t=""){g(this,Ii)===le.HIGHLIGHT?this.highlightSelection(t):g(this,ky)&&j(this,Rt,YF).call(this)},QF=function(){document.addEventListener("selectionchange",j(this,Rt,XF).bind(this),{signal:this._signal})},ZF=function(){if(g(this,yc))return;V(this,yc,new AbortController);const t=this.combinedSignal(g(this,yc));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},JF=function(){var t;(t=g(this,yc))==null||t.abort(),V(this,yc,null)},B1=function(){if(g(this,_c))return;V(this,_c,new AbortController);const t=this.combinedSignal(g(this,_c));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},t3=function(){var t;(t=g(this,_c))==null||t.abort(),V(this,_c,null)},j1=function(){if(g(this,mc))return;V(this,mc,new AbortController);const t=this.combinedSignal(g(this,mc));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},z1=function(){var t;(t=g(this,mc))==null||t.abort(),V(this,mc,null)},e3=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ms=function(t){Object.entries(t).some(([n,s])=>g(this,Fy)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Fy),t)}),g(this,Ii)===le.HIGHLIGHT&&t.hasSelectedEditor===!1&&j(this,Rt,oc).call(this,[[ne.HIGHLIGHT_FREE,!0]]))},oc=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},n3=async function(){if(!g(this,bc)){V(this,bc,!0);const t=[];for(const e of g(this,Bi).values())t.push(e.enable());await Promise.all(t);for(const e of g(this,pi).values())e.enable()}},i3=function(){if(this.unselectAll(),g(this,bc)){V(this,bc,!1);for(const t of g(this,Bi).values())t.disable();for(const t of g(this,pi).values())t.disable()}},H1=function(t){const e=g(this,Bi).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},s3=function(){let t=null;for(t of g(this,We));return t},Vm=function(){if(g(this,pi).size===0)return!0;if(g(this,pi).size===1)for(const t of g(this,pi).values())return t.isEmpty();return!1},$1=function(t){for(const e of g(this,We))e.unselect();g(this,We).clear();for(const e of t)e.isEmpty()||(g(this,We).add(e),e.select());j(this,Rt,ms).call(this,{hasSelectedEditor:this.hasSelection})},Qt(Mf,"TRANSLATE_SMALL",1),Qt(Mf,"TRANSLATE_BIG",10);let od=Mf;var ki,ka,jr,Jf,Pa,qs,tp,Ma,Cs,Ho,uh,Oa,Ac,ea,Um,S_;const ys=class ys{constructor(t){$(this,ea);$(this,ki,null);$(this,ka,!1);$(this,jr,null);$(this,Jf,null);$(this,Pa,null);$(this,qs,null);$(this,tp,!1);$(this,Ma,null);$(this,Cs,null);$(this,Ho,null);$(this,uh,null);$(this,Oa,!1);V(this,Cs,t),V(this,Oa,t._uiManager.useNewAltTextFlow),g(ys,Ac)||V(ys,Ac,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ys._l10n??(ys._l10n=t)}async render(){const t=V(this,jr,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=V(this,Jf,document.createElement("span"));t.append(e),g(this,Oa)?(t.classList.add("new"),t.setAttribute("data-l10n-id",g(ys,Ac).missing),e.setAttribute("data-l10n-id",g(ys,Ac)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,Cs)._uiManager._signal;t.addEventListener("contextmenu",Ir,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),g(this,Cs)._uiManager.editAltText(g(this,Cs)),g(this,Oa)&&g(this,Cs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,ea,Um)}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(V(this,tp,!0),s(a))},{signal:n}),await j(this,ea,S_).call(this),t}finish(){g(this,jr)&&(g(this,jr).focus({focusVisible:g(this,tp)}),V(this,tp,!1))}isEmpty(){return g(this,Oa)?g(this,ki)===null:!g(this,ki)&&!g(this,ka)}hasData(){return g(this,Oa)?g(this,ki)!==null||!!g(this,Ho):this.isEmpty()}get guessedText(){return g(this,Ho)}async setGuessedText(t){g(this,ki)===null&&(V(this,Ho,t),V(this,uh,await ys._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),j(this,ea,S_).call(this))}toggleAltTextBadge(t=!1){var e;if(!g(this,Oa)||g(this,ki)){(e=g(this,Ma))==null||e.remove(),V(this,Ma,null);return}if(!g(this,Ma)){const n=V(this,Ma,document.createElement("div"));n.className="noAltTextBadge",g(this,Cs).div.append(n)}g(this,Ma).classList.toggle("hidden",!t)}serialize(t){let e=g(this,ki);return!t&&g(this,Ho)===e&&(e=g(this,uh)),{altText:e,decorative:g(this,ka),guessedText:g(this,Ho),textWithDisclaimer:g(this,uh)}}get data(){return{altText:g(this,ki),decorative:g(this,ka)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(V(this,Ho,n),V(this,uh,s)),!(g(this,ki)===t&&g(this,ka)===e)&&(a||(V(this,ki,t),V(this,ka,e)),j(this,ea,S_).call(this))}toggle(t=!1){g(this,jr)&&(!t&&g(this,qs)&&(clearTimeout(g(this,qs)),V(this,qs,null)),g(this,jr).disabled=!t)}shown(){g(this,Cs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,ea,Um)}})}destroy(){var t,e;(t=g(this,jr))==null||t.remove(),V(this,jr,null),V(this,Jf,null),V(this,Pa,null),(e=g(this,Ma))==null||e.remove(),V(this,Ma,null)}};ki=new WeakMap,ka=new WeakMap,jr=new WeakMap,Jf=new WeakMap,Pa=new WeakMap,qs=new WeakMap,tp=new WeakMap,Ma=new WeakMap,Cs=new WeakMap,Ho=new WeakMap,uh=new WeakMap,Oa=new WeakMap,Ac=new WeakMap,ea=new WeakSet,Um=function(){return g(this,ki)&&"added"||g(this,ki)===null&&this.guessedText&&"review"||"missing"},S_=async function(){var s,a,l;const t=g(this,jr);if(!t)return;if(g(this,Oa)){if(t.classList.toggle("done",!!g(this,ki)),t.setAttribute("data-l10n-id",g(ys,Ac)[g(this,ea,Um)]),(s=g(this,Jf))==null||s.setAttribute("data-l10n-id",g(ys,Ac)[`${g(this,ea,Um)}-label`]),!g(this,ki)){(a=g(this,Pa))==null||a.remove();return}}else{if(!g(this,ki)&&!g(this,ka)){t.classList.remove("done"),(l=g(this,Pa))==null||l.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=g(this,Pa);if(!e){V(this,Pa,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${g(this,Cs).id}`;const c=100,h=g(this,Cs)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(g(this,qs)),V(this,qs,null)},{once:!0}),t.addEventListener("mouseenter",()=>{V(this,qs,setTimeout(()=>{V(this,qs,null),g(this,Pa).classList.add("show"),g(this,Cs)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),t.addEventListener("mouseleave",()=>{var d;g(this,qs)&&(clearTimeout(g(this,qs)),V(this,qs,null)),(d=g(this,Pa))==null||d.classList.remove("show")},{signal:h})}g(this,ka)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=g(this,ki)),e.parentNode||t.append(e);const n=g(this,Cs).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},$(ys,Ac,null),Qt(ys,"_l10n",null);let wE=ys;var hh,zr,xn,ep,dh,ji,fh,Sc,Uy,ph,wc,By,gh,$o,Da,np,ip,br,jy,DE,ce,q1,zy,G1,W1,r3,a3,K1,Y1,X1,o3,Q1,l3,c3,u3,Z1,Bm;const ze=class ze{constructor(t){$(this,ce);$(this,hh,null);$(this,zr,null);$(this,xn,null);$(this,ep,!1);$(this,dh,!1);$(this,ji,null);$(this,fh,null);$(this,Sc,null);$(this,Uy,"");$(this,ph,!1);$(this,wc,null);$(this,By,!1);$(this,gh,!1);$(this,$o,!1);$(this,Da,null);$(this,np,0);$(this,ip,0);$(this,br,null);Qt(this,"_editToolbar",null);Qt(this,"_initialOptions",Object.create(null));Qt(this,"_initialData",null);Qt(this,"_isVisible",!0);Qt(this,"_uiManager",null);Qt(this,"_focusEventsAllowed",!0);$(this,jy,!1);$(this,DE,ze._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ze.prototype._resizeWithKeyboard,e=od.TRANSLATE_SMALL,n=od.TRANSLATE_BIG;return Ae(this,"_resizerKeyboardManager",new ob([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],ze.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ae(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new EZ({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ze._l10n??(ze._l10n=t),ze._l10nResizer||(ze._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ze._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ze._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){mn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,jy)}set _isDraggable(t){var e;V(this,jy,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,DE)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):j(this,ce,Bm).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(g(this,ph)?V(this,ph,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[a,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/a,this.y=(e+s)/l,this.fixAndSetPosition()}translate(t,e){j(this,ce,q1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){g(this,wc)||V(this,wc,[this.x,this.y]),j(this,ce,q1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){g(this,wc)||V(this,wc,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,h]=this.getBaseTranslation();a+=c,l+=h,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,wc)&&(g(this,wc)[0]!==this.x||g(this,wc)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=ze,s=n/t,a=n/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:a,width:l,height:c}=this;if(l*=e,c*=n,s*=e,a*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-l,s)),a=Math.max(0,Math.min(n-c,a));break;case 90:s=Math.max(0,Math.min(e-c,s)),a=Math.min(n,Math.max(l,a));break;case 180:s=Math.min(e,Math.max(l,s)),a=Math.min(n,Math.max(c,a));break;case 270:s=Math.min(e,Math.max(c,s)),a=Math.max(0,Math.min(n-l,a));break}this.x=s/=e,this.y=a/=n;const[h,d]=this.getBaseTranslation();s+=h,a+=d;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return j(n=ze,zy,G1).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return j(n=ze,zy,G1).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,g(this,dh)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),a=!g(this,dh)&&e.endsWith("%");if(s&&a)return;const[l,c]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!g(this,dh)&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=g(this,xn))==null||t.finish()}async addEditToolbar(){return this._editToolbar||g(this,gh)?this._editToolbar:(this._editToolbar=new L1(this),this.div.append(this._editToolbar.render()),g(this,xn)&&await this._editToolbar.addAltText(g(this,xn)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=g(this,xn))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,xn)||(wE.initialize(ze._l10n),V(this,xn,new wE(this)),g(this,hh)&&(g(this,xn).data=g(this,hh),V(this,hh,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=g(this,xn))==null?void 0:t.data}set altTextData(t){g(this,xn)&&(g(this,xn).data=t)}get guessedAltText(){var t;return(t=g(this,xn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=g(this,xn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=g(this,xn))==null?void 0:e.serialize(t)}hasAltText(){return!!g(this,xn)&&!g(this,xn).isEmpty()}hasAltTextData(){var t;return((t=g(this,xn))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,ep)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),j(this,ce,Q1).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),SE(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=bs.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(V(this,ph,!0),this._isDraggable){j(this,ce,o3).call(this,t);return}j(this,ce,X1).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,Da)&&clearTimeout(g(this,Da)),V(this,Da,setTimeout(()=>{var t;V(this,Da,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/s,p=e/s,y=this.x*a,b=this.y*l,E=this.width*a,A=this.height*l;switch(n){case 0:return[y+d+c,l-b-p-A+h,y+d+E+c,l-b-p+h];case 90:return[y+p+c,l-b+d+h,y+p+A+c,l-b+d+E+h];case 180:return[y-d-E+c,l-b+p+h,y-d+c,l-b+p+A+h];case 270:return[y-p-A+c,l-b-d-E+h,y-p+c,l-b-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,a,l]=t,c=a-n,h=l-s;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-s,h,c];case 180:return[a,e-s,c,h];case 270:return[a,e-l,h,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){V(this,gh,!0)}disableEditMode(){V(this,gh,!1)}isInEditMode(){return g(this,gh)}shouldGetKeyboardEvents(){return g(this,$o)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){j(this,ce,Q1).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){mn("An editor must be serializable")}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,V(s,hh,t.accessibilityData);const[a,l]=s.pageDimensions,[c,h,d,p]=s.getRectInCurrentCoords(t.rect,l);return s.x=c/a,s.y=h/l,s.width=d/a,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=g(this,Sc))==null||t.abort(),V(this,Sc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Da)&&(clearTimeout(g(this,Da)),V(this,Da,null)),j(this,ce,Bm).call(this),this.removeEditToolbar(),g(this,br)){for(const e of g(this,br).values())clearTimeout(e);V(this,br,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,ce,r3).call(this),g(this,ji).classList.remove("hidden"),SE(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),V(this,fh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=g(this,ji).children;if(!g(this,zr)){V(this,zr,Array.from(e));const l=j(this,ce,l3).bind(this),c=j(this,ce,c3).bind(this),h=this._uiManager._signal;for(const d of g(this,zr)){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",j(this,ce,u3).bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",ze._l10nResizer[p])}}const n=g(this,zr)[0];let s=0;for(const l of e){if(l===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(g(this,zr).length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)g(this,ji).append(g(this,ji).firstChild);else if(a>s)for(let c=0;c<a-s;c++)g(this,ji).firstChild.before(g(this,ji).lastChild);let l=0;for(const c of e){const d=g(this,zr)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",ze._l10nResizer[d])}}j(this,ce,Z1).call(this,0),V(this,$o,!0),g(this,ji).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){g(this,$o)&&j(this,ce,Y1).call(this,g(this,Uy),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){j(this,ce,Bm).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(n=g(this,xn))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,s,a;(t=g(this,ji))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=g(this,xn))==null||a.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,By)}set isEditing(t){V(this,By,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){V(this,dh,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){g(this,br)||V(this,br,new Map);const{action:n}=t;let s=g(this,br).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),g(this,br).delete(n),g(this,br).size===0&&V(this,br,null)},ze._telemetryTimeout),g(this,br).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),V(this,ep,!1)}disable(){this.div&&(this.div.tabIndex=-1),V(this,ep,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};hh=new WeakMap,zr=new WeakMap,xn=new WeakMap,ep=new WeakMap,dh=new WeakMap,ji=new WeakMap,fh=new WeakMap,Sc=new WeakMap,Uy=new WeakMap,ph=new WeakMap,wc=new WeakMap,By=new WeakMap,gh=new WeakMap,$o=new WeakMap,Da=new WeakMap,np=new WeakMap,ip=new WeakMap,br=new WeakMap,jy=new WeakMap,DE=new WeakMap,ce=new WeakSet,q1=function([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this.fixAndSetPosition()},zy=new WeakSet,G1=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},W1=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},r3=function(){if(g(this,ji))return;V(this,ji,document.createElement("div")),g(this,ji).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");g(this,ji).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",j(this,ce,a3).bind(this,n),{signal:e}),s.addEventListener("contextmenu",Ir,{signal:e}),s.tabIndex=-1}this.div.prepend(g(this,ji))},a3=function(t,e){var A;e.preventDefault();const{isMac:n}=bs.platform;if(e.button!==0||e.ctrlKey&&n)return;(A=g(this,xn))==null||A.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",j(this,ce,Y1).bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",Ir,{signal:l});const c=this.x,h=this.y,d=this.width,p=this.height,y=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const E=()=>{var S;a.abort(),this.parent.togglePointerEvents(!0),(S=g(this,xn))==null||S.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=y,this.div.style.cursor=b,j(this,ce,K1).call(this,c,h,d,p)};window.addEventListener("pointerup",E,{signal:l}),window.addEventListener("blur",E,{signal:l})},K1=function(t,e,n,s){const a=this.x,l=this.y,c=this.width,h=this.height;a===t&&l===e&&c===n&&h===s||this.addCommands({cmd:()=>{this.width=c,this.height=h,this.x=a,this.y=l;const[d,p]=this.parentDimensions;this.setDims(d*c,p*h),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=t,this.y=e;const[d,p]=this.parentDimensions;this.setDims(d*n,p*s),this.fixAndSetPosition()},mustExec:!0})},Y1=function(t,e){const[n,s]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,d=ze.MIN_SIZE/n,p=ze.MIN_SIZE/s,y=Q=>Math.round(Q*1e4)/1e4,b=j(this,ce,W1).call(this,this.rotation),E=(Q,at)=>[b[0]*Q+b[2]*at,b[1]*Q+b[3]*at],A=j(this,ce,W1).call(this,360-this.rotation),S=(Q,at)=>[A[0]*Q+A[2]*at,A[1]*Q+A[3]*at];let C,x,F=!1,k=!1;switch(t){case"topLeft":F=!0,C=(Q,at)=>[0,0],x=(Q,at)=>[Q,at];break;case"topMiddle":C=(Q,at)=>[Q/2,0],x=(Q,at)=>[Q/2,at];break;case"topRight":F=!0,C=(Q,at)=>[Q,0],x=(Q,at)=>[0,at];break;case"middleRight":k=!0,C=(Q,at)=>[Q,at/2],x=(Q,at)=>[0,at/2];break;case"bottomRight":F=!0,C=(Q,at)=>[Q,at],x=(Q,at)=>[0,0];break;case"bottomMiddle":C=(Q,at)=>[Q/2,at],x=(Q,at)=>[Q/2,0];break;case"bottomLeft":F=!0,C=(Q,at)=>[0,at],x=(Q,at)=>[Q,0];break;case"middleLeft":k=!0,C=(Q,at)=>[0,at/2],x=(Q,at)=>[Q,at/2];break}const D=C(c,h),U=x(c,h);let W=E(...U);const L=y(a+W[0]),R=y(l+W[1]);let N=1,T=1,[B,q]=this.screenToPageTranslation(e.movementX,e.movementY);if([B,q]=S(B/n,q/s),F){const Q=Math.hypot(c,h);N=T=Math.max(Math.min(Math.hypot(U[0]-D[0]-B,U[1]-D[1]-q)/Q,1/c,1/h),d/c,p/h)}else k?N=Math.max(d,Math.min(1,Math.abs(U[0]-D[0]-B)))/c:T=Math.max(p,Math.min(1,Math.abs(U[1]-D[1]-q)))/h;const z=y(c*N),ct=y(h*T);W=E(...x(z,ct));const nt=L-W[0],Y=R-W[1];this.width=z,this.height=ct,this.x=nt,this.y=Y,this.setDims(n*z,s*ct),this.fixAndSetPosition()},X1=function(t){const{isMac:e}=bs.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},o3=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),V(this,np,t.clientX),V(this,ip,t.clientY);const l=c=>{const{clientX:h,clientY:d}=c,[p,y]=this.screenToPageTranslation(h-g(this,np),d-g(this,ip));V(this,np,h),V(this,ip,d),this._uiManager.dragSelectedEditors(p,y)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:s})}const a=()=>{n.abort(),e&&this.div.classList.remove("moving"),V(this,ph,!1),this._uiManager.endDragSession()||j(this,ce,X1).call(this,t)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},Q1=function(){if(g(this,Sc)||!this.div)return;V(this,Sc,new AbortController);const t=this._uiManager.combinedSignal(g(this,Sc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},l3=function(t){ze._resizerKeyboardManager.exec(this,t)},c3=function(t){var e;g(this,$o)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==g(this,ji)&&j(this,ce,Bm).call(this)},u3=function(t){V(this,Uy,g(this,$o)?t:"")},Z1=function(t){if(g(this,zr))for(const e of g(this,zr))e.tabIndex=t},Bm=function(){if(V(this,$o,!1),j(this,ce,Z1).call(this,-1),g(this,fh)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=g(this,fh);j(this,ce,K1).call(this,t,e,n,s),V(this,fh,null)}},$(ze,zy),Qt(ze,"_l10n",null),Qt(ze,"_l10nResizer",null),Qt(ze,"_borderLineWidth",-1),Qt(ze,"_colorManager",new V1),Qt(ze,"_zIndex",1),Qt(ze,"_telemetryTimeout",1e3);let Ye=ze;class EZ extends Ye{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const uD=3285377520,yr=4294901760,wa=65535;class h3{constructor(t){this.h1=t?t&4294967295:uD,this.h2=t?t&4294967295:uD}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,C=t.length;S<C;S++){const x=t.charCodeAt(S);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,l=new Uint32Array(e.buffer,0,s);let c=0,h=0,d=this.h1,p=this.h2;const y=3432918353,b=461845907,E=y&wa,A=b&wa;for(let S=0;S<s;S++)S&1?(c=l[S],c=c*y&yr|c*E&wa,c=c<<15|c>>>17,c=c*b&yr|c*A&wa,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[S],h=h*y&yr|h*E&wa,h=h<<15|h>>>17,h=h*b&yr|h*A&wa,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*y&yr|c*E&wa,c=c<<15|c>>>17,c=c*b&yr|c*A&wa,s&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&yr|t*36045&wa,e=e*4283543511&yr|((e<<16|t>>>16)*2950163797&yr)>>>16,t^=e>>>1,t=t*444984403&yr|t*60499&wa,e=e*3301882366&yr|((e<<16|t>>>16)*3120437893&yr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const J1=Object.freeze({map:null,hash:"",transfer:void 0});var mh,yh,Pi,LE,d3;class NR{constructor(){$(this,LE);$(this,mh,!1);$(this,yh,null);$(this,Pi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=g(this,Pi).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return g(this,Pi).get(t)}remove(t){if(g(this,Pi).delete(t),g(this,Pi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of g(this,Pi).values())if(e instanceof Ye)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=g(this,Pi).get(t);let s=!1;if(n!==void 0)for(const[a,l]of Object.entries(e))n[a]!==l&&(s=!0,n[a]=l);else s=!0,g(this,Pi).set(t,e);s&&j(this,LE,d3).call(this),e instanceof Ye&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return g(this,Pi).has(t)}getAll(){return g(this,Pi).size>0?kR(g(this,Pi)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return g(this,Pi).size}resetModified(){g(this,mh)&&(V(this,mh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f3(this)}get serializable(){if(g(this,Pi).size===0)return J1;const t=new Map,e=new h3,n=[],s=Object.create(null);let a=!1;for(const[l,c]of g(this,Pi)){const h=c instanceof Ye?c.serialize(!1,s):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:J1}get editorStats(){let t=null;const e=new Map;for(const n of g(this,Pi).values()){if(!(n instanceof Ye))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const l=t[a]||(t[a]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const p=d.get(h)??0;d.set(h,p+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){V(this,yh,null)}get modifiedIds(){if(g(this,yh))return g(this,yh);const t=[];for(const e of g(this,Pi).values())!(e instanceof Ye)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return V(this,yh,{ids:new Set(t),hash:t.join(",")})}}mh=new WeakMap,yh=new WeakMap,Pi=new WeakMap,LE=new WeakSet,d3=function(){g(this,mh)||(V(this,mh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hy;class f3 extends NR{constructor(e){super();$(this,Hy);const{map:n,hash:s,transfer:a}=e.serializable,l=structuredClone(n,a?{transfer:a}:null);V(this,Hy,{map:l,hash:s,transfer:a})}get print(){mn("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Hy)}get modifiedIds(){return Ae(this,"modifiedIds",{ids:new Set,hash:""})}}Hy=new WeakMap;var sp;class AZ{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){$(this,sp,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),g(this,sp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||g(this,sp).has(t.loadedName))){if(yi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:a}=t,l=new FontFace(n,s,a);this.addNativeFontFace(l);try{await l.load(),g(this,sp).add(n),e==null||e(t)}catch{de(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}mn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw de(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ae(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(ls||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ae(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(yi(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ae(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(D,U){return D.charCodeAt(U)<<24|D.charCodeAt(U+1)<<16|D.charCodeAt(U+2)<<8|D.charCodeAt(U+3)&255}function s(D,U,W,L){const R=D.substring(0,U),N=D.substring(U+W);return R+L+N}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(D,U){if(++d>30){de("Load test font never loaded."),U();return}if(h.font="30px "+D,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(p.bind(null,D,U))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=s(b,976,y.length,y);const A=16,S=1482184792;let C=n(b,A);for(a=0,l=y.length-3;a<l;a+=4)C=C-S+n(y,a)|0;a<y.length&&(C=C-S+n(y+"XXX",a)|0),b=s(b,A,4,aZ(C));const x=`url(data:font/opentype;base64,${btoa(b)});`,F=`@font-face {font-family:"${y}";src:${x}}`;this.insertRule(F);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const D of[t.loadedName,y]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=D,k.append(U)}this._document.body.append(k),p(y,()=>{k.remove(),e.complete()})}}sp=new WeakMap;class SZ{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${dZ(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(a){de(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(a,l){};const s=[];for(let a=0,l=n.length;a<l;)switch(n[a++]){case Lo.BEZIER_CURVE_TO:{const[c,h,d,p,y,b]=n.slice(a,a+6);s.push(E=>E.bezierCurveTo(c,h,d,p,y,b)),a+=6}break;case Lo.MOVE_TO:{const[c,h]=n.slice(a,a+2);s.push(d=>d.moveTo(c,h)),a+=2}break;case Lo.LINE_TO:{const[c,h]=n.slice(a,a+2);s.push(d=>d.lineTo(c,h)),a+=2}break;case Lo.QUADRATIC_CURVE_TO:{const[c,h,d,p]=n.slice(a,a+4);s.push(y=>y.quadraticCurveTo(c,h,d,p)),a+=4}break;case Lo.RESTORE:s.push(c=>c.restore());break;case Lo.SAVE:s.push(c=>c.save());break;case Lo.SCALE:yi(s.length===2,"Scale command is only valid at the third position.");break;case Lo.TRANSFORM:{const[c,h,d,p,y,b]=n.slice(a,a+6);s.push(E=>E.transform(c,h,d,p,y,b)),a+=6}break;case Lo.TRANSLATE:{const[c,h]=n.slice(a,a+2);s.push(d=>d.translate(c,h)),a+=2}break}return this.compiledGlyphs[e]=function(l,c){s[0](l),s[1](l),l.scale(c,-c);for(let h=2,d=s.length;h<d;h++)s[h](l)}}}var $y;class p3{constructor({enableHWA:t=!1}){$(this,$y,!1);V(this,$y,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,$y)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){mn("Abstract method `_createCanvas` called.")}}$y=new WeakMap;class wZ extends p3{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class g3{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){mn("Abstract method `_fetch` called.")}}class m3 extends g3{async _fetch(t){const e=await NA(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):LA(e)}}class y3{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,a){return"none"}destroy(t=!1){}}var vh,bh,La,qo,es,NE,_h,It,Ji,Sf,wf,w_,Tf,v3,tx,xf,jm,zm,ex,Hm;class TZ extends y3{constructor({docId:e,ownerDocument:n=globalThis.document}){super();$(this,It);$(this,vh);$(this,bh);$(this,La);$(this,qo);$(this,es);$(this,NE);$(this,_h,0);V(this,qo,e),V(this,es,n)}addFilter(e){if(!e)return"none";let n=g(this,It,Ji).get(e);if(n)return n;const[s,a,l]=j(this,It,w_).call(this,e),c=e.length===1?s:`${s}${a}${l}`;if(n=g(this,It,Ji).get(c),n)return g(this,It,Ji).set(e,n),n;const h=`g_${g(this,qo)}_transfer_map_${gs(this,_h)._++}`,d=j(this,It,Tf).call(this,h);g(this,It,Ji).set(e,d),g(this,It,Ji).set(c,d);const p=j(this,It,xf).call(this,h);return j(this,It,zm).call(this,s,a,l,p),d}addHCMFilter(e,n){var A;const s=`${e}-${n}`,a="base";let l=g(this,It,Sf).get(a);if((l==null?void 0:l.key)===s||(l?((A=l.filter)==null||A.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},g(this,It,Sf).set(a,l)),!e||!n))return l.url;const c=j(this,It,Hm).call(this,e);e=Vt.makeHexColor(...c);const h=j(this,It,Hm).call(this,n);if(n=Vt.makeHexColor(...h),g(this,It,wf).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return l.url;const d=new Array(256);for(let S=0;S<=255;S++){const C=S/255;d[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const p=d.join(","),y=`g_${g(this,qo)}_hcm_filter`,b=l.filter=j(this,It,xf).call(this,y);j(this,It,zm).call(this,p,p,p,b),j(this,It,tx).call(this,b);const E=(S,C)=>{const x=c[S]/255,F=h[S]/255,k=new Array(C+1);for(let D=0;D<=C;D++)k[D]=x+D/C*(F-x);return k.join(",")};return j(this,It,zm).call(this,E(0,5),E(1,5),E(2,5),b),l.url=j(this,It,Tf).call(this,y),l.url}addAlphaFilter(e){let n=g(this,It,Ji).get(e);if(n)return n;const[s]=j(this,It,w_).call(this,[e]),a=`alpha_${s}`;if(n=g(this,It,Ji).get(a),n)return g(this,It,Ji).set(e,n),n;const l=`g_${g(this,qo)}_alpha_map_${gs(this,_h)._++}`,c=j(this,It,Tf).call(this,l);g(this,It,Ji).set(e,c),g(this,It,Ji).set(a,c);const h=j(this,It,xf).call(this,l);return j(this,It,ex).call(this,s,h),c}addLuminosityFilter(e){let n=g(this,It,Ji).get(e||"luminosity");if(n)return n;let s,a;if(e?([s]=j(this,It,w_).call(this,[e]),a=`luminosity_${s}`):a="luminosity",n=g(this,It,Ji).get(a),n)return g(this,It,Ji).set(e,n),n;const l=`g_${g(this,qo)}_luminosity_map_${gs(this,_h)._++}`,c=j(this,It,Tf).call(this,l);g(this,It,Ji).set(e,c),g(this,It,Ji).set(a,c);const h=j(this,It,xf).call(this,l);return j(this,It,v3).call(this,h),e&&j(this,It,ex).call(this,s,h),c}addHighlightHCMFilter(e,n,s,a,l){var F;const c=`${n}-${s}-${a}-${l}`;let h=g(this,It,Sf).get(e);if((h==null?void 0:h.key)===c||(h?((F=h.filter)==null||F.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},g(this,It,Sf).set(e,h)),!n||!s))return h.url;const[d,p]=[n,s].map(j(this,It,Hm).bind(this));let y=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[E,A]=[a,l].map(j(this,It,Hm).bind(this));b<y&&([y,b,E,A]=[b,y,A,E]),g(this,It,wf).style.color="";const S=(k,D,U)=>{const W=new Array(256),L=(b-y)/U,R=k/255,N=(D-k)/(255*U);let T=0;for(let B=0;B<=U;B++){const q=Math.round(y+B*L),z=R+B*N;for(let ct=T;ct<=q;ct++)W[ct]=z;T=q+1}for(let B=T;B<256;B++)W[B]=W[T-1];return W.join(",")},C=`g_${g(this,qo)}_hcm_${e}_filter`,x=h.filter=j(this,It,xf).call(this,C);return j(this,It,tx).call(this,x),j(this,It,zm).call(this,S(E[0],A[0],5),S(E[1],A[1],5),S(E[2],A[2],5),x),h.url=j(this,It,Tf).call(this,C),h.url}destroy(e=!1){e&&g(this,It,Sf).size!==0||(g(this,La)&&(g(this,La).parentNode.parentNode.remove(),V(this,La,null)),g(this,bh)&&(g(this,bh).clear(),V(this,bh,null)),V(this,_h,0))}}vh=new WeakMap,bh=new WeakMap,La=new WeakMap,qo=new WeakMap,es=new WeakMap,NE=new WeakMap,_h=new WeakMap,It=new WeakSet,Ji=function(){return g(this,bh)||V(this,bh,new Map)},Sf=function(){return g(this,NE)||V(this,NE,new Map)},wf=function(){if(!g(this,La)){const e=g(this,es).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=g(this,es).createElementNS(Fo,"svg");s.setAttribute("width",0),s.setAttribute("height",0),V(this,La,g(this,es).createElementNS(Fo,"defs")),e.append(s),s.append(g(this,La)),g(this,es).body.append(e)}return g(this,La)},w_=function(e){if(e.length===1){const d=e[0],p=new Array(256);for(let b=0;b<256;b++)p[b]=d[b]/255;const y=p.join(",");return[y,y,y]}const[n,s,a]=e,l=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=n[d]/255,c[d]=s[d]/255,h[d]=a[d]/255;return[l.join(","),c.join(","),h.join(",")]},Tf=function(e){if(g(this,vh)===void 0){V(this,vh,"");const n=g(this,es).URL;n!==g(this,es).baseURI&&(FA(n)?de('#createUrl: ignore "data:"-URL for performance reasons.'):V(this,vh,n.split("#",1)[0]))}return`url(${g(this,vh)}#${e})`},v3=function(e){const n=g(this,es).createElementNS(Fo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},tx=function(e){const n=g(this,es).createElementNS(Fo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},xf=function(e){const n=g(this,es).createElementNS(Fo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),g(this,It,wf).append(n),n},jm=function(e,n,s){const a=g(this,es).createElementNS(Fo,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},zm=function(e,n,s,a){const l=g(this,es).createElementNS(Fo,"feComponentTransfer");a.append(l),j(this,It,jm).call(this,l,"feFuncR",e),j(this,It,jm).call(this,l,"feFuncG",n),j(this,It,jm).call(this,l,"feFuncB",s)},ex=function(e,n){const s=g(this,es).createElementNS(Fo,"feComponentTransfer");n.append(s),j(this,It,jm).call(this,s,"feFuncA",e)},Hm=function(e){return g(this,It,wf).style.color=e,LR(getComputedStyle(g(this,It,wf)).getPropertyValue("color"))};class b3{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){mn("Abstract method `_fetch` called.")}}class _3 extends b3{async _fetch(t){const e=await NA(t,"arraybuffer");return new Uint8Array(e)}}if(ls){var nx=Promise.withResolvers(),cy=null;(async()=>{const t=await X0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await X0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await X0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await X0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,l;return new Map(Object.entries({fs:t,http:e,https:n,url:s,canvas:a,path2d:l}))})().then(t=>{cy=t,nx.resolve()},t=>{de(`loadPackages: ${t}`),cy=new Map,nx.resolve()})}class ou{static get promise(){return nx.promise}static get(t){return cy==null?void 0:cy.get(t)}}async function E3(i){const e=await ou.get("fs").promises.readFile(i);return new Uint8Array(e)}class xZ extends y3{}class CZ extends p3{_createCanvas(t,e){return ou.get("canvas").createCanvas(t,e)}}class RZ extends g3{async _fetch(t){return E3(t)}}class IZ extends b3{async _fetch(t){return E3(t)}}const vs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ix(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class FR{getPattern(){mn("Abstract method `getPattern` called.")}}class kZ extends FR{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let a;if(s===vs.STROKE||s===vs.FILL){const l=e.current.getClippedPathBoundingBox(s,Rn(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Vt.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),ix(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=t.createPattern(d.canvas,"no-repeat");const y=new DOMMatrix(n);a.setTransform(y)}else ix(t,this._bbox),a=this._createGradient(t);return a}}function RT(i,t,e,n,s,a,l,c){const h=t.coords,d=t.colors,p=i.data,y=i.width*4;let b;h[e+1]>h[n+1]&&(b=e,e=n,n=b,b=a,a=l,l=b),h[n+1]>h[s+1]&&(b=n,n=s,s=b,b=l,l=c,c=b),h[e+1]>h[n+1]&&(b=e,e=n,n=b,b=a,a=l,l=b);const E=(h[e]+t.offsetX)*t.scaleX,A=(h[e+1]+t.offsetY)*t.scaleY,S=(h[n]+t.offsetX)*t.scaleX,C=(h[n+1]+t.offsetY)*t.scaleY,x=(h[s]+t.offsetX)*t.scaleX,F=(h[s+1]+t.offsetY)*t.scaleY;if(A>=F)return;const k=d[a],D=d[a+1],U=d[a+2],W=d[l],L=d[l+1],R=d[l+2],N=d[c],T=d[c+1],B=d[c+2],q=Math.round(A),z=Math.round(F);let ct,nt,Y,Q,at,dt,K,rt;for(let ut=q;ut<=z;ut++){if(ut<C){const Ct=ut<A?0:(A-ut)/(A-C);ct=E-(E-S)*Ct,nt=k-(k-W)*Ct,Y=D-(D-L)*Ct,Q=U-(U-R)*Ct}else{let Ct;ut>F?Ct=1:C===F?Ct=0:Ct=(C-ut)/(C-F),ct=S-(S-x)*Ct,nt=W-(W-N)*Ct,Y=L-(L-T)*Ct,Q=R-(R-B)*Ct}let st;ut<A?st=0:ut>F?st=1:st=(A-ut)/(A-F),at=E-(E-x)*st,dt=k-(k-N)*st,K=D-(D-T)*st,rt=U-(U-B)*st;const bt=Math.round(Math.min(ct,at)),wt=Math.round(Math.max(ct,at));let Et=y*ut+bt*4;for(let Ct=bt;Ct<=wt;Ct++)st=(ct-Ct)/(ct-at),st<0?st=0:st>1&&(st=1),p[Et++]=nt-(nt-dt)*st|0,p[Et++]=Y-(Y-K)*st|0,p[Et++]=Q-(Q-rt)*st|0,p[Et++]=255}}function PZ(i,t,e){const n=t.coords,s=t.colors;let a,l;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(a=0;a<h;a++){let p=a*c;for(let y=0;y<d;y++,p++)RT(i,e,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),RT(i,e,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)RT(i,e,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class MZ extends FR{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),E=d/y,A=p/b,S={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/E,scaleY:1/A},C=y+2*2,x=b+2*2,F=n.getCanvas("mesh",C,x),k=F.context,D=k.createImageData(y,b);if(e){const W=D.data;for(let L=0,R=W.length;L<R;L+=4)W[L]=e[0],W[L+1]=e[1],W[L+2]=e[2],W[L+3]=255}for(const W of this._figures)PZ(D,W,S);return k.putImageData(D,2,2),{canvas:F.canvas,offsetX:c-2*E,offsetY:h-2*A,scaleX:E,scaleY:A}}getPattern(t,e,n,s){ix(t,this._bbox);let a;if(s===vs.SHADING)a=Vt.singularValueDecompose2dScale(Rn(t));else if(a=Vt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=Vt.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const l=this._createMeshCanvas(a,s===vs.SHADING?null:this._background,e.cachedCanvases);return s!==vs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class OZ extends FR{getPattern(){return"hotpink"}}function DZ(i){switch(i[0]){case"RadialAxial":return new kZ(i);case"Mesh":return new MZ(i);case"Dummy":return new OZ}throw new Error(`Unknown IR type: ${i[0]}`)}const hD={COLORED:1,UNCOLORED:2},FE=class FE{constructor(t,e,n,s,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:d}=this;h=Math.abs(h),d=Math.abs(d),OA("TilingType: "+a);const p=e[0],y=e[1],b=e[2],E=e[3],A=b-p,S=E-y,C=Vt.singularValueDecompose2dScale(this.matrix),x=Vt.singularValueDecompose2dScale(this.baseTransform),F=C[0]*x[0],k=C[1]*x[1];let D=A,U=S,W=!1,L=!1;const R=Math.ceil(h*F),N=Math.ceil(d*k),T=Math.ceil(A*F),B=Math.ceil(S*k);R>=T?D=h:W=!0,N>=B?U=d:L=!0;const q=this.getSizeAndScale(D,this.ctx.canvas.width,F),z=this.getSizeAndScale(U,this.ctx.canvas.height,k),ct=t.cachedCanvases.getCanvas("pattern",q.size,z.size),nt=ct.context,Y=c.createCanvasGraphics(nt);if(Y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Y,s,l),nt.translate(-q.scale*p,-z.scale*y),Y.transform(q.scale,0,0,z.scale,0,0),nt.save(),this.clipBbox(Y,p,y,b,E),Y.baseTransform=Rn(Y.ctx),Y.executeOperatorList(n),Y.endDrawing(),nt.restore(),W||L){const Q=ct.canvas;W&&(D=h),L&&(U=d);const at=this.getSizeAndScale(D,this.ctx.canvas.width,F),dt=this.getSizeAndScale(U,this.ctx.canvas.height,k),K=at.size,rt=dt.size,ut=t.cachedCanvases.getCanvas("pattern-workaround",K,rt),st=ut.context,bt=W?Math.floor(A/h):0,wt=L?Math.floor(S/d):0;for(let Et=0;Et<=bt;Et++)for(let Ct=0;Ct<=wt;Ct++)st.drawImage(Q,K*Et,rt*Ct,K,rt,0,0,K,rt);return{canvas:ut.canvas,scaleX:at.scale,scaleY:dt.scale,offsetX:p,offsetY:y}}return{canvas:ct.canvas,scaleX:q.scale,scaleY:z.scale,offsetX:p,offsetY:y}}getSizeAndScale(t,e,n){const s=Math.max(FE.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=s?a=s:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,s,a){const l=s-e,c=a-n;t.ctx.rect(e,n,l,c),t.current.updateRectMinMax(Rn(t.ctx),[e,n,s,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,a=t.current;switch(e){case hD.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,a.fillColor=l.fillStyle,a.strokeColor=l.strokeStyle;break;case hD.UNCOLORED:const c=Vt.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new rZ(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let a=n;s!==vs.SHADING&&(a=Vt.transform(a,e.baseTransform),this.matrix&&(a=Vt.transform(a,this.matrix)));const l=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=t.createPattern(l.canvas,"repeat");return h.setTransform(c),h}};Qt(FE,"MAX_PATTERN_SIZE",3e3);let sx=FE;function LZ({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=bs.isLittleEndian?4278190080:255,[h,d]=l?[a,c]:[c,a],p=n>>3,y=n&7,b=i.length;e=new Uint32Array(e.buffer);let E=0;for(let A=0;A<s;A++){for(const C=t+p;t<C;t++){const x=t<b?i[t]:255;e[E++]=x&128?d:h,e[E++]=x&64?d:h,e[E++]=x&32?d:h,e[E++]=x&16?d:h,e[E++]=x&8?d:h,e[E++]=x&4?d:h,e[E++]=x&2?d:h,e[E++]=x&1?d:h}if(y===0)continue;const S=t<b?i[t++]:255;for(let C=0;C<y;C++)e[E++]=S&1<<7-C?d:h}return{srcPos:t,destPos:E}}const dD=16,fD=100,NZ=15,pD=10,gD=1e3,ks=16;function FZ(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,a,l,c,h){t.transform(n,s,a,l,c,h),this.__originalTransform(n,s,a,l,c,h)},i.setTransform=function(n,s,a,l,c,h){t.setTransform(n,s,a,l,c,h),this.__originalSetTransform(n,s,a,l,c,h)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,a,l,c){t.bezierCurveTo(e,n,s,a,l,c),this.__originalBezierCurveTo(e,n,s,a,l,c)},i.rect=function(e,n,s,a){t.rect(e,n,s,a),this.__originalRect(e,n,s,a)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class VZ{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Q0(i,t,e,n,s,a,l,c,h,d){const[p,y,b,E,A,S]=Rn(i);if(y===0&&b===0){const F=l*p+A,k=Math.round(F),D=c*E+S,U=Math.round(D),W=(l+h)*p+A,L=Math.abs(Math.round(W)-k)||1,R=(c+d)*E+S,N=Math.abs(Math.round(R)-U)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(E),k,U),i.drawImage(t,e,n,s,a,0,0,L,N),i.setTransform(p,y,b,E,A,S),[L,N]}if(p===0&&E===0){const F=c*b+A,k=Math.round(F),D=l*y+S,U=Math.round(D),W=(c+d)*b+A,L=Math.abs(Math.round(W)-k)||1,R=(l+h)*y+S,N=Math.abs(Math.round(R)-U)||1;return i.setTransform(0,Math.sign(y),Math.sign(b),0,k,U),i.drawImage(t,e,n,s,a,0,0,N,L),i.setTransform(p,y,b,E,A,S),[N,L]}i.drawImage(t,e,n,s,a,l,c,h,d);const C=Math.hypot(p,y),x=Math.hypot(b,E);return[C*h,x*d]}function UZ(i){const{width:t,height:e}=i;if(t>gD||e>gD)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t+1;let l=new Uint8Array(a*(e+1)),c,h,d;const p=t+7&-8;let y=new Uint8Array(p*e),b=0;for(const x of i.data){let F=128;for(;F>0;)y[b++]=x&F?0:255,F>>=1}let E=0;for(b=0,y[b]!==0&&(l[0]=1,++E),h=1;h<t;h++)y[b]!==y[b+1]&&(l[h]=y[b]?2:1,++E),b++;for(y[b]!==0&&(l[h]=2,++E),c=1;c<e;c++){b=c*p,d=c*a,y[b-p]!==y[b]&&(l[d]=y[b]?1:8,++E);let x=(y[b]?4:0)+(y[b-p]?8:0);for(h=1;h<t;h++)x=(x>>2)+(y[b+1]?4:0)+(y[b-p+1]?8:0),s[x]&&(l[d+h]=s[x],++E),b++;if(y[b-p]!==y[b]&&(l[d+h]=y[b]?2:4,++E),E>n)return null}for(b=p*(e-1),d=c*a,y[b]!==0&&(l[d]=8,++E),h=1;h<t;h++)y[b]!==y[b+1]&&(l[d+h]=y[b]?4:8,++E),b++;if(y[b]!==0&&(l[d+h]=4,++E),E>n)return null;const A=new Int32Array([0,a,-1,0,-a,0,0,0,1]),S=new Path2D;for(c=0;E&&c<=e;c++){let x=c*a;const F=x+t;for(;x<F&&!l[x];)x++;if(x===F)continue;S.moveTo(x%a,c);const k=x;let D=l[x];do{const U=A[D];do x+=U;while(!l[x]);const W=l[x];W!==5&&W!==10?(D=W,l[x]=0):(D=W&51*D>>4,l[x]&=D>>2|D<<2),S.lineTo(x%a,x/a|0),l[x]||--E}while(k!==x);--c}return y=null,l=null,function(x){x.save(),x.scale(1/t,-1/e),x.translate(0,-e),x.fill(S),x.beginPath(),x.restore()}}class mD{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=VF,this.textMatrixScale=1,this.fontMatrix=k1,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Zi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=Vt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=Vt.applyTransform(e,t),s=Vt.applyTransform(e.slice(2),t),a=Vt.applyTransform([e[0],e[3]],t),l=Vt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],a[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],a[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],a[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],a[1],l[1])}updateScalingPathMinMax(t,e){Vt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,a,l,c,h,d,p){const y=Vt.bezierBoundingBox(e,n,s,a,l,c,h,d,p);p||this.updateRectMinMax(t,y)}getPathBoundingBox(t=vs.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===vs.STROKE){e||mn("Stroke bounding box must include transform.");const s=Vt.singularValueDecompose2dScale(e),a=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=a,n[1]-=l,n[2]+=a,n[3]+=l}return n}updateClipFromPath(){const t=Vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=vs.FILL,e=null){return Vt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function yD(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%ks,a=(e-s)/ks,l=s===0?a:a+1,c=i.createImageData(n,ks);let h=0,d;const p=t.data,y=c.data;let b,E,A,S;if(t.kind===y_.GRAYSCALE_1BPP){const C=p.byteLength,x=new Uint32Array(y.buffer,0,y.byteLength>>2),F=x.length,k=n+7>>3,D=4294967295,U=bs.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(A=b<a?ks:s,d=0,E=0;E<A;E++){const W=C-h;let L=0;const R=W>k?n:W*8-7,N=R&-8;let T=0,B=0;for(;L<N;L+=8)B=p[h++],x[d++]=B&128?D:U,x[d++]=B&64?D:U,x[d++]=B&32?D:U,x[d++]=B&16?D:U,x[d++]=B&8?D:U,x[d++]=B&4?D:U,x[d++]=B&2?D:U,x[d++]=B&1?D:U;for(;L<R;L++)T===0&&(B=p[h++],T=128),x[d++]=B&T?D:U,T>>=1}for(;d<F;)x[d++]=0;i.putImageData(c,0,b*ks)}}else if(t.kind===y_.RGBA_32BPP){for(E=0,S=n*ks*4,b=0;b<a;b++)y.set(p.subarray(h,h+S)),h+=S,i.putImageData(c,0,E),E+=ks;b<l&&(S=n*s*4,y.set(p.subarray(h,h+S)),i.putImageData(c,0,E))}else if(t.kind===y_.RGB_24BPP)for(A=ks,S=n*A,b=0;b<l;b++){for(b>=a&&(A=s,S=n*A),d=0,E=S;E--;)y[d++]=p[h++],y[d++]=p[h++],y[d++]=p[h++],y[d++]=255;i.putImageData(c,0,b*ks)}else throw new Error(`bad image kind: ${t.kind}`)}function vD(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%ks,a=(e-s)/ks,l=s===0?a:a+1,c=i.createImageData(n,ks);let h=0;const d=t.data,p=c.data;for(let y=0;y<l;y++){const b=y<a?ks:s;({srcPos:h}=LZ({src:d,srcPos:h,dest:p,width:n,height:b,nonBlackColor:0})),i.putImageData(c,0,y*ks)}}function Im(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function Z0(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!ls){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function bD(i,t){if(t)return!0;const e=Vt.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*au.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const BZ=["butt","round","square"],jZ=["miter","round","bevel"],zZ={},_D={};var cu,rx,ax;const GR=class GR{constructor(t,e,n,s,a,{optionalContentConfig:l,markedContentStack:c=null},h,d){$(this,cu);this.ctx=t,this.current=new mD(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new VZ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Rn(this.compositeCtx))}this.ctx.save(),Z0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Rn(this.ctx)}executeOperatorList(t,e,n,s){const a=t.argsArray,l=t.fnArray;let c=e||0;const h=a.length;if(h===c)return c;const d=h-c>pD&&typeof n=="function",p=d?Date.now()+NZ:0;let y=0;const b=this.commonObjs,E=this.objs;let A;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(A=l[c],A!==Fr.dependency)this[A].apply(this,a[c]);else for(const S of a[c]){const C=S.startsWith("g_")?b:E;if(!C.has(S))return C.get(S,n),c}if(c++,c===h)return c;if(d&&++y>pD){if(Date.now()>p)return n(),c;y=0}}}endDrawing(){j(this,cu,rx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),j(this,cu,ax).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=s,d="prescale1",p,y;for(;a>2&&c>1||l>2&&h>1;){let b=c,E=h;a>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/b),l>2&&h>1&&(E=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/E),p=this.cachedCanvases.getCanvas(d,b,E),y=p.context,y.clearRect(0,0,b,E),y.drawImage(t,0,0,c,h,0,0,b,E),t=p.canvas,c=b,h=E,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,a=this.current.fillColor,l=this.current.patternFill,c=Rn(e);let h,d,p,y;if((t.bitmap||t.data)&&t.count>1){const R=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),a]),h=this._cachedBitmapsMap.get(R),h||(h=new Map,this._cachedBitmapsMap.set(R,h));const N=h.get(d);if(N&&!l){const T=Math.round(Math.min(c[0],c[2])+c[4]),B=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:N,offsetX:T,offsetY:B}}p=N}p||(y=this.cachedCanvases.getCanvas("maskCanvas",n,s),vD(y.context,t));let b=Vt.transform(c,[1/n,0,0,-1/s,0,0]);b=Vt.transform(b,[1,0,0,1,0,-s]);const[E,A,S,C]=Vt.getAxialAlignedBoundingBox([0,0,n,s],b),x=Math.round(S-E)||1,F=Math.round(C-A)||1,k=this.cachedCanvases.getCanvas("fillCanvas",x,F),D=k.context,U=E,W=A;D.translate(-U,-W),D.transform(...b),p||(p=this._scaleImage(y.canvas,No(D)),p=p.img,h&&l&&h.set(d,p)),D.imageSmoothingEnabled=bD(Rn(D),t.interpolate),Q0(D,p,0,0,p.width,p.height,0,0,n,s),D.globalCompositeOperation="source-in";const L=Vt.transform(No(D),[1,0,0,1,-U,-W]);return D.fillStyle=l?a.getPattern(e,this,L,vs.FILL):a,D.fillRect(0,0,n,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,k.canvas)),{canvas:k.canvas,offsetX:Math.round(U),offsetY:Math.round(W)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=BZ[t]}setLineJoin(t){this.ctx.lineJoin=jZ[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...Rn(this.suspendedCtx)),Im(this.suspendedCtx,a),FZ(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Im(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const a=s[0],l=s[1],c=s[2]-a,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,a,l,c,h,d,p,y){let b=t.canvas,E=h-p,A=d-y;if(l){const C=Vt.makeHexColor(...l);if(E<0||A<0||E+n>b.width||A+s>b.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,s),F=x.context;F.drawImage(b,-E,-A),F.globalCompositeOperation="destination-atop",F.fillStyle=C,F.fillRect(0,0,n,s),F.globalCompositeOperation="source-over",b=x.canvas,E=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(E,A,n,s),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=C,t.fillRect(E,A,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const S=new Path2D;S.rect(h,d,n,s),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,E,A,n,s,h,d,n,s),e.restore()}save(){this.inSMaskMode?(Im(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Im(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,a,l){this.ctx.transform(t,e,n,s,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,a=this.current;let l=a.x,c=a.y,h,d;const p=Rn(s),y=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,b=y?n.slice(0):null;for(let E=0,A=0,S=t.length;E<S;E++)switch(t[E]|0){case Fr.rectangle:l=e[A++],c=e[A++];const C=e[A++],x=e[A++],F=l+C,k=c+x;s.moveTo(l,c),C===0||x===0?s.lineTo(F,k):(s.lineTo(F,c),s.lineTo(F,k),s.lineTo(l,k)),y||a.updateRectMinMax(p,[l,c,F,k]),s.closePath();break;case Fr.moveTo:l=e[A++],c=e[A++],s.moveTo(l,c),y||a.updatePathMinMax(p,l,c);break;case Fr.lineTo:l=e[A++],c=e[A++],s.lineTo(l,c),y||a.updatePathMinMax(p,l,c);break;case Fr.curveTo:h=l,d=c,l=e[A+4],c=e[A+5],s.bezierCurveTo(e[A],e[A+1],e[A+2],e[A+3],l,c),a.updateCurvePathMinMax(p,h,d,e[A],e[A+1],e[A+2],e[A+3],l,c,b),A+=6;break;case Fr.curveTo2:h=l,d=c,s.bezierCurveTo(l,c,e[A],e[A+1],e[A+2],e[A+3]),a.updateCurvePathMinMax(p,h,d,l,c,e[A],e[A+1],e[A+2],e[A+3],b),l=e[A+2],c=e[A+3],A+=4;break;case Fr.curveTo3:h=l,d=c,l=e[A+2],c=e[A+3],s.bezierCurveTo(e[A],e[A+1],l,c,l,c),a.updateCurvePathMinMax(p,h,d,e[A],e[A+1],l,c,l,c,b),A+=4;break;case Fr.closePath:s.closePath();break}y&&a.updateScalingPathMinMax(p,b),a.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,No(e),vs.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,No(e),vs.FILL),a=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),a&&e.restore(),t&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zZ}eoClip(){this.pendingClip=_D}beginText(){this.current.textMatrix=VF,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var p;const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||k1,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&de("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let d=e;e<dD?d=dD:e>fD&&(d=fD),this.current.fontSizeScale=e/d,this.ctx.font=`${h} ${c} ${d}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,a,l){this.current.textMatrix=[t,e,n,s,a,l],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const a=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,p=h&Zi.FILL_STROKE_MASK,y=!!(h&Zi.ADD_TO_PATH_FLAG),b=l.patternFill&&!c.missingFile;let E;(c.disableFontFace||y||b)&&(E=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||b?(a.save(),a.translate(e,n),a.beginPath(),E(a,d),s&&a.setTransform(...s),(p===Zi.FILL||p===Zi.FILL_STROKE)&&a.fill(),(p===Zi.STROKE||p===Zi.FILL_STROKE)&&a.stroke(),a.restore()):((p===Zi.FILL||p===Zi.FILL_STROKE)&&a.fillText(t,e,n),(p===Zi.STROKE||p===Zi.FILL_STROKE)&&a.strokeText(t,e,n)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Rn(a),x:e,y:n,fontSize:d,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Ae(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,l=e.fontSizeScale,c=e.charSpacing,h=e.wordSpacing,d=e.fontDirection,p=e.textHScale*d,y=t.length,b=n.vertical,E=b?1:-1,A=n.defaultVMetrics,S=s*e.fontMatrix[0],C=e.textRenderingMode===Zi.FILL&&!n.disableFontFace&&!e.patternFill;a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),d>0?a.scale(p,-1):a.scale(p,1);let x;if(e.patternFill){a.save();const W=e.fillColor.getPattern(a,this,No(a),vs.FILL);x=Rn(a),a.restore(),a.fillStyle=W}let F=e.lineWidth;const k=e.textMatrixScale;if(k===0||F===0){const W=e.textRenderingMode&Zi.FILL_STROKE_MASK;(W===Zi.STROKE||W===Zi.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=k;if(l!==1&&(a.scale(l,l),F/=l),a.lineWidth=F,n.isInvalidPDFjsFont){const W=[];let L=0;for(const R of t)W.push(R.unicode),L+=R.width;a.fillText(W.join(""),0,0),e.x+=L*S*p,a.restore(),this.compose();return}let D=0,U;for(U=0;U<y;++U){const W=t[U];if(typeof W=="number"){D+=E*W*s/1e3;continue}let L=!1;const R=(W.isSpace?h:0)+c,N=W.fontChar,T=W.accent;let B,q,z=W.width;if(b){const nt=W.vmetric||A,Y=-(W.vmetric?nt[1]:z*.5)*S,Q=nt[2]*S;z=nt?-nt[0]:z,B=Y/l,q=(D+Q)/l}else B=D/l,q=0;if(n.remeasure&&z>0){const nt=a.measureText(N).width*1e3/s*l;if(z<nt&&this.isFontSubpixelAAEnabled){const Y=z/nt;L=!0,a.save(),a.scale(Y,1),B/=Y}else z!==nt&&(B+=(z-nt)/2e3*s/l)}if(this.contentVisible&&(W.isInFont||n.missingFile)){if(C&&!T)a.fillText(N,B,q);else if(this.paintChar(N,B,q,x),T){const nt=B+s*T.offset.x/l,Y=q-s*T.offset.y/l;this.paintChar(T.fontChar,nt,Y,x)}}const ct=b?z*S-R*d:z*S+R*d;D+=ct,L&&a.restore()}b?e.y-=D:e.x+=D*p,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,a=n.fontSize,l=n.fontDirection,c=s.vertical?1:-1,h=n.charSpacing,d=n.wordSpacing,p=n.textHScale*l,y=n.fontMatrix||k1,b=t.length,E=n.textRenderingMode===Zi.INVISIBLE;let A,S,C,x;if(!(E||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(p,l),A=0;A<b;++A){if(S=t[A],typeof S=="number"){x=c*S*a/1e3,this.ctx.translate(x,0),n.x+=x*p;continue}const F=(S.isSpace?d:0)+h,k=s.charProcOperatorList[S.operatorListId];if(!k){de(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),e.scale(a,a),e.transform(...y),this.executeOperatorList(k),this.restore()),C=Vt.applyTransform([S.width,0],y)[0]*a+F,e.translate(C,0),n.x+=C*p}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,a,l){this.ctx.rect(n,s,a-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||Rn(this.ctx),a={createCanvasGraphics:l=>new GR(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new sx(t,n,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=Vt.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=Vt.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=DZ(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,No(e),vs.SHADING);const s=No(e);if(s){const{width:a,height:l}=e.canvas,[c,h,d,p]=Vt.getAxialAlignedBoundingBox([0,0,a,l],s);this.ctx.fillRect(c,h,d-c,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){mn("Should not call beginInlineImage")}beginImageData(){mn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Rn(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(Rn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||OA("TODO: Support non-isolated groups."),t.knockout&&de("Knockout groups not supported.");const n=Rn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Vt.getAxialAlignedBoundingBox(t.bbox,Rn(e));const a=[0,0,e.canvas.width,e.canvas.height];s=Vt.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(p,h,d),b=y.context;b.translate(-l,-c),b.transform(...n),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(l,c),e.save()),Im(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Rn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=Vt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,s,a){if(j(this,cu,rx).call(this),Z0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const l=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=l,e[3]=c;const[h,d]=Vt.singularValueDecompose2dScale(Rn(this.ctx)),{viewportScale:p}=this,y=Math.ceil(l*this.outputScaleX*p),b=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(y,b);const{canvas:E,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(h,0,0,-d,0,c*d),Z0(this.ctx)}else Z0(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],l,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new mD(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,cu,ax).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=UZ(t)),s.compiled)){s.compiled(n);return}const a=this._createMaskCanvas(t),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,a,l){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const h=Rn(c);c.transform(e,n,s,a,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]);for(let p=0,y=l.length;p<y;p+=2){const b=Vt.transform(h,[e,n,s,a,l[p],l[p+1]]),[E,A]=Vt.applyTransform([0,0],b);c.drawImage(d.canvas,E,A)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:l,width:c,height:h,transform:d}=a,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),y=p.context;y.save();const b=this.getObject(l,a);vD(y,b),y.globalCompositeOperation="source-in",y.fillStyle=s?n.getPattern(y,this,No(e),vs.FILL):n,y.fillRect(0,0,c,h),y.restore(),e.save(),e.transform(...d),e.scale(1,-1),Q0(e,p.canvas,0,0,c,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){de("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){de("Dependent image isn't ready yet");return}const l=a.width,c=a.height,h=[];for(let d=0,p=s.length;d<p;d+=2)h.push({transform:[e,0,0,n,s[d],s[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,s),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!ls){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/e,-1/n);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",e,n).context;yD(h,t),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,No(s));s.imageSmoothingEnabled=bD(Rn(s),t.interpolate),Q0(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,l=t.height,h=this.cachedCanvases.getCanvas("inlineImage",a,l).context;yD(h,t),s=this.applyTransferMapsToCanvas(h)}for(const a of e)n.save(),n.transform(...a.transform),n.scale(1,-1),Q0(n,s,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===_D?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Rn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:a}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(e),d=Math.abs(a);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,y=d*t;l=p<1?1/p:1,c=y<1?1/y:1}}else{const h=Math.abs(e*a-n*s),d=Math.hypot(e,n),p=Math.hypot(s,a);if(t===0)l=p/h,c=d/h;else{const y=t*h;l=p>y?p/y:1,c=d>y?d/y:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,a]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&a===1){e.stroke();return}const l=e.getLineDash();if(t&&e.save(),e.scale(s,a),l.length>0){const c=Math.max(s,a);e.setLineDash(l.map(h=>h/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};cu=new WeakSet,rx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ax=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let jf=GR;for(const i in Fr)jf.prototype[i]!==void 0&&(jf.prototype[Fr[i]]=jf.prototype[i]);var qy,Gy;class ul{static get workerPort(){return g(this,qy)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");V(this,qy,t)}static get workerSrc(){return g(this,Gy)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");V(this,Gy,t)}}qy=new WeakMap,Gy=new WeakMap,$(ul,qy,null),$(ul,Gy,"");const J0={DATA:1,ERROR:2},ti={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Hs(i){switch(i instanceof Error||typeof i=="object"&&i!==null||mn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new yd(i.message);case"MissingPDFException":return new md(i.message);case"PasswordException":return new P1(i.message,i.code);case"UnexpectedResponseException":return new DA(i.message,i.status);case"UnknownErrorException":return new M1(i.message,i.details);default:return new M1(i.message,i.toString())}}var rp,Rr,A3,S3,w3,T_;class $m{constructor(t,e,n){$(this,Rr);$(this,rp,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",j(this,Rr,A3).bind(this),{signal:g(this,rp).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,n,s){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:ti.PULL,streamId:a,desiredSize:d.desiredSize}),p.promise},cancel:d=>{yi(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:ti.CANCEL,streamId:a,reason:Hs(d)}),p.promise}},n)}destroy(){var t;(t=g(this,rp))==null||t.abort(),V(this,rp,null)}}rp=new WeakMap,Rr=new WeakSet,A3=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){j(this,Rr,w3).call(this,t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===J0.DATA)s.resolve(t.data);else if(t.callback===J0.ERROR)s.reject(Hs(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,a=this.comObj;new Promise(function(l){l(e(t.data))}).then(function(l){a.postMessage({sourceName:n,targetName:s,callback:J0.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:s,callback:J0.ERROR,callbackId:t.callbackId,reason:Hs(l)})});return}if(t.streamId){j(this,Rr,S3).call(this,t);return}e(t.data)},S3=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:ti.ENQUEUE,streamId:e,chunk:d},y)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:ti.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){yi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:ti.ERROR,streamId:e,reason:Hs(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,new Promise(function(d){d(c(t.data,h))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ti.START_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:s,stream:ti.START_COMPLETE,streamId:e,reason:Hs(d)})})},w3=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case ti.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Hs(t.reason));break;case ti.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Hs(t.reason));break;case ti.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:ti.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(h){var d;h((d=c.onPull)==null?void 0:d.call(c))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ti.PULL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ti.PULL_COMPLETE,streamId:e,reason:Hs(h)})});break;case ti.ENQUEUE:if(yi(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case ti.CLOSE:if(yi(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),j(this,Rr,T_).call(this,l,e);break;case ti.ERROR:yi(l,"error should have stream controller"),l.controller.error(Hs(t.reason)),j(this,Rr,T_).call(this,l,e);break;case ti.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Hs(t.reason)),j(this,Rr,T_).call(this,l,e);break;case ti.CANCEL:if(!c)break;new Promise(function(h){var d;h((d=c.onCancel)==null?void 0:d.call(c,Hs(t.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ti.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ti.CANCEL_COMPLETE,streamId:e,reason:Hs(h)})}),c.sinkCapability.reject(Hs(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},T_=async function(t,e){var n,s,a;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var Eh,Wy;class HZ{constructor({parsedData:t,rawData:e}){$(this,Eh);$(this,Wy);V(this,Eh,t),V(this,Wy,e)}getRaw(){return g(this,Wy)}get(t){return g(this,Eh).get(t)??null}getAll(){return kR(g(this,Eh))}has(t){return g(this,Eh).has(t)}}Eh=new WeakMap,Wy=new WeakMap;const Cf=Symbol("INTERNAL");var Ky,Yy,Xy,ap;class $Z{constructor(t,{name:e,intent:n,usage:s,rbGroups:a}){$(this,Ky,!1);$(this,Yy,!1);$(this,Xy,!1);$(this,ap,!0);V(this,Ky,!!(t&Zs.DISPLAY)),V(this,Yy,!!(t&Zs.PRINT)),this.name=e,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(g(this,Xy))return g(this,ap);if(!g(this,ap))return!1;const{print:t,view:e}=this.usage;return g(this,Ky)?(e==null?void 0:e.viewState)!=="OFF":g(this,Yy)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Cf&&mn("Internal method `_setVisible` called."),V(this,Xy,n),V(this,ap,e)}}Ky=new WeakMap,Yy=new WeakMap,Xy=new WeakMap,ap=new WeakMap;var Tc,Ke,op,lp,Qy,ox;class qZ{constructor(t,e=Zs.DISPLAY){$(this,Qy);$(this,Tc,null);$(this,Ke,new Map);$(this,op,null);$(this,lp,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,V(this,lp,t.order);for(const n of t.groups)g(this,Ke).set(n.id,new $Z(e,n));if(t.baseState==="OFF")for(const n of g(this,Ke).values())n._setVisible(Cf,!1);for(const n of t.on)g(this,Ke).get(n)._setVisible(Cf,!0);for(const n of t.off)g(this,Ke).get(n)._setVisible(Cf,!1);V(this,op,this.getHash())}}isVisible(t){if(g(this,Ke).size===0)return!0;if(!t)return OA("Optional content group not defined."),!0;if(t.type==="OCG")return g(this,Ke).has(t.id)?g(this,Ke).get(t.id).visible:(de(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return j(this,Qy,ox).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!g(this,Ke).has(e))return de(`Optional content group not found: ${e}`),!0;if(g(this,Ke).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!g(this,Ke).has(e))return de(`Optional content group not found: ${e}`),!0;if(!g(this,Ke).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!g(this,Ke).has(e))return de(`Optional content group not found: ${e}`),!0;if(!g(this,Ke).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!g(this,Ke).has(e))return de(`Optional content group not found: ${e}`),!0;if(g(this,Ke).get(e).visible)return!1}return!0}return de(`Unknown optional content policy ${t.policy}.`),!0}return de(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var a;const s=g(this,Ke).get(t);if(!s){de(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==t&&((a=g(this,Ke).get(c))==null||a._setVisible(Cf,!1,!0));s._setVisible(Cf,!!e,!0),V(this,Tc,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=g(this,Ke).get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}V(this,Tc,null)}get hasInitialVisibility(){return g(this,op)===null||this.getHash()===g(this,op)}getOrder(){return g(this,Ke).size?g(this,lp)?g(this,lp).slice():[...g(this,Ke).keys()]:null}getGroups(){return g(this,Ke).size>0?kR(g(this,Ke)):null}getGroup(t){return g(this,Ke).get(t)||null}getHash(){if(g(this,Tc)!==null)return g(this,Tc);const t=new h3;for(const[e,n]of g(this,Ke))t.update(`${e}:${n.visible}`);return V(this,Tc,t.hexdigest())}}Tc=new WeakMap,Ke=new WeakMap,op=new WeakMap,lp=new WeakMap,Qy=new WeakSet,ox=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const a=t[s];let l;if(Array.isArray(a))l=j(this,Qy,ox).call(this,a);else if(g(this,Ke).has(a))l=g(this,Ke).get(a).visible;else return de(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class GZ{constructor(t,{disableRange:e=!1,disableStream:n=!1}){yi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});yi(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,a;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){yi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new WZ(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new KZ(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class WZ{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=OR(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KZ{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function YZ(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),a(p)}if(e=l(i),e){const p=d(e);return a(p)}if(e=n("filename","i").exec(i),e){e=e[1];let p=c(e);return p=d(p),a(p)}function n(p,y){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function s(p,y){if(p){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(p,{fatal:!0}),E=LA(y);y=b.decode(E),t=!1}catch{}}return y}function a(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function l(p){const y=[];let b;const E=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=E.exec(p))!==null;){let[,S,C,x]=b;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[C,x]}const A=[];for(let S=0;S<y.length&&S in y;++S){let[C,x]=y[S];x=c(x),C&&(x=unescape(x),S===0&&(x=h(x))),A.push(x)}return A.join("")}function c(p){if(p.startsWith('"')){const y=p.slice(1).split('\\"');for(let b=0;b<y.length;++b){const E=y[b].indexOf('"');E!==-1&&(y[b]=y[b].slice(0,E),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}p=y.join('"')}return p}function h(p){const y=p.indexOf("'");if(y===-1)return p;const b=p.slice(0,y),A=p.slice(y+1).replace(/^[^']*'/,"");return s(b,A)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,E,A){if(E==="q"||E==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),s(b,A);try{A=atob(A)}catch{}return s(b,A)})}return""}function VR(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function UR({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(i.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function BR(i){const t=i.get("Content-Disposition");if(t){let e=YZ(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(OR(e))return e}return null}function VA(i,t){return i===404||i===0&&t.startsWith("file:")?new md('Missing PDF "'+t+'".'):new DA(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function T3(i){return i===200||i===206}function x3(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function C3(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(de(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class ED{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=VR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return yi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XZ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new QZ(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class XZ{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,x3(n,this._withCredentials,this._abortController)).then(a=>{if(!T3(a.status))throw VA(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=UR({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=BR(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:C3(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class QZ{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,x3(a,this._withCredentials,this._abortController)).then(c=>{if(!T3(c.status))throw VA(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:C3(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const IT=200,kT=206;function ZZ(i){const t=i.response;return typeof t!="string"?t:LA(t).buffer}class JZ{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=VR(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const a in n)s[a]=n[a];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=kT):s.expectedStatus=IT,e.responseType="arraybuffer",t.onError&&(e.onerror=function(a){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var s;const n=this.pendingRequests[t];n&&((s=n.onProgress)==null||s.call(n,e))}onStateChange(t,e){var h,d,p;const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(h=n.onError)==null||h.call(n,s.status);return}const a=s.status||IT;if(!(a===IT&&n.expectedStatus===kT)&&a!==n.expectedStatus){(d=n.onError)==null||d.call(n,s.status);return}const c=ZZ(s);if(a===kT){const y=s.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);n.onDone({begin:parseInt(b[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class tJ{constructor(t){this._source=t,this._manager=new JZ(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return yi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new eJ(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new nJ(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class eJ{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]})),{allowRangeRequests:s,suggestedLength:a}=UR({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=BR(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=VA(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nJ{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=VA(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const iJ=/^[a-z][a-z0-9\-+.]+:/i;function sJ(i){if(iJ.test(i))return new URL(i);const t=ou.get("url");return new URL(t.pathToFileURL(i))}function R3(i,t,e){return i.protocol==="http:"?ou.get("http").request(i,{headers:t},e):ou.get("https").request(i,{headers:t},e)}class rJ{constructor(t){this.source=t,this.url=sJ(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=VR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return yi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new lJ(this):new aJ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new cJ(this,t,e):new oJ(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class I3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class aJ extends I3{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=s=>{if(s.statusCode===404){const h=new md(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(s);const a=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:c}=UR({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=BR(a)};this._request=R3(this._url,e,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class oJ extends k3{constructor(t,e,n){super(t);const s=Object.fromEntries(t.headers);s.Range=`bytes=${e}-${n-1}`;const a=l=>{if(l.statusCode===404){const c=new md(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(l)};this._request=R3(this._url,s,a),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class lJ extends I3{constructor(t){super(t);const e=ou.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new md(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class cJ extends k3{constructor(t,e,n){super(t);const s=ou.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}}const uJ=1e5,Ts=30,hJ=.8;var KD,xc,Rs,Zy,Jy,Ah,Go,tv,ev,Sh,cp,up,Cc,hp,nv,dp,wh,iv,sv,Bn,Th,xh,rv,Rc,fp,xl,P3,M3,cx,ir,x_,ux,O3,D3;let lx=(Bn=class{constructor({textContentSource:t,container:e,viewport:n}){$(this,xl);$(this,xc,Promise.withResolvers());$(this,Rs,null);$(this,Zy,!1);$(this,Jy,!!((KD=globalThis.FontInspector)!=null&&KD.enabled));$(this,Ah,null);$(this,Go,null);$(this,tv,0);$(this,ev,0);$(this,Sh,null);$(this,cp,null);$(this,up,0);$(this,Cc,0);$(this,hp,Object.create(null));$(this,nv,[]);$(this,dp,null);$(this,wh,[]);$(this,iv,new WeakMap);$(this,sv,null);var h;if(t instanceof ReadableStream)V(this,dp,t);else if(typeof t=="object")V(this,dp,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');V(this,Rs,V(this,cp,e)),V(this,Cc,n.scale*(globalThis.devicePixelRatio||1)),V(this,up,n.rotation),V(this,Go,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:l,pageY:c}=n.rawDims;V(this,sv,[1,0,0,-1,-l,c+a]),V(this,ev,s),V(this,tv,a),j(h=Bn,ir,O3).call(h),ad(e,n),g(this,xc).promise.finally(()=>{g(Bn,fp).delete(this),V(this,Go,null),V(this,hp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=bs.platform;return Ae(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{g(this,Sh).read().then(({value:e,done:n})=>{if(n){g(this,xc).resolve();return}g(this,Ah)??V(this,Ah,e.lang),Object.assign(g(this,hp),e.styles),j(this,xl,P3).call(this,e.items),t()},g(this,xc).reject)};return V(this,Sh,g(this,dp).getReader()),g(Bn,fp).add(this),t(),g(this,xc).promise}update({viewport:t,onBefore:e=null}){var a;const n=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==g(this,up)&&(e==null||e(),V(this,up,s),ad(g(this,cp),{rotation:s})),n!==g(this,Cc)){e==null||e(),V(this,Cc,n);const l={div:null,properties:null,ctx:j(a=Bn,ir,x_).call(a,g(this,Ah))};for(const c of g(this,wh))l.properties=g(this,iv).get(c),l.div=c,j(this,xl,cx).call(this,l)}}cancel(){var e;const t=new yd("TextLayer task cancelled.");(e=g(this,Sh))==null||e.cancel(t).catch(()=>{}),V(this,Sh,null),g(this,xc).reject(t)}get textDivs(){return g(this,wh)}get textContentItemsStr(){return g(this,nv)}static cleanup(){if(!(g(this,fp).size>0)){g(this,Th).clear();for(const{canvas:t}of g(this,xh).values())t.remove();g(this,xh).clear()}}},xc=new WeakMap,Rs=new WeakMap,Zy=new WeakMap,Jy=new WeakMap,Ah=new WeakMap,Go=new WeakMap,tv=new WeakMap,ev=new WeakMap,Sh=new WeakMap,cp=new WeakMap,up=new WeakMap,Cc=new WeakMap,hp=new WeakMap,nv=new WeakMap,dp=new WeakMap,wh=new WeakMap,iv=new WeakMap,sv=new WeakMap,Th=new WeakMap,xh=new WeakMap,rv=new WeakMap,Rc=new WeakMap,fp=new WeakMap,xl=new WeakSet,P3=function(t){var s,a;if(g(this,Zy))return;(a=g(this,Go)).ctx??(a.ctx=j(s=Bn,ir,x_).call(s,g(this,Ah)));const e=g(this,wh),n=g(this,nv);for(const l of t){if(e.length>uJ){de("Ignoring additional textDivs for performance reasons."),V(this,Zy,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=g(this,Rs);V(this,Rs,document.createElement("span")),g(this,Rs).classList.add("markedContent"),l.id!==null&&g(this,Rs).setAttribute("id",`${l.id}`),c.append(g(this,Rs))}else l.type==="endMarkedContent"&&V(this,Rs,g(this,Rs).parentNode);continue}n.push(l.str),j(this,xl,M3).call(this,l)}},M3=function(t){var S;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};g(this,wh).push(e);const s=Vt.transform(g(this,sv),t.transform);let a=Math.atan2(s[1],s[0]);const l=g(this,hp)[t.fontName];l.vertical&&(a+=Math.PI/2);let c=g(this,Jy)&&l.fontSubstitution||l.fontFamily;c=Bn.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),d=h*j(S=Bn,ir,D3).call(S,c,g(this,Ah));let p,y;a===0?(p=s[4],y=s[5]-d):(p=s[4]+d*Math.sin(a),y=s[5]-d*Math.cos(a));const b="calc(var(--scale-factor)*",E=e.style;g(this,Rs)===g(this,cp)?(E.left=`${(100*p/g(this,ev)).toFixed(2)}%`,E.top=`${(100*y/g(this,tv)).toFixed(2)}%`):(E.left=`${b}${p.toFixed(2)}px)`,E.top=`${b}${y.toFixed(2)}px)`),E.fontSize=`${b}${(g(Bn,Rc)*h).toFixed(2)}px)`,E.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,g(this,Jy)&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const C=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);C!==x&&Math.max(C,x)/Math.min(C,x)>1.5&&(A=!0)}if(A&&(n.canvasWidth=l.vertical?t.height:t.width),g(this,iv).set(e,n),g(this,Go).div=e,g(this,Go).properties=n,j(this,xl,cx).call(this,g(this,Go)),n.hasText&&g(this,Rs).append(e),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),g(this,Rs).append(C)}},cx=function(t){var c;const{div:e,properties:n,ctx:s}=t,{style:a}=e;let l="";if(g(Bn,Rc)>1&&(l=`scale(${1/g(Bn,Rc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=a,{canvasWidth:d,fontSize:p}=n;j(c=Bn,ir,ux).call(c,s,p*g(this,Cc),h);const{width:y}=s.measureText(e.textContent);y>0&&(l=`scaleX(${d*g(this,Cc)/y}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},ir=new WeakSet,x_=function(t=null){let e=g(this,xh).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,xh).set(t,e),g(this,rv).set(e,{size:0,family:""})}return e},ux=function(t,e,n){const s=g(this,rv).get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)},O3=function(){if(g(this,Rc)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),V(this,Rc,t.getBoundingClientRect().height),t.remove()},D3=function(t,e){const n=g(this,Th).get(t);if(n)return n;const s=j(this,ir,x_).call(this,e);s.canvas.width=s.canvas.height=Ts,j(this,ir,ux).call(this,s,Ts,t);const a=s.measureText("");let l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(l){const p=l/(l+c);return g(this,Th).set(t,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,Ts,Ts),s.strokeText("g",0,0);let h=s.getImageData(0,0,Ts,Ts).data;c=0;for(let p=h.length-1-3;p>=0;p-=4)if(h[p]>0){c=Math.ceil(p/4/Ts);break}s.clearRect(0,0,Ts,Ts),s.strokeText("A",0,Ts),h=s.getImageData(0,0,Ts,Ts).data,l=0;for(let p=0,y=h.length;p<y;p+=4)if(h[p]>0){l=Ts-Math.floor(p/4/Ts);break}s.canvas.width=s.canvas.height=0;const d=l?l/(l+c):hJ;return g(this,Th).set(t,d),d},$(Bn,ir),$(Bn,Th,new Map),$(Bn,xh,new Map),$(Bn,rv,new WeakMap),$(Bn,Rc,null),$(Bn,fp,new Set),Bn);class Sy{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(a){var h;if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Sy.shouldBuildText(c))(h=a==null?void 0:a.attributes)!=null&&h.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const d of a.children)s(d)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const dJ=65536,fJ=100,pJ=5e3,gJ=ls?CZ:wZ,mJ=ls?RZ:m3,yJ=ls?xZ:TZ,vJ=ls?IZ:_3;function bJ(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new hx,{docId:e}=t,n=i.url?_J(i.url):null,s=i.data?EJ(i.data):null,a=i.httpHeaders||null,l=i.withCredentials===!0,c=i.password??null,h=i.range instanceof L3?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:dJ;let p=i.worker instanceof zf?i.worker:null;const y=i.verbosity,b=typeof i.docBaseUrl=="string"&&!FA(i.docBaseUrl)?i.docBaseUrl:null,E=typeof i.cMapUrl=="string"?i.cMapUrl:null,A=i.cMapPacked!==!1,S=i.CMapReaderFactory||mJ,C=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,x=i.StandardFontDataFactory||vJ,F=i.stopAtErrors!==!0,k=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,D=i.isEvalSupported!==!1,U=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!ls,W=typeof i.isChrome=="boolean"?i.isChrome:!bs.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),L=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,R=typeof i.disableFontFace=="boolean"?i.disableFontFace:ls,N=i.fontExtraProperties===!0,T=i.enableXfa===!0,B=i.ownerDocument||globalThis.document,q=i.disableRange===!0,z=i.disableStream===!0,ct=i.disableAutoFetch===!0,nt=i.pdfBug===!0,Y=i.CanvasFactory||gJ,Q=i.FilterFactory||yJ,at=i.enableHWA===!0,dt=h?h.length:i.length??NaN,K=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!ls&&!R,rt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:S===m3&&x===_3&&E&&C&&Fm(E,document.baseURI)&&Fm(C,document.baseURI);i.canvasFactory&&cD("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&cD("`filterFactory`-instance option, please use `FilterFactory` instead.");const ut=null;eZ(y);const st={canvasFactory:new Y({ownerDocument:B,enableHWA:at}),filterFactory:new Q({docId:e,ownerDocument:B}),cMapReaderFactory:rt?null:new S({baseUrl:E,isCompressed:A}),standardFontDataFactory:rt?null:new x({baseUrl:C})};if(!p){const Et={verbosity:y,port:ul.workerPort};p=Et.port?zf.fromPort(Et):new zf(Et),t._worker=p}const bt={docId:e,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:ct,rangeChunkSize:d,length:dt,docBaseUrl:b,enableXfa:T,evaluatorOptions:{maxImageSize:k,disableFontFace:R,ignoreErrors:F,isEvalSupported:D,isOffscreenCanvasSupported:U,isChrome:W,canvasMaxAreaInBytes:L,fontExtraProperties:N,useSystemFonts:K,cMapUrl:rt?E:null,standardFontDataUrl:rt?C:null}},wt={disableFontFace:R,fontExtraProperties:N,ownerDocument:B,pdfBug:nt,styleElement:ut,loadingParams:{disableAutoFetch:ct,enableXfa:T}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Et=p.messageHandler.sendWithPromise("GetDocRequest",bt,s?[s.buffer]:null);let Ct;if(h)Ct=new GZ(h,{disableRange:q,disableStream:z});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Bt;ls?Bt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Fm(n)?ED:rJ:Bt=Fm(n)?ED:tJ,Ct=new Bt({url:n,length:dt,httpHeaders:a,withCredentials:l,rangeChunkSize:d,disableRange:q,disableStream:z})}return Et.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const zt=new $m(e,Bt,p.port),At=new TJ(zt,t,Ct,wt,st);t._transport=At,zt.send("Ready",null)})}).catch(t._capability.reject),t}function _J(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(ls&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function EJ(i){if(ls&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return LA(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function AD(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var VE;const UE=class UE{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gs(UE,VE)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};VE=new WeakMap,$(UE,VE,0);let hx=UE,L3=class{constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){mn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class AJ{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ic,Wo,xr,Rf,C_;class SJ{constructor(t,e,n,s=!1){$(this,xr);$(this,Ic,null);$(this,Wo,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new lD:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new N3,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new ab({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=fc.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:y=!1}){var D,U;(D=this._stats)==null||D.time("Overall");const b=this._transport.getRenderingIntent(n,s,p,y),{renderingIntent:E,cacheKey:A}=b;V(this,Wo,!1),j(this,xr,C_).call(this),c||(c=this._transport.getOptionalContentConfig(E));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(E&Zs.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(U=this._stats)==null||U.time("Page Request"),this._pumpOperatorList(b));const x=W=>{var L;S.renderTasks.delete(F),(this._maybeCleanupAfterRender||C)&&V(this,Wo,!0),j(this,xr,Rf).call(this,!C),W?(F.capability.reject(W),this._abortOperatorList({intentState:S,reason:W instanceof Error?W:new Error(W)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new fx({callback:x,params:{canvasContext:t,viewport:e,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:d});(S.renderTasks||(S.renderTasks=new Set)).add(F);const k=F.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([W,L])=>{var R;if(this.destroyed){x();return}if((R=this._stats)==null||R.time("Rendering"),!(L.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:W,optionalContentConfig:L}),F.operatorListChanged()}).catch(x),k}getOperatorList({intent:t="display",annotationMode:e=fc.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var d;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Sy.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function a(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},s)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),V(this,Wo,!1),j(this,xr,C_).call(this),Promise.all(t)}cleanup(t=!1){V(this,Wo,!0);const e=j(this,xr,Rf).call(this,!1);return t&&e&&this._stats&&(this._stats=new lD),e}_startRenderPage(t,e){var s,a;const n=this._intentStates.get(e);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&j(this,xr,Rf).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:y,done:b})=>{if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,d),p())},y=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const b of d.renderTasks)b.operatorListChanged();j(this,xr,Rf).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(y);else if(d.opListReadCapability)d.opListReadCapability.reject(y);else throw y}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof MR){let s=fJ;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new yd(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Ic=new WeakMap,Wo=new WeakMap,xr=new WeakSet,Rf=function(t=!1){if(j(this,xr,C_).call(this),!g(this,Wo)||this.destroyed)return!1;if(t)return V(this,Ic,setTimeout(()=>{V(this,Ic,null),j(this,xr,Rf).call(this,!1)},pJ)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),V(this,Wo,!1),!0},C_=function(){g(this,Ic)&&(clearTimeout(g(this,Ic)),V(this,Ic,null))};var Ko,BE;class wJ{constructor(){$(this,Ko,new Map);$(this,BE,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};g(this,BE).then(()=>{for(const[s]of g(this,Ko))s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){de("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}g(this,Ko).set(e,s)}removeEventListener(t,e){const n=g(this,Ko).get(e);n==null||n(),g(this,Ko).delete(e)}terminate(){for(const[,t]of g(this,Ko))t==null||t();g(this,Ko).clear()}}Ko=new WeakMap,BE=new WeakMap;var jE,Ch,Rh,pp,R_,gp,I_;const An=class An{constructor({name:t=null,port:e=null,verbosity:n=nZ()}={}){$(this,pp);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=g(An,Rh))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(g(An,Rh)||V(An,Rh,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return ls?Promise.all([ou.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new $m("main","worker",t),this._messageHandler.on("ready",function(){}),j(this,pp,R_).call(this)}_initialize(){if(g(An,Ch)||g(An,gp,I_)){this._setupFakeWorker();return}let{workerSrc:t}=An;try{An._isSameOrigin(window.location.href,t)||(t=An._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new $m("main","worker",e),s=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=e,this._webWorker=e,j(this,pp,R_).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{OA("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(An,Ch)||(de("Setting up fake worker."),V(An,Ch,!0)),An._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new wJ;this._port=e;const n=`fake${gs(An,jE)._++}`,s=new $m(n+"_worker",n,e);t.setup(s,e),this._messageHandler=new $m(n,n+"_worker",e),j(this,pp,R_).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=g(An,Rh))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=g(this,Rh))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new An(t)}static get workerSrc(){if(ul.workerSrc)return ul.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ae(this,"_setupFakeWorkerGlobal",(async()=>g(this,gp,I_)?g(this,gp,I_):(await import(this.workerSrc)).WorkerMessageHandler)())}};jE=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,pp=new WeakSet,R_=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},gp=new WeakSet,I_=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},$(An,gp),$(An,jE,0),$(An,Ch,!1),$(An,Rh),ls&&(V(An,Ch,!0),ul.workerSrc||(ul.workerSrc="./pdf.worker.mjs")),An._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(e,n);return n.origin===s.origin},An._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let zf=An;var Yo,Na,mp,yp,Fa,Ih,qm;class TJ{constructor(t,e,n,s,a){$(this,Ih);$(this,Yo,new Map);$(this,Na,new Map);$(this,mp,new Map);$(this,yp,new Map);$(this,Fa,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new N3,this.fontLoader=new AZ({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ae(this,"annotationStorage",new NR)}getRenderingIntent(t,e=fc.ENABLE,n=null,s=!1,a=!1){let l=Zs.DISPLAY,c=J1;switch(t){case"any":l=Zs.ANY;break;case"display":break;case"print":l=Zs.PRINT;break;default:de(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Zs.PRINT&&n instanceof f3?n:this.annotationStorage;switch(e){case fc.DISABLE:l+=Zs.ANNOTATIONS_DISABLE;break;case fc.ENABLE:break;case fc.ENABLE_FORMS:l+=Zs.ANNOTATIONS_FORMS;break;case fc.ENABLE_STORAGE:l+=Zs.ANNOTATIONS_STORAGE,c=h.serializable;break;default:de(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(l+=Zs.IS_EDITING),a&&(l+=Zs.OPLIST);const{ids:d,hash:p}=h.modifiedIds,y=[l,c.hash,p];return{renderingIntent:l,cacheKey:y.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Fa))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of g(this,Na).values())t.push(s._destroy());g(this,Na).clear(),g(this,mp).clear(),g(this,yp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Yo).clear(),this.filterFactory.destroy(),lx.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new yd("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{yi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){s.close();return}yi(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(n,s)=>{yi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){s.close();return}yi(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{a.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new AJ(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new P1(n.message,n.code);break;case"InvalidPDFException":s=new UF(n.message);break;case"MissingPDFException":s=new md(n.message);break;case"UnexpectedResponseException":s=new DA(n.message,n.status);break;case"UnknownErrorException":s=new M1(n.message,n.details);break;default:mn("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(V(this,Fa,Promise.withResolvers()),e.onPassword){const s=a=>{a instanceof Error?g(this,Fa).reject(a):g(this,Fa).resolve({password:a})};try{e.onPassword(s,n.code)}catch(a){g(this,Fa).reject(a)}}else g(this,Fa).reject(new P1(n.message,n.code));return g(this,Fa).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,Na).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,a])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in a){const E=a.error;de(`Error during font loading: ${E}`),this.commonObjs.resolve(n,E);break}const p=d&&((l=globalThis.FontInspector)!=null&&l.enabled)?(E,A)=>globalThis.FontInspector.fontAdded(E,A):null,y=new SZ(a,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&y.data&&(y.data=null),this.commonObjs.resolve(n,y)});break;case"CopyLocalImage":const{imageRef:b}=a;yi(b,"The imageRef must be defined.");for(const E of g(this,Na).values())for(const[,A]of E.objs)if((A==null?void 0:A.ref)===b)return A.dataLen?(this.commonObjs.resolve(n,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,a,l])=>{var h;if(this.destroyed)return;const c=g(this,Na).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(a){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>QQ&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&de("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=g(this,mp).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&g(this,yp).set(a.refStr,t);const l=new SJ(e,a,this,this._params.pdfBug);return g(this,Na).set(e,l),l});return g(this,mp).set(e,s),s}getPageIndex(t){return AD(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return j(this,Ih,qm).call(this,"GetFieldObjects")}hasJSActions(){return j(this,Ih,qm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,Ih,qm).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return j(this,Ih,qm).call(this,"GetOptionalContentConfig").then(e=>new qZ(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=g(this,Yo).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,l;return{info:s[0],metadata:s[1]?new HZ(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return g(this,Yo).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of g(this,Na).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),g(this,Yo).clear(),this.filterFactory.destroy(!0),lx.cleanup()}}cachedPageNumber(t){if(!AD(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return g(this,yp).get(e)??null}}Yo=new WeakMap,Na=new WeakMap,mp=new WeakMap,yp=new WeakMap,Fa=new WeakMap,Ih=new WeakSet,qm=function(t,e=null){const n=g(this,Yo).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return g(this,Yo).set(t,s),s};const t_=Symbol("INITIAL_DATA");var Hr,av,dx;class N3{constructor(){$(this,av);$(this,Hr,Object.create(null))}get(t,e=null){if(e){const s=j(this,av,dx).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=g(this,Hr)[t];if(!n||n.data===t_)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=g(this,Hr)[t];return!!e&&e.data!==t_}resolve(t,e=null){const n=j(this,av,dx).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in g(this,Hr)){const{data:n}=g(this,Hr)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}V(this,Hr,Object.create(null))}*[Symbol.iterator](){for(const t in g(this,Hr)){const{data:e}=g(this,Hr)[t];e!==t_&&(yield[t,e])}}}Hr=new WeakMap,av=new WeakSet,dx=function(t){var e;return(e=g(this,Hr))[t]||(e[t]={...Promise.withResolvers(),data:t_})};var kc;class xJ{constructor(t){$(this,kc,null);V(this,kc,t),this.onContinue=null}get promise(){return g(this,kc).capability.promise}cancel(t=0){g(this,kc).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=g(this,kc).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=g(this,kc);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}kc=new WeakMap;var Pc,kh;const Ju=class Ju{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:y=!1,pageColors:b=null}){$(this,Pc,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xJ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,h;if(this.cancelled)return;if(this._canvas){if(g(Ju,kh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Ju,kh).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:a,background:l}=this.params;this.gfx=new jf(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Pc)&&(window.cancelAnimationFrame(g(this,Pc)),V(this,Pc,null)),g(Ju,kh).delete(this._canvas),this.callback(t||new MR(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?V(this,Pc,window.requestAnimationFrame(()=>{V(this,Pc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Ju,kh).delete(this._canvas),this.callback())))}};Pc=new WeakMap,kh=new WeakMap,$(Ju,kh,new WeakSet);let fx=Ju;const CJ="4.8.69",RJ="3634dab10";function SD(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function km(i){return Math.max(0,Math.min(255,255*i))}class wD{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=km(t),[t,t,t]}static G_HTML([t]){const e=SD(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(km)}static RGB_HTML(t){return`#${t.map(SD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[km(1-Math.min(1,t+s)),km(1-Math.min(1,n+s)),km(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,a=1-e,l=1-n,c=Math.min(s,a,l);return["CMYK",s,a,l,c]}}class IJ{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){mn("Abstract method `_createSVG` called.")}}class jR extends IJ{_createSVG(t){return document.createElementNS(Fo,t)}}class F3{static setupStorage(t,e,n,s,a){const l=s.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&a.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){var y,b;const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,a=t.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:a,linkService:n});const c=a!=="richText",h=t.div;if(h.append(l),t.viewport){const E=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=E}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const E=document.createTextNode(s.value);l.append(E),c&&Sy.shouldBuildText(s.name)&&d.push(E)}return{textDivs:d}}const p=[[s,-1,l]];for(;p.length>0;){const[E,A,S]=p.at(-1);if(A+1===E.children.length){p.pop();continue}const C=E.children[++p.at(-1)[1]];if(C===null)continue;const{name:x}=C;if(x==="#text"){const k=document.createTextNode(C.value);d.push(k),S.append(k);continue}const F=(y=C==null?void 0:C.attributes)!=null&&y.xmlns?document.createElementNS(C.attributes.xmlns,x):document.createElement(x);if(S.append(F),C.attributes&&this.setAttributes({html:F,element:C,storage:e,intent:a,linkService:n}),((b=C.children)==null?void 0:b.length)>0)p.push([C,-1,F]);else if(C.value){const k=document.createTextNode(C.value);c&&Sy.shouldBuildText(x)&&d.push(k),F.append(k)}}for(const E of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const lb=1e3,kJ=9,ld=new WeakSet;function pl(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class PJ{static create(t){switch(t.data.annotationType){case fi.LINK:return new V3(t);case fi.TEXT:return new MJ(t);case fi.WIDGET:switch(t.data.fieldType){case"Tx":return new OJ(t);case"Btn":return t.data.radioButton?new j3(t):t.data.checkBox?new LJ(t):new NJ(t);case"Ch":return new FJ(t);case"Sig":return new DJ(t)}return new vd(t);case fi.POPUP:return new gx(t);case fi.FREETEXT:return new G3(t);case fi.LINE:return new UJ(t);case fi.SQUARE:return new BJ(t);case fi.CIRCLE:return new jJ(t);case fi.POLYLINE:return new W3(t);case fi.CARET:return new HJ(t);case fi.INK:return new zR(t);case fi.POLYGON:return new zJ(t);case fi.HIGHLIGHT:return new K3(t);case fi.UNDERLINE:return new $J(t);case fi.SQUIGGLY:return new qJ(t);case fi.STRIKEOUT:return new GJ(t);case fi.STAMP:return new Y3(t);case fi.FILEATTACHMENT:return new WJ(t);default:return new Kn(t)}}}var Ph,vp,bp,ov,px;const WR=class WR{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){$(this,ov);$(this,Ph,null);$(this,vp,!1);$(this,bp,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return WR._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;g(this,Ph)||V(this,Ph,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&j(this,ov,px).call(this,e),(n=g(this,bp))==null||n.popup.updateEdited(t)}resetEdited(){var t;g(this,Ph)&&(j(this,ov,px).call(this,g(this,Ph).rect),(t=g(this,bp))==null||t.popup.resetEdited(),V(this,Ph,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof vd||(a.tabIndex=lb);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof gx){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,a),a}const{width:c,height:h}=pl(e.rect);if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(S>0||C>0){const F=`calc(${S}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;l.borderRadius=F}else if(this instanceof j3){const F=`calc(${c}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=F}switch(e.borderStyle.style){case Rm.SOLID:l.borderStyle="solid";break;case Rm.DASHED:l.borderStyle="dashed";break;case Rm.BEVELED:de("Unimplemented border style: beveled");break;case Rm.INSET:de("Unimplemented border style: inset");break;case Rm.UNDERLINE:l.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(V(this,vp,!0),l.borderColor=Vt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const d=Vt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:y,pageX:b,pageY:E}=s.rawDims;l.left=`${100*(d[0]-b)/p}%`,l.top=`${100*(d[1]-E)/y}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(l.width=`${100*c/p}%`,l.height=`${100*h/y}%`):this.setRotation(A,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:l}=pl(this.data.rect);let c,h;t%180===0?(c=100*a/n,h=100*l/s):(c=100*l/n,h=100*a/s),e.style.width=`${c}%`,e.style.height=`${h}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const a=s.detail[e],l=a[0],c=a.slice(1);s.target.style[n]=wD[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:wD[`${l}_rgb`](c)})};return Ae(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||n[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,a]of Object.entries(e)){const l=n[s];if(l){const c={detail:{[s]:a},target:t};l(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,a]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,C,x,F]=t.subarray(2,6);if(s===S&&a===C&&e===x&&n===F)return}const{style:l}=this.container;let c;if(g(this,vp)){const{borderColor:S,borderWidth:C}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const h=s-e,d=a-n,{svgFactory:p}=this,y=p.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=p.createElement("defs");y.append(b);const E=p.createElement("clipPath"),A=`clippath_${this.data.id}`;E.setAttribute("id",A),E.setAttribute("clipPathUnits","objectBoundingBox"),b.append(E);for(let S=2,C=t.length;S<C;S+=8){const x=t[S],F=t[S+1],k=t[S+2],D=t[S+3],U=p.createElement("rect"),W=(k-e)/h,L=(a-F)/d,R=(x-k)/h,N=(F-D)/d;U.setAttribute("x",W),U.setAttribute("y",L),U.setAttribute("width",R),U.setAttribute("height",N),E.append(U),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${W}" y="${L}" width="${R}" height="${N}"/>`)}g(this,vp)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,e=V(this,bp,new gx({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){mn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:l,exportValues:c}of s){if(a===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!ld.has(d)){de(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,l=s.getAttribute("data-element-id");l!==e&&ld.has(s)&&n.push({id:l,exportValue:a,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Ph=new WeakMap,vp=new WeakMap,bp=new WeakMap,ov=new WeakSet,px=function(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...t);const{width:d,height:p}=pl(t);e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+h)/l}%`,s===0?(e.width=`${100*d/a}%`,e.height=`${100*p/l}%`):this.setRotation(s)};let Kn=WR;var Js,Ku,U3,B3;class V3 extends Kn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});$(this,Js);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(n.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(j(this,Js,U3).call(this,s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(j(this,Js,B3).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&j(this,Js,Ku).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),j(this,Js,Ku).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const l=s.get(a);l&&(e[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),j(this,Js,Ku).call(this)}_bindResetFormAction(e,n){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),j(this,Js,Ku).call(this),!this._fieldObjects){de('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var y;s==null||s();const{fields:a,refs:l,include:c}=n,h=[];if(a.length!==0||l.length!==0){const b=new Set(l);for(const E of a){const A=this._fieldObjects[E]||[];for(const{id:S}of A)b.add(S)}for(const E of Object.values(this._fieldObjects))for(const A of E)b.has(A.id)===c&&h.push(A)}else for(const b of Object.values(this._fieldObjects))h.push(...b);const d=this.annotationStorage,p=[];for(const b of h){const{id:E}=b;switch(p.push(E),b.type){case"text":{const S=b.defaultValue||"";d.setValue(E,{value:S});break}case"checkbox":case"radiobutton":{const S=b.defaultValue===b.exportValues;d.setValue(E,{value:S});break}case"combobox":case"listbox":{const S=b.defaultValue||"";d.setValue(E,{value:S});break}default:continue}const A=document.querySelector(`[data-element-id="${E}"]`);if(A){if(!ld.has(A)){de(`_bindResetFormAction - element not allowed: ${E}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Js=new WeakSet,Ku=function(){this.container.setAttribute("data-internal-link","")},U3=function(e,n,s=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},j(this,Js,Ku).call(this)},B3=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),j(this,Js,Ku).call(this)};class MJ extends Kn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class vd extends Kn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return bs.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,a){n.includes("mouse")?t.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{var c;if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l)}}))})}_setEventListeners(t,e,n,s){var a,l,c;for(const[h,d]of n)(d==="Action"||(a=this.data.actions)!=null&&a[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,d,s),d==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Vt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||kJ,a=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(TT*s))||1,y=d/p;l=Math.min(s,h(y/TT))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(d/TT))}a.fontSize=`calc(${l}px * var(--scale-factor))`,a.color=Vt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class OJ extends vd{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),a.setValue(l.id,{[s]:n})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=t.getValue(e,{value:this.data.fieldValue});let c=l.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let d=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ld.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=lb,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",b=>{const E=this.data.defaultFieldValue??"";n.value=p.userValue=E,p.formattedValue=null});let y=b=>{const{formattedValue:E}=p;E!=null&&(b.target.value=E),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",E=>{var S;if(p.focused)return;const{target:A}=E;p.userValue&&(A.value=p.userValue),p.lastCommittedValue=A.value,p.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const A={value(S){p.userValue=S.detail.value??"",t.setValue(e,{value:p.userValue.toString()}),S.target.value=p.userValue},formattedValue(S){const{formattedValue:C}=S.detail;p.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C),t.setValue(e,{formattedValue:C})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var k;const{charLimit:C}=S.detail,{target:x}=S;if(C===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",C);let F=p.userValue;!F||F.length<=C||(F=F.slice(0,C),x.value=p.userValue=F,t.setValue(e,{value:F}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(A,E)}),n.addEventListener("keydown",E=>{var C;p.commitKey=1;let A=-1;if(E.key==="Escape"?A=0:E.key==="Enter"&&!this.data.multiLine?A=2:E.key==="Tab"&&(p.commitKey=3),A===-1)return;const{value:S}=E.target;p.lastCommittedValue!==S&&(p.lastCommittedValue=S,p.userValue=S,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const b=y;y=null,n.addEventListener("blur",E=>{var S,C;if(!p.focused||!E.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(p.focused=!1);const{value:A}=E.target;p.userValue=A,p.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:p.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),b(E)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",E=>{var U;p.lastCommittedValue=null;const{data:A,target:S}=E,{value:C,selectionStart:x,selectionEnd:F}=S;let k=x,D=F;switch(E.inputType){case"deleteWordBackward":{const W=C.substring(0,x).match(/\w*[^\w]*$/);W&&(k-=W[0].length);break}case"deleteWordForward":{const W=C.substring(x).match(/^[^\w]*\w*/);W&&(D+=W[0].length);break}case"deleteContentBackward":x===F&&(k-=1);break;case"deleteContentForward":x===F&&(D+=1);break}E.preventDefault(),(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:k,selEnd:D}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${E}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class DJ extends vd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class LJ extends vd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ld.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=lb,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class j3 extends vd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(ld.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=lb,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const y of this._getElementsByName(d.target.name)){const b=p&&y.id===n;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class NJ extends V3{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class FJ extends vd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");ld.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=lb;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const y=this.data.defaultFieldValue;for(const b of s.options)b.selected=b.value===y});for(const p of this.data.options){const y=document.createElement("option");y.textContent=p.displayValue,y.value=p.exportValue,n.value.includes(p.exportValue)&&(y.setAttribute("selected",!0),a=!1),s.append(y)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const y=p?"value":"textContent",{options:b,multiple:E}=s;return E?Array.prototype.filter.call(b,A=>A.selected).map(A=>A[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let h=c(!1);const d=p=>{const y=p.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const y={value(b){l==null||l();const E=b.detail.value,A=new Set(Array.isArray(E)?E:[E]);for(const S of s.options)S.selected=A.has(S.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(b){s.multiple=!0},remove(b){const E=s.options,A=b.detail.remove;E[A].selected=!1,s.remove(A),E.length>0&&Array.prototype.findIndex.call(E,C=>C.selected)===-1&&(E[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},clear(b){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(b){const{index:E,displayValue:A,exportValue:S}=b.detail.insert,C=s.children[E],x=document.createElement("option");x.textContent=A,x.value=S,C?C.before(x):s.append(x),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},items(b){const{items:E}=b.detail;for(;s.length!==0;)s.remove(0);for(const A of E){const{displayValue:S,exportValue:C}=A,x=document.createElement("option");x.textContent=S,x.value=C,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},indices(b){const E=new Set(b.detail.indices);for(const A of b.target.options)A.selected=E.has(A.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,p)}),s.addEventListener("input",p=>{var E;const y=c(!0),b=c(!1);t.setValue(e,{value:y}),p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class gx extends Kn{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Kn._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new VJ({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${PR}${n}`).join(",")),this.container}}var _p,zE,HE,Ep,Mh,Un,Xo,Ap,lv,cv,Sp,Qo,$r,Zo,uv,Jo,hv,Oh,Dh,on,k_,mx,z3,H3,$3,q3,P_,M_,yx;class VJ{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:y}){$(this,on);$(this,_p,j(this,on,$3).bind(this));$(this,zE,j(this,on,yx).bind(this));$(this,HE,j(this,on,M_).bind(this));$(this,Ep,j(this,on,P_).bind(this));$(this,Mh,null);$(this,Un,null);$(this,Xo,null);$(this,Ap,null);$(this,lv,null);$(this,cv,null);$(this,Sp,null);$(this,Qo,!1);$(this,$r,null);$(this,Zo,null);$(this,uv,null);$(this,Jo,null);$(this,hv,null);$(this,Oh,null);$(this,Dh,!1);var b;V(this,Un,t),V(this,hv,s),V(this,Xo,l),V(this,Jo,c),V(this,cv,h),V(this,Mh,e),V(this,uv,d),V(this,Sp,p),V(this,lv,n),V(this,Ap,DR.toDateObject(a)),this.trigger=n.flatMap(E=>E.getElementsToTriggerPopup());for(const E of this.trigger)E.addEventListener("click",g(this,Ep)),E.addEventListener("mouseenter",g(this,HE)),E.addEventListener("mouseleave",g(this,zE)),E.classList.add("popupTriggerArea");for(const E of n)(b=E.container)==null||b.addEventListener("keydown",g(this,_p));g(this,Un).hidden=!0,y&&j(this,on,P_).call(this)}render(){if(g(this,$r))return;const t=V(this,$r,document.createElement("div"));if(t.className="popup",g(this,Mh)){const a=t.style.outlineColor=Vt.makeHexColor(...g(this,Mh));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:t.style.backgroundColor=Vt.makeHexColor(...g(this,Mh).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=g(this,hv),t.append(e),g(this,Ap)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Ap).valueOf()})),e.append(a)}const s=g(this,on,k_);if(s)F3.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(g(this,Xo));t.append(a)}g(this,Un).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,l=s.length;a<l;++a){const c=s[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;g(this,Oh)||V(this,Oh,{contentsObj:g(this,Xo),richText:g(this,Jo)}),t&&V(this,Zo,null),e&&(V(this,Jo,j(this,on,H3).call(this,e)),V(this,Xo,null)),(n=g(this,$r))==null||n.remove(),V(this,$r,null)}resetEdited(){var t;g(this,Oh)&&({contentsObj:gs(this,Xo)._,richText:gs(this,Jo)._}=g(this,Oh),V(this,Oh,null),(t=g(this,$r))==null||t.remove(),V(this,$r,null),V(this,Zo,null))}forceHide(){V(this,Dh,this.isVisible),g(this,Dh)&&(g(this,Un).hidden=!0)}maybeShow(){g(this,Dh)&&(g(this,$r)||j(this,on,M_).call(this),V(this,Dh,!1),g(this,Un).hidden=!1)}get isVisible(){return g(this,Un).hidden===!1}}_p=new WeakMap,zE=new WeakMap,HE=new WeakMap,Ep=new WeakMap,Mh=new WeakMap,Un=new WeakMap,Xo=new WeakMap,Ap=new WeakMap,lv=new WeakMap,cv=new WeakMap,Sp=new WeakMap,Qo=new WeakMap,$r=new WeakMap,Zo=new WeakMap,uv=new WeakMap,Jo=new WeakMap,hv=new WeakMap,Oh=new WeakMap,Dh=new WeakMap,on=new WeakSet,k_=function(){const t=g(this,Jo),e=g(this,Xo);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&g(this,Jo).html||null},mx=function(){var t,e,n;return((n=(e=(t=g(this,on,k_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},z3=function(){var t,e,n;return((n=(e=(t=g(this,on,k_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},H3=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:g(this,on,z3),fontSize:g(this,on,mx)?`calc(${g(this,on,mx)}px * var(--scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return n},$3=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&g(this,Qo))&&j(this,on,P_).call(this)},q3=function(){if(g(this,Zo)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:a}}}=g(this,cv);let l=!!g(this,Sp),c=l?g(this,Sp):g(this,uv);for(const A of g(this,lv))if(!c||Vt.intersect(A.data.rect,c)!==null){c=A.data.rect,l=!0;break}const h=Vt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,y=h[0]+p,b=h[1];V(this,Zo,[100*(y-s)/e,100*(b-a)/n]);const{style:E}=g(this,Un);E.left=`${g(this,Zo)[0]}%`,E.top=`${g(this,Zo)[1]}%`},P_=function(){V(this,Qo,!g(this,Qo)),g(this,Qo)?(j(this,on,M_).call(this),g(this,Un).addEventListener("click",g(this,Ep)),g(this,Un).addEventListener("keydown",g(this,_p))):(j(this,on,yx).call(this),g(this,Un).removeEventListener("click",g(this,Ep)),g(this,Un).removeEventListener("keydown",g(this,_p)))},M_=function(){g(this,$r)||this.render(),this.isVisible?g(this,Qo)&&g(this,Un).classList.add("focused"):(j(this,on,q3).call(this),g(this,Un).hidden=!1,g(this,Un).style.zIndex=parseInt(g(this,Un).style.zIndex)+1e3)},yx=function(){g(this,Un).classList.remove("focused"),!(g(this,Qo)||!this.isVisible)&&(g(this,Un).hidden=!0,g(this,Un).style.zIndex=parseInt(g(this,Un).style.zIndex)-1e3)};class G3 extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var dv;class UJ extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,dv,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:s}=pl(e.rect),a=this.svgFactory.create(n,s,!0),l=V(this,dv,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),l.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),l.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),l.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,dv)}addHighlightArea(){this.container.classList.add("highlightArea")}}dv=new WeakMap;var fv;class BJ extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,fv,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:s}=pl(e.rect),a=this.svgFactory.create(n,s,!0),l=e.borderStyle.width,c=V(this,fv,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,fv)}addHighlightArea(){this.container.classList.add("highlightArea")}}fv=new WeakMap;var pv;class jJ extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,pv,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:s}=pl(e.rect),a=this.svgFactory.create(n,s,!0),l=e.borderStyle.width,c=V(this,pv,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,pv)}addHighlightArea(){this.container.classList.add("highlightArea")}}pv=new WeakMap;var gv;class W3 extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,gv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:s,popupRef:a}}=this;if(!n)return this.container;const{width:l,height:c}=pl(e),h=this.svgFactory.create(l,c,!0);let d=[];for(let y=0,b=n.length;y<b;y+=2){const E=n[y]-e[0],A=e[3]-n[y+1];d.push(`${E},${A}`)}d=d.join(" ");const p=V(this,gv,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,gv)}addHighlightArea(){this.container.classList.add("highlightArea")}}gv=new WeakMap;class zJ extends W3{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class HJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mv;class zR extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,mv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?le.HIGHLIGHT:le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:s,popupRef:a}}=this,{width:l,height:c}=pl(e),h=this.svgFactory.create(l,c,!0);for(const d of n){let p=[];for(let b=0,E=d.length;b<E;b+=2){const A=d[b]-e[0],S=e[3]-d[b+1];p.push(`${A},${S}`)}p=p.join(" ");const y=this.svgFactory.createElement(this.svgElementName);g(this,mv).push(y),y.setAttribute("points",p),y.setAttribute("stroke-width",s.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),h.append(y)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}mv=new WeakMap;class K3 extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=le.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class $J extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class qJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Y3 extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var yv,vv,vx;class WJ extends Kn{constructor(e){var s;super(e,{isRenderable:!0});$(this,vv);$(this,yv,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",j(this,vv,vx).bind(this)),V(this,yv,s);const{isMac:a}=bs.platform;return e.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&j(this,vv,vx).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return g(this,yv)}addHighlightArea(){this.container.classList.add("highlightArea")}}yv=new WeakMap,vv=new WeakSet,vx=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var bv,Lh,Nh,_v,ud,X3,bx,YD;let KJ=(YD=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:l,structTreeLayer:c}){$(this,ud);$(this,bv,null);$(this,Lh,null);$(this,Nh,new Map);$(this,_v,null);this.div=t,V(this,bv,e),V(this,Lh,n),V(this,_v,c||null),this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return g(this,Nh).size>0}async render(t){var l;const{annotations:e}=t,n=this.div;ad(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new jR,annotationStorage:t.annotationStorage||new NR,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===fi.POPUP;if(h){const y=s.get(c.id);if(!y)continue;a.elements=y}else{const{width:y,height:b}=pl(c.rect);if(y<=0||b<=0)continue}a.data=c;const d=PJ.create(a);if(!d.isRenderable)continue;if(!h&&c.popupRef){const y=s.get(c.popupRef);y?y.push(d):s.set(c.popupRef,[d])}const p=d.render();c.hidden&&(p.style.visibility="hidden"),await j(this,ud,X3).call(this,p,c.id),d._isEditable&&(g(this,Nh).set(d.data.id,d),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(d))}j(this,ud,bx).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,ad(e,{rotation:t.rotation}),j(this,ud,bx).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Nh).values())}getEditableAnnotation(t){return g(this,Nh).get(t)}},bv=new WeakMap,Lh=new WeakMap,Nh=new WeakMap,_v=new WeakMap,ud=new WeakSet,X3=async function(t,e){var l,c;const n=t.firstChild||t,s=n.id=`${PR}${e}`,a=await((l=g(this,_v))==null?void 0:l.getAriaAttributes(s));if(a)for(const[h,d]of a)n.setAttribute(h,d);this.div.append(t),(c=g(this,bv))==null||c.moveElementInDOM(this.div,t,n,!1)},bx=function(){if(!g(this,Lh))return;const t=this.div;for(const[e,n]of g(this,Lh)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n)}g(this,Lh).clear()},YD);const e_=/\r\n?|\n/g;var qr,Gs,Ev,Fh,Ws,ai,Q3,Z3,J3,O_,ml,D_,L_,t5,Ex,e5;const pn=class pn extends Ye{constructor(e){super({...e,name:"freeTextEditor"});$(this,ai);$(this,qr);$(this,Gs,"");$(this,Ev,`${this.id}-editor`);$(this,Fh,null);$(this,Ws);V(this,qr,e.color||pn._defaultColor||Ye._defaultLineColor),V(this,Ws,e.fontSize||pn._defaultFontSize)}static get _keyboardManager(){const e=pn.prototype,n=l=>l.isEmpty(),s=od.TRANSLATE_SMALL,a=od.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new ob([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(e,n){Ye.initialize(e,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ne.FREETEXT_SIZE:pn._defaultFontSize=n;break;case ne.FREETEXT_COLOR:pn._defaultColor=n;break}}updateParams(e,n){switch(e){case ne.FREETEXT_SIZE:j(this,ai,Q3).call(this,n);break;case ne.FREETEXT_COLOR:j(this,ai,Z3).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,pn._defaultFontSize],[ne.FREETEXT_COLOR,pn._defaultColor||Ye._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,g(this,Ws)],[ne.FREETEXT_COLOR,g(this,qr)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-pn._internalPadding*e,-(pn._internalPadding+g(this,Ws))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(le.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),V(this,Fh,new AbortController);const e=this._uiManager.combinedSignal(g(this,Fh));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,Ev)),this._isDraggable=!0,(e=g(this,Fh))==null||e.abort(),V(this,Fh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=g(this,Gs),n=V(this,Gs,j(this,ai,J3).call(this).trimEnd());if(e===n)return;const s=a=>{if(V(this,Gs,a),!a){this.remove();return}j(this,ai,L_).call(this),this._uiManager.rebuild(this),j(this,ai,O_).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(e)},mustExec:!1}),j(this,ai,O_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){pn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,Ev)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${g(this,Ws)}px * var(--scale-factor))`,s.color=g(this,qr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),SE(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,y]=this.pageDimensions,[b,E]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=e+(c[0]-b)/p,S=n+this.height-(c[1]-E)/y;break;case 90:A=e+(c[0]-b)/p,S=n-(c[1]-E)/y,[h,d]=[d,-h];break;case 180:A=e-this.width+(c[0]-b)/p,S=n-(c[1]-E)/y,[h,d]=[-h,-d];break;case 270:A=e+(c[0]-b-this.height*y)/p,S=n+(c[1]-E-this.width*p)/y,[h,d]=[-d,h];break}this.setAt(A*a,S*l,h,d)}else this.setAt(e*a,n*l,this.width*a,this.height*l);j(this,ai,L_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var A,S,C;const n=e.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=j(A=pn,ml,Ex).call(A,n.getData("text")||"").replaceAll(e_,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=c,p=[],y=[];if(h.nodeType===Node.TEXT_NODE){const x=h.parentElement;if(y.push(h.nodeValue.slice(d).replaceAll(e_,"")),x!==this.editorDiv){let F=p;for(const k of this.editorDiv.childNodes){if(k===x){F=y;continue}F.push(j(S=pn,ml,D_).call(S,k))}}p.push(h.nodeValue.slice(0,d).replaceAll(e_,""))}else if(h===this.editorDiv){let x=p,F=0;for(const k of this.editorDiv.childNodes)F++===d&&(x=y),x.push(j(C=pn,ml,D_).call(C,k))}V(this,Gs,`${p.join(`
`)}${a}${y.join(`
`)}`),j(this,ai,L_).call(this);const b=new Range;let E=p.reduce((x,F)=>x+F.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const F=x.nodeValue.length;if(E<=F){b.setStart(x,E),b.setEnd(x,E);break}E-=F}l.removeAllRanges(),l.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,s){var c;let a=null;if(e instanceof G3){const{data:{defaultAppearanceData:{fontSize:h,fontColor:d},rect:p,rotation:y,id:b,popupRef:E},textContent:A,textPosition:S,parent:{page:{pageNumber:C}}}=e;if(!A||A.length===0)return null;a=e={annotationType:le.FREETEXT,color:Array.from(d),fontSize:h,value:A.join(`
`),position:S,pageIndex:C-1,rect:p.slice(0),rotation:y,id:b,deleted:!1,popupRef:E}}const l=await super.deserialize(e,n,s);return V(l,Ws,e.fontSize),V(l,qr,Vt.makeHexColor(...e.color)),V(l,Gs,j(c=pn,ml,Ex).call(c,e.value)),l.annotationElementId=e.id||null,l._initialData=a,l}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=pn._internalPadding*this.parentScale,s=this.getRect(n,n),a=Ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,qr)),l={annotationType:le.FREETEXT,color:a,fontSize:g(this,Ws),value:j(this,ai,t5).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?l:this.annotationElementId&&!j(this,ai,e5).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${g(this,Ws)}px * var(--scale-factor))`,s.color=g(this,qr),n.replaceChildren();for(const l of g(this,Gs).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const a=pn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:g(this,Gs)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};qr=new WeakMap,Gs=new WeakMap,Ev=new WeakMap,Fh=new WeakMap,Ws=new WeakMap,ai=new WeakSet,Q3=function(e){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-g(this,Ws))*this.parentScale),V(this,Ws,a),j(this,ai,O_).call(this)},s=g(this,Ws);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Z3=function(e){const n=a=>{V(this,qr,this.editorDiv.style.color=a)},s=g(this,qr);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},J3=function(){var s;const e=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(j(s=pn,ml,D_).call(s,a)),n=a);return e.join(`
`)},O_=function(){const[e,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/n):(this.width=s.height/e,this.height=s.width/n),this.fixAndSetPosition()},ml=new WeakSet,D_=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(e_,"")},L_=function(){if(this.editorDiv.replaceChildren(),!!g(this,Gs))for(const e of g(this,Gs).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},t5=function(){return g(this,Gs).replaceAll(""," ")},Ex=function(e){return e.replaceAll(" ","")},e5=function(e){const{value:n,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==s||e.color.some((c,h)=>c!==a[h])||e.pageIndex!==l},$(pn,ml),Qt(pn,"_freeTextDefaultContent",""),Qt(pn,"_internalPadding",0),Qt(pn,"_defaultColor",null),Qt(pn,"_defaultFontSize",10),Qt(pn,"_type","freetext"),Qt(pn,"_editorType",le.FREETEXT);let _x=pn;class n5{toSVGPath(){mn("Abstract method `toSVGPath` must be implemented.")}get box(){mn("Abstract getter `box` must be implemented.")}serialize(t,e){mn("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){mn("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){mn("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ks,Gr,wp,Tp,Va,me,Vh,Uh,Av,Sv,xp,Cp,Mc,wv,$E,qE,vi,Gm,i5,s5,r5,a5,o5,l5;const Uo=class Uo{constructor({x:t,y:e},n,s,a,l,c=0){$(this,vi);$(this,Ks);$(this,Gr,[]);$(this,wp);$(this,Tp);$(this,Va,[]);$(this,me,new Float64Array(18));$(this,Vh);$(this,Uh);$(this,Av);$(this,Sv);$(this,xp);$(this,Cp);$(this,Mc,[]);V(this,Ks,n),V(this,Cp,a*s),V(this,Tp,l),g(this,me).set([NaN,NaN,NaN,NaN,t,e],6),V(this,wp,c),V(this,Sv,g(Uo,wv)*s),V(this,Av,g(Uo,qE)*s),V(this,xp,s),g(this,Mc).push(t,e)}isEmpty(){return isNaN(g(this,me)[8])}add({x:t,y:e}){var N;V(this,Vh,t),V(this,Uh,e);const[n,s,a,l]=g(this,Ks);let[c,h,d,p]=g(this,me).subarray(8,12);const y=t-d,b=e-p,E=Math.hypot(y,b);if(E<g(this,Av))return!1;const A=E-g(this,Sv),S=A/E,C=S*y,x=S*b;let F=c,k=h;c=d,h=p,d+=C,p+=x,(N=g(this,Mc))==null||N.push(t,e);const D=-x/A,U=C/A,W=D*g(this,Cp),L=U*g(this,Cp);return g(this,me).set(g(this,me).subarray(2,8),0),g(this,me).set([d+W,p+L],4),g(this,me).set(g(this,me).subarray(14,18),12),g(this,me).set([d-W,p-L],16),isNaN(g(this,me)[6])?(g(this,Va).length===0&&(g(this,me).set([c+W,h+L],2),g(this,Va).push(NaN,NaN,NaN,NaN,(c+W-n)/a,(h+L-s)/l),g(this,me).set([c-W,h-L],14),g(this,Gr).push(NaN,NaN,NaN,NaN,(c-W-n)/a,(h-L-s)/l)),g(this,me).set([F,k,c,h,d,p],6),!this.isEmpty()):(g(this,me).set([F,k,c,h,d,p],6),Math.abs(Math.atan2(k-h,F-c)-Math.atan2(x,C))<Math.PI/2?([c,h,d,p]=g(this,me).subarray(2,6),g(this,Va).push(NaN,NaN,NaN,NaN,((c+d)/2-n)/a,((h+p)/2-s)/l),[c,h,F,k]=g(this,me).subarray(14,18),g(this,Gr).push(NaN,NaN,NaN,NaN,((F+c)/2-n)/a,((k+h)/2-s)/l),!0):([F,k,c,h,d,p]=g(this,me).subarray(0,6),g(this,Va).push(((F+5*c)/6-n)/a,((k+5*h)/6-s)/l,((5*c+d)/6-n)/a,((5*h+p)/6-s)/l,((c+d)/2-n)/a,((h+p)/2-s)/l),[d,p,c,h,F,k]=g(this,me).subarray(12,18),g(this,Gr).push(((F+5*c)/6-n)/a,((k+5*h)/6-s)/l,((5*c+d)/6-n)/a,((5*h+p)/6-s)/l,((c+d)/2-n)/a,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=g(this,Va),e=g(this,Gr);if(isNaN(g(this,me)[6])&&!this.isEmpty())return j(this,vi,i5).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);j(this,vi,r5).call(this,n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return j(this,vi,s5).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,s,a,l){return new c5(t,e,n,s,a,l)}getOutlines(){var y;const t=g(this,Va),e=g(this,Gr),n=g(this,me),[s,a,l,c]=g(this,Ks),h=new Float64Array((((y=g(this,Mc))==null?void 0:y.length)??0)+2);for(let b=0,E=h.length-2;b<E;b+=2)h[b]=(g(this,Mc)[b]-s)/l,h[b+1]=(g(this,Mc)[b+1]-a)/c;if(h[h.length-2]=(g(this,Vh)-s)/l,h[h.length-1]=(g(this,Uh)-a)/c,isNaN(n[6])&&!this.isEmpty())return j(this,vi,a5).call(this,h);const d=new Float64Array(g(this,Va).length+24+g(this,Gr).length);let p=t.length;for(let b=0;b<p;b+=2){if(isNaN(t[b])){d[b]=d[b+1]=NaN;continue}d[b]=t[b],d[b+1]=t[b+1]}p=j(this,vi,l5).call(this,d,p);for(let b=e.length-6;b>=6;b-=6)for(let E=0;E<6;E+=2){if(isNaN(e[b+E])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[b+E],d[p+1]=e[b+E+1],p+=2}return j(this,vi,o5).call(this,d,p),this.newFreeDrawOutline(d,h,g(this,Ks),g(this,xp),g(this,wp),g(this,Tp))}};Ks=new WeakMap,Gr=new WeakMap,wp=new WeakMap,Tp=new WeakMap,Va=new WeakMap,me=new WeakMap,Vh=new WeakMap,Uh=new WeakMap,Av=new WeakMap,Sv=new WeakMap,xp=new WeakMap,Cp=new WeakMap,Mc=new WeakMap,wv=new WeakMap,$E=new WeakMap,qE=new WeakMap,vi=new WeakSet,Gm=function(){const t=g(this,me).subarray(4,6),e=g(this,me).subarray(16,18),[n,s,a,l]=g(this,Ks);return[(g(this,Vh)+(t[0]-e[0])/2-n)/a,(g(this,Uh)+(t[1]-e[1])/2-s)/l,(g(this,Vh)+(e[0]-t[0])/2-n)/a,(g(this,Uh)+(e[1]-t[1])/2-s)/l]},i5=function(){const[t,e,n,s]=g(this,Ks),[a,l,c,h]=j(this,vi,Gm).call(this);return`M${(g(this,me)[2]-t)/n} ${(g(this,me)[3]-e)/s} L${(g(this,me)[4]-t)/n} ${(g(this,me)[5]-e)/s} L${a} ${l} L${c} ${h} L${(g(this,me)[16]-t)/n} ${(g(this,me)[17]-e)/s} L${(g(this,me)[14]-t)/n} ${(g(this,me)[15]-e)/s} Z`},s5=function(t){const e=g(this,Gr);t.push(`L${e[4]} ${e[5]} Z`)},r5=function(t){const[e,n,s,a]=g(this,Ks),l=g(this,me).subarray(4,6),c=g(this,me).subarray(16,18),[h,d,p,y]=j(this,vi,Gm).call(this);t.push(`L${(l[0]-e)/s} ${(l[1]-n)/a} L${h} ${d} L${p} ${y} L${(c[0]-e)/s} ${(c[1]-n)/a}`)},a5=function(t){const e=g(this,me),[n,s,a,l]=g(this,Ks),[c,h,d,p]=j(this,vi,Gm).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-s)/l,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-s)/l,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-s)/l],0),this.newFreeDrawOutline(y,t,g(this,Ks),g(this,xp),g(this,wp),g(this,Tp))},o5=function(t,e){const n=g(this,Gr);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},l5=function(t,e){const n=g(this,me).subarray(4,6),s=g(this,me).subarray(16,18),[a,l,c,h]=g(this,Ks),[d,p,y,b]=j(this,vi,Gm).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/h],e),e+=24},$(Uo,wv,8),$(Uo,$E,2),$(Uo,qE,g(Uo,wv)+g(Uo,$E));let TE=Uo;var Rp,Bh,tl,Tv,Ys,xv,$n,Ms,Wm,Km,u5;class c5 extends n5{constructor(e,n,s,a,l,c){super();$(this,Ms);$(this,Rp);$(this,Bh,null);$(this,tl);$(this,Tv);$(this,Ys);$(this,xv);$(this,$n);V(this,$n,e),V(this,Ys,n),V(this,Rp,s),V(this,xv,a),V(this,tl,l),V(this,Tv,c),j(this,Ms,u5).call(this,c);const{x:h,y:d,width:p,height:y}=g(this,Bh);for(let b=0,E=e.length;b<E;b+=2)e[b]=(e[b]-h)/p,e[b+1]=(e[b+1]-d)/y;for(let b=0,E=n.length;b<E;b+=2)n[b]=(n[b]-h)/p,n[b+1]=(n[b+1]-d)/y}toSVGPath(){const e=[`M${g(this,$n)[4]} ${g(this,$n)[5]}`];for(let n=6,s=g(this,$n).length;n<s;n+=6){if(isNaN(g(this,$n)[n])){e.push(`L${g(this,$n)[n+4]} ${g(this,$n)[n+5]}`);continue}e.push(`C${g(this,$n)[n]} ${g(this,$n)[n+1]} ${g(this,$n)[n+2]} ${g(this,$n)[n+3]} ${g(this,$n)[n+4]} ${g(this,$n)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,s,a],l){const c=s-e,h=a-n;let d,p;switch(l){case 0:d=j(this,Ms,Wm).call(this,g(this,$n),e,a,c,-h),p=j(this,Ms,Wm).call(this,g(this,Ys),e,a,c,-h);break;case 90:d=j(this,Ms,Km).call(this,g(this,$n),e,n,c,h),p=j(this,Ms,Km).call(this,g(this,Ys),e,n,c,h);break;case 180:d=j(this,Ms,Wm).call(this,g(this,$n),s,n,-c,h),p=j(this,Ms,Wm).call(this,g(this,Ys),s,n,-c,h);break;case 270:d=j(this,Ms,Km).call(this,g(this,$n),s,a,-c,-h),p=j(this,Ms,Km).call(this,g(this,Ys),s,a,-c,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}get box(){return g(this,Bh)}newOutliner(e,n,s,a,l,c=0){return new TE(e,n,s,a,l,c)}getNewOutline(e,n){const{x:s,y:a,width:l,height:c}=g(this,Bh),[h,d,p,y]=g(this,Rp),b=l*p,E=c*y,A=s*p+h,S=a*y+d,C=this.newOutliner({x:g(this,Ys)[0]*b+A,y:g(this,Ys)[1]*E+S},g(this,Rp),g(this,xv),e,g(this,Tv),n??g(this,tl));for(let x=2;x<g(this,Ys).length;x+=2)C.add({x:g(this,Ys)[x]*b+A,y:g(this,Ys)[x+1]*E+S});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Rp=new WeakMap,Bh=new WeakMap,tl=new WeakMap,Tv=new WeakMap,Ys=new WeakMap,xv=new WeakMap,$n=new WeakMap,Ms=new WeakSet,Wm=function(e,n,s,a,l){const c=new Float64Array(e.length);for(let h=0,d=e.length;h<d;h+=2)c[h]=n+e[h]*a,c[h+1]=s+e[h+1]*l;return c},Km=function(e,n,s,a,l){const c=new Float64Array(e.length);for(let h=0,d=e.length;h<d;h+=2)c[h]=n+e[h+1]*a,c[h+1]=s+e[h]*l;return c},u5=function(e){const n=g(this,$n);let s=n[4],a=n[5],l=s,c=a,h=s,d=a,p=s,y=a;const b=e?Math.max:Math.min;for(let x=6,F=n.length;x<F;x+=6){if(isNaN(n[x]))l=Math.min(l,n[x+4]),c=Math.min(c,n[x+5]),h=Math.max(h,n[x+4]),d=Math.max(d,n[x+5]),y<n[x+5]?(p=n[x+4],y=n[x+5]):y===n[x+5]&&(p=b(p,n[x+4]));else{const k=Vt.bezierBoundingBox(s,a,...n.slice(x,x+6));l=Math.min(l,k[0]),c=Math.min(c,k[1]),h=Math.max(h,k[2]),d=Math.max(d,k[3]),y<k[3]?(p=k[2],y=k[3]):y===k[3]&&(p=b(p,k[2]))}s=n[x+4],a=n[x+5]}const E=l-g(this,tl),A=c-g(this,tl),S=h-l+2*g(this,tl),C=d-c+2*g(this,tl);V(this,Bh,{x:E,y:A,width:S,height:C,lastPoint:[p,y]})};var Cv,Oc,Wr,Es,h5,N_,d5,f5,Ax;class TD{constructor(t,e=0,n=0,s=!0){$(this,Es);$(this,Cv);$(this,Oc,[]);$(this,Wr,[]);let a=1/0,l=-1/0,c=1/0,h=-1/0;const d=10**-4;for(const{x:C,y:x,width:F,height:k}of t){const D=Math.floor((C-e)/d)*d,U=Math.ceil((C+F+e)/d)*d,W=Math.floor((x-e)/d)*d,L=Math.ceil((x+k+e)/d)*d,R=[D,W,L,!0],N=[U,W,L,!1];g(this,Oc).push(R,N),a=Math.min(a,D),l=Math.max(l,U),c=Math.min(c,W),h=Math.max(h,L)}const p=l-a+2*n,y=h-c+2*n,b=a-n,E=c-n,A=g(this,Oc).at(s?-1:-2),S=[A[0],A[2]];for(const C of g(this,Oc)){const[x,F,k]=C;C[0]=(x-b)/p,C[1]=(F-E)/y,C[2]=(k-E)/y}V(this,Cv,{x:b,y:E,width:p,height:y,lastPoint:S})}getOutlines(){g(this,Oc).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of g(this,Oc))e[3]?(t.push(...j(this,Es,Ax).call(this,e)),j(this,Es,d5).call(this,e)):(j(this,Es,f5).call(this,e),t.push(...j(this,Es,Ax).call(this,e)));return j(this,Es,h5).call(this,t)}}Cv=new WeakMap,Oc=new WeakMap,Wr=new WeakMap,Es=new WeakSet,h5=function(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,y]=l;n.delete(l);let b=c,E=h;for(a=[c,d],s.push(a);;){let A;if(n.has(p))A=p;else if(n.has(y))A=y;else break;n.delete(A),[c,h,d,p,y]=A,b!==c&&(a.push(b,E,c,E===h?h:d),b=c),E=E===h?d:h}a.push(b,E)}return new YJ(s,g(this,Cv))},N_=function(t){const e=g(this,Wr);let n=0,s=e.length-1;for(;n<=s;){const a=n+s>>1,l=e[a][0];if(l===t)return a;l<t?n=a+1:s=a-1}return s+1},d5=function([,t,e]){const n=j(this,Es,N_).call(this,t);g(this,Wr).splice(n,0,[t,e])},f5=function([,t,e]){const n=j(this,Es,N_).call(this,t);for(let s=n;s<g(this,Wr).length;s++){const[a,l]=g(this,Wr)[s];if(a!==t)break;if(a===t&&l===e){g(this,Wr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,l]=g(this,Wr)[s];if(a!==t)break;if(a===t&&l===e){g(this,Wr).splice(s,1);return}}},Ax=function(t){const[e,n,s]=t,a=[[e,n,s]],l=j(this,Es,N_).call(this,s);for(let c=0;c<l;c++){const[h,d]=g(this,Wr)[c];for(let p=0,y=a.length;p<y;p++){const[,b,E]=a[p];if(!(d<=b||E<=h)){if(b>=h){if(E>d)a[p][1]=d;else{if(y===1)return[];a.splice(p,1),p--,y--}continue}a[p][2]=h,E>d&&a.push([e,d,E])}}}return a};var Rv,Ip;class YJ extends n5{constructor(e,n){super();$(this,Rv);$(this,Ip);V(this,Ip,e),V(this,Rv,n)}toSVGPath(){const e=[];for(const n of g(this,Ip)){let[s,a]=n;e.push(`M${s} ${a}`);for(let l=2;l<n.length;l+=2){const c=n[l],h=n[l+1];c===s?(e.push(`V${h}`),a=h):h===a&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,n,s,a],l){const c=[],h=s-e,d=a-n;for(const p of g(this,Ip)){const y=new Array(p.length);for(let b=0;b<p.length;b+=2)y[b]=e+p[b]*h,y[b+1]=a-p[b+1]*d;c.push(y)}return c}get box(){return g(this,Rv)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Rv=new WeakMap,Ip=new WeakMap;class Sx extends TE{newFreeDrawOutline(t,e,n,s,a,l){return new XJ(t,e,n,s,a,l)}get classNamesForDrawing(){return["highlight","free"]}}class XJ extends c5{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,s,a,l=0){return new Sx(t,e,n,s,a,l)}}var Kr,jh,kp,gi,Iv,Pp,kv,Pv,Dc,Yr,Mp,Mv,an,wx,Tx,xx,Yu,p5,lc;const xs=class xs{constructor({editor:t=null,uiManager:e=null}){$(this,an);$(this,Kr,null);$(this,jh,null);$(this,kp);$(this,gi,null);$(this,Iv,!1);$(this,Pp,!1);$(this,kv,null);$(this,Pv);$(this,Dc,null);$(this,Yr,null);$(this,Mp);var n;t?(V(this,Pp,!1),V(this,Mp,ne.HIGHLIGHT_COLOR),V(this,kv,t)):(V(this,Pp,!0),V(this,Mp,ne.HIGHLIGHT_DEFAULT_COLOR)),V(this,Yr,(t==null?void 0:t._uiManager)||e),V(this,Pv,g(this,Yr)._eventBus),V(this,kp,(t==null?void 0:t.color)||((n=g(this,Yr))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(xs,Mv)||V(xs,Mv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ae(this,"_keyboardManager",new ob([[["Escape","mac+Escape"],xs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xs.prototype._moveToPrevious],[["Home","mac+Home"],xs.prototype._moveToBeginning],[["End","mac+End"],xs.prototype._moveToEnd]]))}renderButton(){const t=V(this,Kr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=g(this,Yr)._signal;t.addEventListener("click",j(this,an,Yu).bind(this),{signal:e}),t.addEventListener("keydown",j(this,an,xx).bind(this),{signal:e});const n=V(this,jh,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,kp),t.append(n),t}renderMainDropdown(){const t=V(this,gi,j(this,an,wx).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===g(this,Kr)){j(this,an,Yu).call(this,t);return}const e=t.target.getAttribute("data-color");e&&j(this,an,Tx).call(this,e,t)}_moveToNext(t){var e,n;if(!g(this,an,lc)){j(this,an,Yu).call(this,t);return}if(t.target===g(this,Kr)){(e=g(this,gi).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=g(this,gi))==null?void 0:e.firstChild)||t.target===g(this,Kr)){g(this,an,lc)&&this._hideDropdownFromKeyboard();return}g(this,an,lc)||j(this,an,Yu).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!g(this,an,lc)){j(this,an,Yu).call(this,t);return}(e=g(this,gi).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!g(this,an,lc)){j(this,an,Yu).call(this,t);return}(e=g(this,gi).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=g(this,gi))==null||t.classList.add("hidden"),(e=g(this,Dc))==null||e.abort(),V(this,Dc,null)}_hideDropdownFromKeyboard(){var t;if(!g(this,Pp)){if(!g(this,an,lc)){(t=g(this,kv))==null||t.unselect();return}this.hideDropdown(),g(this,Kr).focus({preventScroll:!0,focusVisible:g(this,Iv)})}}updateColor(t){if(g(this,jh)&&(g(this,jh).style.backgroundColor=t),!g(this,gi))return;const e=g(this,Yr).highlightColors.values();for(const n of g(this,gi).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=g(this,Kr))==null||t.remove(),V(this,Kr,null),V(this,jh,null),(e=g(this,gi))==null||e.remove(),V(this,gi,null)}};Kr=new WeakMap,jh=new WeakMap,kp=new WeakMap,gi=new WeakMap,Iv=new WeakMap,Pp=new WeakMap,kv=new WeakMap,Pv=new WeakMap,Dc=new WeakMap,Yr=new WeakMap,Mp=new WeakMap,Mv=new WeakMap,an=new WeakSet,wx=function(){const t=document.createElement("div"),e=g(this,Yr)._signal;t.addEventListener("contextmenu",Ir,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of g(this,Yr).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",g(xs,Mv)[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=s,a.setAttribute("aria-selected",s===g(this,kp)),a.addEventListener("click",j(this,an,Tx).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",j(this,an,xx).bind(this),{signal:e}),t},Tx=function(t,e){e.stopPropagation(),g(this,Pv).dispatch("switchannotationeditorparams",{source:this,type:g(this,Mp),value:t})},xx=function(t){xs._keyboardManager.exec(this,t)},Yu=function(t){if(g(this,an,lc)){this.hideDropdown();return}if(V(this,Iv,t.detail===0),g(this,Dc)||(V(this,Dc,new AbortController),window.addEventListener("pointerdown",j(this,an,p5).bind(this),{signal:g(this,Yr).combinedSignal(g(this,Dc))})),g(this,gi)){g(this,gi).classList.remove("hidden");return}const e=V(this,gi,j(this,an,wx).call(this));g(this,Kr).append(e)},p5=function(t){var e;(e=g(this,gi))!=null&&e.contains(t.target)||this.hideDropdown()},lc=function(){return g(this,gi)&&!g(this,gi).classList.contains("hidden")},$(xs,Mv,null);let xE=xs;var Op,Ov,el,zh,Dp,_r,Dv,Lv,Hh,Xr,ns,Is,Lp,nl,mi,Np,Er,Nv,ae,Cx,F_,g5,m5,y5,Rx,Xu,Cr,If,v5,V_,Ym,b5,_5,E5,A5,S5;const Fe=class Fe extends Ye{constructor(e){super({...e,name:"highlightEditor"});$(this,ae);$(this,Op,null);$(this,Ov,0);$(this,el);$(this,zh,null);$(this,Dp,null);$(this,_r,null);$(this,Dv,null);$(this,Lv,0);$(this,Hh,null);$(this,Xr,null);$(this,ns,null);$(this,Is,!1);$(this,Lp,null);$(this,nl);$(this,mi,null);$(this,Np,"");$(this,Er);$(this,Nv,"");this.color=e.color||Fe._defaultColor,V(this,Er,e.thickness||Fe._defaultThickness),V(this,nl,e.opacity||Fe._defaultOpacity),V(this,el,e.boxes||null),V(this,Nv,e.methodOfCreation||""),V(this,Np,e.text||""),this._isDraggable=!1,e.highlightId>-1?(V(this,Is,!0),j(this,ae,F_).call(this,e),j(this,ae,Xu).call(this)):g(this,el)&&(V(this,Op,e.anchorNode),V(this,Ov,e.anchorOffset),V(this,Dv,e.focusNode),V(this,Lv,e.focusOffset),j(this,ae,Cx).call(this),j(this,ae,Xu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Fe.prototype;return Ae(this,"_keyboardManager",new ob([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Is)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Er),methodOfCreation:g(this,Nv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var s;Ye.initialize(e,n),Fe._defaultColor||(Fe._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case ne.HIGHLIGHT_DEFAULT_COLOR:Fe._defaultColor=n;break;case ne.HIGHLIGHT_THICKNESS:Fe._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return g(this,Lp)}updateParams(e,n){switch(e){case ne.HIGHLIGHT_COLOR:j(this,ae,g5).call(this,n);break;case ne.HIGHLIGHT_THICKNESS:j(this,ae,m5).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_DEFAULT_COLOR,Fe._defaultColor],[ne.HIGHLIGHT_THICKNESS,Fe._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||Fe._defaultColor],[ne.HIGHLIGHT_THICKNESS,g(this,Er)||Fe._defaultThickness],[ne.HIGHLIGHT_FREE,g(this,Is)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(V(this,Dp,new xE({editor:this})),e.addColorPicker(g(this,Dp))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,ae,Ym).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,j(this,ae,Ym).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){j(this,ae,Rx).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,ae,Xu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let n=!1;this.parent&&!e?j(this,ae,Rx).call(this):e&&(j(this,ae,Xu).call(this,e),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var a,l,c;const{drawLayer:n}=this.parent;let s;g(this,Is)?(e=(e-this.rotation+360)%360,s=j(a=Fe,Cr,If).call(a,g(this,Xr).box,e)):s=j(l=Fe,Cr,If).call(l,this,e),n.rotate(g(this,ns),e),n.rotate(g(this,mi),e),n.updateBox(g(this,ns),s),n.updateBox(g(this,mi),j(c=Fe,Cr,If).call(c,g(this,_r).box,e))}render(){if(this.div)return this.div;const e=super.render();g(this,Np)&&(e.setAttribute("aria-label",g(this,Np)),e.setAttribute("role","mark")),g(this,Is)?e.classList.add("free"):this.div.addEventListener("keydown",j(this,ae,v5).bind(this),{signal:this._uiManager._signal});const n=V(this,Hh,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,zh);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),SE(this,g(this,Hh),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,mi),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,mi),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:j(this,ae,V_).call(this,!0);break;case 1:case 3:j(this,ae,V_).call(this,!1);break}}select(){var e,n;super.select(),g(this,mi)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,mi),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,mi),"selected"))}unselect(){var e;super.unselect(),g(this,mi)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,mi),"selected"),g(this,Is)||j(this,ae,V_).call(this,!1))}get _mustFixPosition(){return!g(this,Is)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(g(this,ns),e),this.parent.drawLayer.show(g(this,mi),e))}static startHighlighting(e,n,{target:s,x:a,y:l}){const{x:c,y:h,width:d,height:p}=s.getBoundingClientRect(),y=new AbortController,b=e.combinedSignal(y),E=S=>{S.preventDefault(),S.stopPropagation()},A=S=>{y.abort(),j(this,Cr,A5).call(this,e,S)};window.addEventListener("blur",A,{signal:b}),window.addEventListener("pointerup",A,{signal:b}),window.addEventListener("pointerdown",E,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Ir,{signal:b}),s.addEventListener("pointermove",j(this,Cr,E5).bind(this,e),{signal:b}),this._freeHighlight=new Sx({x:a,y:l},[c,h,d,p],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,s){var S,C,x,F;let a=null;if(e instanceof K3){const{data:{quadPoints:k,rect:D,rotation:U,id:W,color:L,opacity:R,popupRef:N},parent:{page:{pageNumber:T}}}=e;a=e={annotationType:le.HIGHLIGHT,color:Array.from(L),opacity:R,quadPoints:k,boxes:null,pageIndex:T-1,rect:D.slice(0),rotation:U,id:W,deleted:!1,popupRef:N}}else if(e instanceof zR){const{data:{inkLists:k,rect:D,rotation:U,id:W,color:L,borderStyle:{rawWidth:R},popupRef:N},parent:{page:{pageNumber:T}}}=e;a=e={annotationType:le.HIGHLIGHT,color:Array.from(L),thickness:R,inkLists:k,boxes:null,pageIndex:T-1,rect:D.slice(0),rotation:U,id:W,deleted:!1,popupRef:N}}const{color:l,quadPoints:c,inkLists:h,opacity:d}=e,p=await super.deserialize(e,n,s);p.color=Vt.makeHexColor(...l),V(p,nl,d||1),h&&V(p,Er,e.thickness),p.annotationElementId=e.id||null,p._initialData=a;const[y,b]=p.pageDimensions,[E,A]=p.pageTranslation;if(c){const k=V(p,el,[]);for(let D=0;D<c.length;D+=8)k.push({x:(c[D]-E)/y,y:1-(c[D+1]-A)/b,width:(c[D+2]-c[D])/y,height:(c[D+1]-c[D+5])/b});j(S=p,ae,Cx).call(S),j(C=p,ae,Xu).call(C),p.rotate(p.rotation)}else if(h){V(p,Is,!0);const k=h[0],D={x:k[0]-E,y:b-(k[1]-A)},U=new Sx(D,[0,0,y,b],1,g(p,Er)/2,!0,.001);for(let R=0,N=k.length;R<N;R+=2)D.x=k[R]-E,D.y=b-(k[R+1]-A),U.add(D);const{id:W,clipPathId:L}=n.drawLayer.draw(U,p.color,p._defaultOpacity,!0);j(x=p,ae,F_).call(x,{highlightOutlines:U.getOutlines(),highlightId:W,clipPathId:L}),j(F=p,ae,Xu).call(F)}return p}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=Ye._colorManager.convert(this.color),a={annotationType:le.HIGHLIGHT,color:s,opacity:g(this,nl),thickness:g(this,Er),quadPoints:j(this,ae,b5).call(this),outlines:j(this,ae,_5).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:j(this,ae,Ym).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!j(this,ae,S5).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Op=new WeakMap,Ov=new WeakMap,el=new WeakMap,zh=new WeakMap,Dp=new WeakMap,_r=new WeakMap,Dv=new WeakMap,Lv=new WeakMap,Hh=new WeakMap,Xr=new WeakMap,ns=new WeakMap,Is=new WeakMap,Lp=new WeakMap,nl=new WeakMap,mi=new WeakMap,Np=new WeakMap,Er=new WeakMap,Nv=new WeakMap,ae=new WeakSet,Cx=function(){const e=new TD(g(this,el),.001);V(this,Xr,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Xr).box;const n=new TD(g(this,el),.0025,.001,this._uiManager.direction==="ltr");V(this,_r,n.getOutlines());const{lastPoint:s}=g(this,_r).box;V(this,Lp,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},F_=function({highlightOutlines:e,highlightId:n,clipPathId:s}){var y,b;if(V(this,Xr,e),V(this,_r,e.getNewOutline(g(this,Er)/2+1.5,.0025)),n>=0)V(this,ns,n),V(this,zh,s),this.parent.drawLayer.finalizeLine(n,e),V(this,mi,this.parent.drawLayer.drawOutline(g(this,_r)));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,ns),e),this.parent.drawLayer.updateBox(g(this,ns),j(y=Fe,Cr,If).call(y,g(this,Xr).box,(E-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,mi),g(this,_r)),this.parent.drawLayer.updateBox(g(this,mi),j(b=Fe,Cr,If).call(b,g(this,_r).box,E))}const{x:l,y:c,width:h,height:d}=e.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=d;break;case 90:{const[E,A]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*A/E,this.height=d*E/A;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[E,A]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*A/E,this.height=d*E/A;break}}const{lastPoint:p}=g(this,_r).box;V(this,Lp,[(p[0]-l)/h,(p[1]-c)/d])},g5=function(e){const n=(l,c)=>{var h,d,p;this.color=l,(h=this.parent)==null||h.drawLayer.changeColor(g(this,ns),l),(d=g(this,Dp))==null||d.updateColor(l),V(this,nl,c),(p=this.parent)==null||p.drawLayer.changeOpacity(g(this,ns),c)},s=this.color,a=g(this,nl);this.addCommands({cmd:n.bind(this,e,Fe._defaultOpacity),undo:n.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},m5=function(e){const n=g(this,Er),s=a=>{V(this,Er,a),j(this,ae,y5).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},y5=function(e){if(!g(this,Is))return;j(this,ae,F_).call(this,{highlightOutlines:g(this,Xr).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},Rx=function(){g(this,ns)===null||!this.parent||(this.parent.drawLayer.remove(g(this,ns)),V(this,ns,null),this.parent.drawLayer.remove(g(this,mi)),V(this,mi,null))},Xu=function(e=this.parent){g(this,ns)===null&&({id:gs(this,ns)._,clipPathId:gs(this,zh)._}=e.drawLayer.draw(g(this,Xr),this.color,g(this,nl)),V(this,mi,e.drawLayer.drawOutline(g(this,_r))),g(this,Hh)&&(g(this,Hh).style.clipPath=g(this,zh)))},Cr=new WeakSet,If=function({x:e,y:n,width:s,height:a},l){switch(l){case 90:return{x:1-n-a,y:e,width:a,height:s};case 180:return{x:1-e-s,y:1-n-a,width:s,height:a};case 270:return{x:n,y:1-e-s,width:a,height:s}}return{x:e,y:n,width:s,height:a}},v5=function(e){Fe._keyboardManager.exec(this,e)},V_=function(e){if(!g(this,Op))return;const n=window.getSelection();e?n.setPosition(g(this,Op),g(this,Ov)):n.setPosition(g(this,Dv),g(this,Lv))},Ym=function(){return g(this,Is)?this.rotation:0},b5=function(){if(g(this,Is))return null;const[e,n]=this.pageDimensions,[s,a]=this.pageTranslation,l=g(this,el),c=new Float32Array(l.length*8);let h=0;for(const{x:d,y:p,width:y,height:b}of l){const E=d*e+s,A=(1-p-b)*n+a;c[h]=c[h+4]=E,c[h+1]=c[h+3]=A,c[h+2]=c[h+6]=E+y*e,c[h+5]=c[h+7]=A+b*n,h+=8}return c},_5=function(e){return g(this,Xr).serialize(e,j(this,ae,Ym).call(this))},E5=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},A5=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},S5=function(e){const{color:n}=this._initialData;return e.color.some((s,a)=>s!==n[a])},$(Fe,Cr),Qt(Fe,"_defaultColor",null),Qt(Fe,"_defaultOpacity",1),Qt(Fe,"_defaultThickness",12),Qt(Fe,"_type","highlight"),Qt(Fe,"_editorType",le.HIGHLIGHT),Qt(Fe,"_freeHighlightId",-1),Qt(Fe,"_freeHighlight",null),Qt(Fe,"_freeHighlightClipId","");let CE=Fe;var $h,qh,Ua,il,Ar,Gh,Wh,Kh,sl,Fp,Yh,Xh,Lc,Tt,w5,T5,x5,C5,kx,R5,Px,I5,k5,P5,M5,O5,Qu,Mx,Ox,Dx,U_,B_,kf,Lx,j_,Cl,D5,Nx,L5,N5,Fx,z_,Xm;const Tn=class Tn extends Ye{constructor(e){super({...e,name:"inkEditor"});$(this,Tt);$(this,$h,0);$(this,qh,0);$(this,Ua,null);$(this,il,new Path2D);$(this,Ar,!1);$(this,Gh,null);$(this,Wh,!1);$(this,Kh,!1);$(this,sl,null);$(this,Fp,null);$(this,Yh,0);$(this,Xh,0);$(this,Lc,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Ye.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case ne.INK_THICKNESS:Tn._defaultThickness=n;break;case ne.INK_COLOR:Tn._defaultColor=n;break;case ne.INK_OPACITY:Tn._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case ne.INK_THICKNESS:j(this,Tt,w5).call(this,n);break;case ne.INK_COLOR:j(this,Tt,T5).call(this,n);break;case ne.INK_OPACITY:j(this,Tt,x5).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.INK_THICKNESS,Tn._defaultThickness],[ne.INK_COLOR,Tn._defaultColor||Ye._defaultLineColor],[ne.INK_OPACITY,Math.round(Tn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.INK_THICKNESS,this.thickness||Tn._defaultThickness],[ne.INK_COLOR,this.color||Tn._defaultColor||Ye._defaultLineColor],[ne.INK_OPACITY,Math.round(100*(this.opacity??Tn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(j(this,Tt,U_).call(this),j(this,Tt,B_).call(this)),this.isAttachedToDOM||(this.parent.add(this),j(this,Tt,kf).call(this)),j(this,Tt,Xm).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Ua)&&(clearTimeout(g(this,Ua)),V(this,Ua,null)),(e=g(this,sl))==null||e.disconnect(),V(this,sl,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,s=this.width*e,a=this.height*n;this.setDimensions(s,a)}enableEditMode(){g(this,Ar)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,j(this,Tt,Mx).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),j(this,Tt,Ox).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,Ar)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),V(this,Ar,!0),this.div.classList.add("disabled"),j(this,Tt,Xm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||g(this,Ar)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),j(this,Tt,R5).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),j(this,Tt,Px).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),j(this,Tt,Dx).call(this,e)}canvasPointerleave(e){j(this,Tt,Dx).call(this,e)}get isResizable(){return!this.isEmpty()&&g(this,Ar)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,a,l,c]=j(this,Tt,C5).call(this);if(this.setAt(s,a,0,0),this.setDims(l,c),j(this,Tt,U_).call(this),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(e*h,n*d,this.width*h,this.height*d),V(this,Kh,!0),j(this,Tt,kf).call(this),this.setDims(this.width*h,this.height*d),j(this,Tt,Qu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return j(this,Tt,B_).call(this),this.div}setDimensions(e,n){const s=Math.round(e),a=Math.round(n);if(g(this,Yh)===s&&g(this,Xh)===a)return;V(this,Yh,s),V(this,Xh,a),this.canvas.style.visibility="hidden";const[l,c]=this.parentDimensions;this.width=e/l,this.height=n/c,this.fixAndSetPosition(),g(this,Ar)&&j(this,Tt,Lx).call(this,e,n),j(this,Tt,kf).call(this),j(this,Tt,Qu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,s){var C,x,F;if(e instanceof zR)return null;const a=await super.deserialize(e,n,s);a.thickness=e.thickness,a.color=Vt.makeHexColor(...e.color),a.opacity=e.opacity;const[l,c]=a.pageDimensions,h=a.width*l,d=a.height*c,p=a.parentScale,y=e.thickness/2;V(a,Ar,!0),V(a,Yh,Math.round(h)),V(a,Xh,Math.round(d));const{paths:b,rect:E,rotation:A}=e;for(let{bezier:k}of b){k=j(C=Tn,Cl,L5).call(C,k,E,A);const D=[];a.paths.push(D);let U=p*(k[0]-y),W=p*(k[1]-y);for(let R=2,N=k.length;R<N;R+=6){const T=p*(k[R]-y),B=p*(k[R+1]-y),q=p*(k[R+2]-y),z=p*(k[R+3]-y),ct=p*(k[R+4]-y),nt=p*(k[R+5]-y);D.push([[U,W],[T,B],[q,z],[ct,nt]]),U=ct,W=nt}const L=j(this,Cl,D5).call(this,D);a.bezierPath2D.push(L)}const S=j(x=a,Tt,Fx).call(x);return V(a,qh,Math.max(Ye.MIN_SIZE,S[2]-S[0])),V(a,$h,Math.max(Ye.MIN_SIZE,S[3]-S[1])),j(F=a,Tt,Lx).call(F,h,d),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Ye._colorManager.convert(this.ctx.strokeStyle);return{annotationType:le.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:j(this,Tt,N5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$h=new WeakMap,qh=new WeakMap,Ua=new WeakMap,il=new WeakMap,Ar=new WeakMap,Gh=new WeakMap,Wh=new WeakMap,Kh=new WeakMap,sl=new WeakMap,Fp=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Lc=new WeakMap,Tt=new WeakSet,w5=function(e){const n=a=>{this.thickness=a,j(this,Tt,Xm).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},T5=function(e){const n=a=>{this.color=a,j(this,Tt,Qu).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},x5=function(e){const n=a=>{this.opacity=a,j(this,Tt,Qu).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},C5=function(){const{parentRotation:e,parentDimensions:[n,s]}=this;switch(e){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},kx=function(){const{ctx:e,color:n,opacity:s,thickness:a,parentScale:l,scaleFactor:c}=this;e.lineWidth=a*l/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${vZ(s)}`},R5=function(e,n){this.canvas.addEventListener("contextmenu",Ir,{signal:this._uiManager._signal}),j(this,Tt,Ox).call(this),V(this,Gh,new AbortController);const s=this._uiManager.combinedSignal(g(this,Gh));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,g(this,Kh)||(V(this,Kh,!0),j(this,Tt,kf).call(this),this.thickness||(this.thickness=Tn._defaultThickness),this.color||(this.color=Tn._defaultColor||Ye._defaultLineColor),this.opacity??(this.opacity=Tn._defaultOpacity)),this.currentPath.push([e,n]),V(this,Wh,!1),j(this,Tt,kx).call(this),V(this,Lc,()=>{j(this,Tt,P5).call(this),g(this,Lc)&&window.requestAnimationFrame(g(this,Lc))}),window.requestAnimationFrame(g(this,Lc))},Px=function(e,n){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&n===a)return;const l=this.currentPath;let c=g(this,il);if(l.push([e,n]),V(this,Wh,!0),l.length<=2){c.moveTo(...l[0]),c.lineTo(e,n);return}l.length===3&&(V(this,il,c=new Path2D),c.moveTo(...l[0])),j(this,Tt,M5).call(this,c,...l.at(-3),...l.at(-2),e,n)},I5=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);g(this,il).lineTo(...e)},k5=function(e,n){V(this,Lc,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),j(this,Tt,Px).call(this,e,n),j(this,Tt,I5).call(this);let s;if(this.currentPath.length!==1)s=j(this,Tt,O5).call(this);else{const d=[e,n];s=[[d,d.slice(),d.slice(),d]]}const a=g(this,il),l=this.currentPath;this.currentPath=[],V(this,il,new Path2D);const c=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(j(this,Tt,U_).call(this),j(this,Tt,B_).call(this)),j(this,Tt,Xm).call(this))};this.addCommands({cmd:c,undo:h,mustExec:!0})},P5=function(){if(!g(this,Wh))return;V(this,Wh,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),a=n.map(c=>c[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...a)-e,Math.max(...a)+e;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)l.stroke(c);l.stroke(g(this,il)),l.restore()},M5=function(e,n,s,a,l,c,h){const d=(n+a)/2,p=(s+l)/2,y=(a+c)/2,b=(l+h)/2;e.bezierCurveTo(d+2*(a-d)/3,p+2*(l-p)/3,y+2*(a-y)/3,b+2*(l-b)/3,y,b)},O5=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let s,[a,l]=e[0];for(s=1;s<e.length-2;s++){const[E,A]=e[s],[S,C]=e[s+1],x=(E+S)/2,F=(A+C)/2,k=[a+2*(E-a)/3,l+2*(A-l)/3],D=[x+2*(E-x)/3,F+2*(A-F)/3];n.push([[a,l],k,D,[x,F]]),[a,l]=[x,F]}const[c,h]=e[s],[d,p]=e[s+1],y=[a+2*(c-a)/3,l+2*(h-l)/3],b=[d+2*(c-d)/3,p+2*(h-p)/3];return n.push([[a,l],y,b,[d,p]]),n},Qu=function(){if(this.isEmpty()){j(this,Tt,j_).call(this);return}j(this,Tt,kx).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),j(this,Tt,j_).call(this);for(const s of this.bezierPath2D)n.stroke(s)},Mx=function(){if(g(this,Fp))return;V(this,Fp,new AbortController);const e=this._uiManager.combinedSignal(g(this,Fp));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Ox=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Dx=function(e){var n;(n=g(this,Gh))==null||n.abort(),V(this,Gh,null),j(this,Tt,Mx).call(this),g(this,Ua)&&clearTimeout(g(this,Ua)),V(this,Ua,setTimeout(()=>{V(this,Ua,null),this.canvas.removeEventListener("contextmenu",Ir)},10)),j(this,Tt,k5).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},U_=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},B_=function(){V(this,sl,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,sl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,sl))==null||e.disconnect(),V(this,sl,null)},{once:!0})},kf=function(){if(!g(this,Kh))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),j(this,Tt,j_).call(this)},Lx=function(e,n){const s=j(this,Tt,z_).call(this),a=(e-s)/g(this,qh),l=(n-s)/g(this,$h);this.scaleFactor=Math.min(a,l)},j_=function(){const e=j(this,Tt,z_).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Cl=new WeakSet,D5=function(e){const n=new Path2D;for(let s=0,a=e.length;s<a;s++){const[l,c,h,d]=e[s];s===0&&n.moveTo(...l),n.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}return n},Nx=function(e,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let d=0,p=e.length;d<p;d+=2)e[d]+=a,e[d+1]=h-e[d+1];break;case 90:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=e[d+1]+a,e[d+1]=y+l}break;case 180:for(let d=0,p=e.length;d<p;d+=2)e[d]=c-e[d],e[d+1]+=l;break;case 270:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=c-e[d+1],e[d+1]=h-y}break;default:throw new Error("Invalid rotation")}return e},L5=function(e,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let d=0,p=e.length;d<p;d+=2)e[d]-=a,e[d+1]=h-e[d+1];break;case 90:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=e[d+1]-l,e[d+1]=y-a}break;case 180:for(let d=0,p=e.length;d<p;d+=2)e[d]=c-e[d],e[d+1]-=l;break;case 270:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=h-e[d+1],e[d+1]=c-y}break;default:throw new Error("Invalid rotation")}return e},N5=function(e,n,s,a){var p,y;const l=[],c=this.thickness/2,h=e*n+c,d=e*s+c;for(const b of this.paths){const E=[],A=[];for(let S=0,C=b.length;S<C;S++){const[x,F,k,D]=b[S];if(x[0]===D[0]&&x[1]===D[1]&&C===1){const z=e*x[0]+h,ct=e*x[1]+d;E.push(z,ct),A.push(z,ct);break}const U=e*x[0]+h,W=e*x[1]+d,L=e*F[0]+h,R=e*F[1]+d,N=e*k[0]+h,T=e*k[1]+d,B=e*D[0]+h,q=e*D[1]+d;S===0&&(E.push(U,W),A.push(U,W)),E.push(L,R,N,T,B,q),A.push(L,R),S===C-1&&A.push(B,q)}l.push({bezier:j(p=Tn,Cl,Nx).call(p,E,a,this.rotation),points:j(y=Tn,Cl,Nx).call(y,A,a,this.rotation)})}return l},Fx=function(){let e=1/0,n=-1/0,s=1/0,a=-1/0;for(const l of this.paths)for(const[c,h,d,p]of l){const y=Vt.bezierBoundingBox(...c,...h,...d,...p);e=Math.min(e,y[0]),s=Math.min(s,y[1]),n=Math.max(n,y[2]),a=Math.max(a,y[3])}return[e,s,n,a]},z_=function(){return g(this,Ar)?Math.ceil(this.thickness*this.parentScale):0},Xm=function(e=!1){if(this.isEmpty())return;if(!g(this,Ar)){j(this,Tt,Qu).call(this);return}const n=j(this,Tt,Fx).call(this),s=j(this,Tt,z_).call(this);V(this,qh,Math.max(Ye.MIN_SIZE,n[2]-n[0])),V(this,$h,Math.max(Ye.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(s+g(this,qh)*this.scaleFactor),l=Math.ceil(s+g(this,$h)*this.scaleFactor),[c,h]=this.parentDimensions;this.width=a/c,this.height=l/h,this.setAspectRatio(a,l);const d=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],j(this,Tt,kf).call(this),j(this,Tt,Qu).call(this),V(this,Yh,a),V(this,Xh,l),this.setDims(a,l);const y=e?s/this.scaleFactor/2:0;this.translate(d-this.translationX-y,p-this.translationY-y)},$(Tn,Cl),Qt(Tn,"_defaultColor",null),Qt(Tn,"_defaultOpacity",1),Qt(Tn,"_defaultThickness",1),Qt(Tn,"_type","ink"),Qt(Tn,"_editorType",le.INK);let Ix=Tn;var Cn,zi,Nc,rl,Fc,Vp,Ba,al,ja,Xs,Up,Ee,Qm,Zm,H_,Ux,F5,$_,Bx,q_,V5,U5;const uy=class uy extends Ye{constructor(e){super({...e,name:"stampEditor"});$(this,Ee);$(this,Cn,null);$(this,zi,null);$(this,Nc,null);$(this,rl,null);$(this,Fc,null);$(this,Vp,"");$(this,Ba,null);$(this,al,null);$(this,ja,null);$(this,Xs,!1);$(this,Up,!1);V(this,rl,e.bitmapUrl),V(this,Fc,e.bitmapFile)}static initialize(e,n){Ye.initialize(e,n)}static get supportedTypes(){return Ae(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ae(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(le.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=e||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e,n;g(this,zi)&&(V(this,Cn,null),this._uiManager.imageManager.deleteId(g(this,zi)),(e=g(this,Ba))==null||e.remove(),V(this,Ba,null),(n=g(this,al))==null||n.disconnect(),V(this,al,null),g(this,ja)&&(clearTimeout(g(this,ja)),V(this,ja,null))),super.remove()}rebuild(){if(!this.parent){g(this,zi)&&j(this,Ee,H_).call(this);return}super.rebuild(),this.div!==null&&(g(this,zi)&&g(this,Ba)===null&&j(this,Ee,H_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Nc)||g(this,Cn)||g(this,rl)||g(this,Fc)||g(this,zi))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,Cn)?j(this,Ee,Ux).call(this):j(this,Ee,H_).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(e*s,n*a,this.width*s,this.height*a)}return this.div}copyCanvas(e,n,s=!1){var E;e||(e=224);const{width:a,height:l}=g(this,Cn),c=new D1;let h=g(this,Cn),d=a,p=l,y=null;if(n){if(a>n||l>n){const R=Math.min(n/a,n/l);d=Math.floor(a*R),p=Math.floor(l*R)}y=document.createElement("canvas");const A=y.width=Math.ceil(d*c.sx),S=y.height=Math.ceil(p*c.sy);g(this,Xs)||(h=j(this,Ee,$_).call(this,A,S));const C=y.getContext("2d");C.filter=this._uiManager.hcmFilter;let x="white",F="#cfcfd8";this._uiManager.hcmFilter!=="none"?F="black":(E=window.matchMedia)!=null&&E.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",F="#42414d");const k=15,D=k*c.sx,U=k*c.sy,W=new OffscreenCanvas(D*2,U*2),L=W.getContext("2d");L.fillStyle=x,L.fillRect(0,0,D*2,U*2),L.fillStyle=F,L.fillRect(0,0,D,U),L.fillRect(D,U,D,U),C.fillStyle=C.createPattern(W,"repeat"),C.fillRect(0,0,A,S),C.drawImage(h,0,0,h.width,h.height,0,0,A,S)}let b=null;if(s){let A,S;if(c.symmetric&&h.width<e&&h.height<e)A=h.width,S=h.height;else if(h=g(this,Cn),a>e||l>e){const F=Math.min(e/a,e/l);A=Math.floor(a*F),S=Math.floor(l*F),g(this,Xs)||(h=j(this,Ee,$_).call(this,A,S))}const x=new OffscreenCanvas(A,S).getContext("2d",{willReadFrequently:!0});x.drawImage(h,0,0,h.width,h.height,0,0,A,S),b={width:A,height:S,data:x.getImageData(0,0,A,S).data}}return{canvas:y,width:d,height:p,imageData:b}}getImageForAltText(){return g(this,Ba)}static async deserialize(e,n,s){var S;let a=null;if(e instanceof Y3){const{data:{rect:C,rotation:x,id:F,structParent:k,popupRef:D},container:U,parent:{page:{pageNumber:W}}}=e,L=U.querySelector("canvas"),R=s.imageManager.getFromCanvas(U.id,L);L.remove();const N=((S=await n._structTree.getAriaAttributes(`${PR}${F}`))==null?void 0:S.get("aria-label"))||"";a=e={annotationType:le.STAMP,bitmapId:R.id,bitmap:R.bitmap,pageIndex:W-1,rect:C.slice(0),rotation:x,id:F,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:k,popupRef:D}}const l=await super.deserialize(e,n,s),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:y,accessibilityData:b}=e;p&&s.imageManager.isValidId(p)?(V(l,zi,p),h&&V(l,Cn,h)):V(l,rl,d),V(l,Xs,y);const[E,A]=l.pageDimensions;return l.width=(c[2]-c[0])/E,l.height=(c[3]-c[1])/A,l.annotationElementId=e.id||null,b&&(l.altTextData=b),l._initialData=a,V(l,Up,!!a),l}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:le.STAMP,bitmapId:g(this,zi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,Xs),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=j(this,Ee,q_).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=j(this,Ee,U5).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=g(this,Xs)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(g(this,zi)))n.stamps.set(g(this,zi),{area:c,serialized:s}),s.bitmap=j(this,Ee,q_).call(this,!1);else if(g(this,Xs)){const h=n.stamps.get(g(this,zi));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=j(this,Ee,q_).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Cn=new WeakMap,zi=new WeakMap,Nc=new WeakMap,rl=new WeakMap,Fc=new WeakMap,Vp=new WeakMap,Ba=new WeakMap,al=new WeakMap,ja=new WeakMap,Xs=new WeakMap,Up=new WeakMap,Ee=new WeakSet,Qm=function(e,n=!1){if(!e){this.remove();return}V(this,Cn,e.bitmap),n||(V(this,zi,e.id),V(this,Xs,e.isSvg)),e.file&&V(this,Vp,e.file.name),j(this,Ee,Ux).call(this)},Zm=function(){if(V(this,Nc,null),this._uiManager.enableWaiting(!1),!!g(this,Ba)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Cn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Cn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},H_=function(){if(g(this,zi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,zi)).then(s=>j(this,Ee,Qm).call(this,s,!0)).finally(()=>j(this,Ee,Zm).call(this));return}if(g(this,rl)){const s=g(this,rl);V(this,rl,null),this._uiManager.enableWaiting(!0),V(this,Nc,this._uiManager.imageManager.getFromUrl(s).then(a=>j(this,Ee,Qm).call(this,a)).finally(()=>j(this,Ee,Zm).call(this)));return}if(g(this,Fc)){const s=g(this,Fc);V(this,Fc,null),this._uiManager.enableWaiting(!0),V(this,Nc,this._uiManager.imageManager.getFromFile(s).then(a=>j(this,Ee,Qm).call(this,a)).finally(()=>j(this,Ee,Zm).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=uy.supportedTypesStr;const n=this._uiManager._signal;V(this,Nc,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),j(this,Ee,Qm).call(this,a)}s()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>j(this,Ee,Zm).call(this))),e.click()},Ux=function(){const{div:e}=this;let{width:n,height:s}=g(this,Cn);const[a,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*a,s=this.height*l;else if(n>c*a||s>c*l){const y=Math.min(c*a/n,c*l/s);n*=y,s*=y}const[h,d]=this.parentDimensions;this.setDims(n*h/a,s*d/l),this._uiManager.enableWaiting(!1);const p=V(this,Ba,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),j(this,Ee,Bx).call(this,n,s),j(this,Ee,V5).call(this),g(this,Up)||(this.parent.addUndoableEditor(this),V(this,Up,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,Vp)&&p.setAttribute("aria-label",g(this,Vp))},F5=function(e,n){var c;const[s,a]=this.parentDimensions;this.width=e/s,this.height=n/a,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,ja)!==null&&clearTimeout(g(this,ja)),V(this,ja,setTimeout(()=>{V(this,ja,null),j(this,Ee,Bx).call(this,e,n)},200))},$_=function(e,n){const{width:s,height:a}=g(this,Cn);let l=s,c=a,h=g(this,Cn);for(;l>2*e||c>2*n;){const d=l,p=c;l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const y=new OffscreenCanvas(l,c);y.getContext("2d").drawImage(h,0,0,d,p,0,0,l,c),h=y.transferToImageBitmap()}return h},Bx=function(e,n){const s=new D1,a=Math.ceil(e*s.sx),l=Math.ceil(n*s.sy),c=g(this,Ba);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const h=g(this,Xs)?g(this,Cn):j(this,Ee,$_).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,l)},q_=function(e){if(e){if(g(this,Xs)){const a=this._uiManager.imageManager.getSvgUrl(g(this,zi));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,Cn),n.getContext("2d").drawImage(g(this,Cn),0,0),n.toDataURL()}if(g(this,Xs)){const[n,s]=this.pageDimensions,a=Math.round(this.width*n*au.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*au.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(g(this,Cn),0,0,g(this,Cn).width,g(this,Cn).height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(g(this,Cn))},V5=function(){this._uiManager._signal&&(V(this,al,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&j(this,Ee,F5).call(this,n.width,n.height)})),g(this,al).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,al))==null||e.disconnect(),V(this,al,null)},{once:!0}))},U5=function(e){var d;const{rect:n,pageIndex:s,accessibilityData:{altText:a}}=this._initialData,l=e.rect.every((p,y)=>Math.abs(p-n[y])<1),c=e.pageIndex===s,h=(((d=e.accessibilityData)==null?void 0:d.alt)||"")===a;return{isSame:l&&c&&h,isSameAltText:h}},Qt(uy,"_type","stamp"),Qt(uy,"_editorType",le.STAMP);let Vx=uy;var Qh,Bp,za,Vc,ol,Qs,Uc,jp,zp,is,ll,jt,Bc,qi,B5,zx,Hx,$x,G_;const Nr=class Nr{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){$(this,qi);$(this,Qh);$(this,Bp,!1);$(this,za,null);$(this,Vc,null);$(this,ol,null);$(this,Qs,new Map);$(this,Uc,!1);$(this,jp,!1);$(this,zp,!1);$(this,is,null);$(this,ll,null);$(this,jt);const y=[...g(Nr,Bc).values()];if(!Nr._initialized){Nr._initialized=!0;for(const b of y)b.initialize(p,t)}t.registerEditorTypes(y),V(this,jt,t),this.pageIndex=e,this.div=n,V(this,Qh,a),V(this,za,l),this.viewport=d,V(this,is,h),this.drawLayer=c,this._structTree=s,g(this,jt).addLayer(this)}get isEmpty(){return g(this,Qs).size===0}get isInvisible(){return this.isEmpty&&g(this,jt).getMode()===le.NONE}updateToolbar(t){g(this,jt).updateToolbar(t)}updateMode(t=g(this,jt).getMode()){switch(j(this,qi,G_).call(this),t){case le.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case le.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of g(Nr,Bc).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=g(this,is))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(g(this,jt).getMode()!==le.INK)return;if(!t){for(const n of g(this,Qs).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){g(this,jt).setEditingState(t)}addCommands(t){g(this,jt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=g(this,za))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of g(this,Qs).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,jt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!g(this,za))return;const e=g(this,za).getEditableAnnotations();for(const n of e){if(n.hide(),g(this,jt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;V(this,zp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of g(this,Qs).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(g(this,za)){const a=g(this,za).getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(g(this,jt).isDeletedAnnotationElement(c))continue;let h=e.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(c),h&&(g(this,jt).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}j(this,qi,G_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of g(Nr,Bc).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),V(this,zp,!1)}getEditableAnnotation(t){var e;return((e=g(this,za))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){g(this,jt).getActive()!==t&&g(this,jt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=g(this,is))!=null&&t.div&&!g(this,ll)){V(this,ll,new AbortController);const e=g(this,jt).combinedSignal(g(this,ll));g(this,is).div.addEventListener("pointerdown",j(this,qi,B5).bind(this),{signal:e}),g(this,is).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=g(this,is))!=null&&t.div&&g(this,ll)&&(g(this,ll).abort(),V(this,ll,null),g(this,is).div.classList.remove("highlighting"))}enableClick(){if(g(this,Vc))return;V(this,Vc,new AbortController);const t=g(this,jt).combinedSignal(g(this,Vc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=g(this,Vc))==null||t.abort(),V(this,Vc,null)}attach(t){g(this,Qs).set(t.id,t);const{annotationElementId:e}=t;e&&g(this,jt).isDeletedAnnotationElement(e)&&g(this,jt).removeDeletedAnnotationElement(t)}detach(t){var e;g(this,Qs).delete(t.id),(e=g(this,Qh))==null||e.removePointerInTextLayer(t.contentDiv),!g(this,zp)&&t.annotationElementId&&g(this,jt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),g(this,jt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,g(this,jp)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(g(this,jt).addDeletedAnnotationElement(t.annotationElementId),Ye.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),g(this,jt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),g(this,jt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!g(this,ol)&&(t._focusEventsAllowed=!1,V(this,ol,setTimeout(()=>{V(this,ol,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:g(this,jt)._signal}),e.focus())},0))),t._structTreeParentId=(n=g(this,Qh))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return g(this,jt).getId()}combinedSignal(t){return g(this,jt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=g(this,qi,zx))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){g(this,jt).updateToolbar(t),g(this,jt).updateMode(t);const{offsetX:n,offsetY:s}=j(this,qi,$x).call(this),a=this.getNextId(),l=j(this,qi,Hx).call(this,{parent:this,id:a,x:n,y:s,uiManager:g(this,jt),isCentered:!0,...e});l&&this.add(l)}async deserialize(t){var e;return await((e=g(Nr,Bc).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,g(this,jt)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),a=j(this,qi,Hx).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:g(this,jt),isCentered:e,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(j(this,qi,$x).call(this),!0)}setSelected(t){g(this,jt).setSelected(t)}toggleSelected(t){g(this,jt).toggleSelected(t)}unselect(t){g(this,jt).unselect(t)}pointerup(t){const{isMac:e}=bs.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&g(this,Uc)){if(V(this,Uc,!1),!g(this,Bp)){V(this,Bp,!0);return}if(g(this,jt).getMode()===le.STAMP){g(this,jt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(g(this,jt).getMode()===le.HIGHLIGHT&&this.enableTextSelection(),g(this,Uc)){V(this,Uc,!1);return}const{isMac:e}=bs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;V(this,Uc,!0);const n=g(this,jt).getActive();V(this,Bp,!n||n.isEmpty())}findNewParent(t,e,n){const s=g(this,jt).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=g(this,jt).getActive())==null?void 0:t.parent)===this&&(g(this,jt).commitOrRemove(),g(this,jt).setActiveEditor(null)),g(this,ol)&&(clearTimeout(g(this,ol)),V(this,ol,null));for(const n of g(this,Qs).values())(e=g(this,Qh))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,Qs).clear(),g(this,jt).removeLayer(this)}render({viewport:t}){this.viewport=t,ad(this.div,t);for(const e of g(this,jt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){g(this,jt).commitOrRemove(),j(this,qi,G_).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,ad(this.div,{rotation:n}),e!==n)for(const s of g(this,Qs).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return g(this,jt).viewParameters.realScale}};Qh=new WeakMap,Bp=new WeakMap,za=new WeakMap,Vc=new WeakMap,ol=new WeakMap,Qs=new WeakMap,Uc=new WeakMap,jp=new WeakMap,zp=new WeakMap,is=new WeakMap,ll=new WeakMap,jt=new WeakMap,Bc=new WeakMap,qi=new WeakSet,B5=function(t){g(this,jt).unselectAll();const{target:e}=t;if(e===g(this,is).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&g(this,is).div.contains(e)){const{isMac:n}=bs.platform;if(t.button!==0||t.ctrlKey&&n)return;g(this,jt).showAllEditors("highlight",!0,!0),g(this,is).div.classList.add("free"),this.toggleDrawing(),CE.startHighlighting(this,g(this,jt).direction==="ltr",{target:g(this,is).div,x:t.x,y:t.y}),g(this,is).div.addEventListener("pointerup",()=>{g(this,is).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,jt)._signal}),t.preventDefault()}},zx=function(){return g(Nr,Bc).get(g(this,jt).getMode())},Hx=function(t){const e=g(this,qi,zx);return e?new e.prototype.constructor(t):null},$x=function(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),d=(a+c)/2-t,p=(l+h)/2-e,[y,b]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:y,offsetY:b}},G_=function(){V(this,jp,!0);for(const t of g(this,Qs).values())t.isEmpty()&&t.remove();V(this,jp,!1)},Qt(Nr,"_initialized",!1),$(Nr,Bc,new Map([_x,Ix,Vx,CE].map(t=>[t._editorType,t])));let jx=Nr;var Ha,Fv,ni,cl,Vv,Gx,hd,Wx,j5;const Ui=class Ui{constructor({pageIndex:t}){$(this,hd);$(this,Ha,null);$(this,Fv,0);$(this,ni,new Map);$(this,cl,new Map);this.pageIndex=t}setParent(t){if(!g(this,Ha)){V(this,Ha,t);return}if(g(this,Ha)!==t){if(g(this,ni).size>0)for(const e of g(this,ni).values())e.remove(),t.append(e);V(this,Ha,t)}}static get _svgFactory(){return Ae(this,"_svgFactory",new jR)}draw(t,e,n,s=!1){const a=gs(this,Fv)._++,l=j(this,hd,Wx).call(this,t.box);l.classList.add(...t.classNamesForDrawing);const c=Ui._svgFactory.createElement("defs");l.append(c);const h=Ui._svgFactory.createElement("path");c.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("d",t.toSVGPath()),s&&g(this,cl).set(a,h);const p=j(this,hd,j5).call(this,c,d),y=Ui._svgFactory.createElement("use");return l.append(y),l.setAttribute("fill",e),l.setAttribute("fill-opacity",n),y.setAttribute("href",`#${d}`),g(this,ni).set(a,l),{id:a,clipPathId:`url(#${p})`}}drawOutline(t){const e=gs(this,Fv)._++,n=j(this,hd,Wx).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const s=Ui._svgFactory.createElement("defs");n.append(s);const a=Ui._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${e}`;a.setAttribute("id",l),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const p=Ui._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${e}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const y=Ui._svgFactory.createElement("rect");p.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=Ui._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const h=Ui._svgFactory.createElement("use");n.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const d=h.cloneNode();return n.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),g(this,ni).set(e,n),e}finalizeLine(t,e){const n=g(this,cl).get(t);g(this,cl).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){g(this,ni).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){g(this,cl).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;j(n=Ui,Vv,Gx).call(n,g(this,ni).get(t),e)}show(t,e){g(this,ni).get(t).classList.toggle("hidden",!e)}rotate(t,e){g(this,ni).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){g(this,ni).get(t).setAttribute("fill",e)}changeOpacity(t,e){g(this,ni).get(t).setAttribute("fill-opacity",e)}addClass(t,e){g(this,ni).get(t).classList.add(e)}removeClass(t,e){g(this,ni).get(t).classList.remove(e)}getSVGRoot(t){return g(this,ni).get(t)}remove(t){g(this,cl).delete(t),g(this,Ha)!==null&&(g(this,ni).get(t).remove(),g(this,ni).delete(t))}destroy(){V(this,Ha,null);for(const t of g(this,ni).values())t.remove();g(this,ni).clear(),g(this,cl).clear()}};Ha=new WeakMap,Fv=new WeakMap,ni=new WeakMap,cl=new WeakMap,Vv=new WeakSet,Gx=function(t,{x:e=0,y:n=0,width:s=1,height:a=1}={}){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*s}%`,l.height=`${100*a}%`},hd=new WeakSet,Wx=function(t){var n;const e=Ui._svgFactory.create(1,1,!0);return g(this,Ha).append(e),e.setAttribute("aria-hidden",!0),j(n=Ui,Vv,Gx).call(n,e,t),e},j5=function(t,e){const n=Ui._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Ui._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},$(Ui,Vv);let qx=Ui;var QJ=re.AbortException,ZJ=re.AnnotationEditorLayer,JJ=re.AnnotationEditorParamsType,ttt=re.AnnotationEditorType,ett=re.AnnotationEditorUIManager,z5=re.AnnotationLayer,H5=re.AnnotationMode,ntt=re.ColorPicker,itt=re.DOMSVGFactory,stt=re.DrawLayer,rtt=re.FeatureTest,HR=re.GlobalWorkerOptions,att=re.ImageKind,ott=re.InvalidPDFException,ltt=re.MissingPDFException,ctt=re.OPS,utt=re.OutputScale,htt=re.PDFDataRangeTransport,dtt=re.PDFDateString,ftt=re.PDFWorker,ptt=re.PasswordResponses,gtt=re.PermissionFlag,mtt=re.PixelsPerInch,ytt=re.RenderingCancelledException,$5=re.TextLayer,vtt=re.UnexpectedResponseException,btt=re.Util,_tt=re.VerbosityLevel,Ett=re.XfaLayer,Att=re.build,Stt=re.createValidAbsoluteUrl,wtt=re.fetchData,q5=re.getDocument,Ttt=re.getFilenameFromUrl,xtt=re.getPdfFilenameFromUrl,Ctt=re.getXfaPageViewport,Rtt=re.isDataScheme,Itt=re.isPdfFile,ktt=re.noContextMenu,Ptt=re.normalizeUnicode,Mtt=re.setLayerDimensions,Ott=re.shadow,Dtt=re.version;const Ltt=Object.freeze(Object.defineProperty({__proto__:null,AbortException:QJ,AnnotationEditorLayer:ZJ,AnnotationEditorParamsType:JJ,AnnotationEditorType:ttt,AnnotationEditorUIManager:ett,AnnotationLayer:z5,AnnotationMode:H5,ColorPicker:ntt,DOMSVGFactory:itt,DrawLayer:stt,FeatureTest:rtt,GlobalWorkerOptions:HR,ImageKind:att,InvalidPDFException:ott,MissingPDFException:ltt,OPS:ctt,OutputScale:utt,PDFDataRangeTransport:htt,PDFDateString:dtt,PDFWorker:ftt,PasswordResponses:ptt,PermissionFlag:gtt,PixelsPerInch:mtt,RenderingCancelledException:ytt,TextLayer:$5,UnexpectedResponseException:vtt,Util:btt,VerbosityLevel:_tt,XfaLayer:Ett,build:Att,createValidAbsoluteUrl:Stt,fetchData:wtt,getDocument:q5,getFilenameFromUrl:Ttt,getPdfFilenameFromUrl:xtt,getXfaPageViewport:Ctt,isDataScheme:Rtt,isPdfFile:Itt,noContextMenu:ktt,normalizeUnicode:Ptt,setLayerDimensions:Mtt,shadow:Ott,version:Dtt},Symbol.toStringTag,{value:"Module"}));var xi=function(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return i.concat(a||Array.prototype.slice.call(t))},Ntt=["onCopy","onCut","onPaste"],Ftt=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Vtt=["onFocus","onBlur"],Utt=["onInput","onInvalid","onReset","onSubmit"],Btt=["onLoad","onError"],jtt=["onKeyDown","onKeyPress","onKeyUp"],ztt=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Htt=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],$tt=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],qtt=["onSelect"],Gtt=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Wtt=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Ktt=["onScroll"],Ytt=["onWheel"],Xtt=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Qtt=["onTransitionEnd"],Ztt=["onToggle"],Jtt=["onChange"],tet=xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi([],Ntt,!0),Ftt,!0),Vtt,!0),Utt,!0),Btt,!0),jtt,!0),ztt,!0),Htt,!0),$tt,!0),qtt,!0),Gtt,!0),Wtt,!0),Ktt,!0),Ytt,!0),Xtt,!0),Qtt,!0),Jtt,!0),Ztt,!0);function G5(i,t){var e={};return tet.forEach(function(n){var s=i[n];s&&(t?e[n]=function(a){return s(a,t(n))}:e[n]=s)}),e}function cb(i){var t=!1,e=new Promise(function(n,s){i.then(function(a){return!t&&n(a)}).catch(function(a){return!t&&s(a)})});return{promise:e,cancel:function(){t=!0}}}var eet="Invariant failed";function dn(i,t){if(!i)throw new Error(eet)}var PT,xD;function net(){if(xD)return PT;xD=1;var i=function(){};return PT=i,PT}var iet=net();const os=Zx(iet);var CD=Object.prototype.hasOwnProperty;function RD(i,t,e){for(e of i.keys())if(Hf(e,t))return e}function Hf(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Hf(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=RD(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=RD(t,s),!s)||!Hf(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(CD.call(i,e)&&++n&&!CD.call(t,e)||!(e in t)||!Hf(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const W5=M.createContext(null);function $f({children:i,type:t}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const set="noopener noreferrer nofollow";class ret{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return dn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){dn(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{dn(this.pdfDocument),dn(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{dn(Array.isArray(e));const n=e[0];new Promise(s=>{dn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{s(a)}).catch(()=>{dn(!1)}):typeof n=="number"?s(n):dn(!1)}).then(s=>{const a=s+1;dn(this.pdfViewer),dn(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;dn(this.pdfViewer),dn(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||set,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const ID={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},UA=typeof window<"u",K5=UA&&window.location.protocol==="file:";function aet(i){return typeof i<"u"}function Hu(i){return aet(i)&&i!==null}function oet(i){return typeof i=="string"}function cet(i){return i instanceof ArrayBuffer}function uet(i){return dn(UA),i instanceof Blob}function Kx(i){return oet(i)&&/^data:/.test(i)}function kD(i){dn(Kx(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function het(){return UA&&window.devicePixelRatio||1}const Y5="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function PD(){os(!K5,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Y5}`)}function det(){os(!K5,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Y5}`)}function cd(i){i!=null&&i.cancel&&i.cancel()}function Yx(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function fet(i){return i.name==="RenderingCancelledException"}function pet(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function get(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function tg(){return M.useReducer(get,{value:void 0,error:void 0})}var met=function(i,t,e,n){function s(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function c(p){try{d(n.next(p))}catch(y){l(y)}}function h(p){try{d(n.throw(p))}catch(y){l(y)}}function d(p){p.done?a(p.value):s(p.value).then(c,h)}d((n=n.apply(i,t||[])).next())})},MD=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:yet}=Ltt,vet=(i,t)=>{switch(t){case ID.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case ID.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function OD(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const bet=M.forwardRef(function(t,e){var{children:n,className:s,error:a="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:c,file:h,inputRef:d,imageResourcesPath:p,loading:y="Loading PDF",noData:b="No PDF file specified.",onItemClick:E,onLoadError:A,onLoadProgress:S,onLoadSuccess:C,onPassword:x=vet,onSourceError:F,onSourceSuccess:k,options:D,renderMode:U,rotate:W}=t,L=MD(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,N]=tg(),{value:T,error:B}=R,[q,z]=tg(),{value:ct,error:nt}=q,Y=M.useRef(new ret),Q=M.useRef([]),at=M.useRef(void 0),dt=M.useRef(void 0);h&&h!==at.current&&OD(h)&&(os(!Hf(h,at.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),at.current=h),D&&D!==dt.current&&(os(!Hf(D,dt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),dt.current=D);const K=M.useRef({scrollPageIntoView:Ot=>{const{dest:Pt,pageNumber:Wt,pageIndex:ue=Wt-1}=Ot;if(E){E({dest:Pt,pageIndex:ue,pageNumber:Wt});return}const fe=Q.current[ue];if(fe){fe.scrollIntoView();return}os(!1,`An internal link leading to page ${Wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(e,()=>({linkService:Y,pages:Q,viewer:K}),[]);function rt(){k&&k()}function ut(){B&&(os(!1,B.toString()),F&&F(B))}function st(){N({type:"RESET"})}M.useEffect(st,[h,N]);const bt=M.useCallback(()=>met(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return Kx(h)?{data:kD(h)}:(PD(),{url:h});if(h instanceof yet)return{range:h};if(cet(h))return{data:h};if(UA&&uet(h))return{data:yield pet(h)};if(dn(typeof h=="object"),dn(OD(h)),"url"in h&&typeof h.url=="string"){if(Kx(h.url)){const{url:Ot}=h,Pt=MD(h,["url"]),Wt=kD(Ot);return Object.assign({data:Wt},Pt)}PD()}return h}),[h]);M.useEffect(()=>{const Ot=cb(bt());return Ot.promise.then(Pt=>{N({type:"RESOLVE",value:Pt})}).catch(Pt=>{N({type:"REJECT",error:Pt})}),()=>{cd(Ot)}},[bt,N]),M.useEffect(()=>{if(!(typeof T>"u")){if(T===!1){ut();return}rt()}},[T]);function wt(){ct&&(C&&C(ct),Q.current=new Array(ct.numPages),Y.current.setDocument(ct))}function Et(){nt&&(os(!1,nt.toString()),A&&A(nt))}M.useEffect(function(){z({type:"RESET"})},[z,T]),M.useEffect(function(){if(!T)return;const Pt=D?Object.assign(Object.assign({},T),D):T,Wt=q5(Pt);S&&(Wt.onProgress=S),x&&(Wt.onPassword=x);const ue=Wt,fe=ue.promise.then(ke=>{z({type:"RESOLVE",value:ke})}).catch(ke=>{ue.destroyed||z({type:"REJECT",error:ke})});return()=>{fe.finally(()=>ue.destroy())}},[D,z,T]),M.useEffect(()=>{if(!(typeof ct>"u")){if(ct===!1){Et();return}wt()}},[ct]),M.useEffect(function(){Y.current.setViewer(K.current),Y.current.setExternalLinkRel(l),Y.current.setExternalLinkTarget(c)},[l,c]);const Ct=M.useCallback((Ot,Pt)=>{Q.current[Ot]=Pt},[]),Bt=M.useCallback(Ot=>{delete Q.current[Ot]},[]),zt=M.useMemo(()=>({imageResourcesPath:p,linkService:Y.current,onItemClick:E,pdf:ct,registerPage:Ct,renderMode:U,rotate:W,unregisterPage:Bt}),[p,E,ct,Ct,U,W,Bt]),At=M.useMemo(()=>G5(L,()=>ct),[L,ct]);function Ht(){return O.jsx(W5.Provider,{value:zt,children:n})}function Gt(){return h?ct==null?O.jsx($f,{type:"loading",children:typeof y=="function"?y():y}):ct===!1?O.jsx($f,{type:"error",children:typeof a=="function"?a():a}):Ht():O.jsx($f,{type:"no-data",children:typeof b=="function"?b():b})}return O.jsx("div",Object.assign({className:Jt("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},At,{children:Gt()}))});function X5(){return M.useContext(W5)}function Q5(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(a){e.forEach(function(l){typeof l=="function"?l(a):l&&(l.current=a)})}}const Z5=M.createContext(null),J5={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},_et=/^H(\d+)$/;function Eet(i){return i in J5}function BA(i){return"children"in i}function tV(i){return BA(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function Aet(i){const t={};if(BA(i)){const{role:e}=i,n=e.match(_et);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(Eet(e)){const s=J5[e];s&&(t.role=s)}}return t}function eV(i){const t={};if(BA(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),tV(i)){const[e]=i.children;if(e){const n=eV(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function wet(i){return i?Object.assign(Object.assign({},Aet(i)),eV(i)):null}function nV({className:i,node:t}){const e=M.useMemo(()=>wet(t),[t]),n=M.useMemo(()=>!BA(t)||tV(t)?null:t.children.map((s,a)=>O.jsx(nV,{node:s},a)),[t]);return O.jsx("span",Object.assign({className:i},e,{children:n}))}function jA(){return M.useContext(Z5)}function Tet(){const i=jA();dn(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=tg(),{value:a,error:l}=n,{customTextRenderer:c,page:h}=i;function d(){a&&e&&e(a)}function p(){l&&(os(!1,l.toString()),t&&t(l))}return M.useEffect(function(){s({type:"RESET"})},[s,h]),M.useEffect(function(){if(c||!h)return;const b=cb(h.getStructTree()),E=b;return b.promise.then(A=>{s({type:"RESOLVE",value:A})}).catch(A=>{s({type:"REJECT",error:A})}),()=>cd(E)},[c,h,s]),M.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}d()}},[a]),a?O.jsx(nV,{className:"react-pdf__Page__structTree structTree",node:a}):null}const DD=H5;function xet(i){const t=jA();dn(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:a=het(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:y,scale:b}=e,{canvasRef:E}=i;dn(h);const A=M.useRef(null);function S(){h&&c&&c(Yx(h,b))}function C(D){fet(D)||(os(!1,D.toString()),l&&l(D))}const x=M.useMemo(()=>h.getViewport({scale:b*a,rotation:y}),[a,h,y,b]),F=M.useMemo(()=>h.getViewport({scale:b,rotation:y}),[h,y,b]);M.useEffect(function(){if(!h)return;h.cleanup();const{current:U}=A;if(!U)return;U.width=x.width,U.height=x.height,U.style.width=`${Math.floor(F.width)}px`,U.style.height=`${Math.floor(F.height)}px`,U.style.visibility="hidden";const W={annotationMode:d?DD.ENABLE_FORMS:DD.ENABLE,canvasContext:U.getContext("2d",{alpha:!1}),viewport:x};s&&(W.background=s);const L=h.render(W),R=L;return L.promise.then(()=>{U.style.visibility="",S()}).catch(C),()=>cd(R)},[s,h,d,x,F]);const k=M.useCallback(()=>{const{current:D}=A;D&&(D.width=0,D.height=0)},[]);return M.useEffect(()=>k,[k]),O.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Q5(E,A),style:{display:"block",userSelect:"none"},children:p?O.jsx(Tet,{}):null})}function Cet(i){return"str"in i}function Ret(){const i=jA();dn(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:h,rotate:d,scale:p}=i;dn(l);const[y,b]=tg(),{value:E,error:A}=y,S=M.useRef(null);os(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){E&&n&&n(E)}function x(){A&&(os(!1,A.toString()),e&&e(A))}M.useEffect(function(){b({type:"RESET"})},[l,b]),M.useEffect(function(){if(!l)return;const R=cb(l.getTextContent()),N=R;return R.promise.then(T=>{b({type:"RESOLVE",value:T})}).catch(T=>{b({type:"REJECT",error:T})}),()=>cd(N)},[l,b]),M.useEffect(()=>{if(E!==void 0){if(E===!1){x();return}C()}},[E]);const F=M.useCallback(()=>{a&&a()},[a]),k=M.useCallback(L=>{os(!1,L.toString()),s&&s(L)},[s]);function D(){const L=S.current;L&&L.classList.add("selecting")}function U(){const L=S.current;L&&L.classList.remove("selecting")}const W=M.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return M.useLayoutEffect(function(){if(!l||!E)return;const{current:R}=S;if(!R)return;R.innerHTML="";const N=l.streamTextContent({includeMarkedContent:!0}),T={container:R,textContentSource:N,viewport:W},B=new $5(T),q=B;return B.render().then(()=>{const z=document.createElement("div");z.className="endOfContent",R.append(z);const ct=R.querySelectorAll('[role="presentation"]');if(t){let nt=0;E.items.forEach((Y,Q)=>{if(!Cet(Y))return;const at=ct[nt];if(!at)return;const dt=t(Object.assign({pageIndex:c,pageNumber:h,itemIndex:Q},Y));at.innerHTML=dt,nt+=Y.str&&Y.hasEOL?2:1})}F()}).catch(k),()=>cd(q)},[t,k,F,l,c,h,E,W]),O.jsx("div",{className:Jt("react-pdf__Page__textContent","textLayer"),onMouseUp:U,onMouseDown:D,ref:S})}function Iet(){const i=X5(),t=jA();dn(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:y,rotate:b,scale:E=1}=e;dn(p),dn(d),dn(s);const[A,S]=tg(),{value:C,error:x}=A,F=M.useRef(null);os(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){C&&l&&l(C)}function D(){x&&(os(!1,x.toString()),a&&a(x))}M.useEffect(function(){S({type:"RESET"})},[S,d]),M.useEffect(function(){if(!d)return;const N=cb(d.getAnnotations()),T=N;return N.promise.then(B=>{S({type:"RESOLVE",value:B})}).catch(B=>{S({type:"REJECT",error:B})}),()=>{cd(T)}},[S,d]),M.useEffect(()=>{if(C!==void 0){if(C===!1){D();return}k()}},[C]);function U(){h&&h()}function W(R){os(!1,`${R}`),c&&c(R)}const L=M.useMemo(()=>d.getViewport({scale:E,rotation:b}),[d,b,E]);return M.useEffect(function(){if(!p||!d||!s||!C)return;const{current:N}=F;if(!N)return;const T=L.clone({dontFlip:!0}),B={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:N,l10n:null,page:d,structTreeLayer:null,viewport:T},q={annotations:C,annotationStorage:p.annotationStorage,div:N,imageResourcesPath:n,linkService:s,page:d,renderForms:y,viewport:T};N.innerHTML="";try{new z5(B).render(q),U()}catch(z){W(z)}return()=>{}},[C,n,s,d,p,y,L]),O.jsx("div",{className:Jt("react-pdf__Page__annotations","annotationLayer"),ref:F})}var ket=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const LD=1;function Pet(i){const t=X5(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:l,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:y,error:b="Failed to load the page.",height:E,inputRef:A,loading:S="Loading page",noData:C="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:F,onGetStructTreeError:k,onGetStructTreeSuccess:D,onGetTextError:U,onGetTextSuccess:W,onLoadError:L,onLoadSuccess:R,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:T,onRenderError:B,onRenderSuccess:q,onRenderTextLayerError:z,onRenderTextLayerSuccess:ct,pageIndex:nt,pageNumber:Y,pdf:Q,registerPage:at,renderAnnotationLayer:dt=!0,renderForms:K=!1,renderMode:rt="canvas",renderTextLayer:ut=!0,rotate:st,scale:bt=LD,unregisterPage:wt,width:Et}=e,Ct=ket(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Bt,zt]=tg(),{value:At,error:Ht}=Bt,Gt=M.useRef(null);dn(Q);const Ot=Hu(Y)?Y-1:nt??null,Pt=Y??(Hu(nt)?nt+1:null),Wt=st??(At?At.rotate:null),ue=M.useMemo(()=>{if(!At)return null;let ee=1;const Je=bt??LD;if(Et||E){const Oe=At.getViewport({scale:1,rotation:Wt});Et?ee=Et/Oe.width:E&&(ee=E/Oe.height)}return Je*ee},[E,At,Wt,bt,Et]);M.useEffect(function(){return()=>{Hu(Ot)&&s&&wt&&wt(Ot)}},[s,Q,Ot,wt]);function fe(){if(R){if(!At||!ue)return;R(Yx(At,ue))}if(s&&at){if(!Hu(Ot)||!Gt.current)return;at(Ot,Gt.current)}}function ke(){Ht&&(os(!1,Ht.toString()),L&&L(Ht))}M.useEffect(function(){zt({type:"RESET"})},[zt,Q,Ot]),M.useEffect(function(){if(!Q||!Pt)return;const Je=cb(Q.getPage(Pt)),Oe=Je;return Je.promise.then(De=>{zt({type:"RESOLVE",value:De})}).catch(De=>{zt({type:"REJECT",error:De})}),()=>cd(Oe)},[zt,Q,Pt]),M.useEffect(()=>{if(At!==void 0){if(At===!1){ke();return}fe()}},[At,ue]);const Ue=M.useMemo(()=>At&&Hu(Ot)&&Pt&&Hu(Wt)&&Hu(ue)?{_className:n,canvasBackground:a,customTextRenderer:p,devicePixelRatio:y,onGetAnnotationsError:x,onGetAnnotationsSuccess:F,onGetStructTreeError:k,onGetStructTreeSuccess:D,onGetTextError:U,onGetTextSuccess:W,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:T,onRenderError:B,onRenderSuccess:q,onRenderTextLayerError:z,onRenderTextLayerSuccess:ct,page:At,pageIndex:Ot,pageNumber:Pt,renderForms:K,renderTextLayer:ut,rotate:Wt,scale:ue}:null,[n,a,p,y,x,F,k,D,U,W,N,T,B,q,z,ct,At,Ot,Pt,K,ut,Wt,ue]),$e=M.useMemo(()=>G5(Ct,()=>At&&(ue?Yx(At,ue):void 0)),[Ct,At,ue]),pe=`${Ot}@${ue}/${Wt}`;function Dt(){switch(rt){case"custom":return dn(d),O.jsx(d,{},`${pe}_custom`);case"none":return null;case"canvas":default:return O.jsx(xet,{canvasRef:l},`${pe}_canvas`)}}function oi(){return ut?O.jsx(Ret,{},`${pe}_text`):null}function Ze(){return dt?O.jsx(Iet,{},`${pe}_annotations`):null}function Wi(){return O.jsxs(Z5.Provider,{value:Ue,children:[Dt(),oi(),Ze(),c]})}function Re(){return Pt?Q===null||At===void 0||At===null?O.jsx($f,{type:"loading",children:typeof S=="function"?S():S}):Q===!1||At===!1?O.jsx($f,{type:"error",children:typeof b=="function"?b():b}):Wi():O.jsx($f,{type:"no-data",children:typeof C=="function"?C():C})}return O.jsx("div",Object.assign({className:Jt(n,h),"data-page-number":Pt,ref:Q5(A,Gt),style:{"--scale-factor":`${ue}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},$e,{children:Re()}))}det();HR.workerSrc="pdf.worker.mjs";const Met=Oi(O.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Oet=Oi(O.jsx("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"}));function Det(i,t,e){return Math.max(t,Math.min(i,e))}const yn={toVector(i,t){return i===void 0&&(i=t),Array.isArray(i)?i:[i,i]},add(i,t){return[i[0]+t[0],i[1]+t[1]]},sub(i,t){return[i[0]-t[0],i[1]-t[1]]},addTo(i,t){i[0]+=t[0],i[1]+=t[1]},subTo(i,t){i[0]-=t[0],i[1]-=t[1]}};function ND(i,t,e){return t===0||Math.abs(t)===1/0?Math.pow(i,e*5):i*t*e/(t+e*i)}function FD(i,t,e,n=.15){return n===0?Det(i,t,e):i<t?-ND(t-i,e-t,n)+t:i>e?+ND(i-e,e-t,n)+e:i}function Let(i,[t,e],[n,s]){const[[a,l],[c,h]]=i;return[FD(t,a,l,n),FD(e,c,h,s)]}function Net(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Fet(i){var t=Net(i,"string");return typeof t=="symbol"?t:String(t)}function ii(i,t,e){return t=Fet(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function VD(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function kn(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(e),!0).forEach(function(n){ii(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):VD(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}const iV={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function UD(i){return i?i[0].toUpperCase()+i.slice(1):""}const Vet=["enter","leave"];function Uet(i=!1,t){return i&&!Vet.includes(t)}function Bet(i,t="",e=!1){const n=iV[i],s=n&&n[t]||t;return"on"+UD(i)+UD(s)+(Uet(e,s)?"Capture":"")}const jet=["gotpointercapture","lostpointercapture"];function zet(i){let t=i.substring(2).toLowerCase();const e=!!~t.indexOf("passive");e&&(t=t.replace("passive",""));const n=jet.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(n);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:e}}function Het(i,t=""){const e=iV[i],n=e&&e[t]||t;return i+n}function zA(i){return"touches"in i}function sV(i){return zA(i)?"touch":"pointerType"in i?i.pointerType:"mouse"}function $et(i){return Array.from(i.touches).filter(t=>{var e,n;return t.target===i.currentTarget||((e=i.currentTarget)===null||e===void 0||(n=e.contains)===null||n===void 0?void 0:n.call(e,t.target))})}function qet(i){return i.type==="touchend"||i.type==="touchcancel"?i.changedTouches:i.targetTouches}function rV(i){return zA(i)?qet(i)[0]:i}function Xx(i,t){try{const e=t.clientX-i.clientX,n=t.clientY-i.clientY,s=(t.clientX+i.clientX)/2,a=(t.clientY+i.clientY)/2,l=Math.hypot(e,n);return{angle:-(Math.atan2(e,n)*180)/Math.PI,distance:l,origin:[s,a]}}catch{}return null}function Get(i){return $et(i).map(t=>t.identifier)}function BD(i,t){const[e,n]=Array.from(i.touches).filter(s=>t.includes(s.identifier));return Xx(e,n)}function MT(i){const t=rV(i);return zA(i)?t.identifier:t.pointerId}function eg(i){const t=rV(i);return[t.clientX,t.clientY]}const jD=40,zD=800;function aV(i){let{deltaX:t,deltaY:e,deltaMode:n}=i;return n===1?(t*=jD,e*=jD):n===2&&(t*=zD,e*=zD),[t,e]}function Wet(i){var t,e;const{scrollX:n,scrollY:s,scrollLeft:a,scrollTop:l}=i.currentTarget;return[(t=n??a)!==null&&t!==void 0?t:0,(e=s??l)!==null&&e!==void 0?e:0]}function Ket(i){const t={};if("buttons"in i&&(t.buttons=i.buttons),"shiftKey"in i){const{shiftKey:e,altKey:n,metaKey:s,ctrlKey:a}=i;Object.assign(t,{shiftKey:e,altKey:n,metaKey:s,ctrlKey:a})}return t}function RE(i,...t){return typeof i=="function"?i(...t):i}function Yet(){}function Xet(...i){return i.length===0?Yet:i.length===1?i[0]:function(){let t;for(const e of i)t=e.apply(this,arguments)||t;return t}}function HD(i,t){return Object.assign({},t,i||{})}const Qet=32;class oV{constructor(t,e,n){this.ctrl=t,this.args=e,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:n,args:s}=this;e[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,n=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=n.from?RE(n.from,e):e.offset,e.offset=e.lastOffset,e.startTime=e.timeStamp=t.timeStamp)}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:n,shared:s}=this;e.args=this.args;let a=0;if(t&&(e.event=t,n.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,Ket(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,a=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const W=e._delta.map(Math.abs);yn.addTo(e._distance,W)}this.axisIntent&&this.axisIntent(t);const[l,c]=e._movement,[h,d]=n.threshold,{_step:p,values:y}=e;if(n.hasCustomTransform?(p[0]===!1&&(p[0]=Math.abs(l)>=h&&y[0]),p[1]===!1&&(p[1]=Math.abs(c)>=d&&y[1])):(p[0]===!1&&(p[0]=Math.abs(l)>=h&&Math.sign(l)*h),p[1]===!1&&(p[1]=Math.abs(c)>=d&&Math.sign(c)*d)),e.intentional=p[0]!==!1||p[1]!==!1,!e.intentional)return;const b=[0,0];if(n.hasCustomTransform){const[W,L]=y;b[0]=p[0]!==!1?W-p[0]:0,b[1]=p[1]!==!1?L-p[1]:0}else b[0]=p[0]!==!1?l-p[0]:0,b[1]=p[1]!==!1?c-p[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(b);const E=e.offset,A=e._active&&!e._blocked||e.active;A&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=s[this.ingKey]=e._active,t&&(e.first&&("bounds"in n&&(e._bounds=RE(n.bounds,e)),this.setup&&this.setup()),e.movement=b,this.computeOffset()));const[S,C]=e.offset,[[x,F],[k,D]]=e._bounds;e.overflow=[S<x?-1:S>F?1:0,C<k?-1:C>D?1:0],e._movementBound[0]=e.overflow[0]?e._movementBound[0]===!1?e._movement[0]:e._movementBound[0]:!1,e._movementBound[1]=e.overflow[1]?e._movementBound[1]===!1?e._movement[1]:e._movementBound[1]:!1;const U=e._active?n.rubberband||[0,0]:[0,0];if(e.offset=Let(e._bounds,e.offset,U),e.delta=yn.sub(e.offset,E),this.computeMovement(),A&&(!e.last||a>Qet)){e.delta=yn.sub(e.offset,E);const W=e.delta.map(Math.abs);yn.addTo(e.distance,W),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&a>0&&(e.velocity=[W[0]/a,W[1]/a],e.timeDelta=a)}}emit(){const t=this.state,e=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const s=this.handler(kn(kn(kn({},e),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Zet([i,t],e){const n=Math.abs(i),s=Math.abs(t);if(n>s&&n>e)return"x";if(s>n&&s>e)return"y"}class ub extends oV{constructor(...t){super(...t),ii(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=yn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=yn.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const e=this.state,n=this.config;if(!e.axis&&t){const s=typeof n.axisThreshold=="object"?n.axisThreshold[sV(t)]:n.axisThreshold;e.axis=Zet(e._movement,s)}e._blocked=(n.lockDirection||!!n.axis)&&!e.axis||!!n.axis&&n.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Jet=i=>i,$D=.15,lV={enabled(i=!0){return i},eventOptions(i,t,e){return kn(kn({},e.shared.eventOptions),i)},preventDefault(i=!1){return i},triggerAllEvents(i=!1){return i},rubberband(i=0){switch(i){case!0:return[$D,$D];case!1:return[0,0];default:return yn.toVector(i)}},from(i){if(typeof i=="function")return i;if(i!=null)return yn.toVector(i)},transform(i,t,e){const n=i||e.shared.transform;return this.hasCustomTransform=!!n,n||Jet},threshold(i){return yn.toVector(i,0)}},tnt=0,bd=kn(kn({},lV),{},{axis(i,t,{axis:e}){if(this.lockDirection=e==="lock",!this.lockDirection)return e},axisThreshold(i=tnt){return i},bounds(i={}){if(typeof i=="function")return a=>bd.bounds(i(a));if("current"in i)return()=>i.current;if(typeof HTMLElement=="function"&&i instanceof HTMLElement)return i;const{left:t=-1/0,right:e=1/0,top:n=-1/0,bottom:s=1/0}=i;return[[t,e],[n,s]]}}),qD={ArrowRight:(i,t=1)=>[i*t,0],ArrowLeft:(i,t=1)=>[-1*i*t,0],ArrowUp:(i,t=1)=>[0,-1*i*t],ArrowDown:(i,t=1)=>[0,i*t]};class ent extends ub{constructor(...t){super(...t),ii(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),s={left:e.left-n.left+t.offset[0],right:e.right-n.right+t.offset[0],top:e.top-n.top+t.offset[1],bottom:e.bottom-n.bottom+t.offset[1]};t._bounds=bd.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,n=this.state;if(t.buttons!=null&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):e.pointerButtons!==-1&&e.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&n._pointerActive)&&(this.start(t),this.setupPointer(t),n._pointerId=MT(t),n._pointerActive=!0,this.computeValues(eg(t)),this.computeInitial(),e.preventScrollAxis&&sV(t)!=="mouse"?(n._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,n=this.config;if(!e._pointerActive)return;const s=MT(t);if(e._pointerId!==void 0&&s!==e._pointerId)return;const a=eg(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=yn.sub(a,e._values),this.computeValues(a)),yn.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(n.preventScrollAxis&&!e._preventScroll)if(e.axis)if(e.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){e._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const e=this.state,n=this.config;if(!e._active||!e._pointerActive)return;const s=MT(t);if(e._pointerId!==void 0&&s!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,l]=e._distance;if(e.tap=a<=n.tapsThreshold&&l<=n.tapsThreshold,e.tap&&n.filterTaps)e._force=!0;else{const[c,h]=e._delta,[d,p]=e._movement,[y,b]=n.swipe.velocity,[E,A]=n.swipe.distance,S=n.swipe.duration;if(e.elapsedTime<S){const C=Math.abs(c/e.timeDelta),x=Math.abs(h/e.timeDelta);C>y&&Math.abs(d)>E&&(e.swipe[0]=Math.sign(c)),x>b&&Math.abs(p)>A&&(e.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config,n=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,nnt(t);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const e=qD[t.key];if(e){const n=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=e(this.config.keyboardDisplacement,s),n._keyboardActive=!0,yn.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in qD&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function nnt(i){"persist"in i&&typeof i.persist=="function"&&i.persist()}const hb=typeof window<"u"&&window.document&&window.document.createElement;function cV(){return hb&&"ontouchstart"in window}function int(){return cV()||hb&&window.navigator.maxTouchPoints>1}function snt(){return hb&&"onpointerdown"in window}function rnt(){return hb&&"exitPointerLock"in window.document}function ant(){try{return"constructor"in GestureEvent}catch{return!1}}const Tr={isBrowser:hb,gesture:ant(),touch:cV(),touchscreen:int(),pointer:snt(),pointerLock:rnt()},ont=250,lnt=180,cnt=.5,unt=50,hnt=250,dnt=10,GD={mouse:0,touch:0,pen:8},fnt=kn(kn({},bd),{},{device(i,t,{pointer:{touch:e=!1,lock:n=!1,mouse:s=!1}={}}){return this.pointerLock=n&&Tr.pointerLock,Tr.touch&&e?"touch":this.pointerLock?"mouse":Tr.pointer&&!s?"pointer":Tr.touch?"touch":"mouse"},preventScrollAxis(i,t,{preventScroll:e}){if(this.preventScrollDelay=typeof e=="number"?e:e||e===void 0&&i?ont:void 0,!(!Tr.touchscreen||e===!1))return i||(e!==void 0?"y":void 0)},pointerCapture(i,t,{pointer:{capture:e=!0,buttons:n=1,keys:s=!0}={}}){return this.pointerButtons=n,this.keys=s,!this.pointerLock&&this.device==="pointer"&&e},threshold(i,t,{filterTaps:e=!1,tapsThreshold:n=3,axis:s=void 0}){const a=yn.toVector(i,e?n:s?1:0);return this.filterTaps=e,this.tapsThreshold=n,a},swipe({velocity:i=cnt,distance:t=unt,duration:e=hnt}={}){return{velocity:this.transform(yn.toVector(i)),distance:this.transform(yn.toVector(t)),duration:e}},delay(i=0){switch(i){case!0:return lnt;case!1:return 0;default:return i}},axisThreshold(i){return i?kn(kn({},GD),i):GD},keyboardDisplacement(i=dnt){return i}});function uV(i){const[t,e]=i.overflow,[n,s]=i._delta,[a,l]=i._direction;(t<0&&n>0&&a<0||t>0&&n<0&&a>0)&&(i._movement[0]=i._movementBound[0]),(e<0&&s>0&&l<0||e>0&&s<0&&l>0)&&(i._movement[1]=i._movementBound[1])}const pnt=30,gnt=100;class mnt extends oV{constructor(...t){super(...t),ii(this,"ingKey","pinching"),ii(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:e,lastOffset:n}=this.state;t==="wheel"?this.state.offset=yn.add(e,n):this.state.offset=[(1+e[0])*n[0],e[1]+n[1]]}computeMovement(){const{offset:t,lastOffset:e}=this.state;this.state.movement=[t[0]/e[0],t[1]-e[1]]}axisIntent(){const t=this.state,[e,n]=t._movement;if(!t.axis){const s=Math.abs(e)*pnt-Math.abs(n);s<0?t.axis="angle":s>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const e=this.state,n=this.ctrl.touchIds;if(e._active&&e._touchIds.every(a=>n.has(a))||n.size<2)return;this.start(t),e._touchIds=Array.from(n).slice(0,2);const s=BD(t,e._touchIds);s&&this.pinchStart(t,s)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const e=this.state,n=e._pointerEvents,s=this.ctrl.pointerIds;if(e._active&&Array.from(n.keys()).every(l=>s.has(l))||(n.size<2&&n.set(t.pointerId,t),e._pointerEvents.size<2))return;this.start(t);const a=Xx(...Array.from(n.values()));a&&this.pinchStart(t,a)}pinchStart(t,e){const n=this.state;n.origin=e.origin,this.computeValues([e.distance,e.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const e=BD(t,this.state._touchIds);e&&this.pinchMove(t,e)}pointerMove(t){const e=this.state._pointerEvents;if(e.has(t.pointerId)&&e.set(t.pointerId,t),!this.state._active)return;const n=Xx(...Array.from(e.values()));n&&this.pinchMove(t,n)}pinchMove(t,e){const n=this.state,s=n._values[1],a=e.angle-s;let l=0;Math.abs(a)>270&&(l+=Math.sign(a)),this.computeValues([e.distance,e.angle-360*l]),n.origin=e.origin,n.turns=l,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const e=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}e._pointerEvents.has(t.pointerId)&&e._pointerEvents.delete(t.pointerId),e._active&&e._pointerEvents.size<2&&(e._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const e=this.state;e._active||(this.start(t),this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const e=this.state;this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY];const n=e._movement;e._movement=[t.scale-1,t.rotation],e._delta=yn.sub(e._movement,n),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const e=this.config.modifierKey;e&&(Array.isArray(e)?!e.find(n=>t[n]):!t[e])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const n=this.state;n._delta=[-aV(t)[1]/gnt*n.offset[0],0],yn.addTo(n._movement,n._delta),uV(n),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const e=this.config.device;e&&(t(e,"start",this[e+"Start"].bind(this)),t(e,"change",this[e+"Move"].bind(this)),t(e,"end",this[e+"End"].bind(this)),t(e,"cancel",this[e+"End"].bind(this)),t("lostPointerCapture","",this[e+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const ynt=kn(kn({},lV),{},{device(i,t,{shared:e,pointer:{touch:n=!1}={}}){if(e.target&&!Tr.touch&&Tr.gesture)return"gesture";if(Tr.touch&&n)return"touch";if(Tr.touchscreen){if(Tr.pointer)return"pointer";if(Tr.touch)return"touch"}},bounds(i,t,{scaleBounds:e={},angleBounds:n={}}){const s=l=>{const c=HD(RE(e,l),{min:-1/0,max:1/0});return[c.min,c.max]},a=l=>{const c=HD(RE(n,l),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof e!="function"&&typeof n!="function"?[s(),a()]:l=>[s(l),a(l)]},threshold(i,t,e){return this.lockDirection=e.axis==="lock",yn.toVector(i,this.lockDirection?[.1,3]:0)},modifierKey(i){return i===void 0?"ctrlKey":i},pinchOnWheel(i=!0){return i}});class vnt extends ub{constructor(...t){super(...t),ii(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(eg(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const e=eg(t),n=this.state;n._delta=yn.sub(e,n._values),yn.addTo(n._movement,n._delta),this.computeValues(e),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const bnt=kn(kn({},bd),{},{mouseOnly:(i=!0)=>i});class _nt extends ub{constructor(...t){super(...t),ii(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const e=this.state,n=Wet(t);e._delta=yn.sub(n,e._values),yn.addTo(e._movement,e._delta),this.computeValues(n),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const Ent=bd;class Ant extends ub{constructor(...t){super(...t),ii(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const e=this.state;e._delta=aV(t),yn.addTo(e._movement,e._delta),uV(e),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const Snt=bd;class wnt extends ub{constructor(...t){super(...t),ii(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(eg(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const e=this.state;if(!e._active)return;e._active=!1;const n=eg(t);e._movement=e._delta=yn.sub(n,e._values),this.computeValues(n),this.compute(t),e.delta=e.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const Tnt=kn(kn({},bd),{},{mouseOnly:(i=!0)=>i}),$R=new Map,Qx=new Map;function xnt(i){$R.set(i.key,i.engine),Qx.set(i.key,i.resolver)}const Cnt={key:"drag",engine:ent,resolver:fnt},Rnt={key:"hover",engine:wnt,resolver:Tnt},Int={key:"move",engine:vnt,resolver:bnt},knt={key:"pinch",engine:mnt,resolver:ynt},Pnt={key:"scroll",engine:_nt,resolver:Ent},Mnt={key:"wheel",engine:Ant,resolver:Snt};function Ont(i,t){if(i==null)return{};var e={},n=Object.keys(i),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(e[s]=i[s]);return e}function Dnt(i,t){if(i==null)return{};var e=Ont(i,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}const Lnt={target(i){if(i)return()=>"current"in i?i.current:i},enabled(i=!0){return i},window(i=Tr.isBrowser?window:void 0){return i},eventOptions({passive:i=!0,capture:t=!1}={}){return{passive:i,capture:t}},transform(i){return i}},Nnt=["target","eventOptions","window","enabled","transform"];function W_(i={},t){const e={};for(const[n,s]of Object.entries(t))switch(typeof s){case"function":e[n]=s.call(e,i[n],n,i);break;case"object":e[n]=W_(i[n],s);break;case"boolean":s&&(e[n]=i[n]);break}return e}function Fnt(i,t,e={}){const n=i,{target:s,eventOptions:a,window:l,enabled:c,transform:h}=n,d=Dnt(n,Nnt);if(e.shared=W_({target:s,eventOptions:a,window:l,enabled:c,transform:h},Lnt),t){const p=Qx.get(t);e[t]=W_(kn({shared:e.shared},d),p)}else for(const p in d){const y=Qx.get(p);y&&(e[p]=W_(kn({shared:e.shared},d[p]),y))}return e}class hV{constructor(t,e){ii(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,n,s,a){const l=this._listeners,c=Het(e,n),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=kn(kn({},h),a);t.addEventListener(c,s,d);const p=()=>{t.removeEventListener(c,s,d),l.delete(p)};return l.add(p),p}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Vnt{constructor(){ii(this,"_timeouts",new Map)}add(t,e,n=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(e,n,...s))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Unt{constructor(t){ii(this,"gestures",new Set),ii(this,"_targetEventStore",new hV(this)),ii(this,"gestureEventStores",{}),ii(this,"gestureTimeoutStores",{}),ii(this,"handlers",{}),ii(this,"config",{}),ii(this,"pointerIds",new Set),ii(this,"touchIds",new Set),ii(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Bnt(this,t)}setEventIds(t){if(zA(t))return this.touchIds=new Set(Get(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=Fnt(t,e,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,n={};let s;if(!(e.target&&(s=e.target(),!s))){if(e.enabled){for(const l of this.gestures){const c=this.config[l],h=WD(n,c.eventOptions,!!s);if(c.enabled){const d=$R.get(l);new d(this,t,l).bind(h)}}const a=WD(n,e.eventOptions,!!s);for(const l in this.nativeHandlers)a(l,"",c=>this.nativeHandlers[l](kn(kn({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const a in n)n[a]=Xet(...n[a]);if(!s)return n;for(const a in n){const{device:l,capture:c,passive:h}=zet(a);this._targetEventStore.add(s,l,"",n[a],{capture:c,passive:h})}}}}function mf(i,t){i.gestures.add(t),i.gestureEventStores[t]=new hV(i,t),i.gestureTimeoutStores[t]=new Vnt}function Bnt(i,t){t.drag&&mf(i,"drag"),t.wheel&&mf(i,"wheel"),t.scroll&&mf(i,"scroll"),t.move&&mf(i,"move"),t.pinch&&mf(i,"pinch"),t.hover&&mf(i,"hover")}const WD=(i,t,e)=>(n,s,a,l={},c=!1)=>{var h,d;const p=(h=l.capture)!==null&&h!==void 0?h:t.capture,y=(d=l.passive)!==null&&d!==void 0?d:t.passive;let b=c?n:Bet(n,s,p);e&&y&&(b+="Passive"),i[b]=i[b]||[],i[b].push(a)},jnt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function znt(i){const t={},e={},n=new Set;for(let s in i)jnt.test(s)?(n.add(RegExp.lastMatch),e[s]=i[s]):t[s]=i[s];return[e,t,n]}function yf(i,t,e,n,s,a){if(!i.has(e)||!$R.has(n))return;const l=e+"Start",c=e+"End",h=d=>{let p;return d.first&&l in t&&t[l](d),e in t&&(p=t[e](d)),d.last&&c in t&&t[c](d),p};s[n]=h,a[n]=a[n]||{}}function Hnt(i,t){const[e,n,s]=znt(i),a={};return yf(s,e,"onDrag","drag",a,t),yf(s,e,"onWheel","wheel",a,t),yf(s,e,"onScroll","scroll",a,t),yf(s,e,"onPinch","pinch",a,t),yf(s,e,"onMove","move",a,t),yf(s,e,"onHover","hover",a,t),{handlers:a,config:t,nativeHandlers:n}}function $nt(i,t={},e,n){const s=er.useMemo(()=>new Unt(i),[]);if(s.applyHandlers(i,n),s.applyConfig(t,e),er.useEffect(s.effect.bind(s)),er.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function qnt(i){return i.forEach(xnt),function(e,n){const{handlers:s,nativeHandlers:a,config:l}=Hnt(e,n||{});return $nt(s,l,void 0,a)}}function Gnt(i,t){return qnt([Cnt,knt,Pnt,Mnt,Int,Rnt])(i,{})}const OT="/assets/workbook-Dd_TN73H.pdf";HR.workerSrc="/pdf.worker.js";function Wnt(){const[i,t]=M.useState(0),[e,n]=M.useState(1),[s,a]=M.useState(1),l=M.useRef(null),c=sg();function h({numPages:p}){t(p),n(1)}const d=Gnt({onDragEnd:({swipe:[p]})=>{p===-1&&n(y=>Math.min(y+1,i)),p===1&&n(y=>Math.max(y-1,1))}});return M.useEffect(()=>{const p=()=>{if(l.current){const E=l.current.offsetWidth/612;a(E)}};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),O.jsxs(vt,{className:"height_fixed_wrapper",children:[O.jsx(Qv,{subtitle:" "}),O.jsxs(vt,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[O.jsxs(vt,{className:"fullWidth fully_centeralize",children:[O.jsx("a",{href:OT,download:!0,target:"_blank",rel:"noopener noreferrer",children:O.jsx(vt,{className:"homebutton fully_centeralize",children:O.jsx(Met,{fontSize:"large",sx:{color:"#1a1c21"}})})}),O.jsx(vt,{className:"homebutton fully_centeralize",onClick:()=>{c("/")},children:O.jsx(NF,{fontSize:"large",sx:{color:"#1a1c21"}})}),O.jsx(vt,{className:"homebutton fully_centeralize",onClick:()=>{navigator.share?navigator.share({title:" ",text:"2025 Summer Retreat - CHANGE ",url:OT}):alert("     .")},children:O.jsx(Oet,{fontSize:"large",sx:{color:"#1a1c21"}})})]}),O.jsx(vt,{ref:l,className:"centeralize",sx:{width:"100%",height:"100%",overflow:"auto",maxHeight:"calc(100vh-100px)",flex:1,minHeight:0},...d(),children:O.jsx(bet,{file:OT,onLoadSuccess:h,children:O.jsx(Pet,{scale:s,pageNumber:e,renderTextLayer:!1,renderAnnotationLayer:!1})})}),O.jsxs(vt,{className:"fully_centeralize fullWidth",sx:{display:"flex",p:1,boxSizing:"border-box",height:"60px"},children:[O.jsx("button",{disabled:e<=1,onClick:()=>n(p=>p+-1),children:""}),O.jsxs(xt,{sx:{ml:2,mr:2},children:[e," / ",i]}),O.jsx("button",{disabled:e>=i,onClick:()=>n(p=>p+1),children:""})]})]})]})}const Knt=Oi(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"})),Ynt=Oi(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}));function Xnt(){var E;const[i,t]=M.useState({announcement:!1,prayBoard:!1,users:!1,courses:!0,selected_courses:!0}),[e,n]=M.useState([]),[s,a]=M.useState(),[l,c]=M.useState(0),[h,d]=M.useState(0),[p,y]=M.useState(0),{user:b}=kA();return M.useEffect(()=>{(async()=>{t(k=>({...k,courses:!0}));const S=Wc(Gc(Yc,"courses")),C=await Kc(S);if(C.empty)console.log("[Warning]No accouncements has been queried");else{const k=C.docs.map(D=>D.data());n(k)}t(k=>({...k,courses:!1})),t(k=>({...k,selected_courses:!0}));const x=Wc(Gc(Yc,"course_application"),TR("group_id","==",b.group_id)),F=await Kc(x);F.empty?console.log("[Warning]No accouncements has been queried"):F.docs.map(k=>{a(k.data())}),t(k=>({...k,selected_courses:!1}))})()},[b]),M.useEffect(()=>{const A=s==null?void 0:s.acquired_courses.map(S=>e.filter(C=>C.code==S.code)[0].credit);y((A==null?void 0:A.reduce((S,C)=>S+C,0))??0)},[s,e]),M.useEffect(()=>{const A=s==null?void 0:s.acquired_courses.reduce((C,x)=>C+x.grade*e.filter(F=>F.code==x.code)[0].credit,0),S=s==null?void 0:s.selected_courses.reduce((C,x)=>C+e.filter(F=>F.code==x)[0].credit,0);d(S??0),s!=null&&s.acquired_courses&&c((A??0)/p)},[s,e,p]),O.jsxs(vt,{className:"wrapper",children:[O.jsx(Qv,{subtitle:" "}),O.jsxs(vt,{className:"fullWidth timetable",sx:{p:2,boxSizing:"border-box"},children:[(i.selected_courses||i.courses)&&O.jsx(iE,{variant:"rectangular",className:"boardPreview",animation:"wave"}),(((E=s==null?void 0:s.selected_courses)==null?void 0:E.length)??0)>0?O.jsx(vt,{children:s==null?void 0:s.selected_courses.map(A=>{const S=e.filter(x=>x.code==A)[0],C=(s==null?void 0:s.acquired_courses.filter(x=>x.code==A).length)>0;return O.jsxs(y$,{sx:{minWidth:275,mt:2,position:"relative"},children:[C&&O.jsxs(vt,{className:"courseMark",children:[O.jsx(Ynt,{fontSize:"small",sx:{color:"rgb(78, 137, 82)"}}),O.jsx(xt,{variant:"success",children:""})]}),O.jsxs(E$,{className:"courseCard",children:[O.jsx(xt,{sx:{color:"text.secondary",fontSize:12},children:S==null?void 0:S.code}),O.jsx(xt,{variant:"h5",component:"div",children:S==null?void 0:S.title}),O.jsxs(xt,{variant:"h6",sx:{color:"text.secondary"},children:[S!=null&&S.is_essential?"":""," |"," ",S==null?void 0:S.credit,""]})]})]},`course_${A}`)})}):O.jsx(vt,{children:O.jsx(xt,{children:"  "})}),O.jsxs(vt,{className:"fullWidth fully_centeralize",sx:{mt:2},children:[O.jsx(Knt,{sx:{mr:1,color:"#FFF"}}),O.jsx(xt,{variant:"body2",children:" "})]})]}),O.jsxs(vt,{className:"fullWidth timetable",sx:{p:2,boxSizing:"border-box",mt:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O.jsx(xt,{sx:{mb:1},children:""}),O.jsxs(vt,{className:"flex-left fullWidth",children:[O.jsxs(vt,{className:"flex-left",sx:{mr:4},children:[O.jsx(xt,{variant:"credit_category",sx:{mr:2},children:"GPA"}),O.jsxs(vt,{children:[O.jsx(xt,{variant:"credit_body1",children:isNaN(l)?0:l}),O.jsx(xt,{variant:"credit_body2",children:" / 4.5"})]})]}),O.jsxs(vt,{className:"flex-left",children:[O.jsx(xt,{variant:"credit_category",sx:{mr:2},children:""}),O.jsxs(vt,{children:[O.jsx(xt,{variant:"credit_body1",children:p}),O.jsxs(xt,{variant:"credit_body2",children:[" ","/ ",h]})]})]})]})]}),O.jsx(FF,{})]})}function Qnt(){return O.jsx(HQ,{children:O.jsx(U9,{theme:GQ,children:O.jsx(lB,{children:O.jsxs(VU,{children:[O.jsx($u,{path:"/signin",element:O.jsx(qQ,{})}),O.jsx($u,{path:"/",element:O.jsx(Cm,{children:O.jsx($Q,{})})}),O.jsx($u,{path:"/pray",element:O.jsx(Cm,{children:O.jsx(WQ,{})})}),O.jsx($u,{path:"/post",element:O.jsx(Cm,{children:O.jsx(KQ,{})})}),O.jsx($u,{path:"/workbook",element:O.jsx(Cm,{children:O.jsx(Wnt,{})})}),O.jsx($u,{path:"/courses",element:O.jsx(Cm,{children:O.jsx(Xnt,{})})})]})})})})}W6.createRoot(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(Qnt,{})}));
