var wU=Object.defineProperty;var eD=n=>{throw TypeError(n)};var AU=(n,t,e)=>t in n?wU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var re=(n,t,e)=>AU(n,typeof t!="symbol"?t+"":t,e),dx=(n,t,e)=>t.has(n)||eD("Cannot "+e);var g=(n,t,e)=>(dx(n,t,"read from private field"),e?e.call(n):t.get(n)),K=(n,t,e)=>t.has(n)?eD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),H=(n,t,e,i)=>(dx(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),$=(n,t,e)=>(dx(n,t,"access private method"),e);var xr=(n,t,e,i)=>({set _(r){H(n,t,r,e)},get _(){return g(n,t,i)}});function xU(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function Lb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fx={exports:{}},iy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD;function TU(){if(nD)return iy;nD=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return iy.Fragment=t,iy.jsx=e,iy.jsxs=e,iy}var iD;function CU(){return iD||(iD=1,fx.exports=TU()),fx.exports}var R=CU(),px={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD;function RU(){if(rD)return ye;rD=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=m&&N[m]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function T(N,st,ut){this.props=N,this.context=st,this.refs=w,this.updater=ut||b}T.prototype.isReactComponent={},T.prototype.setState=function(N,st){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,st,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function A(){}A.prototype=T.prototype;function O(N,st,ut){this.props=N,this.context=st,this.refs=w,this.updater=ut||b}var k=O.prototype=new A;k.constructor=O,E(k,T.prototype),k.isPureReactComponent=!0;var P=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function D(N,st,ut,G,St,Ct){return ut=Ct.ref,{$$typeof:n,type:N,key:st,ref:ut!==void 0?ut:null,props:Ct}}function I(N,st){return D(N.type,st,void 0,void 0,void 0,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function x(N){var st={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return st[ut]})}var B=/\/+/g;function q(N,st){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):st.toString(36)}function U(){}function tt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(U,U):(N.status="pending",N.then(function(st){N.status==="pending"&&(N.status="fulfilled",N.value=st)},function(st){N.status==="pending"&&(N.status="rejected",N.reason=st)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function J(N,st,ut,G,St){var Ct=typeof N;(Ct==="undefined"||Ct==="boolean")&&(N=null);var wt=!1;if(N===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(N.$$typeof){case n:case t:wt=!0;break;case f:return wt=N._init,J(wt(N._payload),st,ut,G,St)}}if(wt)return St=St(N),wt=G===""?"."+q(N,0):G,P(St)?(ut="",wt!=null&&(ut=wt.replace(B,"$&/")+"/"),J(St,st,ut,"",function(Kt){return Kt})):St!=null&&(V(St)&&(St=I(St,ut+(St.key==null||N&&N.key===St.key?"":(""+St.key).replace(B,"$&/")+"/")+wt)),st.push(St)),1;wt=0;var It=G===""?".":G+":";if(P(N))for(var zt=0;zt<N.length;zt++)G=N[zt],Ct=It+q(G,zt),wt+=J(G,st,ut,Ct,St);else if(zt=y(N),typeof zt=="function")for(N=zt.call(N),zt=0;!(G=N.next()).done;)G=G.value,Ct=It+q(G,zt++),wt+=J(G,st,ut,Ct,St);else if(Ct==="object"){if(typeof N.then=="function")return J(tt(N),st,ut,G,St);throw st=String(N),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return wt}function X(N,st,ut){if(N==null)return N;var G=[],St=0;return J(N,G,"","",function(Ct){return st.call(ut,Ct,St++)}),G}function Z(N){if(N._status===-1){var st=N._result;st=st(),st.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=st)}if(N._status===1)return N._result.default;throw N._result}var rt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function dt(){}return ye.Children={map:X,forEach:function(N,st,ut){X(N,function(){st.apply(this,arguments)},ut)},count:function(N){var st=0;return X(N,function(){st++}),st},toArray:function(N){return X(N,function(st){return st})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ye.Component=T,ye.Fragment=e,ye.Profiler=r,ye.PureComponent=O,ye.StrictMode=i,ye.Suspense=u,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ye.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},ye.cache=function(N){return function(){return N.apply(null,arguments)}},ye.cloneElement=function(N,st,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var G=E({},N.props),St=N.key,Ct=void 0;if(st!=null)for(wt in st.ref!==void 0&&(Ct=void 0),st.key!==void 0&&(St=""+st.key),st)!j.call(st,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&st.ref===void 0||(G[wt]=st[wt]);var wt=arguments.length-2;if(wt===1)G.children=ut;else if(1<wt){for(var It=Array(wt),zt=0;zt<wt;zt++)It[zt]=arguments[zt+2];G.children=It}return D(N.type,St,void 0,void 0,Ct,G)},ye.createContext=function(N){return N={$$typeof:o,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:s,_context:N},N},ye.createElement=function(N,st,ut){var G,St={},Ct=null;if(st!=null)for(G in st.key!==void 0&&(Ct=""+st.key),st)j.call(st,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(St[G]=st[G]);var wt=arguments.length-2;if(wt===1)St.children=ut;else if(1<wt){for(var It=Array(wt),zt=0;zt<wt;zt++)It[zt]=arguments[zt+2];St.children=It}if(N&&N.defaultProps)for(G in wt=N.defaultProps,wt)St[G]===void 0&&(St[G]=wt[G]);return D(N,Ct,void 0,void 0,null,St)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(N){return{$$typeof:c,render:N}},ye.isValidElement=V,ye.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:Z}},ye.memo=function(N,st){return{$$typeof:d,type:N,compare:st===void 0?null:st}},ye.startTransition=function(N){var st=F.T,ut={};F.T=ut;try{var G=N(),St=F.S;St!==null&&St(ut,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(dt,rt)}catch(Ct){rt(Ct)}finally{F.T=st}},ye.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ye.use=function(N){return F.H.use(N)},ye.useActionState=function(N,st,ut){return F.H.useActionState(N,st,ut)},ye.useCallback=function(N,st){return F.H.useCallback(N,st)},ye.useContext=function(N){return F.H.useContext(N)},ye.useDebugValue=function(){},ye.useDeferredValue=function(N,st){return F.H.useDeferredValue(N,st)},ye.useEffect=function(N,st,ut){var G=F.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(N,st)},ye.useId=function(){return F.H.useId()},ye.useImperativeHandle=function(N,st,ut){return F.H.useImperativeHandle(N,st,ut)},ye.useInsertionEffect=function(N,st){return F.H.useInsertionEffect(N,st)},ye.useLayoutEffect=function(N,st){return F.H.useLayoutEffect(N,st)},ye.useMemo=function(N,st){return F.H.useMemo(N,st)},ye.useOptimistic=function(N,st){return F.H.useOptimistic(N,st)},ye.useReducer=function(N,st,ut){return F.H.useReducer(N,st,ut)},ye.useRef=function(N){return F.H.useRef(N)},ye.useState=function(N){return F.H.useState(N)},ye.useSyncExternalStore=function(N,st,ut){return F.H.useSyncExternalStore(N,st,ut)},ye.useTransition=function(){return F.H.useTransition()},ye.version="19.1.0",ye}var sD;function VR(){return sD||(sD=1,px.exports=RU()),px.exports}var M=VR();const ys=Lb(M),pT=xU({__proto__:null,default:ys},[M]);var mx={exports:{}},ry={},gx={exports:{}},yx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function IU(){return aD||(aD=1,function(n){function t(X,Z){var rt=X.length;X.push(Z);t:for(;0<rt;){var dt=rt-1>>>1,N=X[dt];if(0<r(N,Z))X[dt]=Z,X[rt]=N,rt=dt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Z=X[0],rt=X.pop();if(rt!==Z){X[0]=rt;t:for(var dt=0,N=X.length,st=N>>>1;dt<st;){var ut=2*(dt+1)-1,G=X[ut],St=ut+1,Ct=X[St];if(0>r(G,rt))St<N&&0>r(Ct,G)?(X[dt]=Ct,X[St]=rt,dt=St):(X[dt]=G,X[ut]=rt,dt=ut);else if(St<N&&0>r(Ct,rt))X[dt]=Ct,X[St]=rt,dt=St;else break t}}return Z}function r(X,Z){var rt=X.sortIndex-Z.sortIndex;return rt!==0?rt:X.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,m=null,y=3,b=!1,E=!1,w=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var Z=e(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=X)i(d),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=e(d)}}function F(X){if(w=!1,P(X),!E)if(e(u)!==null)E=!0,j||(j=!0,q());else{var Z=e(d);Z!==null&&J(F,Z.startTime-X)}}var j=!1,D=-1,I=5,V=-1;function x(){return T?!0:!(n.unstable_now()-V<I)}function B(){if(T=!1,j){var X=n.unstable_now();V=X;var Z=!0;try{t:{E=!1,w&&(w=!1,O(D),D=-1),b=!0;var rt=y;try{e:{for(P(X),m=e(u);m!==null&&!(m.expirationTime>X&&x());){var dt=m.callback;if(typeof dt=="function"){m.callback=null,y=m.priorityLevel;var N=dt(m.expirationTime<=X);if(X=n.unstable_now(),typeof N=="function"){m.callback=N,P(X),Z=!0;break e}m===e(u)&&i(u),P(X)}else i(u);m=e(u)}if(m!==null)Z=!0;else{var st=e(d);st!==null&&J(F,st.startTime-X),Z=!1}}break t}finally{m=null,y=rt,b=!1}Z=void 0}}finally{Z?q():j=!1}}}var q;if(typeof k=="function")q=function(){k(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,tt=U.port2;U.port1.onmessage=B,q=function(){tt.postMessage(null)}}else q=function(){A(B,0)};function J(X,Z){D=A(function(){X(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var rt=y;y=Z;try{return X()}finally{y=rt}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var rt=y;y=X;try{return Z()}finally{y=rt}},n.unstable_scheduleCallback=function(X,Z,rt){var dt=n.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?dt+rt:dt):rt=dt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=rt+N,X={id:f++,callback:Z,priorityLevel:X,startTime:rt,expirationTime:N,sortIndex:-1},rt>dt?(X.sortIndex=rt,t(d,X),e(u)===null&&X===e(d)&&(w?(O(D),D=-1):w=!0,J(F,rt-dt))):(X.sortIndex=N,t(u,X),E||b||(E=!0,j||(j=!0,q()))),X},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(X){var Z=y;return function(){var rt=y;y=Z;try{return X.apply(this,arguments)}finally{y=rt}}}}(yx)),yx}var oD;function kU(){return oD||(oD=1,gx.exports=IU()),gx.exports}var vx={exports:{}},rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD;function PU(){if(lD)return rr;lD=1;var n=VR();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:d,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rr.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,f)},rr.flushSync=function(u){var d=o.T,f=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=f,i.d.f()}},rr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},rr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},rr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,m=c(f,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):f==="script"&&i.d.X(u,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},rr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},rr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=c(f,d.crossOrigin);i.d.L(u,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},rr.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},rr.requestFormReset=function(u){i.d.r(u)},rr.unstable_batchedUpdates=function(u,d){return u(d)},rr.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},rr.useFormStatus=function(){return o.H.useHostTransitionStatus()},rr.version="19.1.0",rr}var cD;function $F(){if(cD)return vx.exports;cD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vx.exports=PU(),vx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD;function MU(){if(uD)return ry;uD=1;var n=kU(),t=VR(),e=$F();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(i(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var h=a,p=l;;){var _=h.return;if(_===null)break;var S=_.alternate;if(S===null){if(p=_.return,p!==null){h=p;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===h)return c(_),a;if(S===p)return c(_),l;S=S.sibling}throw Error(i(188))}if(h.return!==p.return)h=_,p=S;else{for(var z=!1,W=_.child;W;){if(W===h){z=!0,h=_,p=S;break}if(W===p){z=!0,p=_,h=S;break}W=W.sibling}if(!z){for(W=S.child;W;){if(W===h){z=!0,h=S,p=_;break}if(W===p){z=!0,p=S,h=_;break}W=W.sibling}if(!z)throw Error(i(189))}}if(h.alternate!==p)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function tt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case k:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case P:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return l=a.displayName||null,l!==null?l:tt(a.type)||"Memo";case I:l=a._payload,a=a._init;try{return tt(a(l))}catch{}}return null}var J=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},dt=[],N=-1;function st(a){return{current:a}}function ut(a){0>N||(a.current=dt[N],dt[N]=null,N--)}function G(a,l){N++,dt[N]=a.current,a.current=l}var St=st(null),Ct=st(null),wt=st(null),It=st(null);function zt(a,l){switch(G(wt,l),G(Ct,a),G(St,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?IM(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=IM(l),a=kM(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ut(St),G(St,a)}function Kt(){ut(St),ut(Ct),ut(wt)}function xt(a){a.memoizedState!==null&&G(It,a);var l=St.current,h=kM(l,a.type);l!==h&&(G(Ct,a),G(St,h))}function Qt(a){Ct.current===a&&(ut(St),ut(Ct)),It.current===a&&(ut(It),Zg._currentValue=rt)}var ee=Object.prototype.hasOwnProperty,jt=n.unstable_scheduleCallback,Lt=n.unstable_cancelCallback,te=n.unstable_shouldYield,pe=n.unstable_requestPaint,ge=n.unstable_now,Fe=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,Ee=n.unstable_NormalPriority,Ut=n.unstable_LowPriority,Qn=n.unstable_IdlePriority,Ze=n.log,ki=n.unstable_setDisableYieldValue,ct=null,mt=null;function Dt(a){if(typeof Ze=="function"&&ki(a),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(ct,a)}catch{}}var Vt=Math.clz32?Math.clz32:Je,Gt=Math.log,$t=Math.LN2;function Je(a){return a>>>=0,a===0?32:31-(Gt(a)/$t|0)|0}var Ve=256,dn=4194304;function Nt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ce(a,l,h){var p=a.pendingLanes;if(p===0)return 0;var _=0,S=a.suspendedLanes,z=a.pingedLanes;a=a.warmLanes;var W=p&134217727;return W!==0?(p=W&~S,p!==0?_=Nt(p):(z&=W,z!==0?_=Nt(z):h||(h=W&~a,h!==0&&(_=Nt(h))))):(W=p&~S,W!==0?_=Nt(W):z!==0?_=Nt(z):h||(h=p&~a,h!==0&&(_=Nt(h)))),_===0?0:l!==0&&l!==_&&(l&S)===0&&(S=_&-_,h=l&-l,S>=h||S===32&&(h&4194048)!==0)?l:_}function qe(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function $n(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var a=Ve;return Ve<<=1,(Ve&4194048)===0&&(Ve=256),a}function tg(){var a=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),a}function Lo(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function No(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function eg(a,l,h,p,_,S){var z=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var W=a.entanglements,Q=a.expirationTimes,ot=a.hiddenUpdates;for(h=z&~h;0<h;){var gt=31-Vt(h),bt=1<<gt;W[gt]=0,Q[gt]=-1;var lt=ot[gt];if(lt!==null)for(ot[gt]=null,gt=0;gt<lt.length;gt++){var ht=lt[gt];ht!==null&&(ht.lane&=-536870913)}h&=~bt}p!==0&&Ia(a,p,0),S!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=S&~(z&~l))}function Ia(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-Vt(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|h&4194090}function ng(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var p=31-Vt(h),_=1<<p;_&l|a[p]&l&&(a[p]|=l),h&=~_}}function rc(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sc(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:YM(a.type))}function h0(a,l){var h=Z.p;try{return Z.p=a,l()}finally{Z.p=h}}var Pn=Math.random().toString(36).slice(2),vi="__reactFiber$"+Pn,si="__reactProps$"+Pn,ws="__reactContainer$"+Pn,ig="__reactEvents$"+Pn,m1="__reactListeners$"+Pn,ac="__reactHandles$"+Pn,d0="__reactResources$"+Pn,Uu="__reactMarker$"+Pn;function oc(a){delete a[vi],delete a[si],delete a[ig],delete a[m1],delete a[ac]}function Fo(a){var l=a[vi];if(l)return l;for(var h=a.parentNode;h;){if(l=h[ws]||h[vi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=OM(a);a!==null;){if(h=a[vi])return h;a=OM(a)}return l}a=h,h=a.parentNode}return null}function ka(a){if(a=a[vi]||a[ws]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Pa(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Er(a){var l=a[d0];return l||(l=a[d0]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Zn(a){a[Uu]=!0}var rg=new Set,Jd={};function ea(a,l){Vo(a,l),Vo(a+"Capture",l)}function Vo(a,l){for(Jd[a]=l,a=0;a<l.length;a++)rg.add(l[a])}var f0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p0={},Hu={};function m0(a){return ee.call(Hu,a)?!0:ee.call(p0,a)?!1:f0.test(a)?Hu[a]=!0:(p0[a]=!0,!1)}function lc(a,l,h){if(m0(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function Ma(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function Hi(a,l,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+p)}}var $u,g0;function zo(a){if($u===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);$u=l&&l[1]||"",g0=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+a+g0}var tf=!1;function ef(a,l){if(!a||tf)return"";tf=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(ht){var lt=ht}Reflect.construct(a,[],bt)}else{try{bt.call()}catch(ht){lt=ht}a.call(bt.prototype)}}else{try{throw Error()}catch(ht){lt=ht}(bt=a())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(ht){if(ht&&lt&&typeof ht.stack=="string")return[ht.stack,lt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),z=S[0],W=S[1];if(z&&W){var Q=z.split(`
`),ot=W.split(`
`);for(_=p=0;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;for(;_<ot.length&&!ot[_].includes("DetermineComponentFrameRoot");)_++;if(p===Q.length||_===ot.length)for(p=Q.length-1,_=ot.length-1;1<=p&&0<=_&&Q[p]!==ot[_];)_--;for(;1<=p&&0<=_;p--,_--)if(Q[p]!==ot[_]){if(p!==1||_!==1)do if(p--,_--,0>_||Q[p]!==ot[_]){var gt=`
`+Q[p].replace(" at new "," at ");return a.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",a.displayName)),gt}while(1<=p&&0<=_);break}}}finally{tf=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?zo(h):""}function sg(a){switch(a.tag){case 26:case 27:case 5:return zo(a.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 15:return ef(a.type,!1);case 11:return ef(a.type.render,!1);case 1:return ef(a.type,!0);case 31:return zo("Activity");default:return""}}function nf(a){try{var l="";do l+=sg(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Sr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ag(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function g1(a){var l=ag(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,S=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return _.call(this)},set:function(z){p=""+z,S.call(this,z)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(z){p=""+z},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function rf(a){a._valueTracker||(a._valueTracker=g1(a))}function og(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return a&&(p=ag(a)?a.checked?"true":"false":a.value),a=p,a!==h?(l.setValue(a),!0):!1}function qu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var y1=/[\n"\\]/g;function ai(a){return a.replace(y1,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Yr(a,l,h,p,_,S,z,W){a.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.type=z:a.removeAttribute("type"),l!=null?z==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Sr(l)):a.value!==""+Sr(l)&&(a.value=""+Sr(l)):z!=="submit"&&z!=="reset"||a.removeAttribute("value"),l!=null?cc(a,z,Sr(l)):h!=null?cc(a,z,Sr(h)):p!=null&&a.removeAttribute("value"),_==null&&S!=null&&(a.defaultChecked=!!S),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Sr(W):a.removeAttribute("name")}function Gu(a,l,h,p,_,S,z,W){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),l!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;h=h!=null?""+Sr(h):"",l=l!=null?""+Sr(l):h,W||l===a.value||(a.value=l),a.defaultValue=l}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=W?a.checked:!!p,a.defaultChecked=!!p,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(a.name=z)}function cc(a,l,h){l==="number"&&qu(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Bo(a,l,h,p){if(a=a.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<a.length;h++)_=l.hasOwnProperty("$"+a[h].value),a[h].selected!==_&&(a[h].selected=_),_&&p&&(a[h].defaultSelected=!0)}else{for(h=""+Sr(h),l=null,_=0;_<a.length;_++){if(a[_].value===h){a[_].selected=!0,p&&(a[_].defaultSelected=!0);return}l!==null||a[_].disabled||(l=a[_])}l!==null&&(l.selected=!0)}}function fn(a,l,h){if(l!=null&&(l=""+Sr(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Sr(h):""}function Wu(a,l,h,p){if(l==null){if(p!=null){if(h!=null)throw Error(i(92));if(J(p)){if(1<p.length)throw Error(i(93));p=p[0]}h=p}h==null&&(h=""),l=h}h=Sr(l),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p)}function As(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var Ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y0(a,l,h){var p=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,h):typeof h!="number"||h===0||Ku.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function lg(a,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var _ in l)p=l[_],l.hasOwnProperty(_)&&h[_]!==p&&y0(a,_,p)}else for(var S in l)l.hasOwnProperty(S)&&y0(a,S,l[S])}function cg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sf(a){return b1.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var jo=null;function xs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Uo=null,Ho=null;function ug(a){var l=ka(a);if(l&&(a=l.stateNode)){var h=a[si]||null;t:switch(a=l.stateNode,l.type){case"input":if(Yr(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ai(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==a&&p.form===a.form){var _=p[si]||null;if(!_)throw Error(i(90));Yr(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<h.length;l++)p=h[l],p.form===a.form&&og(p)}break t;case"textarea":fn(a,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&Bo(a,!!h.multiple,l,!1)}}}var Da=!1;function v0(a,l,h){if(Da)return a(l,h);Da=!0;try{var p=a(l);return p}finally{if(Da=!1,(Uo!==null||Ho!==null)&&(h_(),Uo&&(l=Uo,a=Ho,Ho=Uo=null,ug(l),a)))for(l=0;l<a.length;l++)ug(a[l])}}function Yu(a,l){var h=a.stateNode;if(h===null)return null;var p=h[si]||null;if(p===null)return null;h=p[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(na)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Ts=!1}var Oa=null,uc=null,$o=null;function hg(){if($o)return $o;var a,l=uc,h=l.length,p,_="value"in Oa?Oa.value:Oa.textContent,S=_.length;for(a=0;a<h&&l[a]===_[a];a++);var z=h-a;for(p=1;p<=z&&l[h-p]===_[S-p];p++);return $o=_.slice(a,1<p?1-p:void 0)}function La(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Na(){return!0}function dg(){return!1}function Pi(a){function l(h,p,_,S,z){this._reactName=h,this._targetInst=_,this.type=p,this.nativeEvent=S,this.target=z,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(h=a[W],this[W]=h?h(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Na:dg,this.isPropagationStopped=dg,this}return f(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),l}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=Pi(tn),Qu=f({},tn,{view:0,detail:0}),b0=Pi(Qu),of,lf,Fa,Zu=f({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fa&&(Fa&&a.type==="mousemove"?(of=a.screenX-Fa.screenX,lf=a.screenY-Fa.screenY):lf=of=0,Fa=a),of)},movementY:function(a){return"movementY"in a?a.movementY:lf}}),Cs=Pi(Zu),_0=f({},Zu,{dataTransfer:0}),_1=Pi(_0),Ju=f({},Qu,{relatedTarget:0}),cf=Pi(Ju),fg=f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),uf=Pi(fg),E0=f({},tn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hf=Pi(E0),E1=f({},tn,{data:0}),pg=Pi(E1),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=w0[a])?!!l[a]:!1}function eh(){return mg}var A0=f({},Qu,{key:function(a){if(a.key){var l=th[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=La(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?S0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(a){return a.type==="keypress"?La(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?La(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),df=Pi(A0),x0=f({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=Pi(x0),qo=f({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),T0=Pi(qo),C0=f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=Pi(C0),I0=f({},Zu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ff=Pi(I0),wr=f({},tn,{newState:0,oldState:0}),k0=Pi(wr),P0=[9,13,27,32],Va=na&&"CompositionEvent"in window,v=null;na&&"documentMode"in document&&(v=document.documentMode);var C=na&&"TextEvent"in window&&!v,L=na&&(!Va||v&&8<v&&11>=v),Y=" ",it=!1;function ft(a,l){switch(a){case"keyup":return P0.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ze=!1;function bi(a,l){switch(a){case"compositionend":return Rt(l);case"keypress":return l.which!==32?null:(it=!0,Y);case"textInput":return a=l.data,a===Y&&it?null:a;default:return null}}function Be(a,l){if(ze)return a==="compositionend"||!Va&&ft(a,l)?(a=hg(),$o=uc=Oa=null,ze=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return L&&l.locale!=="ko"?null:l.data;default:return null}}var Mi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _i(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Mi[a.type]:l==="textarea"}function Go(a,l,h,p){Uo?Ho?Ho.push(p):Ho=[p]:Uo=p,l=y_(l,"onChange"),0<l.length&&(h=new af("onChange","change",null,h,p),a.push({event:h,listeners:l}))}var $i=null,za=null;function yg(a){AM(a,0)}function M0(a){var l=Pa(a);if(og(l))return a}function qk(a,l){if(a==="change")return l}var Gk=!1;if(na){var S1;if(na){var w1="oninput"in document;if(!w1){var Wk=document.createElement("div");Wk.setAttribute("oninput","return;"),w1=typeof Wk.oninput=="function"}S1=w1}else S1=!1;Gk=S1&&(!document.documentMode||9<document.documentMode)}function Kk(){$i&&($i.detachEvent("onpropertychange",Yk),za=$i=null)}function Yk(a){if(a.propertyName==="value"&&M0(za)){var l=[];Go(l,za,a,xs(a)),v0(yg,l)}}function JB(a,l,h){a==="focusin"?(Kk(),$i=l,za=h,$i.attachEvent("onpropertychange",Yk)):a==="focusout"&&Kk()}function tj(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return M0(za)}function ej(a,l){if(a==="click")return M0(l)}function nj(a,l){if(a==="input"||a==="change")return M0(l)}function ij(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Xr=typeof Object.is=="function"?Object.is:ij;function vg(a,l){if(Xr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var _=h[p];if(!ee.call(l,_)||!Xr(a[_],l[_]))return!1}return!0}function Xk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Qk(a,l){var h=Xk(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=l&&p>=l)return{node:h,offset:l-a};a=p}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Xk(h)}}function Zk(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Zk(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Jk(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=qu(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=qu(a.document)}return l}function A1(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var rj=na&&"documentMode"in document&&11>=document.documentMode,pf=null,x1=null,bg=null,T1=!1;function t2(a,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;T1||pf==null||pf!==qu(p)||(p=pf,"selectionStart"in p&&A1(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bg&&vg(bg,p)||(bg=p,p=y_(x1,"onSelect"),0<p.length&&(l=new af("onSelect","select",null,l,h),a.push({event:l,listeners:p}),l.target=pf)))}function nh(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var mf={animationend:nh("Animation","AnimationEnd"),animationiteration:nh("Animation","AnimationIteration"),animationstart:nh("Animation","AnimationStart"),transitionrun:nh("Transition","TransitionRun"),transitionstart:nh("Transition","TransitionStart"),transitioncancel:nh("Transition","TransitionCancel"),transitionend:nh("Transition","TransitionEnd")},C1={},e2={};na&&(e2=document.createElement("div").style,"AnimationEvent"in window||(delete mf.animationend.animation,delete mf.animationiteration.animation,delete mf.animationstart.animation),"TransitionEvent"in window||delete mf.transitionend.transition);function ih(a){if(C1[a])return C1[a];if(!mf[a])return a;var l=mf[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in e2)return C1[a]=l[h];return a}var n2=ih("animationend"),i2=ih("animationiteration"),r2=ih("animationstart"),sj=ih("transitionrun"),aj=ih("transitionstart"),oj=ih("transitioncancel"),s2=ih("transitionend"),a2=new Map,R1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");R1.push("scrollEnd");function ia(a,l){a2.set(a,l),ea(l,[a])}var o2=new WeakMap;function Rs(a,l){if(typeof a=="object"&&a!==null){var h=o2.get(a);return h!==void 0?h:(l={value:a,source:l,stack:nf(l)},o2.set(a,l),l)}return{value:a,source:l,stack:nf(l)}}var Is=[],gf=0,I1=0;function D0(){for(var a=gf,l=I1=gf=0;l<a;){var h=Is[l];Is[l++]=null;var p=Is[l];Is[l++]=null;var _=Is[l];Is[l++]=null;var S=Is[l];if(Is[l++]=null,p!==null&&_!==null){var z=p.pending;z===null?_.next=_:(_.next=z.next,z.next=_),p.pending=_}S!==0&&l2(h,_,S)}}function O0(a,l,h,p){Is[gf++]=a,Is[gf++]=l,Is[gf++]=h,Is[gf++]=p,I1|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function k1(a,l,h,p){return O0(a,l,h,p),L0(a)}function yf(a,l){return O0(a,null,null,l),L0(a)}function l2(a,l,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var _=!1,S=a.return;S!==null;)S.childLanes|=h,p=S.alternate,p!==null&&(p.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(_=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,_&&l!==null&&(_=31-Vt(h),a=S.hiddenUpdates,p=a[_],p===null?a[_]=[l]:p.push(l),l.lane=h|536870912),S):null}function L0(a){if(50<$g)throw $g=0,NA=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var vf={};function lj(a,l,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,l,h,p){return new lj(a,l,h,p)}function P1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Wo(a,l){var h=a.alternate;return h===null?(h=Qr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function c2(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function N0(a,l,h,p,_,S){var z=0;if(p=a,typeof a=="function")P1(a)&&(z=1);else if(typeof a=="string")z=uU(a,h,St.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case V:return a=Qr(31,h,l,_),a.elementType=V,a.lanes=S,a;case E:return rh(h.children,_,S,l);case w:z=8,_|=24;break;case T:return a=Qr(12,h,l,_|2),a.elementType=T,a.lanes=S,a;case F:return a=Qr(13,h,l,_),a.elementType=F,a.lanes=S,a;case j:return a=Qr(19,h,l,_),a.elementType=j,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case k:z=10;break t;case O:z=9;break t;case P:z=11;break t;case D:z=14;break t;case I:z=16,p=null;break t}z=29,h=Error(i(130,a===null?"null":typeof a,"")),p=null}return l=Qr(z,h,l,_),l.elementType=a,l.type=p,l.lanes=S,l}function rh(a,l,h,p){return a=Qr(7,a,p,l),a.lanes=h,a}function M1(a,l,h){return a=Qr(6,a,null,l),a.lanes=h,a}function D1(a,l,h){return l=Qr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var bf=[],_f=0,F0=null,V0=0,ks=[],Ps=0,sh=null,Ko=1,Yo="";function ah(a,l){bf[_f++]=V0,bf[_f++]=F0,F0=a,V0=l}function u2(a,l,h){ks[Ps++]=Ko,ks[Ps++]=Yo,ks[Ps++]=sh,sh=a;var p=Ko;a=Yo;var _=32-Vt(p)-1;p&=~(1<<_),h+=1;var S=32-Vt(l)+_;if(30<S){var z=_-_%5;S=(p&(1<<z)-1).toString(32),p>>=z,_-=z,Ko=1<<32-Vt(l)+_|h<<_|p,Yo=S+a}else Ko=1<<S|h<<_|p,Yo=a}function O1(a){a.return!==null&&(ah(a,1),u2(a,1,0))}function L1(a){for(;a===F0;)F0=bf[--_f],bf[_f]=null,V0=bf[--_f],bf[_f]=null;for(;a===sh;)sh=ks[--Ps],ks[Ps]=null,Yo=ks[--Ps],ks[Ps]=null,Ko=ks[--Ps],ks[Ps]=null}var Ar=null,qn=null,We=!1,oh=null,Ba=!1,N1=Error(i(519));function lh(a){var l=Error(i(418,""));throw Sg(Rs(l,a)),N1}function h2(a){var l=a.stateNode,h=a.type,p=a.memoizedProps;switch(l[vi]=a,l[si]=p,h){case"dialog":Me("cancel",l),Me("close",l);break;case"iframe":case"object":case"embed":Me("load",l);break;case"video":case"audio":for(h=0;h<Gg.length;h++)Me(Gg[h],l);break;case"source":Me("error",l);break;case"img":case"image":case"link":Me("error",l),Me("load",l);break;case"details":Me("toggle",l);break;case"input":Me("invalid",l),Gu(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),rf(l);break;case"select":Me("invalid",l);break;case"textarea":Me("invalid",l),Wu(l,p.value,p.defaultValue,p.children),rf(l)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||p.suppressHydrationWarning===!0||RM(l.textContent,h)?(p.popover!=null&&(Me("beforetoggle",l),Me("toggle",l)),p.onScroll!=null&&Me("scroll",l),p.onScrollEnd!=null&&Me("scrollend",l),p.onClick!=null&&(l.onclick=v_),l=!0):l=!1,l||lh(a)}function d2(a){for(Ar=a.return;Ar;)switch(Ar.tag){case 5:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:Ar=Ar.return}}function _g(a){if(a!==Ar)return!1;if(!We)return d2(a),We=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||ZA(a.type,a.memoizedProps)),h=!h),h&&qn&&lh(a),d2(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){qn=sa(a.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}qn=null}}else l===27?(l=qn,Tc(a.type)?(a=nx,nx=null,qn=a):qn=l):qn=Ar?sa(a.stateNode.nextSibling):null;return!0}function Eg(){qn=Ar=null,We=!1}function f2(){var a=oh;return a!==null&&(Nr===null?Nr=a:Nr.push.apply(Nr,a),oh=null),a}function Sg(a){oh===null?oh=[a]:oh.push(a)}var F1=st(null),ch=null,Xo=null;function hc(a,l,h){G(F1,l._currentValue),l._currentValue=h}function Qo(a){a._currentValue=F1.current,ut(F1)}function V1(a,l,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===h)break;a=a.return}}function z1(a,l,h,p){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var S=_.dependencies;if(S!==null){var z=_.child;S=S.firstContext;t:for(;S!==null;){var W=S;S=_;for(var Q=0;Q<l.length;Q++)if(W.context===l[Q]){S.lanes|=h,W=S.alternate,W!==null&&(W.lanes|=h),V1(S.return,h,a),p||(z=null);break t}S=W.next}}else if(_.tag===18){if(z=_.return,z===null)throw Error(i(341));z.lanes|=h,S=z.alternate,S!==null&&(S.lanes|=h),V1(z,h,a),z=null}else z=_.child;if(z!==null)z.return=_;else for(z=_;z!==null;){if(z===a){z=null;break}if(_=z.sibling,_!==null){_.return=z.return,z=_;break}z=z.return}_=z}}function wg(a,l,h,p){a=null;for(var _=l,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var z=_.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var W=_.type;Xr(_.pendingProps.value,z.value)||(a!==null?a.push(W):a=[W])}}else if(_===It.current){if(z=_.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(Zg):a=[Zg])}_=_.return}a!==null&&z1(l,a,h,p),l.flags|=262144}function z0(a){for(a=a.firstContext;a!==null;){if(!Xr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function uh(a){ch=a,Xo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ir(a){return p2(ch,a)}function B0(a,l){return ch===null&&uh(a),p2(a,l)}function p2(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Xo===null){if(a===null)throw Error(i(308));Xo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Xo=Xo.next=l;return h}var cj=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},uj=n.unstable_scheduleCallback,hj=n.unstable_NormalPriority,Ei={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function B1(){return{controller:new cj,data:new Map,refCount:0}}function Ag(a){a.refCount--,a.refCount===0&&uj(hj,function(){a.controller.abort()})}var xg=null,j1=0,Ef=0,Sf=null;function dj(a,l){if(xg===null){var h=xg=[];j1=0,Ef=HA(),Sf={status:"pending",value:void 0,then:function(p){h.push(p)}}}return j1++,l.then(m2,m2),l}function m2(){if(--j1===0&&xg!==null){Sf!==null&&(Sf.status="fulfilled");var a=xg;xg=null,Ef=0,Sf=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function fj(a,l){var h=[],p={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var _=0;_<h.length;_++)(0,h[_])(l)},function(_){for(p.status="rejected",p.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),p}var g2=X.S;X.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&dj(a,l),g2!==null&&g2(a,l)};var hh=st(null);function U1(){var a=hh.current;return a!==null?a:An.pooledCache}function j0(a,l){l===null?G(hh,hh.current):G(hh,l.pool)}function y2(){var a=U1();return a===null?null:{parent:Ei._currentValue,pool:a}}var Tg=Error(i(460)),v2=Error(i(474)),U0=Error(i(542)),H1={then:function(){}};function b2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function H0(){}function _2(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(H0,H0),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,S2(a),a;default:if(typeof l.status=="string")l.then(H0,H0);else{if(a=An,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=p}},function(p){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,S2(a),a}throw Cg=l,Tg}}var Cg=null;function E2(){if(Cg===null)throw Error(i(459));var a=Cg;return Cg=null,a}function S2(a){if(a===Tg||a===U0)throw Error(i(483))}var dc=!1;function $1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function fc(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function pc(a,l,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(an&2)!==0){var _=p.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),p.pending=l,l=L0(a),l2(a,null,h),l}return O0(a,p,l,h),L0(a)}function Rg(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,h|=p,l.lanes=h,ng(a,h)}}function G1(a,l){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var _=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?_=S=z:S=S.next=z,h=h.next}while(h!==null);S===null?_=S=l:S=S.next=l}else _=S=l;h={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var W1=!1;function Ig(){if(W1){var a=Sf;if(a!==null)throw a}}function kg(a,l,h,p){W1=!1;var _=a.updateQueue;dc=!1;var S=_.firstBaseUpdate,z=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var Q=W,ot=Q.next;Q.next=null,z===null?S=ot:z.next=ot,z=Q;var gt=a.alternate;gt!==null&&(gt=gt.updateQueue,W=gt.lastBaseUpdate,W!==z&&(W===null?gt.firstBaseUpdate=ot:W.next=ot,gt.lastBaseUpdate=Q))}if(S!==null){var bt=_.baseState;z=0,gt=ot=Q=null,W=S;do{var lt=W.lane&-536870913,ht=lt!==W.lane;if(ht?(je&lt)===lt:(p&lt)===lt){lt!==0&&lt===Ef&&(W1=!0),gt!==null&&(gt=gt.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});t:{var ae=a,ne=W;lt=l;var gn=h;switch(ne.tag){case 1:if(ae=ne.payload,typeof ae=="function"){bt=ae.call(gn,bt,lt);break t}bt=ae;break t;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ne.payload,lt=typeof ae=="function"?ae.call(gn,bt,lt):ae,lt==null)break t;bt=f({},bt,lt);break t;case 2:dc=!0}}lt=W.callback,lt!==null&&(a.flags|=64,ht&&(a.flags|=8192),ht=_.callbacks,ht===null?_.callbacks=[lt]:ht.push(lt))}else ht={lane:lt,tag:W.tag,payload:W.payload,callback:W.callback,next:null},gt===null?(ot=gt=ht,Q=bt):gt=gt.next=ht,z|=lt;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;ht=W,W=ht.next,ht.next=null,_.lastBaseUpdate=ht,_.shared.pending=null}}while(!0);gt===null&&(Q=bt),_.baseState=Q,_.firstBaseUpdate=ot,_.lastBaseUpdate=gt,S===null&&(_.shared.lanes=0),Sc|=z,a.lanes=z,a.memoizedState=bt}}function w2(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function A2(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)w2(h[a],l)}var wf=st(null),$0=st(0);function x2(a,l){a=rl,G($0,a),G(wf,l),rl=a|l.baseLanes}function K1(){G($0,rl),G(wf,wf.current)}function Y1(){rl=$0.current,ut(wf),ut($0)}var mc=0,we=null,pn=null,oi=null,q0=!1,Af=!1,dh=!1,G0=0,Pg=0,xf=null,pj=0;function Jn(){throw Error(i(321))}function X1(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Xr(a[h],l[h]))return!1;return!0}function Q1(a,l,h,p,_,S){return mc=S,we=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=a===null||a.memoizedState===null?lP:cP,dh=!1,S=h(p,_),dh=!1,Af&&(S=C2(l,h,p,_)),T2(a),S}function T2(a){X.H=Z0;var l=pn!==null&&pn.next!==null;if(mc=0,oi=pn=we=null,q0=!1,Pg=0,xf=null,l)throw Error(i(300));a===null||Di||(a=a.dependencies,a!==null&&z0(a)&&(Di=!0))}function C2(a,l,h,p){we=a;var _=0;do{if(Af&&(xf=null),Pg=0,Af=!1,25<=_)throw Error(i(301));if(_+=1,oi=pn=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}X.H=Ej,S=l(h,p)}while(Af);return S}function mj(){var a=X.H,l=a.useState()[0];return l=typeof l.then=="function"?Mg(l):l,a=a.useState()[0],(pn!==null?pn.memoizedState:null)!==a&&(we.flags|=1024),l}function Z1(){var a=G0!==0;return G0=0,a}function J1(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function tA(a){if(q0){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}q0=!1}mc=0,oi=pn=we=null,Af=!1,Pg=G0=0,xf=null}function Or(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?we.memoizedState=oi=a:oi=oi.next=a,oi}function li(){if(pn===null){var a=we.alternate;a=a!==null?a.memoizedState:null}else a=pn.next;var l=oi===null?we.memoizedState:oi.next;if(l!==null)oi=l,pn=a;else{if(a===null)throw we.alternate===null?Error(i(467)):Error(i(310));pn=a,a={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},oi===null?we.memoizedState=oi=a:oi=oi.next=a}return oi}function eA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mg(a){var l=Pg;return Pg+=1,xf===null&&(xf=[]),a=_2(xf,a,l),l=we,(oi===null?l.memoizedState:oi.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?lP:cP),a}function W0(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mg(a);if(a.$$typeof===k)return ir(a)}throw Error(i(438,String(a)))}function nA(a){var l=null,h=we.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var p=we.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=eA(),we.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),p=0;p<a;p++)h[p]=x;return l.index++,h}function Zo(a,l){return typeof l=="function"?l(a):l}function K0(a){var l=li();return iA(l,pn,a)}function iA(a,l,h){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=h;var _=a.baseQueue,S=p.pending;if(S!==null){if(_!==null){var z=_.next;_.next=S.next,S.next=z}l.baseQueue=_=S,p.pending=null}if(S=a.baseState,_===null)a.memoizedState=S;else{l=_.next;var W=z=null,Q=null,ot=l,gt=!1;do{var bt=ot.lane&-536870913;if(bt!==ot.lane?(je&bt)===bt:(mc&bt)===bt){var lt=ot.revertLane;if(lt===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),bt===Ef&&(gt=!0);else if((mc&lt)===lt){ot=ot.next,lt===Ef&&(gt=!0);continue}else bt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Q===null?(W=Q=bt,z=S):Q=Q.next=bt,we.lanes|=lt,Sc|=lt;bt=ot.action,dh&&h(S,bt),S=ot.hasEagerState?ot.eagerState:h(S,bt)}else lt={lane:bt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Q===null?(W=Q=lt,z=S):Q=Q.next=lt,we.lanes|=bt,Sc|=bt;ot=ot.next}while(ot!==null&&ot!==l);if(Q===null?z=S:Q.next=W,!Xr(S,a.memoizedState)&&(Di=!0,gt&&(h=Sf,h!==null)))throw h;a.memoizedState=S,a.baseState=z,a.baseQueue=Q,p.lastRenderedState=S}return _===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function rA(a){var l=li(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var p=h.dispatch,_=h.pending,S=l.memoizedState;if(_!==null){h.pending=null;var z=_=_.next;do S=a(S,z.action),z=z.next;while(z!==_);Xr(S,l.memoizedState)||(Di=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,p]}function R2(a,l,h){var p=we,_=li(),S=We;if(S){if(h===void 0)throw Error(i(407));h=h()}else h=l();var z=!Xr((pn||_).memoizedState,h);z&&(_.memoizedState=h,Di=!0),_=_.queue;var W=P2.bind(null,p,_,a);if(Dg(2048,8,W,[a]),_.getSnapshot!==l||z||oi!==null&&oi.memoizedState.tag&1){if(p.flags|=2048,Tf(9,Y0(),k2.bind(null,p,_,h,l),null),An===null)throw Error(i(349));S||(mc&124)!==0||I2(p,l,h)}return h}function I2(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=we.updateQueue,l===null?(l=eA(),we.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function k2(a,l,h,p){l.value=h,l.getSnapshot=p,M2(l)&&D2(a)}function P2(a,l,h){return h(function(){M2(l)&&D2(a)})}function M2(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Xr(a,h)}catch{return!0}}function D2(a){var l=yf(a,2);l!==null&&ns(l,a,2)}function sA(a){var l=Or();if(typeof a=="function"){var h=a;if(a=h(),dh){Dt(!0);try{h()}finally{Dt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:a},l}function O2(a,l,h,p){return a.baseState=h,iA(a,pn,typeof p=="function"?p:Zo)}function gj(a,l,h,p,_){if(Q0(a))throw Error(i(485));if(a=l.action,a!==null){var S={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){S.listeners.push(z)}};X.T!==null?h(!0):S.isTransition=!1,p(S),h=l.pending,h===null?(S.next=l.pending=S,L2(l,S)):(S.next=h.next,l.pending=h.next=S)}}function L2(a,l){var h=l.action,p=l.payload,_=a.state;if(l.isTransition){var S=X.T,z={};X.T=z;try{var W=h(_,p),Q=X.S;Q!==null&&Q(z,W),N2(a,l,W)}catch(ot){aA(a,l,ot)}finally{X.T=S}}else try{S=h(_,p),N2(a,l,S)}catch(ot){aA(a,l,ot)}}function N2(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){F2(a,l,p)},function(p){return aA(a,l,p)}):F2(a,l,h)}function F2(a,l,h){l.status="fulfilled",l.value=h,V2(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,L2(a,h)))}function aA(a,l,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=h,V2(l),l=l.next;while(l!==p)}a.action=null}function V2(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function z2(a,l){return l}function B2(a,l){if(We){var h=An.formState;if(h!==null){t:{var p=we;if(We){if(qn){e:{for(var _=qn,S=Ba;_.nodeType!==8;){if(!S){_=null;break e}if(_=sa(_.nextSibling),_===null){_=null;break e}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){qn=sa(_.nextSibling),p=_.data==="F!";break t}}lh(p)}p=!1}p&&(l=h[0])}}return h=Or(),h.memoizedState=h.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z2,lastRenderedState:l},h.queue=p,h=sP.bind(null,we,p),p.dispatch=h,p=sA(!1),S=hA.bind(null,we,!1,p.queue),p=Or(),_={state:l,dispatch:null,action:a,pending:null},p.queue=_,h=gj.bind(null,we,_,S,h),_.dispatch=h,p.memoizedState=a,[l,h,!1]}function j2(a){var l=li();return U2(l,pn,a)}function U2(a,l,h){if(l=iA(a,l,z2)[0],a=K0(Zo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Mg(l)}catch(z){throw z===Tg?U0:z}else p=l;l=li();var _=l.queue,S=_.dispatch;return h!==l.memoizedState&&(we.flags|=2048,Tf(9,Y0(),yj.bind(null,_,h),null)),[p,S,a]}function yj(a,l){a.action=l}function H2(a){var l=li(),h=pn;if(h!==null)return U2(l,h,a);li(),l=l.memoizedState,h=li();var p=h.queue.dispatch;return h.memoizedState=a,[l,p,!1]}function Tf(a,l,h,p){return a={tag:a,create:h,deps:p,inst:l,next:null},l=we.updateQueue,l===null&&(l=eA(),we.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,l.lastEffect=a),a}function Y0(){return{destroy:void 0,resource:void 0}}function $2(){return li().memoizedState}function X0(a,l,h,p){var _=Or();p=p===void 0?null:p,we.flags|=a,_.memoizedState=Tf(1|l,Y0(),h,p)}function Dg(a,l,h,p){var _=li();p=p===void 0?null:p;var S=_.memoizedState.inst;pn!==null&&p!==null&&X1(p,pn.memoizedState.deps)?_.memoizedState=Tf(l,S,h,p):(we.flags|=a,_.memoizedState=Tf(1|l,S,h,p))}function q2(a,l){X0(8390656,8,a,l)}function G2(a,l){Dg(2048,8,a,l)}function W2(a,l){return Dg(4,2,a,l)}function K2(a,l){return Dg(4,4,a,l)}function Y2(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function X2(a,l,h){h=h!=null?h.concat([a]):null,Dg(4,4,Y2.bind(null,l,a),h)}function oA(){}function Q2(a,l){var h=li();l=l===void 0?null:l;var p=h.memoizedState;return l!==null&&X1(l,p[1])?p[0]:(h.memoizedState=[a,l],a)}function Z2(a,l){var h=li();l=l===void 0?null:l;var p=h.memoizedState;if(l!==null&&X1(l,p[1]))return p[0];if(p=a(),dh){Dt(!0);try{a()}finally{Dt(!1)}}return h.memoizedState=[p,l],p}function lA(a,l,h){return h===void 0||(mc&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=eM(),we.lanes|=a,Sc|=a,h)}function J2(a,l,h,p){return Xr(h,l)?h:wf.current!==null?(a=lA(a,h,p),Xr(a,l)||(Di=!0),a):(mc&42)===0?(Di=!0,a.memoizedState=h):(a=eM(),we.lanes|=a,Sc|=a,l)}function tP(a,l,h,p,_){var S=Z.p;Z.p=S!==0&&8>S?S:8;var z=X.T,W={};X.T=W,hA(a,!1,l,h);try{var Q=_(),ot=X.S;if(ot!==null&&ot(W,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var gt=fj(Q,p);Og(a,l,gt,es(a))}else Og(a,l,p,es(a))}catch(bt){Og(a,l,{then:function(){},status:"rejected",reason:bt},es())}finally{Z.p=S,X.T=z}}function vj(){}function cA(a,l,h,p){if(a.tag!==5)throw Error(i(476));var _=eP(a).queue;tP(a,_,l,rt,h===null?vj:function(){return nP(a),h(p)})}function eP(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:rt},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function nP(a){var l=eP(a).next.queue;Og(a,l,{},es())}function uA(){return ir(Zg)}function iP(){return li().memoizedState}function rP(){return li().memoizedState}function bj(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=es();a=fc(h);var p=pc(l,a,h);p!==null&&(ns(p,l,h),Rg(p,l,h)),l={cache:B1()},a.payload=l;return}l=l.return}}function _j(a,l,h){var p=es();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Q0(a)?aP(l,h):(h=k1(a,l,h,p),h!==null&&(ns(h,a,p),oP(h,l,p)))}function sP(a,l,h){var p=es();Og(a,l,h,p)}function Og(a,l,h,p){var _={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Q0(a))aP(l,_);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var z=l.lastRenderedState,W=S(z,h);if(_.hasEagerState=!0,_.eagerState=W,Xr(W,z))return O0(a,l,_,0),An===null&&D0(),!1}catch{}finally{}if(h=k1(a,l,_,p),h!==null)return ns(h,a,p),oP(h,l,p),!0}return!1}function hA(a,l,h,p){if(p={lane:2,revertLane:HA(),action:p,hasEagerState:!1,eagerState:null,next:null},Q0(a)){if(l)throw Error(i(479))}else l=k1(a,h,p,2),l!==null&&ns(l,a,2)}function Q0(a){var l=a.alternate;return a===we||l!==null&&l===we}function aP(a,l){Af=q0=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function oP(a,l,h){if((h&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,h|=p,l.lanes=h,ng(a,h)}}var Z0={readContext:ir,use:W0,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn},lP={readContext:ir,use:W0,useCallback:function(a,l){return Or().memoizedState=[a,l===void 0?null:l],a},useContext:ir,useEffect:q2,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,X0(4194308,4,Y2.bind(null,l,a),h)},useLayoutEffect:function(a,l){return X0(4194308,4,a,l)},useInsertionEffect:function(a,l){X0(4,2,a,l)},useMemo:function(a,l){var h=Or();l=l===void 0?null:l;var p=a();if(dh){Dt(!0);try{a()}finally{Dt(!1)}}return h.memoizedState=[p,l],p},useReducer:function(a,l,h){var p=Or();if(h!==void 0){var _=h(l);if(dh){Dt(!0);try{h(l)}finally{Dt(!1)}}}else _=l;return p.memoizedState=p.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},p.queue=a,a=a.dispatch=_j.bind(null,we,a),[p.memoizedState,a]},useRef:function(a){var l=Or();return a={current:a},l.memoizedState=a},useState:function(a){a=sA(a);var l=a.queue,h=sP.bind(null,we,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:oA,useDeferredValue:function(a,l){var h=Or();return lA(h,a,l)},useTransition:function(){var a=sA(!1);return a=tP.bind(null,we,a.queue,!0,!1),Or().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var p=we,_=Or();if(We){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),An===null)throw Error(i(349));(je&124)!==0||I2(p,l,h)}_.memoizedState=h;var S={value:h,getSnapshot:l};return _.queue=S,q2(P2.bind(null,p,S,a),[a]),p.flags|=2048,Tf(9,Y0(),k2.bind(null,p,S,h,l),null),h},useId:function(){var a=Or(),l=An.identifierPrefix;if(We){var h=Yo,p=Ko;h=(p&~(1<<32-Vt(p)-1)).toString(32)+h,l="«"+l+"R"+h,h=G0++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=pj++,l="«"+l+"r"+h.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:uA,useFormState:B2,useActionState:B2,useOptimistic:function(a){var l=Or();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=hA.bind(null,we,!0,h),h.dispatch=l,[a,l]},useMemoCache:nA,useCacheRefresh:function(){return Or().memoizedState=bj.bind(null,we)}},cP={readContext:ir,use:W0,useCallback:Q2,useContext:ir,useEffect:G2,useImperativeHandle:X2,useInsertionEffect:W2,useLayoutEffect:K2,useMemo:Z2,useReducer:K0,useRef:$2,useState:function(){return K0(Zo)},useDebugValue:oA,useDeferredValue:function(a,l){var h=li();return J2(h,pn.memoizedState,a,l)},useTransition:function(){var a=K0(Zo)[0],l=li().memoizedState;return[typeof a=="boolean"?a:Mg(a),l]},useSyncExternalStore:R2,useId:iP,useHostTransitionStatus:uA,useFormState:j2,useActionState:j2,useOptimistic:function(a,l){var h=li();return O2(h,pn,a,l)},useMemoCache:nA,useCacheRefresh:rP},Ej={readContext:ir,use:W0,useCallback:Q2,useContext:ir,useEffect:G2,useImperativeHandle:X2,useInsertionEffect:W2,useLayoutEffect:K2,useMemo:Z2,useReducer:rA,useRef:$2,useState:function(){return rA(Zo)},useDebugValue:oA,useDeferredValue:function(a,l){var h=li();return pn===null?lA(h,a,l):J2(h,pn.memoizedState,a,l)},useTransition:function(){var a=rA(Zo)[0],l=li().memoizedState;return[typeof a=="boolean"?a:Mg(a),l]},useSyncExternalStore:R2,useId:iP,useHostTransitionStatus:uA,useFormState:H2,useActionState:H2,useOptimistic:function(a,l){var h=li();return pn!==null?O2(h,pn,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:nA,useCacheRefresh:rP},Cf=null,Lg=0;function J0(a){var l=Lg;return Lg+=1,Cf===null&&(Cf=[]),_2(Cf,a,l)}function Ng(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function t_(a,l){throw l.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function uP(a){var l=a._init;return l(a._payload)}function hP(a){function l(nt,et){if(a){var at=nt.deletions;at===null?(nt.deletions=[et],nt.flags|=16):at.push(et)}}function h(nt,et){if(!a)return null;for(;et!==null;)l(nt,et),et=et.sibling;return null}function p(nt){for(var et=new Map;nt!==null;)nt.key!==null?et.set(nt.key,nt):et.set(nt.index,nt),nt=nt.sibling;return et}function _(nt,et){return nt=Wo(nt,et),nt.index=0,nt.sibling=null,nt}function S(nt,et,at){return nt.index=at,a?(at=nt.alternate,at!==null?(at=at.index,at<et?(nt.flags|=67108866,et):at):(nt.flags|=67108866,et)):(nt.flags|=1048576,et)}function z(nt){return a&&nt.alternate===null&&(nt.flags|=67108866),nt}function W(nt,et,at,vt){return et===null||et.tag!==6?(et=M1(at,nt.mode,vt),et.return=nt,et):(et=_(et,at),et.return=nt,et)}function Q(nt,et,at,vt){var Ht=at.type;return Ht===E?gt(nt,et,at.props.children,vt,at.key):et!==null&&(et.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&uP(Ht)===et.type)?(et=_(et,at.props),Ng(et,at),et.return=nt,et):(et=N0(at.type,at.key,at.props,null,nt.mode,vt),Ng(et,at),et.return=nt,et)}function ot(nt,et,at,vt){return et===null||et.tag!==4||et.stateNode.containerInfo!==at.containerInfo||et.stateNode.implementation!==at.implementation?(et=D1(at,nt.mode,vt),et.return=nt,et):(et=_(et,at.children||[]),et.return=nt,et)}function gt(nt,et,at,vt,Ht){return et===null||et.tag!==7?(et=rh(at,nt.mode,vt,Ht),et.return=nt,et):(et=_(et,at),et.return=nt,et)}function bt(nt,et,at){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=M1(""+et,nt.mode,at),et.return=nt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case y:return at=N0(et.type,et.key,et.props,null,nt.mode,at),Ng(at,et),at.return=nt,at;case b:return et=D1(et,nt.mode,at),et.return=nt,et;case I:var vt=et._init;return et=vt(et._payload),bt(nt,et,at)}if(J(et)||q(et))return et=rh(et,nt.mode,at,null),et.return=nt,et;if(typeof et.then=="function")return bt(nt,J0(et),at);if(et.$$typeof===k)return bt(nt,B0(nt,et),at);t_(nt,et)}return null}function lt(nt,et,at,vt){var Ht=et!==null?et.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Ht!==null?null:W(nt,et,""+at,vt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case y:return at.key===Ht?Q(nt,et,at,vt):null;case b:return at.key===Ht?ot(nt,et,at,vt):null;case I:return Ht=at._init,at=Ht(at._payload),lt(nt,et,at,vt)}if(J(at)||q(at))return Ht!==null?null:gt(nt,et,at,vt,null);if(typeof at.then=="function")return lt(nt,et,J0(at),vt);if(at.$$typeof===k)return lt(nt,et,B0(nt,at),vt);t_(nt,at)}return null}function ht(nt,et,at,vt,Ht){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return nt=nt.get(at)||null,W(et,nt,""+vt,Ht);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case y:return nt=nt.get(vt.key===null?at:vt.key)||null,Q(et,nt,vt,Ht);case b:return nt=nt.get(vt.key===null?at:vt.key)||null,ot(et,nt,vt,Ht);case I:var Re=vt._init;return vt=Re(vt._payload),ht(nt,et,at,vt,Ht)}if(J(vt)||q(vt))return nt=nt.get(at)||null,gt(et,nt,vt,Ht,null);if(typeof vt.then=="function")return ht(nt,et,at,J0(vt),Ht);if(vt.$$typeof===k)return ht(nt,et,at,B0(et,vt),Ht);t_(et,vt)}return null}function ae(nt,et,at,vt){for(var Ht=null,Re=null,Xt=et,ie=et=0,Li=null;Xt!==null&&ie<at.length;ie++){Xt.index>ie?(Li=Xt,Xt=null):Li=Xt.sibling;var Ge=lt(nt,Xt,at[ie],vt);if(Ge===null){Xt===null&&(Xt=Li);break}a&&Xt&&Ge.alternate===null&&l(nt,Xt),et=S(Ge,et,ie),Re===null?Ht=Ge:Re.sibling=Ge,Re=Ge,Xt=Li}if(ie===at.length)return h(nt,Xt),We&&ah(nt,ie),Ht;if(Xt===null){for(;ie<at.length;ie++)Xt=bt(nt,at[ie],vt),Xt!==null&&(et=S(Xt,et,ie),Re===null?Ht=Xt:Re.sibling=Xt,Re=Xt);return We&&ah(nt,ie),Ht}for(Xt=p(Xt);ie<at.length;ie++)Li=ht(Xt,nt,ie,at[ie],vt),Li!==null&&(a&&Li.alternate!==null&&Xt.delete(Li.key===null?ie:Li.key),et=S(Li,et,ie),Re===null?Ht=Li:Re.sibling=Li,Re=Li);return a&&Xt.forEach(function(Pc){return l(nt,Pc)}),We&&ah(nt,ie),Ht}function ne(nt,et,at,vt){if(at==null)throw Error(i(151));for(var Ht=null,Re=null,Xt=et,ie=et=0,Li=null,Ge=at.next();Xt!==null&&!Ge.done;ie++,Ge=at.next()){Xt.index>ie?(Li=Xt,Xt=null):Li=Xt.sibling;var Pc=lt(nt,Xt,Ge.value,vt);if(Pc===null){Xt===null&&(Xt=Li);break}a&&Xt&&Pc.alternate===null&&l(nt,Xt),et=S(Pc,et,ie),Re===null?Ht=Pc:Re.sibling=Pc,Re=Pc,Xt=Li}if(Ge.done)return h(nt,Xt),We&&ah(nt,ie),Ht;if(Xt===null){for(;!Ge.done;ie++,Ge=at.next())Ge=bt(nt,Ge.value,vt),Ge!==null&&(et=S(Ge,et,ie),Re===null?Ht=Ge:Re.sibling=Ge,Re=Ge);return We&&ah(nt,ie),Ht}for(Xt=p(Xt);!Ge.done;ie++,Ge=at.next())Ge=ht(Xt,nt,ie,Ge.value,vt),Ge!==null&&(a&&Ge.alternate!==null&&Xt.delete(Ge.key===null?ie:Ge.key),et=S(Ge,et,ie),Re===null?Ht=Ge:Re.sibling=Ge,Re=Ge);return a&&Xt.forEach(function(SU){return l(nt,SU)}),We&&ah(nt,ie),Ht}function gn(nt,et,at,vt){if(typeof at=="object"&&at!==null&&at.type===E&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case y:t:{for(var Ht=at.key;et!==null;){if(et.key===Ht){if(Ht=at.type,Ht===E){if(et.tag===7){h(nt,et.sibling),vt=_(et,at.props.children),vt.return=nt,nt=vt;break t}}else if(et.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&uP(Ht)===et.type){h(nt,et.sibling),vt=_(et,at.props),Ng(vt,at),vt.return=nt,nt=vt;break t}h(nt,et);break}else l(nt,et);et=et.sibling}at.type===E?(vt=rh(at.props.children,nt.mode,vt,at.key),vt.return=nt,nt=vt):(vt=N0(at.type,at.key,at.props,null,nt.mode,vt),Ng(vt,at),vt.return=nt,nt=vt)}return z(nt);case b:t:{for(Ht=at.key;et!==null;){if(et.key===Ht)if(et.tag===4&&et.stateNode.containerInfo===at.containerInfo&&et.stateNode.implementation===at.implementation){h(nt,et.sibling),vt=_(et,at.children||[]),vt.return=nt,nt=vt;break t}else{h(nt,et);break}else l(nt,et);et=et.sibling}vt=D1(at,nt.mode,vt),vt.return=nt,nt=vt}return z(nt);case I:return Ht=at._init,at=Ht(at._payload),gn(nt,et,at,vt)}if(J(at))return ae(nt,et,at,vt);if(q(at)){if(Ht=q(at),typeof Ht!="function")throw Error(i(150));return at=Ht.call(at),ne(nt,et,at,vt)}if(typeof at.then=="function")return gn(nt,et,J0(at),vt);if(at.$$typeof===k)return gn(nt,et,B0(nt,at),vt);t_(nt,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,et!==null&&et.tag===6?(h(nt,et.sibling),vt=_(et,at),vt.return=nt,nt=vt):(h(nt,et),vt=M1(at,nt.mode,vt),vt.return=nt,nt=vt),z(nt)):h(nt,et)}return function(nt,et,at,vt){try{Lg=0;var Ht=gn(nt,et,at,vt);return Cf=null,Ht}catch(Xt){if(Xt===Tg||Xt===U0)throw Xt;var Re=Qr(29,Xt,null,nt.mode);return Re.lanes=vt,Re.return=nt,Re}finally{}}}var Rf=hP(!0),dP=hP(!1),Ms=st(null),ja=null;function gc(a){var l=a.alternate;G(Si,Si.current&1),G(Ms,a),ja===null&&(l===null||wf.current!==null||l.memoizedState!==null)&&(ja=a)}function fP(a){if(a.tag===22){if(G(Si,Si.current),G(Ms,a),ja===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(ja=a)}}else yc()}function yc(){G(Si,Si.current),G(Ms,Ms.current)}function Jo(a){ut(Ms),ja===a&&(ja=null),ut(Si)}var Si=st(0);function e_(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||ex(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function dA(a,l,h,p){l=a.memoizedState,h=h(p,l),h=h==null?l:f({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var fA={enqueueSetState:function(a,l,h){a=a._reactInternals;var p=es(),_=fc(p);_.payload=l,h!=null&&(_.callback=h),l=pc(a,_,p),l!==null&&(ns(l,a,p),Rg(l,a,p))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var p=es(),_=fc(p);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=pc(a,_,p),l!==null&&(ns(l,a,p),Rg(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=es(),p=fc(h);p.tag=2,l!=null&&(p.callback=l),l=pc(a,p,h),l!==null&&(ns(l,a,h),Rg(l,a,h))}};function pP(a,l,h,p,_,S,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,z):l.prototype&&l.prototype.isPureReactComponent?!vg(h,p)||!vg(_,S):!0}function mP(a,l,h,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==a&&fA.enqueueReplaceState(l,l.state,null)}function fh(a,l){var h=l;if("ref"in l){h={};for(var p in l)p!=="ref"&&(h[p]=l[p])}if(a=a.defaultProps){h===l&&(h=f({},h));for(var _ in a)h[_]===void 0&&(h[_]=a[_])}return h}var n_=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function gP(a){n_(a)}function yP(a){console.error(a)}function vP(a){n_(a)}function i_(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function bP(a,l,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function pA(a,l,h){return h=fc(h),h.tag=3,h.payload={element:null},h.callback=function(){i_(a,l)},h}function _P(a){return a=fc(a),a.tag=3,a}function EP(a,l,h,p){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var S=p.value;a.payload=function(){return _(S)},a.callback=function(){bP(l,h,p)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(a.callback=function(){bP(l,h,p),typeof _!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var W=p.stack;this.componentDidCatch(p.value,{componentStack:W!==null?W:""})})}function Sj(a,l,h,p,_){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=h.alternate,l!==null&&wg(l,h,_,!0),h=Ms.current,h!==null){switch(h.tag){case 13:return ja===null?VA():h.alternate===null&&Gn===0&&(Gn=3),h.flags&=-257,h.flags|=65536,h.lanes=_,p===H1?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([p]):l.add(p),BA(a,p,_)),!1;case 22:return h.flags|=65536,p===H1?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([p]):h.add(p)),BA(a,p,_)),!1}throw Error(i(435,h.tag))}return BA(a,p,_),VA(),!1}if(We)return l=Ms.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,p!==N1&&(a=Error(i(422),{cause:p}),Sg(Rs(a,h)))):(p!==N1&&(l=Error(i(423),{cause:p}),Sg(Rs(l,h))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,p=Rs(p,h),_=pA(a.stateNode,p,_),G1(a,_),Gn!==4&&(Gn=2)),!1;var S=Error(i(520),{cause:p});if(S=Rs(S,h),Hg===null?Hg=[S]:Hg.push(S),Gn!==4&&(Gn=2),l===null)return!0;p=Rs(p,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=_&-_,h.lanes|=a,a=pA(h.stateNode,p,a),G1(h,a),!1;case 1:if(l=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(wc===null||!wc.has(S))))return h.flags|=65536,_&=-_,h.lanes|=_,_=_P(_),EP(_,a,h,p),G1(h,_),!1}h=h.return}while(h!==null);return!1}var SP=Error(i(461)),Di=!1;function qi(a,l,h,p){l.child=a===null?dP(l,null,h,p):Rf(l,a.child,h,p)}function wP(a,l,h,p,_){h=h.render;var S=l.ref;if("ref"in p){var z={};for(var W in p)W!=="ref"&&(z[W]=p[W])}else z=p;return uh(l),p=Q1(a,l,h,z,S,_),W=Z1(),a!==null&&!Di?(J1(a,l,_),tl(a,l,_)):(We&&W&&O1(l),l.flags|=1,qi(a,l,p,_),l.child)}function AP(a,l,h,p,_){if(a===null){var S=h.type;return typeof S=="function"&&!P1(S)&&S.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=S,xP(a,l,S,p,_)):(a=N0(h.type,null,p,l,l.mode,_),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,!SA(a,_)){var z=S.memoizedProps;if(h=h.compare,h=h!==null?h:vg,h(z,p)&&a.ref===l.ref)return tl(a,l,_)}return l.flags|=1,a=Wo(S,p),a.ref=l.ref,a.return=l,l.child=a}function xP(a,l,h,p,_){if(a!==null){var S=a.memoizedProps;if(vg(S,p)&&a.ref===l.ref)if(Di=!1,l.pendingProps=p=S,SA(a,_))(a.flags&131072)!==0&&(Di=!0);else return l.lanes=a.lanes,tl(a,l,_)}return mA(a,l,h,p,_)}function TP(a,l,h){var p=l.pendingProps,_=p.children,S=a!==null?a.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=S!==null?S.baseLanes|h:h,a!==null){for(_=l.child=a.child,S=0;_!==null;)S=S|_.lanes|_.childLanes,_=_.sibling;l.childLanes=S&~p}else l.childLanes=0,l.child=null;return CP(a,l,p,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&j0(l,S!==null?S.cachePool:null),S!==null?x2(l,S):K1(),fP(l);else return l.lanes=l.childLanes=536870912,CP(a,l,S!==null?S.baseLanes|h:h,h)}else S!==null?(j0(l,S.cachePool),x2(l,S),yc(),l.memoizedState=null):(a!==null&&j0(l,null),K1(),yc());return qi(a,l,_,h),l.child}function CP(a,l,h,p){var _=U1();return _=_===null?null:{parent:Ei._currentValue,pool:_},l.memoizedState={baseLanes:h,cachePool:_},a!==null&&j0(l,null),K1(),fP(l),a!==null&&wg(a,l,p,!0),null}function r_(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function mA(a,l,h,p,_){return uh(l),h=Q1(a,l,h,p,void 0,_),p=Z1(),a!==null&&!Di?(J1(a,l,_),tl(a,l,_)):(We&&p&&O1(l),l.flags|=1,qi(a,l,h,_),l.child)}function RP(a,l,h,p,_,S){return uh(l),l.updateQueue=null,h=C2(l,p,h,_),T2(a),p=Z1(),a!==null&&!Di?(J1(a,l,S),tl(a,l,S)):(We&&p&&O1(l),l.flags|=1,qi(a,l,h,S),l.child)}function IP(a,l,h,p,_){if(uh(l),l.stateNode===null){var S=vf,z=h.contextType;typeof z=="object"&&z!==null&&(S=ir(z)),S=new h(p,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=fA,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=p,S.state=l.memoizedState,S.refs={},$1(l),z=h.contextType,S.context=typeof z=="object"&&z!==null?ir(z):vf,S.state=l.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(dA(l,h,z,p),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(z=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),z!==S.state&&fA.enqueueReplaceState(S,S.state,null),kg(l,p,S,_),Ig(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){S=l.stateNode;var W=l.memoizedProps,Q=fh(h,W);S.props=Q;var ot=S.context,gt=h.contextType;z=vf,typeof gt=="object"&&gt!==null&&(z=ir(gt));var bt=h.getDerivedStateFromProps;gt=typeof bt=="function"||typeof S.getSnapshotBeforeUpdate=="function",W=l.pendingProps!==W,gt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(W||ot!==z)&&mP(l,S,p,z),dc=!1;var lt=l.memoizedState;S.state=lt,kg(l,p,S,_),Ig(),ot=l.memoizedState,W||lt!==ot||dc?(typeof bt=="function"&&(dA(l,h,bt,p),ot=l.memoizedState),(Q=dc||pP(l,h,Q,p,lt,ot,z))?(gt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ot),S.props=p,S.state=ot,S.context=z,p=Q):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,q1(a,l),z=l.memoizedProps,gt=fh(h,z),S.props=gt,bt=l.pendingProps,lt=S.context,ot=h.contextType,Q=vf,typeof ot=="object"&&ot!==null&&(Q=ir(ot)),W=h.getDerivedStateFromProps,(ot=typeof W=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z!==bt||lt!==Q)&&mP(l,S,p,Q),dc=!1,lt=l.memoizedState,S.state=lt,kg(l,p,S,_),Ig();var ht=l.memoizedState;z!==bt||lt!==ht||dc||a!==null&&a.dependencies!==null&&z0(a.dependencies)?(typeof W=="function"&&(dA(l,h,W,p),ht=l.memoizedState),(gt=dc||pP(l,h,gt,p,lt,ht,Q)||a!==null&&a.dependencies!==null&&z0(a.dependencies))?(ot||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ht,Q),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ht,Q)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||z===a.memoizedProps&&lt===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&lt===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ht),S.props=p,S.state=ht,S.context=Q,p=gt):(typeof S.componentDidUpdate!="function"||z===a.memoizedProps&&lt===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&lt===a.memoizedState||(l.flags|=1024),p=!1)}return S=p,r_(a,l),p=(l.flags&128)!==0,S||p?(S=l.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,a!==null&&p?(l.child=Rf(l,a.child,null,_),l.child=Rf(l,null,h,_)):qi(a,l,h,_),l.memoizedState=S.state,a=l.child):a=tl(a,l,_),a}function kP(a,l,h,p){return Eg(),l.flags|=256,qi(a,l,h,p),l.child}var gA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yA(a){return{baseLanes:a,cachePool:y2()}}function vA(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Ds),a}function PP(a,l,h){var p=l.pendingProps,_=!1,S=(l.flags&128)!==0,z;if((z=S)||(z=a!==null&&a.memoizedState===null?!1:(Si.current&2)!==0),z&&(_=!0,l.flags&=-129),z=(l.flags&32)!==0,l.flags&=-33,a===null){if(We){if(_?gc(l):yc(),We){var W=qn,Q;if(Q=W){t:{for(Q=W,W=Ba;Q.nodeType!==8;){if(!W){W=null;break t}if(Q=sa(Q.nextSibling),Q===null){W=null;break t}}W=Q}W!==null?(l.memoizedState={dehydrated:W,treeContext:sh!==null?{id:Ko,overflow:Yo}:null,retryLane:536870912,hydrationErrors:null},Q=Qr(18,null,null,0),Q.stateNode=W,Q.return=l,l.child=Q,Ar=l,qn=null,Q=!0):Q=!1}Q||lh(l)}if(W=l.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return ex(W)?l.lanes=32:l.lanes=536870912,null;Jo(l)}return W=p.children,p=p.fallback,_?(yc(),_=l.mode,W=s_({mode:"hidden",children:W},_),p=rh(p,_,h,null),W.return=l,p.return=l,W.sibling=p,l.child=W,_=l.child,_.memoizedState=yA(h),_.childLanes=vA(a,z,h),l.memoizedState=gA,p):(gc(l),bA(l,W))}if(Q=a.memoizedState,Q!==null&&(W=Q.dehydrated,W!==null)){if(S)l.flags&256?(gc(l),l.flags&=-257,l=_A(a,l,h)):l.memoizedState!==null?(yc(),l.child=a.child,l.flags|=128,l=null):(yc(),_=p.fallback,W=l.mode,p=s_({mode:"visible",children:p.children},W),_=rh(_,W,h,null),_.flags|=2,p.return=l,_.return=l,p.sibling=_,l.child=p,Rf(l,a.child,null,h),p=l.child,p.memoizedState=yA(h),p.childLanes=vA(a,z,h),l.memoizedState=gA,l=_);else if(gc(l),ex(W)){if(z=W.nextSibling&&W.nextSibling.dataset,z)var ot=z.dgst;z=ot,p=Error(i(419)),p.stack="",p.digest=z,Sg({value:p,source:null,stack:null}),l=_A(a,l,h)}else if(Di||wg(a,l,h,!1),z=(h&a.childLanes)!==0,Di||z){if(z=An,z!==null&&(p=h&-h,p=(p&42)!==0?1:rc(p),p=(p&(z.suspendedLanes|h))!==0?0:p,p!==0&&p!==Q.retryLane))throw Q.retryLane=p,yf(a,p),ns(z,a,p),SP;W.data==="$?"||VA(),l=_A(a,l,h)}else W.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=Q.treeContext,qn=sa(W.nextSibling),Ar=l,We=!0,oh=null,Ba=!1,a!==null&&(ks[Ps++]=Ko,ks[Ps++]=Yo,ks[Ps++]=sh,Ko=a.id,Yo=a.overflow,sh=l),l=bA(l,p.children),l.flags|=4096);return l}return _?(yc(),_=p.fallback,W=l.mode,Q=a.child,ot=Q.sibling,p=Wo(Q,{mode:"hidden",children:p.children}),p.subtreeFlags=Q.subtreeFlags&65011712,ot!==null?_=Wo(ot,_):(_=rh(_,W,h,null),_.flags|=2),_.return=l,p.return=l,p.sibling=_,l.child=p,p=_,_=l.child,W=a.child.memoizedState,W===null?W=yA(h):(Q=W.cachePool,Q!==null?(ot=Ei._currentValue,Q=Q.parent!==ot?{parent:ot,pool:ot}:Q):Q=y2(),W={baseLanes:W.baseLanes|h,cachePool:Q}),_.memoizedState=W,_.childLanes=vA(a,z,h),l.memoizedState=gA,p):(gc(l),h=a.child,a=h.sibling,h=Wo(h,{mode:"visible",children:p.children}),h.return=l,h.sibling=null,a!==null&&(z=l.deletions,z===null?(l.deletions=[a],l.flags|=16):z.push(a)),l.child=h,l.memoizedState=null,h)}function bA(a,l){return l=s_({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function s_(a,l){return a=Qr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function _A(a,l,h){return Rf(l,a.child,null,h),a=bA(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function MP(a,l,h){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),V1(a.return,l,h)}function EA(a,l,h,p,_){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:_}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=h,S.tailMode=_)}function DP(a,l,h){var p=l.pendingProps,_=p.revealOrder,S=p.tail;if(qi(a,l,p.children,h),p=Si.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&MP(a,h,l);else if(a.tag===19)MP(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}switch(G(Si,p),_){case"forwards":for(h=l.child,_=null;h!==null;)a=h.alternate,a!==null&&e_(a)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),EA(l,!1,_,h,S);break;case"backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(a=_.alternate,a!==null&&e_(a)===null){l.child=_;break}a=_.sibling,_.sibling=h,h=_,_=a}EA(l,!0,h,null,S);break;case"together":EA(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function tl(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Sc|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(wg(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,h=Wo(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Wo(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function SA(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&z0(a)))}function wj(a,l,h){switch(l.tag){case 3:zt(l,l.stateNode.containerInfo),hc(l,Ei,a.memoizedState.cache),Eg();break;case 27:case 5:xt(l);break;case 4:zt(l,l.stateNode.containerInfo);break;case 10:hc(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(gc(l),l.flags|=128,null):(h&l.child.childLanes)!==0?PP(a,l,h):(gc(l),a=tl(a,l,h),a!==null?a.sibling:null);gc(l);break;case 19:var _=(a.flags&128)!==0;if(p=(h&l.childLanes)!==0,p||(wg(a,l,h,!1),p=(h&l.childLanes)!==0),_){if(p)return DP(a,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(Si,Si.current),p)break;return null;case 22:case 23:return l.lanes=0,TP(a,l,h);case 24:hc(l,Ei,a.memoizedState.cache)}return tl(a,l,h)}function OP(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Di=!0;else{if(!SA(a,h)&&(l.flags&128)===0)return Di=!1,wj(a,l,h);Di=(a.flags&131072)!==0}else Di=!1,We&&(l.flags&1048576)!==0&&u2(l,V0,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var p=l.elementType,_=p._init;if(p=_(p._payload),l.type=p,typeof p=="function")P1(p)?(a=fh(p,a),l.tag=1,l=IP(null,l,p,a,h)):(l.tag=0,l=mA(null,l,p,a,h));else{if(p!=null){if(_=p.$$typeof,_===P){l.tag=11,l=wP(null,l,p,a,h);break t}else if(_===D){l.tag=14,l=AP(null,l,p,a,h);break t}}throw l=tt(p)||p,Error(i(306,l,""))}}return l;case 0:return mA(a,l,l.type,l.pendingProps,h);case 1:return p=l.type,_=fh(p,l.pendingProps),IP(a,l,p,_,h);case 3:t:{if(zt(l,l.stateNode.containerInfo),a===null)throw Error(i(387));p=l.pendingProps;var S=l.memoizedState;_=S.element,q1(a,l),kg(l,p,null,h);var z=l.memoizedState;if(p=z.cache,hc(l,Ei,p),p!==S.cache&&z1(l,[Ei],h,!0),Ig(),p=z.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:z.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=kP(a,l,p,h);break t}else if(p!==_){_=Rs(Error(i(424)),l),Sg(_),l=kP(a,l,p,h);break t}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(qn=sa(a.firstChild),Ar=l,We=!0,oh=null,Ba=!0,h=dP(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Eg(),p===_){l=tl(a,l,h);break t}qi(a,l,p,h)}l=l.child}return l;case 26:return r_(a,l),a===null?(h=VM(l.type,null,l.pendingProps,null))?l.memoizedState=h:We||(h=l.type,a=l.pendingProps,p=b_(wt.current).createElement(h),p[vi]=l,p[si]=a,Wi(p,h,a),Zn(p),l.stateNode=p):l.memoizedState=VM(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return xt(l),a===null&&We&&(p=l.stateNode=LM(l.type,l.pendingProps,wt.current),Ar=l,Ba=!0,_=qn,Tc(l.type)?(nx=_,qn=sa(p.firstChild)):qn=_),qi(a,l,l.pendingProps.children,h),r_(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&We&&((_=p=qn)&&(p=Qj(p,l.type,l.pendingProps,Ba),p!==null?(l.stateNode=p,Ar=l,qn=sa(p.firstChild),Ba=!1,_=!0):_=!1),_||lh(l)),xt(l),_=l.type,S=l.pendingProps,z=a!==null?a.memoizedProps:null,p=S.children,ZA(_,S)?p=null:z!==null&&ZA(_,z)&&(l.flags|=32),l.memoizedState!==null&&(_=Q1(a,l,mj,null,null,h),Zg._currentValue=_),r_(a,l),qi(a,l,p,h),l.child;case 6:return a===null&&We&&((a=h=qn)&&(h=Zj(h,l.pendingProps,Ba),h!==null?(l.stateNode=h,Ar=l,qn=null,a=!0):a=!1),a||lh(l)),null;case 13:return PP(a,l,h);case 4:return zt(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Rf(l,null,p,h):qi(a,l,p,h),l.child;case 11:return wP(a,l,l.type,l.pendingProps,h);case 7:return qi(a,l,l.pendingProps,h),l.child;case 8:return qi(a,l,l.pendingProps.children,h),l.child;case 12:return qi(a,l,l.pendingProps.children,h),l.child;case 10:return p=l.pendingProps,hc(l,l.type,p.value),qi(a,l,p.children,h),l.child;case 9:return _=l.type._context,p=l.pendingProps.children,uh(l),_=ir(_),p=p(_),l.flags|=1,qi(a,l,p,h),l.child;case 14:return AP(a,l,l.type,l.pendingProps,h);case 15:return xP(a,l,l.type,l.pendingProps,h);case 19:return DP(a,l,h);case 31:return p=l.pendingProps,h=l.mode,p={mode:p.mode,children:p.children},a===null?(h=s_(p,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Wo(a.child,p),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return TP(a,l,h);case 24:return uh(l),p=ir(Ei),a===null?(_=U1(),_===null&&(_=An,S=B1(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=h),_=S),l.memoizedState={parent:p,cache:_},$1(l),hc(l,Ei,_)):((a.lanes&h)!==0&&(q1(a,l),kg(l,null,null,h),Ig()),_=a.memoizedState,S=l.memoizedState,_.parent!==p?(_={parent:p,cache:p},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),hc(l,Ei,p)):(p=S.cache,hc(l,Ei,p),p!==_.cache&&z1(l,[Ei],h,!0))),qi(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function el(a){a.flags|=4}function LP(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!HM(l)){if(l=Ms.current,l!==null&&((je&4194048)===je?ja!==null:(je&62914560)!==je&&(je&536870912)===0||l!==ja))throw Cg=H1,v2;a.flags|=8192}}function a_(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?tg():536870912,a.lanes|=l,Mf|=l)}function Fg(a,l){if(!We)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Ln(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(l)for(var _=a.child;_!==null;)h|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)h|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=p,a.childLanes=h,l}function Aj(a,l,h){var p=l.pendingProps;switch(L1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(l),null;case 1:return Ln(l),null;case 3:return h=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Qo(Ei),Kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(_g(l)?el(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,f2())),Ln(l),null;case 26:return h=l.memoizedState,a===null?(el(l),h!==null?(Ln(l),LP(l,h)):(Ln(l),l.flags&=-16777217)):h?h!==a.memoizedState?(el(l),Ln(l),LP(l,h)):(Ln(l),l.flags&=-16777217):(a.memoizedProps!==p&&el(l),Ln(l),l.flags&=-16777217),null;case 27:Qt(l),h=wt.current;var _=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==p&&el(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return Ln(l),null}a=St.current,_g(l)?h2(l):(a=LM(_,p,h),l.stateNode=a,el(l))}return Ln(l),null;case 5:if(Qt(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&el(l);else{if(!p){if(l.stateNode===null)throw Error(i(166));return Ln(l),null}if(a=St.current,_g(l))h2(l);else{switch(_=b_(wt.current),a){case 1:a=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=_.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?a.multiple=!0:p.size&&(a.size=p.size);break;default:a=typeof p.is=="string"?_.createElement(h,{is:p.is}):_.createElement(h)}}a[vi]=l,a[si]=p;t:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)a.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break t;for(;_.sibling===null;){if(_.return===null||_.return===l)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=a;t:switch(Wi(a,h,p),h){case"button":case"input":case"select":case"textarea":a=!!p.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&el(l)}}return Ln(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&el(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(i(166));if(a=wt.current,_g(l)){if(a=l.stateNode,h=l.memoizedProps,p=null,_=Ar,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}a[vi]=l,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||RM(a.nodeValue,h)),a||lh(l)}else a=b_(a).createTextNode(p),a[vi]=l,l.stateNode=a}return Ln(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=_g(l),p!==null&&p.dehydrated!==null){if(a===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[vi]=l}else Eg(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ln(l),_=!1}else _=f2(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(Jo(l),l):(Jo(l),null)}if(Jo(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=p!==null,a=a!==null&&a.memoizedState!==null,h){p=l.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool);var S=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==_&&(p.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),a_(l,l.updateQueue),Ln(l),null;case 4:return Kt(),a===null&&WA(l.stateNode.containerInfo),Ln(l),null;case 10:return Qo(l.type),Ln(l),null;case 19:if(ut(Si),_=l.memoizedState,_===null)return Ln(l),null;if(p=(l.flags&128)!==0,S=_.rendering,S===null)if(p)Fg(_,!1);else{if(Gn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(S=e_(a),S!==null){for(l.flags|=128,Fg(_,!1),a=S.updateQueue,l.updateQueue=a,a_(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)c2(h,a),h=h.sibling;return G(Si,Si.current&1|2),l.child}a=a.sibling}_.tail!==null&&ge()>c_&&(l.flags|=128,p=!0,Fg(_,!1),l.lanes=4194304)}else{if(!p)if(a=e_(S),a!==null){if(l.flags|=128,p=!0,a=a.updateQueue,l.updateQueue=a,a_(l,a),Fg(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!We)return Ln(l),null}else 2*ge()-_.renderingStartTime>c_&&h!==536870912&&(l.flags|=128,p=!0,Fg(_,!1),l.lanes=4194304);_.isBackwards?(S.sibling=l.child,l.child=S):(a=_.last,a!==null?a.sibling=S:l.child=S,_.last=S)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=ge(),l.sibling=null,a=Si.current,G(Si,p?a&1|2:a&1),l):(Ln(l),null);case 22:case 23:return Jo(l),Y1(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(h&536870912)!==0&&(l.flags&128)===0&&(Ln(l),l.subtreeFlags&6&&(l.flags|=8192)):Ln(l),h=l.updateQueue,h!==null&&a_(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048),a!==null&&ut(hh),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Qo(Ei),Ln(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function xj(a,l){switch(L1(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Qo(Ei),Kt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Qt(l),null;case 13:if(Jo(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Eg()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ut(Si),null;case 4:return Kt(),null;case 10:return Qo(l.type),null;case 22:case 23:return Jo(l),Y1(),a!==null&&ut(hh),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Qo(Ei),null;case 25:return null;default:return null}}function NP(a,l){switch(L1(l),l.tag){case 3:Qo(Ei),Kt();break;case 26:case 27:case 5:Qt(l);break;case 4:Kt();break;case 13:Jo(l);break;case 19:ut(Si);break;case 10:Qo(l.type);break;case 22:case 23:Jo(l),Y1(),a!==null&&ut(hh);break;case 24:Qo(Ei)}}function Vg(a,l){try{var h=l.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&a)===a){p=void 0;var S=h.create,z=h.inst;p=S(),z.destroy=p}h=h.next}while(h!==_)}}catch(W){_n(l,l.return,W)}}function vc(a,l,h){try{var p=l.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var S=_.next;p=S;do{if((p.tag&a)===a){var z=p.inst,W=z.destroy;if(W!==void 0){z.destroy=void 0,_=l;var Q=h,ot=W;try{ot()}catch(gt){_n(_,Q,gt)}}}p=p.next}while(p!==S)}}catch(gt){_n(l,l.return,gt)}}function FP(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{A2(l,h)}catch(p){_n(a,a.return,p)}}}function VP(a,l,h){h.props=fh(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){_n(a,l,p)}}function zg(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(_){_n(a,l,_)}}function Ua(a,l){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(_){_n(a,l,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){_n(a,l,_)}else h.current=null}function zP(a){var l=a.type,h=a.memoizedProps,p=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break t;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(_){_n(a,a.return,_)}}function wA(a,l,h){try{var p=a.stateNode;Gj(p,a.type,h,l),p[si]=l}catch(_){_n(a,a.return,_)}}function BP(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Tc(a.type)||a.tag===4}function AA(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||BP(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Tc(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function xA(a,l,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=v_));else if(p!==4&&(p===27&&Tc(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(xA(a,l,h),a=a.sibling;a!==null;)xA(a,l,h),a=a.sibling}function o_(a,l,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(p!==4&&(p===27&&Tc(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(o_(a,l,h),a=a.sibling;a!==null;)o_(a,l,h),a=a.sibling}function jP(a){var l=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Wi(l,p,h),l[vi]=a,l[si]=h}catch(S){_n(a,a.return,S)}}var nl=!1,ti=!1,TA=!1,UP=typeof WeakSet=="function"?WeakSet:Set,Oi=null;function Tj(a,l){if(a=a.containerInfo,XA=x_,a=Jk(a),A1(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var _=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break t}var z=0,W=-1,Q=-1,ot=0,gt=0,bt=a,lt=null;e:for(;;){for(var ht;bt!==h||_!==0&&bt.nodeType!==3||(W=z+_),bt!==S||p!==0&&bt.nodeType!==3||(Q=z+p),bt.nodeType===3&&(z+=bt.nodeValue.length),(ht=bt.firstChild)!==null;)lt=bt,bt=ht;for(;;){if(bt===a)break e;if(lt===h&&++ot===_&&(W=z),lt===S&&++gt===p&&(Q=z),(ht=bt.nextSibling)!==null)break;bt=lt,lt=bt.parentNode}bt=ht}h=W===-1||Q===-1?null:{start:W,end:Q}}else h=null}h=h||{start:0,end:0}}else h=null;for(QA={focusedElem:a,selectionRange:h},x_=!1,Oi=l;Oi!==null;)if(l=Oi,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Oi=a;else for(;Oi!==null;){switch(l=Oi,S=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=l,_=S.memoizedProps,S=S.memoizedState,p=h.stateNode;try{var ae=fh(h.type,_,h.elementType===h.type);a=p.getSnapshotBeforeUpdate(ae,S),p.__reactInternalSnapshotBeforeUpdate=a}catch(ne){_n(h,h.return,ne)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)tx(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":tx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Oi=a;break}Oi=l.return}}function HP(a,l,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:bc(a,h),p&4&&Vg(5,h);break;case 1:if(bc(a,h),p&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(z){_n(h,h.return,z)}else{var _=fh(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(_,l,a.__reactInternalSnapshotBeforeUpdate)}catch(z){_n(h,h.return,z)}}p&64&&FP(h),p&512&&zg(h,h.return);break;case 3:if(bc(a,h),p&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{A2(a,l)}catch(z){_n(h,h.return,z)}}break;case 27:l===null&&p&4&&jP(h);case 26:case 5:bc(a,h),l===null&&p&4&&zP(h),p&512&&zg(h,h.return);break;case 12:bc(a,h);break;case 13:bc(a,h),p&4&&GP(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=Lj.bind(null,h),Jj(a,h))));break;case 22:if(p=h.memoizedState!==null||nl,!p){l=l!==null&&l.memoizedState!==null||ti,_=nl;var S=ti;nl=p,(ti=l)&&!S?_c(a,h,(h.subtreeFlags&8772)!==0):bc(a,h),nl=_,ti=S}break;case 30:break;default:bc(a,h)}}function $P(a){var l=a.alternate;l!==null&&(a.alternate=null,$P(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&oc(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Mn=null,Lr=!1;function il(a,l,h){for(h=h.child;h!==null;)qP(a,l,h),h=h.sibling}function qP(a,l,h){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(ct,h)}catch{}switch(h.tag){case 26:ti||Ua(h,l),il(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ti||Ua(h,l);var p=Mn,_=Lr;Tc(h.type)&&(Mn=h.stateNode,Lr=!1),il(a,l,h),Kg(h.stateNode),Mn=p,Lr=_;break;case 5:ti||Ua(h,l);case 6:if(p=Mn,_=Lr,Mn=null,il(a,l,h),Mn=p,Lr=_,Mn!==null)if(Lr)try{(Mn.nodeType===9?Mn.body:Mn.nodeName==="HTML"?Mn.ownerDocument.body:Mn).removeChild(h.stateNode)}catch(S){_n(h,l,S)}else try{Mn.removeChild(h.stateNode)}catch(S){_n(h,l,S)}break;case 18:Mn!==null&&(Lr?(a=Mn,DM(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),ny(a)):DM(Mn,h.stateNode));break;case 4:p=Mn,_=Lr,Mn=h.stateNode.containerInfo,Lr=!0,il(a,l,h),Mn=p,Lr=_;break;case 0:case 11:case 14:case 15:ti||vc(2,h,l),ti||vc(4,h,l),il(a,l,h);break;case 1:ti||(Ua(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"&&VP(h,l,p)),il(a,l,h);break;case 21:il(a,l,h);break;case 22:ti=(p=ti)||h.memoizedState!==null,il(a,l,h),ti=p;break;default:il(a,l,h)}}function GP(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ny(a)}catch(h){_n(l,l.return,h)}}function Cj(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new UP),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new UP),l;default:throw Error(i(435,a.tag))}}function CA(a,l){var h=Cj(a);l.forEach(function(p){var _=Nj.bind(null,a,p);h.has(p)||(h.add(p),p.then(_,_))})}function Zr(a,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var _=h[p],S=a,z=l,W=z;t:for(;W!==null;){switch(W.tag){case 27:if(Tc(W.type)){Mn=W.stateNode,Lr=!1;break t}break;case 5:Mn=W.stateNode,Lr=!1;break t;case 3:case 4:Mn=W.stateNode.containerInfo,Lr=!0;break t}W=W.return}if(Mn===null)throw Error(i(160));qP(S,z,_),Mn=null,Lr=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)WP(l,a),l=l.sibling}var ra=null;function WP(a,l){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zr(l,a),Jr(a),p&4&&(vc(3,a,a.return),Vg(3,a),vc(5,a,a.return));break;case 1:Zr(l,a),Jr(a),p&512&&(ti||h===null||Ua(h,h.return)),p&64&&nl&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var _=ra;if(Zr(l,a),Jr(a),p&512&&(ti||h===null||Ua(h,h.return)),p&4){var S=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){t:{p=a.type,h=a.memoizedProps,_=_.ownerDocument||_;e:switch(p){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Uu]||S[vi]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(p),_.head.insertBefore(S,_.querySelector("head > title"))),Wi(S,p,h),S[vi]=a,Zn(S),p=S;break t;case"link":var z=jM("link","href",_).get(p+(h.href||""));if(z){for(var W=0;W<z.length;W++)if(S=z[W],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(W,1);break e}}S=_.createElement(p),Wi(S,p,h),_.head.appendChild(S);break;case"meta":if(z=jM("meta","content",_).get(p+(h.content||""))){for(W=0;W<z.length;W++)if(S=z[W],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(W,1);break e}}S=_.createElement(p),Wi(S,p,h),_.head.appendChild(S);break;default:throw Error(i(468,p))}S[vi]=a,Zn(S),p=S}a.stateNode=p}else UM(_,a.type,a.stateNode);else a.stateNode=BM(_,p,a.memoizedProps);else S!==p?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,p===null?UM(_,a.type,a.stateNode):BM(_,p,a.memoizedProps)):p===null&&a.stateNode!==null&&wA(a,a.memoizedProps,h.memoizedProps)}break;case 27:Zr(l,a),Jr(a),p&512&&(ti||h===null||Ua(h,h.return)),h!==null&&p&4&&wA(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Zr(l,a),Jr(a),p&512&&(ti||h===null||Ua(h,h.return)),a.flags&32){_=a.stateNode;try{As(_,"")}catch(ht){_n(a,a.return,ht)}}p&4&&a.stateNode!=null&&(_=a.memoizedProps,wA(a,_,h!==null?h.memoizedProps:_)),p&1024&&(TA=!0);break;case 6:if(Zr(l,a),Jr(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(ht){_n(a,a.return,ht)}}break;case 3:if(S_=null,_=ra,ra=__(l.containerInfo),Zr(l,a),ra=_,Jr(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{ny(l.containerInfo)}catch(ht){_n(a,a.return,ht)}TA&&(TA=!1,KP(a));break;case 4:p=ra,ra=__(a.stateNode.containerInfo),Zr(l,a),Jr(a),ra=p;break;case 12:Zr(l,a),Jr(a);break;case 13:Zr(l,a),Jr(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(DA=ge()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,CA(a,p)));break;case 22:_=a.memoizedState!==null;var Q=h!==null&&h.memoizedState!==null,ot=nl,gt=ti;if(nl=ot||_,ti=gt||Q,Zr(l,a),ti=gt,nl=ot,Jr(a),p&8192)t:for(l=a.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(h===null||Q||nl||ti||ph(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){Q=h=l;try{if(S=Q.stateNode,_)z=S.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{W=Q.stateNode;var bt=Q.memoizedProps.style,lt=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;W.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(ht){_n(Q,Q.return,ht)}}}else if(l.tag===6){if(h===null){Q=l;try{Q.stateNode.nodeValue=_?"":Q.memoizedProps}catch(ht){_n(Q,Q.return,ht)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,CA(a,h))));break;case 19:Zr(l,a),Jr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,CA(a,p)));break;case 30:break;case 21:break;default:Zr(l,a),Jr(a)}}function Jr(a){var l=a.flags;if(l&2){try{for(var h,p=a.return;p!==null;){if(BP(p)){h=p;break}p=p.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var _=h.stateNode,S=AA(a);o_(a,S,_);break;case 5:var z=h.stateNode;h.flags&32&&(As(z,""),h.flags&=-33);var W=AA(a);o_(a,W,z);break;case 3:case 4:var Q=h.stateNode.containerInfo,ot=AA(a);xA(a,ot,Q);break;default:throw Error(i(161))}}catch(gt){_n(a,a.return,gt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function KP(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;KP(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function bc(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)HP(a,l.alternate,l),l=l.sibling}function ph(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:vc(4,l,l.return),ph(l);break;case 1:Ua(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&VP(l,l.return,h),ph(l);break;case 27:Kg(l.stateNode);case 26:case 5:Ua(l,l.return),ph(l);break;case 22:l.memoizedState===null&&ph(l);break;case 30:ph(l);break;default:ph(l)}a=a.sibling}}function _c(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,_=a,S=l,z=S.flags;switch(S.tag){case 0:case 11:case 15:_c(_,S,h),Vg(4,S);break;case 1:if(_c(_,S,h),p=S,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ot){_n(p,p.return,ot)}if(p=S,_=p.updateQueue,_!==null){var W=p.stateNode;try{var Q=_.shared.hiddenCallbacks;if(Q!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Q.length;_++)w2(Q[_],W)}catch(ot){_n(p,p.return,ot)}}h&&z&64&&FP(S),zg(S,S.return);break;case 27:jP(S);case 26:case 5:_c(_,S,h),h&&p===null&&z&4&&zP(S),zg(S,S.return);break;case 12:_c(_,S,h);break;case 13:_c(_,S,h),h&&z&4&&GP(_,S);break;case 22:S.memoizedState===null&&_c(_,S,h),zg(S,S.return);break;case 30:break;default:_c(_,S,h)}l=l.sibling}}function RA(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Ag(h))}function IA(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Ag(a))}function Ha(a,l,h,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)YP(a,l,h,p),l=l.sibling}function YP(a,l,h,p){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Ha(a,l,h,p),_&2048&&Vg(9,l);break;case 1:Ha(a,l,h,p);break;case 3:Ha(a,l,h,p),_&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Ag(a)));break;case 12:if(_&2048){Ha(a,l,h,p),a=l.stateNode;try{var S=l.memoizedProps,z=S.id,W=S.onPostCommit;typeof W=="function"&&W(z,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){_n(l,l.return,Q)}}else Ha(a,l,h,p);break;case 13:Ha(a,l,h,p);break;case 23:break;case 22:S=l.stateNode,z=l.alternate,l.memoizedState!==null?S._visibility&2?Ha(a,l,h,p):Bg(a,l):S._visibility&2?Ha(a,l,h,p):(S._visibility|=2,If(a,l,h,p,(l.subtreeFlags&10256)!==0)),_&2048&&RA(z,l);break;case 24:Ha(a,l,h,p),_&2048&&IA(l.alternate,l);break;default:Ha(a,l,h,p)}}function If(a,l,h,p,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=a,z=l,W=h,Q=p,ot=z.flags;switch(z.tag){case 0:case 11:case 15:If(S,z,W,Q,_),Vg(8,z);break;case 23:break;case 22:var gt=z.stateNode;z.memoizedState!==null?gt._visibility&2?If(S,z,W,Q,_):Bg(S,z):(gt._visibility|=2,If(S,z,W,Q,_)),_&&ot&2048&&RA(z.alternate,z);break;case 24:If(S,z,W,Q,_),_&&ot&2048&&IA(z.alternate,z);break;default:If(S,z,W,Q,_)}l=l.sibling}}function Bg(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,p=l,_=p.flags;switch(p.tag){case 22:Bg(h,p),_&2048&&RA(p.alternate,p);break;case 24:Bg(h,p),_&2048&&IA(p.alternate,p);break;default:Bg(h,p)}l=l.sibling}}var jg=8192;function kf(a){if(a.subtreeFlags&jg)for(a=a.child;a!==null;)XP(a),a=a.sibling}function XP(a){switch(a.tag){case 26:kf(a),a.flags&jg&&a.memoizedState!==null&&dU(ra,a.memoizedState,a.memoizedProps);break;case 5:kf(a);break;case 3:case 4:var l=ra;ra=__(a.stateNode.containerInfo),kf(a),ra=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=jg,jg=16777216,kf(a),jg=l):kf(a));break;default:kf(a)}}function QP(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ug(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];Oi=p,JP(p,a)}QP(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ZP(a),a=a.sibling}function ZP(a){switch(a.tag){case 0:case 11:case 15:Ug(a),a.flags&2048&&vc(9,a,a.return);break;case 3:Ug(a);break;case 12:Ug(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,l_(a)):Ug(a);break;default:Ug(a)}}function l_(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];Oi=p,JP(p,a)}QP(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:vc(8,l,l.return),l_(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,l_(l));break;default:l_(l)}a=a.sibling}}function JP(a,l){for(;Oi!==null;){var h=Oi;switch(h.tag){case 0:case 11:case 15:vc(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ag(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Oi=p;else t:for(h=a;Oi!==null;){p=Oi;var _=p.sibling,S=p.return;if($P(p),p===h){Oi=null;break t}if(_!==null){_.return=S,Oi=_;break t}Oi=S}}}var Rj={getCacheForType:function(a){var l=ir(Ei),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},Ij=typeof WeakMap=="function"?WeakMap:Map,an=0,An=null,Pe=null,je=0,on=0,ts=null,Ec=!1,Pf=!1,kA=!1,rl=0,Gn=0,Sc=0,mh=0,PA=0,Ds=0,Mf=0,Hg=null,Nr=null,MA=!1,DA=0,c_=1/0,u_=null,wc=null,Gi=0,Ac=null,Df=null,Of=0,OA=0,LA=null,tM=null,$g=0,NA=null;function es(){if((an&2)!==0&&je!==0)return je&-je;if(X.T!==null){var a=Ef;return a!==0?a:HA()}return sc()}function eM(){Ds===0&&(Ds=(je&536870912)===0||We?ic():536870912);var a=Ms.current;return a!==null&&(a.flags|=32),Ds}function ns(a,l,h){(a===An&&(on===2||on===9)||a.cancelPendingCommit!==null)&&(Lf(a,0),xc(a,je,Ds,!1)),No(a,h),((an&2)===0||a!==An)&&(a===An&&((an&2)===0&&(mh|=h),Gn===4&&xc(a,je,Ds,!1)),$a(a))}function nM(a,l,h){if((an&6)!==0)throw Error(i(327));var p=!h&&(l&124)===0&&(l&a.expiredLanes)===0||qe(a,l),_=p?Mj(a,l):zA(a,l,!0),S=p;do{if(_===0){Pf&&!p&&xc(a,l,0,!1);break}else{if(h=a.current.alternate,S&&!kj(h)){_=zA(a,l,!1),S=!1;continue}if(_===2){if(S=l,a.errorRecoveryDisabledLanes&S)var z=0;else z=a.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){l=z;t:{var W=a;_=Hg;var Q=W.current.memoizedState.isDehydrated;if(Q&&(Lf(W,z).flags|=256),z=zA(W,z,!1),z!==2){if(kA&&!Q){W.errorRecoveryDisabledLanes|=S,mh|=S,_=4;break t}S=Nr,Nr=_,S!==null&&(Nr===null?Nr=S:Nr.push.apply(Nr,S))}_=z}if(S=!1,_!==2)continue}}if(_===1){Lf(a,0),xc(a,l,0,!0);break}t:{switch(p=a,S=_,S){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:xc(p,l,Ds,!Ec);break t;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(_=DA+300-ge(),10<_)){if(xc(p,l,Ds,!Ec),ce(p,0,!0)!==0)break t;p.timeoutHandle=PM(iM.bind(null,p,h,Nr,u_,MA,l,Ds,mh,Mf,Ec,S,2,-0,0),_);break t}iM(p,h,Nr,u_,MA,l,Ds,mh,Mf,Ec,S,0,-0,0)}}break}while(!0);$a(a)}function iM(a,l,h,p,_,S,z,W,Q,ot,gt,bt,lt,ht){if(a.timeoutHandle=-1,bt=l.subtreeFlags,(bt&8192||(bt&16785408)===16785408)&&(Qg={stylesheets:null,count:0,unsuspend:hU},XP(l),bt=fU(),bt!==null)){a.cancelPendingCommit=bt(uM.bind(null,a,l,S,h,p,_,z,W,Q,gt,1,lt,ht)),xc(a,S,z,!ot);return}uM(a,l,S,h,p,_,z,W,Q)}function kj(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var _=h[p],S=_.getSnapshot;_=_.value;try{if(!Xr(S(),_))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xc(a,l,h,p){l&=~PA,l&=~mh,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var _=l;0<_;){var S=31-Vt(_),z=1<<S;p[S]=-1,_&=~z}h!==0&&Ia(a,h,l)}function h_(){return(an&6)===0?(qg(0),!1):!0}function FA(){if(Pe!==null){if(on===0)var a=Pe.return;else a=Pe,Xo=ch=null,tA(a),Cf=null,Lg=0,a=Pe;for(;a!==null;)NP(a.alternate,a),a=a.return;Pe=null}}function Lf(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,Kj(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),FA(),An=a,Pe=h=Wo(a.current,null),je=l,on=0,ts=null,Ec=!1,Pf=qe(a,l),kA=!1,Mf=Ds=PA=mh=Sc=Gn=0,Nr=Hg=null,MA=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var _=31-Vt(p),S=1<<_;l|=a[_],p&=~S}return rl=l,D0(),h}function rM(a,l){we=null,X.H=Z0,l===Tg||l===U0?(l=E2(),on=3):l===v2?(l=E2(),on=4):on=l===SP?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ts=l,Pe===null&&(Gn=1,i_(a,Rs(l,a.current)))}function sM(){var a=X.H;return X.H=Z0,a===null?Z0:a}function aM(){var a=X.A;return X.A=Rj,a}function VA(){Gn=4,Ec||(je&4194048)!==je&&Ms.current!==null||(Pf=!0),(Sc&134217727)===0&&(mh&134217727)===0||An===null||xc(An,je,Ds,!1)}function zA(a,l,h){var p=an;an|=2;var _=sM(),S=aM();(An!==a||je!==l)&&(u_=null,Lf(a,l)),l=!1;var z=Gn;t:do try{if(on!==0&&Pe!==null){var W=Pe,Q=ts;switch(on){case 8:FA(),z=6;break t;case 3:case 2:case 9:case 6:Ms.current===null&&(l=!0);var ot=on;if(on=0,ts=null,Nf(a,W,Q,ot),h&&Pf){z=0;break t}break;default:ot=on,on=0,ts=null,Nf(a,W,Q,ot)}}Pj(),z=Gn;break}catch(gt){rM(a,gt)}while(!0);return l&&a.shellSuspendCounter++,Xo=ch=null,an=p,X.H=_,X.A=S,Pe===null&&(An=null,je=0,D0()),z}function Pj(){for(;Pe!==null;)oM(Pe)}function Mj(a,l){var h=an;an|=2;var p=sM(),_=aM();An!==a||je!==l?(u_=null,c_=ge()+500,Lf(a,l)):Pf=qe(a,l);t:do try{if(on!==0&&Pe!==null){l=Pe;var S=ts;e:switch(on){case 1:on=0,ts=null,Nf(a,l,S,1);break;case 2:case 9:if(b2(S)){on=0,ts=null,lM(l);break}l=function(){on!==2&&on!==9||An!==a||(on=7),$a(a)},S.then(l,l);break t;case 3:on=7;break t;case 4:on=5;break t;case 7:b2(S)?(on=0,ts=null,lM(l)):(on=0,ts=null,Nf(a,l,S,7));break;case 5:var z=null;switch(Pe.tag){case 26:z=Pe.memoizedState;case 5:case 27:var W=Pe;if(!z||HM(z)){on=0,ts=null;var Q=W.sibling;if(Q!==null)Pe=Q;else{var ot=W.return;ot!==null?(Pe=ot,d_(ot)):Pe=null}break e}}on=0,ts=null,Nf(a,l,S,5);break;case 6:on=0,ts=null,Nf(a,l,S,6);break;case 8:FA(),Gn=6;break t;default:throw Error(i(462))}}Dj();break}catch(gt){rM(a,gt)}while(!0);return Xo=ch=null,X.H=p,X.A=_,an=h,Pe!==null?0:(An=null,je=0,D0(),Gn)}function Dj(){for(;Pe!==null&&!te();)oM(Pe)}function oM(a){var l=OP(a.alternate,a,rl);a.memoizedProps=a.pendingProps,l===null?d_(a):Pe=l}function lM(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=RP(h,l,l.pendingProps,l.type,void 0,je);break;case 11:l=RP(h,l,l.pendingProps,l.type.render,l.ref,je);break;case 5:tA(l);default:NP(h,l),l=Pe=c2(l,rl),l=OP(h,l,rl)}a.memoizedProps=a.pendingProps,l===null?d_(a):Pe=l}function Nf(a,l,h,p){Xo=ch=null,tA(l),Cf=null,Lg=0;var _=l.return;try{if(Sj(a,_,l,h,je)){Gn=1,i_(a,Rs(h,a.current)),Pe=null;return}}catch(S){if(_!==null)throw Pe=_,S;Gn=1,i_(a,Rs(h,a.current)),Pe=null;return}l.flags&32768?(We||p===1?a=!0:Pf||(je&536870912)!==0?a=!1:(Ec=a=!0,(p===2||p===9||p===3||p===6)&&(p=Ms.current,p!==null&&p.tag===13&&(p.flags|=16384))),cM(l,a)):d_(l)}function d_(a){var l=a;do{if((l.flags&32768)!==0){cM(l,Ec);return}a=l.return;var h=Aj(l.alternate,l,rl);if(h!==null){Pe=h;return}if(l=l.sibling,l!==null){Pe=l;return}Pe=l=a}while(l!==null);Gn===0&&(Gn=5)}function cM(a,l){do{var h=xj(a.alternate,a);if(h!==null){h.flags&=32767,Pe=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){Pe=a;return}Pe=a=h}while(a!==null);Gn=6,Pe=null}function uM(a,l,h,p,_,S,z,W,Q){a.cancelPendingCommit=null;do f_();while(Gi!==0);if((an&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(S=l.lanes|l.childLanes,S|=I1,eg(a,h,S,z,W,Q),a===An&&(Pe=An=null,je=0),Df=l,Ac=a,Of=h,OA=S,LA=_,tM=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Fj(Ee,function(){return mM(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=X.T,X.T=null,_=Z.p,Z.p=2,z=an,an|=4;try{Tj(a,l,h)}finally{an=z,Z.p=_,X.T=p}}Gi=1,hM(),dM(),fM()}}function hM(){if(Gi===1){Gi=0;var a=Ac,l=Df,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var p=Z.p;Z.p=2;var _=an;an|=4;try{WP(l,a);var S=QA,z=Jk(a.containerInfo),W=S.focusedElem,Q=S.selectionRange;if(z!==W&&W&&W.ownerDocument&&Zk(W.ownerDocument.documentElement,W)){if(Q!==null&&A1(W)){var ot=Q.start,gt=Q.end;if(gt===void 0&&(gt=ot),"selectionStart"in W)W.selectionStart=ot,W.selectionEnd=Math.min(gt,W.value.length);else{var bt=W.ownerDocument||document,lt=bt&&bt.defaultView||window;if(lt.getSelection){var ht=lt.getSelection(),ae=W.textContent.length,ne=Math.min(Q.start,ae),gn=Q.end===void 0?ne:Math.min(Q.end,ae);!ht.extend&&ne>gn&&(z=gn,gn=ne,ne=z);var nt=Qk(W,ne),et=Qk(W,gn);if(nt&&et&&(ht.rangeCount!==1||ht.anchorNode!==nt.node||ht.anchorOffset!==nt.offset||ht.focusNode!==et.node||ht.focusOffset!==et.offset)){var at=bt.createRange();at.setStart(nt.node,nt.offset),ht.removeAllRanges(),ne>gn?(ht.addRange(at),ht.extend(et.node,et.offset)):(at.setEnd(et.node,et.offset),ht.addRange(at))}}}}for(bt=[],ht=W;ht=ht.parentNode;)ht.nodeType===1&&bt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<bt.length;W++){var vt=bt[W];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}x_=!!XA,QA=XA=null}finally{an=_,Z.p=p,X.T=h}}a.current=l,Gi=2}}function dM(){if(Gi===2){Gi=0;var a=Ac,l=Df,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var p=Z.p;Z.p=2;var _=an;an|=4;try{HP(a,l.alternate,l)}finally{an=_,Z.p=p,X.T=h}}Gi=3}}function fM(){if(Gi===4||Gi===3){Gi=0,pe();var a=Ac,l=Df,h=Of,p=tM;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Gi=5:(Gi=0,Df=Ac=null,pM(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(wc=null),Zd(h),l=l.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(ct,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=X.T,_=Z.p,Z.p=2,X.T=null;try{for(var S=a.onRecoverableError,z=0;z<p.length;z++){var W=p[z];S(W.value,{componentStack:W.stack})}}finally{X.T=l,Z.p=_}}(Of&3)!==0&&f_(),$a(a),_=a.pendingLanes,(h&4194090)!==0&&(_&42)!==0?a===NA?$g++:($g=0,NA=a):$g=0,qg(0)}}function pM(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Ag(l)))}function f_(a){return hM(),dM(),fM(),mM()}function mM(){if(Gi!==5)return!1;var a=Ac,l=OA;OA=0;var h=Zd(Of),p=X.T,_=Z.p;try{Z.p=32>h?32:h,X.T=null,h=LA,LA=null;var S=Ac,z=Of;if(Gi=0,Df=Ac=null,Of=0,(an&6)!==0)throw Error(i(331));var W=an;if(an|=4,ZP(S.current),YP(S,S.current,z,h),an=W,qg(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(ct,S)}catch{}return!0}finally{Z.p=_,X.T=p,pM(a,l)}}function gM(a,l,h){l=Rs(h,l),l=pA(a.stateNode,l,2),a=pc(a,l,2),a!==null&&(No(a,2),$a(a))}function _n(a,l,h){if(a.tag===3)gM(a,a,h);else for(;l!==null;){if(l.tag===3){gM(l,a,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(wc===null||!wc.has(p))){a=Rs(h,a),h=_P(2),p=pc(l,h,2),p!==null&&(EP(h,p,l,a),No(p,2),$a(p));break}}l=l.return}}function BA(a,l,h){var p=a.pingCache;if(p===null){p=a.pingCache=new Ij;var _=new Set;p.set(l,_)}else _=p.get(l),_===void 0&&(_=new Set,p.set(l,_));_.has(h)||(kA=!0,_.add(h),a=Oj.bind(null,a,l,h),l.then(a,a))}function Oj(a,l,h){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,An===a&&(je&h)===h&&(Gn===4||Gn===3&&(je&62914560)===je&&300>ge()-DA?(an&2)===0&&Lf(a,0):PA|=h,Mf===je&&(Mf=0)),$a(a)}function yM(a,l){l===0&&(l=tg()),a=yf(a,l),a!==null&&(No(a,l),$a(a))}function Lj(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),yM(a,h)}function Nj(a,l){var h=0;switch(a.tag){case 13:var p=a.stateNode,_=a.memoizedState;_!==null&&(h=_.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(l),yM(a,h)}function Fj(a,l){return jt(a,l)}var p_=null,Ff=null,jA=!1,m_=!1,UA=!1,gh=0;function $a(a){a!==Ff&&a.next===null&&(Ff===null?p_=Ff=a:Ff=Ff.next=a),m_=!0,jA||(jA=!0,zj())}function qg(a,l){if(!UA&&m_){UA=!0;do for(var h=!1,p=p_;p!==null;){if(a!==0){var _=p.pendingLanes;if(_===0)var S=0;else{var z=p.suspendedLanes,W=p.pingedLanes;S=(1<<31-Vt(42|a)+1)-1,S&=_&~(z&~W),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,EM(p,S))}else S=je,S=ce(p,p===An?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||qe(p,S)||(h=!0,EM(p,S));p=p.next}while(h);UA=!1}}function Vj(){vM()}function vM(){m_=jA=!1;var a=0;gh!==0&&(Wj()&&(a=gh),gh=0);for(var l=ge(),h=null,p=p_;p!==null;){var _=p.next,S=bM(p,l);S===0?(p.next=null,h===null?p_=_:h.next=_,_===null&&(Ff=h)):(h=p,(a!==0||(S&3)!==0)&&(m_=!0)),p=_}qg(a)}function bM(a,l){for(var h=a.suspendedLanes,p=a.pingedLanes,_=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var z=31-Vt(S),W=1<<z,Q=_[z];Q===-1?((W&h)===0||(W&p)!==0)&&(_[z]=$n(W,l)):Q<=l&&(a.expiredLanes|=W),S&=~W}if(l=An,h=je,h=ce(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===l&&(on===2||on===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Lt(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||qe(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(p!==null&&Lt(p),Zd(h)){case 2:case 8:h=$e;break;case 32:h=Ee;break;case 268435456:h=Qn;break;default:h=Ee}return p=_M.bind(null,a),h=jt(h,p),a.callbackPriority=l,a.callbackNode=h,l}return p!==null&&p!==null&&Lt(p),a.callbackPriority=2,a.callbackNode=null,2}function _M(a,l){if(Gi!==0&&Gi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(f_()&&a.callbackNode!==h)return null;var p=je;return p=ce(a,a===An?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(nM(a,p,l),bM(a,ge()),a.callbackNode!=null&&a.callbackNode===h?_M.bind(null,a):null)}function EM(a,l){if(f_())return null;nM(a,l,!0)}function zj(){Yj(function(){(an&6)!==0?jt(He,Vj):vM()})}function HA(){return gh===0&&(gh=ic()),gh}function SM(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:sf(""+a)}function wM(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function Bj(a,l,h,p,_){if(l==="submit"&&h&&h.stateNode===_){var S=SM((_[si]||null).action),z=p.submitter;z&&(l=(l=z[si]||null)?SM(l.formAction):z.getAttribute("formAction"),l!==null&&(S=l,z=null));var W=new af("action","action",null,p,_);a.push({event:W,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(gh!==0){var Q=z?wM(_,z):new FormData(_);cA(h,{pending:!0,data:Q,method:_.method,action:S},null,Q)}}else typeof S=="function"&&(W.preventDefault(),Q=z?wM(_,z):new FormData(_),cA(h,{pending:!0,data:Q,method:_.method,action:S},S,Q))},currentTarget:_}]})}}for(var $A=0;$A<R1.length;$A++){var qA=R1[$A],jj=qA.toLowerCase(),Uj=qA[0].toUpperCase()+qA.slice(1);ia(jj,"on"+Uj)}ia(n2,"onAnimationEnd"),ia(i2,"onAnimationIteration"),ia(r2,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(sj,"onTransitionRun"),ia(aj,"onTransitionStart"),ia(oj,"onTransitionCancel"),ia(s2,"onTransitionEnd"),Vo("onMouseEnter",["mouseout","mouseover"]),Vo("onMouseLeave",["mouseout","mouseover"]),Vo("onPointerEnter",["pointerout","pointerover"]),Vo("onPointerLeave",["pointerout","pointerover"]),ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gg));function AM(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],_=p.event;p=p.listeners;t:{var S=void 0;if(l)for(var z=p.length-1;0<=z;z--){var W=p[z],Q=W.instance,ot=W.currentTarget;if(W=W.listener,Q!==S&&_.isPropagationStopped())break t;S=W,_.currentTarget=ot;try{S(_)}catch(gt){n_(gt)}_.currentTarget=null,S=Q}else for(z=0;z<p.length;z++){if(W=p[z],Q=W.instance,ot=W.currentTarget,W=W.listener,Q!==S&&_.isPropagationStopped())break t;S=W,_.currentTarget=ot;try{S(_)}catch(gt){n_(gt)}_.currentTarget=null,S=Q}}}}function Me(a,l){var h=l[ig];h===void 0&&(h=l[ig]=new Set);var p=a+"__bubble";h.has(p)||(xM(l,a,2,!1),h.add(p))}function GA(a,l,h){var p=0;l&&(p|=4),xM(h,a,p,l)}var g_="_reactListening"+Math.random().toString(36).slice(2);function WA(a){if(!a[g_]){a[g_]=!0,rg.forEach(function(h){h!=="selectionchange"&&(Hj.has(h)||GA(h,!1,a),GA(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[g_]||(l[g_]=!0,GA("selectionchange",!1,l))}}function xM(a,l,h,p){switch(YM(l)){case 2:var _=gU;break;case 8:_=yU;break;default:_=ox}h=_.bind(null,l,h,a),_=void 0,!Ts||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),p?_!==void 0?a.addEventListener(l,h,{capture:!0,passive:_}):a.addEventListener(l,h,!0):_!==void 0?a.addEventListener(l,h,{passive:_}):a.addEventListener(l,h,!1)}function KA(a,l,h,p,_){var S=p;if((l&1)===0&&(l&2)===0&&p!==null)t:for(;;){if(p===null)return;var z=p.tag;if(z===3||z===4){var W=p.stateNode.containerInfo;if(W===_)break;if(z===4)for(z=p.return;z!==null;){var Q=z.tag;if((Q===3||Q===4)&&z.stateNode.containerInfo===_)return;z=z.return}for(;W!==null;){if(z=Fo(W),z===null)return;if(Q=z.tag,Q===5||Q===6||Q===26||Q===27){p=S=z;continue t}W=W.parentNode}}p=p.return}v0(function(){var ot=S,gt=xs(h),bt=[];t:{var lt=a2.get(a);if(lt!==void 0){var ht=af,ae=a;switch(a){case"keypress":if(La(h)===0)break t;case"keydown":case"keyup":ht=df;break;case"focusin":ae="focus",ht=cf;break;case"focusout":ae="blur",ht=cf;break;case"beforeblur":case"afterblur":ht=cf;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=_1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=T0;break;case n2:case i2:case r2:ht=uf;break;case s2:ht=R0;break;case"scroll":case"scrollend":ht=b0;break;case"wheel":ht=ff;break;case"copy":case"cut":case"paste":ht=hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=gg;break;case"toggle":case"beforetoggle":ht=k0}var ne=(l&4)!==0,gn=!ne&&(a==="scroll"||a==="scrollend"),nt=ne?lt!==null?lt+"Capture":null:lt;ne=[];for(var et=ot,at;et!==null;){var vt=et;if(at=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||at===null||nt===null||(vt=Yu(et,nt),vt!=null&&ne.push(Wg(et,vt,at))),gn)break;et=et.return}0<ne.length&&(lt=new ht(lt,ae,null,h,gt),bt.push({event:lt,listeners:ne}))}}if((l&7)===0){t:{if(lt=a==="mouseover"||a==="pointerover",ht=a==="mouseout"||a==="pointerout",lt&&h!==jo&&(ae=h.relatedTarget||h.fromElement)&&(Fo(ae)||ae[ws]))break t;if((ht||lt)&&(lt=gt.window===gt?gt:(lt=gt.ownerDocument)?lt.defaultView||lt.parentWindow:window,ht?(ae=h.relatedTarget||h.toElement,ht=ot,ae=ae?Fo(ae):null,ae!==null&&(gn=s(ae),ne=ae.tag,ae!==gn||ne!==5&&ne!==27&&ne!==6)&&(ae=null)):(ht=null,ae=ot),ht!==ae)){if(ne=Cs,vt="onMouseLeave",nt="onMouseEnter",et="mouse",(a==="pointerout"||a==="pointerover")&&(ne=gg,vt="onPointerLeave",nt="onPointerEnter",et="pointer"),gn=ht==null?lt:Pa(ht),at=ae==null?lt:Pa(ae),lt=new ne(vt,et+"leave",ht,h,gt),lt.target=gn,lt.relatedTarget=at,vt=null,Fo(gt)===ot&&(ne=new ne(nt,et+"enter",ae,h,gt),ne.target=at,ne.relatedTarget=gn,vt=ne),gn=vt,ht&&ae)e:{for(ne=ht,nt=ae,et=0,at=ne;at;at=Vf(at))et++;for(at=0,vt=nt;vt;vt=Vf(vt))at++;for(;0<et-at;)ne=Vf(ne),et--;for(;0<at-et;)nt=Vf(nt),at--;for(;et--;){if(ne===nt||nt!==null&&ne===nt.alternate)break e;ne=Vf(ne),nt=Vf(nt)}ne=null}else ne=null;ht!==null&&TM(bt,lt,ht,ne,!1),ae!==null&&gn!==null&&TM(bt,gn,ae,ne,!0)}}t:{if(lt=ot?Pa(ot):window,ht=lt.nodeName&&lt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&lt.type==="file")var Ht=qk;else if(_i(lt))if(Gk)Ht=nj;else{Ht=tj;var Re=JB}else ht=lt.nodeName,!ht||ht.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?ot&&cg(ot.elementType)&&(Ht=qk):Ht=ej;if(Ht&&(Ht=Ht(a,ot))){Go(bt,Ht,h,gt);break t}Re&&Re(a,lt,ot),a==="focusout"&&ot&&lt.type==="number"&&ot.memoizedProps.value!=null&&cc(lt,"number",lt.value)}switch(Re=ot?Pa(ot):window,a){case"focusin":(_i(Re)||Re.contentEditable==="true")&&(pf=Re,x1=ot,bg=null);break;case"focusout":bg=x1=pf=null;break;case"mousedown":T1=!0;break;case"contextmenu":case"mouseup":case"dragend":T1=!1,t2(bt,h,gt);break;case"selectionchange":if(rj)break;case"keydown":case"keyup":t2(bt,h,gt)}var Xt;if(Va)t:{switch(a){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else ze?ft(a,h)&&(ie="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ie="onCompositionStart");ie&&(L&&h.locale!=="ko"&&(ze||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ze&&(Xt=hg()):(Oa=gt,uc="value"in Oa?Oa.value:Oa.textContent,ze=!0)),Re=y_(ot,ie),0<Re.length&&(ie=new pg(ie,a,null,h,gt),bt.push({event:ie,listeners:Re}),Xt?ie.data=Xt:(Xt=Rt(h),Xt!==null&&(ie.data=Xt)))),(Xt=C?bi(a,h):Be(a,h))&&(ie=y_(ot,"onBeforeInput"),0<ie.length&&(Re=new pg("onBeforeInput","beforeinput",null,h,gt),bt.push({event:Re,listeners:ie}),Re.data=Xt)),Bj(bt,a,ot,h,gt)}AM(bt,l)})}function Wg(a,l,h){return{instance:a,listener:l,currentTarget:h}}function y_(a,l){for(var h=l+"Capture",p=[];a!==null;){var _=a,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=Yu(a,h),_!=null&&p.unshift(Wg(a,_,S)),_=Yu(a,l),_!=null&&p.push(Wg(a,_,S))),a.tag===3)return p;a=a.return}return[]}function Vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function TM(a,l,h,p,_){for(var S=l._reactName,z=[];h!==null&&h!==p;){var W=h,Q=W.alternate,ot=W.stateNode;if(W=W.tag,Q!==null&&Q===p)break;W!==5&&W!==26&&W!==27||ot===null||(Q=ot,_?(ot=Yu(h,S),ot!=null&&z.unshift(Wg(h,ot,Q))):_||(ot=Yu(h,S),ot!=null&&z.push(Wg(h,ot,Q)))),h=h.return}z.length!==0&&a.push({event:l,listeners:z})}var $j=/\r\n?/g,qj=/\u0000|\uFFFD/g;function CM(a){return(typeof a=="string"?a:""+a).replace($j,`
`).replace(qj,"")}function RM(a,l){return l=CM(l),CM(a)===l}function v_(){}function mn(a,l,h,p,_,S){switch(h){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||As(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&As(a,""+p);break;case"className":Ma(a,"class",p);break;case"tabIndex":Ma(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(a,h,p);break;case"style":lg(a,p,S);break;case"data":if(l!=="object"){Ma(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=sf(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(l!=="input"&&mn(a,l,"name",_.name,_,null),mn(a,l,"formEncType",_.formEncType,_,null),mn(a,l,"formMethod",_.formMethod,_,null),mn(a,l,"formTarget",_.formTarget,_,null)):(mn(a,l,"encType",_.encType,_,null),mn(a,l,"method",_.method,_,null),mn(a,l,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=sf(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=v_);break;case"onScroll":p!=null&&Me("scroll",a);break;case"onScrollEnd":p!=null&&Me("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(_.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=sf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":Me("beforetoggle",a),Me("toggle",a),lc(a,"popover",p);break;case"xlinkActuate":Hi(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Hi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Hi(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Hi(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Hi(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Hi(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Hi(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Hi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Hi(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":lc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=v1.get(h)||h,lc(a,h,p))}}function YA(a,l,h,p,_,S){switch(h){case"style":lg(a,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(_.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof p=="string"?As(a,p):(typeof p=="number"||typeof p=="bigint")&&As(a,""+p);break;case"onScroll":p!=null&&Me("scroll",a);break;case"onScrollEnd":p!=null&&Me("scrollend",a);break;case"onClick":p!=null&&(a.onclick=v_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),l=h.slice(2,_?h.length-7:void 0),S=a[si]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(l,S,_),typeof p=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,p,_);break t}h in a?a[h]=p:p===!0?a.setAttribute(h,""):lc(a,h,p)}}}function Wi(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",a),Me("load",a);var p=!1,_=!1,S;for(S in h)if(h.hasOwnProperty(S)){var z=h[S];if(z!=null)switch(S){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:mn(a,l,S,z,h,null)}}_&&mn(a,l,"srcSet",h.srcSet,h,null),p&&mn(a,l,"src",h.src,h,null);return;case"input":Me("invalid",a);var W=S=z=_=null,Q=null,ot=null;for(p in h)if(h.hasOwnProperty(p)){var gt=h[p];if(gt!=null)switch(p){case"name":_=gt;break;case"type":z=gt;break;case"checked":Q=gt;break;case"defaultChecked":ot=gt;break;case"value":S=gt;break;case"defaultValue":W=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(i(137,l));break;default:mn(a,l,p,gt,h,null)}}Gu(a,S,W,Q,ot,z,_,!1),rf(a);return;case"select":Me("invalid",a),p=z=S=null;for(_ in h)if(h.hasOwnProperty(_)&&(W=h[_],W!=null))switch(_){case"value":S=W;break;case"defaultValue":z=W;break;case"multiple":p=W;default:mn(a,l,_,W,h,null)}l=S,h=z,a.multiple=!!p,l!=null?Bo(a,!!p,l,!1):h!=null&&Bo(a,!!p,h,!0);return;case"textarea":Me("invalid",a),S=_=p=null;for(z in h)if(h.hasOwnProperty(z)&&(W=h[z],W!=null))switch(z){case"value":p=W;break;case"defaultValue":_=W;break;case"children":S=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:mn(a,l,z,W,h,null)}Wu(a,p,_,S),rf(a);return;case"option":for(Q in h)if(h.hasOwnProperty(Q)&&(p=h[Q],p!=null))switch(Q){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:mn(a,l,Q,p,h,null)}return;case"dialog":Me("beforetoggle",a),Me("toggle",a),Me("cancel",a),Me("close",a);break;case"iframe":case"object":Me("load",a);break;case"video":case"audio":for(p=0;p<Gg.length;p++)Me(Gg[p],a);break;case"image":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"embed":case"source":case"link":Me("error",a),Me("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in h)if(h.hasOwnProperty(ot)&&(p=h[ot],p!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:mn(a,l,ot,p,h,null)}return;default:if(cg(l)){for(gt in h)h.hasOwnProperty(gt)&&(p=h[gt],p!==void 0&&YA(a,l,gt,p,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(p=h[W],p!=null&&mn(a,l,W,p,h,null))}function Gj(a,l,h,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,z=null,W=null,Q=null,ot=null,gt=null;for(ht in h){var bt=h[ht];if(h.hasOwnProperty(ht)&&bt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Q=bt;default:p.hasOwnProperty(ht)||mn(a,l,ht,null,p,bt)}}for(var lt in p){var ht=p[lt];if(bt=h[lt],p.hasOwnProperty(lt)&&(ht!=null||bt!=null))switch(lt){case"type":S=ht;break;case"name":_=ht;break;case"checked":ot=ht;break;case"defaultChecked":gt=ht;break;case"value":z=ht;break;case"defaultValue":W=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,l));break;default:ht!==bt&&mn(a,l,lt,ht,p,bt)}}Yr(a,z,W,Q,ot,gt,S,_);return;case"select":ht=z=W=lt=null;for(S in h)if(Q=h[S],h.hasOwnProperty(S)&&Q!=null)switch(S){case"value":break;case"multiple":ht=Q;default:p.hasOwnProperty(S)||mn(a,l,S,null,p,Q)}for(_ in p)if(S=p[_],Q=h[_],p.hasOwnProperty(_)&&(S!=null||Q!=null))switch(_){case"value":lt=S;break;case"defaultValue":W=S;break;case"multiple":z=S;default:S!==Q&&mn(a,l,_,S,p,Q)}l=W,h=z,p=ht,lt!=null?Bo(a,!!h,lt,!1):!!p!=!!h&&(l!=null?Bo(a,!!h,l,!0):Bo(a,!!h,h?[]:"",!1));return;case"textarea":ht=lt=null;for(W in h)if(_=h[W],h.hasOwnProperty(W)&&_!=null&&!p.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:mn(a,l,W,null,p,_)}for(z in p)if(_=p[z],S=h[z],p.hasOwnProperty(z)&&(_!=null||S!=null))switch(z){case"value":lt=_;break;case"defaultValue":ht=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==S&&mn(a,l,z,_,p,S)}fn(a,lt,ht);return;case"option":for(var ae in h)if(lt=h[ae],h.hasOwnProperty(ae)&&lt!=null&&!p.hasOwnProperty(ae))switch(ae){case"selected":a.selected=!1;break;default:mn(a,l,ae,null,p,lt)}for(Q in p)if(lt=p[Q],ht=h[Q],p.hasOwnProperty(Q)&&lt!==ht&&(lt!=null||ht!=null))switch(Q){case"selected":a.selected=lt&&typeof lt!="function"&&typeof lt!="symbol";break;default:mn(a,l,Q,lt,p,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in h)lt=h[ne],h.hasOwnProperty(ne)&&lt!=null&&!p.hasOwnProperty(ne)&&mn(a,l,ne,null,p,lt);for(ot in p)if(lt=p[ot],ht=h[ot],p.hasOwnProperty(ot)&&lt!==ht&&(lt!=null||ht!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,l));break;default:mn(a,l,ot,lt,p,ht)}return;default:if(cg(l)){for(var gn in h)lt=h[gn],h.hasOwnProperty(gn)&&lt!==void 0&&!p.hasOwnProperty(gn)&&YA(a,l,gn,void 0,p,lt);for(gt in p)lt=p[gt],ht=h[gt],!p.hasOwnProperty(gt)||lt===ht||lt===void 0&&ht===void 0||YA(a,l,gt,lt,p,ht);return}}for(var nt in h)lt=h[nt],h.hasOwnProperty(nt)&&lt!=null&&!p.hasOwnProperty(nt)&&mn(a,l,nt,null,p,lt);for(bt in p)lt=p[bt],ht=h[bt],!p.hasOwnProperty(bt)||lt===ht||lt==null&&ht==null||mn(a,l,bt,lt,p,ht)}var XA=null,QA=null;function b_(a){return a.nodeType===9?a:a.ownerDocument}function IM(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kM(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function ZA(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var JA=null;function Wj(){var a=window.event;return a&&a.type==="popstate"?a===JA?!1:(JA=a,!0):(JA=null,!1)}var PM=typeof setTimeout=="function"?setTimeout:void 0,Kj=typeof clearTimeout=="function"?clearTimeout:void 0,MM=typeof Promise=="function"?Promise:void 0,Yj=typeof queueMicrotask=="function"?queueMicrotask:typeof MM<"u"?function(a){return MM.resolve(null).then(a).catch(Xj)}:PM;function Xj(a){setTimeout(function(){throw a})}function Tc(a){return a==="head"}function DM(a,l){var h=l,p=0,_=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<p&&8>p){h=p;var z=a.ownerDocument;if(h&1&&Kg(z.documentElement),h&2&&Kg(z.body),h&4)for(h=z.head,Kg(h),z=h.firstChild;z;){var W=z.nextSibling,Q=z.nodeName;z[Uu]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&z.rel.toLowerCase()==="stylesheet"||h.removeChild(z),z=W}}if(_===0){a.removeChild(S),ny(l);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:p=h.charCodeAt(0)-48;else p=0;h=S}while(h);ny(l)}function tx(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":tx(h),oc(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function Qj(a,l,h,p){for(;a.nodeType===1;){var _=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Uu])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=sa(a.nextSibling),a===null)break}return null}function Zj(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=sa(a.nextSibling),a===null))return null;return a}function ex(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Jj(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var p=function(){l(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function sa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var nx=null;function OM(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function LM(a,l,h){switch(l=b_(h),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Kg(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);oc(a)}var Os=new Map,NM=new Set;function __(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var sl=Z.d;Z.d={f:tU,r:eU,D:nU,C:iU,L:rU,m:sU,X:oU,S:aU,M:lU};function tU(){var a=sl.f(),l=h_();return a||l}function eU(a){var l=ka(a);l!==null&&l.tag===5&&l.type==="form"?nP(l):sl.r(a)}var zf=typeof document>"u"?null:document;function FM(a,l,h){var p=zf;if(p&&typeof l=="string"&&l){var _=ai(l);_='link[rel="'+a+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),NM.has(_)||(NM.add(_),a={rel:a,crossOrigin:h,href:l},p.querySelector(_)===null&&(l=p.createElement("link"),Wi(l,"link",a),Zn(l),p.head.appendChild(l)))}}function nU(a){sl.D(a),FM("dns-prefetch",a,null)}function iU(a,l){sl.C(a,l),FM("preconnect",a,l)}function rU(a,l,h){sl.L(a,l,h);var p=zf;if(p&&a&&l){var _='link[rel="preload"][as="'+ai(l)+'"]';l==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+ai(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+ai(h.imageSizes)+'"]')):_+='[href="'+ai(a)+'"]';var S=_;switch(l){case"style":S=Bf(a);break;case"script":S=jf(a)}Os.has(S)||(a=f({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Os.set(S,a),p.querySelector(_)!==null||l==="style"&&p.querySelector(Yg(S))||l==="script"&&p.querySelector(Xg(S))||(l=p.createElement("link"),Wi(l,"link",a),Zn(l),p.head.appendChild(l)))}}function sU(a,l){sl.m(a,l);var h=zf;if(h&&a){var p=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+ai(p)+'"][href="'+ai(a)+'"]',S=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=jf(a)}if(!Os.has(S)&&(a=f({rel:"modulepreload",href:a},l),Os.set(S,a),h.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Xg(S)))return}p=h.createElement("link"),Wi(p,"link",a),Zn(p),h.head.appendChild(p)}}}function aU(a,l,h){sl.S(a,l,h);var p=zf;if(p&&a){var _=Er(p).hoistableStyles,S=Bf(a);l=l||"default";var z=_.get(S);if(!z){var W={loading:0,preload:null};if(z=p.querySelector(Yg(S)))W.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Os.get(S))&&ix(a,h);var Q=z=p.createElement("link");Zn(Q),Wi(Q,"link",a),Q._p=new Promise(function(ot,gt){Q.onload=ot,Q.onerror=gt}),Q.addEventListener("load",function(){W.loading|=1}),Q.addEventListener("error",function(){W.loading|=2}),W.loading|=4,E_(z,l,p)}z={type:"stylesheet",instance:z,count:1,state:W},_.set(S,z)}}}function oU(a,l){sl.X(a,l);var h=zf;if(h&&a){var p=Er(h).hoistableScripts,_=jf(a),S=p.get(_);S||(S=h.querySelector(Xg(_)),S||(a=f({src:a,async:!0},l),(l=Os.get(_))&&rx(a,l),S=h.createElement("script"),Zn(S),Wi(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function lU(a,l){sl.M(a,l);var h=zf;if(h&&a){var p=Er(h).hoistableScripts,_=jf(a),S=p.get(_);S||(S=h.querySelector(Xg(_)),S||(a=f({src:a,async:!0,type:"module"},l),(l=Os.get(_))&&rx(a,l),S=h.createElement("script"),Zn(S),Wi(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function VM(a,l,h,p){var _=(_=wt.current)?__(_):null;if(!_)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Bf(h.href),h=Er(_).hoistableStyles,p=h.get(l),p||(p={type:"style",instance:null,count:0,state:null},h.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Bf(h.href);var S=Er(_).hoistableStyles,z=S.get(a);if(z||(_=_.ownerDocument||_,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,z),(S=_.querySelector(Yg(a)))&&!S._p&&(z.instance=S,z.state.loading=5),Os.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Os.set(a,h),S||cU(_,a,h,z.state))),l&&p===null)throw Error(i(528,""));return z}if(l&&p!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=jf(h),h=Er(_).hoistableScripts,p=h.get(l),p||(p={type:"script",instance:null,count:0,state:null},h.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Bf(a){return'href="'+ai(a)+'"'}function Yg(a){return'link[rel="stylesheet"]['+a+"]"}function zM(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function cU(a,l,h,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Wi(l,"link",h),Zn(l),a.head.appendChild(l))}function jf(a){return'[src="'+ai(a)+'"]'}function Xg(a){return"script[async]"+a}function BM(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+ai(h.href)+'"]');if(p)return l.instance=p,Zn(p),p;var _=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Zn(p),Wi(p,"style",_),E_(p,h.precedence,a),l.instance=p;case"stylesheet":_=Bf(h.href);var S=a.querySelector(Yg(_));if(S)return l.state.loading|=4,l.instance=S,Zn(S),S;p=zM(h),(_=Os.get(_))&&ix(p,_),S=(a.ownerDocument||a).createElement("link"),Zn(S);var z=S;return z._p=new Promise(function(W,Q){z.onload=W,z.onerror=Q}),Wi(S,"link",p),l.state.loading|=4,E_(S,h.precedence,a),l.instance=S;case"script":return S=jf(h.src),(_=a.querySelector(Xg(S)))?(l.instance=_,Zn(_),_):(p=h,(_=Os.get(S))&&(p=f({},h),rx(p,_)),a=a.ownerDocument||a,_=a.createElement("script"),Zn(_),Wi(_,"link",p),a.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,E_(p,h.precedence,a));return l.instance}function E_(a,l,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,S=_,z=0;z<p.length;z++){var W=p[z];if(W.dataset.precedence===l)S=W;else if(S!==_)break}S?S.parentNode.insertBefore(a,S.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function ix(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function rx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var S_=null;function jM(a,l,h){if(S_===null){var p=new Map,_=S_=new Map;_.set(h,p)}else _=S_,p=_.get(h),p||(p=new Map,_.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),_=0;_<h.length;_++){var S=h[_];if(!(S[Uu]||S[vi]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var z=S.getAttribute(l)||"";z=a+z;var W=p.get(z);W?W.push(S):p.set(z,[S])}}return p}function UM(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function uU(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function HM(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Qg=null;function hU(){}function dU(a,l,h){if(Qg===null)throw Error(i(475));var p=Qg;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=Bf(h.href),S=a.querySelector(Yg(_));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(p.count++,p=w_.bind(p),a.then(p,p)),l.state.loading|=4,l.instance=S,Zn(S);return}S=a.ownerDocument||a,h=zM(h),(_=Os.get(_))&&ix(h,_),S=S.createElement("link"),Zn(S);var z=S;z._p=new Promise(function(W,Q){z.onload=W,z.onerror=Q}),Wi(S,"link",h),l.instance=S}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=w_.bind(p),a.addEventListener("load",l),a.addEventListener("error",l))}}function fU(){if(Qg===null)throw Error(i(475));var a=Qg;return a.stylesheets&&a.count===0&&sx(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&sx(a,a.stylesheets),a.unsuspend){var p=a.unsuspend;a.unsuspend=null,p()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function w_(){if(this.count--,this.count===0){if(this.stylesheets)sx(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var A_=null;function sx(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,A_=new Map,l.forEach(pU,a),A_=null,w_.call(a))}function pU(a,l){if(!(l.state.loading&4)){var h=A_.get(a);if(h)var p=h.get(null);else{h=new Map,A_.set(a,h);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var z=_[S];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),p=z)}p&&h.set(null,p)}_=l.instance,z=_.getAttribute("data-precedence"),S=h.get(z)||p,S===p&&h.set(null,_),h.set(z,_),this.count++,p=w_.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),S?S.parentNode.insertBefore(_,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),l.state.loading|=4}}var Zg={$$typeof:k,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function mU(a,l,h,p,_,S,z,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.hiddenUpdates=Lo(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function $M(a,l,h,p,_,S,z,W,Q,ot,gt,bt){return a=new mU(a,l,h,z,W,Q,ot,bt),l=1,S===!0&&(l|=24),S=Qr(3,null,null,l),a.current=S,S.stateNode=a,l=B1(),l.refCount++,a.pooledCache=l,l.refCount++,S.memoizedState={element:p,isDehydrated:h,cache:l},$1(S),a}function qM(a){return a?(a=vf,a):vf}function GM(a,l,h,p,_,S){_=qM(_),p.context===null?p.context=_:p.pendingContext=_,p=fc(l),p.payload={element:h},S=S===void 0?null:S,S!==null&&(p.callback=S),h=pc(a,p,l),h!==null&&(ns(h,a,l),Rg(h,a,l))}function WM(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function ax(a,l){WM(a,l),(a=a.alternate)&&WM(a,l)}function KM(a){if(a.tag===13){var l=yf(a,67108864);l!==null&&ns(l,a,67108864),ax(a,67108864)}}var x_=!0;function gU(a,l,h,p){var _=X.T;X.T=null;var S=Z.p;try{Z.p=2,ox(a,l,h,p)}finally{Z.p=S,X.T=_}}function yU(a,l,h,p){var _=X.T;X.T=null;var S=Z.p;try{Z.p=8,ox(a,l,h,p)}finally{Z.p=S,X.T=_}}function ox(a,l,h,p){if(x_){var _=lx(p);if(_===null)KA(a,l,p,T_,h),XM(a,p);else if(bU(_,a,l,h,p))p.stopPropagation();else if(XM(a,p),l&4&&-1<vU.indexOf(a)){for(;_!==null;){var S=ka(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var z=Nt(S.pendingLanes);if(z!==0){var W=S;for(W.pendingLanes|=2,W.entangledLanes|=2;z;){var Q=1<<31-Vt(z);W.entanglements[1]|=Q,z&=~Q}$a(S),(an&6)===0&&(c_=ge()+500,qg(0))}}break;case 13:W=yf(S,2),W!==null&&ns(W,S,2),h_(),ax(S,2)}if(S=lx(p),S===null&&KA(a,l,p,T_,h),S===_)break;_=S}_!==null&&p.stopPropagation()}else KA(a,l,p,null,h)}}function lx(a){return a=xs(a),cx(a)}var T_=null;function cx(a){if(T_=null,a=Fo(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return T_=a,null}function YM(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case He:return 2;case $e:return 8;case Ee:case Ut:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var ux=!1,Cc=null,Rc=null,Ic=null,Jg=new Map,ty=new Map,kc=[],vU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XM(a,l){switch(a){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Ic=null;break;case"pointerover":case"pointerout":Jg.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ty.delete(l.pointerId)}}function ey(a,l,h,p,_,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:S,targetContainers:[_]},l!==null&&(l=ka(l),l!==null&&KM(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),a)}function bU(a,l,h,p,_){switch(l){case"focusin":return Cc=ey(Cc,a,l,h,p,_),!0;case"dragenter":return Rc=ey(Rc,a,l,h,p,_),!0;case"mouseover":return Ic=ey(Ic,a,l,h,p,_),!0;case"pointerover":var S=_.pointerId;return Jg.set(S,ey(Jg.get(S)||null,a,l,h,p,_)),!0;case"gotpointercapture":return S=_.pointerId,ty.set(S,ey(ty.get(S)||null,a,l,h,p,_)),!0}return!1}function QM(a){var l=Fo(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,h0(a.priority,function(){if(h.tag===13){var p=es();p=rc(p);var _=yf(h,p);_!==null&&ns(_,h,p),ax(h,p)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function C_(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=lx(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);jo=p,h.target.dispatchEvent(p),jo=null}else return l=ka(h),l!==null&&KM(l),a.blockedOn=h,!1;l.shift()}return!0}function ZM(a,l,h){C_(a)&&h.delete(l)}function _U(){ux=!1,Cc!==null&&C_(Cc)&&(Cc=null),Rc!==null&&C_(Rc)&&(Rc=null),Ic!==null&&C_(Ic)&&(Ic=null),Jg.forEach(ZM),ty.forEach(ZM)}function R_(a,l){a.blockedOn===l&&(a.blockedOn=null,ux||(ux=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_U)))}var I_=null;function JM(a){I_!==a&&(I_=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){I_===a&&(I_=null);for(var l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],_=a[l+2];if(typeof p!="function"){if(cx(p||h)===null)continue;break}var S=ka(h);S!==null&&(a.splice(l,3),l-=3,cA(S,{pending:!0,data:_,method:h.method,action:p},p,_))}}))}function ny(a){function l(Q){return R_(Q,a)}Cc!==null&&R_(Cc,a),Rc!==null&&R_(Rc,a),Ic!==null&&R_(Ic,a),Jg.forEach(l),ty.forEach(l);for(var h=0;h<kc.length;h++){var p=kc[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<kc.length&&(h=kc[0],h.blockedOn===null);)QM(h),h.blockedOn===null&&kc.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var _=h[p],S=h[p+1],z=_[si]||null;if(typeof S=="function")z||JM(h);else if(z){var W=null;if(S&&S.hasAttribute("formAction")){if(_=S,z=S[si]||null)W=z.formAction;else if(cx(_)!==null)continue}else W=z.action;typeof W=="function"?h[p+1]=W:(h.splice(p,3),p-=3),JM(h)}}}function hx(a){this._internalRoot=a}k_.prototype.render=hx.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,p=es();GM(h,p,a,l,null,null)},k_.prototype.unmount=hx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;GM(a.current,2,null,a,null,null),h_(),l[ws]=null}};function k_(a){this._internalRoot=a}k_.prototype.unstable_scheduleHydration=function(a){if(a){var l=sc();a={blockedOn:null,target:a,priority:l};for(var h=0;h<kc.length&&l!==0&&l<kc[h].priority;h++);kc.splice(h,0,a),h===0&&QM(a)}};var tD=t.version;if(tD!=="19.1.0")throw Error(i(527,tD,"19.1.0"));Z.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var EU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var P_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!P_.isDisabled&&P_.supportsFiber)try{ct=P_.inject(EU),mt=P_}catch{}}return ry.createRoot=function(a,l){if(!r(a))throw Error(i(299));var h=!1,p="",_=gP,S=yP,z=vP,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(W=l.unstable_transitionCallbacks)),l=$M(a,1,!1,null,null,h,p,_,S,z,W,null),a[ws]=l.current,WA(a),new hx(l)},ry.hydrateRoot=function(a,l,h){if(!r(a))throw Error(i(299));var p=!1,_="",S=gP,z=yP,W=vP,Q=null,ot=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Q=h.unstable_transitionCallbacks),h.formState!==void 0&&(ot=h.formState)),l=$M(a,1,!0,l,h??null,p,_,S,z,W,Q,ot),l.context=qM(null),h=l.current,p=es(),p=rc(p),_=fc(p),_.callback=null,pc(h,_,p),h=p,l.current.lanes=h,No(l,h),$a(l),a[ws]=l.current,WA(a),new k_(l)},ry.version="19.1.0",ry}var hD;function DU(){if(hD)return mx.exports;hD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),mx.exports=MU(),mx.exports}var OU=DU(),sy={},dD;function LU(){if(dD)return sy;dD=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.parse=o,sy.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function o(y,b){const E=new s,w=y.length;if(w<2)return E;const T=(b==null?void 0:b.decode)||f;let A=0;do{const O=y.indexOf("=",A);if(O===-1)break;const k=y.indexOf(";",A),P=k===-1?w:k;if(O>P){A=y.lastIndexOf(";",O-1)+1;continue}const F=c(y,A,O),j=u(y,O,F),D=y.slice(F,j);if(E[D]===void 0){let I=c(y,O+1,P),V=u(y,P,I);const x=T(y.slice(I,V));E[D]=x}A=P+1}while(A<w);return E}function c(y,b,E){do{const w=y.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<E);return E}function u(y,b,E){for(;b>E;){const w=y.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return E}function d(y,b,E){const w=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=w(b);if(!t.test(T))throw new TypeError(`argument val is invalid: ${b}`);let A=y+"="+T;if(!E)return A;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);A+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);A+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);A+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);A+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(A+="; HttpOnly"),E.secure&&(A+="; Secure"),E.partitioned&&(A+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return A}function f(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return r.call(y)==="[object Date]"}return sy}LU();var fD="popstate";function NU(n={}){function t(i,r){let{pathname:s,search:o,hash:c}=i.location;return mT("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:nv(r)}return VU(t,e,null,n)}function jn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function To(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FU(){return Math.random().toString(36).substring(2,10)}function pD(n,t){return{usr:n.state,key:n.key,idx:t}}function mT(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?zm(t):t,state:e,key:t&&t.key||i||FU()}}function nv({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function zm(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function VU(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,c="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){c="POP";let T=f(),A=T==null?null:T-d;d=T,u&&u({action:c,location:w.location,delta:A})}function y(T,A){c="PUSH";let O=mT(w.location,T,A);d=f()+1;let k=pD(O,d),P=w.createHref(O);try{o.pushState(k,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(P)}s&&u&&u({action:c,location:w.location,delta:1})}function b(T,A){c="REPLACE";let O=mT(w.location,T,A);d=f();let k=pD(O,d),P=w.createHref(O);o.replaceState(k,"",P),s&&u&&u({action:c,location:w.location,delta:0})}function E(T){return zU(T)}let w={get action(){return c},get location(){return n(r,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(fD,m),u=T,()=>{r.removeEventListener(fD,m),u=null}},createHref(T){return t(r,T)},createURL:E,encodeLocation(T){let A=E(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(T){return o.go(T)}};return w}function zU(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),jn(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:nv(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function qF(n,t,e="/"){return BU(n,t,e,!1)}function BU(n,t,e,i){let r=typeof t=="string"?zm(t):t,s=Gl(r.pathname||"/",e);if(s==null)return null;let o=GF(n);jU(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=ZU(s);c=XU(o[u],d,i)}return c}function GF(n,t=[],e=[],i=""){let r=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(jn(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let d=jl([i,u.relativePath]),f=e.concat(u);s.children&&s.children.length>0&&(jn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),GF(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:KU(d,s.index),routesMeta:f})};return n.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))r(s,o);else for(let u of WF(s.path))r(s,o,u)}),t}function WF(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=WF(i.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function jU(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:YU(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var UU=/^:[\w-]+$/,HU=3,$U=2,qU=1,GU=10,WU=-2,mD=n=>n==="*";function KU(n,t){let e=n.split("/"),i=e.length;return e.some(mD)&&(i+=WU),t&&(i+=$U),e.filter(r=>!mD(r)).reduce((r,s)=>r+(UU.test(s)?HU:s===""?qU:GU),i)}function YU(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function XU(n,t,e=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",m=rS({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!m&&d&&e&&!i[i.length-1].route.index&&(m=rS({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:jl([s,m.pathname]),pathnameBase:n9(jl([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=jl([s,m.pathnameBase]))}return o}function rS(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=QU(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:m},y)=>{if(f==="*"){let E=c[y]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function QU(n,t=!1,e=!0){To(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function ZU(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return To(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Gl(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function JU(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?zm(n):n;return{pathname:e?e.startsWith("/")?e:t9(e,t):t,search:i9(i),hash:r9(r)}}function t9(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function bx(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e9(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function KF(n){let t=e9(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function YF(n,t,e,i=!1){let r;typeof n=="string"?r=zm(n):(r={...n},jn(!r.pathname||!r.pathname.includes("?"),bx("?","pathname","search",r)),jn(!r.pathname||!r.pathname.includes("#"),bx("#","pathname","hash",r)),jn(!r.search||!r.search.includes("#"),bx("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=e;else{let m=t.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;r.pathname=y.join("/")}c=m>=0?t[m]:"/"}let u=JU(r,c),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var jl=n=>n.join("/").replace(/\/\/+/g,"/"),n9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),i9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,r9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function s9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var XF=["POST","PUT","PATCH","DELETE"];new Set(XF);var a9=["GET",...XF];new Set(a9);var Bm=M.createContext(null);Bm.displayName="DataRouter";var aw=M.createContext(null);aw.displayName="DataRouterState";var QF=M.createContext({isTransitioning:!1});QF.displayName="ViewTransition";var o9=M.createContext(new Map);o9.displayName="Fetchers";var l9=M.createContext(null);l9.displayName="Await";var ko=M.createContext(null);ko.displayName="Navigation";var Nb=M.createContext(null);Nb.displayName="Location";var Po=M.createContext({outlet:null,matches:[],isDataRoute:!1});Po.displayName="Route";var zR=M.createContext(null);zR.displayName="RouteError";function c9(n,{relative:t}={}){jn(Fb(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=M.useContext(ko),{hash:r,pathname:s,search:o}=Vb(n,{relative:t}),c=s;return e!=="/"&&(c=s==="/"?e:jl([e,s])),i.createHref({pathname:c,search:o,hash:r})}function Fb(){return M.useContext(Nb)!=null}function zd(){return jn(Fb(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Nb).location}var ZF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JF(n){M.useContext(ko).static||M.useLayoutEffect(n)}function Bd(){let{isDataRoute:n}=M.useContext(Po);return n?w9():u9()}function u9(){jn(Fb(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(Bm),{basename:t,navigator:e}=M.useContext(ko),{matches:i}=M.useContext(Po),{pathname:r}=zd(),s=JSON.stringify(KF(i)),o=M.useRef(!1);return JF(()=>{o.current=!0}),M.useCallback((u,d={})=>{if(To(o.current,ZF),!o.current)return;if(typeof u=="number"){e.go(u);return}let f=YF(u,JSON.parse(s),r,d.relative==="path");n==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:jl([t,f.pathname])),(d.replace?e.replace:e.push)(f,d.state,d)},[t,e,s,r,n])}M.createContext(null);function h9(){let{matches:n}=M.useContext(Po),t=n[n.length-1];return t?t.params:{}}function Vb(n,{relative:t}={}){let{matches:e}=M.useContext(Po),{pathname:i}=zd(),r=JSON.stringify(KF(e));return M.useMemo(()=>YF(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function d9(n,t){return t4(n,t)}function t4(n,t,e,i){var A;jn(Fb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=M.useContext(ko),{matches:s}=M.useContext(Po),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let O=f&&f.path||"";e4(u,!f||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let m=zd(),y;if(t){let O=typeof t=="string"?zm(t):t;jn(d==="/"||((A=O.pathname)==null?void 0:A.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=m;let b=y.pathname||"/",E=b;if(d!=="/"){let O=d.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=qF(n,{pathname:E});To(f||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),To(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=y9(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:jl([d,r.encodeLocation?r.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:jl([d,r.encodeLocation?r.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,e,i);return t&&T?M.createElement(Nb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function f9(){let n=S9(),t=s9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:r},e):null,o)}var p9=M.createElement(f9,null),m9=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?M.createElement(Po.Provider,{value:this.props.routeContext},M.createElement(zR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g9({routeContext:n,match:t,children:e}){let i=M.useContext(Bm);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Po.Provider,{value:n},e)}function y9(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,s=e==null?void 0:e.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);jn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(e)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=e,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,d,f)=>{let m,y=!1,b=null,E=null;e&&(m=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||p9,o&&(c<0&&f===0?(e4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):c===f&&(y=!0,E=d.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,f+1)),T=()=>{let A;return m?A=b:y?A=E:d.route.Component?A=M.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=u,M.createElement(g9,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:e!=null},children:A})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?M.createElement(m9,{location:e.location,revalidation:e.revalidation,component:b,error:m,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function BR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v9(n){let t=M.useContext(Bm);return jn(t,BR(n)),t}function b9(n){let t=M.useContext(aw);return jn(t,BR(n)),t}function _9(n){let t=M.useContext(Po);return jn(t,BR(n)),t}function jR(n){let t=_9(n),e=t.matches[t.matches.length-1];return jn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function E9(){return jR("useRouteId")}function S9(){var i;let n=M.useContext(zR),t=b9("useRouteError"),e=jR("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function w9(){let{router:n}=v9("useNavigate"),t=jR("useNavigate"),e=M.useRef(!1);return JF(()=>{e.current=!0}),M.useCallback(async(r,s={})=>{To(e.current,ZF),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...s}))},[n,t])}var gD={};function e4(n,t,e){!t&&!gD[n]&&(gD[n]=!0,To(!1,e))}M.memo(A9);function A9({routes:n,future:t,state:e}){return t4(n,void 0,e,t)}function ul(n){jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x9({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:s=!1}){jn(!Fb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof e=="string"&&(e=zm(e));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:y="default"}=e,b=M.useMemo(()=>{let E=Gl(u,o);return E==null?null:{location:{pathname:E,search:d,hash:f,state:m,key:y},navigationType:i}},[o,u,d,f,m,y,i]);return To(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(ko.Provider,{value:c},M.createElement(Nb.Provider,{children:t,value:b}))}function T9({children:n,location:t}){return d9(gT(n),t)}function gT(n,t=[]){let e=[];return M.Children.forEach(n,(i,r)=>{if(!M.isValidElement(i))return;let s=[...t,r];if(i.type===M.Fragment){e.push.apply(e,gT(i.props.children,s));return}jn(i.type===ul,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=gT(i.props.children,s)),e.push(o)}),e}var aE="get",oE="application/x-www-form-urlencoded";function ow(n){return n!=null&&typeof n.tagName=="string"}function C9(n){return ow(n)&&n.tagName.toLowerCase()==="button"}function R9(n){return ow(n)&&n.tagName.toLowerCase()==="form"}function I9(n){return ow(n)&&n.tagName.toLowerCase()==="input"}function k9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function P9(n,t){return n.button===0&&(!t||t==="_self")&&!k9(n)}var M_=null;function M9(){if(M_===null)try{new FormData(document.createElement("form"),0),M_=!1}catch{M_=!0}return M_}var D9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _x(n){return n!=null&&!D9.has(n)?(To(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oE}"`),null):n}function O9(n,t){let e,i,r,s,o;if(R9(n)){let c=n.getAttribute("action");i=c?Gl(c,t):null,e=n.getAttribute("method")||aE,r=_x(n.getAttribute("enctype"))||oE,s=new FormData(n)}else if(C9(n)||I9(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(i=u?Gl(u,t):null,e=n.getAttribute("formmethod")||c.getAttribute("method")||aE,r=_x(n.getAttribute("formenctype"))||_x(c.getAttribute("enctype"))||oE,s=new FormData(c,n),!M9()){let{name:d,type:f,value:m}=n;if(f==="image"){let y=d?`${d}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else d&&s.append(d,m)}}else{if(ow(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=aE,i=null,r=oE,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:s,body:o}}function UR(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function L9(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N9(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function F9(n,t,e){let i=await Promise.all(n.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await L9(s,e);return o.links?o.links():[]}return[]}));return j9(i.flat(1).filter(N9).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function yD(n,t,e,i,r,s){let o=(u,d)=>e[d]?u.route.id!==e[d].route.id:!0,c=(u,d)=>{var f;return e[d].pathname!==u.pathname||((f=e[d].route.path)==null?void 0:f.endsWith("*"))&&e[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>o(u,d)||c(u,d)):s==="data"?t.filter((u,d)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=e[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function V9(n,t,{includeHydrateFallback:e}={}){return z9(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function z9(n){return[...new Set(n)]}function B9(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function j9(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let s=JSON.stringify(B9(r));return e.has(s)||(e.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U9=new Set([100,101,204,205]);function H9(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Gl(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function n4(){let n=M.useContext(Bm);return UR(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $9(){let n=M.useContext(aw);return UR(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var HR=M.createContext(void 0);HR.displayName="FrameworkContext";function i4(){let n=M.useContext(HR);return UR(n,"You must render this element inside a <HydratedRouter> element"),n}function q9(n,t){let e=M.useContext(HR),[i,r]=M.useState(!1),[s,o]=M.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,y=M.useRef(null);M.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=A=>{A.forEach(O=>{o(O.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[n]),M.useEffect(()=>{if(i){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[i]);let b=()=>{r(!0)},E=()=>{r(!1),o(!1)};return e?n!=="intent"?[s,y,{}]:[s,y,{onFocus:ay(c,b),onBlur:ay(u,E),onMouseEnter:ay(d,b),onMouseLeave:ay(f,E),onTouchStart:ay(m,b)}]:[!1,y,{}]}function ay(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function G9({page:n,...t}){let{router:e}=n4(),i=M.useMemo(()=>qF(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?M.createElement(K9,{page:n,matches:i,...t}):null}function W9(n){let{manifest:t,routeModules:e}=i4(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return F9(n,t,e).then(o=>{s||r(o)}),()=>{s=!0}},[n,t,e]),i}function K9({page:n,matches:t,...e}){let i=zd(),{manifest:r,routeModules:s}=i4(),{basename:o}=n4(),{loaderData:c,matches:u}=$9(),d=M.useMemo(()=>yD(n,t,u,r,i,"data"),[n,t,u,r,i]),f=M.useMemo(()=>yD(n,t,u,r,i,"assets"),[n,t,u,r,i]),m=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,w=!1;if(t.forEach(A=>{var k;let O=r.routes[A.route.id];!O||!O.hasLoader||(!d.some(P=>P.route.id===A.route.id)&&A.route.id in c&&((k=s[A.route.id])!=null&&k.shouldRevalidate)||O.hasClientLoader?w=!0:E.add(A.route.id))}),E.size===0)return[];let T=H9(n,o);return w&&E.size>0&&T.searchParams.set("_routes",t.filter(A=>E.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[o,c,i,r,d,t,n,s]),y=M.useMemo(()=>V9(f,r),[f,r]),b=W9(f);return M.createElement(M.Fragment,null,m.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),y.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),b.map(({key:E,link:w})=>M.createElement("link",{key:E,...w})))}function Y9(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var r4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r4&&(window.__reactRouterVersion="7.6.2")}catch{}function X9({basename:n,children:t,window:e}){let i=M.useRef();i.current==null&&(i.current=NU({window:e,v5Compat:!0}));let r=i.current,[s,o]=M.useState({action:r.action,location:r.location}),c=M.useCallback(u=>{M.startTransition(()=>o(u))},[o]);return M.useLayoutEffect(()=>r.listen(c),[r,c]),M.createElement(x9,{basename:n,children:t,location:s.location,navigationType:s.action,navigator:r})}var s4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a4=M.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:m,...y},b){let{basename:E}=M.useContext(ko),w=typeof d=="string"&&s4.test(d),T,A=!1;if(typeof d=="string"&&w&&(T=d,r4))try{let V=new URL(window.location.href),x=d.startsWith("//")?new URL(V.protocol+d):new URL(d),B=Gl(x.pathname,E);x.origin===V.origin&&B!=null?d=B+x.search+x.hash:A=!0}catch{To(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=c9(d,{relative:r}),[k,P,F]=q9(i,y),j=tH(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:m});function D(V){t&&t(V),V.defaultPrevented||j(V)}let I=M.createElement("a",{...y,...F,href:T||O,onClick:A||s?t:D,ref:Y9(b,P),target:u,"data-discover":!w&&e==="render"?"true":void 0});return k&&!w?M.createElement(M.Fragment,null,I,M.createElement(G9,{page:O})):I});a4.displayName="Link";var Q9=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...d},f){let m=Vb(o,{relative:d.relative}),y=zd(),b=M.useContext(aw),{navigator:E,basename:w}=M.useContext(ko),T=b!=null&&sH(m)&&c===!0,A=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,O=y.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(O=O.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&w&&(k=Gl(k,w)||k);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let F=O===A||!r&&O.startsWith(A)&&O.charAt(P)==="/",j=k!=null&&(k===A||!r&&k.startsWith(A)&&k.charAt(A.length)==="/"),D={isActive:F,isPending:j,isTransitioning:T},I=F?t:void 0,V;typeof i=="function"?V=i(D):V=[i,F?"active":null,j?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let x=typeof s=="function"?s(D):s;return M.createElement(a4,{...d,"aria-current":I,className:V,ref:f,style:x,to:o,viewTransition:c},typeof u=="function"?u(D):u)});Q9.displayName="NavLink";var Z9=M.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:s,method:o=aE,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:m,...y},b)=>{let E=iH(),w=rH(c,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&s4.test(c),O=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,F=(P==null?void 0:P.getAttribute("formmethod"))||o;E(P||k.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:r,state:s,relative:d,preventScrollReset:f,viewTransition:m})};return M.createElement("form",{ref:b,method:T,action:w,onSubmit:i?u:O,...y,"data-discover":!A&&n==="render"?"true":void 0})});Z9.displayName="Form";function J9(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o4(n){let t=M.useContext(Bm);return jn(t,J9(n)),t}function tH(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=Bd(),u=zd(),d=Vb(n,{relative:s});return M.useCallback(f=>{if(P9(f,t)){f.preventDefault();let m=e!==void 0?e:nv(u)===nv(d);c(n,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[u,c,d,e,i,t,n,r,s,o])}var eH=0,nH=()=>`__${String(++eH)}__`;function iH(){let{router:n}=o4("useSubmit"),{basename:t}=M.useContext(ko),e=E9();return M.useCallback(async(i,r={})=>{let{action:s,method:o,encType:c,formData:u,body:d}=O9(i,t);if(r.navigate===!1){let f=r.fetcherKey||nH();await n.fetch(f,e,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function rH(n,{relative:t}={}){let{basename:e}=M.useContext(ko),i=M.useContext(Po);jn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Vb(n||".",{relative:t})},o=zd();if(n==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:jl([e,s.pathname])),nv(s)}function sH(n,t={}){let e=M.useContext(QF);jn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=o4("useViewTransitionState"),r=Vb(n,{relative:t.relative});if(!e.isTransitioning)return!1;let s=Gl(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=Gl(e.nextLocation.pathname,i)||e.nextLocation.pathname;return rS(r.pathname,o)!=null||rS(r.pathname,s)!=null}[...U9];var l4=$F();const D_=Lb(l4);function Wl(n,...t){const e=new URL(`https://mui.com/production-error/?code=${n}`);return t.forEach(i=>e.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${e} for the full message.`}function sS(){return sS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},sS.apply(null,arguments)}function aH(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function oH(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var lH=function(){function n(e){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(oH(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=aH(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ar="-ms-",aS="-moz-",Ke="-webkit-",c4="comm",$R="rule",qR="decl",cH="@import",u4="@keyframes",uH="@layer",hH=Math.abs,lw=String.fromCharCode,dH=Object.assign;function fH(n,t){return Ji(n,0)^45?(((t<<2^Ji(n,0))<<2^Ji(n,1))<<2^Ji(n,2))<<2^Ji(n,3):0}function h4(n){return n.trim()}function pH(n,t){return(n=t.exec(n))?n[0]:n}function Xe(n,t,e){return n.replace(t,e)}function yT(n,t){return n.indexOf(t)}function Ji(n,t){return n.charCodeAt(t)|0}function iv(n,t,e){return n.slice(t,e)}function mo(n){return n.length}function GR(n){return n.length}function O_(n,t){return t.push(n),n}function mH(n,t){return n.map(t).join("")}var cw=1,Am=1,d4=0,Wr=0,pi=0,jm="";function uw(n,t,e,i,r,s,o){return{value:n,root:t,parent:e,type:i,props:r,children:s,line:cw,column:Am,length:o,return:""}}function oy(n,t){return dH(uw("",null,null,"",null,null,0),n,{length:-n.length},t)}function gH(){return pi}function yH(){return pi=Wr>0?Ji(jm,--Wr):0,Am--,pi===10&&(Am=1,cw--),pi}function bs(){return pi=Wr<d4?Ji(jm,Wr++):0,Am++,pi===10&&(Am=1,cw++),pi}function bo(){return Ji(jm,Wr)}function lE(){return Wr}function zb(n,t){return iv(jm,n,t)}function rv(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f4(n){return cw=Am=1,d4=mo(jm=n),Wr=0,[]}function p4(n){return jm="",n}function cE(n){return h4(zb(Wr-1,vT(n===91?n+2:n===40?n+1:n)))}function vH(n){for(;(pi=bo())&&pi<33;)bs();return rv(n)>2||rv(pi)>3?"":" "}function bH(n,t){for(;--t&&bs()&&!(pi<48||pi>102||pi>57&&pi<65||pi>70&&pi<97););return zb(n,lE()+(t<6&&bo()==32&&bs()==32))}function vT(n){for(;bs();)switch(pi){case n:return Wr;case 34:case 39:n!==34&&n!==39&&vT(pi);break;case 40:n===41&&vT(n);break;case 92:bs();break}return Wr}function _H(n,t){for(;bs()&&n+pi!==57;)if(n+pi===84&&bo()===47)break;return"/*"+zb(t,Wr-1)+"*"+lw(n===47?n:bs())}function EH(n){for(;!rv(bo());)bs();return zb(n,Wr)}function SH(n){return p4(uE("",null,null,null,[""],n=f4(n),0,[0],n))}function uE(n,t,e,i,r,s,o,c,u){for(var d=0,f=0,m=o,y=0,b=0,E=0,w=1,T=1,A=1,O=0,k="",P=r,F=s,j=i,D=k;T;)switch(E=O,O=bs()){case 40:if(E!=108&&Ji(D,m-1)==58){yT(D+=Xe(cE(O),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:D+=cE(O);break;case 9:case 10:case 13:case 32:D+=vH(E);break;case 92:D+=bH(lE()-1,7);continue;case 47:switch(bo()){case 42:case 47:O_(wH(_H(bs(),lE()),t,e),u);break;default:D+="/"}break;case 123*w:c[d++]=mo(D)*A;case 125*w:case 59:case 0:switch(O){case 0:case 125:T=0;case 59+f:A==-1&&(D=Xe(D,/\f/g,"")),b>0&&mo(D)-m&&O_(b>32?bD(D+";",i,e,m-1):bD(Xe(D," ","")+";",i,e,m-2),u);break;case 59:D+=";";default:if(O_(j=vD(D,t,e,d,f,r,c,k,P=[],F=[],m),s),O===123)if(f===0)uE(D,t,j,j,P,s,m,c,F);else switch(y===99&&Ji(D,3)===110?100:y){case 100:case 108:case 109:case 115:uE(n,j,j,i&&O_(vD(n,j,j,0,0,r,c,k,r,P=[],m),F),r,F,m,c,i?P:F);break;default:uE(D,j,j,j,[""],F,0,c,F)}}d=f=b=0,w=A=1,k=D="",m=o;break;case 58:m=1+mo(D),b=E;default:if(w<1){if(O==123)--w;else if(O==125&&w++==0&&yH()==125)continue}switch(D+=lw(O),O*w){case 38:A=f>0?1:(D+="\f",-1);break;case 44:c[d++]=(mo(D)-1)*A,A=1;break;case 64:bo()===45&&(D+=cE(bs())),y=bo(),f=m=mo(k=D+=EH(lE())),O++;break;case 45:E===45&&mo(D)==2&&(w=0)}}return s}function vD(n,t,e,i,r,s,o,c,u,d,f){for(var m=r-1,y=r===0?s:[""],b=GR(y),E=0,w=0,T=0;E<i;++E)for(var A=0,O=iv(n,m+1,m=hH(w=o[E])),k=n;A<b;++A)(k=h4(w>0?y[A]+" "+O:Xe(O,/&\f/g,y[A])))&&(u[T++]=k);return uw(n,t,e,r===0?$R:c,u,d,f)}function wH(n,t,e){return uw(n,t,e,c4,lw(gH()),iv(n,2,-2),0)}function bD(n,t,e,i){return uw(n,t,e,qR,iv(n,0,i),iv(n,i+1,-1),i)}function fp(n,t){for(var e="",i=GR(n),r=0;r<i;r++)e+=t(n[r],r,n,t)||"";return e}function AH(n,t,e,i){switch(n.type){case uH:if(n.children.length)break;case cH:case qR:return n.return=n.return||n.value;case c4:return"";case u4:return n.return=n.value+"{"+fp(n.children,i)+"}";case $R:n.value=n.props.join(",")}return mo(e=fp(n.children,i))?n.return=n.value+"{"+e+"}":""}function xH(n){var t=GR(n);return function(e,i,r,s){for(var o="",c=0;c<t;c++)o+=n[c](e,i,r,s)||"";return o}}function TH(n){return function(t){t.root||(t=t.return)&&n(t)}}function m4(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var CH=function(t,e,i){for(var r=0,s=0;r=s,s=bo(),r===38&&s===12&&(e[i]=1),!rv(s);)bs();return zb(t,Wr)},RH=function(t,e){var i=-1,r=44;do switch(rv(r)){case 0:r===38&&bo()===12&&(e[i]=1),t[i]+=CH(Wr-1,e,i);break;case 2:t[i]+=cE(r);break;case 4:if(r===44){t[++i]=bo()===58?"&\f":"",e[i]=t[i].length;break}default:t[i]+=lw(r)}while(r=bs());return t},IH=function(t,e){return p4(RH(f4(t),e))},_D=new WeakMap,kH=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,i=t.parent,r=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!_D.get(i))&&!r){_D.set(t,!0);for(var s=[],o=IH(e,s),c=i.props,u=0,d=0;u<o.length;u++)for(var f=0;f<c.length;f++,d++)t.props[d]=s[u]?o[u].replace(/&\f/g,c[f]):c[f]+" "+o[u]}}},PH=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function g4(n,t){switch(fH(n,t)){case 5103:return Ke+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+n+aS+n+ar+n+n;case 6828:case 4268:return Ke+n+ar+n+n;case 6165:return Ke+n+ar+"flex-"+n+n;case 5187:return Ke+n+Xe(n,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+ar+"flex-$1$2")+n;case 5443:return Ke+n+ar+"flex-item-"+Xe(n,/flex-|-self/,"")+n;case 4675:return Ke+n+ar+"flex-line-pack"+Xe(n,/align-content|flex-|-self/,"")+n;case 5548:return Ke+n+ar+Xe(n,"shrink","negative")+n;case 5292:return Ke+n+ar+Xe(n,"basis","preferred-size")+n;case 6060:return Ke+"box-"+Xe(n,"-grow","")+Ke+n+ar+Xe(n,"grow","positive")+n;case 4554:return Ke+Xe(n,/([^-])(transform)/g,"$1"+Ke+"$2")+n;case 6187:return Xe(Xe(Xe(n,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),n,"")+n;case 5495:case 3959:return Xe(n,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Xe(Xe(n,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+ar+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+n+n;case 4095:case 3583:case 4068:case 2532:return Xe(n,/(.+)-inline(.+)/,Ke+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mo(n)-1-t>6)switch(Ji(n,t+1)){case 109:if(Ji(n,t+4)!==45)break;case 102:return Xe(n,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+aS+(Ji(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~yT(n,"stretch")?g4(Xe(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Ji(n,t+1)!==115)break;case 6444:switch(Ji(n,mo(n)-3-(~yT(n,"!important")&&10))){case 107:return Xe(n,":",":"+Ke)+n;case 101:return Xe(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Ji(n,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+ar+"$2box$3")+n}break;case 5936:switch(Ji(n,t+11)){case 114:return Ke+n+ar+Xe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ke+n+ar+Xe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ke+n+ar+Xe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ke+n+ar+n+n}return n}var MH=function(t,e,i,r){if(t.length>-1&&!t.return)switch(t.type){case qR:t.return=g4(t.value,t.length);break;case u4:return fp([oy(t,{value:Xe(t.value,"@","@"+Ke)})],r);case $R:if(t.length)return mH(t.props,function(s){switch(pH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fp([oy(t,{props:[Xe(s,/:(read-\w+)/,":"+aS+"$1")]})],r);case"::placeholder":return fp([oy(t,{props:[Xe(s,/:(plac\w+)/,":"+Ke+"input-$1")]}),oy(t,{props:[Xe(s,/:(plac\w+)/,":"+aS+"$1")]}),oy(t,{props:[Xe(s,/:(plac\w+)/,ar+"input-$1")]})],r)}return""})}},DH=[MH],OH=function(t){var e=t.key;if(e==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(w){var T=w.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var r=t.stylisPlugins||DH,s={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(w){for(var T=w.getAttribute("data-emotion").split(" "),A=1;A<T.length;A++)s[T[A]]=!0;c.push(w)});var u,d=[kH,PH];{var f,m=[AH,TH(function(w){f.insert(w)})],y=xH(d.concat(r,m)),b=function(T){return fp(SH(T),y)};u=function(T,A,O,k){f=O,b(T?T+"{"+A.styles+"}":A.styles),k&&(E.inserted[A.name]=!0)}}var E={key:e,sheet:new lH({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return E.sheet.hydrate(c),E},Ex={exports:{}},en={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED;function LH(){if(ED)return en;ED=1;var n=typeof Symbol=="function"&&Symbol.for,t=n?Symbol.for("react.element"):60103,e=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,E=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,O=n?Symbol.for("react.scope"):60119;function k(F){if(typeof F=="object"&&F!==null){var j=F.$$typeof;switch(j){case t:switch(F=F.type,F){case u:case d:case i:case s:case r:case m:return F;default:switch(F=F&&F.$$typeof,F){case c:case f:case E:case b:case o:return F;default:return j}}case e:return j}}}function P(F){return k(F)===d}return en.AsyncMode=u,en.ConcurrentMode=d,en.ContextConsumer=c,en.ContextProvider=o,en.Element=t,en.ForwardRef=f,en.Fragment=i,en.Lazy=E,en.Memo=b,en.Portal=e,en.Profiler=s,en.StrictMode=r,en.Suspense=m,en.isAsyncMode=function(F){return P(F)||k(F)===u},en.isConcurrentMode=P,en.isContextConsumer=function(F){return k(F)===c},en.isContextProvider=function(F){return k(F)===o},en.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},en.isForwardRef=function(F){return k(F)===f},en.isFragment=function(F){return k(F)===i},en.isLazy=function(F){return k(F)===E},en.isMemo=function(F){return k(F)===b},en.isPortal=function(F){return k(F)===e},en.isProfiler=function(F){return k(F)===s},en.isStrictMode=function(F){return k(F)===r},en.isSuspense=function(F){return k(F)===m},en.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===i||F===d||F===s||F===r||F===m||F===y||typeof F=="object"&&F!==null&&(F.$$typeof===E||F.$$typeof===b||F.$$typeof===o||F.$$typeof===c||F.$$typeof===f||F.$$typeof===T||F.$$typeof===A||F.$$typeof===O||F.$$typeof===w)},en.typeOf=k,en}var SD;function NH(){return SD||(SD=1,Ex.exports=LH()),Ex.exports}var Sx,wD;function FH(){if(wD)return Sx;wD=1;var n=NH(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function o(E){return n.isMemo(E)?r:s[E.$$typeof]||t}var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function b(E,w,T){if(typeof w!="string"){if(y){var A=m(w);A&&A!==y&&b(E,A,T)}var O=u(w);d&&(O=O.concat(d(w)));for(var k=o(E),P=o(w),F=0;F<O.length;++F){var j=O[F];if(!e[j]&&!(T&&T[j])&&!(P&&P[j])&&!(k&&k[j])){var D=f(w,j);try{c(E,j,D)}catch{}}}}return E}return Sx=b,Sx}FH();var VH=!0;function y4(n,t,e){var i="";return e.split(" ").forEach(function(r){n[r]!==void 0?t.push(n[r]+";"):r&&(i+=r+" ")}),i}var WR=function(t,e,i){var r=t.key+"-"+e.name;(i===!1||VH===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},KR=function(t,e,i){WR(t,e,i);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var s=e;do t.insert(e===s?"."+r:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function zH(n){for(var t=0,e,i=0,r=n.length;r>=4;++i,r-=4)e=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var BH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jH=/[A-Z]|^ms/g,UH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v4=function(t){return t.charCodeAt(1)===45},AD=function(t){return t!=null&&typeof t!="boolean"},wx=m4(function(n){return v4(n)?n:n.replace(jH,"-$&").toLowerCase()}),xD=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(UH,function(i,r,s){return go={name:r,styles:s,next:go},r})}return BH[t]!==1&&!v4(t)&&typeof e=="number"&&e!==0?e+"px":e};function sv(n,t,e){if(e==null)return"";var i=e;if(i.__emotion_styles!==void 0)return i;switch(typeof e){case"boolean":return"";case"object":{var r=e;if(r.anim===1)return go={name:r.name,styles:r.styles,next:go},r.name;var s=e;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)go={name:o.name,styles:o.styles,next:go},o=o.next;var c=s.styles+";";return c}return HH(n,t,e)}case"function":{if(n!==void 0){var u=go,d=e(n);return go=u,sv(n,t,d)}break}}var f=e;if(t==null)return f;var m=t[f];return m!==void 0?m:f}function HH(n,t,e){var i="";if(Array.isArray(e))for(var r=0;r<e.length;r++)i+=sv(n,t,e[r])+";";else for(var s in e){var o=e[s];if(typeof o!="object"){var c=o;t!=null&&t[c]!==void 0?i+=s+"{"+t[c]+"}":AD(c)&&(i+=wx(s)+":"+xD(s,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var u=0;u<o.length;u++)AD(o[u])&&(i+=wx(s)+":"+xD(s,o[u])+";");else{var d=sv(n,t,o);switch(s){case"animation":case"animationName":{i+=wx(s)+":"+d+";";break}default:i+=s+"{"+d+"}"}}}return i}var TD=/label:\s*([^\s;{]+)\s*(;|$)/g,go;function Bb(n,t,e){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";go=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=sv(e,t,s);else{var o=s;r+=o[0]}for(var c=1;c<n.length;c++)if(r+=sv(e,t,n[c]),i){var u=s;r+=u[c]}TD.lastIndex=0;for(var d="",f;(f=TD.exec(r))!==null;)d+="-"+f[1];var m=zH(r)+d;return{name:m,styles:r,next:go}}var $H=function(t){return t()},b4=pT.useInsertionEffect?pT.useInsertionEffect:!1,_4=b4||$H,CD=b4||M.useLayoutEffect,E4=M.createContext(typeof HTMLElement<"u"?OH({key:"css"}):null);E4.Provider;var YR=function(t){return M.forwardRef(function(e,i){var r=M.useContext(E4);return t(e,r,i)})},jb=M.createContext({}),XR={}.hasOwnProperty,bT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qH=function(t,e){var i={};for(var r in e)XR.call(e,r)&&(i[r]=e[r]);return i[bT]=t,i},GH=function(t){var e=t.cache,i=t.serialized,r=t.isStringTag;return WR(e,i,r),_4(function(){return KR(e,i,r)}),null},WH=YR(function(n,t,e){var i=n.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var r=n[bT],s=[i],o="";typeof n.className=="string"?o=y4(t.registered,s,n.className):n.className!=null&&(o=n.className+" ");var c=Bb(s,void 0,M.useContext(jb));o+=t.key+"-"+c.name;var u={};for(var d in n)XR.call(n,d)&&d!=="css"&&d!==bT&&(u[d]=n[d]);return u.className=o,e&&(u.ref=e),M.createElement(M.Fragment,null,M.createElement(GH,{cache:t,serialized:c,isStringTag:typeof r=="string"}),M.createElement(r,u))}),KH=WH,RD=function(t,e){var i=arguments;if(e==null||!XR.call(e,"css"))return M.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=KH,s[1]=qH(t,e);for(var o=2;o<r;o++)s[o]=i[o];return M.createElement.apply(null,s)};(function(n){var t;t||(t=n.JSX||(n.JSX={}))})(RD||(RD={}));var YH=YR(function(n,t){var e=n.styles,i=Bb([e],void 0,M.useContext(jb)),r=M.useRef();return CD(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,u=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(c=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),r.current=[o,c],function(){o.flush()}},[t]),CD(function(){var s=r.current,o=s[0],c=s[1];if(c){s[1]=!1;return}if(i.next!==void 0&&KR(t,i.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",i,o,!1)},[t,i.name]),null});function Ub(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return Bb(t)}function jd(){var n=Ub.apply(void 0,arguments),t="animation-"+n.name;return{name:t,styles:"@keyframes "+t+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var XH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,QH=m4(function(n){return XH.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),ZH=QH,JH=function(t){return t!=="theme"},ID=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ZH:JH},kD=function(t,e,i){var r;if(e){var s=e.shouldForwardProp;r=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&i&&(r=t.__emotion_forwardProp),r},t$=function(t){var e=t.cache,i=t.serialized,r=t.isStringTag;return WR(e,i,r),_4(function(){return KR(e,i,r)}),null},e$=function n(t,e){var i=t.__emotion_real===t,r=i&&t.__emotion_base||t,s,o;e!==void 0&&(s=e.label,o=e.target);var c=kD(t,e,i),u=c||ID(r),d=!u("as");return function(){var f=arguments,m=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var y=f[0];m.push(y[0]);for(var b=f.length,E=1;E<b;E++)m.push(f[E],y[E])}var w=YR(function(T,A,O){var k=d&&T.as||r,P="",F=[],j=T;if(T.theme==null){j={};for(var D in T)j[D]=T[D];j.theme=M.useContext(jb)}typeof T.className=="string"?P=y4(A.registered,F,T.className):T.className!=null&&(P=T.className+" ");var I=Bb(m.concat(F),A.registered,j);P+=A.key+"-"+I.name,o!==void 0&&(P+=" "+o);var V=d&&c===void 0?ID(k):u,x={};for(var B in T)d&&B==="as"||V(B)&&(x[B]=T[B]);return x.className=P,O&&(x.ref=O),M.createElement(M.Fragment,null,M.createElement(t$,{cache:A,serialized:I,isStringTag:typeof k=="string"}),M.createElement(k,x))});return w.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=r,w.__emotion_styles=m,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(T,A){var O=n(T,sS({},e,A,{shouldForwardProp:kD(w,A,!0)}));return O.apply(void 0,m)},w}},n$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_T=e$.bind(null);n$.forEach(function(n){_T[n]=_T(n)});function i$(n){return n==null||Object.keys(n).length===0}function S4(n){const{styles:t,defaultTheme:e={}}=n,i=typeof t=="function"?r=>t(i$(r)?e:r):t;return R.jsx(YH,{styles:i})}function w4(n,t){return _T(n,t)}function r$(n,t){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))}const PD=[];function MD(n){return PD[0]=n,Bb(PD)}var Ax={exports:{}},yn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD;function s$(){if(DD)return yn;DD=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case n:switch(w=w.type,w){case e:case r:case i:case u:case d:case y:return w;default:switch(w=w&&w.$$typeof,w){case o:case c:case m:case f:return w;case s:return w;default:return T}}case t:return T}}}return yn.ContextConsumer=s,yn.ContextProvider=o,yn.Element=n,yn.ForwardRef=c,yn.Fragment=e,yn.Lazy=m,yn.Memo=f,yn.Portal=t,yn.Profiler=r,yn.StrictMode=i,yn.Suspense=u,yn.SuspenseList=d,yn.isContextConsumer=function(w){return E(w)===s},yn.isContextProvider=function(w){return E(w)===o},yn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===n},yn.isForwardRef=function(w){return E(w)===c},yn.isFragment=function(w){return E(w)===e},yn.isLazy=function(w){return E(w)===m},yn.isMemo=function(w){return E(w)===f},yn.isPortal=function(w){return E(w)===t},yn.isProfiler=function(w){return E(w)===r},yn.isStrictMode=function(w){return E(w)===i},yn.isSuspense=function(w){return E(w)===u},yn.isSuspenseList=function(w){return E(w)===d},yn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===e||w===r||w===i||w===u||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===f||w.$$typeof===o||w.$$typeof===s||w.$$typeof===c||w.$$typeof===b||w.getModuleId!==void 0)},yn.typeOf=E,yn}var OD;function a$(){return OD||(OD=1,Ax.exports=s$()),Ax.exports}var A4=a$();function yo(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function x4(n){if(M.isValidElement(n)||A4.isValidElementType(n)||!yo(n))return n;const t={};return Object.keys(n).forEach(e=>{t[e]=x4(n[e])}),t}function yr(n,t,e={clone:!0}){const i=e.clone?{...n}:n;return yo(n)&&yo(t)&&Object.keys(t).forEach(r=>{M.isValidElement(t[r])||A4.isValidElementType(t[r])?i[r]=t[r]:yo(t[r])&&Object.prototype.hasOwnProperty.call(n,r)&&yo(n[r])?i[r]=yr(n[r],t[r],e):e.clone?i[r]=yo(t[r])?x4(t[r]):t[r]:i[r]=t[r]}),i}const o$=n=>{const t=Object.keys(n).map(e=>({key:e,val:n[e]}))||[];return t.sort((e,i)=>e.val-i.val),t.reduce((e,i)=>({...e,[i.key]:i.val}),{})};function l$(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:i=5,...r}=n,s=o$(t),o=Object.keys(s);function c(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${e})`}function u(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-i/100}${e})`}function d(y,b){const E=o.indexOf(b);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${e}) and (max-width:${(E!==-1&&typeof t[o[E]]=="number"?t[o[E]]:b)-i/100}${e})`}function f(y){return o.indexOf(y)+1<o.length?d(y,o[o.indexOf(y)+1]):c(y)}function m(y){const b=o.indexOf(y);return b===0?c(o[1]):b===o.length-1?u(o[b]):d(y,o[o.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:c,down:u,between:d,only:f,not:m,unit:e,...r}}function c$(n,t){if(!n.containerQueries)return t;const e=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,r)=>{var o,c;const s=/min-width:\s*([0-9.]+)/;return+(((o=i.match(s))==null?void 0:o[1])||0)-+(((c=r.match(s))==null?void 0:c[1])||0)});return e.length?e.reduce((i,r)=>{const s=t[r];return delete i[r],i[r]=s,i},{...t}):t}function u$(n,t){return t==="@"||t.startsWith("@")&&(n.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function h$(n,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,i,r]=e,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function d$(n){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function e(s,o){s.up=(...c)=>t(n.breakpoints.up(...c),o),s.down=(...c)=>t(n.breakpoints.down(...c),o),s.between=(...c)=>t(n.breakpoints.between(...c),o),s.only=(...c)=>t(n.breakpoints.only(...c),o),s.not=(...c)=>{const u=t(n.breakpoints.not(...c),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},r=s=>(e(i,s),i);return e(r),{...n,containerQueries:r}}const f$={borderRadius:4};function jy(n,t){return t?yr(n,t,{clone:!1}):n}const hw={xs:0,sm:600,md:900,lg:1200,xl:1536},LD={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${hw[n]}px)`},p$={containerQueries:n=>({up:t=>{let e=typeof t=="number"?t:hw[t]||t;return typeof e=="number"&&(e=`${e}px`),n?`@container ${n} (min-width:${e})`:`@container (min-width:${e})`}})};function Kl(n,t,e){const i=n.theme||{};if(Array.isArray(t)){const s=i.breakpoints||LD;return t.reduce((o,c,u)=>(o[s.up(s.keys[u])]=e(t[u]),o),{})}if(typeof t=="object"){const s=i.breakpoints||LD;return Object.keys(t).reduce((o,c)=>{if(u$(s.keys,c)){const u=h$(i.containerQueries?i:p$,c);u&&(o[u]=e(t[c],c))}else if(Object.keys(s.values||hw).includes(c)){const u=s.up(c);o[u]=e(t[c],c)}else{const u=c;o[u]=t[u]}return o},{})}return e(t)}function m$(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((i,r)=>{const s=n.up(r);return i[s]={},i},{}))||{}}function g$(n,t){return n.reduce((e,i)=>{const r=e[i];return(!r||Object.keys(r).length===0)&&delete e[i],e},t)}function qt(n){if(typeof n!="string")throw new Error(Wl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function dw(n,t,e=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&e){const i=`vars.${t}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return t.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function oS(n,t,e,i=e){let r;return typeof n=="function"?r=n(e):Array.isArray(n)?r=n[e]||i:r=dw(n,e)||i,t&&(r=t(r,i,n)),r}function ri(n){const{prop:t,cssProperty:e=n.prop,themeKey:i,transform:r}=n,s=o=>{if(o[t]==null)return null;const c=o[t],u=o.theme,d=dw(u,i)||{};return Kl(o,c,m=>{let y=oS(d,r,m);return m===y&&typeof m=="string"&&(y=oS(d,r,`${t}${m==="default"?"":qt(m)}`,m)),e===!1?y:{[e]:y}})};return s.propTypes={},s.filterProps=[t],s}function y$(n){const t={};return e=>(t[e]===void 0&&(t[e]=n(e)),t[e])}const v$={m:"margin",p:"padding"},b$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ND={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_$=y$(n=>{if(n.length>2)if(ND[n])n=ND[n];else return[n];const[t,e]=n.split(""),i=v$[t],r=b$[e]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),QR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QR,...ZR];function Hb(n,t,e,i){const r=dw(n,t,!0)??e;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),c=r[o];return s>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof r=="function"?r:()=>{}}function JR(n){return Hb(n,"spacing",8)}function $b(n,t){return typeof t=="string"||t==null?t:n(t)}function E$(n,t){return e=>n.reduce((i,r)=>(i[r]=$b(t,e),i),{})}function S$(n,t,e,i){if(!t.includes(e))return null;const r=_$(e),s=E$(r,i),o=n[e];return Kl(n,o,s)}function T4(n,t){const e=JR(n.theme);return Object.keys(n).map(i=>S$(n,t,i,e)).reduce(jy,{})}function Wn(n){return T4(n,QR)}Wn.propTypes={};Wn.filterProps=QR;function Kn(n){return T4(n,ZR)}Kn.propTypes={};Kn.filterProps=ZR;function C4(n=8,t=JR({spacing:n})){if(n.mui)return n;const e=(...i)=>(i.length===0?[1]:i).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return e.mui=!0,e}function fw(...n){const t=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),e=i=>Object.keys(i).reduce((r,s)=>t[s]?jy(r,t[s](i)):r,{});return e.propTypes={},e.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),e}function Hs(n){return typeof n!="number"?n:`${n}px solid`}function ta(n,t){return ri({prop:n,themeKey:"borders",transform:t})}const w$=ta("border",Hs),A$=ta("borderTop",Hs),x$=ta("borderRight",Hs),T$=ta("borderBottom",Hs),C$=ta("borderLeft",Hs),R$=ta("borderColor"),I$=ta("borderTopColor"),k$=ta("borderRightColor"),P$=ta("borderBottomColor"),M$=ta("borderLeftColor"),D$=ta("outline",Hs),O$=ta("outlineColor"),pw=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=Hb(n.theme,"shape.borderRadius",4),e=i=>({borderRadius:$b(t,i)});return Kl(n,n.borderRadius,e)}return null};pw.propTypes={};pw.filterProps=["borderRadius"];fw(w$,A$,x$,T$,C$,R$,I$,k$,P$,M$,pw,D$,O$);const mw=n=>{if(n.gap!==void 0&&n.gap!==null){const t=Hb(n.theme,"spacing",8),e=i=>({gap:$b(t,i)});return Kl(n,n.gap,e)}return null};mw.propTypes={};mw.filterProps=["gap"];const gw=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=Hb(n.theme,"spacing",8),e=i=>({columnGap:$b(t,i)});return Kl(n,n.columnGap,e)}return null};gw.propTypes={};gw.filterProps=["columnGap"];const yw=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=Hb(n.theme,"spacing",8),e=i=>({rowGap:$b(t,i)});return Kl(n,n.rowGap,e)}return null};yw.propTypes={};yw.filterProps=["rowGap"];const L$=ri({prop:"gridColumn"}),N$=ri({prop:"gridRow"}),F$=ri({prop:"gridAutoFlow"}),V$=ri({prop:"gridAutoColumns"}),z$=ri({prop:"gridAutoRows"}),B$=ri({prop:"gridTemplateColumns"}),j$=ri({prop:"gridTemplateRows"}),U$=ri({prop:"gridTemplateAreas"}),H$=ri({prop:"gridArea"});fw(mw,gw,yw,L$,N$,F$,V$,z$,B$,j$,U$,H$);function pp(n,t){return t==="grey"?t:n}const $$=ri({prop:"color",themeKey:"palette",transform:pp}),q$=ri({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pp}),G$=ri({prop:"backgroundColor",themeKey:"palette",transform:pp});fw($$,q$,G$);function ms(n){return n<=1&&n!==0?`${n*100}%`:n}const W$=ri({prop:"width",transform:ms}),tI=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=e=>{var r,s,o,c,u;const i=((o=(s=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:s.values)==null?void 0:o[e])||hw[e];return i?((u=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:ms(e)}};return Kl(n,n.maxWidth,t)}return null};tI.filterProps=["maxWidth"];const K$=ri({prop:"minWidth",transform:ms}),Y$=ri({prop:"height",transform:ms}),X$=ri({prop:"maxHeight",transform:ms}),Q$=ri({prop:"minHeight",transform:ms});ri({prop:"size",cssProperty:"width",transform:ms});ri({prop:"size",cssProperty:"height",transform:ms});const Z$=ri({prop:"boxSizing"});fw(W$,tI,K$,Y$,X$,Q$,Z$);const qb={border:{themeKey:"borders",transform:Hs},borderTop:{themeKey:"borders",transform:Hs},borderRight:{themeKey:"borders",transform:Hs},borderBottom:{themeKey:"borders",transform:Hs},borderLeft:{themeKey:"borders",transform:Hs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:pw},color:{themeKey:"palette",transform:pp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pp},backgroundColor:{themeKey:"palette",transform:pp},p:{style:Kn},pt:{style:Kn},pr:{style:Kn},pb:{style:Kn},pl:{style:Kn},px:{style:Kn},py:{style:Kn},padding:{style:Kn},paddingTop:{style:Kn},paddingRight:{style:Kn},paddingBottom:{style:Kn},paddingLeft:{style:Kn},paddingX:{style:Kn},paddingY:{style:Kn},paddingInline:{style:Kn},paddingInlineStart:{style:Kn},paddingInlineEnd:{style:Kn},paddingBlock:{style:Kn},paddingBlockStart:{style:Kn},paddingBlockEnd:{style:Kn},m:{style:Wn},mt:{style:Wn},mr:{style:Wn},mb:{style:Wn},ml:{style:Wn},mx:{style:Wn},my:{style:Wn},margin:{style:Wn},marginTop:{style:Wn},marginRight:{style:Wn},marginBottom:{style:Wn},marginLeft:{style:Wn},marginX:{style:Wn},marginY:{style:Wn},marginInline:{style:Wn},marginInlineStart:{style:Wn},marginInlineEnd:{style:Wn},marginBlock:{style:Wn},marginBlockStart:{style:Wn},marginBlockEnd:{style:Wn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:mw},rowGap:{style:yw},columnGap:{style:gw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ms},maxWidth:{style:tI},minWidth:{transform:ms},height:{transform:ms},maxHeight:{transform:ms},minHeight:{transform:ms},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function J$(...n){const t=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),e=new Set(t);return n.every(i=>e.size===Object.keys(i).length)}function t8(n,t){return typeof n=="function"?n(t):n}function e8(){function n(e,i,r,s){const o={[e]:i,theme:r},c=s[e];if(!c)return{[e]:i};const{cssProperty:u=e,themeKey:d,transform:f,style:m}=c;if(i==null)return null;if(d==="typography"&&i==="inherit")return{[e]:i};const y=dw(r,d)||{};return m?m(o):Kl(o,i,E=>{let w=oS(y,f,E);return E===w&&typeof E=="string"&&(w=oS(y,f,`${e}${E==="default"?"":qt(E)}`,E)),u===!1?w:{[u]:w}})}function t(e){const{sx:i,theme:r={}}=e||{};if(!i)return null;const s=r.unstable_sxConfig??qb;function o(c){let u=c;if(typeof c=="function")u=c(r);else if(typeof c!="object")return c;if(!u)return null;const d=m$(r.breakpoints),f=Object.keys(d);let m=d;return Object.keys(u).forEach(y=>{const b=t8(u[y],r);if(b!=null)if(typeof b=="object")if(s[y])m=jy(m,n(y,b,r,s));else{const E=Kl({theme:r},b,w=>({[y]:w}));J$(E,b)?m[y]=t({sx:b,theme:r}):m=jy(m,E)}else m=jy(m,n(y,b,r,s))}),c$(r,g$(f,m))}return Array.isArray(i)?i.map(o):o(i)}return t}const Su=e8();Su.filterProps=["sx"];function n8(n,t){var i;const e=this;if(e.vars){if(!((i=e.colorSchemes)!=null&&i[n])||typeof e.getColorSchemeSelector!="function")return{};let r=e.getColorSchemeSelector(n);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return e.palette.mode===n?t:{}}function eI(n={},...t){const{breakpoints:e={},palette:i={},spacing:r,shape:s={},...o}=n,c=l$(e),u=C4(r);let d=yr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...f$,...s}},o);return d=d$(d),d.applyStyles=n8,d=t.reduce((f,m)=>yr(f,m),d),d.unstable_sxConfig={...qb,...o==null?void 0:o.unstable_sxConfig},d.unstable_sx=function(m){return Su({sx:m,theme:this})},d}function i8(n){return Object.keys(n).length===0}function R4(n=null){const t=M.useContext(jb);return!t||i8(t)?n:t}const r8=eI();function nI(n=r8){return R4(n)}function s8({styles:n,themeId:t,defaultTheme:e={}}){const i=nI(e),r=typeof n=="function"?n(t&&i[t]||i):n;return R.jsx(S4,{styles:r})}const a8=n=>{var i;const t={systemProps:{},otherProps:{}},e=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??qb;return Object.keys(n).forEach(r=>{e[r]?t.systemProps[r]=n[r]:t.otherProps[r]=n[r]}),t};function I4(n){const{sx:t,...e}=n,{systemProps:i,otherProps:r}=a8(e);let s;return Array.isArray(t)?s=[i,...t]:typeof t=="function"?s=(...o)=>{const c=t(...o);return yo(c)?{...i,...c}:i}:s={...i,...t},{...r,sx:s}}const FD=n=>n,o8=()=>{let n=FD;return{configure(t){n=t},generate(t){return n(t)},reset(){n=FD}}},k4=o8();function P4(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=P4(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Wt(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=P4(n))&&(i&&(i+=" "),i+=t);return i}function l8(n={}){const{themeId:t,defaultTheme:e,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=w4("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Su);return M.forwardRef(function(u,d){const f=nI(e),{className:m,component:y="div",...b}=I4(u);return R.jsx(s,{as:y,ref:d,className:Wt(m,r?r(i):i),theme:t&&f[t]||f,...b})})}const c8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Te(n,t,e="Mui"){const i=c8[t];return i?`${e}-${i}`:`${k4.generate(n)}-${t}`}function _e(n,t,e="Mui"){const i={};return t.forEach(r=>{i[r]=Te(n,r,e)}),i}function M4(n){const{variants:t,...e}=n,i={variants:t,style:MD(e),isProcessed:!0};return i.style===e||t&&t.forEach(r=>{typeof r.style!="function"&&(r.style=MD(r.style))}),i}const u8=eI();function xx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function h8(n){return n?(t,e)=>e[n]:null}function d8(n,t,e){n.theme=m8(n.theme)?e:n.theme[t]||n.theme}function hE(n,t){const e=typeof t=="function"?t(n):t;if(Array.isArray(e))return e.flatMap(i=>hE(n,i));if(Array.isArray(e==null?void 0:e.variants)){let i;if(e.isProcessed)i=e.style;else{const{variants:r,...s}=e;i=s}return D4(n,e.variants,[i])}return e!=null&&e.isProcessed?e.style:e}function D4(n,t,e=[]){var r;let i;t:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const c in o.props)if(n[c]!==o.props[c]&&((r=n.ownerState)==null?void 0:r[c])!==o.props[c])continue t;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),e.push(o.style(i))):e.push(o.style)}return e}function f8(n={}){const{themeId:t,defaultTheme:e=u8,rootShouldForwardProp:i=xx,slotShouldForwardProp:r=xx}=n;function s(c){d8(c,t,e)}return(c,u={})=>{r$(c,F=>F.filter(j=>j!==Su));const{name:d,slot:f,skipVariantsResolver:m,skipSx:y,overridesResolver:b=h8(y8(f)),...E}=u,w=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,T=y||!1;let A=xx;f==="Root"||f==="root"?A=i:f?A=r:g8(c)&&(A=void 0);const O=w4(c,{shouldForwardProp:A,label:p8(),...E}),k=F=>{if(F.__emotion_real===F)return F;if(typeof F=="function")return function(D){return hE(D,F)};if(yo(F)){const j=M4(F);return j.variants?function(I){return hE(I,j)}:j.style}return F},P=(...F)=>{const j=[],D=F.map(k),I=[];if(j.push(s),d&&b&&I.push(function(q){var X,Z;const tt=(Z=(X=q.theme.components)==null?void 0:X[d])==null?void 0:Z.styleOverrides;if(!tt)return null;const J={};for(const rt in tt)J[rt]=hE(q,tt[rt]);return b(q,J)}),d&&!w&&I.push(function(q){var J,X;const U=q.theme,tt=(X=(J=U==null?void 0:U.components)==null?void 0:J[d])==null?void 0:X.variants;return tt?D4(q,tt):null}),T||I.push(Su),Array.isArray(D[0])){const B=D.shift(),q=new Array(j.length).fill(""),U=new Array(I.length).fill("");let tt;tt=[...q,...B,...U],tt.raw=[...q,...B.raw,...U],j.unshift(tt)}const V=[...j,...D,...I],x=O(...V);return c.muiName&&(x.muiName=c.muiName),x};return O.withConfig&&(P.withConfig=O.withConfig),P}}function p8(n,t){return void 0}function m8(n){for(const t in n)return!1;return!0}function g8(n){return typeof n=="string"&&n.charCodeAt(0)>96}function y8(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function lS(n,t){const e={...t};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=i;if(r==="components"||r==="slots")e[r]={...n[r],...e[r]};else if(r==="componentsProps"||r==="slotProps"){const s=n[r],o=t[r];if(!o)e[r]=s||{};else if(!s)e[r]=o;else{e[r]={...o};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;e[r][u]=lS(s[u],o[u])}}}else e[r]===void 0&&(e[r]=n[r])}return e}const wu=typeof window<"u"?M.useLayoutEffect:M.useEffect;function v8(n,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,e))}function iI(n,t=0,e=1){return v8(n,t,e)}function b8(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(i=>i+i)),e?`rgb${e.length===4?"a":""}(${e.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Au(n){if(n.type)return n;if(n.charAt(0)==="#")return Au(b8(n));const t=n.indexOf("("),e=n.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(Wl(9,n));let i=n.substring(t+1,n.length-1),r;if(e==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Wl(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:e,values:i,colorSpace:r}}const _8=n=>{const t=Au(n);return t.values.slice(0,3).map((e,i)=>t.type.includes("hsl")&&i!==0?`${e}%`:e).join(" ")},by=(n,t)=>{try{return _8(n)}catch{return n}};function vw(n){const{type:t,colorSpace:e}=n;let{values:i}=n;return t.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${e} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function O4(n){n=Au(n);const{values:t}=n,e=t[0],i=t[1]/100,r=t[2]/100,s=i*Math.min(r,1-r),o=(d,f=(d+e/30)%12)=>r-s*Math.max(Math.min(f-3,9-f,1),-1);let c="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(c+="a",u.push(t[3])),vw({type:c,values:u})}function ET(n){n=Au(n);let t=n.type==="hsl"||n.type==="hsla"?Au(O4(n)).values:n.values;return t=t.map(e=>(n.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function E8(n,t){const e=ET(n),i=ET(t);return(Math.max(e,i)+.05)/(Math.min(e,i)+.05)}function Ir(n,t){return n=Au(n),t=iI(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,vw(n)}function L_(n,t,e){try{return Ir(n,t)}catch{return n}}function xm(n,t){if(n=Au(n),t=iI(t),n.type.includes("hsl"))n.values[2]*=1-t;else if(n.type.includes("rgb")||n.type.includes("color"))for(let e=0;e<3;e+=1)n.values[e]*=1-t;return vw(n)}function En(n,t,e){try{return xm(n,t)}catch{return n}}function Tm(n,t){if(n=Au(n),t=iI(t),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*t;else if(n.type.includes("rgb"))for(let e=0;e<3;e+=1)n.values[e]+=(255-n.values[e])*t;else if(n.type.includes("color"))for(let e=0;e<3;e+=1)n.values[e]+=(1-n.values[e])*t;return vw(n)}function Sn(n,t,e){try{return Tm(n,t)}catch{return n}}function S8(n,t=.15){return ET(n)>.5?xm(n,t):Tm(n,t)}function N_(n,t,e){try{return S8(n,t)}catch{return n}}const L4=M.createContext(null);function rI(){return M.useContext(L4)}const w8=typeof Symbol=="function"&&Symbol.for,A8=w8?Symbol.for("mui.nested"):"__THEME_NESTED__";function x8(n,t){return typeof t=="function"?t(n):{...n,...t}}function T8(n){const{children:t,theme:e}=n,i=rI(),r=M.useMemo(()=>{const s=i===null?{...e}:x8(i,e);return s!=null&&(s[A8]=i!==null),s},[e,i]);return R.jsx(L4.Provider,{value:r,children:t})}const N4=M.createContext();function C8({value:n,...t}){return R.jsx(N4.Provider,{value:n??!0,...t})}const R8=()=>M.useContext(N4)??!1,F4=M.createContext(void 0);function I8({value:n,children:t}){return R.jsx(F4.Provider,{value:n,children:t})}function k8(n){const{theme:t,name:e,props:i}=n;if(!t||!t.components||!t.components[e])return i;const r=t.components[e];return r.defaultProps?lS(r.defaultProps,i):!r.styleOverrides&&!r.variants?lS(r,i):i}function P8({props:n,name:t}){const e=M.useContext(F4);return k8({props:n,name:t,theme:{components:e}})}const VD={};function zD(n,t,e,i=!1){return M.useMemo(()=>{const r=n&&t[n]||t;if(typeof e=="function"){const s=e(r),o=n?{...t,[n]:s}:s;return i?()=>o:o}return n?{...t,[n]:e}:{...t,...e}},[n,t,e,i])}function V4(n){const{children:t,theme:e,themeId:i}=n,r=R4(VD),s=rI()||VD,o=zD(i,r,e),c=zD(i,s,e,!0),u=(i?o[i]:o).direction==="rtl";return R.jsx(T8,{theme:c,children:R.jsx(jb.Provider,{value:o,children:R.jsx(C8,{value:u,children:R.jsx(I8,{value:i?o[i].components:o.components,children:t})})})})}const BD={theme:void 0};function M8(n){let t,e;return function(r){let s=t;return(s===void 0||r.theme!==e)&&(BD.theme=r.theme,s=M4(n(BD)),t=s,e=r.theme),s}}const sI="mode",aI="color-scheme",D8="data-color-scheme";function O8(n){const{defaultMode:t="system",defaultLightColorScheme:e="light",defaultDarkColorScheme:i="dark",modeStorageKey:r=sI,colorSchemeStorageKey:s=aI,attribute:o=D8,colorSchemeNode:c="document.documentElement",nonce:u}=n||{};let d="",f=o;if(o==="class"&&(f=".%s"),o==="data"&&(f="[data-%s]"),f.startsWith(".")){const y=f.substring(1);d+=`${c}.classList.remove('${y}'.replace('%s', light), '${y}'.replace('%s', dark));
      ${c}.classList.add('${y}'.replace('%s', colorScheme));`}const m=f.match(/\[([^\]]+)\]/);if(m){const[y,b]=m[1].split("=");b||(d+=`${c}.removeAttribute('${y}'.replace('%s', light));
      ${c}.removeAttribute('${y}'.replace('%s', dark));`),d+=`
      ${c}.setAttribute('${y}'.replace('%s', colorScheme), ${b?`${b}.replace('%s', colorScheme)`:'""'});`}else d+=`${c}.setAttribute('${f}', colorScheme);`;return R.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${i}';
  const light = localStorage.getItem('${s}-light') || '${e}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function L8(){}const N8=({key:n,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(e){if(typeof window>"u")return;if(!t)return e;let i;try{i=t.localStorage.getItem(n)}catch{}return i||e},set:e=>{if(t)try{t.localStorage.setItem(n,e)}catch{}},subscribe:e=>{if(!t)return L8;const i=r=>{const s=r.newValue;r.key===n&&e(s)};return t.addEventListener("storage",i),()=>{t.removeEventListener("storage",i)}}});function Tx(){}function jD(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function z4(n,t){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return t("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return t("dark")}function F8(n){return z4(n,t=>{if(t==="light")return n.lightColorScheme;if(t==="dark")return n.darkColorScheme})}function V8(n){const{defaultMode:t="light",defaultLightColorScheme:e,defaultDarkColorScheme:i,supportedColorSchemes:r=[],modeStorageKey:s=sI,colorSchemeStorageKey:o=aI,storageWindow:c=typeof window>"u"?void 0:window,storageManager:u=N8,noSsr:d=!1}=n,f=r.join(","),m=r.length>1,y=M.useMemo(()=>u==null?void 0:u({key:s,storageWindow:c}),[u,s,c]),b=M.useMemo(()=>u==null?void 0:u({key:`${o}-light`,storageWindow:c}),[u,o,c]),E=M.useMemo(()=>u==null?void 0:u({key:`${o}-dark`,storageWindow:c}),[u,o,c]),[w,T]=M.useState(()=>{const I=(y==null?void 0:y.get(t))||t,V=(b==null?void 0:b.get(e))||e,x=(E==null?void 0:E.get(i))||i;return{mode:I,systemMode:jD(I),lightColorScheme:V,darkColorScheme:x}}),[A,O]=M.useState(d||!m);M.useEffect(()=>{O(!0)},[]);const k=F8(w),P=M.useCallback(I=>{T(V=>{if(I===V.mode)return V;const x=I??t;return y==null||y.set(x),{...V,mode:x,systemMode:jD(x)}})},[y,t]),F=M.useCallback(I=>{I?typeof I=="string"?I&&!f.includes(I)?console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`):T(V=>{const x={...V};return z4(V,B=>{B==="light"&&(b==null||b.set(I),x.lightColorScheme=I),B==="dark"&&(E==null||E.set(I),x.darkColorScheme=I)}),x}):T(V=>{const x={...V},B=I.light===null?e:I.light,q=I.dark===null?i:I.dark;return B&&(f.includes(B)?(x.lightColorScheme=B,b==null||b.set(B)):console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`)),q&&(f.includes(q)?(x.darkColorScheme=q,E==null||E.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),x}):T(V=>(b==null||b.set(e),E==null||E.set(i),{...V,lightColorScheme:e,darkColorScheme:i}))},[f,b,E,e,i]),j=M.useCallback(I=>{w.mode==="system"&&T(V=>{const x=I!=null&&I.matches?"dark":"light";return V.systemMode===x?V:{...V,systemMode:x}})},[w.mode]),D=M.useRef(j);return D.current=j,M.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const I=(...x)=>D.current(...x),V=window.matchMedia("(prefers-color-scheme: dark)");return V.addListener(I),I(V),()=>{V.removeListener(I)}},[m]),M.useEffect(()=>{if(m){const I=(y==null?void 0:y.subscribe(B=>{(!B||["light","dark","system"].includes(B))&&P(B||t)}))||Tx,V=(b==null?void 0:b.subscribe(B=>{(!B||f.match(B))&&F({light:B})}))||Tx,x=(E==null?void 0:E.subscribe(B=>{(!B||f.match(B))&&F({dark:B})}))||Tx;return()=>{I(),V(),x()}}},[F,P,f,t,c,m,y,b,E]),{...w,mode:A?w.mode:void 0,systemMode:A?w.systemMode:void 0,colorScheme:A?k:void 0,setMode:P,setColorScheme:F}}const z8="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function B8(n){const{themeId:t,theme:e={},modeStorageKey:i=sI,colorSchemeStorageKey:r=aI,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:c}=n,u={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=M.createContext(void 0),f=()=>M.useContext(d)||u,m={},y={};function b(A){var ct,mt,Dt,Vt;const{children:O,theme:k,modeStorageKey:P=i,colorSchemeStorageKey:F=r,disableTransitionOnChange:j=s,storageManager:D,storageWindow:I=typeof window>"u"?void 0:window,documentNode:V=typeof document>"u"?void 0:document,colorSchemeNode:x=typeof document>"u"?void 0:document.documentElement,disableNestedContext:B=!1,disableStyleSheetGeneration:q=!1,defaultMode:U="system",forceThemeRerender:tt=!1,noSsr:J}=A,X=M.useRef(!1),Z=rI(),rt=M.useContext(d),dt=!!rt&&!B,N=M.useMemo(()=>k||(typeof e=="function"?e():e),[k]),st=N[t],ut=st||N,{colorSchemes:G=m,components:St=y,cssVarPrefix:Ct}=ut,wt=Object.keys(G).filter(Gt=>!!G[Gt]).join(","),It=M.useMemo(()=>wt.split(","),[wt]),zt=typeof o=="string"?o:o.light,Kt=typeof o=="string"?o:o.dark,xt=G[zt]&&G[Kt]?U:((mt=(ct=G[ut.defaultColorScheme])==null?void 0:ct.palette)==null?void 0:mt.mode)||((Dt=ut.palette)==null?void 0:Dt.mode),{mode:Qt,setMode:ee,systemMode:jt,lightColorScheme:Lt,darkColorScheme:te,colorScheme:pe,setColorScheme:ge}=V8({supportedColorSchemes:It,defaultLightColorScheme:zt,defaultDarkColorScheme:Kt,modeStorageKey:P,colorSchemeStorageKey:F,defaultMode:xt,storageManager:D,storageWindow:I,noSsr:J});let Fe=Qt,He=pe;dt&&(Fe=rt.mode,He=rt.colorScheme);let $e=He||ut.defaultColorScheme;ut.vars&&!tt&&($e=ut.defaultColorScheme);const Ee=M.useMemo(()=>{var Je;const Gt=((Je=ut.generateThemeVars)==null?void 0:Je.call(ut))||ut.vars,$t={...ut,components:St,colorSchemes:G,cssVarPrefix:Ct,vars:Gt};if(typeof $t.generateSpacing=="function"&&($t.spacing=$t.generateSpacing()),$e){const Ve=G[$e];Ve&&typeof Ve=="object"&&Object.keys(Ve).forEach(dn=>{Ve[dn]&&typeof Ve[dn]=="object"?$t[dn]={...$t[dn],...Ve[dn]}:$t[dn]=Ve[dn]})}return c?c($t):$t},[ut,$e,St,G,Ct]),Ut=ut.colorSchemeSelector;wu(()=>{if(He&&x&&Ut&&Ut!=="media"){const Gt=Ut;let $t=Ut;if(Gt==="class"&&($t=".%s"),Gt==="data"&&($t="[data-%s]"),Gt!=null&&Gt.startsWith("data-")&&!Gt.includes("%s")&&($t=`[${Gt}="%s"]`),$t.startsWith("."))x.classList.remove(...It.map(Je=>$t.substring(1).replace("%s",Je))),x.classList.add($t.substring(1).replace("%s",He));else{const Je=$t.replace("%s",He).match(/\[([^\]]+)\]/);if(Je){const[Ve,dn]=Je[1].split("=");dn||It.forEach(Nt=>{x.removeAttribute(Ve.replace(He,Nt))}),x.setAttribute(Ve,dn?dn.replace(/"|'/g,""):"")}else x.setAttribute($t,He)}}},[He,Ut,x,It]),M.useEffect(()=>{let Gt;if(j&&X.current&&V){const $t=V.createElement("style");$t.appendChild(V.createTextNode(z8)),V.head.appendChild($t),window.getComputedStyle(V.body),Gt=setTimeout(()=>{V.head.removeChild($t)},1)}return()=>{clearTimeout(Gt)}},[He,j,V]),M.useEffect(()=>(X.current=!0,()=>{X.current=!1}),[]);const Qn=M.useMemo(()=>({allColorSchemes:It,colorScheme:He,darkColorScheme:te,lightColorScheme:Lt,mode:Fe,setColorScheme:ge,setMode:ee,systemMode:jt}),[It,He,te,Lt,Fe,ge,ee,jt,Ee.colorSchemeSelector]);let Ze=!0;(q||ut.cssVariables===!1||dt&&(Z==null?void 0:Z.cssVarPrefix)===Ct)&&(Ze=!1);const ki=R.jsxs(M.Fragment,{children:[R.jsx(V4,{themeId:st?t:void 0,theme:Ee,children:O}),Ze&&R.jsx(S4,{styles:((Vt=Ee.generateStyleSheets)==null?void 0:Vt.call(Ee))||[]})]});return dt?ki:R.jsx(d.Provider,{value:Qn,children:ki})}const E=typeof o=="string"?o:o.light,w=typeof o=="string"?o:o.dark;return{CssVarsProvider:b,useColorScheme:f,getInitColorSchemeScript:A=>O8({colorSchemeStorageKey:r,defaultLightColorScheme:E,defaultDarkColorScheme:w,modeStorageKey:i,...A})}}function j8(n=""){function t(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${t(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${t(...r)})`}const UD=(n,t,e,i=[])=>{let r=n;t.forEach((s,o)=>{o===t.length-1?Array.isArray(r)?r[Number(s)]=e:r&&typeof r=="object"&&(r[s]=e):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},U8=(n,t,e)=>{function i(r,s=[],o=[]){Object.entries(r).forEach(([c,u])=>{(!e||e&&!e([...s,c]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...s,c],Array.isArray(u)?[...o,c]:o):t([...s,c],u,o))})}i(n)},H8=(n,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Cx(n,t){const{prefix:e,shouldSkipGeneratingVar:i}=t||{},r={},s={},o={};return U8(n,(c,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(c,u))){const f=`--${e?`${e}-`:""}${c.join("-")}`,m=H8(c,u);Object.assign(r,{[f]:m}),UD(s,c,`var(${f})`,d),UD(o,c,`var(${f}, ${m})`,d)}},c=>c[0]==="vars"),{css:r,vars:s,varsWithDefaults:o}}function $8(n,t={}){const{getSelector:e=T,disableCssColorScheme:i,colorSchemeSelector:r}=t,{colorSchemes:s={},components:o,defaultColorScheme:c="light",...u}=n,{vars:d,css:f,varsWithDefaults:m}=Cx(u,t);let y=m;const b={},{[c]:E,...w}=s;if(Object.entries(w||{}).forEach(([k,P])=>{const{vars:F,css:j,varsWithDefaults:D}=Cx(P,t);y=yr(y,D),b[k]={css:j,vars:F}}),E){const{css:k,vars:P,varsWithDefaults:F}=Cx(E,t);y=yr(y,F),b[c]={css:k,vars:P}}function T(k,P){var j,D;let F=r;if(r==="class"&&(F=".%s"),r==="data"&&(F="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(F=`[${r}="%s"]`),k){if(F==="media")return n.defaultColorScheme===k?":root":{[`@media (prefers-color-scheme: ${((D=(j=s[k])==null?void 0:j.palette)==null?void 0:D.mode)||k})`]:{":root":P}};if(F)return n.defaultColorScheme===k?`:root, ${F.replace("%s",String(k))}`:F.replace("%s",String(k))}return":root"}return{vars:y,generateThemeVars:()=>{let k={...d};return Object.entries(b).forEach(([,{vars:P}])=>{k=yr(k,P)}),k},generateStyleSheets:()=>{var I,V;const k=[],P=n.defaultColorScheme||"light";function F(x,B){Object.keys(B).length&&k.push(typeof x=="string"?{[x]:{...B}}:x)}F(e(void 0,{...f}),f);const{[P]:j,...D}=b;if(j){const{css:x}=j,B=(V=(I=s[P])==null?void 0:I.palette)==null?void 0:V.mode,q=!i&&B?{colorScheme:B,...x}:{...x};F(e(P,{...q}),q)}return Object.entries(D).forEach(([x,{css:B}])=>{var tt,J;const q=(J=(tt=s[x])==null?void 0:tt.palette)==null?void 0:J.mode,U=!i&&q?{colorScheme:q,...B}:{...B};F(e(x,{...U}),U)}),k}}}function q8(n){return function(e){return n==="media"?`@media (prefers-color-scheme: ${e})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${e}"] &`:n==="class"?`.${e} &`:n==="data"?`[data-${e}] &`:`${n.replace("%s",e)} &`:"&"}}function Ce(n,t,e=void 0){const i={};for(const r in n){const s=n[r];let o="",c=!0;for(let u=0;u<s.length;u+=1){const d=s[u];d&&(o+=(c===!0?"":" ")+t(d),c=!1,e&&e[d]&&(o+=" "+e[d]))}i[r]=o}return i}function dE(n,t){var e,i,r;return M.isValidElement(n)&&t.indexOf(n.type.muiName??((r=(i=(e=n.type)==null?void 0:e._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}const _o="$$material",av={black:"#000",white:"#fff"},G8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Uf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Hf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ly={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},$f={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},qf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Gf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function B4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:av.white,default:av.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const W8=B4();function j4(){return{text:{primary:av.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:av.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const HD=j4();function $D(n,t,e,i){const r=i.light||i,s=i.dark||i*1.5;n[t]||(n.hasOwnProperty(e)?n[t]=n[e]:t==="light"?n.light=Tm(n.main,r):t==="dark"&&(n.dark=xm(n.main,s)))}function K8(n="light"){return n==="dark"?{main:$f[200],light:$f[50],dark:$f[400]}:{main:$f[700],light:$f[400],dark:$f[800]}}function Y8(n="light"){return n==="dark"?{main:Uf[200],light:Uf[50],dark:Uf[400]}:{main:Uf[500],light:Uf[300],dark:Uf[700]}}function X8(n="light"){return n==="dark"?{main:Hf[500],light:Hf[300],dark:Hf[700]}:{main:Hf[700],light:Hf[400],dark:Hf[800]}}function Q8(n="light"){return n==="dark"?{main:qf[400],light:qf[300],dark:qf[700]}:{main:qf[700],light:qf[500],dark:qf[900]}}function Z8(n="light"){return n==="dark"?{main:Gf[400],light:Gf[300],dark:Gf[700]}:{main:Gf[800],light:Gf[500],dark:Gf[900]}}function J8(n="light"){return n==="dark"?{main:ly[400],light:ly[300],dark:ly[700]}:{main:"#ed6c02",light:ly[500],dark:ly[900]}}function oI(n){const{mode:t="light",contrastThreshold:e=3,tonalOffset:i=.2,...r}=n,s=n.primary||K8(t),o=n.secondary||Y8(t),c=n.error||X8(t),u=n.info||Q8(t),d=n.success||Z8(t),f=n.warning||J8(t);function m(w){return E8(w,HD.text.primary)>=e?HD.text.primary:W8.text.primary}const y=({color:w,name:T,mainShade:A=500,lightShade:O=300,darkShade:k=700})=>{if(w={...w},!w.main&&w[A]&&(w.main=w[A]),!w.hasOwnProperty("main"))throw new Error(Wl(11,T?` (${T})`:"",A));if(typeof w.main!="string")throw new Error(Wl(12,T?` (${T})`:"",JSON.stringify(w.main)));return $D(w,"light",O,i),$D(w,"dark",k,i),w.contrastText||(w.contrastText=m(w.main)),w};let b;return t==="light"?b=B4():t==="dark"&&(b=j4()),yr({common:{...av},mode:t,primary:y({color:s,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:f,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:d,name:"success"}),grey:G8,contrastThreshold:e,getContrastText:m,augmentColor:y,tonalOffset:i,...b},r)}function t7(n){const t={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(t[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function e7(n,t){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...t}}function n7(n){return Math.round(n*1e5)/1e5}const qD={textTransform:"uppercase"},GD='"Roboto", "Helvetica", "Arial", sans-serif';function U4(n,t){const{fontFamily:e=GD,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:d,pxToRem:f,...m}=typeof t=="function"?t(n):t,y=i/14,b=f||(T=>`${T/u*y}rem`),E=(T,A,O,k,P)=>({fontFamily:e,fontWeight:T,fontSize:b(A),lineHeight:O,...e===GD?{letterSpacing:`${n7(k/A)}em`}:{},...P,...d}),w={h1:E(r,96,1.167,-1.5),h2:E(r,60,1.2,-.5),h3:E(s,48,1.167,0),h4:E(s,34,1.235,.25),h5:E(s,24,1.334,0),h6:E(o,20,1.6,.15),subtitle1:E(s,16,1.75,.15),subtitle2:E(o,14,1.57,.1),body1:E(s,16,1.5,.15),body2:E(s,14,1.43,.15),button:E(o,14,1.75,.4,qD),caption:E(s,12,1.66,.4),overline:E(s,12,2.66,1,qD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr({htmlFontSize:u,pxToRem:b,fontFamily:e,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:c,...w},m,{clone:!1})}const i7=.2,r7=.14,s7=.12;function Dn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${i7})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${r7})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${s7})`].join(",")}const a7=["none",Dn(0,2,1,-1,0,1,1,0,0,1,3,0),Dn(0,3,1,-2,0,2,2,0,0,1,5,0),Dn(0,3,3,-2,0,3,4,0,0,1,8,0),Dn(0,2,4,-1,0,4,5,0,0,1,10,0),Dn(0,3,5,-1,0,5,8,0,0,1,14,0),Dn(0,3,5,-1,0,6,10,0,0,1,18,0),Dn(0,4,5,-2,0,7,10,1,0,2,16,1),Dn(0,5,5,-3,0,8,10,1,0,3,14,2),Dn(0,5,6,-3,0,9,12,1,0,3,16,2),Dn(0,6,6,-3,0,10,14,1,0,4,18,3),Dn(0,6,7,-4,0,11,15,1,0,4,20,3),Dn(0,7,8,-4,0,12,17,2,0,5,22,4),Dn(0,7,8,-4,0,13,19,2,0,5,24,4),Dn(0,7,9,-4,0,14,21,2,0,5,26,4),Dn(0,8,9,-5,0,15,22,2,0,6,28,5),Dn(0,8,10,-5,0,16,24,2,0,6,30,5),Dn(0,8,11,-5,0,17,26,2,0,6,32,5),Dn(0,9,11,-5,0,18,28,2,0,7,34,6),Dn(0,9,12,-6,0,19,29,2,0,7,36,6),Dn(0,10,13,-6,0,20,31,3,0,8,38,7),Dn(0,10,13,-6,0,21,33,3,0,8,40,7),Dn(0,10,14,-6,0,22,35,3,0,8,42,7),Dn(0,11,14,-7,0,23,36,3,0,9,44,8),Dn(0,11,15,-7,0,24,38,3,0,9,46,8)],o7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},l7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WD(n){return`${Math.round(n)}ms`}function c7(n){if(!n)return 0;const t=n/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function u7(n){const t={...o7,...n.easing},e={...l7,...n.duration};return{getAutoHeightDuration:c7,create:(r=["all"],s={})=>{const{duration:o=e.standard,easing:c=t.easeInOut,delay:u=0,...d}=s;return(Array.isArray(r)?r:[r]).map(f=>`${f} ${typeof o=="string"?o:WD(o)} ${c} ${typeof u=="string"?u:WD(u)}`).join(",")},...n,easing:t,duration:e}}const h7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function d7(n){return yo(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function H4(n={}){const t={...n};function e(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[o,c]=r[s];!d7(c)||o.startsWith("unstable_")?delete i[o]:yo(c)&&(i[o]={...c},e(i[o]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function ST(n={},...t){const{breakpoints:e,mixins:i={},spacing:r,palette:s={},transitions:o={},typography:c={},shape:u,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Wl(20));const f=oI(s),m=eI(n);let y=yr(m,{mixins:e7(m.breakpoints,i),palette:f,shadows:a7.slice(),typography:U4(f,c),transitions:u7(o),zIndex:{...h7}});return y=yr(y,d),y=t.reduce((b,E)=>yr(b,E),y),y.unstable_sxConfig={...qb,...d==null?void 0:d.unstable_sxConfig},y.unstable_sx=function(E){return Su({sx:E,theme:this})},y.toRuntimeSource=H4,y}function wT(n){let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,Math.round(t*10)/1e3}const f7=[...Array(25)].map((n,t)=>{if(t===0)return"none";const e=wT(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function $4(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function q4(n){return n==="dark"?f7:[]}function p7(n){const{palette:t={mode:"light"},opacity:e,overlays:i,...r}=n,s=oI(t);return{palette:s,opacity:{...$4(s.mode),...e},overlays:i||q4(s.mode),...r}}function m7(n){var t;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((t=n[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const g7=n=>[...[...Array(25)].map((t,e)=>`--${n?`${n}-`:""}overlays-${e}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],y7=n=>(t,e)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===t){if(t==="dark"){const o={};return g7(n.cssVarPrefix).forEach(c=>{o[c]=e[c],delete e[c]}),s==="media"?{[i]:e,"@media (prefers-color-scheme: dark)":{[i]:o}}:s?{[s.replace("%s",t)]:o,[`${i}, ${s.replace("%s",t)}`]:e}:{[i]:{...e,...o}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:e}};if(s)return s.replace("%s",String(t))}return i};function v7(n,t){t.forEach(e=>{n[e]||(n[e]={})})}function pt(n,t,e){!n[t]&&e&&(n[t]=e)}function _y(n){return typeof n!="string"||!n.startsWith("hsl")?n:O4(n)}function al(n,t){`${t}Channel`in n||(n[`${t}Channel`]=by(_y(n[t])))}function b7(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const qa=n=>{try{return n()}catch{}},_7=(n="mui")=>j8(n);function Rx(n,t,e,i){if(!t)return;t=t===!0?{}:t;const r=i==="dark"?"dark":"light";if(!e){n[i]=p7({...t,palette:{mode:r,...t==null?void 0:t.palette}});return}const{palette:s,...o}=ST({...e,palette:{mode:r,...t==null?void 0:t.palette}});return n[i]={...t,palette:s,opacity:{...$4(r),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||q4(r)},o}function E7(n={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=m7,colorSchemeSelector:c=e.light&&e.dark?"media":void 0,rootSelector:u=":root",...d}=n,f=Object.keys(e)[0],m=i||(e.light&&f!=="light"?"light":f),y=_7(s),{[m]:b,light:E,dark:w,...T}=e,A={...T};let O=b;if((m==="dark"&&!("dark"in e)||m==="light"&&!("light"in e))&&(O=!0),!O)throw new Error(Wl(21,m));const k=Rx(A,O,d,m);E&&!A.light&&Rx(A,E,void 0,"light"),w&&!A.dark&&Rx(A,w,void 0,"dark");let P={defaultColorScheme:m,...k,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:u,getCssVar:y,colorSchemes:A,font:{...t7(k.typography),...k.font},spacing:b7(d.spacing)};Object.keys(P.colorSchemes).forEach(V=>{const x=P.colorSchemes[V].palette,B=q=>{const U=q.split("-"),tt=U[1],J=U[2];return y(q,x[tt][J])};if(x.mode==="light"&&(pt(x.common,"background","#fff"),pt(x.common,"onBackground","#000")),x.mode==="dark"&&(pt(x.common,"background","#000"),pt(x.common,"onBackground","#fff")),v7(x,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),x.mode==="light"){pt(x.Alert,"errorColor",En(x.error.light,.6)),pt(x.Alert,"infoColor",En(x.info.light,.6)),pt(x.Alert,"successColor",En(x.success.light,.6)),pt(x.Alert,"warningColor",En(x.warning.light,.6)),pt(x.Alert,"errorFilledBg",B("palette-error-main")),pt(x.Alert,"infoFilledBg",B("palette-info-main")),pt(x.Alert,"successFilledBg",B("palette-success-main")),pt(x.Alert,"warningFilledBg",B("palette-warning-main")),pt(x.Alert,"errorFilledColor",qa(()=>x.getContrastText(x.error.main))),pt(x.Alert,"infoFilledColor",qa(()=>x.getContrastText(x.info.main))),pt(x.Alert,"successFilledColor",qa(()=>x.getContrastText(x.success.main))),pt(x.Alert,"warningFilledColor",qa(()=>x.getContrastText(x.warning.main))),pt(x.Alert,"errorStandardBg",Sn(x.error.light,.9)),pt(x.Alert,"infoStandardBg",Sn(x.info.light,.9)),pt(x.Alert,"successStandardBg",Sn(x.success.light,.9)),pt(x.Alert,"warningStandardBg",Sn(x.warning.light,.9)),pt(x.Alert,"errorIconColor",B("palette-error-main")),pt(x.Alert,"infoIconColor",B("palette-info-main")),pt(x.Alert,"successIconColor",B("palette-success-main")),pt(x.Alert,"warningIconColor",B("palette-warning-main")),pt(x.AppBar,"defaultBg",B("palette-grey-100")),pt(x.Avatar,"defaultBg",B("palette-grey-400")),pt(x.Button,"inheritContainedBg",B("palette-grey-300")),pt(x.Button,"inheritContainedHoverBg",B("palette-grey-A100")),pt(x.Chip,"defaultBorder",B("palette-grey-400")),pt(x.Chip,"defaultAvatarColor",B("palette-grey-700")),pt(x.Chip,"defaultIconColor",B("palette-grey-700")),pt(x.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),pt(x.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),pt(x.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),pt(x.LinearProgress,"primaryBg",Sn(x.primary.main,.62)),pt(x.LinearProgress,"secondaryBg",Sn(x.secondary.main,.62)),pt(x.LinearProgress,"errorBg",Sn(x.error.main,.62)),pt(x.LinearProgress,"infoBg",Sn(x.info.main,.62)),pt(x.LinearProgress,"successBg",Sn(x.success.main,.62)),pt(x.LinearProgress,"warningBg",Sn(x.warning.main,.62)),pt(x.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),pt(x.Slider,"primaryTrack",Sn(x.primary.main,.62)),pt(x.Slider,"secondaryTrack",Sn(x.secondary.main,.62)),pt(x.Slider,"errorTrack",Sn(x.error.main,.62)),pt(x.Slider,"infoTrack",Sn(x.info.main,.62)),pt(x.Slider,"successTrack",Sn(x.success.main,.62)),pt(x.Slider,"warningTrack",Sn(x.warning.main,.62));const q=N_(x.background.default,.8);pt(x.SnackbarContent,"bg",q),pt(x.SnackbarContent,"color",qa(()=>x.getContrastText(q))),pt(x.SpeedDialAction,"fabHoverBg",N_(x.background.paper,.15)),pt(x.StepConnector,"border",B("palette-grey-400")),pt(x.StepContent,"border",B("palette-grey-400")),pt(x.Switch,"defaultColor",B("palette-common-white")),pt(x.Switch,"defaultDisabledColor",B("palette-grey-100")),pt(x.Switch,"primaryDisabledColor",Sn(x.primary.main,.62)),pt(x.Switch,"secondaryDisabledColor",Sn(x.secondary.main,.62)),pt(x.Switch,"errorDisabledColor",Sn(x.error.main,.62)),pt(x.Switch,"infoDisabledColor",Sn(x.info.main,.62)),pt(x.Switch,"successDisabledColor",Sn(x.success.main,.62)),pt(x.Switch,"warningDisabledColor",Sn(x.warning.main,.62)),pt(x.TableCell,"border",Sn(L_(x.divider,1),.88)),pt(x.Tooltip,"bg",L_(x.grey[700],.92))}if(x.mode==="dark"){pt(x.Alert,"errorColor",Sn(x.error.light,.6)),pt(x.Alert,"infoColor",Sn(x.info.light,.6)),pt(x.Alert,"successColor",Sn(x.success.light,.6)),pt(x.Alert,"warningColor",Sn(x.warning.light,.6)),pt(x.Alert,"errorFilledBg",B("palette-error-dark")),pt(x.Alert,"infoFilledBg",B("palette-info-dark")),pt(x.Alert,"successFilledBg",B("palette-success-dark")),pt(x.Alert,"warningFilledBg",B("palette-warning-dark")),pt(x.Alert,"errorFilledColor",qa(()=>x.getContrastText(x.error.dark))),pt(x.Alert,"infoFilledColor",qa(()=>x.getContrastText(x.info.dark))),pt(x.Alert,"successFilledColor",qa(()=>x.getContrastText(x.success.dark))),pt(x.Alert,"warningFilledColor",qa(()=>x.getContrastText(x.warning.dark))),pt(x.Alert,"errorStandardBg",En(x.error.light,.9)),pt(x.Alert,"infoStandardBg",En(x.info.light,.9)),pt(x.Alert,"successStandardBg",En(x.success.light,.9)),pt(x.Alert,"warningStandardBg",En(x.warning.light,.9)),pt(x.Alert,"errorIconColor",B("palette-error-main")),pt(x.Alert,"infoIconColor",B("palette-info-main")),pt(x.Alert,"successIconColor",B("palette-success-main")),pt(x.Alert,"warningIconColor",B("palette-warning-main")),pt(x.AppBar,"defaultBg",B("palette-grey-900")),pt(x.AppBar,"darkBg",B("palette-background-paper")),pt(x.AppBar,"darkColor",B("palette-text-primary")),pt(x.Avatar,"defaultBg",B("palette-grey-600")),pt(x.Button,"inheritContainedBg",B("palette-grey-800")),pt(x.Button,"inheritContainedHoverBg",B("palette-grey-700")),pt(x.Chip,"defaultBorder",B("palette-grey-700")),pt(x.Chip,"defaultAvatarColor",B("palette-grey-300")),pt(x.Chip,"defaultIconColor",B("palette-grey-300")),pt(x.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),pt(x.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),pt(x.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),pt(x.LinearProgress,"primaryBg",En(x.primary.main,.5)),pt(x.LinearProgress,"secondaryBg",En(x.secondary.main,.5)),pt(x.LinearProgress,"errorBg",En(x.error.main,.5)),pt(x.LinearProgress,"infoBg",En(x.info.main,.5)),pt(x.LinearProgress,"successBg",En(x.success.main,.5)),pt(x.LinearProgress,"warningBg",En(x.warning.main,.5)),pt(x.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),pt(x.Slider,"primaryTrack",En(x.primary.main,.5)),pt(x.Slider,"secondaryTrack",En(x.secondary.main,.5)),pt(x.Slider,"errorTrack",En(x.error.main,.5)),pt(x.Slider,"infoTrack",En(x.info.main,.5)),pt(x.Slider,"successTrack",En(x.success.main,.5)),pt(x.Slider,"warningTrack",En(x.warning.main,.5));const q=N_(x.background.default,.98);pt(x.SnackbarContent,"bg",q),pt(x.SnackbarContent,"color",qa(()=>x.getContrastText(q))),pt(x.SpeedDialAction,"fabHoverBg",N_(x.background.paper,.15)),pt(x.StepConnector,"border",B("palette-grey-600")),pt(x.StepContent,"border",B("palette-grey-600")),pt(x.Switch,"defaultColor",B("palette-grey-300")),pt(x.Switch,"defaultDisabledColor",B("palette-grey-600")),pt(x.Switch,"primaryDisabledColor",En(x.primary.main,.55)),pt(x.Switch,"secondaryDisabledColor",En(x.secondary.main,.55)),pt(x.Switch,"errorDisabledColor",En(x.error.main,.55)),pt(x.Switch,"infoDisabledColor",En(x.info.main,.55)),pt(x.Switch,"successDisabledColor",En(x.success.main,.55)),pt(x.Switch,"warningDisabledColor",En(x.warning.main,.55)),pt(x.TableCell,"border",En(L_(x.divider,1),.68)),pt(x.Tooltip,"bg",L_(x.grey[700],.92))}al(x.background,"default"),al(x.background,"paper"),al(x.common,"background"),al(x.common,"onBackground"),al(x,"divider"),Object.keys(x).forEach(q=>{const U=x[q];q!=="tonalOffset"&&U&&typeof U=="object"&&(U.main&&pt(x[q],"mainChannel",by(_y(U.main))),U.light&&pt(x[q],"lightChannel",by(_y(U.light))),U.dark&&pt(x[q],"darkChannel",by(_y(U.dark))),U.contrastText&&pt(x[q],"contrastTextChannel",by(_y(U.contrastText))),q==="text"&&(al(x[q],"primary"),al(x[q],"secondary")),q==="action"&&(U.active&&al(x[q],"active"),U.selected&&al(x[q],"selected")))})}),P=t.reduce((V,x)=>yr(V,x),P);const F={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:y7(P)},{vars:j,generateThemeVars:D,generateStyleSheets:I}=$8(P,F);return P.vars=j,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([V,x])=>{P[V]=x}),P.generateThemeVars=D,P.generateStyleSheets=I,P.generateSpacing=function(){return C4(d.spacing,JR(this))},P.getColorSchemeSelector=q8(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=o,P.unstable_sxConfig={...qb,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(x){return Su({sx:x,theme:this})},P.toRuntimeSource=H4,P}function KD(n,t,e){n.colorSchemes&&e&&(n.colorSchemes[t]={...e!==!0&&e,palette:oI({...e===!0?{}:e.palette,mode:t})})}function bw(n={},...t){const{palette:e,cssVariables:i=!1,colorSchemes:r=e?void 0:{light:!0},defaultColorScheme:s=e==null?void 0:e.mode,...o}=n,c=s||"light",u=r==null?void 0:r[c],d={...r,...e?{[c]:{...typeof u!="boolean"&&u,palette:e}}:void 0};if(i===!1){if(!("colorSchemes"in n))return ST(n,...t);let f=e;"palette"in n||d[c]&&(d[c]!==!0?f=d[c].palette:c==="dark"&&(f={mode:"dark"}));const m=ST({...n,palette:f},...t);return m.defaultColorScheme=c,m.colorSchemes=d,m.palette.mode==="light"&&(m.colorSchemes.light={...d.light!==!0&&d.light,palette:m.palette},KD(m,"dark",d.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:m.palette},KD(m,"light",d.light)),m}return!e&&!("light"in d)&&c==="light"&&(d.light=!0),E7({...o,colorSchemes:d,defaultColorScheme:c,...typeof i!="boolean"&&i},...t)}function S7(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function w7(n){return parseFloat(n)}const lI=bw();function _w(){const n=nI(lI);return n[_o]||n}function G4(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Ra=n=>G4(n)&&n!=="classes",Mt=f8({themeId:_o,defaultTheme:lI,rootShouldForwardProp:Ra});function A7({theme:n,...t}){const e=_o in n?n[_o]:void 0;return R.jsx(V4,{...t,themeId:e?_o:void 0,theme:e||n})}const F_={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:x7}=B8({themeId:_o,theme:()=>bw({cssVariables:!0}),colorSchemeStorageKey:F_.colorSchemeStorageKey,modeStorageKey:F_.modeStorageKey,defaultColorScheme:{light:F_.defaultLightColorScheme,dark:F_.defaultDarkColorScheme},resolveTheme:n=>{const t={...n,typography:U4(n.palette,n.typography)};return t.unstable_sx=function(i){return Su({sx:i,theme:this})},t}}),T7=x7;function C7({theme:n,...t}){const e=M.useMemo(()=>{if(typeof n=="function")return n;const i=_o in n?n[_o]:n;return"colorSchemes"in i?null:"vars"in i?n:{...n,vars:null}},[n]);return e?R.jsx(A7,{theme:e,...t}):R.jsx(T7,{theme:n,...t})}const R7=_e("MuiBox",["root"]),I7=bw(),yt=l8({themeId:_o,defaultTheme:I7,defaultClassName:R7.root,generateClassName:k4.generate});function k7(n){return R.jsx(s8,{...n,defaultTheme:lI,themeId:_o})}function P7(n){return function(e){return R.jsx(k7,{styles:typeof n=="function"?i=>n({theme:i,...e}):n})}}function M7(){return I4}const hn=M8;function ke(n){return P8(n)}function D7(n){return typeof n.main=="string"}function O7(n,t=[]){if(!D7(n))return!1;for(const e of t)if(!n.hasOwnProperty(e)||typeof n[e]!="string")return!1;return!0}function Ys(n=[]){return([,t])=>t&&O7(t,n)}function L7(n){return Te("MuiTypography",n)}const YD=_e("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),N7={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},F7=M7(),V7=n=>{const{align:t,gutterBottom:e,noWrap:i,paragraph:r,variant:s,classes:o}=n,c={root:["root",s,n.align!=="inherit"&&`align${qt(t)}`,e&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return Ce(c,L7,o)},z7=Mt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${qt(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(hn(({theme:n})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,i])=>e!=="inherit"&&i&&typeof i=="object").map(([e,i])=>({props:{variant:e},style:i})),...Object.entries(n.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(((t=n.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${qt(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),XD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},At=M.forwardRef(function(t,e){const{color:i,...r}=ke({props:t,name:"MuiTypography"}),s=!N7[i],o=F7({...r,...s&&{color:i}}),{align:c="inherit",className:u,component:d,gutterBottom:f=!1,noWrap:m=!1,paragraph:y=!1,variant:b="body1",variantMapping:E=XD,...w}=o,T={...o,align:c,color:i,className:u,component:d,gutterBottom:f,noWrap:m,paragraph:y,variant:b,variantMapping:E},A=d||(y?"p":E[b]||XD[b])||"span",O=V7(T);return R.jsx(z7,{as:A,ref:e,className:Wt(O.root,u),...w,ownerState:T,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...w.style}})});function QD(...n){return n.reduce((t,e)=>e==null?t:function(...r){t.apply(this,r),e.apply(this,r)},()=>{})}function B7(n){return Te("MuiSvgIcon",n)}_e("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const j7=n=>{const{color:t,fontSize:e,classes:i}=n,r={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(e)}`]};return Ce(r,B7,i)},U7=Mt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="inherit"&&t[`color${qt(e.color)}`],t[`fontSize${qt(e.fontSize)}`]]}})(hn(({theme:n})=>{var t,e,i,r,s,o,c,u,d,f,m,y,b,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(t=n.transitions)==null?void 0:t.create)==null?void 0:r.call(t,"fill",{duration:(i=(e=(n.vars??n).transitions)==null?void 0:e.duration)==null?void 0:i.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((f=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var T,A;return{props:{color:w},style:{color:(A=(T=(n.vars??n).palette)==null?void 0:T[w])==null?void 0:A.main}}}),{props:{color:"action"},style:{color:(y=(m=(n.vars??n).palette)==null?void 0:m.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(E=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:E.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),AT=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiSvgIcon"}),{children:r,className:s,color:o="inherit",component:c="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:f=!1,titleAccess:m,viewBox:y="0 0 24 24",...b}=i,E=M.isValidElement(r)&&r.type==="svg",w={...i,color:o,component:c,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:f,viewBox:y,hasSvgAsChild:E},T={};f||(T.viewBox=y);const A=j7(w);return R.jsxs(U7,{as:c,className:Wt(A.root,s),focusable:"false",color:d,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:e,...T,...b,...E&&r.props,ownerState:w,children:[E?r.props.children:r,m?R.jsx("title",{children:m}):null]})});AT.muiName="SvgIcon";function Hn(n,t){function e(i,r){return R.jsx(AT,{"data-testid":void 0,ref:r,...i,children:n})}return e.muiName=AT.muiName,M.memo(M.forwardRef(e))}function W4(n,t=166){let e;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(e),e=setTimeout(s,t)}return i.clear=()=>{clearTimeout(e)},i}function Ta(n){return n&&n.ownerDocument||document}function Yl(n){return Ta(n).defaultView||window}function ZD(n,t){typeof n=="function"?n(t):n&&(n.current=t)}let JD=0;function H7(n){const[t,e]=M.useState(n),i=n||t;return M.useEffect(()=>{t==null&&(JD+=1,e(`mui-${JD}`))},[t]),i}const $7={...pT},tO=$7.useId;function Gb(n){if(tO!==void 0){const t=tO();return n??t}return H7(n)}function eO(n){const{controlled:t,default:e,name:i,state:r="value"}=n,{current:s}=M.useRef(t!==void 0),[o,c]=M.useState(e),u=s?t:o,d=M.useCallback(f=>{s||c(f)},[]);return[u,d]}function Rd(n){const t=M.useRef(n);return wu(()=>{t.current=n}),M.useRef((...e)=>(0,t.current)(...e)).current}function Dr(...n){const t=M.useRef(void 0),e=M.useCallback(i=>{const r=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,c=o(i);return typeof c=="function"?c:()=>{o(null)}}return s.current=i,()=>{s.current=null}});return()=>{r.forEach(s=>s==null?void 0:s())}},n);return M.useMemo(()=>n.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=e(i))},n)}function q7(n,t){const e=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&e>=65&&e<=90&&typeof t=="function"}function G7(n,t){if(!n)return t;function e(o,c){const u={};return Object.keys(c).forEach(d=>{q7(d,c[d])&&typeof o[d]=="function"&&(u[d]=(...f)=>{o[d](...f),c[d](...f)})}),u}if(typeof n=="function"||typeof t=="function")return o=>{const c=typeof t=="function"?t(o):t,u=typeof n=="function"?n({...o,...c}):n,d=Wt(o==null?void 0:o.className,c==null?void 0:c.className,u==null?void 0:u.className),f=e(u,c);return{...c,...u,...f,...!!d&&{className:d},...(c==null?void 0:c.style)&&(u==null?void 0:u.style)&&{style:{...c.style,...u.style}},...(c==null?void 0:c.sx)&&(u==null?void 0:u.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const i=t,r=e(n,i),s=Wt(i==null?void 0:i.className,n==null?void 0:n.className);return{...t,...n,...r,...!!s&&{className:s},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function K4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function xT(n,t){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},xT(n,t)}function Y4(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,xT(n,t)}const nO={disabled:!1},cS=ys.createContext(null);var W7=function(t){return t.scrollTop},Ey="unmounted",Eh="exited",Sh="entering",Zf="entered",TT="exiting",Mo=function(n){Y4(t,n);function t(i,r){var s;s=n.call(this,i,r)||this;var o=r,c=o&&!o.isMounting?i.enter:i.appear,u;return s.appearStatus=null,i.in?c?(u=Eh,s.appearStatus=Sh):u=Zf:i.unmountOnExit||i.mountOnEnter?u=Ey:u=Eh,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===Ey?{status:Eh}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Sh&&o!==Zf&&(s=Sh):(o===Sh||o===Zf)&&(s=TT)}this.updateStatus(!1,s)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var r=this.props.timeout,s,o,c;return s=o=c=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,c=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:c}},e.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Sh){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:D_.findDOMNode(this);o&&W7(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Eh&&this.setState({status:Ey})},e.performEnter=function(r){var s=this,o=this.props.enter,c=this.context?this.context.isMounting:r,u=this.props.nodeRef?[c]:[D_.findDOMNode(this),c],d=u[0],f=u[1],m=this.getTimeouts(),y=c?m.appear:m.enter;if(!r&&!o||nO.disabled){this.safeSetState({status:Zf},function(){s.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:Sh},function(){s.props.onEntering(d,f),s.onTransitionEnd(y,function(){s.safeSetState({status:Zf},function(){s.props.onEntered(d,f)})})})},e.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:D_.findDOMNode(this);if(!s||nO.disabled){this.safeSetState({status:Eh},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:TT},function(){r.props.onExiting(c),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Eh},function(){r.props.onExited(c)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},e.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,s.nextCallback=null,r(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},e.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:D_.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=u[0],f=u[1];this.props.addEndListener(d,f)}r!=null&&setTimeout(this.nextCallback,r)},e.render=function(){var r=this.state.status;if(r===Ey)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=K4(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ys.createElement(cS.Provider,{value:null},typeof o=="function"?o(r,c):ys.cloneElement(ys.Children.only(o),c))},t}(ys.Component);Mo.contextType=cS;Mo.propTypes={};function Wf(){}Mo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wf,onEntering:Wf,onEntered:Wf,onExit:Wf,onExiting:Wf,onExited:Wf};Mo.UNMOUNTED=Ey;Mo.EXITED=Eh;Mo.ENTERING=Sh;Mo.ENTERED=Zf;Mo.EXITING=TT;function K7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cI(n,t){var e=function(s){return t&&M.isValidElement(s)?t(s):s},i=Object.create(null);return n&&M.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=e(r)}),i}function Y7(n,t){n=n||{},t=t||{};function e(f){return f in t?t[f]:n[f]}var i=Object.create(null),r=[];for(var s in n)s in t?r.length&&(i[s]=r,r=[]):r.push(s);var o,c={};for(var u in t){if(i[u])for(o=0;o<i[u].length;o++){var d=i[u][o];c[i[u][o]]=e(d)}c[u]=e(u)}for(o=0;o<r.length;o++)c[r[o]]=e(r[o]);return c}function kh(n,t,e){return e[t]!=null?e[t]:n.props[t]}function X7(n,t){return cI(n.children,function(e){return M.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:kh(e,"appear",n),enter:kh(e,"enter",n),exit:kh(e,"exit",n)})})}function Q7(n,t,e){var i=cI(n.children),r=Y7(t,i);return Object.keys(r).forEach(function(s){var o=r[s];if(M.isValidElement(o)){var c=s in t,u=s in i,d=t[s],f=M.isValidElement(d)&&!d.props.in;u&&(!c||f)?r[s]=M.cloneElement(o,{onExited:e.bind(null,o),in:!0,exit:kh(o,"exit",n),enter:kh(o,"enter",n)}):!u&&c&&!f?r[s]=M.cloneElement(o,{in:!1}):u&&c&&M.isValidElement(d)&&(r[s]=M.cloneElement(o,{onExited:e.bind(null,o),in:d.props.in,exit:kh(o,"exit",n),enter:kh(o,"enter",n)}))}}),r}var Z7=Object.values||function(n){return Object.keys(n).map(function(t){return n[t]})},J7={component:"div",childFactory:function(t){return t}},uI=function(n){Y4(t,n);function t(i,r){var s;s=n.call(this,i,r)||this;var o=s.handleExited.bind(K7(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(r,s){var o=s.children,c=s.handleExited,u=s.firstRender;return{children:u?X7(r,c):Q7(r,o,c),firstRender:!1}},e.handleExited=function(r,s){var o=cI(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(c){var u=sS({},c.children);return delete u[r.key],{children:u}}))},e.render=function(){var r=this.props,s=r.component,o=r.childFactory,c=K4(r,["component","childFactory"]),u=this.state.contextValue,d=Z7(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,s===null?ys.createElement(cS.Provider,{value:u},d):ys.createElement(cS.Provider,{value:u},ys.createElement(s,c,d))},t}(ys.Component);uI.propTypes={};uI.defaultProps=J7;const iO={};function X4(n,t){const e=M.useRef(iO);return e.current===iO&&(e.current=n(t)),e}const tq=[];function eq(n){M.useEffect(n,tq)}class hI{constructor(){re(this,"currentId",null);re(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});re(this,"disposeEffect",()=>this.clear)}static create(){return new hI}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function Q4(){const n=X4(hI.create).current;return eq(n.disposeEffect),n}const Z4=n=>n.scrollTop;function uS(n,t){const{timeout:e,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof e=="number"?e:e[t.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[t.mode]:i),delay:r.transitionDelay}}function nq(n){return Te("MuiPaper",n)}_e("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iq=n=>{const{square:t,elevation:e,variant:i,classes:r}=n,s={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${e}`]};return Ce(s,nq,r)},rq=Mt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(hn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Wb=M.forwardRef(function(t,e){var b;const i=ke({props:t,name:"MuiPaper"}),r=_w(),{className:s,component:o="div",elevation:c=1,square:u=!1,variant:d="elevation",...f}=i,m={...i,component:o,elevation:c,square:u,variant:d},y=iq(m);return R.jsx(rq,{as:o,ownerState:m,className:Wt(y.root,s),ref:e,...f,style:{...d==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[c],...r.vars&&{"--Paper-overlay":(b=r.vars.overlays)==null?void 0:b[c]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ir("#fff",wT(c))}, ${Ir("#fff",wT(c))})`}},...f.style}})});function sq(n){return typeof n=="string"}function J4(n,t,e){return n===void 0||sq(n)?t:{...t,ownerState:{...t.ownerState,...e}}}function t3(n,t,e){return typeof n=="function"?n(t,e):n}function e3(n,t=[]){if(n===void 0)return{};const e={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!t.includes(i)).forEach(i=>{e[i]=n[i]}),e}function rO(n){if(n===void 0)return{};const t={};return Object.keys(n).filter(e=>!(e.match(/^on[A-Z]/)&&typeof n[e]=="function")).forEach(e=>{t[e]=n[e]}),t}function n3(n){const{getSlotProps:t,additionalProps:e,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!t){const b=Wt(e==null?void 0:e.className,s,r==null?void 0:r.className,i==null?void 0:i.className),E={...e==null?void 0:e.style,...r==null?void 0:r.style,...i==null?void 0:i.style},w={...e,...r,...i};return b.length>0&&(w.className=b),Object.keys(E).length>0&&(w.style=E),{props:w,internalRef:void 0}}const o=e3({...r,...i}),c=rO(i),u=rO(r),d=t(o),f=Wt(d==null?void 0:d.className,e==null?void 0:e.className,s,r==null?void 0:r.className,i==null?void 0:i.className),m={...d==null?void 0:d.style,...e==null?void 0:e.style,...r==null?void 0:r.style,...i==null?void 0:i.style},y={...d,...e,...u,...c};return f.length>0&&(y.className=f),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:d.ref}}function rn(n,t){const{className:e,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:c=!1,...u}=t,{component:d,slots:f={[n]:void 0},slotProps:m={[n]:void 0},...y}=s,b=f[n]||i,E=t3(m[n],r),{props:{component:w,...T},internalRef:A}=n3({className:e,...u,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:E}),O=Dr(A,E==null?void 0:E.ref,t.ref),k=n==="root"?w||d:w,P=J4(b,{...n==="root"&&!d&&!f[n]&&o,...n!=="root"&&!f[n]&&o,...T,...k&&!c&&{as:k},...k&&c&&{component:k},ref:O},r);return[b,P]}function sO(n){try{return n.matches(":focus-visible")}catch{}return!1}class hS{constructor(){re(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new hS}static use(){const t=X4(hS.create).current,[e,i]=M.useState(!1);return t.shouldMount=e,t.setShouldMount=i,M.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=oq(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function aq(){return hS.use()}function oq(){let n,t;const e=new Promise((i,r)=>{n=i,t=r});return e.resolve=n,e.reject=t,e}function lq(n){const{className:t,classes:e,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:o,in:c,onExited:u,timeout:d}=n,[f,m]=M.useState(!1),y=Wt(t,e.ripple,e.rippleVisible,i&&e.ripplePulsate),b={width:o,height:o,top:-(o/2)+s,left:-(o/2)+r},E=Wt(e.child,f&&e.childLeaving,i&&e.childPulsate);return!c&&!f&&m(!0),M.useEffect(()=>{if(!c&&u!=null){const w=setTimeout(u,d);return()=>{clearTimeout(w)}}},[u,c,d]),R.jsx("span",{className:y,style:b,children:R.jsx("span",{className:E})})}const Us=_e("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),CT=550,cq=80,uq=jd`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,hq=jd`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,dq=jd`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,fq=Mt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pq=Mt(lq,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Us.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${uq};
    animation-duration: ${CT}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${Us.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${Us.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Us.childLeaving} {
    opacity: 0;
    animation-name: ${hq};
    animation-duration: ${CT}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${Us.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${dq};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,mq=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:o,...c}=i,[u,d]=M.useState([]),f=M.useRef(0),m=M.useRef(null);M.useEffect(()=>{m.current&&(m.current(),m.current=null)},[u]);const y=M.useRef(!1),b=Q4(),E=M.useRef(null),w=M.useRef(null),T=M.useCallback(P=>{const{pulsate:F,rippleX:j,rippleY:D,rippleSize:I,cb:V}=P;d(x=>[...x,R.jsx(pq,{classes:{ripple:Wt(s.ripple,Us.ripple),rippleVisible:Wt(s.rippleVisible,Us.rippleVisible),ripplePulsate:Wt(s.ripplePulsate,Us.ripplePulsate),child:Wt(s.child,Us.child),childLeaving:Wt(s.childLeaving,Us.childLeaving),childPulsate:Wt(s.childPulsate,Us.childPulsate)},timeout:CT,pulsate:F,rippleX:j,rippleY:D,rippleSize:I},f.current)]),f.current+=1,m.current=V},[s]),A=M.useCallback((P={},F={},j=()=>{})=>{const{pulsate:D=!1,center:I=r||F.pulsate,fakeElement:V=!1}=F;if((P==null?void 0:P.type)==="mousedown"&&y.current){y.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(y.current=!0);const x=V?null:w.current,B=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let q,U,tt;if(I||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)q=Math.round(B.width/2),U=Math.round(B.height/2);else{const{clientX:J,clientY:X}=P.touches&&P.touches.length>0?P.touches[0]:P;q=Math.round(J-B.left),U=Math.round(X-B.top)}if(I)tt=Math.sqrt((2*B.width**2+B.height**2)/3),tt%2===0&&(tt+=1);else{const J=Math.max(Math.abs((x?x.clientWidth:0)-q),q)*2+2,X=Math.max(Math.abs((x?x.clientHeight:0)-U),U)*2+2;tt=Math.sqrt(J**2+X**2)}P!=null&&P.touches?E.current===null&&(E.current=()=>{T({pulsate:D,rippleX:q,rippleY:U,rippleSize:tt,cb:j})},b.start(cq,()=>{E.current&&(E.current(),E.current=null)})):T({pulsate:D,rippleX:q,rippleY:U,rippleSize:tt,cb:j})},[r,T,b]),O=M.useCallback(()=>{A({},{pulsate:!0})},[A]),k=M.useCallback((P,F)=>{if(b.clear(),(P==null?void 0:P.type)==="touchend"&&E.current){E.current(),E.current=null,b.start(0,()=>{k(P,F)});return}E.current=null,d(j=>j.length>0?j.slice(1):j),m.current=F},[b]);return M.useImperativeHandle(e,()=>({pulsate:O,start:A,stop:k}),[O,A,k]),R.jsx(fq,{className:Wt(Us.root,s.root,o),ref:w,...c,children:R.jsx(uI,{component:null,exit:!0,children:u})})});function gq(n){return Te("MuiButtonBase",n)}const yq=_e("MuiButtonBase",["root","disabled","focusVisible"]),vq=n=>{const{disabled:t,focusVisible:e,focusVisibleClassName:i,classes:r}=n,o=Ce({root:["root",t&&"disabled",e&&"focusVisible"]},gq,r);return e&&i&&(o.root+=` ${i}`),o},bq=Mt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),i3=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:o,className:c,component:u="button",disabled:d=!1,disableRipple:f=!1,disableTouchRipple:m=!1,focusRipple:y=!1,focusVisibleClassName:b,LinkComponent:E="a",onBlur:w,onClick:T,onContextMenu:A,onDragLeave:O,onFocus:k,onFocusVisible:P,onKeyDown:F,onKeyUp:j,onMouseDown:D,onMouseLeave:I,onMouseUp:V,onTouchEnd:x,onTouchMove:B,onTouchStart:q,tabIndex:U=0,TouchRippleProps:tt,touchRippleRef:J,type:X,...Z}=i,rt=M.useRef(null),dt=aq(),N=Dr(dt.ref,J),[st,ut]=M.useState(!1);d&&st&&ut(!1),M.useImperativeHandle(r,()=>({focusVisible:()=>{ut(!0),rt.current.focus()}}),[]);const G=dt.shouldMount&&!f&&!d;M.useEffect(()=>{st&&y&&!f&&dt.pulsate()},[f,y,st,dt]);const St=ol(dt,"start",D,m),Ct=ol(dt,"stop",A,m),wt=ol(dt,"stop",O,m),It=ol(dt,"stop",V,m),zt=ol(dt,"stop",Ut=>{st&&Ut.preventDefault(),I&&I(Ut)},m),Kt=ol(dt,"start",q,m),xt=ol(dt,"stop",x,m),Qt=ol(dt,"stop",B,m),ee=ol(dt,"stop",Ut=>{sO(Ut.target)||ut(!1),w&&w(Ut)},!1),jt=Rd(Ut=>{rt.current||(rt.current=Ut.currentTarget),sO(Ut.target)&&(ut(!0),P&&P(Ut)),k&&k(Ut)}),Lt=()=>{const Ut=rt.current;return u&&u!=="button"&&!(Ut.tagName==="A"&&Ut.href)},te=Rd(Ut=>{y&&!Ut.repeat&&st&&Ut.key===" "&&dt.stop(Ut,()=>{dt.start(Ut)}),Ut.target===Ut.currentTarget&&Lt()&&Ut.key===" "&&Ut.preventDefault(),F&&F(Ut),Ut.target===Ut.currentTarget&&Lt()&&Ut.key==="Enter"&&!d&&(Ut.preventDefault(),T&&T(Ut))}),pe=Rd(Ut=>{y&&Ut.key===" "&&st&&!Ut.defaultPrevented&&dt.stop(Ut,()=>{dt.pulsate(Ut)}),j&&j(Ut),T&&Ut.target===Ut.currentTarget&&Lt()&&Ut.key===" "&&!Ut.defaultPrevented&&T(Ut)});let ge=u;ge==="button"&&(Z.href||Z.to)&&(ge=E);const Fe={};ge==="button"?(Fe.type=X===void 0?"button":X,Fe.disabled=d):(!Z.href&&!Z.to&&(Fe.role="button"),d&&(Fe["aria-disabled"]=d));const He=Dr(e,rt),$e={...i,centerRipple:s,component:u,disabled:d,disableRipple:f,disableTouchRipple:m,focusRipple:y,tabIndex:U,focusVisible:st},Ee=vq($e);return R.jsxs(bq,{as:ge,className:Wt(Ee.root,c),ownerState:$e,onBlur:ee,onClick:T,onContextMenu:Ct,onFocus:jt,onKeyDown:te,onKeyUp:pe,onMouseDown:St,onMouseLeave:zt,onMouseUp:It,onDragLeave:wt,onTouchEnd:xt,onTouchMove:Qt,onTouchStart:Kt,ref:He,tabIndex:d?-1:U,type:X,...Fe,...Z,children:[o,G?R.jsx(mq,{ref:N,center:s,...tt}):null]})});function ol(n,t,e,i=!1){return Rd(r=>(e&&e(r),i||n[t](r),!0))}function _q(n){return Te("MuiAlert",n)}const aO=_e("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Eq(n){return Te("MuiCircularProgress",n)}_e("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Mc=44,RT=jd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,IT=jd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Sq=typeof RT!="string"?Ub`
        animation: ${RT} 1.4s linear infinite;
      `:null,wq=typeof IT!="string"?Ub`
        animation: ${IT} 1.4s ease-in-out infinite;
      `:null,Aq=n=>{const{classes:t,variant:e,color:i,disableShrink:r}=n,s={root:["root",e,`color${qt(i)}`],svg:["svg"],circle:["circle",`circle${qt(e)}`,r&&"circleDisableShrink"]};return Ce(s,Eq,t)},xq=Mt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`color${qt(e.color)}`]]}})(hn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Sq||{animation:`${RT} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Ys()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}}))]}))),Tq=Mt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Cq=Mt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.circle,t[`circle${qt(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(hn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:wq||{animation:`${IT} 1.4s ease-in-out infinite`}}]}))),r3=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:o=!1,size:c=40,style:u,thickness:d=3.6,value:f=0,variant:m="indeterminate",...y}=i,b={...i,color:s,disableShrink:o,size:c,thickness:d,value:f,variant:m},E=Aq(b),w={},T={},A={};if(m==="determinate"){const O=2*Math.PI*((Mc-d)/2);w.strokeDasharray=O.toFixed(3),A["aria-valuenow"]=Math.round(f),w.strokeDashoffset=`${((100-f)/100*O).toFixed(3)}px`,T.transform="rotate(-90deg)"}return R.jsx(xq,{className:Wt(E.root,r),style:{width:c,height:c,...T,...u},ownerState:b,ref:e,role:"progressbar",...A,...y,children:R.jsx(Tq,{className:E.svg,ownerState:b,viewBox:`${Mc/2} ${Mc/2} ${Mc} ${Mc}`,children:R.jsx(Cq,{className:E.circle,style:w,ownerState:b,cx:Mc,cy:Mc,r:(Mc-d)/2,fill:"none",strokeWidth:d})})})});function Rq(n){return Te("MuiIconButton",n)}const oO=_e("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Iq=n=>{const{classes:t,disabled:e,color:i,edge:r,size:s,loading:o}=n,c={root:["root",o&&"loading",e&&"disabled",i!=="default"&&`color${qt(i)}`,r&&`edge${qt(r)}`,`size${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ce(c,Rq,t)},kq=Mt(i3,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.loading&&t.loading,e.color!=="default"&&t[`color${qt(e.color)}`],e.edge&&t[`edge${qt(e.edge)}`],t[`size${qt(e.size)}`]]}})(hn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Ir(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),hn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Ys()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(n.palette).filter(Ys()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Ir((n.vars||n).palette[t].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${oO.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${oO.loading}`]:{color:"transparent"}}))),Pq=Mt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),fE=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiIconButton"}),{edge:r=!1,children:s,className:o,color:c="default",disabled:u=!1,disableFocusRipple:d=!1,size:f="medium",id:m,loading:y=null,loadingIndicator:b,...E}=i,w=Gb(m),T=b??R.jsx(r3,{"aria-labelledby":w,color:"inherit",size:16}),A={...i,edge:r,color:c,disabled:u,disableFocusRipple:d,loading:y,loadingIndicator:T,size:f},O=Iq(A);return R.jsxs(kq,{id:y?w:m,className:Wt(O.root,o),centerRipple:!0,focusRipple:!d,disabled:u||y,ref:e,...E,ownerState:A,children:[typeof y=="boolean"&&R.jsx("span",{className:O.loadingWrapper,style:{display:"contents"},children:R.jsx(Pq,{className:O.loadingIndicator,ownerState:A,children:y&&T})}),s]})}),Mq=Hn(R.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),Dq=Hn(R.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Oq=Hn(R.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Lq=Hn(R.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Nq=Hn(R.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Fq=n=>{const{variant:t,color:e,severity:i,classes:r}=n,s={root:["root",`color${qt(e||i)}`,`${t}${qt(e||i)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ce(s,_q,r)},Vq=Mt(Wb,{name:"MuiAlert",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${qt(e.color||e.severity)}`]]}})(hn(({theme:n})=>{const t=n.palette.mode==="light"?xm:Tm,e=n.palette.mode==="light"?Tm:xm;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(Ys(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:t(n.palette[i].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${i}StandardBg`]:e(n.palette[i].light,.9),[`& .${aO.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(Ys(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:t(n.palette[i].light,.6),border:`1px solid ${(n.vars||n).palette[i].light}`,[`& .${aO.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(Ys(["dark"])).map(([i])=>({props:{colorSeverity:i,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${i}FilledColor`],backgroundColor:n.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main,color:n.palette.getContrastText(n.palette[i].main)}}}))]}})),zq=Mt("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Bq=Mt("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),jq=Mt("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),lO={success:R.jsx(Mq,{fontSize:"inherit"}),warning:R.jsx(Dq,{fontSize:"inherit"}),error:R.jsx(Oq,{fontSize:"inherit"}),info:R.jsx(Lq,{fontSize:"inherit"})},Uq=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiAlert"}),{action:r,children:s,className:o,closeText:c="Close",color:u,components:d={},componentsProps:f={},icon:m,iconMapping:y=lO,onClose:b,role:E="alert",severity:w="success",slotProps:T={},slots:A={},variant:O="standard",...k}=i,P={...i,color:u,severity:w,variant:O,colorSeverity:u||w},F=Fq(P),j={slots:{closeButton:d.CloseButton,closeIcon:d.CloseIcon,...A},slotProps:{...f,...T}},[D,I]=rn("root",{ref:e,shouldForwardComponentProp:!0,className:Wt(F.root,o),elementType:Vq,externalForwardedProps:{...j,...k},ownerState:P,additionalProps:{role:E,elevation:0}}),[V,x]=rn("icon",{className:F.icon,elementType:zq,externalForwardedProps:j,ownerState:P}),[B,q]=rn("message",{className:F.message,elementType:Bq,externalForwardedProps:j,ownerState:P}),[U,tt]=rn("action",{className:F.action,elementType:jq,externalForwardedProps:j,ownerState:P}),[J,X]=rn("closeButton",{elementType:fE,externalForwardedProps:j,ownerState:P}),[Z,rt]=rn("closeIcon",{elementType:Nq,externalForwardedProps:j,ownerState:P});return R.jsxs(D,{...I,children:[m!==!1?R.jsx(V,{...x,children:m||y[w]||lO[w]}):null,R.jsx(B,{...q,children:s}),r!=null?R.jsx(U,{...tt,children:r}):null,r==null&&b?R.jsx(U,{...tt,children:R.jsx(J,{size:"small","aria-label":c,title:c,color:"inherit",onClick:b,...X,children:R.jsx(Z,{fontSize:"small",...rt})})}):null]})});function Hq(n){var m;const{elementType:t,externalSlotProps:e,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,o=r?{}:t3(e,i),{props:c,internalRef:u}=n3({...s,externalSlotProps:o}),d=Dr(u,o==null?void 0:o.ref,(m=n.additionalProps)==null?void 0:m.ref);return J4(t,{...c,ref:d},i)}function Kb(n){var t;return parseInt(M.version,10)>=19?((t=n==null?void 0:n.props)==null?void 0:t.ref)||null:(n==null?void 0:n.ref)||null}function $q(n){return typeof n=="function"?n():n}const qq=M.forwardRef(function(t,e){const{children:i,container:r,disablePortal:s=!1}=t,[o,c]=M.useState(null),u=Dr(M.isValidElement(i)?Kb(i):null,e);if(wu(()=>{s||c($q(r)||document.body)},[r,s]),wu(()=>{if(o&&!s)return ZD(e,o),()=>{ZD(e,null)}},[e,o,s]),s){if(M.isValidElement(i)){const d={ref:u};return M.cloneElement(i,d)}return i}return o&&l4.createPortal(i,o)});function V_(n){return parseInt(n,10)||0}const Gq={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Wq(n){for(const t in n)return!1;return!0}function cO(n){return Wq(n)||n.outerHeightStyle===0&&!n.overflowing}const Kq=M.forwardRef(function(t,e){const{onChange:i,maxRows:r,minRows:s=1,style:o,value:c,...u}=t,{current:d}=M.useRef(c!=null),f=M.useRef(null),m=Dr(e,f),y=M.useRef(null),b=M.useRef(null),E=M.useCallback(()=>{const k=f.current,P=b.current;if(!k||!P)return;const j=Yl(k).getComputedStyle(k);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=j.width,P.value=k.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const D=j.boxSizing,I=V_(j.paddingBottom)+V_(j.paddingTop),V=V_(j.borderBottomWidth)+V_(j.borderTopWidth),x=P.scrollHeight;P.value="x";const B=P.scrollHeight;let q=x;s&&(q=Math.max(Number(s)*B,q)),r&&(q=Math.min(Number(r)*B,q)),q=Math.max(q,B);const U=q+(D==="border-box"?I+V:0),tt=Math.abs(q-x)<=1;return{outerHeightStyle:U,overflowing:tt}},[r,s,t.placeholder]),w=Rd(()=>{const k=f.current,P=E();if(!k||!P||cO(P))return!1;const F=P.outerHeightStyle;return y.current!=null&&y.current!==F}),T=M.useCallback(()=>{const k=f.current,P=E();if(!k||!P||cO(P))return;const F=P.outerHeightStyle;y.current!==F&&(y.current=F,k.style.height=`${F}px`),k.style.overflow=P.overflowing?"hidden":""},[E]),A=M.useRef(-1);wu(()=>{const k=W4(T),P=f==null?void 0:f.current;if(!P)return;const F=Yl(P);F.addEventListener("resize",k);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{w()&&(j.unobserve(P),cancelAnimationFrame(A.current),T(),A.current=requestAnimationFrame(()=>{j.observe(P)}))}),j.observe(P)),()=>{k.clear(),cancelAnimationFrame(A.current),F.removeEventListener("resize",k),j&&j.disconnect()}},[E,T,w]),wu(()=>{T()});const O=k=>{d||T();const P=k.target,F=P.value.length,j=P.value.endsWith(`
`),D=P.selectionStart===F;j&&D&&P.setSelectionRange(F,F),i&&i(k)};return R.jsxs(M.Fragment,{children:[R.jsx("textarea",{value:c,onChange:O,ref:m,rows:s,style:o,...u}),R.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:b,tabIndex:-1,style:{...Gq.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function ov(n){return typeof n=="string"}function Um({props:n,states:t,muiFormControl:e}){return t.reduce((i,r)=>(i[r]=n[r],e&&typeof n[r]>"u"&&(i[r]=e[r]),i),{})}const dI=M.createContext(void 0);function Hm(){return M.useContext(dI)}function uO(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function dS(n,t=!1){return n&&(uO(n.value)&&n.value!==""||t&&uO(n.defaultValue)&&n.defaultValue!=="")}function Yq(n){return n.startAdornment}function Xq(n){return Te("MuiInputBase",n)}const Cm=_e("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var hO;const Ew=(n,t)=>{const{ownerState:e}=n;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${qt(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},Sw=(n,t)=>{const{ownerState:e}=n;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},Qq=n=>{const{classes:t,color:e,disabled:i,error:r,endAdornment:s,focused:o,formControl:c,fullWidth:u,hiddenLabel:d,multiline:f,readOnly:m,size:y,startAdornment:b,type:E}=n,w={root:["root",`color${qt(e)}`,i&&"disabled",r&&"error",u&&"fullWidth",o&&"focused",c&&"formControl",y&&y!=="medium"&&`size${qt(y)}`,f&&"multiline",b&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",m&&"readOnly"],input:["input",i&&"disabled",E==="search"&&"inputTypeSearch",f&&"inputMultiline",y==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",b&&"inputAdornedStart",s&&"inputAdornedEnd",m&&"readOnly"]};return Ce(w,Xq,t)},ww=Mt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ew})(hn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Cm.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Aw=Mt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Sw})(hn(({theme:n})=>{const t=n.palette.mode==="light",e={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Cm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${Cm.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),dO=P7({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),fI=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:o,className:c,color:u,components:d={},componentsProps:f={},defaultValue:m,disabled:y,disableInjectingGlobalStyles:b,endAdornment:E,error:w,fullWidth:T=!1,id:A,inputComponent:O="input",inputProps:k={},inputRef:P,margin:F,maxRows:j,minRows:D,multiline:I=!1,name:V,onBlur:x,onChange:B,onClick:q,onFocus:U,onKeyDown:tt,onKeyUp:J,placeholder:X,readOnly:Z,renderSuffix:rt,rows:dt,size:N,slotProps:st={},slots:ut={},startAdornment:G,type:St="text",value:Ct,...wt}=i,It=k.value!=null?k.value:Ct,{current:zt}=M.useRef(It!=null),Kt=M.useRef(),xt=M.useCallback($t=>{},[]),Qt=Dr(Kt,P,k.ref,xt),[ee,jt]=M.useState(!1),Lt=Hm(),te=Um({props:i,muiFormControl:Lt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=Lt?Lt.focused:ee,M.useEffect(()=>{!Lt&&y&&ee&&(jt(!1),x&&x())},[Lt,y,ee,x]);const pe=Lt&&Lt.onFilled,ge=Lt&&Lt.onEmpty,Fe=M.useCallback($t=>{dS($t)?pe&&pe():ge&&ge()},[pe,ge]);wu(()=>{zt&&Fe({value:It})},[It,Fe,zt]);const He=$t=>{U&&U($t),k.onFocus&&k.onFocus($t),Lt&&Lt.onFocus?Lt.onFocus($t):jt(!0)},$e=$t=>{x&&x($t),k.onBlur&&k.onBlur($t),Lt&&Lt.onBlur?Lt.onBlur($t):jt(!1)},Ee=($t,...Je)=>{if(!zt){const Ve=$t.target||Kt.current;if(Ve==null)throw new Error(Wl(1));Fe({value:Ve.value})}k.onChange&&k.onChange($t,...Je),B&&B($t,...Je)};M.useEffect(()=>{Fe(Kt.current)},[]);const Ut=$t=>{Kt.current&&$t.currentTarget===$t.target&&Kt.current.focus(),q&&q($t)};let Qn=O,Ze=k;I&&Qn==="input"&&(dt?Ze={type:void 0,minRows:dt,maxRows:dt,...Ze}:Ze={type:void 0,maxRows:j,minRows:D,...Ze},Qn=Kq);const ki=$t=>{Fe($t.animationName==="mui-auto-fill-cancel"?Kt.current:{value:"x"})};M.useEffect(()=>{Lt&&Lt.setAdornedStart(!!G)},[Lt,G]);const ct={...i,color:te.color||"primary",disabled:te.disabled,endAdornment:E,error:te.error,focused:te.focused,formControl:Lt,fullWidth:T,hiddenLabel:te.hiddenLabel,multiline:I,size:te.size,startAdornment:G,type:St},mt=Qq(ct),Dt=ut.root||d.Root||ww,Vt=st.root||f.root||{},Gt=ut.input||d.Input||Aw;return Ze={...Ze,...st.input??f.input},R.jsxs(M.Fragment,{children:[!b&&typeof dO=="function"&&(hO||(hO=R.jsx(dO,{}))),R.jsxs(Dt,{...Vt,ref:e,onClick:Ut,...wt,...!ov(Dt)&&{ownerState:{...ct,...Vt.ownerState}},className:Wt(mt.root,Vt.className,c,Z&&"MuiInputBase-readOnly"),children:[G,R.jsx(dI.Provider,{value:null,children:R.jsx(Gt,{"aria-invalid":te.error,"aria-describedby":r,autoComplete:s,autoFocus:o,defaultValue:m,disabled:te.disabled,id:A,onAnimationStart:ki,name:V,placeholder:X,readOnly:Z,required:te.required,rows:dt,value:It,onKeyDown:tt,onKeyUp:J,type:St,...Ze,...!ov(Gt)&&{as:Qn,ownerState:{...ct,...Ze.ownerState}},ref:Qt,className:Wt(mt.input,Ze.className,Z&&"MuiInputBase-readOnly"),onBlur:$e,onChange:Ee,onFocus:He})}),E,rt?rt({...te,startAdornment:G}):null]})]})});function Zq(n){return Te("MuiInput",n)}const cy={...Cm,..._e("MuiInput",["root","underline","input"])};function Jq(n){return Te("MuiOutlinedInput",n)}const Ga={...Cm,..._e("MuiOutlinedInput",["root","notchedOutline","input"])};function tG(n){return Te("MuiFilledInput",n)}const yh={...Cm,..._e("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},eG=Hn(R.jsx("path",{d:"M7 10l5 5 5-5z"})),nG={entering:{opacity:1},entered:{opacity:1}},kT=M.forwardRef(function(t,e){const i=_w(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:c,easing:u,in:d,onEnter:f,onEntered:m,onEntering:y,onExit:b,onExited:E,onExiting:w,style:T,timeout:A=r,TransitionComponent:O=Mo,...k}=t,P=M.useRef(null),F=Dr(P,Kb(c),e),j=tt=>J=>{if(tt){const X=P.current;J===void 0?tt(X):tt(X,J)}},D=j(y),I=j((tt,J)=>{Z4(tt);const X=uS({style:T,timeout:A,easing:u},{mode:"enter"});tt.style.webkitTransition=i.transitions.create("opacity",X),tt.style.transition=i.transitions.create("opacity",X),f&&f(tt,J)}),V=j(m),x=j(w),B=j(tt=>{const J=uS({style:T,timeout:A,easing:u},{mode:"exit"});tt.style.webkitTransition=i.transitions.create("opacity",J),tt.style.transition=i.transitions.create("opacity",J),b&&b(tt)}),q=j(E),U=tt=>{s&&s(P.current,tt)};return R.jsx(O,{appear:o,in:d,nodeRef:P,onEnter:I,onEntered:V,onEntering:D,onExit:B,onExited:q,onExiting:x,addEndListener:U,timeout:A,...k,children:(tt,{ownerState:J,...X})=>M.cloneElement(c,{style:{opacity:0,visibility:tt==="exited"&&!d?"hidden":void 0,...nG[tt],...T,...c.props.style},ref:F,...X})})});function iG(n){return Te("MuiBackdrop",n)}_e("MuiBackdrop",["root","invisible"]);const rG=n=>{const{classes:t,invisible:e}=n;return Ce({root:["root",e&&"invisible"]},iG,t)},sG=Mt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),s3=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiBackdrop"}),{children:r,className:s,component:o="div",invisible:c=!1,open:u,components:d={},componentsProps:f={},slotProps:m={},slots:y={},TransitionComponent:b,transitionDuration:E,...w}=i,T={...i,component:o,invisible:c},A=rG(T),O={transition:b,root:d.Root,...y},k={...f,...m},P={slots:O,slotProps:k},[F,j]=rn("root",{elementType:sG,externalForwardedProps:P,className:Wt(A.root,s),ownerState:T}),[D,I]=rn("transition",{elementType:kT,externalForwardedProps:P,ownerState:T});return R.jsx(D,{in:u,timeout:E,...w,...I,children:R.jsx(F,{"aria-hidden":!0,...j,classes:A,ref:e,children:r})})});function aG(n){return Te("MuiButton",n)}const vh=_e("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),oG=M.createContext({}),lG=M.createContext(void 0),cG=n=>{const{color:t,disableElevation:e,fullWidth:i,size:r,variant:s,loading:o,loadingPosition:c,classes:u}=n,d={root:["root",o&&"loading",s,`${s}${qt(t)}`,`size${qt(r)}`,`${s}Size${qt(r)}`,`color${qt(t)}`,e&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(r)}`],endIcon:["icon","endIcon",`iconSize${qt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},f=Ce(d,aG,u);return{...u,...f}},a3=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],uG=Mt(i3,{shouldForwardProp:n=>Ra(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${qt(e.color)}`],t[`size${qt(e.size)}`],t[`${e.variant}Size${qt(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(hn(({theme:n})=>{const t=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],e=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vh.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${vh.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${vh.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vh.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Ys()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:Ir(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Ir(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Ir(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Ir(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Ir(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${vh.loading}`]:{color:"transparent"}}}]}})),hG=Mt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${qt(e.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...a3]})),dG=Mt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${qt(e.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...a3]})),fG=Mt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),fO=Mt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),pI=M.forwardRef(function(t,e){const i=M.useContext(oG),r=M.useContext(lG),s=lS(i,t),o=ke({props:s,name:"MuiButton"}),{children:c,color:u="primary",component:d="button",className:f,disabled:m=!1,disableElevation:y=!1,disableFocusRipple:b=!1,endIcon:E,focusVisibleClassName:w,fullWidth:T=!1,id:A,loading:O=null,loadingIndicator:k,loadingPosition:P="center",size:F="medium",startIcon:j,type:D,variant:I="text",...V}=o,x=Gb(A),B=k??R.jsx(r3,{"aria-labelledby":x,color:"inherit",size:16}),q={...o,color:u,component:d,disabled:m,disableElevation:y,disableFocusRipple:b,fullWidth:T,loading:O,loadingIndicator:B,loadingPosition:P,size:F,type:D,variant:I},U=cG(q),tt=(j||O&&P==="start")&&R.jsx(hG,{className:U.startIcon,ownerState:q,children:j||R.jsx(fO,{className:U.loadingIconPlaceholder,ownerState:q})}),J=(E||O&&P==="end")&&R.jsx(dG,{className:U.endIcon,ownerState:q,children:E||R.jsx(fO,{className:U.loadingIconPlaceholder,ownerState:q})}),X=r||"",Z=typeof O=="boolean"?R.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:O&&R.jsx(fG,{className:U.loadingIndicator,ownerState:q,children:B})}):null;return R.jsxs(uG,{ownerState:q,className:Wt(i.className,U.root,f,X),component:d,disabled:m||O,focusRipple:!b,focusVisibleClassName:Wt(U.focusVisible,w),ref:e,type:D,id:O?x:A,...V,classes:U,children:[tt,P!=="end"&&Z,c,P==="end"&&Z,J]})});function pG(n){return Te("MuiCard",n)}_e("MuiCard",["root"]);const mG=n=>{const{classes:t}=n;return Ce({root:["root"]},pG,t)},gG=Mt(Wb,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),yG=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiCard"}),{className:r,raised:s=!1,...o}=i,c={...i,raised:s},u=mG(c);return R.jsx(gG,{className:Wt(u.root,r),elevation:s?8:void 0,ref:e,ownerState:c,...o})});function vG(n){return Te("MuiCardContent",n)}_e("MuiCardContent",["root"]);const bG=n=>{const{classes:t}=n;return Ce({root:["root"]},vG,t)},_G=Mt("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),EG=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiCardContent"}),{className:r,component:s="div",...o}=i,c={...i,component:s},u=bG(c);return R.jsx(_G,{as:s,className:Wt(u.root,r),ownerState:c,ref:e,...o})});function o3(n=window){const t=n.document.documentElement.clientWidth;return n.innerWidth-t}function SG(n){const t=Ta(n);return t.body===n?Yl(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Uy(n,t){t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function pO(n){return parseInt(Yl(n).getComputedStyle(n).paddingRight,10)||0}function wG(n){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return e||i}function mO(n,t,e,i,r){const s=[t,e,...i];[].forEach.call(n.children,o=>{const c=!s.includes(o),u=!wG(o);c&&u&&Uy(o,r)})}function Ix(n,t){let e=-1;return n.some((i,r)=>t(i)?(e=r,!0):!1),e}function AG(n,t){const e=[],i=n.container;if(!t.disableScrollLock){if(SG(i)){const o=o3(Yl(i));e.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${pO(i)+o}px`;const c=Ta(i).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{e.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${pO(u)+o}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=Ta(i).body;else{const o=i.parentElement,c=Yl(i);s=(o==null?void 0:o.nodeName)==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:i}e.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{e.forEach(({value:s,el:o,property:c})=>{s?o.style.setProperty(c,s):o.style.removeProperty(c)})}}function xG(n){const t=[];return[].forEach.call(n.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class TG{constructor(){this.modals=[],this.containers=[]}add(t,e){let i=this.modals.indexOf(t);if(i!==-1)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&Uy(t.modalRef,!1);const r=xG(e);mO(e,t.mount,t.modalRef,r,!0);const s=Ix(this.containers,o=>o.container===e);return s!==-1?(this.containers[s].modals.push(t),i):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:r}),i)}mount(t,e){const i=Ix(this.containers,s=>s.modals.includes(t)),r=this.containers[i];r.restore||(r.restore=AG(r,e))}remove(t,e=!0){const i=this.modals.indexOf(t);if(i===-1)return i;const r=Ix(this.containers,o=>o.modals.includes(t)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&Uy(t.modalRef,e),mO(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Uy(o.modalRef,!1)}return i}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const CG=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function RG(n){const t=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(t)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:t}function IG(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const t=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let e=t(`[name="${n.name}"]:checked`);return e||(e=t(`[name="${n.name}"]`)),e!==n}function kG(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||IG(n))}function PG(n){const t=[],e=[];return Array.from(n.querySelectorAll(CG)).forEach((i,r)=>{const s=RG(i);s===-1||!kG(i)||(s===0?t.push(i):e.push({documentOrder:r,tabIndex:s,node:i}))}),e.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(t)}function MG(){return!0}function DG(n){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=PG,isEnabled:o=MG,open:c}=n,u=M.useRef(!1),d=M.useRef(null),f=M.useRef(null),m=M.useRef(null),y=M.useRef(null),b=M.useRef(!1),E=M.useRef(null),w=Dr(Kb(t),E),T=M.useRef(null);M.useEffect(()=>{!c||!E.current||(b.current=!e)},[e,c]),M.useEffect(()=>{if(!c||!E.current)return;const k=Ta(E.current);return E.current.contains(k.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),b.current&&E.current.focus()),()=>{r||(m.current&&m.current.focus&&(u.current=!0,m.current.focus()),m.current=null)}},[c]),M.useEffect(()=>{if(!c||!E.current)return;const k=Ta(E.current),P=D=>{T.current=D,!(i||!o()||D.key!=="Tab")&&k.activeElement===E.current&&D.shiftKey&&(u.current=!0,f.current&&f.current.focus())},F=()=>{var V,x;const D=E.current;if(D===null)return;if(!k.hasFocus()||!o()||u.current){u.current=!1;return}if(D.contains(k.activeElement)||i&&k.activeElement!==d.current&&k.activeElement!==f.current)return;if(k.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!b.current)return;let I=[];if((k.activeElement===d.current||k.activeElement===f.current)&&(I=s(E.current)),I.length>0){const B=!!((V=T.current)!=null&&V.shiftKey&&((x=T.current)==null?void 0:x.key)==="Tab"),q=I[0],U=I[I.length-1];typeof q!="string"&&typeof U!="string"&&(B?U.focus():q.focus())}else D.focus()};k.addEventListener("focusin",F),k.addEventListener("keydown",P,!0);const j=setInterval(()=>{k.activeElement&&k.activeElement.tagName==="BODY"&&F()},50);return()=>{clearInterval(j),k.removeEventListener("focusin",F),k.removeEventListener("keydown",P,!0)}},[e,i,r,o,c,s]);const A=k=>{m.current===null&&(m.current=k.relatedTarget),b.current=!0,y.current=k.target;const P=t.props.onFocus;P&&P(k)},O=k=>{m.current===null&&(m.current=k.relatedTarget),b.current=!0};return R.jsxs(M.Fragment,{children:[R.jsx("div",{tabIndex:c?0:-1,onFocus:O,ref:d,"data-testid":"sentinelStart"}),M.cloneElement(t,{ref:w,onFocus:A}),R.jsx("div",{tabIndex:c?0:-1,onFocus:O,ref:f,"data-testid":"sentinelEnd"})]})}function OG(n){return typeof n=="function"?n():n}function LG(n){return n?n.props.hasOwnProperty("in"):!1}const gO=()=>{},z_=new TG;function NG(n){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:o,children:c,onClose:u,open:d,rootRef:f}=n,m=M.useRef({}),y=M.useRef(null),b=M.useRef(null),E=Dr(b,f),[w,T]=M.useState(!d),A=LG(c);let O=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(O=!1);const k=()=>Ta(y.current),P=()=>(m.current.modalRef=b.current,m.current.mount=y.current,m.current),F=()=>{z_.mount(P(),{disableScrollLock:i}),b.current&&(b.current.scrollTop=0)},j=Rd(()=>{const J=OG(t)||k().body;z_.add(P(),J),b.current&&F()}),D=()=>z_.isTopModal(P()),I=Rd(J=>{y.current=J,J&&(d&&D()?F():b.current&&Uy(b.current,O))}),V=M.useCallback(()=>{z_.remove(P(),O)},[O]);M.useEffect(()=>()=>{V()},[V]),M.useEffect(()=>{d?j():(!A||!r)&&V()},[d,V,A,r,j]);const x=J=>X=>{var Z;(Z=J.onKeyDown)==null||Z.call(J,X),!(X.key!=="Escape"||X.which===229||!D())&&(e||(X.stopPropagation(),u&&u(X,"escapeKeyDown")))},B=J=>X=>{var Z;(Z=J.onClick)==null||Z.call(J,X),X.target===X.currentTarget&&u&&u(X,"backdropClick")};return{getRootProps:(J={})=>{const X=e3(n);delete X.onTransitionEnter,delete X.onTransitionExited;const Z={...X,...J};return{role:"presentation",...Z,onKeyDown:x(Z),ref:E}},getBackdropProps:(J={})=>{const X=J;return{"aria-hidden":!0,...X,onClick:B(X),open:d}},getTransitionProps:()=>{const J=()=>{T(!1),s&&s()},X=()=>{T(!0),o&&o(),r&&V()};return{onEnter:QD(J,(c==null?void 0:c.props.onEnter)??gO),onExited:QD(X,(c==null?void 0:c.props.onExited)??gO)}},rootRef:E,portalRef:I,isTopModal:D,exited:w,hasTransition:A}}function FG(n){return Te("MuiModal",n)}_e("MuiModal",["root","hidden","backdrop"]);const VG=n=>{const{open:t,exited:e,classes:i}=n;return Ce({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},FG,i)},zG=Mt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.open&&e.exited&&t.hidden]}})(hn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),BG=Mt(s3,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),l3=M.forwardRef(function(t,e){const i=ke({name:"MuiModal",props:t}),{BackdropComponent:r=BG,BackdropProps:s,classes:o,className:c,closeAfterTransition:u=!1,children:d,container:f,component:m,components:y={},componentsProps:b={},disableAutoFocus:E=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:T=!1,disablePortal:A=!1,disableRestoreFocus:O=!1,disableScrollLock:k=!1,hideBackdrop:P=!1,keepMounted:F=!1,onClose:j,onTransitionEnter:D,onTransitionExited:I,open:V,slotProps:x={},slots:B={},theme:q,...U}=i,tt={...i,closeAfterTransition:u,disableAutoFocus:E,disableEnforceFocus:w,disableEscapeKeyDown:T,disablePortal:A,disableRestoreFocus:O,disableScrollLock:k,hideBackdrop:P,keepMounted:F},{getRootProps:J,getBackdropProps:X,getTransitionProps:Z,portalRef:rt,isTopModal:dt,exited:N,hasTransition:st}=NG({...tt,rootRef:e}),ut={...tt,exited:N},G=VG(ut),St={};if(d.props.tabIndex===void 0&&(St.tabIndex="-1"),st){const{onEnter:xt,onExited:Qt}=Z();St.onEnter=xt,St.onExited=Qt}const Ct={slots:{root:y.Root,backdrop:y.Backdrop,...B},slotProps:{...b,...x}},[wt,It]=rn("root",{ref:e,elementType:zG,externalForwardedProps:{...Ct,...U,component:m},getSlotProps:J,ownerState:ut,className:Wt(c,G==null?void 0:G.root,!ut.open&&ut.exited&&(G==null?void 0:G.hidden))}),[zt,Kt]=rn("backdrop",{ref:s==null?void 0:s.ref,elementType:r,externalForwardedProps:Ct,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:xt=>X({...xt,onClick:Qt=>{xt!=null&&xt.onClick&&xt.onClick(Qt)}}),className:Wt(s==null?void 0:s.className,G==null?void 0:G.backdrop),ownerState:ut});return!F&&!V&&(!st||N)?null:R.jsx(qq,{ref:rt,container:f,disablePortal:A,children:R.jsxs(wt,{...It,children:[!P&&r?R.jsx(zt,{...Kt}):null,R.jsx(DG,{disableEnforceFocus:w,disableAutoFocus:E,disableRestoreFocus:O,isEnabled:dt,open:V,children:M.cloneElement(d,St)})]})})});function jG(n){return Te("MuiDialog",n)}const kx=_e("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),c3=M.createContext({}),UG=Mt(s3,{name:"MuiDialog",slot:"Backdrop",overrides:(n,t)=>t.backdrop})({zIndex:-1}),HG=n=>{const{classes:t,scroll:e,maxWidth:i,fullWidth:r,fullScreen:s}=n,o={root:["root"],container:["container",`scroll${qt(e)}`],paper:["paper",`paperScroll${qt(e)}`,`paperWidth${qt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return Ce(o,jG,t)},$G=Mt(l3,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),qG=Mt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.container,t[`scroll${qt(e.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),GG=Mt(Wb,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.paper,t[`scrollPaper${qt(e.scroll)}`],t[`paperWidth${qt(String(e.maxWidth))}`],e.fullWidth&&t.paperFullWidth,e.fullScreen&&t.paperFullScreen]}})(hn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${kx.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${n.breakpoints.values[t]}${n.breakpoints.unit}`,[`&.${kx.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${kx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),pE=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiDialog"}),r=_w(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":c,"aria-modal":u=!0,BackdropComponent:d,BackdropProps:f,children:m,className:y,disableEscapeKeyDown:b=!1,fullScreen:E=!1,fullWidth:w=!1,maxWidth:T="sm",onClick:A,onClose:O,open:k,PaperComponent:P=Wb,PaperProps:F={},scroll:j="paper",slots:D={},slotProps:I={},TransitionComponent:V=kT,transitionDuration:x=s,TransitionProps:B,...q}=i,U={...i,disableEscapeKeyDown:b,fullScreen:E,fullWidth:w,maxWidth:T,scroll:j},tt=HG(U),J=M.useRef(),X=jt=>{J.current=jt.target===jt.currentTarget},Z=jt=>{A&&A(jt),J.current&&(J.current=null,O&&O(jt,"backdropClick"))},rt=Gb(c),dt=M.useMemo(()=>({titleId:rt}),[rt]),N={transition:V,...D},st={transition:B,paper:F,backdrop:f,...I},ut={slots:N,slotProps:st},[G,St]=rn("root",{elementType:$G,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:U,className:Wt(tt.root,y),ref:e}),[Ct,wt]=rn("backdrop",{elementType:UG,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:U}),[It,zt]=rn("paper",{elementType:GG,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:U,className:Wt(tt.paper,F.className)}),[Kt,xt]=rn("container",{elementType:qG,externalForwardedProps:ut,ownerState:U,className:tt.container}),[Qt,ee]=rn("transition",{elementType:kT,externalForwardedProps:ut,ownerState:U,additionalProps:{appear:!0,in:k,timeout:x,role:"presentation"}});return R.jsx(G,{closeAfterTransition:!0,slots:{backdrop:Ct},slotProps:{backdrop:{transitionDuration:x,as:d,...wt}},disableEscapeKeyDown:b,onClose:O,open:k,onClick:Z,...St,...q,children:R.jsx(Qt,{...ee,children:R.jsx(Kt,{onMouseDown:X,...xt,children:R.jsx(It,{as:P,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":rt,"aria-modal":u,...zt,children:R.jsx(c3.Provider,{value:dt,children:m})})})})})});function WG(n){return Te("MuiDialogTitle",n)}_e("MuiDialogTitle",["root"]);const KG=n=>{const{classes:t}=n;return Ce({root:["root"]},WG,t)},YG=Mt(At,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),mE=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiDialogTitle"}),{className:r,id:s,...o}=i,c=i,u=KG(c),{titleId:d=s}=M.useContext(c3);return R.jsx(YG,{component:"h2",className:Wt(u.root,r),ownerState:c,ref:e,variant:"h6",id:s??d,...o})}),XG=n=>{const{classes:t,disableUnderline:e,startAdornment:i,endAdornment:r,size:s,hiddenLabel:o,multiline:c}=n,u={root:["root",!e&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${qt(s)}`,o&&"hiddenLabel",c&&"multiline"],input:["input"]},d=Ce(u,tG,t);return{...t,...d}},QG=Mt(ww,{shouldForwardProp:n=>Ra(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...Ew(n,t),!e.disableUnderline&&t.underline]}})(hn(({theme:n})=>{const t=n.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${yh.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${yh.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yh.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yh.disabled}, .${yh.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${yh.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Ys()).map(([o])=>{var c;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(c=(n.vars||n).palette[o])==null?void 0:c.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:c})=>o.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),ZG=Mt(Aw,{name:"MuiFilledInput",slot:"Input",overridesResolver:Sw})(hn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),mI=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:o,fullWidth:c=!1,hiddenLabel:u,inputComponent:d="input",multiline:f=!1,slotProps:m,slots:y={},type:b="text",...E}=i,w={...i,disableUnderline:r,fullWidth:c,inputComponent:d,multiline:f,type:b},T=XG(i),A={root:{ownerState:w},input:{ownerState:w}},O=m??o?yr(A,m??o):A,k=y.root??s.Root??QG,P=y.input??s.Input??ZG;return R.jsx(fI,{slots:{root:k,input:P},slotProps:O,fullWidth:c,inputComponent:d,multiline:f,ref:e,type:b,...E,classes:T})});mI.muiName="Input";function JG(n){return Te("MuiFormControl",n)}_e("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const tW=n=>{const{classes:t,margin:e,fullWidth:i}=n,r={root:["root",e!=="none"&&`margin${qt(e)}`,i&&"fullWidth"]};return Ce(r,JG,t)},eW=Mt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`margin${qt(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),nW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiFormControl"}),{children:r,className:s,color:o="primary",component:c="div",disabled:u=!1,error:d=!1,focused:f,fullWidth:m=!1,hiddenLabel:y=!1,margin:b="none",required:E=!1,size:w="medium",variant:T="outlined",...A}=i,O={...i,color:o,component:c,disabled:u,error:d,fullWidth:m,hiddenLabel:y,margin:b,required:E,size:w,variant:T},k=tW(O),[P,F]=M.useState(()=>{let J=!1;return r&&M.Children.forEach(r,X=>{if(!dE(X,["Input","Select"]))return;const Z=dE(X,["Select"])?X.props.input:X;Z&&Yq(Z.props)&&(J=!0)}),J}),[j,D]=M.useState(()=>{let J=!1;return r&&M.Children.forEach(r,X=>{dE(X,["Input","Select"])&&(dS(X.props,!0)||dS(X.props.inputProps,!0))&&(J=!0)}),J}),[I,V]=M.useState(!1);u&&I&&V(!1);const x=f!==void 0&&!u?f:I;let B;M.useRef(!1);const q=M.useCallback(()=>{D(!0)},[]),U=M.useCallback(()=>{D(!1)},[]),tt=M.useMemo(()=>({adornedStart:P,setAdornedStart:F,color:o,disabled:u,error:d,filled:j,focused:x,fullWidth:m,hiddenLabel:y,size:w,onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},onEmpty:U,onFilled:q,registerEffect:B,required:E,variant:T}),[P,o,u,d,j,x,m,y,B,U,q,E,w,T]);return R.jsx(dI.Provider,{value:tt,children:R.jsx(eW,{as:c,ownerState:O,className:Wt(k.root,s),ref:e,...A,children:r})})});function iW(n){return Te("MuiFormHelperText",n)}const yO=_e("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var vO;const rW=n=>{const{classes:t,contained:e,size:i,disabled:r,error:s,filled:o,focused:c,required:u}=n,d={root:["root",r&&"disabled",s&&"error",i&&`size${qt(i)}`,e&&"contained",c&&"focused",o&&"filled",u&&"required"]};return Ce(d,iW,t)},sW=Mt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.size&&t[`size${qt(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(hn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${yO.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${yO.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),aW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiFormHelperText"}),{children:r,className:s,component:o="p",disabled:c,error:u,filled:d,focused:f,margin:m,required:y,variant:b,...E}=i,w=Hm(),T=Um({props:i,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),A={...i,component:o,contained:T.variant==="filled"||T.variant==="outlined",variant:T.variant,size:T.size,disabled:T.disabled,error:T.error,filled:T.filled,focused:T.focused,required:T.required};delete A.ownerState;const O=rW(A);return R.jsx(sW,{as:o,className:Wt(O.root,s),ref:e,...E,ownerState:A,children:r===" "?vO||(vO=R.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):r})});function oW(n){return Te("MuiFormLabel",n)}const Hy=_e("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),lW=n=>{const{classes:t,color:e,focused:i,disabled:r,error:s,filled:o,required:c}=n,u={root:["root",`color${qt(e)}`,r&&"disabled",s&&"error",o&&"filled",i&&"focused",c&&"required"],asterisk:["asterisk",s&&"error"]};return Ce(u,oW,t)},cW=Mt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(hn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Ys()).map(([t])=>({props:{color:t},style:{[`&.${Hy.focused}`]:{color:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Hy.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Hy.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),uW=Mt("span",{name:"MuiFormLabel",slot:"Asterisk"})(hn(({theme:n})=>({[`&.${Hy.error}`]:{color:(n.vars||n).palette.error.main}}))),hW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiFormLabel"}),{children:r,className:s,color:o,component:c="label",disabled:u,error:d,filled:f,focused:m,required:y,...b}=i,E=Hm(),w=Um({props:i,muiFormControl:E,states:["color","required","focused","disabled","error","filled"]}),T={...i,color:w.color||"primary",component:c,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},A=lW(T);return R.jsxs(cW,{as:c,ownerState:T,className:Wt(A.root,s),ref:e,...b,children:[r,w.required&&R.jsxs(uW,{ownerState:T,"aria-hidden":!0,className:A.asterisk,children:[" ","*"]})]})});function PT(n){return`scale(${n}, ${n**2})`}const dW={entering:{opacity:1,transform:PT(1)},entered:{opacity:1,transform:"none"}},Px=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),MT=M.forwardRef(function(t,e){const{addEndListener:i,appear:r=!0,children:s,easing:o,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:m,onExited:y,onExiting:b,style:E,timeout:w="auto",TransitionComponent:T=Mo,...A}=t,O=Q4(),k=M.useRef(),P=_w(),F=M.useRef(null),j=Dr(F,Kb(s),e),D=J=>X=>{if(J){const Z=F.current;X===void 0?J(Z):J(Z,X)}},I=D(f),V=D((J,X)=>{Z4(J);const{duration:Z,delay:rt,easing:dt}=uS({style:E,timeout:w,easing:o},{mode:"enter"});let N;w==="auto"?(N=P.transitions.getAutoHeightDuration(J.clientHeight),k.current=N):N=Z,J.style.transition=[P.transitions.create("opacity",{duration:N,delay:rt}),P.transitions.create("transform",{duration:Px?N:N*.666,delay:rt,easing:dt})].join(","),u&&u(J,X)}),x=D(d),B=D(b),q=D(J=>{const{duration:X,delay:Z,easing:rt}=uS({style:E,timeout:w,easing:o},{mode:"exit"});let dt;w==="auto"?(dt=P.transitions.getAutoHeightDuration(J.clientHeight),k.current=dt):dt=X,J.style.transition=[P.transitions.create("opacity",{duration:dt,delay:Z}),P.transitions.create("transform",{duration:Px?dt:dt*.666,delay:Px?Z:Z||dt*.333,easing:rt})].join(","),J.style.opacity=0,J.style.transform=PT(.75),m&&m(J)}),U=D(y),tt=J=>{w==="auto"&&O.start(k.current||0,J),i&&i(F.current,J)};return R.jsx(T,{appear:r,in:c,nodeRef:F,onEnter:V,onEntered:x,onEntering:I,onExit:q,onExited:U,onExiting:B,addEndListener:tt,timeout:w==="auto"?null:w,...A,children:(J,{ownerState:X,...Z})=>M.cloneElement(s,{style:{opacity:0,transform:PT(.75),visibility:J==="exited"&&!c?"hidden":void 0,...dW[J],...E,...s.props.style},ref:j,...Z})})});MT&&(MT.muiSupportAuto=!0);const fW=n=>{const{classes:t,disableUnderline:e}=n,r=Ce({root:["root",!e&&"underline"],input:["input"]},Zq,t);return{...t,...r}},pW=Mt(ww,{shouldForwardProp:n=>Ra(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...Ew(n,t),!e.disableUnderline&&t.underline]}})(hn(({theme:n})=>{let e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(e=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cy.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cy.disabled}, .${cy.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${cy.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Ys()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),mW=Mt(Aw,{name:"MuiInput",slot:"Input",overridesResolver:Sw})({}),gI=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:o,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:f,slots:m={},type:y="text",...b}=i,E=fW(i),T={root:{ownerState:{disableUnderline:r}}},A=f??o?yr(f??o,T):T,O=m.root??s.Root??pW,k=m.input??s.Input??mW;return R.jsx(fI,{slots:{root:O,input:k},slotProps:A,fullWidth:c,inputComponent:u,multiline:d,ref:e,type:y,...b,classes:E})});gI.muiName="Input";function gW(n){return Te("MuiInputLabel",n)}_e("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const yW=n=>{const{classes:t,formControl:e,size:i,shrink:r,disableAnimation:s,variant:o,required:c}=n,u={root:["root",e&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="medium"&&`size${qt(i)}`,o],asterisk:[c&&"asterisk"]},d=Ce(u,gW,t);return{...t,...d}},vW=Mt(hW,{shouldForwardProp:n=>Ra(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${Hy.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(hn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="filled"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:e,size:i})=>t==="filled"&&e.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="outlined"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),bW=M.forwardRef(function(t,e){const i=ke({name:"MuiInputLabel",props:t}),{disableAnimation:r=!1,margin:s,shrink:o,variant:c,className:u,...d}=i,f=Hm();let m=o;typeof m>"u"&&f&&(m=f.filled||f.focused||f.adornedStart);const y=Um({props:i,muiFormControl:f,states:["size","variant","required","focused"]}),b={...i,disableAnimation:r,formControl:f,shrink:m,size:y.size,variant:y.variant,required:y.required,focused:y.focused},E=yW(b);return R.jsx(vW,{"data-shrink":m,ref:e,className:Wt(E.root,u),...d,ownerState:b,classes:E})}),mp=M.createContext({});function _W(n){return Te("MuiList",n)}_e("MuiList",["root","padding","dense","subheader"]);const EW=n=>{const{classes:t,disablePadding:e,dense:i,subheader:r}=n;return Ce({root:["root",!e&&"padding",i&&"dense",r&&"subheader"]},_W,t)},SW=Mt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),u3=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiList"}),{children:r,className:s,component:o="ul",dense:c=!1,disablePadding:u=!1,subheader:d,...f}=i,m=M.useMemo(()=>({dense:c}),[c]),y={...i,component:o,dense:c,disablePadding:u},b=EW(y);return R.jsx(mp.Provider,{value:m,children:R.jsxs(SW,{as:o,className:Wt(b.root,s),ref:e,ownerState:y,...f,children:[d,r]})})});function wW(n){return Te("MuiListItem",n)}_e("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const AW=_e("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function xW(n){return Te("MuiListItemSecondaryAction",n)}_e("MuiListItemSecondaryAction",["root","disableGutters"]);const TW=n=>{const{disableGutters:t,classes:e}=n;return Ce({root:["root",t&&"disableGutters"]},xW,e)},CW=Mt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),h3=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiListItemSecondaryAction"}),{className:r,...s}=i,o=M.useContext(mp),c={...i,disableGutters:o.disableGutters},u=TW(c);return R.jsx(CW,{className:Wt(u.root,r),ownerState:c,ref:e,...s})});h3.muiName="ListItemSecondaryAction";const RW=(n,t)=>{const{ownerState:e}=n;return[t.root,e.dense&&t.dense,e.alignItems==="flex-start"&&t.alignItemsFlexStart,e.divider&&t.divider,!e.disableGutters&&t.gutters,!e.disablePadding&&t.padding,e.hasSecondaryAction&&t.secondaryAction]},IW=n=>{const{alignItems:t,classes:e,dense:i,disableGutters:r,disablePadding:s,divider:o,hasSecondaryAction:c}=n;return Ce({root:["root",i&&"dense",!r&&"gutters",!s&&"padding",o&&"divider",t==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},wW,e)},kW=Mt("div",{name:"MuiListItem",slot:"Root",overridesResolver:RW})(hn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${AW.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),PW=Mt("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),MW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiListItem"}),{alignItems:r="center",children:s,className:o,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:m,...y}={},dense:b=!1,disableGutters:E=!1,disablePadding:w=!1,divider:T=!1,secondaryAction:A,slotProps:O={},slots:k={},...P}=i,F=M.useContext(mp),j=M.useMemo(()=>({dense:b||F.dense||!1,alignItems:r,disableGutters:E}),[r,F.dense,b,E]),D=M.useRef(null),I=M.Children.toArray(s),V=I.length&&dE(I[I.length-1],["ListItemSecondaryAction"]),x={...i,alignItems:r,dense:j.dense,disableGutters:E,disablePadding:w,divider:T,hasSecondaryAction:V},B=IW(x),q=Dr(D,e),U=k.root||u.Root||kW,tt=O.root||d.root||{},J={className:Wt(B.root,tt.className,o),...P};let X=c||"li";return V?(X=!J.component&&!c?"div":X,f==="li"&&(X==="li"?X="div":J.component==="li"&&(J.component="div")),R.jsx(mp.Provider,{value:j,children:R.jsxs(PW,{as:f,className:Wt(B.container,m),ref:q,ownerState:x,...y,children:[R.jsx(U,{...tt,...!ov(U)&&{as:X,ownerState:{...x,...tt.ownerState}},...J,children:I}),I.pop()]})})):R.jsx(mp.Provider,{value:j,children:R.jsxs(U,{...tt,as:X,ref:q,...!ov(U)&&{ownerState:{...x,...tt.ownerState}},...J,children:[I,A&&R.jsx(h3,{children:A})]})})});function DW(n){return Te("MuiListItemText",n)}const B_=_e("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),OW=n=>{const{classes:t,inset:e,primary:i,secondary:r,dense:s}=n;return Ce({root:["root",e&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},DW,t)},LW=Mt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${B_.primary}`]:t.primary},{[`& .${B_.secondary}`]:t.secondary},t.root,e.inset&&t.inset,e.primary&&e.secondary&&t.multiline,e.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${YD.root}:where(& .${B_.primary})`]:{display:"block"},[`.${YD.root}:where(& .${B_.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),NW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiListItemText"}),{children:r,className:s,disableTypography:o=!1,inset:c=!1,primary:u,primaryTypographyProps:d,secondary:f,secondaryTypographyProps:m,slots:y={},slotProps:b={},...E}=i,{dense:w}=M.useContext(mp);let T=u??r,A=f;const O={...i,disableTypography:o,inset:c,primary:!!T,secondary:!!A,dense:w},k=OW(O),P={slots:y,slotProps:{primary:d,secondary:m,...b}},[F,j]=rn("root",{className:Wt(k.root,s),elementType:LW,externalForwardedProps:{...P,...E},ownerState:O,ref:e}),[D,I]=rn("primary",{className:k.primary,elementType:At,externalForwardedProps:P,ownerState:O}),[V,x]=rn("secondary",{className:k.secondary,elementType:At,externalForwardedProps:P,ownerState:O});return T!=null&&T.type!==At&&!o&&(T=R.jsx(D,{variant:w?"body2":"body1",component:I!=null&&I.variant?void 0:"span",...I,children:T})),A!=null&&A.type!==At&&!o&&(A=R.jsx(V,{variant:"body2",color:"textSecondary",...x,children:A})),R.jsxs(F,{...j,children:[T,A]})});function Mx(n,t,e){return n===t?n.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:n.firstChild}function bO(n,t,e){return n===t?e?n.firstChild:n.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:n.lastChild}function d3(n,t){if(t===void 0)return!0;let e=n.innerText;return e===void 0&&(e=n.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function uy(n,t,e,i,r,s){let o=!1,c=r(n,t,t?e:!1);for(;c;){if(c===n.firstChild){if(o)return!1;o=!0}const u=i?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!d3(c,s)||u)c=r(n,c,e);else return c.focus(),!0}return!1}const FW=M.forwardRef(function(t,e){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:o,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:f,variant:m="selectedMenu",...y}=t,b=M.useRef(null),E=M.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wu(()=>{r&&b.current.focus()},[r]),M.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(k,{direction:P})=>{const F=!b.current.style.width;if(k.clientHeight<b.current.clientHeight&&F){const j=`${o3(Yl(k))}px`;b.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=j,b.current.style.width=`calc(100% + ${j})`}return b.current}}),[]);const w=k=>{const P=b.current,F=k.key;if(k.ctrlKey||k.metaKey||k.altKey){f&&f(k);return}const D=Ta(P).activeElement;if(F==="ArrowDown")k.preventDefault(),uy(P,D,d,u,Mx);else if(F==="ArrowUp")k.preventDefault(),uy(P,D,d,u,bO);else if(F==="Home")k.preventDefault(),uy(P,null,d,u,Mx);else if(F==="End")k.preventDefault(),uy(P,null,d,u,bO);else if(F.length===1){const I=E.current,V=F.toLowerCase(),x=performance.now();I.keys.length>0&&(x-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&V!==I.keys[0]&&(I.repeating=!1)),I.lastTime=x,I.keys.push(V);const B=D&&!I.repeating&&d3(D,I);I.previousKeyMatched&&(B||uy(P,D,!1,u,Mx,I))?k.preventDefault():I.previousKeyMatched=!1}f&&f(k)},T=Dr(b,e);let A=-1;M.Children.forEach(o,(k,P)=>{if(!M.isValidElement(k)){A===P&&(A+=1,A>=o.length&&(A=-1));return}k.props.disabled||(m==="selectedMenu"&&k.props.selected||A===-1)&&(A=P),A===P&&(k.props.disabled||k.props.muiSkipListHighlight||k.type.muiSkipListHighlight)&&(A+=1,A>=o.length&&(A=-1))});const O=M.Children.map(o,(k,P)=>{if(P===A){const F={};return s&&(F.autoFocus=!0),k.props.tabIndex===void 0&&m==="selectedMenu"&&(F.tabIndex=0),M.cloneElement(k,F)}return k});return R.jsx(u3,{role:"menu",ref:T,className:c,onKeyDown:w,tabIndex:r?0:-1,...y,children:O})});function VW(n){return Te("MuiPopover",n)}_e("MuiPopover",["root","paper"]);function _O(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.height/2:t==="bottom"&&(e=n.height),e}function EO(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.width/2:t==="right"&&(e=n.width),e}function SO(n){return[n.horizontal,n.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function j_(n){return typeof n=="function"?n():n}const zW=n=>{const{classes:t}=n;return Ce({root:["root"],paper:["paper"]},VW,t)},BW=Mt(l3,{name:"MuiPopover",slot:"Root"})({}),f3=Mt(Wb,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:d,className:f,container:m,elevation:y=8,marginThreshold:b=16,open:E,PaperProps:w={},slots:T={},slotProps:A={},transformOrigin:O={vertical:"top",horizontal:"left"},TransitionComponent:k,transitionDuration:P="auto",TransitionProps:F={},disableScrollLock:j=!1,...D}=i,I=M.useRef(),V={...i,anchorOrigin:o,anchorReference:u,elevation:y,marginThreshold:b,transformOrigin:O,TransitionComponent:k,transitionDuration:P,TransitionProps:F},x=zW(V),B=M.useCallback(()=>{if(u==="anchorPosition")return c;const xt=j_(s),ee=(xt&&xt.nodeType===1?xt:Ta(I.current).body).getBoundingClientRect();return{top:ee.top+_O(ee,o.vertical),left:ee.left+EO(ee,o.horizontal)}},[s,o.horizontal,o.vertical,c,u]),q=M.useCallback(xt=>({vertical:_O(xt,O.vertical),horizontal:EO(xt,O.horizontal)}),[O.horizontal,O.vertical]),U=M.useCallback(xt=>{const Qt={width:xt.offsetWidth,height:xt.offsetHeight},ee=q(Qt);if(u==="none")return{top:null,left:null,transformOrigin:SO(ee)};const jt=B();let Lt=jt.top-ee.vertical,te=jt.left-ee.horizontal;const pe=Lt+Qt.height,ge=te+Qt.width,Fe=Yl(j_(s)),He=Fe.innerHeight-b,$e=Fe.innerWidth-b;if(b!==null&&Lt<b){const Ee=Lt-b;Lt-=Ee,ee.vertical+=Ee}else if(b!==null&&pe>He){const Ee=pe-He;Lt-=Ee,ee.vertical+=Ee}if(b!==null&&te<b){const Ee=te-b;te-=Ee,ee.horizontal+=Ee}else if(ge>$e){const Ee=ge-$e;te-=Ee,ee.horizontal+=Ee}return{top:`${Math.round(Lt)}px`,left:`${Math.round(te)}px`,transformOrigin:SO(ee)}},[s,u,B,q,b]),[tt,J]=M.useState(E),X=M.useCallback(()=>{const xt=I.current;if(!xt)return;const Qt=U(xt);Qt.top!==null&&xt.style.setProperty("top",Qt.top),Qt.left!==null&&(xt.style.left=Qt.left),xt.style.transformOrigin=Qt.transformOrigin,J(!0)},[U]);M.useEffect(()=>(j&&window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X)),[s,j,X]);const Z=()=>{X()},rt=()=>{J(!1)};M.useEffect(()=>{E&&X()}),M.useImperativeHandle(r,()=>E?{updatePosition:()=>{X()}}:null,[E,X]),M.useEffect(()=>{if(!E)return;const xt=W4(()=>{X()}),Qt=Yl(j_(s));return Qt.addEventListener("resize",xt),()=>{xt.clear(),Qt.removeEventListener("resize",xt)}},[s,E,X]);let dt=P;const N={slots:{transition:k,...T},slotProps:{transition:F,paper:w,...A}},[st,ut]=rn("transition",{elementType:MT,externalForwardedProps:N,ownerState:V,getSlotProps:xt=>({...xt,onEntering:(Qt,ee)=>{var jt;(jt=xt.onEntering)==null||jt.call(xt,Qt,ee),Z()},onExited:Qt=>{var ee;(ee=xt.onExited)==null||ee.call(xt,Qt),rt()}}),additionalProps:{appear:!0,in:E}});P==="auto"&&!st.muiSupportAuto&&(dt=void 0);const G=m||(s?Ta(j_(s)).body:void 0),[St,{slots:Ct,slotProps:wt,...It}]=rn("root",{ref:e,elementType:BW,externalForwardedProps:{...N,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:T.backdrop},slotProps:{backdrop:G7(typeof A.backdrop=="function"?A.backdrop(V):A.backdrop,{invisible:!0})},container:G,open:E},ownerState:V,className:Wt(x.root,f)}),[zt,Kt]=rn("paper",{ref:I,className:x.paper,elementType:f3,externalForwardedProps:N,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:tt?void 0:{opacity:0}},ownerState:V});return R.jsx(St,{...It,...!ov(St)&&{slots:Ct,slotProps:wt,disableScrollLock:j},children:R.jsx(st,{...ut,timeout:dt,children:R.jsx(zt,{...Kt,children:d})})})});function UW(n){return Te("MuiMenu",n)}_e("MuiMenu",["root","paper","list"]);const HW={vertical:"top",horizontal:"right"},$W={vertical:"top",horizontal:"left"},qW=n=>{const{classes:t}=n;return Ce({root:["root"],paper:["paper"],list:["list"]},UW,t)},GW=Mt(jW,{shouldForwardProp:n=>Ra(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),WW=Mt(f3,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),KW=Mt(FW,{name:"MuiMenu",slot:"List"})({outline:0}),YW=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:o,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:m={},PopoverClasses:y,transitionDuration:b="auto",TransitionProps:{onEntering:E,...w}={},variant:T="selectedMenu",slots:A={},slotProps:O={},...k}=i,P=R8(),F={...i,autoFocus:r,disableAutoFocusItem:c,MenuListProps:u,onEntering:E,PaperProps:m,transitionDuration:b,TransitionProps:w,variant:T},j=qW(F),D=r&&!c&&f,I=M.useRef(null),V=(dt,N)=>{I.current&&I.current.adjustStyleForScrollbar(dt,{direction:P?"rtl":"ltr"}),E&&E(dt,N)},x=dt=>{dt.key==="Tab"&&(dt.preventDefault(),d&&d(dt,"tabKeyDown"))};let B=-1;M.Children.map(s,(dt,N)=>{M.isValidElement(dt)&&(dt.props.disabled||(T==="selectedMenu"&&dt.props.selected||B===-1)&&(B=N))});const q={slots:A,slotProps:{list:u,transition:w,paper:m,...O}},U=Hq({elementType:A.root,externalSlotProps:O.root,ownerState:F,className:[j.root,o]}),[tt,J]=rn("paper",{className:j.paper,elementType:WW,externalForwardedProps:q,shouldForwardComponentProp:!0,ownerState:F}),[X,Z]=rn("list",{className:Wt(j.list,u.className),elementType:KW,shouldForwardComponentProp:!0,externalForwardedProps:q,getSlotProps:dt=>({...dt,onKeyDown:N=>{var st;x(N),(st=dt.onKeyDown)==null||st.call(dt,N)}}),ownerState:F}),rt=typeof q.slotProps.transition=="function"?q.slotProps.transition(F):q.slotProps.transition;return R.jsx(GW,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?HW:$W,slots:{root:A.root,paper:tt,backdrop:A.backdrop,...A.transition&&{transition:A.transition}},slotProps:{root:U,paper:J,backdrop:typeof O.backdrop=="function"?O.backdrop(F):O.backdrop,transition:{...rt,onEntering:(...dt)=>{var N;V(...dt),(N=rt==null?void 0:rt.onEntering)==null||N.call(rt,...dt)}}},open:f,ref:e,transitionDuration:b,ownerState:F,...k,classes:y,children:R.jsx(X,{actions:I,autoFocus:r&&(B===-1||c),autoFocusItem:D,variant:T,...Z,children:s})})});function XW(n){return Te("MuiNativeSelect",n)}const yI=_e("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),QW=n=>{const{classes:t,variant:e,disabled:i,multiple:r,open:s,error:o}=n,c={select:["select",e,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${qt(e)}`,s&&"iconOpen",i&&"disabled"]};return Ce(c,XW,t)},p3=Mt("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${yI.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),ZW=Mt(p3,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ra,overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.select,t[e.variant],e.error&&t.error,{[`&.${yI.multiple}`]:t.multiple}]}})({}),m3=Mt("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${yI.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),JW=Mt(m3,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),tK=M.forwardRef(function(t,e){const{className:i,disabled:r,error:s,IconComponent:o,inputRef:c,variant:u="standard",...d}=t,f={...t,disabled:r,variant:u,error:s},m=QW(f);return R.jsxs(M.Fragment,{children:[R.jsx(ZW,{ownerState:f,className:Wt(m.select,i),disabled:r,ref:c||e,...d}),t.multiple?null:R.jsx(JW,{as:o,ownerState:f,className:m.icon})]})});var wO;const eK=Mt("fieldset",{shouldForwardProp:Ra})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),nK=Mt("legend",{shouldForwardProp:Ra})(hn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function iK(n){const{children:t,classes:e,className:i,label:r,notched:s,...o}=n,c=r!=null&&r!=="",u={...n,notched:s,withLabel:c};return R.jsx(eK,{"aria-hidden":!0,className:i,ownerState:u,...o,children:R.jsx(nK,{ownerState:u,children:c?R.jsx("span",{children:r}):wO||(wO=R.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const rK=n=>{const{classes:t}=n,i=Ce({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Jq,t);return{...t,...i}},sK=Mt(ww,{shouldForwardProp:n=>Ra(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ew})(hn(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ga.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ga.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Ga.focused} .${Ga.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Ys()).map(([e])=>({props:{color:e},style:{[`&.${Ga.focused} .${Ga.notchedOutline}`]:{borderColor:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Ga.error} .${Ga.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ga.disabled} .${Ga.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:i})=>e.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),aK=Mt(iK,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(hn(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),oK=Mt(Aw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Sw})(hn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),vI=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:o="input",label:c,multiline:u=!1,notched:d,slots:f={},slotProps:m={},type:y="text",...b}=i,E=rK(i),w=Hm(),T=Um({props:i,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),A={...i,color:T.color||"primary",disabled:T.disabled,error:T.error,focused:T.focused,formControl:w,fullWidth:s,hiddenLabel:T.hiddenLabel,multiline:u,size:T.size,type:y},O=f.root??r.Root??sK,k=f.input??r.Input??oK,[P,F]=rn("notchedOutline",{elementType:aK,className:E.notchedOutline,shouldForwardComponentProp:!0,ownerState:A,externalForwardedProps:{slots:f,slotProps:m},additionalProps:{label:c!=null&&c!==""&&T.required?R.jsxs(M.Fragment,{children:[c," ","*"]}):c}});return R.jsx(fI,{slots:{root:O,input:k},slotProps:m,renderSuffix:j=>R.jsx(P,{...F,notched:typeof d<"u"?d:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:s,inputComponent:o,multiline:u,ref:e,type:y,...b,classes:{...E,notchedOutline:null}})});vI.muiName="Input";function g3(n){return Te("MuiSelect",n)}const hy=_e("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var AO;const lK=Mt(p3,{name:"MuiSelect",slot:"Select",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`&.${hy.select}`]:t.select},{[`&.${hy.select}`]:t[e.variant]},{[`&.${hy.error}`]:t.error},{[`&.${hy.multiple}`]:t.multiple}]}})({[`&.${hy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),cK=Mt(m3,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),uK=Mt("input",{shouldForwardProp:n=>G4(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xO(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}function hK(n){return n==null||typeof n=="string"&&!n.trim()}const dK=n=>{const{classes:t,variant:e,disabled:i,multiple:r,open:s,error:o}=n,c={select:["select",e,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${qt(e)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Ce(c,g3,t)},fK=M.forwardRef(function(t,e){var dn;const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:o,children:c,className:u,defaultOpen:d,defaultValue:f,disabled:m,displayEmpty:y,error:b=!1,IconComponent:E,inputRef:w,labelId:T,MenuProps:A={},multiple:O,name:k,onBlur:P,onChange:F,onClose:j,onFocus:D,onOpen:I,open:V,readOnly:x,renderValue:B,required:q,SelectDisplayProps:U={},tabIndex:tt,type:J,value:X,variant:Z="standard",...rt}=t,[dt,N]=eO({controlled:X,default:f,name:"Select"}),[st,ut]=eO({controlled:V,default:d,name:"Select"}),G=M.useRef(null),St=M.useRef(null),[Ct,wt]=M.useState(null),{current:It}=M.useRef(V!=null),[zt,Kt]=M.useState(),xt=Dr(e,w),Qt=M.useCallback(Nt=>{St.current=Nt,Nt&&wt(Nt)},[]),ee=Ct==null?void 0:Ct.parentNode;M.useImperativeHandle(xt,()=>({focus:()=>{St.current.focus()},node:G.current,value:dt}),[dt]),M.useEffect(()=>{d&&st&&Ct&&!It&&(Kt(o?null:ee.clientWidth),St.current.focus())},[Ct,o]),M.useEffect(()=>{s&&St.current.focus()},[s]),M.useEffect(()=>{if(!T)return;const Nt=Ta(St.current).getElementById(T);if(Nt){const ce=()=>{getSelection().isCollapsed&&St.current.focus()};return Nt.addEventListener("click",ce),()=>{Nt.removeEventListener("click",ce)}}},[T]);const jt=(Nt,ce)=>{Nt?I&&I(ce):j&&j(ce),It||(Kt(o?null:ee.clientWidth),ut(Nt))},Lt=Nt=>{Nt.button===0&&(Nt.preventDefault(),St.current.focus(),jt(!0,Nt))},te=Nt=>{jt(!1,Nt)},pe=M.Children.toArray(c),ge=Nt=>{const ce=pe.find(qe=>qe.props.value===Nt.target.value);ce!==void 0&&(N(ce.props.value),F&&F(Nt,ce))},Fe=Nt=>ce=>{let qe;if(ce.currentTarget.hasAttribute("tabindex")){if(O){qe=Array.isArray(dt)?dt.slice():[];const $n=dt.indexOf(Nt.props.value);$n===-1?qe.push(Nt.props.value):qe.splice($n,1)}else qe=Nt.props.value;if(Nt.props.onClick&&Nt.props.onClick(ce),dt!==qe&&(N(qe),F)){const $n=ce.nativeEvent||ce,ic=new $n.constructor($n.type,$n);Object.defineProperty(ic,"target",{writable:!0,value:{value:qe,name:k}}),F(ic,Nt)}O||jt(!1,ce)}},He=Nt=>{x||[" ","ArrowUp","ArrowDown","Enter"].includes(Nt.key)&&(Nt.preventDefault(),jt(!0,Nt))},$e=Ct!==null&&st,Ee=Nt=>{!$e&&P&&(Object.defineProperty(Nt,"target",{writable:!0,value:{value:dt,name:k}}),P(Nt))};delete rt["aria-invalid"];let Ut,Qn;const Ze=[];let ki=!1;(dS({value:dt})||y)&&(B?Ut=B(dt):ki=!0);const ct=pe.map(Nt=>{if(!M.isValidElement(Nt))return null;let ce;if(O){if(!Array.isArray(dt))throw new Error(Wl(2));ce=dt.some(qe=>xO(qe,Nt.props.value)),ce&&ki&&Ze.push(Nt.props.children)}else ce=xO(dt,Nt.props.value),ce&&ki&&(Qn=Nt.props.children);return M.cloneElement(Nt,{"aria-selected":ce?"true":"false",onClick:Fe(Nt),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),Nt.props.onKeyUp&&Nt.props.onKeyUp(qe)},role:"option",selected:ce,value:void 0,"data-value":Nt.props.value})});ki&&(O?Ze.length===0?Ut=null:Ut=Ze.reduce((Nt,ce,qe)=>(Nt.push(ce),qe<Ze.length-1&&Nt.push(", "),Nt),[]):Ut=Qn);let mt=zt;!o&&It&&Ct&&(mt=ee.clientWidth);let Dt;typeof tt<"u"?Dt=tt:Dt=m?null:0;const Vt=U.id||(k?`mui-component-select-${k}`:void 0),Gt={...t,variant:Z,value:dt,open:$e,error:b},$t=dK(Gt),Je={...A.PaperProps,...(dn=A.slotProps)==null?void 0:dn.paper},Ve=Gb();return R.jsxs(M.Fragment,{children:[R.jsx(lK,{as:"div",ref:Qt,tabIndex:Dt,role:"combobox","aria-controls":$e?Ve:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":$e?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[T,Vt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":q?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:He,onMouseDown:m||x?null:Lt,onBlur:Ee,onFocus:D,...U,ownerState:Gt,className:Wt(U.className,$t.select,u),id:Vt,children:hK(Ut)?AO||(AO=R.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Ut}),R.jsx(uK,{"aria-invalid":b,value:Array.isArray(dt)?dt.join(","):dt,name:k,ref:G,"aria-hidden":!0,onChange:ge,tabIndex:-1,disabled:m,className:$t.nativeInput,autoFocus:s,required:q,...rt,ownerState:Gt}),R.jsx(cK,{as:E,className:$t.icon,ownerState:Gt}),R.jsx(YW,{id:`menu-${k||""}`,anchorEl:ee,open:$e,onClose:te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...A,slotProps:{...A.slotProps,list:{"aria-labelledby":T,role:"listbox","aria-multiselectable":O?"true":void 0,disableListWrap:!0,id:Ve,...A.MenuListProps},paper:{...Je,style:{minWidth:mt,...Je!=null?Je.style:null}}},children:ct})]})}),pK=n=>{const{classes:t}=n,i=Ce({root:["root"]},g3,t);return{...t,...i}},bI={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Ra(n)&&n!=="variant"},mK=Mt(gI,bI)(""),gK=Mt(vI,bI)(""),yK=Mt(mI,bI)(""),y3=M.forwardRef(function(t,e){const i=ke({name:"MuiSelect",props:t}),{autoWidth:r=!1,children:s,classes:o={},className:c,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:f=eG,id:m,input:y,inputProps:b,label:E,labelId:w,MenuProps:T,multiple:A=!1,native:O=!1,onClose:k,onOpen:P,open:F,renderValue:j,SelectDisplayProps:D,variant:I="outlined",...V}=i,x=O?tK:fK,B=Hm(),q=Um({props:i,muiFormControl:B,states:["variant","error"]}),U=q.variant||I,tt={...i,variant:U,classes:o},J=pK(tt),{root:X,...Z}=J,rt=y||{standard:R.jsx(mK,{ownerState:tt}),outlined:R.jsx(gK,{label:E,ownerState:tt}),filled:R.jsx(yK,{ownerState:tt})}[U],dt=Dr(e,Kb(rt));return R.jsx(M.Fragment,{children:M.cloneElement(rt,{inputComponent:x,inputProps:{children:s,error:q.error,IconComponent:f,variant:U,type:void 0,multiple:A,...O?{id:m}:{autoWidth:r,defaultOpen:u,displayEmpty:d,labelId:w,MenuProps:T,onClose:k,onOpen:P,open:F,renderValue:j,SelectDisplayProps:{id:m,...D}},...b,classes:b?yr(Z,b.classes):Z,...y?y.props.inputProps:{}},...(A&&O||d)&&U==="outlined"?{notched:!0}:{},ref:dt,className:Wt(rt.props.className,c,J.root),...!y&&{variant:U},...V})})});y3.muiName="Select";function vK(n){return Te("MuiSkeleton",n)}_e("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const bK=n=>{const{classes:t,variant:e,animation:i,hasChildren:r,width:s,height:o}=n;return Ce({root:["root",e,i,r&&"withChildren",r&&!s&&"fitContent",r&&!o&&"heightAuto"]},vK,t)},DT=jd`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,OT=jd`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,_K=typeof DT!="string"?Ub`
        animation: ${DT} 2s ease-in-out 0.5s infinite;
      `:null,EK=typeof OT!="string"?Ub`
        &::after {
          animation: ${OT} 2s linear 0.5s infinite;
        }
      `:null,SK=Mt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],e.animation!==!1&&t[e.animation],e.hasChildren&&t.withChildren,e.hasChildren&&!e.width&&t.fitContent,e.hasChildren&&!e.height&&t.heightAuto]}})(hn(({theme:n})=>{const t=S7(n.shape.borderRadius)||"px",e=w7(n.shape.borderRadius);return{display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:Ir(n.palette.text.primary,n.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${e}${t}/${Math.round(e/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:({ownerState:i})=>i.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:i})=>i.hasChildren&&!i.width,style:{maxWidth:"fit-content"}},{props:({ownerState:i})=>i.hasChildren&&!i.height,style:{height:"auto"}},{props:{animation:"pulse"},style:_K||{animation:`${DT} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(n.vars||n).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:EK||{"&::after":{animation:`${OT} 2s linear 0.5s infinite`}}}]}})),Rm=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiSkeleton"}),{animation:r="pulse",className:s,component:o="span",height:c,style:u,variant:d="text",width:f,...m}=i,y={...i,animation:r,component:o,variant:d,hasChildren:!!m.children},b=bK(y);return R.jsx(SK,{as:o,ref:e,className:Wt(b.root,s),ownerState:y,...m,style:{width:f,height:c,...u}})}),v3=M.createContext();function wK(n){return Te("MuiTable",n)}_e("MuiTable",["root","stickyHeader"]);const AK=n=>{const{classes:t,stickyHeader:e}=n;return Ce({root:["root",e&&"stickyHeader"]},wK,t)},xK=Mt("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.stickyHeader&&t.stickyHeader]}})(hn(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),TO="table",CO=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTable"}),{className:r,component:s=TO,padding:o="normal",size:c="medium",stickyHeader:u=!1,...d}=i,f={...i,component:s,padding:o,size:c,stickyHeader:u},m=AK(f),y=M.useMemo(()=>({padding:o,size:c,stickyHeader:u}),[o,c,u]);return R.jsx(v3.Provider,{value:y,children:R.jsx(xK,{as:s,role:s===TO?null:"table",ref:e,className:Wt(m.root,r),ownerState:f,...d})})}),xw=M.createContext();function TK(n){return Te("MuiTableBody",n)}_e("MuiTableBody",["root"]);const CK=n=>{const{classes:t}=n;return Ce({root:["root"]},TK,t)},RK=Mt("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),IK={variant:"body"},RO="tbody",IO=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTableBody"}),{className:r,component:s=RO,...o}=i,c={...i,component:s},u=CK(c);return R.jsx(xw.Provider,{value:IK,children:R.jsx(RK,{className:Wt(u.root,r),as:s,ref:e,role:s===RO?null:"rowgroup",ownerState:c,...o})})});function kK(n){return Te("MuiTableCell",n)}const PK=_e("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),MK=n=>{const{classes:t,variant:e,align:i,padding:r,size:s,stickyHeader:o}=n,c={root:["root",e,o&&"stickyHeader",i!=="inherit"&&`align${qt(i)}`,r!=="normal"&&`padding${qt(r)}`,`size${qt(s)}`]};return Ce(c,kK,t)},DK=Mt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`size${qt(e.size)}`],e.padding!=="normal"&&t[`padding${qt(e.padding)}`],e.align!=="inherit"&&t[`align${qt(e.align)}`],e.stickyHeader&&t.stickyHeader]}})(hn(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?Tm(Ir(n.palette.divider,1),.88):xm(Ir(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${PK.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),Ls=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTableCell"}),{align:r="inherit",className:s,component:o,padding:c,scope:u,size:d,sortDirection:f,variant:m,...y}=i,b=M.useContext(v3),E=M.useContext(xw),w=E&&E.variant==="head";let T;o?T=o:T=w?"th":"td";let A=u;T==="td"?A=void 0:!A&&w&&(A="col");const O=m||E&&E.variant,k={...i,align:r,component:T,padding:c||(b&&b.padding?b.padding:"normal"),size:d||(b&&b.size?b.size:"medium"),sortDirection:f,stickyHeader:O==="head"&&b&&b.stickyHeader,variant:O},P=MK(k);let F=null;return f&&(F=f==="asc"?"ascending":"descending"),R.jsx(DK,{as:T,ref:e,className:Wt(P.root,s),"aria-sort":F,scope:A,ownerState:k,...y})});function OK(n){return Te("MuiTableContainer",n)}_e("MuiTableContainer",["root"]);const LK=n=>{const{classes:t}=n;return Ce({root:["root"]},OK,t)},NK=Mt("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),kO=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTableContainer"}),{className:r,component:s="div",...o}=i,c={...i,component:s},u=LK(c);return R.jsx(NK,{ref:e,as:s,className:Wt(u.root,r),ownerState:c,...o})});function FK(n){return Te("MuiTableHead",n)}_e("MuiTableHead",["root"]);const VK=n=>{const{classes:t}=n;return Ce({root:["root"]},FK,t)},zK=Mt("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),BK={variant:"head"},PO="thead",jK=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTableHead"}),{className:r,component:s=PO,...o}=i,c={...i,component:s},u=VK(c);return R.jsx(xw.Provider,{value:BK,children:R.jsx(zK,{as:s,className:Wt(u.root,r),ref:e,role:s===PO?null:"rowgroup",ownerState:c,...o})})});function UK(n){return Te("MuiTableRow",n)}const MO=_e("MuiTableRow",["root","selected","hover","head","footer"]),HK=n=>{const{classes:t,selected:e,hover:i,head:r,footer:s}=n;return Ce({root:["root",e&&"selected",i&&"hover",r&&"head",s&&"footer"]},UK,t)},$K=Mt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.head&&t.head,e.footer&&t.footer]}})(hn(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${MO.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${MO.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Ir(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Ir(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}}))),DO="tr",U_=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTableRow"}),{className:r,component:s=DO,hover:o=!1,selected:c=!1,...u}=i,d=M.useContext(xw),f={...i,component:s,hover:o,selected:c,head:d&&d.variant==="head",footer:d&&d.variant==="footer"},m=HK(f);return R.jsx($K,{as:s,ref:e,className:Wt(m.root,r),role:s===DO?null:"row",ownerState:f,...u})});function qK(n){return Te("MuiTextField",n)}_e("MuiTextField",["root"]);const GK={standard:gI,filled:mI,outlined:vI},WK=n=>{const{classes:t}=n;return Ce({root:["root"]},qK,t)},KK=Mt(nW,{name:"MuiTextField",slot:"Root"})({}),YK=M.forwardRef(function(t,e){const i=ke({props:t,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:o,className:c,color:u="primary",defaultValue:d,disabled:f=!1,error:m=!1,FormHelperTextProps:y,fullWidth:b=!1,helperText:E,id:w,InputLabelProps:T,inputProps:A,InputProps:O,inputRef:k,label:P,maxRows:F,minRows:j,multiline:D=!1,name:I,onBlur:V,onChange:x,onFocus:B,placeholder:q,required:U=!1,rows:tt,select:J=!1,SelectProps:X,slots:Z={},slotProps:rt={},type:dt,value:N,variant:st="outlined",...ut}=i,G={...i,autoFocus:s,color:u,disabled:f,error:m,fullWidth:b,multiline:D,required:U,select:J,variant:st},St=WK(G),Ct=Gb(w),wt=E&&Ct?`${Ct}-helper-text`:void 0,It=P&&Ct?`${Ct}-label`:void 0,zt=GK[st],Kt={slots:Z,slotProps:{input:O,inputLabel:T,htmlInput:A,formHelperText:y,select:X,...rt}},xt={},Qt=Kt.slotProps.inputLabel;st==="outlined"&&(Qt&&typeof Qt.shrink<"u"&&(xt.notched=Qt.shrink),xt.label=P),J&&((!X||!X.native)&&(xt.id=void 0),xt["aria-describedby"]=void 0);const[ee,jt]=rn("root",{elementType:KK,shouldForwardComponentProp:!0,externalForwardedProps:{...Kt,...ut},ownerState:G,className:Wt(St.root,c),ref:e,additionalProps:{disabled:f,error:m,fullWidth:b,required:U,color:u,variant:st}}),[Lt,te]=rn("input",{elementType:zt,externalForwardedProps:Kt,additionalProps:xt,ownerState:G}),[pe,ge]=rn("inputLabel",{elementType:bW,externalForwardedProps:Kt,ownerState:G}),[Fe,He]=rn("htmlInput",{elementType:"input",externalForwardedProps:Kt,ownerState:G}),[$e,Ee]=rn("formHelperText",{elementType:aW,externalForwardedProps:Kt,ownerState:G}),[Ut,Qn]=rn("select",{elementType:y3,externalForwardedProps:Kt,ownerState:G}),Ze=R.jsx(Lt,{"aria-describedby":wt,autoComplete:r,autoFocus:s,defaultValue:d,fullWidth:b,multiline:D,name:I,rows:tt,maxRows:F,minRows:j,type:dt,value:N,id:Ct,inputRef:k,onBlur:V,onChange:x,onFocus:B,placeholder:q,inputProps:He,slots:{input:Z.htmlInput?Fe:void 0},...te});return R.jsxs(ee,{...jt,children:[P!=null&&P!==""&&R.jsx(pe,{htmlFor:Ct,id:It,...ge,children:P}),J?R.jsx(Ut,{"aria-describedby":wt,id:Ct,labelId:It,value:N,input:Ze,...Qn,children:o}):Ze,E&&R.jsx($e,{id:wt,...Ee,children:E})]})}),XK=Hn(R.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}));function Ud({subtitle:n}){const t=Bd();return R.jsxs(yt,{className:"fullWidth header",children:[R.jsxs(yt,{className:"fullHeight",sx:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},onClick:()=>{t("/")},children:[R.jsx(At,{variant:"header_small",sx:{ml:"1px"},children:"2025 SUMMER RETREAT"}),R.jsx(At,{variant:"header",children:"CHANGE"})]}),n&&R.jsx(At,{children:n}),R.jsx(XK,{fontSize:"large",sx:{color:"#FAC656"}})]})}const QK=()=>{};var OO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ZK=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],o=n[e++],c=n[e++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},_3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,c=o?n[r+1]:0,u=r+2<n.length,d=u?n[r+2]:0,f=s>>2,m=(s&3)<<4|c>>4;let y=(c&15)<<2|d>>6,b=d&63;u||(b=64,o||(y=64)),i.push(e[f],e[m],e[y],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(b3(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ZK(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],c=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const m=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||c==null||d==null||m==null)throw new JK;const y=s<<2|c>>4;if(i.push(y),d!==64){const b=c<<4&240|d>>2;if(i.push(b),m!==64){const E=d<<6&192|m;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tY=function(n){const t=b3(n);return _3.encodeByteArray(t,!0)},fS=function(n){return tY(n).replace(/\./g,"")},E3=function(n){try{return _3.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=()=>eY().__FIREBASE_DEFAULTS__,iY=()=>{if(typeof process>"u"||typeof OO>"u")return;const n=OO.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rY=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&E3(n[1]);return t&&JSON.parse(t)},Tw=()=>{try{return QK()||nY()||iY()||rY()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},S3=n=>{var t,e;return(e=(t=Tw())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},w3=n=>{const t=S3(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},A3=()=>{var n;return(n=Tw())===null||n===void 0?void 0:n.config},x3=n=>{var t;return(t=Tw())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n){return n.endsWith(".cloudworkstations.dev")}async function _I(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fS(JSON.stringify(e)),fS(JSON.stringify(o)),""].join(".")}const $y={};function aY(){const n={prod:[],emulator:[]};for(const t of Object.keys($y))$y[t]?n.emulator.push(t):n.prod.push(t);return n}function oY(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let LO=!1;function EI(n,t){if(typeof window>"u"||typeof document>"u"||!$m(window.location.host)||$y[n]===t||$y[n]||LO)return;$y[n]=t;function e(y){return`__firebase__banner__${y}`}const i="__firebase__banner",s=aY().prod.length>0;function o(){const y=document.getElementById(i);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{LO=!0,o()},y}function f(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=oY(i),b=e("text"),E=document.getElementById(b)||document.createElement("span"),w=e("learnmore"),T=document.getElementById(w)||document.createElement("a"),A=e("preprendIcon"),O=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;c(k),f(T,w);const P=d();u(O,A),k.append(O,E,T,P),document.body.appendChild(k)}s?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function cY(){var n;const t=(n=Tw())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hY(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fY(){const n=vr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pY(){return!cY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mY(){try{return typeof indexedDB=="object"}catch{return!1}}function gY(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY="FirebaseError";class Do extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=yY,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yb.prototype.create)}}class Yb{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?vY(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Do(r,c,i)}}function vY(n,t){return n.replace(bY,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const bY=/\{\$([^}]+)}/g;function _Y(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xu(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(NO(s)&&NO(o)){if(!xu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function NO(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function EY(n,t){const e=new SY(n,t);return e.subscribe.bind(e)}class SY{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");wY(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Dx),r.error===void 0&&(r.error=Dx),r.complete===void 0&&(r.complete=Dx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wY(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Dx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n){return n&&n._delegate?n._delegate:n}class Tu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new sY;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TY(t))try{this.getOrInitializeService({instanceIdentifier:wh})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=wh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wh){return this.instances.has(t)}getOptions(t=wh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xY(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=wh){return this.component?this.component.multipleInstances?t:wh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xY(n){return n===wh?void 0:n}function TY(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new AY(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const RY={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},IY=De.INFO,kY={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},PY=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=kY[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class SI{constructor(t){this.name=t,this._logLevel=IY,this._logHandler=PY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in De))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RY[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...t),this._logHandler(this,De.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...t),this._logHandler(this,De.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,De.INFO,...t),this._logHandler(this,De.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,De.WARN,...t),this._logHandler(this,De.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...t),this._logHandler(this,De.ERROR,...t)}}const MY=(n,t)=>t.some(e=>n instanceof e);let FO,VO;function DY(){return FO||(FO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OY(){return VO||(VO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C3=new WeakMap,LT=new WeakMap,R3=new WeakMap,Ox=new WeakMap,wI=new WeakMap;function LY(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(gu(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&C3.set(e,n)}).catch(()=>{}),wI.set(t,n),t}function NY(n){if(LT.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});LT.set(n,t)}let NT={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return LT.get(n);if(t==="objectStoreNames")return n.objectStoreNames||R3.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return gu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function FY(n){NT=n(NT)}function VY(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Lx(this),t,...e);return R3.set(i,t.sort?t.sort():[t]),gu(i)}:OY().includes(n)?function(...t){return n.apply(Lx(this),t),gu(C3.get(this))}:function(...t){return gu(n.apply(Lx(this),t))}}function zY(n){return typeof n=="function"?VY(n):(n instanceof IDBTransaction&&NY(n),MY(n,DY())?new Proxy(n,NT):n)}function gu(n){if(n instanceof IDBRequest)return LY(n);if(Ox.has(n))return Ox.get(n);const t=zY(n);return t!==n&&(Ox.set(n,t),wI.set(t,n)),t}const Lx=n=>wI.get(n);function BY(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),c=gu(o);return i&&o.addEventListener("upgradeneeded",u=>{i(gu(o.result),u.oldVersion,u.newVersion,gu(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const jY=["get","getKey","getAll","getAllKeys","count"],UY=["put","add","delete","clear"],Nx=new Map;function zO(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Nx.get(t))return Nx.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=UY.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||jY.includes(e)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),r&&u.done]))[0]};return Nx.set(t,s),s}FY(n=>({...n,get:(t,e,i)=>zO(t,e)||n.get(t,e,i),has:(t,e)=>!!zO(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($Y(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function $Y(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const FT="@firebase/app",BO="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new SI("@firebase/app"),qY="@firebase/app-compat",GY="@firebase/analytics-compat",WY="@firebase/analytics",KY="@firebase/app-check-compat",YY="@firebase/app-check",XY="@firebase/auth",QY="@firebase/auth-compat",ZY="@firebase/database",JY="@firebase/data-connect",tX="@firebase/database-compat",eX="@firebase/functions",nX="@firebase/functions-compat",iX="@firebase/installations",rX="@firebase/installations-compat",sX="@firebase/messaging",aX="@firebase/messaging-compat",oX="@firebase/performance",lX="@firebase/performance-compat",cX="@firebase/remote-config",uX="@firebase/remote-config-compat",hX="@firebase/storage",dX="@firebase/storage-compat",fX="@firebase/firestore",pX="@firebase/ai",mX="@firebase/firestore-compat",gX="firebase",yX="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="[DEFAULT]",vX={[FT]:"fire-core",[qY]:"fire-core-compat",[WY]:"fire-analytics",[GY]:"fire-analytics-compat",[YY]:"fire-app-check",[KY]:"fire-app-check-compat",[XY]:"fire-auth",[QY]:"fire-auth-compat",[ZY]:"fire-rtdb",[JY]:"fire-data-connect",[tX]:"fire-rtdb-compat",[eX]:"fire-fn",[nX]:"fire-fn-compat",[iX]:"fire-iid",[rX]:"fire-iid-compat",[sX]:"fire-fcm",[aX]:"fire-fcm-compat",[oX]:"fire-perf",[lX]:"fire-perf-compat",[cX]:"fire-rc",[uX]:"fire-rc-compat",[hX]:"fire-gcs",[dX]:"fire-gcs-compat",[fX]:"fire-fst",[mX]:"fire-fst-compat",[pX]:"fire-vertex","fire-js":"fire-js",[gX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Map,bX=new Map,zT=new Map;function jO(n,t){try{n.container.addComponent(t)}catch(e){Xl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Id(n){const t=n.name;if(zT.has(t))return Xl.debug(`There were multiple attempts to register component ${t}.`),!1;zT.set(t,n);for(const e of pS.values())jO(e,n);for(const e of bX.values())jO(e,n);return!0}function Cw(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Gs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yu=new Yb("app","Firebase",_X);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=yX;function I3(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:VT,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw yu.create("bad-app-name",{appName:String(r)});if(e||(e=A3()),!e)throw yu.create("no-options");const s=pS.get(r);if(s){if(xu(e,s.options)&&xu(i,s.config))return s;throw yu.create("duplicate-app",{appName:r})}const o=new CY(r);for(const u of zT.values())o.addComponent(u);const c=new EX(e,i,o);return pS.set(r,c),c}function AI(n=VT){const t=pS.get(n);if(!t&&n===VT&&A3())return I3();if(!t)throw yu.create("no-app",{appName:n});return t}function Eo(n,t,e){var i;let r=(i=vX[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xl.warn(c.join(" "));return}Id(new Tu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX="firebase-heartbeat-database",wX=1,lv="firebase-heartbeat-store";let Fx=null;function k3(){return Fx||(Fx=BY(SX,wX,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(lv)}catch(e){console.warn(e)}}}}).catch(n=>{throw yu.create("idb-open",{originalErrorMessage:n.message})})),Fx}async function AX(n){try{const e=(await k3()).transaction(lv),i=await e.objectStore(lv).get(P3(n));return await e.done,i}catch(t){if(t instanceof Do)Xl.warn(t.message);else{const e=yu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xl.warn(e.message)}}}async function UO(n,t){try{const i=(await k3()).transaction(lv,"readwrite");await i.objectStore(lv).put(t,P3(n)),await i.done}catch(e){if(e instanceof Do)Xl.warn(e.message);else{const i=yu.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Xl.warn(i.message)}}}function P3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX=1024,TX=30;class CX{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new IX(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>TX){const o=kX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xl.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HO(),{heartbeatsToSend:i,unsentEntries:r}=RX(this._heartbeatsCache.heartbeats),s=fS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Xl.warn(e),""}}}function HO(){return new Date().toISOString().substring(0,10)}function RX(n,t=xX){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$O(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),$O(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class IX{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mY()?gY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await AX(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return UO(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return UO(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function $O(n){return fS(JSON.stringify({version:2,heartbeats:n})).length}function kX(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(n){Id(new Tu("platform-logger",t=>new HY(t),"PRIVATE")),Id(new Tu("heartbeat",t=>new CX(t),"PRIVATE")),Eo(FT,BO,n),Eo(FT,BO,"esm2017"),Eo("fire-js","")}PX("");var MX="firebase",DX="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(MX,DX,"app");function xI(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function M3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OX=M3,D3=new Yb("auth","Firebase",M3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new SI("@firebase/auth");function LX(n,...t){mS.logLevel<=De.WARN&&mS.warn(`Auth (${Hd}): ${n}`,...t)}function gE(n,...t){mS.logLevel<=De.ERROR&&mS.error(`Auth (${Hd}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(n,...t){throw TI(n,...t)}function So(n,...t){return TI(n,...t)}function O3(n,t,e){const i=Object.assign(Object.assign({},OX()),{[t]:e});return new Yb("auth","Firebase",i).create(t,{appName:n.name})}function vu(n){return O3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TI(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return D3.create(n,...t)}function le(n,t,...e){if(!n)throw TI(t,...e)}function zl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw gE(t),new Error(t)}function Zl(n,t){n||zl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function NX(){return qO()==="http:"||qO()==="https:"}function qO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NX()||hY()||"connection"in navigator)?navigator.onLine:!0}function VX(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,e){this.shortDelay=t,this.longDelay=e,Zl(e>t,"Short delay should be less than long delay!"),this.isMobile=lY()||dY()}get(){return FX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n,t){Zl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jX=new Qb(3e4,6e4);function Rw(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function qm(n,t,e,i,r={}){return N3(n,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const c=Xb(Object.assign({key:n.config.apiKey},o)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:t,headers:u},s);return uY()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&$m(n.emulatorConfig.host)&&(d.credentials="include"),L3.fetch()(await V3(n,n.config.apiHost,e,c),d)})}async function N3(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},zX),t);try{const r=new UX(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw H_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw H_(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw H_(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw H_(n,"user-disabled",o);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw O3(n,f,d);Ql(n,f)}}catch(r){if(r instanceof Do)throw r;Ql(n,"network-request-failed",{message:String(r)})}}async function F3(n,t,e,i,r={}){const s=await qm(n,t,e,i,r);return"mfaPendingCredential"in s&&Ql(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function V3(n,t,e,i){const r=`${t}${e}?${i}`,s=n,o=s.config.emulator?CI(n.config,r):`${n.config.apiScheme}://${r}`;return BX.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class UX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(So(this.auth,"network-request-failed")),jX.get())})}}function H_(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=So(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HX(n,t){return qm(n,"POST","/v1/accounts:delete",t)}async function gS(n,t){return qm(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $X(n,t=!1){const e=br(n),i=await e.getIdToken(t),r=RI(i);le(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:qy(Vx(r.auth_time)),issuedAtTime:qy(Vx(r.iat)),expirationTime:qy(Vx(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vx(n){return Number(n)*1e3}function RI(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return gE("JWT malformed, contained fewer than 3 sections"),null;try{const r=E3(e);return r?JSON.parse(r):(gE("Failed to decode base64 JWT payload"),null)}catch(r){return gE("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function GO(n){const t=RI(n);return le(t,"internal-error"),le(typeof t.exp<"u","internal-error"),le(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Do&&qX(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function qX({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=qy(this.lastLoginAt),this.creationTime=qy(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(n){var t;const e=n.auth,i=await n.getIdToken(),r=await cv(n,gS(e,{idToken:i}));le(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?z3(s.providerUserInfo):[],c=KX(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new jT(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function WX(n){const t=br(n);await yS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function KX(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function z3(n){return n.map(t=>{var{providerId:e}=t,i=xI(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(n,t){const e=await N3(n,{},async()=>{const i=Xb({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await V3(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",L3.fetch()(o,{method:"POST",headers:c,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function XX(n,t){return qm(n,"POST","/v2/accounts:revokeToken",Rw(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){le(t.idToken,"internal-error"),le(typeof t.idToken<"u","internal-error"),le(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):GO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){le(t.length!==0,"internal-error");const e=GO(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await YX(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new gp;return i&&(le(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(le(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(le(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gp,this.toJSON())}_performRefresh(){return zl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n,t){le(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ea{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=xI(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await cv(this,this.stsTokenManager.getToken(this.auth,t));return le(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return $X(this,t)}reload(){return WX(this)}_assign(t){this!==t&&(le(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ea(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await yS(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gs(this.auth.app))return Promise.reject(vu(this.auth));const t=await this.getIdToken();return await cv(this,HX(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,c,u,d,f;const m=(i=e.displayName)!==null&&i!==void 0?i:void 0,y=(r=e.email)!==null&&r!==void 0?r:void 0,b=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=e.photoURL)!==null&&o!==void 0?o:void 0,w=(c=e.tenantId)!==null&&c!==void 0?c:void 0,T=(u=e._redirectEventId)!==null&&u!==void 0?u:void 0,A=(d=e.createdAt)!==null&&d!==void 0?d:void 0,O=(f=e.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:P,isAnonymous:F,providerData:j,stsTokenManager:D}=e;le(k&&D,t,"internal-error");const I=gp.fromJSON(this.name,D);le(typeof k=="string",t,"internal-error"),Dc(m,t.name),Dc(y,t.name),le(typeof P=="boolean",t,"internal-error"),le(typeof F=="boolean",t,"internal-error"),Dc(b,t.name),Dc(E,t.name),Dc(w,t.name),Dc(T,t.name),Dc(A,t.name),Dc(O,t.name);const V=new Ea({uid:k,auth:t,email:y,emailVerified:P,displayName:m,isAnonymous:F,photoURL:E,phoneNumber:b,tenantId:w,stsTokenManager:I,createdAt:A,lastLoginAt:O});return j&&Array.isArray(j)&&(V.providerData=j.map(x=>Object.assign({},x))),T&&(V._redirectEventId=T),V}static async _fromIdTokenResponse(t,e,i=!1){const r=new gp;r.updateFromServerResponse(e);const s=new Ea({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await yS(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];le(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?z3(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new gp;c.updateFromIdToken(i);const u=new Ea({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new jT(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Map;function Bl(n){Zl(n instanceof Function,"Expected a class definition");let t=WO.get(n);return t?(Zl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,WO.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}B3.type="NONE";const KO=B3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n,t,e){return`firebase:${n}:${t}:${e}`}class yp{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=yE(this.userKey,r.apiKey,s),this.fullPersistenceKey=yE("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await gS(this.auth,{idToken:t}).catch(()=>{});return e?Ea._fromGetAccountInfoResponse(this.auth,e,t):null}return Ea._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new yp(Bl(KO),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||Bl(KO);const o=yE(i,t.config.apiKey,t.name);let c=null;for(const d of e)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const y=await gS(t,{idToken:f}).catch(()=>{});if(!y)break;m=await Ea._fromGetAccountInfoResponse(t,y,f)}else m=Ea._fromJSON(t,f);d!==s&&(c=m),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new yp(s,t,i):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new yp(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G3(t))return"Blackberry";if(W3(t))return"Webos";if(U3(t))return"Safari";if((t.includes("chrome/")||H3(t))&&!t.includes("edge/"))return"Chrome";if(q3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function j3(n=vr()){return/firefox\//i.test(n)}function U3(n=vr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H3(n=vr()){return/crios\//i.test(n)}function $3(n=vr()){return/iemobile/i.test(n)}function q3(n=vr()){return/android/i.test(n)}function G3(n=vr()){return/blackberry/i.test(n)}function W3(n=vr()){return/webos/i.test(n)}function II(n=vr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QX(n=vr()){var t;return II(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function ZX(){return fY()&&document.documentMode===10}function K3(n=vr()){return II(n)||q3(n)||W3(n)||G3(n)||/windows phone/i.test(n)||$3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(n,t=[]){let e;switch(n){case"Browser":e=YO(vr());break;case"Worker":e=`${YO(vr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Hd}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tQ(n,t={}){return qm(n,"GET","/v2/passwordPolicy",Rw(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=6;class nQ{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:eQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(e=u.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XO(this),this.idTokenSubscription=new XO(this),this.beforeStateQueue=new JX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Bl(e)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await yp.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await gS(this,{idToken:t}),i=await Ea._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Gs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await yS(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VX()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gs(this.app))return Promise.reject(vu(this));const e=t?br(t):null;return e&&le(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&le(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gs(this.app)?Promise.reject(vu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gs(this.app)?Promise.reject(vu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tQ(this),e=new nQ(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yb("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await XX(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Bl(t)||this._popupRedirectResolver;le(e,this,"argument-error"),this.redirectPersistenceManager=await yp.create(this,[Bl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const u=t.addObserver(e,i,r);return()=>{o=!0,u()}}else{const u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&LX(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Iw(n){return br(n)}class XO{constructor(t){this.auth=t,this.observer=null,this.addObserver=EY(e=>this.observer=e)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rQ(n){kI=n}function sQ(n){return kI.loadJS(n)}function aQ(){return kI.gapiScript}function oQ(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(n,t){const e=Cw(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(xu(s,t??{}))return r;Ql(r,"already-initialized")}return e.initialize({options:t})}function cQ(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Bl);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function uQ(n,t,e){const i=Iw(n);le(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=X3(t),{host:o,port:c}=hQ(t),u=c===null?"":`:${c}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),le(xu(d,i.config.emulator)&&xu(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,$m(o)?(_I(`${s}//${o}${u}`),EI("Auth",!0)):dQ()}function X3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function hQ(n){const t=X3(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:QO(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:QO(o)}}}function QO(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function dQ(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return zl("not implemented")}_getIdTokenResponse(t){return zl("not implemented")}_linkToIdToken(t,e){return zl("not implemented")}_getReauthenticationResolver(t){return zl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(n,t){return F3(n,"POST","/v1/accounts:signInWithIdp",Rw(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ="http://localhost";class kd extends Q3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new kd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ql("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=xI(e,["providerId","signInMethod"]);if(!i||!r)return null;const o=new kd(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return vp(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,vp(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,vp(t,e)}buildRequest(){const t={requestUri:fQ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Xb(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends Z3{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Zb{constructor(){super("facebook.com")}static credential(t){return kd._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fc.credentialFromTaggedObject(t)}static credentialFromError(t){return Fc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fc.credential(t.oauthAccessToken)}catch{return null}}}Fc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Zb{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return kd._fromParams({providerId:Vc.PROVIDER_ID,signInMethod:Vc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Vc.credentialFromTaggedObject(t)}static credentialFromError(t){return Vc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Vc.credential(e,i)}catch{return null}}}Vc.GOOGLE_SIGN_IN_METHOD="google.com";Vc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Zb{constructor(){super("github.com")}static credential(t){return kd._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zc.credentialFromTaggedObject(t)}static credentialFromError(t){return zc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zc.credential(t.oauthAccessToken)}catch{return null}}}zc.GITHUB_SIGN_IN_METHOD="github.com";zc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Zb{constructor(){super("twitter.com")}static credential(t,e){return kd._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Bc.credentialFromTaggedObject(t)}static credentialFromError(t){return Bc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Bc.credential(e,i)}catch{return null}}}Bc.TWITTER_SIGN_IN_METHOD="twitter.com";Bc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pQ(n,t){return F3(n,"POST","/v1/accounts:signUp",Rw(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await Ea._fromIdTokenResponse(t,i,r),o=ZO(i);return new Cu({user:s,providerId:o,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ZO(i);return new Cu({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ZO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(n){var t;if(Gs(n.app))return Promise.reject(vu(n));const e=Iw(n);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Cu({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await pQ(e,{returnSecureToken:!0}),r=await Cu._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends Do{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vS.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new vS(t,e,i,r)}}function J3(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vS._fromErrorAndOperation(n,s,t,i):s})}async function gQ(n,t,e=!1){const i=await cv(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Cu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yQ(n,t,e=!1){const{auth:i}=n;if(Gs(i.app))return Promise.reject(vu(i));const r="reauthenticate";try{const s=await cv(n,J3(i,r,t,n),e);le(s.idToken,i,"internal-error");const o=RI(s.idToken);le(o,i,"internal-error");const{sub:c}=o;return le(n.uid===c,i,"user-mismatch"),Cu._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ql(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vQ(n,t,e=!1){if(Gs(n.app))return Promise.reject(vu(n));const i="signIn",r=await J3(n,i,t),s=await Cu._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}function bQ(n,t,e,i){return br(n).onIdTokenChanged(t,e,i)}function _Q(n,t,e){return br(n).beforeAuthStateChanged(t,e)}const bS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bS,"1"),this.storage.removeItem(bS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=1e3,SQ=10;class e5 extends t5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!e&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);ZX()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,SQ):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},EQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}e5.type="LOCAL";const wQ=e5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5 extends t5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}n5.type="SESSION";const i5=n5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new kw(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(o).map(async d=>d(e.origin,s)),u=await AQ(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const d=PI("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return window}function TQ(n){wo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){return typeof wo().WorkerGlobalScope<"u"&&typeof wo().importScripts=="function"}async function CQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RQ(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function IQ(){return r5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="firebaseLocalStorageDb",kQ=1,_S="firebaseLocalStorage",a5="fbase_key";class Jb{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Pw(n,t){return n.transaction([_S],t?"readwrite":"readonly").objectStore(_S)}function PQ(){const n=indexedDB.deleteDatabase(s5);return new Jb(n).toPromise()}function UT(){const n=indexedDB.open(s5,kQ);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(_S,{keyPath:a5})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(_S)?t(i):(i.close(),await PQ(),t(await UT()))})})}async function JO(n,t,e){const i=Pw(n,!0).put({[a5]:t,value:e});return new Jb(i).toPromise()}async function MQ(n,t){const e=Pw(n,!1).get(t),i=await new Jb(e).toPromise();return i===void 0?null:i.value}function tL(n,t){const e=Pw(n,!0).delete(t);return new Jb(e).toPromise()}const DQ=800,OQ=3;class o5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await UT(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>OQ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kw._getInstance(IQ()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await CQ(),!this.activeServiceWorker)return;this.sender=new xQ(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await UT();return await JO(t,bS,"1"),await tL(t,bS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>JO(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>MQ(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>tL(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Pw(r,!1).getAll();return new Jb(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o5.type="LOCAL";const LQ=o5;new Qb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQ(n,t){return t?Bl(t):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends Q3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vp(t,this._buildIdpRequest())}_linkToIdToken(t,e){return vp(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return vp(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function FQ(n){return vQ(n.auth,new MI(n),n.bypassAuthState)}function VQ(n){const{auth:t,user:e}=n;return le(e,t,"internal-error"),yQ(e,new MI(n),n.bypassAuthState)}async function zQ(n){const{auth:t,user:e}=n;return le(e,t,"internal-error"),gQ(e,new MI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FQ;case"linkViaPopup":case"linkViaRedirect":return zQ;case"reauthViaPopup":case"reauthViaRedirect":return VQ;default:Ql(this.auth,"internal-error")}}resolve(t){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=new Qb(2e3,1e4);class hp extends l5{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,hp.currentPopupAction&&hp.currentPopupAction.cancel(),hp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return le(t,this.auth,"internal-error"),t}async onExecution(){Zl(this.filter.length===1,"Popup operations only handle one event");const t=PI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(So(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(So(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hp.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(So(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BQ.get())};t()}}hp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ="pendingRedirect",vE=new Map;class UQ extends l5{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=vE.get(this.auth._key());if(!t){try{const i=await HQ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}vE.set(this.auth._key(),t)}return this.bypassAuthState||vE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HQ(n,t){const e=GQ(t),i=qQ(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function $Q(n,t){vE.set(n._key(),t)}function qQ(n){return Bl(n._redirectPersistence)}function GQ(n){return yE(jQ,n.config.apiKey,n.name)}async function WQ(n,t,e=!1){if(Gs(n.app))return Promise.reject(vu(n));const i=Iw(n),r=NQ(i,t),o=await new UQ(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ=10*60*1e3;class YQ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XQ(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!c5(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(So(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(eL(t))}saveEventToCache(t){this.cachedEventUids.add(eL(t)),this.lastProcessedEventTime=Date.now()}}function eL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function c5({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function XQ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c5(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(n,t={}){return qm(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JQ=/^https?/;async function tZ(n){if(n.config.emulator)return;const{authorizedDomains:t}=await QQ(n);for(const e of t)try{if(eZ(e))return}catch{}Ql(n,"unauthorized-domain")}function eZ(n){const t=BT(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!JQ.test(e))return!1;if(ZQ.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=new Qb(3e4,6e4);function nL(){const n=wo().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function iZ(n){return new Promise((t,e)=>{var i,r,s;function o(){nL(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nL(),e(So(n,"network-request-failed"))},timeout:nZ.get()})}if(!((r=(i=wo().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=wo().gapi)===null||s===void 0)&&s.load)o();else{const c=oQ("iframefcb");return wo()[c]=()=>{gapi.load?o():e(So(n,"network-request-failed"))},sQ(`${aQ()}?onload=${c}`).catch(u=>e(u))}}).catch(t=>{throw bE=null,t})}let bE=null;function rZ(n){return bE=bE||iZ(n),bE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ=new Qb(5e3,15e3),aZ="__/auth/iframe",oZ="emulator/auth/iframe",lZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uZ(n){const t=n.config;le(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?CI(t,oZ):`https://${n.config.authDomain}/${aZ}`,i={apiKey:t.apiKey,appName:n.name,v:Hd},r=cZ.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${Xb(i).slice(1)}`}async function hZ(n){const t=await rZ(n),e=wo().gapi;return le(e,n,"internal-error"),t.open({where:document.body,url:uZ(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lZ,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=So(n,"network-request-failed"),c=wo().setTimeout(()=>{s(o)},sZ.get());function u(){wo().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fZ=500,pZ=600,mZ="_blank",gZ="http://localhost";class iL{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yZ(n,t,e,i=fZ,r=pZ){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},dZ),{width:i.toString(),height:r.toString(),top:s,left:o}),d=vr().toLowerCase();e&&(c=H3(d)?mZ:e),j3(d)&&(t=t||gZ,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[b,E])=>`${y}${b}=${E},`,"");if(QX(d)&&c!=="_self")return vZ(t||"",c),new iL(null);const m=window.open(t||"",c,f);le(m,n,"popup-blocked");try{m.focus()}catch{}return new iL(m)}function vZ(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ="__/auth/handler",_Z="emulator/auth/handler",EZ=encodeURIComponent("fac");async function rL(n,t,e,i,r,s){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Hd,eventId:r};if(t instanceof Z3){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",_Y(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(t instanceof Zb){const f=t.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await n._getAppCheckToken(),d=u?`#${EZ}=${encodeURIComponent(u)}`:"";return`${SZ(n)}?${Xb(c).slice(1)}${d}`}function SZ({config:n}){return n.emulator?CI(n,_Z):`https://${n.authDomain}/${bZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="webStorageSupport";class wZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i5,this._completeRedirectFn=WQ,this._overrideRedirectResult=$Q}async _openPopup(t,e,i,r){var s;Zl((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rL(t,e,i,BT(),r);return yZ(t,o,PI())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await rL(t,e,i,BT(),r);return TQ(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Zl(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await hZ(t),i=new YQ(t);return e.register("authEvent",r=>(le(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zx,{type:zx},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[zx];o!==void 0&&e(!!o),Ql(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=tZ(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return K3()||U3()||II()}}const AZ=wZ;var sL="@firebase/auth",aL="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CZ(n){Id(new Tu("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y3(n)},d=new iQ(i,r,s,u);return cQ(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Id(new Tu("auth-internal",t=>{const e=Iw(t.getProvider("auth").getImmediate());return(i=>new xZ(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(sL,aL,TZ(n)),Eo(sL,aL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=5*60,IZ=x3("authIdTokenMaxAge")||RZ;let oL=null;const kZ=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>IZ)return;const r=e==null?void 0:e.token;oL!==r&&(oL=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function PZ(n=AI()){const t=Cw(n,"auth");if(t.isInitialized())return t.getImmediate();const e=lQ(n,{popupRedirectResolver:AZ,persistence:[LQ,wQ,i5]}),i=x3("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=kZ(s.toString());_Q(e,o,()=>o(e.currentUser)),bQ(e,c=>o(c))}}const r=S3("auth");return r&&uQ(e,`http://${r}`),e}function MZ(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}rQ({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=So("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",MZ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CZ("Browser");var lL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bu,u5;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,I){function V(){}V.prototype=I.prototype,D.D=I.prototype,D.prototype=new V,D.prototype.constructor=D,D.C=function(x,B,q){for(var U=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)U[tt-2]=arguments[tt];return I.prototype[B].apply(x,U)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,I,V){V||(V=0);var x=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)x[B]=I.charCodeAt(V++)|I.charCodeAt(V++)<<8|I.charCodeAt(V++)<<16|I.charCodeAt(V++)<<24;else for(B=0;16>B;++B)x[B]=I[V++]|I[V++]<<8|I[V++]<<16|I[V++]<<24;I=D.g[0],V=D.g[1],B=D.g[2];var q=D.g[3],U=I+(q^V&(B^q))+x[0]+3614090360&4294967295;I=V+(U<<7&4294967295|U>>>25),U=q+(B^I&(V^B))+x[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(V^q&(I^V))+x[2]+606105819&4294967295,B=q+(U<<17&4294967295|U>>>15),U=V+(I^B&(q^I))+x[3]+3250441966&4294967295,V=B+(U<<22&4294967295|U>>>10),U=I+(q^V&(B^q))+x[4]+4118548399&4294967295,I=V+(U<<7&4294967295|U>>>25),U=q+(B^I&(V^B))+x[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(V^q&(I^V))+x[6]+2821735955&4294967295,B=q+(U<<17&4294967295|U>>>15),U=V+(I^B&(q^I))+x[7]+4249261313&4294967295,V=B+(U<<22&4294967295|U>>>10),U=I+(q^V&(B^q))+x[8]+1770035416&4294967295,I=V+(U<<7&4294967295|U>>>25),U=q+(B^I&(V^B))+x[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(V^q&(I^V))+x[10]+4294925233&4294967295,B=q+(U<<17&4294967295|U>>>15),U=V+(I^B&(q^I))+x[11]+2304563134&4294967295,V=B+(U<<22&4294967295|U>>>10),U=I+(q^V&(B^q))+x[12]+1804603682&4294967295,I=V+(U<<7&4294967295|U>>>25),U=q+(B^I&(V^B))+x[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(V^q&(I^V))+x[14]+2792965006&4294967295,B=q+(U<<17&4294967295|U>>>15),U=V+(I^B&(q^I))+x[15]+1236535329&4294967295,V=B+(U<<22&4294967295|U>>>10),U=I+(B^q&(V^B))+x[1]+4129170786&4294967295,I=V+(U<<5&4294967295|U>>>27),U=q+(V^B&(I^V))+x[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^V&(q^I))+x[11]+643717713&4294967295,B=q+(U<<14&4294967295|U>>>18),U=V+(q^I&(B^q))+x[0]+3921069994&4294967295,V=B+(U<<20&4294967295|U>>>12),U=I+(B^q&(V^B))+x[5]+3593408605&4294967295,I=V+(U<<5&4294967295|U>>>27),U=q+(V^B&(I^V))+x[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^V&(q^I))+x[15]+3634488961&4294967295,B=q+(U<<14&4294967295|U>>>18),U=V+(q^I&(B^q))+x[4]+3889429448&4294967295,V=B+(U<<20&4294967295|U>>>12),U=I+(B^q&(V^B))+x[9]+568446438&4294967295,I=V+(U<<5&4294967295|U>>>27),U=q+(V^B&(I^V))+x[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^V&(q^I))+x[3]+4107603335&4294967295,B=q+(U<<14&4294967295|U>>>18),U=V+(q^I&(B^q))+x[8]+1163531501&4294967295,V=B+(U<<20&4294967295|U>>>12),U=I+(B^q&(V^B))+x[13]+2850285829&4294967295,I=V+(U<<5&4294967295|U>>>27),U=q+(V^B&(I^V))+x[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^V&(q^I))+x[7]+1735328473&4294967295,B=q+(U<<14&4294967295|U>>>18),U=V+(q^I&(B^q))+x[12]+2368359562&4294967295,V=B+(U<<20&4294967295|U>>>12),U=I+(V^B^q)+x[5]+4294588738&4294967295,I=V+(U<<4&4294967295|U>>>28),U=q+(I^V^B)+x[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^V)+x[11]+1839030562&4294967295,B=q+(U<<16&4294967295|U>>>16),U=V+(B^q^I)+x[14]+4259657740&4294967295,V=B+(U<<23&4294967295|U>>>9),U=I+(V^B^q)+x[1]+2763975236&4294967295,I=V+(U<<4&4294967295|U>>>28),U=q+(I^V^B)+x[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^V)+x[7]+4139469664&4294967295,B=q+(U<<16&4294967295|U>>>16),U=V+(B^q^I)+x[10]+3200236656&4294967295,V=B+(U<<23&4294967295|U>>>9),U=I+(V^B^q)+x[13]+681279174&4294967295,I=V+(U<<4&4294967295|U>>>28),U=q+(I^V^B)+x[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^V)+x[3]+3572445317&4294967295,B=q+(U<<16&4294967295|U>>>16),U=V+(B^q^I)+x[6]+76029189&4294967295,V=B+(U<<23&4294967295|U>>>9),U=I+(V^B^q)+x[9]+3654602809&4294967295,I=V+(U<<4&4294967295|U>>>28),U=q+(I^V^B)+x[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^V)+x[15]+530742520&4294967295,B=q+(U<<16&4294967295|U>>>16),U=V+(B^q^I)+x[2]+3299628645&4294967295,V=B+(U<<23&4294967295|U>>>9),U=I+(B^(V|~q))+x[0]+4096336452&4294967295,I=V+(U<<6&4294967295|U>>>26),U=q+(V^(I|~B))+x[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~V))+x[14]+2878612391&4294967295,B=q+(U<<15&4294967295|U>>>17),U=V+(q^(B|~I))+x[5]+4237533241&4294967295,V=B+(U<<21&4294967295|U>>>11),U=I+(B^(V|~q))+x[12]+1700485571&4294967295,I=V+(U<<6&4294967295|U>>>26),U=q+(V^(I|~B))+x[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~V))+x[10]+4293915773&4294967295,B=q+(U<<15&4294967295|U>>>17),U=V+(q^(B|~I))+x[1]+2240044497&4294967295,V=B+(U<<21&4294967295|U>>>11),U=I+(B^(V|~q))+x[8]+1873313359&4294967295,I=V+(U<<6&4294967295|U>>>26),U=q+(V^(I|~B))+x[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~V))+x[6]+2734768916&4294967295,B=q+(U<<15&4294967295|U>>>17),U=V+(q^(B|~I))+x[13]+1309151649&4294967295,V=B+(U<<21&4294967295|U>>>11),U=I+(B^(V|~q))+x[4]+4149444226&4294967295,I=V+(U<<6&4294967295|U>>>26),U=q+(V^(I|~B))+x[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~V))+x[2]+718787259&4294967295,B=q+(U<<15&4294967295|U>>>17),U=V+(q^(B|~I))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+q&4294967295}i.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var V=I-this.blockSize,x=this.B,B=this.h,q=0;q<I;){if(B==0)for(;q<=V;)r(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<I;)if(x[B++]=D.charCodeAt(q++),B==this.blockSize){r(this,x),B=0;break}}else for(;q<I;)if(x[B++]=D[q++],B==this.blockSize){r(this,x),B=0;break}}this.h=B,this.o+=I},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var V=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=V&255,V/=256;for(this.u(D),D=Array(16),I=V=0;4>I;++I)for(var x=0;32>x;x+=8)D[V++]=this.g[I]>>>x&255;return D};function s(D,I){var V=c;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=I(D)}function o(D,I){this.h=I;for(var V=[],x=!0,B=D.length-1;0<=B;B--){var q=D[B]|0;x&&q==I||(V[B]=q,x=!1)}this.g=V}var c={};function u(D){return-128<=D&&128>D?s(D,function(I){return new o([I|0],0>I?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return T(d(-D));for(var I=[],V=1,x=0;D>=V;x++)I[x]=D/V|0,V*=4294967296;return new o(I,0)}function f(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return T(f(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=d(Math.pow(I,8)),x=m,B=0;B<D.length;B+=8){var q=Math.min(8,D.length-B),U=parseInt(D.substring(B,B+q),I);8>q?(q=d(Math.pow(I,q)),x=x.j(q).add(d(U))):(x=x.j(V),x=x.add(d(U)))}return x}var m=u(0),y=u(1),b=u(16777216);n=o.prototype,n.m=function(){if(w(this))return-T(this).m();for(var D=0,I=1,V=0;V<this.g.length;V++){var x=this.i(V);D+=(0<=x?x:4294967296+x)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(w(this))return"-"+T(this).toString(D);for(var I=d(Math.pow(D,6)),V=this,x="";;){var B=P(V,I).g;V=A(V,B.j(I));var q=((0<V.g.length?V.g[0]:V.h)>>>0).toString(D);if(V=B,E(V))return q+x;for(;6>q.length;)q="0"+q;x=q+x}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function w(D){return D.h==-1}n.l=function(D){return D=A(this,D),w(D)?-1:E(D)?0:1};function T(D){for(var I=D.g.length,V=[],x=0;x<I;x++)V[x]=~D.g[x];return new o(V,~D.h).add(y)}n.abs=function(){return w(this)?T(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),V=[],x=0,B=0;B<=I;B++){var q=x+(this.i(B)&65535)+(D.i(B)&65535),U=(q>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);x=U>>>16,q&=65535,U&=65535,V[B]=U<<16|q}return new o(V,V[V.length-1]&-2147483648?-1:0)};function A(D,I){return D.add(T(I))}n.j=function(D){if(E(this)||E(D))return m;if(w(this))return w(D)?T(this).j(T(D)):T(T(this).j(D));if(w(D))return T(this.j(T(D)));if(0>this.l(b)&&0>D.l(b))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,V=[],x=0;x<2*I;x++)V[x]=0;for(x=0;x<this.g.length;x++)for(var B=0;B<D.g.length;B++){var q=this.i(x)>>>16,U=this.i(x)&65535,tt=D.i(B)>>>16,J=D.i(B)&65535;V[2*x+2*B]+=U*J,O(V,2*x+2*B),V[2*x+2*B+1]+=q*J,O(V,2*x+2*B+1),V[2*x+2*B+1]+=U*tt,O(V,2*x+2*B+1),V[2*x+2*B+2]+=q*tt,O(V,2*x+2*B+2)}for(x=0;x<I;x++)V[x]=V[2*x+1]<<16|V[2*x];for(x=I;x<2*I;x++)V[x]=0;return new o(V,0)};function O(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function k(D,I){this.g=D,this.h=I}function P(D,I){if(E(I))throw Error("division by zero");if(E(D))return new k(m,m);if(w(D))return I=P(T(D),I),new k(T(I.g),T(I.h));if(w(I))return I=P(D,T(I)),new k(T(I.g),I.h);if(30<D.g.length){if(w(D)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var V=y,x=I;0>=x.l(D);)V=F(V),x=F(x);var B=j(V,1),q=j(x,1);for(x=j(x,2),V=j(V,2);!E(x);){var U=q.add(x);0>=U.l(D)&&(B=B.add(V),q=U),x=j(x,1),V=j(V,1)}return I=A(D,B.j(I)),new k(B,I)}for(B=m;0<=D.l(I);){for(V=Math.max(1,Math.floor(D.m()/I.m())),x=Math.ceil(Math.log(V)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),q=d(V),U=q.j(I);w(U)||0<U.l(D);)V-=x,q=d(V),U=q.j(I);E(q)&&(q=y),B=B.add(q),D=A(D,U)}return new k(B,D)}n.A=function(D){return P(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),V=[],x=0;x<I;x++)V[x]=this.i(x)&D.i(x);return new o(V,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),V=[],x=0;x<I;x++)V[x]=this.i(x)|D.i(x);return new o(V,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),V=[],x=0;x<I;x++)V[x]=this.i(x)^D.i(x);return new o(V,this.h^D.h)};function F(D){for(var I=D.g.length+1,V=[],x=0;x<I;x++)V[x]=D.i(x)<<1|D.i(x-1)>>>31;return new o(V,D.h)}function j(D,I){var V=I>>5;I%=32;for(var x=D.g.length-V,B=[],q=0;q<x;q++)B[q]=0<I?D.i(q+V)>>>I|D.i(q+V+1)<<32-I:D.i(q+V);return new o(B,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,u5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,bu=o}).apply(typeof lL<"u"?lL:typeof self<"u"?self:typeof window<"u"?window:{});var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h5,Sy,d5,_E,HT,f5,p5,m5;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,C,L){return v==Array.prototype||v==Object.prototype||(v[C]=L.value),v};function e(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof $_=="object"&&$_];for(var C=0;C<v.length;++C){var L=v[C];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=e(this);function r(v,C){if(C)t:{var L=i;v=v.split(".");for(var Y=0;Y<v.length-1;Y++){var it=v[Y];if(!(it in L))break t;L=L[it]}v=v[v.length-1],Y=L[v],C=C(Y),C!=Y&&C!=null&&t(L,v,{configurable:!0,writable:!0,value:C})}}function s(v,C){v instanceof String&&(v+="");var L=0,Y=!1,it={next:function(){if(!Y&&L<v.length){var ft=L++;return{value:C(ft,v[ft]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return it[Symbol.iterator]=function(){return it},it}r("Array.prototype.values",function(v){return v||function(){return s(this,function(C,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(v){var C=typeof v;return C=C!="object"?C:v?Array.isArray(v)?"array":C:"null",C=="array"||C=="object"&&typeof v.length=="number"}function d(v){var C=typeof v;return C=="object"&&v!=null||C=="function"}function f(v,C,L){return v.call.apply(v.bind,arguments)}function m(v,C,L){if(!v)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,Y),v.apply(C,it)}}return function(){return v.apply(C,arguments)}}function y(v,C,L){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,y.apply(null,arguments)}function b(v,C){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),v.apply(this,Y)}}function E(v,C){function L(){}L.prototype=C.prototype,v.aa=C.prototype,v.prototype=new L,v.prototype.constructor=v,v.Qb=function(Y,it,ft){for(var Rt=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Rt[ze-2]=arguments[ze];return C.prototype[it].apply(Y,Rt)}}function w(v){const C=v.length;if(0<C){const L=Array(C);for(let Y=0;Y<C;Y++)L[Y]=v[Y];return L}return[]}function T(v,C){for(let L=1;L<arguments.length;L++){const Y=arguments[L];if(u(Y)){const it=v.length||0,ft=Y.length||0;v.length=it+ft;for(let Rt=0;Rt<ft;Rt++)v[it+Rt]=Y[Rt]}else v.push(Y)}}class A{constructor(C,L){this.i=C,this.j=L,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function O(v){return/^[\s\xa0]*$/.test(v)}function k(){var v=c.navigator;return v&&(v=v.userAgent)?v:""}function P(v){return P[" "](v),v}P[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function j(v,C,L){for(const Y in v)C.call(L,v[Y],Y,v)}function D(v,C){for(const L in v)C.call(void 0,v[L],L,v)}function I(v){const C={};for(const L in v)C[L]=v[L];return C}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(v,C){let L,Y;for(let it=1;it<arguments.length;it++){Y=arguments[it];for(L in Y)v[L]=Y[L];for(let ft=0;ft<V.length;ft++)L=V[ft],Object.prototype.hasOwnProperty.call(Y,L)&&(v[L]=Y[L])}}function B(v){var C=1;v=v.split(":");const L=[];for(;0<C&&v.length;)L.push(v.shift()),C--;return v.length&&L.push(v.join(":")),L}function q(v){c.setTimeout(()=>{throw v},0)}function U(){var v=dt;let C=null;return v.g&&(C=v.g,v.g=v.g.next,v.g||(v.h=null),C.next=null),C}class tt{constructor(){this.h=this.g=null}add(C,L){const Y=J.get();Y.set(C,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var J=new A(()=>new X,v=>v.reset());class X{constructor(){this.next=this.g=this.h=null}set(C,L){this.h=C,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,rt=!1,dt=new tt,N=()=>{const v=c.Promise.resolve(void 0);Z=()=>{v.then(st)}};var st=()=>{for(var v;v=U();){try{v.h.call(v.g)}catch(L){q(L)}var C=J;C.j(v),100>C.h&&(C.h++,v.next=C.g,C.g=v)}rt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(v,C){this.type=v,this.g=this.target=C,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,C=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const L=()=>{};c.addEventListener("test",L,C),c.removeEventListener("test",L,C)}catch{}return v}();function Ct(v,C){if(G.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var L=this.type=v.type,Y=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=C,C=v.relatedTarget){if(F){t:{try{P(C.nodeName);var it=!0;break t}catch{}it=!1}it||(C=null)}}else L=="mouseover"?C=v.fromElement:L=="mouseout"&&(C=v.toElement);this.relatedTarget=C,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:wt[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ct.aa.h.call(this)}}E(Ct,G);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Kt(v,C,L,Y,it){this.listener=v,this.proxy=null,this.src=C,this.type=L,this.capture=!!Y,this.ha=it,this.key=++zt,this.da=this.fa=!1}function xt(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Qt(v){this.src=v,this.g={},this.h=0}Qt.prototype.add=function(v,C,L,Y,it){var ft=v.toString();v=this.g[ft],v||(v=this.g[ft]=[],this.h++);var Rt=jt(v,C,Y,it);return-1<Rt?(C=v[Rt],L||(C.fa=!1)):(C=new Kt(C,this.src,ft,!!Y,it),C.fa=L,v.push(C)),C};function ee(v,C){var L=C.type;if(L in v.g){var Y=v.g[L],it=Array.prototype.indexOf.call(Y,C,void 0),ft;(ft=0<=it)&&Array.prototype.splice.call(Y,it,1),ft&&(xt(C),v.g[L].length==0&&(delete v.g[L],v.h--))}}function jt(v,C,L,Y){for(var it=0;it<v.length;++it){var ft=v[it];if(!ft.da&&ft.listener==C&&ft.capture==!!L&&ft.ha==Y)return it}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),te={};function pe(v,C,L,Y,it){if(Array.isArray(C)){for(var ft=0;ft<C.length;ft++)pe(v,C[ft],L,Y,it);return null}return L=ki(L),v&&v[It]?v.K(C,L,d(Y)?!!Y.capture:!1,it):ge(v,C,L,!1,Y,it)}function ge(v,C,L,Y,it,ft){if(!C)throw Error("Invalid event type");var Rt=d(it)?!!it.capture:!!it,ze=Qn(v);if(ze||(v[Lt]=ze=new Qt(v)),L=ze.add(C,L,Y,Rt,ft),L.proxy)return L;if(Y=Fe(),L.proxy=Y,Y.src=v,Y.listener=L,v.addEventListener)St||(it=Rt),it===void 0&&(it=!1),v.addEventListener(C.toString(),Y,it);else if(v.attachEvent)v.attachEvent(Ee(C.toString()),Y);else if(v.addListener&&v.removeListener)v.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Fe(){function v(L){return C.call(v.src,v.listener,L)}const C=Ut;return v}function He(v,C,L,Y,it){if(Array.isArray(C))for(var ft=0;ft<C.length;ft++)He(v,C[ft],L,Y,it);else Y=d(Y)?!!Y.capture:!!Y,L=ki(L),v&&v[It]?(v=v.i,C=String(C).toString(),C in v.g&&(ft=v.g[C],L=jt(ft,L,Y,it),-1<L&&(xt(ft[L]),Array.prototype.splice.call(ft,L,1),ft.length==0&&(delete v.g[C],v.h--)))):v&&(v=Qn(v))&&(C=v.g[C.toString()],v=-1,C&&(v=jt(C,L,Y,it)),(L=-1<v?C[v]:null)&&$e(L))}function $e(v){if(typeof v!="number"&&v&&!v.da){var C=v.src;if(C&&C[It])ee(C.i,v);else{var L=v.type,Y=v.proxy;C.removeEventListener?C.removeEventListener(L,Y,v.capture):C.detachEvent?C.detachEvent(Ee(L),Y):C.addListener&&C.removeListener&&C.removeListener(Y),(L=Qn(C))?(ee(L,v),L.h==0&&(L.src=null,C[Lt]=null)):xt(v)}}}function Ee(v){return v in te?te[v]:te[v]="on"+v}function Ut(v,C){if(v.da)v=!0;else{C=new Ct(C,this);var L=v.listener,Y=v.ha||v.src;v.fa&&$e(v),v=L.call(Y,C)}return v}function Qn(v){return v=v[Lt],v instanceof Qt?v:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function ki(v){return typeof v=="function"?v:(v[Ze]||(v[Ze]=function(C){return v.handleEvent(C)}),v[Ze])}function ct(){ut.call(this),this.i=new Qt(this),this.M=this,this.F=null}E(ct,ut),ct.prototype[It]=!0,ct.prototype.removeEventListener=function(v,C,L,Y){He(this,v,C,L,Y)};function mt(v,C){var L,Y=v.F;if(Y)for(L=[];Y;Y=Y.F)L.push(Y);if(v=v.M,Y=C.type||C,typeof C=="string")C=new G(C,v);else if(C instanceof G)C.target=C.target||v;else{var it=C;C=new G(Y,v),x(C,it)}if(it=!0,L)for(var ft=L.length-1;0<=ft;ft--){var Rt=C.g=L[ft];it=Dt(Rt,Y,!0,C)&&it}if(Rt=C.g=v,it=Dt(Rt,Y,!0,C)&&it,it=Dt(Rt,Y,!1,C)&&it,L)for(ft=0;ft<L.length;ft++)Rt=C.g=L[ft],it=Dt(Rt,Y,!1,C)&&it}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var v=this.i,C;for(C in v.g){for(var L=v.g[C],Y=0;Y<L.length;Y++)xt(L[Y]);delete v.g[C],v.h--}}this.F=null},ct.prototype.K=function(v,C,L,Y){return this.i.add(String(v),C,!1,L,Y)},ct.prototype.L=function(v,C,L,Y){return this.i.add(String(v),C,!0,L,Y)};function Dt(v,C,L,Y){if(C=v.i.g[String(C)],!C)return!0;C=C.concat();for(var it=!0,ft=0;ft<C.length;++ft){var Rt=C[ft];if(Rt&&!Rt.da&&Rt.capture==L){var ze=Rt.listener,bi=Rt.ha||Rt.src;Rt.fa&&ee(v.i,Rt),it=ze.call(bi,Y)!==!1&&it}}return it&&!Y.defaultPrevented}function Vt(v,C,L){if(typeof v=="function")L&&(v=y(v,L));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(v,C||0)}function Gt(v){v.g=Vt(()=>{v.g=null,v.i&&(v.i=!1,Gt(v))},v.l);const C=v.h;v.h=null,v.m.apply(null,C)}class $t extends ut{constructor(C,L){super(),this.m=C,this.l=L,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(v){ut.call(this),this.h=v,this.g={}}E(Je,ut);var Ve=[];function dn(v){j(v.g,function(C,L){this.g.hasOwnProperty(L)&&$e(C)},v),v.g={}}Je.prototype.N=function(){Je.aa.N.call(this),dn(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=c.JSON.stringify,ce=c.JSON.parse,qe=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function $n(){}$n.prototype.h=null;function ic(v){return v.h||(v.h=v.i())}function tg(){}var Lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function No(){G.call(this,"d")}E(No,G);function eg(){G.call(this,"c")}E(eg,G);var Ia={},ng=null;function rc(){return ng=ng||new ct}Ia.La="serverreachability";function Zd(v){G.call(this,Ia.La,v)}E(Zd,G);function sc(v){const C=rc();mt(C,new Zd(C))}Ia.STAT_EVENT="statevent";function h0(v,C){G.call(this,Ia.STAT_EVENT,v),this.stat=C}E(h0,G);function Pn(v){const C=rc();mt(C,new h0(C,v))}Ia.Ma="timingevent";function vi(v,C){G.call(this,Ia.Ma,v),this.size=C}E(vi,G);function si(v,C){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},C)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function ig(v,C,L,Y,it,ft){v.info(function(){if(v.g)if(ft)for(var Rt="",ze=ft.split("&"),bi=0;bi<ze.length;bi++){var Be=ze[bi].split("=");if(1<Be.length){var Mi=Be[0];Be=Be[1];var _i=Mi.split("_");Rt=2<=_i.length&&_i[1]=="type"?Rt+(Mi+"="+Be+"&"):Rt+(Mi+"=redacted&")}}else Rt=null;else Rt=ft;return"XMLHTTP REQ ("+Y+") [attempt "+it+"]: "+C+`
`+L+`
`+Rt})}function m1(v,C,L,Y,it,ft,Rt){v.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+it+"]: "+C+`
`+L+`
`+ft+" "+Rt})}function ac(v,C,L,Y){v.info(function(){return"XMLHTTP TEXT ("+C+"): "+Uu(v,L)+(Y?" "+Y:"")})}function d0(v,C){v.info(function(){return"TIMEOUT: "+C})}ws.prototype.info=function(){};function Uu(v,C){if(!v.g)return C;if(!C)return null;try{var L=JSON.parse(C);if(L){for(v=0;v<L.length;v++)if(Array.isArray(L[v])){var Y=L[v];if(!(2>Y.length)){var it=Y[1];if(Array.isArray(it)&&!(1>it.length)){var ft=it[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(var Rt=1;Rt<it.length;Rt++)it[Rt]=""}}}}return Nt(L)}catch{return C}}var oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ka;function Pa(){}E(Pa,$n),Pa.prototype.g=function(){return new XMLHttpRequest},Pa.prototype.i=function(){return{}},ka=new Pa;function Er(v,C,L,Y){this.j=v,this.i=C,this.l=L,this.R=Y||1,this.U=new Je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var rg={},Jd={};function ea(v,C,L){v.L=1,v.v=Wu(Yr(C)),v.m=L,v.P=!0,Vo(v,null)}function Vo(v,C){v.F=Date.now(),Hu(v),v.A=Yr(v.v);var L=v.A,Y=v.R;Array.isArray(Y)||(Y=[String(Y)]),ug(L.i,"t",Y),v.C=0,L=v.j.J,v.h=new Zn,v.g=R0(v.j,L?C:null,!v.m),0<v.O&&(v.M=new $t(y(v.Y,v,v.g),v.O)),C=v.U,L=v.g,Y=v.ca;var it="readystatechange";Array.isArray(it)||(it&&(Ve[0]=it.toString()),it=Ve);for(var ft=0;ft<it.length;ft++){var Rt=pe(L,it[ft],Y||C.handleEvent,!1,C.h||C);if(!Rt)break;C.g[Rt.key]=Rt}C=v.H?I(v.H):{},v.m?(v.u||(v.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,C)):(v.u="GET",v.g.ea(v.A,v.u,null,C)),sc(),ig(v.i,v.u,v.A,v.l,v.R,v.m)}Er.prototype.ca=function(v){v=v.target;const C=this.M;C&&Cs(v)==3?C.j():this.Y(v)},Er.prototype.Y=function(v){try{if(v==this.g)t:{const _i=Cs(this.g);var C=this.g.Ba();const Go=this.g.Z();if(!(3>_i)&&(_i!=3||this.g&&(this.h.h||this.g.oa()||_0(this.g)))){this.J||_i!=4||C==7||(C==8||0>=Go?sc(3):sc(2)),lc(this);var L=this.g.Z();this.X=L;e:if(f0(this)){var Y=_0(this.g);v="";var it=Y.length,ft=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hi(this),Ma(this);var Rt="";break e}this.h.i=new c.TextDecoder}for(C=0;C<it;C++)this.h.h=!0,v+=this.h.i.decode(Y[C],{stream:!(ft&&C==it-1)});Y.length=0,this.h.g+=v,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=L==200,m1(this.i,this.u,this.A,this.l,this.R,_i,L),this.o){if(this.T&&!this.K){e:{if(this.g){var ze,bi=this.g;if((ze=bi.g?bi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ze)){var Be=ze;break e}}Be=null}if(L=Be)ac(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$u(this,L);else{this.o=!1,this.s=3,Pn(12),Hi(this),Ma(this);break t}}if(this.P){L=!0;let $i;for(;!this.J&&this.C<Rt.length;)if($i=p0(this,Rt),$i==Jd){_i==4&&(this.s=4,Pn(14),L=!1),ac(this.i,this.l,null,"[Incomplete Response]");break}else if($i==rg){this.s=4,Pn(15),ac(this.i,this.l,Rt,"[Invalid Chunk]"),L=!1;break}else ac(this.i,this.l,$i,null),$u(this,$i);if(f0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_i!=4||Rt.length!=0||this.h.h||(this.s=1,Pn(16),L=!1),this.o=this.o&&L,!L)ac(this.i,this.l,Rt,"[Invalid Chunked Response]"),Hi(this),Ma(this);else if(0<Rt.length&&!this.W){this.W=!0;var Mi=this.j;Mi.g==this&&Mi.ba&&!Mi.M&&(Mi.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),eh(Mi),Mi.M=!0,Pn(11))}}else ac(this.i,this.l,Rt,null),$u(this,Rt);_i==4&&Hi(this),this.o&&!this.J&&(_i==4?x0(this.j,this):(this.o=!1,Hu(this)))}else _1(this.g),L==400&&0<Rt.indexOf("Unknown SID")?(this.s=3,Pn(12)):(this.s=0,Pn(13)),Hi(this),Ma(this)}}}catch{}finally{}};function f0(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function p0(v,C){var L=v.C,Y=C.indexOf(`
`,L);return Y==-1?Jd:(L=Number(C.substring(L,Y)),isNaN(L)?rg:(Y+=1,Y+L>C.length?Jd:(C=C.slice(Y,Y+L),v.C=Y+L,C)))}Er.prototype.cancel=function(){this.J=!0,Hi(this)};function Hu(v){v.S=Date.now()+v.I,m0(v,v.I)}function m0(v,C){if(v.B!=null)throw Error("WatchDog timer not null");v.B=si(y(v.ba,v),C)}function lc(v){v.B&&(c.clearTimeout(v.B),v.B=null)}Er.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(d0(this.i,this.A),this.L!=2&&(sc(),Pn(17)),Hi(this),this.s=2,Ma(this)):m0(this,this.S-v)};function Ma(v){v.j.G==0||v.J||x0(v.j,v)}function Hi(v){lc(v);var C=v.M;C&&typeof C.ma=="function"&&C.ma(),v.M=null,dn(v.U),v.g&&(C=v.g,v.g=null,C.abort(),C.ma())}function $u(v,C){try{var L=v.j;if(L.G!=0&&(L.g==v||sg(L.h,v))){if(!v.K&&sg(L.h,v)&&L.G==3){try{var Y=L.Da.g.parse(C)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var it=Y;if(it[0]==0){t:if(!L.u){if(L.g)if(L.g.F+3e3<v.F)df(L),uf(L);else break t;mg(L),Pn(18)}}else L.za=it[1],0<L.za-L.T&&37500>it[2]&&L.F&&L.v==0&&!L.C&&(L.C=si(y(L.Za,L),6e3));if(1>=ef(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else qo(L,11)}else if((v.K||L.g==v)&&df(L),!O(C))for(it=L.Da.g.parse(C),C=0;C<it.length;C++){let Be=it[C];if(L.T=Be[0],Be=Be[1],L.G==2)if(Be[0]=="c"){L.K=Be[1],L.ia=Be[2];const Mi=Be[3];Mi!=null&&(L.la=Mi,L.j.info("VER="+L.la));const _i=Be[4];_i!=null&&(L.Aa=_i,L.j.info("SVER="+L.Aa));const Go=Be[5];Go!=null&&typeof Go=="number"&&0<Go&&(Y=1.5*Go,L.L=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const $i=v.g;if($i){const za=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var ft=Y.h;ft.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(nf(ft,ft.h),ft.h=null))}if(Y.D){const yg=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;yg&&(Y.ya=yg,fn(Y.I,Y.D,yg))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-v.F,L.j.info("Handshake RTT: "+L.R+"ms")),Y=L;var Rt=v;if(Y.qa=C0(Y,Y.J?Y.ia:null,Y.W),Rt.K){Sr(Y.h,Rt);var ze=Rt,bi=Y.L;bi&&(ze.I=bi),ze.B&&(lc(ze),Hu(ze)),Y.g=Rt}else w0(Y);0<L.i.length&&hf(L)}else Be[0]!="stop"&&Be[0]!="close"||qo(L,7);else L.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?qo(L,7):fg(L):Be[0]!="noop"&&L.l&&L.l.ta(Be),L.v=0)}}sc(4)}catch{}}var g0=class{constructor(v,C){this.g=v,this.map=C}};function zo(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tf(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ef(v){return v.h?1:v.g?v.g.size:0}function sg(v,C){return v.h?v.h==C:v.g?v.g.has(C):!1}function nf(v,C){v.g?v.g.add(C):v.h=C}function Sr(v,C){v.h&&v.h==C?v.h=null:v.g&&v.g.has(C)&&v.g.delete(C)}zo.prototype.cancel=function(){if(this.i=ag(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function ag(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let C=v.i;for(const L of v.g.values())C=C.concat(L.D);return C}return w(v.i)}function g1(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var C=[],L=v.length,Y=0;Y<L;Y++)C.push(v[Y]);return C}C=[],L=0;for(Y in v)C[L++]=v[Y];return C}function rf(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var C=[];v=v.length;for(var L=0;L<v;L++)C.push(L);return C}C=[],L=0;for(const Y in v)C[L++]=Y;return C}}}function og(v,C){if(v.forEach&&typeof v.forEach=="function")v.forEach(C,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,C,void 0);else for(var L=rf(v),Y=g1(v),it=Y.length,ft=0;ft<it;ft++)C.call(void 0,Y[ft],L&&L[ft],v)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y1(v,C){if(v){v=v.split("&");for(var L=0;L<v.length;L++){var Y=v[L].indexOf("="),it=null;if(0<=Y){var ft=v[L].substring(0,Y);it=v[L].substring(Y+1)}else ft=v[L];C(ft,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function ai(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof ai){this.h=v.h,Gu(this,v.j),this.o=v.o,this.g=v.g,cc(this,v.s),this.l=v.l;var C=v.i,L=new jo;L.i=C.i,C.g&&(L.g=new Map(C.g),L.h=C.h),Bo(this,L),this.m=v.m}else v&&(C=String(v).match(qu))?(this.h=!1,Gu(this,C[1]||"",!0),this.o=As(C[2]||""),this.g=As(C[3]||"",!0),cc(this,C[4]),this.l=As(C[5]||"",!0),Bo(this,C[6]||"",!0),this.m=As(C[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}ai.prototype.toString=function(){var v=[],C=this.j;C&&v.push(Ku(C,lg,!0),":");var L=this.g;return(L||C=="file")&&(v.push("//"),(C=this.o)&&v.push(Ku(C,lg,!0),"@"),v.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&v.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&v.push("/"),v.push(Ku(L,L.charAt(0)=="/"?v1:cg,!0))),(L=this.i.toString())&&v.push("?",L),(L=this.m)&&v.push("#",Ku(L,sf)),v.join("")};function Yr(v){return new ai(v)}function Gu(v,C,L){v.j=L?As(C,!0):C,v.j&&(v.j=v.j.replace(/:$/,""))}function cc(v,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);v.s=C}else v.s=null}function Bo(v,C,L){C instanceof jo?(v.i=C,v0(v.i,v.h)):(L||(C=Ku(C,b1)),v.i=new jo(C,v.h))}function fn(v,C,L){v.i.set(C,L)}function Wu(v){return fn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function As(v,C){return v?C?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ku(v,C,L){return typeof v=="string"?(v=encodeURI(v).replace(C,y0),L&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function y0(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var lg=/[#\/\?@]/g,cg=/[#\?:]/g,v1=/[#\?]/g,b1=/[#\?@]/g,sf=/#/g;function jo(v,C){this.h=this.g=null,this.i=v||null,this.j=!!C}function xs(v){v.g||(v.g=new Map,v.h=0,v.i&&y1(v.i,function(C,L){v.add(decodeURIComponent(C.replace(/\+/g," ")),L)}))}n=jo.prototype,n.add=function(v,C){xs(this),this.i=null,v=Da(this,v);var L=this.g.get(v);return L||this.g.set(v,L=[]),L.push(C),this.h+=1,this};function Uo(v,C){xs(v),C=Da(v,C),v.g.has(C)&&(v.i=null,v.h-=v.g.get(C).length,v.g.delete(C))}function Ho(v,C){return xs(v),C=Da(v,C),v.g.has(C)}n.forEach=function(v,C){xs(this),this.g.forEach(function(L,Y){L.forEach(function(it){v.call(C,it,Y,this)},this)},this)},n.na=function(){xs(this);const v=Array.from(this.g.values()),C=Array.from(this.g.keys()),L=[];for(let Y=0;Y<C.length;Y++){const it=v[Y];for(let ft=0;ft<it.length;ft++)L.push(C[Y])}return L},n.V=function(v){xs(this);let C=[];if(typeof v=="string")Ho(this,v)&&(C=C.concat(this.g.get(Da(this,v))));else{v=Array.from(this.g.values());for(let L=0;L<v.length;L++)C=C.concat(v[L])}return C},n.set=function(v,C){return xs(this),this.i=null,v=Da(this,v),Ho(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[C]),this.h+=1,this},n.get=function(v,C){return v?(v=this.V(v),0<v.length?String(v[0]):C):C};function ug(v,C,L){Uo(v,C),0<L.length&&(v.i=null,v.g.set(Da(v,C),w(L)),v.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],C=Array.from(this.g.keys());for(var L=0;L<C.length;L++){var Y=C[L];const ft=encodeURIComponent(String(Y)),Rt=this.V(Y);for(Y=0;Y<Rt.length;Y++){var it=ft;Rt[Y]!==""&&(it+="="+encodeURIComponent(String(Rt[Y]))),v.push(it)}}return this.i=v.join("&")};function Da(v,C){return C=String(C),v.j&&(C=C.toLowerCase()),C}function v0(v,C){C&&!v.j&&(xs(v),v.i=null,v.g.forEach(function(L,Y){var it=Y.toLowerCase();Y!=it&&(Uo(this,Y),ug(this,it,L))},v)),v.j=C}function Yu(v,C){const L=new ws;if(c.Image){const Y=new Image;Y.onload=b(Ts,L,"TestLoadImage: loaded",!0,C,Y),Y.onerror=b(Ts,L,"TestLoadImage: error",!1,C,Y),Y.onabort=b(Ts,L,"TestLoadImage: abort",!1,C,Y),Y.ontimeout=b(Ts,L,"TestLoadImage: timeout",!1,C,Y),c.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=v}else C(!1)}function na(v,C){const L=new ws,Y=new AbortController,it=setTimeout(()=>{Y.abort(),Ts(L,"TestPingServer: timeout",!1,C)},1e4);fetch(v,{signal:Y.signal}).then(ft=>{clearTimeout(it),ft.ok?Ts(L,"TestPingServer: ok",!0,C):Ts(L,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(it),Ts(L,"TestPingServer: error",!1,C)})}function Ts(v,C,L,Y,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),Y(L)}catch{}}function Xu(){this.g=new qe}function Oa(v,C,L){const Y=L||"";try{og(v,function(it,ft){let Rt=it;d(it)&&(Rt=Nt(it)),C.push(Y+ft+"="+encodeURIComponent(Rt))})}catch(it){throw C.push(Y+"type="+encodeURIComponent("_badmap")),it}}function uc(v){this.l=v.Ub||null,this.j=v.eb||!1}E(uc,$n),uc.prototype.g=function(){return new $o(this.l,this.j)},uc.prototype.i=function(v){return function(){return v}}({});function $o(v,C){ct.call(this),this.D=v,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E($o,ct),n=$o.prototype,n.open=function(v,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=C,this.readyState=1,Na(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(C.body=v),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,La(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hg(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function hg(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var C=v.value?v.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!v.done}))&&(this.response=this.responseText+=C)}v.done?La(this):Na(this),this.readyState==3&&hg(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,La(this))},n.Qa=function(v){this.g&&(this.response=v,La(this))},n.ga=function(){this.g&&La(this)};function La(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Na(v)}n.setRequestHeader=function(v,C){this.u.append(v,C)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],C=this.h.entries();for(var L=C.next();!L.done;)L=L.value,v.push(L[0]+": "+L[1]),L=C.next();return v.join(`\r
`)};function Na(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function dg(v){let C="";return j(v,function(L,Y){C+=Y,C+=":",C+=L,C+=`\r
`}),C}function Pi(v,C,L){t:{for(Y in L){var Y=!1;break t}Y=!0}Y||(L=dg(L),typeof v=="string"?L!=null&&encodeURIComponent(String(L)):fn(v,C,L))}function tn(v){ct.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(tn,ct);var af=/^https?$/i,Qu=["POST","PUT"];n=tn.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,C,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);C=C?C.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ka.g(),this.v=this.o?ic(this.o):ic(ka),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(C,String(v),!0),this.B=!1}catch(ft){b0(this,ft);return}if(v=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var it in Y)L.set(it,Y[it]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ft of Y.keys())L.set(ft,Y.get(ft));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(ft=>ft.toLowerCase()=="content-type"),it=c.FormData&&v instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Qu,C,void 0))||Y||it||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,Rt]of L)this.g.setRequestHeader(ft,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zu(this),this.u=!0,this.g.send(v),this.u=!1}catch(ft){b0(this,ft)}};function b0(v,C){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=C,v.m=5,of(v),Fa(v)}function of(v){v.A||(v.A=!0,mt(v,"complete"),mt(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,mt(this,"complete"),mt(this,"abort"),Fa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),tn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?lf(this):this.bb())},n.bb=function(){lf(this)};function lf(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Cs(v)!=4||v.Z()!=2)){if(v.u&&Cs(v)==4)Vt(v.Ea,0,v);else if(mt(v,"readystatechange"),Cs(v)==4){v.h=!1;try{const Rt=v.Z();t:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break t;default:C=!1}var L;if(!(L=C)){var Y;if(Y=Rt===0){var it=String(v.D).match(qu)[1]||null;!it&&c.self&&c.self.location&&(it=c.self.location.protocol.slice(0,-1)),Y=!af.test(it?it.toLowerCase():"")}L=Y}if(L)mt(v,"complete"),mt(v,"success");else{v.m=6;try{var ft=2<Cs(v)?v.g.statusText:""}catch{ft=""}v.l=ft+" ["+v.Z()+"]",of(v)}}finally{Fa(v)}}}}function Fa(v,C){if(v.g){Zu(v);const L=v.g,Y=v.v[0]?()=>{}:null;v.g=null,v.v=null,C||mt(v,"ready");try{L.onreadystatechange=Y}catch{}}}function Zu(v){v.I&&(c.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function Cs(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var C=this.g.responseText;return v&&C.indexOf(v)==0&&(C=C.substring(v.length)),ce(C)}};function _0(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function _1(v){const C={};v=(v.g&&2<=Cs(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<v.length;Y++){if(O(v[Y]))continue;var L=B(v[Y]);const it=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ft=C[it]||[];C[it]=ft,ft.push(L)}D(C,function(Y){return Y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ju(v,C,L){return L&&L.internalChannelParams&&L.internalChannelParams[v]||C}function cf(v){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ju("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ju("baseRetryDelayMs",5e3,v),this.cb=Ju("retryDelaySeedMs",1e4,v),this.Wa=Ju("forwardChannelMaxRetries",2,v),this.wa=Ju("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(v&&v.concurrentRequestLimit),this.Da=new Xu,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=cf.prototype,n.la=8,n.G=1,n.connect=function(v,C,L,Y){Pn(0),this.W=v,this.H=C||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.I=C0(this,null,this.W),hf(this)};function fg(v){if(E0(v),v.G==3){var C=v.U++,L=Yr(v.I);if(fn(L,"SID",v.K),fn(L,"RID",C),fn(L,"TYPE","terminate"),th(v,L),C=new Er(v,v.j,C),C.L=2,C.v=Wu(Yr(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!L&&c.Image&&(new Image().src=C.v,L=!0),L||(C.g=R0(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Hu(C)}T0(v)}function uf(v){v.g&&(eh(v),v.g.cancel(),v.g=null)}function E0(v){uf(v),v.u&&(c.clearTimeout(v.u),v.u=null),df(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&c.clearTimeout(v.s),v.s=null)}function hf(v){if(!tf(v.h)&&!v.s){v.s=!0;var C=v.Ga;Z||N(),rt||(Z(),rt=!0),dt.add(C,v),v.B=0}}function E1(v,C){return ef(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=C.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=si(y(v.Ga,v,C),gg(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const it=new Er(this,this.j,v);let ft=this.o;if(this.S&&(ft?(ft=I(ft),x(ft,this.S)):ft=this.S),this.m!==null||this.O||(it.H=ft,ft=null),this.P)t:{for(var C=0,L=0;L<this.i.length;L++){e:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break e}Y=void 0}if(Y===void 0)break;if(C+=Y,4096<C){C=L;break t}if(C===4096||L===this.i.length-1){C=L+1;break t}}C=1e3}else C=1e3;C=S0(this,it,C),L=Yr(this.I),fn(L,"RID",v),fn(L,"CVER",22),this.D&&fn(L,"X-HTTP-Session-Id",this.D),th(this,L),ft&&(this.O?C="headers="+encodeURIComponent(String(dg(ft)))+"&"+C:this.m&&Pi(L,this.m,ft)),nf(this.h,it),this.Ua&&fn(L,"TYPE","init"),this.P?(fn(L,"$req",C),fn(L,"SID","null"),it.T=!0,ea(it,L,null)):ea(it,L,C),this.G=2}}else this.G==3&&(v?pg(this,v):this.i.length==0||tf(this.h)||pg(this))};function pg(v,C){var L;C?L=C.l:L=v.U++;const Y=Yr(v.I);fn(Y,"SID",v.K),fn(Y,"RID",L),fn(Y,"AID",v.T),th(v,Y),v.m&&v.o&&Pi(Y,v.m,v.o),L=new Er(v,v.j,L,v.B+1),v.m===null&&(L.H=v.o),C&&(v.i=C.D.concat(v.i)),C=S0(v,L,1e3),L.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),nf(v.h,L),ea(L,Y,C)}function th(v,C){v.H&&j(v.H,function(L,Y){fn(C,Y,L)}),v.l&&og({},function(L,Y){fn(C,Y,L)})}function S0(v,C,L){L=Math.min(v.i.length,L);var Y=v.l?y(v.l.Na,v.l,v):null;t:{var it=v.i;let ft=-1;for(;;){const Rt=["count="+L];ft==-1?0<L?(ft=it[0].g,Rt.push("ofs="+ft)):ft=0:Rt.push("ofs="+ft);let ze=!0;for(let bi=0;bi<L;bi++){let Be=it[bi].g;const Mi=it[bi].map;if(Be-=ft,0>Be)ft=Math.max(0,it[bi].g-100),ze=!1;else try{Oa(Mi,Rt,"req"+Be+"_")}catch{Y&&Y(Mi)}}if(ze){Y=Rt.join("&");break t}}}return v=v.i.splice(0,L),C.D=v,Y}function w0(v){if(!v.g&&!v.u){v.Y=1;var C=v.Fa;Z||N(),rt||(Z(),rt=!0),dt.add(C,v),v.v=0}}function mg(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=si(y(v.Fa,v),gg(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,A0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=si(y(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pn(10),uf(this),A0(this))};function eh(v){v.A!=null&&(c.clearTimeout(v.A),v.A=null)}function A0(v){v.g=new Er(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var C=Yr(v.qa);fn(C,"RID","rpc"),fn(C,"SID",v.K),fn(C,"AID",v.T),fn(C,"CI",v.F?"0":"1"),!v.F&&v.ja&&fn(C,"TO",v.ja),fn(C,"TYPE","xmlhttp"),th(v,C),v.m&&v.o&&Pi(C,v.m,v.o),v.L&&(v.g.I=v.L);var L=v.g;v=v.ia,L.L=1,L.v=Wu(Yr(C)),L.m=null,L.P=!0,Vo(L,v)}n.Za=function(){this.C!=null&&(this.C=null,uf(this),mg(this),Pn(19))};function df(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function x0(v,C){var L=null;if(v.g==C){df(v),eh(v),v.g=null;var Y=2}else if(sg(v.h,C))L=C.D,Sr(v.h,C),Y=1;else return;if(v.G!=0){if(C.o)if(Y==1){L=C.m?C.m.length:0,C=Date.now()-C.F;var it=v.B;Y=rc(),mt(Y,new vi(Y,L)),hf(v)}else w0(v);else if(it=C.s,it==3||it==0&&0<C.X||!(Y==1&&E1(v,C)||Y==2&&mg(v)))switch(L&&0<L.length&&(C=v.h,C.i=C.i.concat(L)),it){case 1:qo(v,5);break;case 4:qo(v,10);break;case 3:qo(v,6);break;default:qo(v,2)}}}function gg(v,C){let L=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(L*=2),L*C}function qo(v,C){if(v.j.info("Error code "+C),C==2){var L=y(v.fb,v),Y=v.Xa;const it=!Y;Y=new ai(Y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gu(Y,"https"),Wu(Y),it?Yu(Y.toString(),L):na(Y.toString(),L)}else Pn(2);v.G=0,v.l&&v.l.sa(C),T0(v),E0(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Pn(2)):(this.j.info("Failed to ping google.com"),Pn(1))};function T0(v){if(v.G=0,v.ka=[],v.l){const C=ag(v.h);(C.length!=0||v.i.length!=0)&&(T(v.ka,C),T(v.ka,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.ra()}}function C0(v,C,L){var Y=L instanceof ai?Yr(L):new ai(L);if(Y.g!="")C&&(Y.g=C+"."+Y.g),cc(Y,Y.s);else{var it=c.location;Y=it.protocol,C=C?C+"."+it.hostname:it.hostname,it=+it.port;var ft=new ai(null);Y&&Gu(ft,Y),C&&(ft.g=C),it&&cc(ft,it),L&&(ft.l=L),Y=ft}return L=v.D,C=v.ya,L&&C&&fn(Y,L,C),fn(Y,"VER",v.la),th(v,Y),Y}function R0(v,C,L){if(C&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=v.Ca&&!v.pa?new tn(new uc({eb:L})):new tn(v.pa),C.Ha(v.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function I0(){}n=I0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ff(){}ff.prototype.g=function(v,C){return new wr(v,C)};function wr(v,C){ct.call(this),this.g=new cf(C),this.l=v,this.h=C&&C.messageUrlParams||null,v=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(v?v["X-WebChannel-Content-Type"]=C.messageContentType:v={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(v?v["X-WebChannel-Client-Profile"]=C.va:v={"X-WebChannel-Client-Profile":C.va}),this.g.S=v,(v=C&&C.Sb)&&!O(v)&&(this.g.m=v),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!O(C)&&(this.g.D=C,v=this.h,v!==null&&C in v&&(v=this.h,C in v&&delete v[C])),this.j=new Va(this)}E(wr,ct),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){fg(this.g)},wr.prototype.o=function(v){var C=this.g;if(typeof v=="string"){var L={};L.__data__=v,v=L}else this.u&&(L={},L.__data__=Nt(v),v=L);C.i.push(new g0(C.Ya++,v)),C.G==3&&hf(C)},wr.prototype.N=function(){this.g.l=null,delete this.j,fg(this.g),delete this.g,wr.aa.N.call(this)};function k0(v){No.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var C=v.__sm__;if(C){t:{for(const L in C){v=L;break t}v=void 0}(this.i=v)&&(v=this.i,C=C!==null&&v in C?C[v]:void 0),this.data=C}else this.data=v}E(k0,No);function P0(){eg.call(this),this.status=1}E(P0,eg);function Va(v){this.g=v}E(Va,I0),Va.prototype.ua=function(){mt(this.g,"a")},Va.prototype.ta=function(v){mt(this.g,new k0(v))},Va.prototype.sa=function(v){mt(this.g,new P0)},Va.prototype.ra=function(){mt(this.g,"b")},ff.prototype.createWebChannel=ff.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,m5=function(){return new ff},p5=function(){return rc()},f5=Ia,HT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,_E=oc,Fo.COMPLETE="complete",d5=Fo,tg.EventType=Lo,Lo.OPEN="a",Lo.CLOSE="b",Lo.ERROR="c",Lo.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Sy=tg,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,h5=tn}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});const cL="@firebase/firestore",uL="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new SI("@firebase/firestore");function Jf(){return Pd.logLevel}function Ft(n,...t){if(Pd.logLevel<=De.DEBUG){const e=t.map(DI);Pd.debug(`Firestore (${Gm}): ${n}`,...e)}}function Jl(n,...t){if(Pd.logLevel<=De.ERROR){const e=t.map(DI);Pd.error(`Firestore (${Gm}): ${n}`,...e)}}function Im(n,...t){if(Pd.logLevel<=De.WARN){const e=t.map(DI);Pd.warn(`Firestore (${Gm}): ${n}`,...e)}}function DI(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,g5(n,i,e)}function g5(n,t,e){let i=`FIRESTORE (${Gm}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Jl(i),new Error(i)}function sn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||g5(t,r,i)}function de(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends Do{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(fr.UNAUTHENTICATED))}shutdown(){}}class OZ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class LZ{constructor(t){this.t=t,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){sn(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,e(u)):Promise.resolve();let s=new _u;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _u,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _u)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(sn(typeof i.accessToken=="string",31837,{l:i}),new y5(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return sn(t===null||typeof t=="string",2055,{h:t}),new fr(t)}}class NZ{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FZ{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new NZ(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VZ{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){sn(this.o===void 0,3512);const i=s=>{s.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hL(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(sn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new hL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=zZ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function xe(n,t){return n<t?-1:n>t?1:0}function $T(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return xe(i,r);{const s=v5(),o=BZ(s.encode(dL(n,e)),s.encode(dL(t,e)));return o!==0?o:xe(i,r)}}e+=i>65535?2:1}return xe(n.length,t.length)}function dL(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function BZ(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return xe(n[e],t[e]);return xe(n.length,t.length)}function km(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=-62135596800,pL=1e6;class gi{static now(){return gi.fromMillis(Date.now())}static fromDate(t){return gi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*pL);return new gi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<fL)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pL}_compareTo(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-fL;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(t){return new he(t)}static min(){return new he(new gi(0,0))}static max(){return new he(new gi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="__name__";class Ya{constructor(t,e,i){e===void 0?e=0:e>t.length&&se(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&se(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ya.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ya?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=Ya.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return xe(t.length,e.length)}static compareSegments(t,e){const i=Ya.isNumericId(t),r=Ya.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ya.extractNumericId(t).compare(Ya.extractNumericId(e)):$T(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bu.fromString(t.substring(4,t.length-2))}}class Rn extends Ya{construct(t,e,i){return new Rn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Bt(Et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Rn(e)}static emptyPath(){return new Rn([])}}const jZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Ya{construct(t,e,i){return new tr(t,e,i)}static isValidIdentifier(t){return jZ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mL}static keyField(){return new tr([mL])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Bt(Et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if(c==="\\"){if(r+1===t.length)throw new Bt(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Bt(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new Bt(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tr(e)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.path=t}static fromPath(t){return new Jt(Rn.fromString(t))}static fromName(t){return new Jt(Rn.fromString(t).popFirst(5))}static empty(){return new Jt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Rn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Jt(new Rn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-1;function UZ(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new gi(e+1,0):new gi(e,i));return new Ru(r,Jt.empty(),t)}function HZ(n){return new Ru(n.readTime,n.key,uv)}class Ru{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ru(he.min(),Jt.empty(),uv)}static max(){return new Ru(he.max(),Jt.empty(),uv)}}function $Z(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Jt.comparator(n.documentKey,t.documentKey),e!==0?e:xe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(n){if(n.code!==Et.FAILED_PRECONDITION||n.message!==qZ)throw n;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new _t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof _t?e:_t.resolve(e)}catch(e){return _t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):_t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):_t.reject(e)}static resolve(t){return new _t((e,i)=>{e(t)})}static reject(t){return new _t((e,i)=>{i(t)})}static waitFor(t){return new _t((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=_t.resolve(!1);for(const i of t)e=e.next(r=>r?_t.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new _t((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;e(t[d]).next(f=>{o[d]=f,++c,c===s&&i(o)},f=>r(f))}})}static doWhile(t,e){return new _t((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function WZ(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Km(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Mw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=-1;function Dw(n){return n==null}function ES(n){return n===0&&1/n==-1/0}function KZ(n){return typeof n=="number"&&Number.isInteger(n)&&!ES(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="";function YZ(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=gL(t)),t=XZ(n.get(e),t);return gL(t)}function XZ(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case _5:e+="";break;default:e+=s}}return e}function gL(n){return n+_5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Vu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function E5(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,e){this.comparator=t,this.root=e||Zi.EMPTY}insert(t,e){return new Un(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(t){return new Un(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new q_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new q_(this.root,t,this.comparator,!1)}getReverseIterator(){return new q_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new q_(this.root,t,this.comparator,!0)}}class q_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zi{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Zi.RED,this.left=r??Zi.EMPTY,this.right=s??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Zi(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Zi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw se(27949);return t+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1;Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(t,e,i,r,s){return this}insert(t,e,i){return new Zi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this.comparator=t,this.data=new Un(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vL(this.data.getIterator())}getIteratorFrom(t){return new vL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ii)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ii(this.comparator);return e.data=t,e}}class vL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t){this.fields=t,t.sort(tr.comparator)}static empty(){return new Sa([])}unionWith(t){let e=new Ii(tr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Sa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return km(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S5("Invalid base64 string: "+s):s}}(t);return new nr(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new nr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const QZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(sn(!!n,39018),typeof n=="string"){let t=0;const e=QZ.exec(n);if(sn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ni(n.seconds),nanos:ni(n.nanos)}}function ni(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ku(n){return typeof n=="string"?nr.fromBase64String(n):nr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="server_timestamp",A5="__type__",x5="__previous_value__",T5="__local_write_time__";function LI(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[A5])===null||e===void 0?void 0:e.stringValue)===w5}function Ow(n){const t=n.mapValue.fields[x5];return LI(t)?Ow(t):t}function hv(n){const t=Iu(n.mapValue.fields[T5].timestampValue);return new gi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(t,e,i,r,s,o,c,u,d,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const SS="(default)";class dv{constructor(t,e){this.projectId=t,this.database=e||SS}static empty(){return new dv("","")}get isDefaultDatabase(){return this.database===SS}isEqual(t){return t instanceof dv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="__type__",JZ="__max__",G_={mapValue:{}},R5="__vector__",wS="value";function Pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?LI(n)?4:eJ(n)?9007199254740991:tJ(n)?10:11:se(28295,{value:n})}function Co(n,t){if(n===t)return!0;const e=Pu(n);if(e!==Pu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hv(n).isEqual(hv(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Iu(r.timestampValue),c=Iu(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return ku(r.bytesValue).isEqual(ku(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return ni(r.geoPointValue.latitude)===ni(s.geoPointValue.latitude)&&ni(r.geoPointValue.longitude)===ni(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ni(r.integerValue)===ni(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ni(r.doubleValue),c=ni(s.doubleValue);return o===c?ES(o)===ES(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return km(n.arrayValue.values||[],t.arrayValue.values||[],Co);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(yL(o)!==yL(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Co(o[u],c[u])))return!1;return!0}(n,t);default:return se(52216,{left:n})}}function fv(n,t){return(n.values||[]).find(e=>Co(e,t))!==void 0}function Pm(n,t){if(n===t)return 0;const e=Pu(n),i=Pu(t);if(e!==i)return xe(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=ni(s.integerValue||s.doubleValue),u=ni(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return bL(n.timestampValue,t.timestampValue);case 4:return bL(hv(n),hv(t));case 5:return $T(n.stringValue,t.stringValue);case 6:return function(s,o){const c=ku(s),u=ku(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=xe(c[d],u[d]);if(f!==0)return f}return xe(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=xe(ni(s.latitude),ni(o.latitude));return c!==0?c:xe(ni(s.longitude),ni(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return _L(n.arrayValue,t.arrayValue);case 10:return function(s,o){var c,u,d,f;const m=s.fields||{},y=o.fields||{},b=(c=m[wS])===null||c===void 0?void 0:c.arrayValue,E=(u=y[wS])===null||u===void 0?void 0:u.arrayValue,w=xe(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:_L(b,E)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===G_.mapValue&&o===G_.mapValue)return 0;if(s===G_.mapValue)return 1;if(o===G_.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const y=$T(u[m],f[m]);if(y!==0)return y;const b=Pm(c[u[m]],d[f[m]]);if(b!==0)return b}return xe(u.length,f.length)}(n.mapValue,t.mapValue);default:throw se(23264,{Pe:e})}}function bL(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return xe(n,t);const e=Iu(n),i=Iu(t),r=xe(e.seconds,i.seconds);return r!==0?r:xe(e.nanos,i.nanos)}function _L(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=Pm(e[r],i[r]);if(s)return s}return xe(e.length,i.length)}function Mm(n){return qT(n)}function qT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Iu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ku(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Jt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=qT(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${qT(e.fields[o])}`;return r+"}"}(n.mapValue):se(61005,{value:n})}function EE(n){switch(Pu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ow(n);return t?16+EE(t):16;case 5:return 2*n.stringValue.length;case 6:return ku(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+EE(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Vu(i.fields,(s,o)=>{r+=s.length+EE(o)}),r}(n.mapValue);default:throw se(13486,{value:n})}}function EL(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function GT(n){return!!n&&"integerValue"in n}function NI(n){return!!n&&"arrayValue"in n}function SL(n){return!!n&&"nullValue"in n}function wL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function SE(n){return!!n&&"mapValue"in n}function tJ(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[C5])===null||e===void 0?void 0:e.stringValue)===R5}function Gy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Vu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Gy(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Gy(n.arrayValue.values[e]);return t}return Object.assign({},n)}function eJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JZ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.value=t}static empty(){return new gs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!SE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gy(e)}setAll(t){let e=tr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=Gy(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());SE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Co(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];SE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Vu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new gs(Gy(this.value))}}function I5(n){const t=[];return Vu(n.fields,(e,i)=>{const r=new tr([e]);if(SE(i)){const s=I5(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Sa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new pr(t,0,he.min(),he.min(),he.min(),gs.empty(),0)}static newFoundDocument(t,e,i,r){return new pr(t,1,e,he.min(),i,r,0)}static newNoDocument(t,e){return new pr(t,2,e,he.min(),he.min(),gs.empty(),0)}static newUnknownDocument(t,e){return new pr(t,3,e,he.min(),he.min(),gs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,e){this.position=t,this.inclusive=e}}function AL(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(s.field.isKeyField()?i=Jt.comparator(Jt.fromName(o.referenceValue),e.key):i=Pm(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function xL(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Co(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t,e="asc"){this.field=t,this.dir=e}}function nJ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{}class mi extends k5{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new rJ(t,e,i):e==="array-contains"?new oJ(t,i):e==="in"?new lJ(t,i):e==="not-in"?new cJ(t,i):e==="array-contains-any"?new uJ(t,i):new mi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new sJ(t,i):new aJ(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Pm(e,this.value)):e!==null&&Pu(this.value)===Pu(e)&&this.matchesComparison(Pm(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends k5{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ca(t,e)}matches(t){return P5(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function P5(n){return n.op==="and"}function M5(n){return iJ(n)&&P5(n)}function iJ(n){for(const t of n.filters)if(t instanceof Ca)return!1;return!0}function WT(n){if(n instanceof mi)return n.field.canonicalString()+n.op.toString()+Mm(n.value);if(M5(n))return n.filters.map(t=>WT(t)).join(",");{const t=n.filters.map(e=>WT(e)).join(",");return`${n.op}(${t})`}}function D5(n,t){return n instanceof mi?function(i,r){return r instanceof mi&&i.op===r.op&&i.field.isEqual(r.field)&&Co(i.value,r.value)}(n,t):n instanceof Ca?function(i,r){return r instanceof Ca&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&D5(o,r.filters[c]),!0):!1}(n,t):void se(19439)}function O5(n){return n instanceof mi?function(e){return`${e.field.canonicalString()} ${e.op} ${Mm(e.value)}`}(n):n instanceof Ca?function(e){return e.op.toString()+" {"+e.getFilters().map(O5).join(" ,")+"}"}(n):"Filter"}class rJ extends mi{constructor(t,e,i){super(t,e,i),this.key=Jt.fromName(i.referenceValue)}matches(t){const e=Jt.comparator(t.key,this.key);return this.matchesComparison(e)}}class sJ extends mi{constructor(t,e){super(t,"in",e),this.keys=L5("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class aJ extends mi{constructor(t,e){super(t,"not-in",e),this.keys=L5("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function L5(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Jt.fromName(i.referenceValue))}class oJ extends mi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return NI(e)&&fv(e.arrayValue,this.value)}}class lJ extends mi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&fv(this.value.arrayValue,e)}}class cJ extends mi{constructor(t,e){super(t,"not-in",e)}matches(t){if(fv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!fv(this.value.arrayValue,e)}}class uJ extends mi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!NI(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>fv(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Ie=null}}function TL(n,t=null,e=[],i=[],r=null,s=null,o=null){return new hJ(n,t,e,i,r,s,o)}function FI(n){const t=de(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>WT(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Dw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Mm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Mm(i)).join(",")),t.Ie=e}return t.Ie}function VI(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!nJ(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!D5(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!xL(n.startAt,t.startAt)&&xL(n.endAt,t.endAt)}function KT(n){return Jt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dJ(n,t,e,i,r,s,o,c){return new Ym(n,t,e,i,r,s,o,c)}function N5(n){return new Ym(n)}function CL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F5(n){return n.collectionGroup!==null}function Wy(n){const t=de(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ii(tr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new pv(s,i))}),e.has(tr.keyField().canonicalString())||t.Ee.push(new pv(tr.keyField(),i))}return t.Ee}function Ao(n){const t=de(n);return t.de||(t.de=fJ(t,Wy(n))),t.de}function fJ(n,t){if(n.limitType==="F")return TL(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new pv(r.field,s)});const e=n.endAt?new AS(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new AS(n.startAt.position,n.startAt.inclusive):null;return TL(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function YT(n,t){const e=n.filters.concat([t]);return new Ym(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xS(n,t,e){return new Ym(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Lw(n,t){return VI(Ao(n),Ao(t))&&n.limitType===t.limitType}function V5(n){return`${FI(Ao(n))}|lt:${n.limitType}`}function tp(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>O5(r)).join(", ")}]`),Dw(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Mm(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Mm(r)).join(",")),`Target(${i})`}(Ao(n))}; limitType=${n.limitType})`}function Nw(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Jt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Wy(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,c,u){const d=AL(o,c,u);return o.inclusive?d<=0:d<0}(i.startAt,Wy(i),r)||i.endAt&&!function(o,c,u){const d=AL(o,c,u);return o.inclusive?d>=0:d>0}(i.endAt,Wy(i),r))}(n,t)}function pJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z5(n){return(t,e)=>{let i=!1;for(const r of Wy(n)){const s=mJ(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function mJ(n,t,e){const i=n.field.isKeyField()?Jt.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Pm(u,d):se(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Vu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return E5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=new Un(Jt.comparator);function tc(){return gJ}const B5=new Un(Jt.comparator);function wy(...n){let t=B5;for(const e of n)t=t.insert(e.key,e);return t}function j5(n){let t=B5;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ph(){return Ky()}function U5(){return Ky()}function Ky(){return new $d(n=>n.toString(),(n,t)=>n.isEqual(t))}const yJ=new Un(Jt.comparator),vJ=new Ii(Jt.comparator);function Oe(...n){let t=vJ;for(const e of n)t=t.add(e);return t}const bJ=new Ii(xe);function _J(){return bJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ES(t)?"-0":t}}function H5(n){return{integerValue:""+n}}function EJ(n,t){return KZ(t)?H5(t):zI(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this._=void 0}}function SJ(n,t,e){return n instanceof TS?function(r,s){const o={fields:{[A5]:{stringValue:w5},[T5]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&LI(s)&&(s=Ow(s)),s&&(o.fields[x5]=s),{mapValue:o}}(e,t):n instanceof Dm?q5(n,t):n instanceof mv?G5(n,t):function(r,s){const o=$5(r,s),c=RL(o)+RL(r.Re);return GT(o)&&GT(r.Re)?H5(c):zI(r.serializer,c)}(n,t)}function wJ(n,t,e){return n instanceof Dm?q5(n,t):n instanceof mv?G5(n,t):e}function $5(n,t){return n instanceof CS?function(i){return GT(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class TS extends Fw{}class Dm extends Fw{constructor(t){super(),this.elements=t}}function q5(n,t){const e=W5(t);for(const i of n.elements)e.some(r=>Co(r,i))||e.push(i);return{arrayValue:{values:e}}}class mv extends Fw{constructor(t){super(),this.elements=t}}function G5(n,t){let e=W5(t);for(const i of n.elements)e=e.filter(r=>!Co(r,i));return{arrayValue:{values:e}}}class CS extends Fw{constructor(t,e){super(),this.serializer=t,this.Re=e}}function RL(n){return ni(n.integerValue||n.doubleValue)}function W5(n){return NI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(t,e){this.field=t,this.transform=e}}function xJ(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Dm&&r instanceof Dm||i instanceof mv&&r instanceof mv?km(i.elements,r.elements,Co):i instanceof CS&&r instanceof CS?Co(i.Re,r.Re):i instanceof TS&&r instanceof TS}(n.transform,t.transform)}class TJ{constructor(t,e){this.version=t,this.transformResults=e}}class Ul{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ul}static exists(t){return new Ul(void 0,t)}static updateTime(t){return new Ul(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wE(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Vw{}function K5(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new X5(n.key,Ul.none()):new zw(n.key,n.data,Ul.none());{const e=n.data,i=gs.empty();let r=new Ii(tr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new qd(n.key,i,new Sa(r.toArray()),Ul.none())}}function CJ(n,t,e){n instanceof zw?function(r,s,o){const c=r.value.clone(),u=kL(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof qd?function(r,s,o){if(!wE(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=kL(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Y5(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Yy(n,t,e,i){return n instanceof zw?function(s,o,c,u){if(!wE(s.precondition,o))return c;const d=s.value.clone(),f=PL(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof qd?function(s,o,c,u){if(!wE(s.precondition,o))return c;const d=PL(s.fieldTransforms,u,o),f=o.data;return f.setAll(Y5(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,t,e,i):function(s,o,c){return wE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,t,e)}function RJ(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=$5(i.transform,r||null);s!=null&&(e===null&&(e=gs.empty()),e.set(i.field,s))}return e||null}function IL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&km(i,r,(s,o)=>xJ(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zw extends Vw{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qd extends Vw{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Y5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function kL(n,t,e){const i=new Map;sn(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,wJ(o,c,e[r]))}return i}function PL(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,SJ(s,o,t))}return i}class X5 extends Vw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IJ extends Vw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&CJ(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Yy(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Yy(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=U5();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=K5(o,c);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Oe())}isEqual(t){return this.batchId===t.batchId&&km(this.mutations,t.mutations,(e,i)=>IL(e,i))&&km(this.baseMutations,t.baseMutations,(e,i)=>IL(e,i))}}class BI{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){sn(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return yJ}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new BI(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui,Ue;function DJ(n){switch(n){case Et.OK:return se(64938);case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0;default:return se(15467,{code:n})}}function Q5(n){if(n===void 0)return Jl("GRPC error has no .code"),Et.UNKNOWN;switch(n){case ui.OK:return Et.OK;case ui.CANCELLED:return Et.CANCELLED;case ui.UNKNOWN:return Et.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Et.INTERNAL;case ui.UNAVAILABLE:return Et.UNAVAILABLE;case ui.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case ui.NOT_FOUND:return Et.NOT_FOUND;case ui.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case ui.ABORTED:return Et.ABORTED;case ui.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case ui.DATA_LOSS:return Et.DATA_LOSS;default:return se(39323,{code:n})}}(Ue=ui||(ui={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ=new bu([4294967295,4294967295],0);function ML(n){const t=v5().encode(n),e=new u5;return e.update(t),new Uint8Array(e.digest())}function DL(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new bu([e,i],0),new bu([r,s],0)]}class jI{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ay(`Invalid padding: ${e}`);if(i<0)throw new Ay(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ay(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ay(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=bu.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(bu.fromNumber(i)));return r.compare(OJ)===1&&(r=new bu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=ML(t),[i,r]=DL(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);if(!this.be(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new jI(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(this.pe===0)return;const e=ML(t),[i,r]=DL(e);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ay extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,t0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Bw(he.min(),r,new Un(xe),tc(),Oe())}}class t0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new t0(i,e,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class Z5{constructor(t,e){this.targetId=t,this.Ce=e}}class J5{constructor(t,e,i=nr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class OL{constructor(){this.Fe=0,this.Me=LL(),this.xe=nr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Oe(),e=Oe(),i=Oe();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:se(38017,{changeType:s})}}),new t0(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=LL()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,sn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LJ{constructor(t){this.ze=t,this.je=new Map,this.He=tc(),this.Je=W_(),this.Ye=W_(),this.Ze=new Un(xe)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:se(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const s=r.target;if(KT(s))if(i===0){const o=new Jt(s.path);this.tt(e,o,pr.newNoDocument(o,he.min()))}else sn(i===1,20013,{expectedCount:i});else{const o=this.ut(e);if(o!==i){const c=this.ct(t),u=c?this.lt(c,t,o):1;if(u!==0){this.st(e);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=ku(i).toUint8Array()}catch(u){if(u instanceof S5)return Im("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new jI(o,r,s)}catch(u){return Im(u instanceof Ay?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,s,null),r++)}),r}It(t){const e=new Map;this.je.forEach((s,o)=>{const c=this._t(o);if(c){if(s.current&&KT(c.target)){const u=new Jt(c.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,pr.newNoDocument(u,t))}s.Le&&(e.set(o,s.qe()),s.Qe())}});let i=Oe();this.Ye.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const d=this._t(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const r=new Bw(t,e,this.Ze,this.He,i);return this.He=tc(),this.Je=W_(),this.Ye=W_(),this.Ze=new Un(xe),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new OL,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ii(xe),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ii(xe),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||Ft("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new OL),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function W_(){return new Un(Jt.comparator)}function LL(){return new Un(Jt.comparator)}const NJ={asc:"ASCENDING",desc:"DESCENDING"},FJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VJ={and:"AND",or:"OR"};class zJ{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function XT(n,t){return n.useProto3Json||Dw(t)?t:{value:t}}function RS(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tV(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function BJ(n,t){return RS(n,t.toTimestamp())}function xo(n){return sn(!!n,49232),he.fromTimestamp(function(e){const i=Iu(e);return new gi(i.seconds,i.nanos)}(n))}function UI(n,t){return QT(n,t).canonicalString()}function QT(n,t){const e=function(r){return new Rn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function eV(n){const t=Rn.fromString(n);return sn(aV(t),10190,{key:t.toString()}),t}function ZT(n,t){return UI(n.databaseId,t.path)}function Bx(n,t){const e=eV(t);if(e.get(1)!==n.databaseId.projectId)throw new Bt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Bt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Jt(iV(e))}function nV(n,t){return UI(n.databaseId,t)}function jJ(n){const t=eV(n);return t.length===4?Rn.emptyPath():iV(t)}function JT(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iV(n){return sn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function NL(n,t,e){return{name:ZT(n,t),fields:e.value.mapValue.fields}}function UJ(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(sn(f===void 0||typeof f=="string",58123),nr.fromBase64String(f||"")):(sn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),nr.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(d){const f=d.code===void 0?Et.UNKNOWN:Q5(d.code);return new Bt(f,d.message||"")}(o);e=new J5(i,r,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Bx(n,i.document.name),s=xo(i.document.updateTime),o=i.document.createTime?xo(i.document.createTime):he.min(),c=new gs({mapValue:{fields:i.document.fields}}),u=pr.newFoundDocument(r,s,o,c),d=i.targetIds||[],f=i.removedTargetIds||[];e=new AE(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Bx(n,i.document),s=i.readTime?xo(i.readTime):he.min(),o=pr.newNoDocument(r,s),c=i.removedTargetIds||[];e=new AE([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Bx(n,i.document),s=i.removedTargetIds||[];e=new AE([],s,r,null)}else{if(!("filter"in t))return se(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new MJ(r,s),c=i.targetId;e=new Z5(c,o)}}return e}function HJ(n,t){let e;if(t instanceof zw)e={update:NL(n,t.key,t.value)};else if(t instanceof X5)e={delete:ZT(n,t.key)};else if(t instanceof qd)e={update:NL(n,t.key,t.data),updateMask:ZJ(t.fieldMask)};else{if(!(t instanceof IJ))return se(16599,{ft:t.type});e={verify:ZT(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof TS)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof mv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof CS)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw se(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:BJ(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(n,t.precondition)),e}function $J(n,t){return n&&n.length>0?(sn(t!==void 0,14353),n.map(e=>function(r,s){let o=r.updateTime?xo(r.updateTime):xo(s);return o.isEqual(he.min())&&(o=xo(s)),new TJ(o,r.transformResults||[])}(e,t))):[]}function qJ(n,t){return{documents:[nV(n,t.path)]}}function GJ(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=nV(n,r);const s=function(d){if(d.length!==0)return sV(Ca.create(d,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:ep(y.field),direction:YJ(y.dir)}}(f))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=XT(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{gt:e,parent:r}}function WJ(n){let t=jJ(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){sn(i===1,65062);const f=e.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];e.where&&(s=function(m){const y=rV(m);return y instanceof Ca&&M5(y)?y.getFilters():[y]}(e.where));let o=[];e.orderBy&&(o=function(m){return m.map(y=>function(E){return new pv(np(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(e.orderBy));let c=null;e.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,Dw(y)?null:y}(e.limit));let u=null;e.startAt&&(u=function(m){const y=!!m.before,b=m.values||[];return new AS(b,y)}(e.startAt));let d=null;return e.endAt&&(d=function(m){const y=!m.before,b=m.values||[];return new AS(b,y)}(e.endAt)),dJ(t,r,o,s,c,"F",u,d)}function KJ(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function rV(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=np(e.unaryFilter.field);return mi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=np(e.unaryFilter.field);return mi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=np(e.unaryFilter.field);return mi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=np(e.unaryFilter.field);return mi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(n):n.fieldFilter!==void 0?function(e){return mi.create(np(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ca.create(e.compositeFilter.filters.map(i=>rV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(e.compositeFilter.op))}(n):se(30097,{filter:n})}function YJ(n){return NJ[n]}function XJ(n){return FJ[n]}function QJ(n){return VJ[n]}function ep(n){return{fieldPath:n.canonicalString()}}function np(n){return tr.fromServerFormat(n.fieldPath)}function sV(n){return n instanceof mi?function(e){if(e.op==="=="){if(wL(e.value))return{unaryFilter:{field:ep(e.field),op:"IS_NAN"}};if(SL(e.value))return{unaryFilter:{field:ep(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wL(e.value))return{unaryFilter:{field:ep(e.field),op:"IS_NOT_NAN"}};if(SL(e.value))return{unaryFilter:{field:ep(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ep(e.field),op:XJ(e.op),value:e.value}}}(n):n instanceof Ca?function(e){const i=e.getFilters().map(r=>sV(r));return i.length===1?i[0]:{compositeFilter:{op:QJ(e.op),filters:i}}}(n):se(54877,{filter:n})}function ZJ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function aV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,e,i,r,s=he.min(),o=he.min(),c=nr.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new mu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(t){this.wt=t}}function ttt(n){const t=WJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ett{constructor(){this.Cn=new ntt}addToCollectionParentIndex(t,e){return this.Cn.add(e),_t.resolve()}getCollectionParents(t,e){return _t.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return _t.resolve()}deleteFieldIndex(t,e){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,e){return _t.resolve()}getDocumentsMatchingTarget(t,e){return _t.resolve(null)}getIndexType(t,e){return _t.resolve(0)}getFieldIndexes(t,e){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,e){return _t.resolve(Ru.min())}getMinOffsetFromCollectionGroup(t,e){return _t.resolve(Ru.min())}updateCollectionGroup(t,e,i){return _t.resolve()}updateIndexEntries(t,e){return _t.resolve()}}class ntt{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ii(Rn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ii(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oV=41943040;class $r{static withCacheSize(t){return new $r(t,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(oV,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Om(0)}static lr(){return new Om(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="LruGarbageCollector",itt=1048576;function zL([n,t],[e,i]){const r=xe(n,e);return r===0?xe(t,i):r}class rtt{constructor(t){this.Er=t,this.buffer=new Ii(zL),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();zL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class stt{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){Ft(VL,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Km(e)?Ft(VL,"Ignoring IndexedDB error during garbage collection: ",e):await Wm(e)}await this.mr(3e5)})}}class att{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return _t.resolve(Mw.le);const i=new rtt(e);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(FL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FL):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,r,s,o,c,u,d;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(i=m,c=Date.now(),this.removeTargets(t,i,e))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(m=>(d=Date.now(),Jf()<=De.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function ott(n,t){return new att(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ltt{constructor(){this.changes=new $d(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?_t.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ctt{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class utt{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Yy(i.mutation,r,Sa.empty(),gi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Oe()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Oe()){const r=Ph();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=wy();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Ph();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Oe()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=tc();const o=Ky(),c=function(){return Ky()}();return e.forEach((u,d)=>{const f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof qd)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Yy(f.mutation,d,f.mutation.getFieldMask(),gi.now())):o.set(d.key,Sa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),e.forEach((d,f)=>{var m;return c.set(d,new ctt(f,(m=o.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(t,e){const i=Ky();let r=new Un((o,c)=>o-c),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=e.get(u);if(d===null)return;let f=i.get(u)||Sa.empty();f=c.applyToLocalView(d,f),i.set(u,f);const m=(r.get(c.batchId)||Oe()).add(u);r=r.insert(c.batchId,m)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,m=U5();f.forEach(y=>{if(!s.has(y)){const b=K5(e.get(y),i.get(y));b!==null&&m.set(y,b),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(t,d,m))}return _t.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return Jt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):F5(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):_t.resolve(Ph());let c=uv,u=s;return o.next(d=>_t.forEach(d,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(f)?_t.resolve():this.remoteDocumentCache.getEntry(t,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,u,d,Oe())).next(f=>({batchId:c,changes:j5(f)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Jt(e)).next(i=>{let r=wy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=wy();return this.indexManager.getCollectionParents(t,s).next(c=>_t.forEach(c,u=>{const d=function(m,y){return new Ym(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(f=>{f.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,pr.newInvalidDocument(f)))});let c=wy();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&Yy(f.mutation,d,Sa.empty(),gi.now()),Nw(e,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class htt{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return _t.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:xo(r.createTime)}}(e)),_t.resolve()}getNamedQuery(t,e){return _t.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(r){return{name:r.name,query:ttt(r.bundledQuery),readTime:xo(r.readTime)}}(e)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dtt{constructor(){this.overlays=new Un(Jt.comparator),this.Qr=new Map}getOverlay(t,e){return _t.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ph();return _t.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.St(t,e,s)}),_t.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),_t.resolve()}getOverlaysForCollection(t,e,i){const r=Ph(),s=e.length+1,o=new Jt(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return _t.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Un((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let f=s.get(d.largestBatchId);f===null&&(f=Ph(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Ph(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return _t.resolve(c)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new PJ(e,i));let s=this.Qr.get(e);s===void 0&&(s=Oe(),this.Qr.set(e,s)),this.Qr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ftt{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.$r=new Ii(Ui.Ur),this.Kr=new Ii(Ui.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new Ui(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new Ui(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new Jt(new Rn([])),i=new Ui(e,t),r=new Ui(e,t+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Jt(new Rn([])),i=new Ui(e,t),r=new Ui(e,t+1);let s=Oe();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Ui(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ui{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Jt.comparator(t.key,e.key)||xe(t.Zr,e.Zr)}static Wr(t,e){return xe(t.Zr,e.Zr)||Jt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ptt{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ii(Ui.Ur)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kJ(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.Xr=this.Xr.add(new Ui(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return _t.resolve(o)}lookupMutationBatch(t,e){return _t.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ti(i),s=r<0?0:r;return _t.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?OI:this.nr-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ui(e,0),r=new Ui(e,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{const c=this.ei(o.Zr);s.push(c)}),_t.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ii(xe);return e.forEach(r=>{const s=new Ui(r,0),o=new Ui(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],c=>{i=i.add(c.Zr)})}),_t.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Jt.isDocumentKey(s)||(s=s.child(""));const o=new Ui(new Jt(s),0);let c=new Ii(xe);return this.Xr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(u.Zr)),!0)},o),_t.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){sn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return _t.forEach(e.mutations,r=>{const s=new Ui(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new Ui(e,0),r=this.Xr.firstAfterOrEqual(i);return _t.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mtt{constructor(t){this.ii=t,this.docs=function(){return new Un(Jt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return _t.resolve(i?i.document.mutableCopy():pr.newInvalidDocument(e))}getEntries(t,e){let i=tc();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():pr.newInvalidDocument(r))}),_t.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=tc();const o=e.path,c=new Jt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||$Z(HZ(f),i)<=0||(r.has(f.key)||Nw(e,f))&&(s=s.insert(f.key,f.mutableCopy()))}return _t.resolve(s)}getAllFromCollectionGroup(t,e,i,r){se(9500)}si(t,e){return _t.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new gtt(this)}getSize(t){return _t.resolve(this.size)}}class gtt extends ltt{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),_t.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ytt{constructor(t){this.persistence=t,this.oi=new $d(e=>FI(e),VI),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this._i=0,this.ai=new HI,this.targetCount=0,this.ui=Om.cr()}forEachTarget(t,e){return this.oi.forEach((i,r)=>e(r)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),_t.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Om(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,_t.resolve()}updateTargetData(t,e){return this.Tr(e),_t.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),_t.waitFor(s).next(()=>r)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return _t.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),_t.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),_t.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),_t.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return _t.resolve(i)}containsKey(t,e){return _t.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t,e){this.ci={},this.overlays={},this.li=new Mw(0),this.hi=!1,this.hi=!0,this.Pi=new ftt,this.referenceDelegate=t(this),this.Ti=new ytt(this),this.indexManager=new ett,this.remoteDocumentCache=function(r){return new mtt(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new JJ(e),this.Ei=new htt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new dtt,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new ptt(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){Ft("MemoryPersistence","Starting transaction:",t);const r=new vtt(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,e){return _t.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class vtt extends GZ{constructor(t){super(),this.currentSequenceNumber=t}}class $I{constructor(t){this.persistence=t,this.Vi=new HI,this.mi=null}static fi(t){return new $I(t)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),_t.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),_t.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.gi,i=>{const r=Jt.fromPath(i);return this.pi(t,r).next(s=>{s||e.removeEntry(r,he.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return _t.or([()=>_t.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class IS{constructor(t,e){this.persistence=t,this.yi=new $d(i=>YZ(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=ott(this,e)}static fi(t,e){return new IS(t,e)}di(){}Ai(t){return _t.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return _t.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?_t.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,o=>this.Dr(t,o,e).next(c=>{c||(i++,s.removeEntry(o,he.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),_t.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),_t.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),_t.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=EE(t.data.value)),e}Dr(t,e,i){return _t.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.yi.get(e);return _t.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ds=i,this.As=r}static Rs(t,e){let i=Oe(),r=Oe();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new qI(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class btt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _tt{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return pY()?8:WZ(vr())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.ws(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new btt;return this.Ss(t,e,o).next(c=>{if(s.result=c,this.fs)return this.Ds(t,e,o,c.size)})}).next(()=>s.result)}Ds(t,e,i,r){return i.documentReadCount<this.gs?(Jf()<=De.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",tp(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),_t.resolve()):(Jf()<=De.DEBUG&&Ft("QueryEngine","Query:",tp(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Jf()<=De.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",tp(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ao(e))):_t.resolve())}ws(t,e){if(CL(e))return _t.resolve(null);let i=Ao(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=xS(e,null,"F"),i=Ao(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Oe(...s);return this.ys.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const d=this.vs(e,c);return this.Cs(e,d,o,u.readTime)?this.ws(t,xS(e,null,"F")):this.Fs(t,d,e,u)}))})))}bs(t,e,i,r){return CL(e)||r.isEqual(he.min())?_t.resolve(null):this.ys.getDocuments(t,i).next(s=>{const o=this.vs(e,s);return this.Cs(e,o,i,r)?_t.resolve(null):(Jf()<=De.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tp(e)),this.Fs(t,o,e,UZ(r,uv)).next(c=>c))})}vs(t,e){let i=new Ii(z5(t));return e.forEach((r,s)=>{Nw(t,s)&&(i=i.add(s))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,e,i){return Jf()<=De.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",tp(e)),this.ys.getDocumentsMatchingQuery(t,e,Ru.min(),i)}Fs(t,e,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="LocalStore",Ett=3e8;class Stt{constructor(t,e,i,r){this.persistence=t,this.Ms=e,this.serializer=r,this.xs=new Un(xe),this.Os=new $d(s=>FI(s),VI),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new utt(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function wtt(n,t,e,i){return new Stt(n,t,e,i)}async function cV(n,t){const e=de(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=Oe();for(const d of r){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return e.localDocuments.getDocuments(i,u).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:c}))})})}function Att(n,t){const e=de(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const m=d.batch,y=m.keys();let b=_t.resolve();return y.forEach(E=>{b=b.next(()=>f.getEntry(u,E)).next(w=>{const T=d.docVersions.get(E);sn(T!==null,48541),w.version.compareTo(T)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),f.addEntry(w)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=Oe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function uV(n){const t=de(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function xtt(n,t){const e=de(n),i=t.snapshotVersion;let r=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Bs.newChangeBuffer({trackRemovals:!0});r=e.xs;const c=[];t.targetChanges.forEach((f,m)=>{const y=r.get(m);if(!y)return;c.push(e.Ti.removeMatchingKeys(s,f.removedDocuments,m).next(()=>e.Ti.addMatchingKeys(s,f.addedDocuments,m)));let b=y.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?b=b.withResumeToken(nr.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,i)),r=r.insert(m,b),function(w,T,A){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Ett?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,b,f)&&c.push(e.Ti.updateTargetData(s,b))});let u=tc(),d=Oe();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(Ttt(s,o,t.documentUpdates).next(f=>{u=f.qs,d=f.Qs})),!i.isEqual(he.min())){const f=e.Ti.getLastRemoteSnapshotVersion(s).next(m=>e.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(f)}return _t.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(e.xs=r,s))}function Ttt(n,t,e){let i=Oe(),r=Oe();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=tc();return e.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(he.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):Ft(GI,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{qs:o,Qs:r}})}function Ctt(n,t){const e=de(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=OI),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Rtt(n,t){const e=de(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ti.getTargetData(i,t).next(s=>s?(r=s,_t.resolve(r)):e.Ti.allocateTargetId(i).next(o=>(r=new mu(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function tC(n,t,e){const i=de(n),r=i.xs.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Km(o))throw o;Ft(GI,`Failed to update sequence numbers for target ${t}: ${o}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function BL(n,t,e){const i=de(n);let r=he.min(),s=Oe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const m=de(u),y=m.Os.get(f);return y!==void 0?_t.resolve(m.xs.get(y)):m.Ti.getTargetData(d,f)}(i,o,Ao(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(o,t,e?r:he.min(),e?s:Oe())).next(c=>(Itt(i,pJ(t),c),{documents:c,$s:s})))}function Itt(n,t,e){let i=n.Ns.get(t)||he.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(t,i)}class jL{constructor(){this.activeTargetIds=_J()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ktt{constructor(){this.xo=new jL,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jL,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ptt{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="ConnectivityMonitor";class HL{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ft(UL,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){Ft(UL,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K_=null;function eC(){return K_===null?K_=function(){return 268435456+Math.round(2147483648*Math.random())}():K_++,"0x"+K_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="RestConnection",Mtt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dtt{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===SS?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,e,i,r,s){const o=eC(),c=this.jo(t,e.toUriEncodedString());Ft(jx,`Sending RPC '${t}' ${o}:`,c,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:d}=new URL(c),f=$m(d);return this.Jo(t,c,u,i,f).then(m=>(Ft(jx,`Received RPC '${t}' ${o}: `,m),m),m=>{throw Im(jx,`RPC '${t}' ${o} failed with error: `,m,"url: ",c,"request:",i),m})}Yo(t,e,i,r,s,o){return this.zo(t,e,i,r,s)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gm}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,e){const i=Mtt[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ott{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class Ltt extends Dtt{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,s){const o=eC();return new Promise((c,u)=>{const d=new h5;d.setWithCredentials(!0),d.listenOnce(d5.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _E.NO_ERROR:const m=d.getResponseJson();Ft(sr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(m)),c(m);break;case _E.TIMEOUT:Ft(sr,`RPC '${t}' ${o} timed out`),u(new Bt(Et.DEADLINE_EXCEEDED,"Request time out"));break;case _E.HTTP_ERROR:const y=d.getStatus();if(Ft(sr,`RPC '${t}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const w=function(A){const O=A.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(O)>=0?O:Et.UNKNOWN}(E.status);u(new Bt(w,E.message))}else u(new Bt(Et.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Bt(Et.UNAVAILABLE,"Connection failed."));break;default:se(9055,{h_:t,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Ft(sr,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(r);Ft(sr,`RPC '${t}' ${o} sending request:`,r),d.send(e,"POST",f,i,15)})}I_(t,e,i){const r=eC(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=m5(),c=p5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const f=s.join("");Ft(sr,`Creating RPC '${t}' stream ${r}: ${f}`,u);const m=o.createWebChannel(f,u);this.E_(m);let y=!1,b=!1;const E=new Ott({Zo:T=>{b?Ft(sr,`Not sending because RPC '${t}' stream ${r} is closed:`,T):(y||(Ft(sr,`Opening RPC '${t}' stream ${r} transport.`),m.open(),y=!0),Ft(sr,`RPC '${t}' stream ${r} sending:`,T),m.send(T))},Xo:()=>m.close()}),w=(T,A,O)=>{T.listen(A,k=>{try{O(k)}catch(P){setTimeout(()=>{throw P},0)}})};return w(m,Sy.EventType.OPEN,()=>{b||(Ft(sr,`RPC '${t}' stream ${r} transport opened.`),E.__())}),w(m,Sy.EventType.CLOSE,()=>{b||(b=!0,Ft(sr,`RPC '${t}' stream ${r} transport closed`),E.u_(),this.d_(m))}),w(m,Sy.EventType.ERROR,T=>{b||(b=!0,Im(sr,`RPC '${t}' stream ${r} transport errored. Name:`,T.name,"Message:",T.message),E.u_(new Bt(Et.UNAVAILABLE,"The operation could not be completed")))}),w(m,Sy.EventType.MESSAGE,T=>{var A;if(!b){const O=T.data[0];sn(!!O,16349);const k=O,P=(k==null?void 0:k.error)||((A=k[0])===null||A===void 0?void 0:A.error);if(P){Ft(sr,`RPC '${t}' stream ${r} received error:`,P);const F=P.status;let j=function(V){const x=ui[V];if(x!==void 0)return Q5(x)}(F),D=P.message;j===void 0&&(j=Et.INTERNAL,D="Unknown error status: "+F+" with message "+P.message),b=!0,E.u_(new Bt(j,D)),m.close()}else Ft(sr,`RPC '${t}' stream ${r} received:`,O),E.c_(O)}}),w(c,f5.STAT_EVENT,T=>{T.stat===HT.PROXY?Ft(sr,`RPC '${t}' stream ${r} detected buffering proxy`):T.stat===HT.NOPROXY&&Ft(sr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function Ux(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){return new zJ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t,e,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,e-i);r>0&&Ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="PersistentStream";class dV{constructor(t,e,i,r,s,o,c,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new hV(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===Et.RESOURCE_EXHAUSTED?(Jl(e.toString()),Jl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===Et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===e&&this.z_(i,r)},i=>{t(()=>{const r=new Bt(Et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return Ft($L,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(Ft($L,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ntt extends dV{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=UJ(this.serializer,t),i=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?xo(o.readTime):he.min()}(t);return this.listener.Y_(e,i)}Z_(t){const e={};e.database=JT(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=KT(u)?{documents:qJ(s,u)}:{query:GJ(s,u).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=tV(s,o.resumeToken);const d=XT(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){c.readTime=RS(s,o.snapshotVersion.toTimestamp());const d=XT(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=KJ(this.serializer,t);i&&(e.labels=i),this.Q_(e)}X_(t){const e={};e.database=JT(this.serializer),e.removeTarget=t,this.Q_(e)}}class Ftt extends dV{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return sn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,sn(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){sn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=$J(t.writeResults,t.commitTime),i=xo(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=JT(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>HJ(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vtt{}class ztt extends Vtt{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Bt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(t,QT(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Bt(Et.UNKNOWN,s.toString())})}Yo(t,e,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(t,QT(e,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Bt(Et.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Btt{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Jl(e),this.ua=!1):Ft("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RemoteStore";class jtt{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{i.enqueueAndForget(async()=>{Gd(this)&&(Ft(Md,"Restarting streams for network reachability change."),await async function(u){const d=de(u);d.da.add(4),await e0(d),d.Va.set("Unknown"),d.da.delete(4),await Uw(d)}(this))})}),this.Va=new Btt(i,r)}}async function Uw(n){if(Gd(n))for(const t of n.Aa)await t(!0)}async function e0(n){for(const t of n.Aa)await t(!1)}function fV(n,t){const e=de(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),XI(e)?YI(e):Xm(e).N_()&&KI(e,t))}function WI(n,t){const e=de(n),i=Xm(e);e.Ea.delete(t),i.N_()&&pV(e,t),e.Ea.size===0&&(i.N_()?i.k_():Gd(e)&&e.Va.set("Unknown"))}function KI(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(he.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Xm(n).Z_(t)}function pV(n,t){n.ma.Ke(t),Xm(n).X_(t)}function YI(n){n.ma=new LJ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Xm(n).start(),n.Va.ca()}function XI(n){return Gd(n)&&!Xm(n).O_()&&n.Ea.size>0}function Gd(n){return de(n).da.size===0}function mV(n){n.ma=void 0}async function Utt(n){n.Va.set("Online")}async function Htt(n){n.Ea.forEach((t,e)=>{KI(n,t)})}async function $tt(n,t){mV(n),XI(n)?(n.Va.Pa(t),YI(n)):n.Va.set("Unknown")}async function qtt(n,t,e){if(n.Va.set("Online"),t instanceof J5&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ea.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ea.delete(c),r.ma.removeTarget(c))}(n,t)}catch(i){Ft(Md,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kS(n,i)}else if(t instanceof AE?n.ma.Xe(t):t instanceof Z5?n.ma.ot(t):n.ma.nt(t),!e.isEqual(he.min()))try{const i=await uV(n.localStore);e.compareTo(i)>=0&&await function(s,o){const c=s.ma.It(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ea.get(d);f&&s.Ea.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const f=s.Ea.get(u);if(!f)return;s.Ea.set(u,f.withResumeToken(nr.EMPTY_BYTE_STRING,f.snapshotVersion)),pV(s,u);const m=new mu(f.target,u,d,f.sequenceNumber);KI(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){Ft(Md,"Failed to raise snapshot:",i),await kS(n,i)}}async function kS(n,t,e){if(!Km(t))throw t;n.da.add(1),await e0(n),n.Va.set("Offline"),e||(e=()=>uV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ft(Md,"Retrying IndexedDB access"),await e(),n.da.delete(1),await Uw(n)})}function gV(n,t){return t().catch(e=>kS(n,e,t))}async function Hw(n){const t=de(n),e=Mu(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:OI;for(;Gtt(t);)try{const r=await Ctt(t.localStore,i);if(r===null){t.Ia.length===0&&e.k_();break}i=r.batchId,Wtt(t,r)}catch(r){await kS(t,r)}yV(t)&&vV(t)}function Gtt(n){return Gd(n)&&n.Ia.length<10}function Wtt(n,t){n.Ia.push(t);const e=Mu(n);e.N_()&&e.ea&&e.ta(t.mutations)}function yV(n){return Gd(n)&&!Mu(n).O_()&&n.Ia.length>0}function vV(n){Mu(n).start()}async function Ktt(n){Mu(n).ia()}async function Ytt(n){const t=Mu(n);for(const e of n.Ia)t.ta(e.mutations)}async function Xtt(n,t,e){const i=n.Ia.shift(),r=BI.from(i,t,e);await gV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Hw(n)}async function Qtt(n,t){t&&Mu(n).ea&&await async function(i,r){if(function(o){return DJ(o)&&o!==Et.ABORTED}(r.code)){const s=i.Ia.shift();Mu(i).L_(),await gV(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Hw(i)}}(n,t),yV(n)&&vV(n)}async function qL(n,t){const e=de(n);e.asyncQueue.verifyOperationInProgress(),Ft(Md,"RemoteStore received new credentials");const i=Gd(e);e.da.add(3),await e0(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Uw(e)}async function Ztt(n,t){const e=de(n);t?(e.da.delete(2),await Uw(e)):t||(e.da.add(2),await e0(e),e.Va.set("Unknown"))}function Xm(n){return n.fa||(n.fa=function(e,i,r){const s=de(e);return s.oa(),new Ntt(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:Utt.bind(null,n),n_:Htt.bind(null,n),i_:$tt.bind(null,n),Y_:qtt.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),XI(n)?YI(n):n.Va.set("Unknown")):(await n.fa.stop(),mV(n))})),n.fa}function Mu(n){return n.ga||(n.ga=function(e,i,r){const s=de(e);return s.oa(),new Ftt(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Ktt.bind(null,n),i_:Qtt.bind(null,n),na:Ytt.bind(null,n),ra:Xtt.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await Hw(n)):(await n.ga.stop(),n.Ia.length>0&&(Ft(Md,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new _u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new QI(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(Et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZI(n,t){if(Jl("AsyncQueue",`${t}: ${n}`),Km(n))return new Bt(Et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{static emptySet(t){return new bp(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Jt.comparator(e.key,i.key):(e,i)=>Jt.comparator(e.key,i.key),this.keyedMap=wy(),this.sortedSet=new Un(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bp)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new bp;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.pa=new Un(Jt.comparator)}track(t){const e=t.doc.key,i=this.pa.get(e);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(e,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(e):t.type===1&&i.type===2?this.pa=this.pa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):se(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Lm{constructor(t,e,i,r,s,o,c,u,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Lm(t,e,bp.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jtt{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class tet{constructor(){this.queries=WL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=de(e),s=r.queries;r.queries=WL(),s.forEach((o,c)=>{for(const u of c.Sa)u.onError(i)})})(this,new Bt(Et.ABORTED,"Firestore shutting down"))}}function WL(){return new $d(n=>V5(n),Lw)}async function eet(n,t){const e=de(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new Jtt,i=t.va()?0:1);try{switch(i){case 0:s.ba=await e.onListen(r,!0);break;case 1:s.ba=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(o){const c=ZI(o,`Initialization of query '${tp(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.Sa.push(t),t.Fa(e.onlineState),s.ba&&t.Ma(s.ba)&&JI(e)}async function net(n,t){const e=de(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function iet(n,t){const e=de(n);let i=!1;for(const r of t){const s=r.query,o=e.queries.get(s);if(o){for(const c of o.Sa)c.Ma(r)&&(i=!0);o.ba=r}}i&&JI(e)}function ret(n,t,e){const i=de(n),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(e);i.queries.delete(t)}function JI(n){n.Ca.forEach(t=>{t.next()})}var nC,KL;(KL=nC||(nC={})).xa="default",KL.Cache="cache";class set{constructor(t,e,i){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Lm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const i=e!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Lm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==nC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t){this.key=t}}class _V{constructor(t){this.key=t}}class aet{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Oe(),this.mutatedKeys=Oe(),this.Za=z5(t),this.Xa=new bp(this.Za)}get eu(){return this.Ha}tu(t,e){const i=e?e.nu:new GL,r=e?e.Xa:this.Xa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,m)=>{const y=r.get(f),b=Nw(this.query,m)?m:null,E=!!y&&this.mutatedKeys.has(y.key),w=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;y&&b?y.data.isEqual(b.data)?E!==w&&(i.track({type:3,doc:b}),T=!0):this.ru(y,b)||(i.track({type:2,doc:b}),T=!0,(u&&this.Za(b,u)>0||d&&this.Za(b,d)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),T=!0):y&&!b&&(i.track({type:1,doc:y}),T=!0,(u||d)&&(c=!0)),T&&(b?(o=o.add(b),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{Xa:o,nu:i,Cs:c,mutatedKeys:s}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const o=t.nu.wa();o.sort((f,m)=>function(b,E){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:T})}};return w(b)-w(E)}(f.type,m.type)||this.Za(f.doc,m.doc)),this.iu(i),r=r!=null&&r;const c=e&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,d=u!==this.Ja;return this.Ja=u,o.length!==0||d?{snapshot:new Lm(this.query,t.Xa,s,o,t.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new GL,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Oe(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const e=[];return t.forEach(i=>{this.Ya.has(i)||e.push(new _V(i))}),this.Ya.forEach(i=>{t.has(i)||e.push(new bV(i))}),e}au(t){this.Ha=t.$s,this.Ya=Oe();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Lm.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const tk="SyncEngine";class oet{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class cet{constructor(t){this.key=t,this.cu=!1}}class uet{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new $d(c=>V5(c),Lw),this.Pu=new Map,this.Tu=new Set,this.Iu=new Un(Jt.comparator),this.Eu=new Map,this.du=new HI,this.Au={},this.Ru=new Map,this.Vu=Om.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function het(n,t,e=!0){const i=TV(n);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await EV(i,t,e,!0),r}async function det(n,t){const e=TV(n);await EV(e,t,!0,!1)}async function EV(n,t,e,i){const r=await Rtt(n.localStore,Ao(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let c;return i&&(c=await fet(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&fV(n.remoteStore,r),c}async function fet(n,t,e,i,r){n.fu=(m,y,b)=>async function(w,T,A,O){let k=T.view.tu(A);k.Cs&&(k=await BL(w.localStore,T.query,!1).then(({documents:D})=>T.view.tu(D,k)));const P=O&&O.targetChanges.get(T.targetId),F=O&&O.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(k,w.isPrimaryClient,P,F);return XL(w,T.targetId,j.ou),j.snapshot}(n,m,y,b);const s=await BL(n.localStore,t,!0),o=new aet(t,s.$s),c=o.tu(s.documents),u=t0.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=o.applyChanges(c,n.isPrimaryClient,u);XL(n,e,d.ou);const f=new oet(t,e,o);return n.hu.set(t,f),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),d.snapshot}async function pet(n,t,e){const i=de(n),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(o=>!Lw(o,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await tC(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&WI(i.remoteStore,r.targetId),iC(i,r.targetId)}).catch(Wm)):(iC(i,r.targetId),await tC(i.localStore,r.targetId,!0))}async function met(n,t){const e=de(n),i=e.hu.get(t),r=e.Pu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),WI(e.remoteStore,i.targetId))}async function get(n,t,e){const i=Aet(n);try{const r=await function(o,c){const u=de(o),d=gi.now(),f=c.reduce((b,E)=>b.add(E.key),Oe());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=tc(),w=Oe();return u.Bs.getEntries(b,f).next(T=>{E=T,E.forEach((A,O)=>{O.isValidDocument()||(w=w.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,E)).next(T=>{m=T;const A=[];for(const O of c){const k=RJ(O,m.get(O.key).overlayedDocument);k!=null&&A.push(new qd(O.key,k,I5(k.value.mapValue),Ul.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,A,c)}).next(T=>{y=T;const A=T.applyToLocalDocumentSet(m,w);return u.documentOverlayCache.saveOverlays(b,T.batchId,A)})}).then(()=>({batchId:y.batchId,changes:j5(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let d=o.Au[o.currentUser.toKey()];d||(d=new Un(xe)),d=d.insert(c,u),o.Au[o.currentUser.toKey()]=d}(i,r.batchId,e),await n0(i,r.changes),await Hw(i.remoteStore)}catch(r){const s=ZI(r,"Failed to persist write");e.reject(s)}}async function SV(n,t){const e=de(n);try{const i=await xtt(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Eu.get(s);o&&(sn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.cu=!0:r.modifiedDocuments.size>0?sn(o.cu,14607):r.removedDocuments.size>0&&(sn(o.cu,42227),o.cu=!1))}),await n0(e,i,t)}catch(i){await Wm(i)}}function YL(n,t,e){const i=de(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.hu.forEach((s,o)=>{const c=o.view.Fa(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=de(o);u.onlineState=c;let d=!1;u.queries.forEach((f,m)=>{for(const y of m.Sa)y.Fa(c)&&(d=!0)}),d&&JI(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function yet(n,t,e){const i=de(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),s=r&&r.key;if(s){let o=new Un(Jt.comparator);o=o.insert(s,pr.newNoDocument(s,he.min()));const c=Oe().add(s),u=new Bw(he.min(),new Map,new Un(xe),o,c);await SV(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),ek(i)}else await tC(i.localStore,t,!1).then(()=>iC(i,t,e)).catch(Wm)}async function vet(n,t){const e=de(n),i=t.batch.batchId;try{const r=await Att(e.localStore,t);AV(e,i,null),wV(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await n0(e,r)}catch(r){await Wm(r)}}async function bet(n,t,e){const i=de(n);try{const r=await function(o,c){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(sn(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,t);AV(i,t,e),wV(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await n0(i,r)}catch(r){await Wm(r)}}function wV(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function AV(n,t,e){const i=de(n);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function iC(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),e&&n.lu.gu(i,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||xV(n,i)})}function xV(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(WI(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),ek(n))}function XL(n,t,e){for(const i of e)i instanceof bV?(n.du.addReference(i.key,t),_et(n,i)):i instanceof _V?(Ft(tk,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||xV(n,i.key)):se(19791,{pu:i})}function _et(n,t){const e=t.key,i=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(i)||(Ft(tk,"New document in limbo: "+e),n.Tu.add(i),ek(n))}function ek(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new Jt(Rn.fromString(t)),i=n.Vu.next();n.Eu.set(i,new cet(e)),n.Iu=n.Iu.insert(e,i),fV(n.remoteStore,new mu(Ao(N5(e.path)),i,"TargetPurposeLimboResolution",Mw.le))}}async function n0(n,t,e){const i=de(n),r=[],s=[],o=[];i.hu.isEmpty()||(i.hu.forEach((c,u)=>{o.push(i.fu(u,t,e).then(d=>{var f;if((d||e)&&i.isPrimaryClient){const m=d?!d.fromCache:(f=e==null?void 0:e.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){r.push(d);const m=qI.Rs(u.targetId,d);s.push(m)}}))}),await Promise.all(o),i.lu.Y_(r),await async function(u,d){const f=de(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>_t.forEach(d,y=>_t.forEach(y.ds,b=>f.persistence.referenceDelegate.addReference(m,y.targetId,b)).next(()=>_t.forEach(y.As,b=>f.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))}catch(m){if(!Km(m))throw m;Ft(GI,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const b=f.xs.get(y),E=b.snapshotVersion,w=b.withLastLimboFreeSnapshotVersion(E);f.xs=f.xs.insert(y,w)}}}(i.localStore,s))}async function Eet(n,t){const e=de(n);if(!e.currentUser.isEqual(t)){Ft(tk,"User change. New user:",t.toKey());const i=await cV(e.localStore,t);e.currentUser=t,function(s,o){s.Ru.forEach(c=>{c.forEach(u=>{u.reject(new Bt(Et.CANCELLED,o))})}),s.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await n0(e,i.ks)}}function wet(n,t){const e=de(n),i=e.Eu.get(t);if(i&&i.cu)return Oe().add(i.key);{let r=Oe();const s=e.Pu.get(t);if(!s)return r;for(const o of s){const c=e.hu.get(o);r=r.unionWith(c.view.eu)}return r}}function TV(n){const t=de(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=SV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wet.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yet.bind(null,t),t.lu.Y_=iet.bind(null,t.eventManager),t.lu.gu=ret.bind(null,t.eventManager),t}function Aet(n){const t=de(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vet.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bet.bind(null,t),t}class PS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jw(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return wtt(this.persistence,new _tt,t.initialUser,this.serializer)}Su(t){return new lV($I.fi,this.serializer)}bu(t){return new ktt}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}PS.provider={build:()=>new PS};class xet extends PS{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){sn(this.persistence.referenceDelegate instanceof IS,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new stt(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new lV(i=>IS.fi(i,e),this.serializer)}}class rC{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eet.bind(null,this.syncEngine),await Ztt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tet}()}createDatastore(t){const e=jw(t.databaseInfo.databaseId),i=function(s){return new Ltt(s)}(t.databaseInfo);return function(s,o,c,u){return new ztt(s,o,c,u)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,o,c){return new jtt(i,r,s,o,c)}(this.localStore,this.datastore,t.asyncQueue,e=>YL(this.syncEngine,e,0),function(){return HL.C()?new HL:new Ptt}())}createSyncEngine(t,e){return function(r,s,o,c,u,d,f){const m=new uet(r,s,o,c,u,d);return f&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const s=de(r);Ft(Md,"RemoteStore shutting down."),s.da.add(5),await e0(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}rC.provider={build:()=>new rC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tet{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Jl("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="FirestoreClient";class Cet{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=fr.UNAUTHENTICATED,this.clientId=b5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{Ft(Du,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(Ft(Du,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ZI(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Hx(n,t){n.asyncQueue.verifyOperationInProgress(),Ft(Du,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await cV(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function QL(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Ret(n);Ft(Du,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>qL(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>qL(t.remoteStore,r)),n._onlineComponents=t}async function Ret(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ft(Du,"Using user provided OfflineComponentProvider");try{await Hx(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Et.FAILED_PRECONDITION||r.code===Et.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Im("Error using user provided cache. Falling back to memory cache: "+e),await Hx(n,new PS)}}else Ft(Du,"Using default OfflineComponentProvider"),await Hx(n,new xet(void 0));return n._offlineComponents}async function CV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ft(Du,"Using user provided OnlineComponentProvider"),await QL(n,n._uninitializedComponentsProvider._online)):(Ft(Du,"Using default OnlineComponentProvider"),await QL(n,new rC))),n._onlineComponents}function Iet(n){return CV(n).then(t=>t.syncEngine)}async function ket(n){const t=await CV(n),e=t.eventManager;return e.onListen=het.bind(null,t.syncEngine),e.onUnlisten=pet.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=det.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=met.bind(null,t.syncEngine),e}function Pet(n,t,e={}){const i=new _u;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const f=new Tet({next:y=>{f.xu(),o.enqueueAndForget(()=>net(s,m)),y.fromCache&&u.source==="server"?d.reject(new Bt(Et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new set(c,f,{includeMetadataChanges:!0,Qa:!0});return eet(s,m)}(await ket(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(n,t,e){if(!e)throw new Bt(Et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Met(n,t,e,i){if(t===!0&&i===!0)throw new Bt(Et.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function JL(n){if(!Jt.isDocumentKey(n))throw new Bt(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tN(n){if(Jt.isDocumentKey(n))throw new Bt(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $w(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function gv(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Bt(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=$w(n);throw new Bt(Et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="firestore.googleapis.com",eN=!0;class nN{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Bt(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kV,this.ssl=eN}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:eN;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oV;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<itt)throw new Bt(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Met("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RV((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Bt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Bt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Bt(Et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qw{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Bt(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nN(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new DZ;switch(i.type){case"firstParty":return new FZ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Bt(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=ZL.get(e);i&&(Ft("ComponentProvider","Removing Datastore"),ZL.delete(e),i.terminate())}(this),Promise.resolve()}}function Det(n,t,e,i={}){var r;n=gv(n,qw);const s=$m(t),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${t}:${e}`;s&&(_I(`https://${u}`),EI("Firestore",!0)),o.host!==kV&&o.host!==u&&Im("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:i});if(!xu(d,c)&&(n._setSettings(d),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=fr.MOCK_USER;else{f=T3(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Bt(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fr(y)}n._authCredentials=new OZ(new y5(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new zu(this.firestore,t,this._query)}}class _s{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _s(this.firestore,t,this._key)}}class Eu extends zu{constructor(t,e,i){super(t,e,N5(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _s(this.firestore,null,new Jt(t))}withConverter(t){return new Eu(this.firestore,t,this._path)}}function Xs(n,t,...e){if(n=br(n),IV("collection","path",t),n instanceof qw){const i=Rn.fromString(t,...e);return tN(i),new Eu(n,null,i)}{if(!(n instanceof _s||n instanceof Eu))throw new Bt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(t,...e));return tN(i),new Eu(n.firestore,null,i)}}function Oet(n,t,...e){if(n=br(n),arguments.length===1&&(t=b5.newId()),IV("doc","path",t),n instanceof qw){const i=Rn.fromString(t,...e);return JL(i),new _s(n,null,new Jt(i))}{if(!(n instanceof _s||n instanceof Eu))throw new Bt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(t,...e));return JL(i),new _s(n.firestore,n instanceof Eu?n.converter:null,new Jt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="AsyncQueue";class rN{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new hV(this,"async_queue_retry"),this.rc=()=>{const i=Ux();i&&Ft(iN,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=Ux();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=Ux();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new _u;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Km(t))throw t;Ft(iN,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Jl("INTERNAL UNHANDLED ERROR: ",sN(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const r=QI.createAndSchedule(this,t,e,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&se(47125,{cc:sN(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function sN(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class nk extends qw{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new rN,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rN(t),this._firestoreClient=void 0,await t}}}function Let(n,t){const e=typeof n=="object"?n:AI(),i=typeof n=="string"?n:SS,r=Cw(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=w3("firestore");s&&Det(r,...s)}return r}function PV(n){if(n._terminated)throw new Bt(Et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Net(n),n._firestoreClient}function Net(n){var t,e,i;const r=n._freezeSettings(),s=function(c,u,d,f){return new ZZ(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,RV(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Cet(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nm(nr.fromBase64String(t))}catch(e){throw new Bt(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Nm(nr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Bt(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Bt(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Bt(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xe(this._lat,t._lat)||xe(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fet=/^__.*__$/;class MV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function DV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ic:n})}}class Kw{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Kw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return MS(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(DV(this.Ic)&&Fet.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Vet{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||jw(t)}bc(t,e,i,r=!1){return new Kw({Ic:t,methodName:e,wc:i,path:tr.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OV(n){const t=n._freezeSettings(),e=jw(n._databaseId);return new Vet(n._databaseId,!!t.ignoreUndefinedProperties,e)}class Yw extends Ww{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yw}}function zet(n,t,e){return new Kw({Ic:3,wc:t.settings.wc,methodName:n._methodName,Rc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class sk extends Ww{constructor(t,e){super(t),this.Sc=e}_toFieldTransform(t){const e=zet(this,t,!0),i=this.Sc.map(s=>Qm(s,e)),r=new Dm(i);return new AJ(t.path,r)}isEqual(t){return t instanceof sk&&xu(this.Sc,t.Sc)}}function Bet(n,t,e,i){const r=n.bc(1,t,e);NV("Data must be an object, but it was:",r,i);const s=[],o=gs.empty();Vu(i,(u,d)=>{const f=ak(t,u,e);d=br(d);const m=r.mc(f);if(d instanceof Yw)s.push(f);else{const y=Qm(d,m);y!=null&&(s.push(f),o.set(f,y))}});const c=new Sa(s);return new MV(o,c,r.fieldTransforms)}function jet(n,t,e,i,r,s){const o=n.bc(1,t,e),c=[aN(t,i,e)],u=[r];if(s.length%2!=0)throw new Bt(Et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(aN(t,s[y])),u.push(s[y+1]);const d=[],f=gs.empty();for(let y=c.length-1;y>=0;--y)if(!qet(d,c[y])){const b=c[y];let E=u[y];E=br(E);const w=o.mc(b);if(E instanceof Yw)d.push(b);else{const T=Qm(E,w);T!=null&&(d.push(b),f.set(b,T))}}const m=new Sa(d);return new MV(f,m,o.fieldTransforms)}function Uet(n,t,e,i=!1){return Qm(e,n.bc(i?4:3,t))}function Qm(n,t){if(LV(n=br(n)))return NV("Unsupported field value:",t,n),Het(n,t);if(n instanceof Ww)return function(i,r){if(!DV(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=Qm(c,r.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=br(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return EJ(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=gi.fromDate(i);return{timestampValue:RS(r.serializer,s)}}if(i instanceof gi){const s=new gi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:RS(r.serializer,s)}}if(i instanceof ik)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nm)return{bytesValue:tV(r.serializer,i._byteString)};if(i instanceof _s){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof rk)return function(o,c){return{mapValue:{fields:{[C5]:{stringValue:R5},[wS]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return zI(c.serializer,d)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${$w(i)}`)}(n,t)}function Het(n,t){const e={};return E5(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vu(n,(i,r)=>{const s=Qm(r,t.Ac(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function LV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gi||n instanceof ik||n instanceof Nm||n instanceof _s||n instanceof Ww||n instanceof rk)}function NV(n,t,e){if(!LV(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=$w(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function aN(n,t,e){if((t=br(t))instanceof Gw)return t._internalPath;if(typeof t=="string")return ak(n,t);throw MS("Field path arguments must be of type string or ",n,!1,void 0,e)}const $et=new RegExp("[~\\*/\\[\\]]");function ak(n,t,e){if(t.search($et)>=0)throw MS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Gw(...t.split("."))._internalPath}catch{throw MS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function MS(n,t,e,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new Bt(Et.INVALID_ARGUMENT,c+n+u)}function qet(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Get(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Xw("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Get extends FV{data(){return super.data()}}function Xw(n,t){return typeof t=="string"?ak(n,t):t instanceof Gw?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wet(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Bt(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ok{}class lk extends ok{}function xa(n,t,...e){let i=[];t instanceof ok&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof ck).length,c=s.filter(u=>u instanceof Qw).length;if(o>1||o>0&&c>0)throw new Bt(Et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Qw extends lk{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Qw(t,e,i)}_apply(t){const e=this._parse(t);return VV(t._query,e),new zu(t.firestore,t.converter,YT(t._query,e))}_parse(t){const e=OV(t.firestore);return function(s,o,c,u,d,f,m){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Bt(Et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){lN(m,f);const E=[];for(const w of m)E.push(oN(u,s,w));y={arrayValue:{values:E}}}else y=oN(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||lN(m,f),y=Uet(c,o,m,f==="in"||f==="not-in");return mi.create(d,f,y)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function yv(n,t,e){const i=t,r=Xw("where",n);return Qw._create(r,i,e)}class ck extends ok{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ck(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Ca.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)VV(o,u),o=YT(o,u)}(t._query,e),new zu(t.firestore,t.converter,YT(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uk extends lk{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new uk(t,e)}_apply(t){const e=function(r,s,o){if(r.startAt!==null)throw new Bt(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Bt(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pv(s,o)}(t._query,this._field,this._direction);return new zu(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Ym(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function Zw(n,t="asc"){const e=t,i=Xw("orderBy",n);return uk._create(i,e)}class hk extends lk{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new hk(t,e,i)}_apply(t){return new zu(t.firestore,t.converter,xS(t._query,this._limit,this._limitType))}}function Ket(n){return hk._create("limit",n,"F")}function oN(n,t,e){if(typeof(e=br(e))=="string"){if(e==="")throw new Bt(Et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F5(t)&&e.indexOf("/")!==-1)throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Rn.fromString(e));if(!Jt.isDocumentKey(i))throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return EL(n,new Jt(i))}if(e instanceof _s)return EL(n,e._key);throw new Bt(Et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$w(e)}.`)}function lN(n,t){if(!Array.isArray(n)||n.length===0)throw new Bt(Et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VV(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Bt(Et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Bt(Et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Yet{convertValue(t,e="none"){switch(Pu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ni(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ku(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw se(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Vu(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[wS].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ni(o.doubleValue));return new rk(s)}convertGeoPoint(t){return new ik(ni(t.latitude),ni(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ow(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(hv(t));default:return null}}convertTimestamp(t){const e=Iu(t);return new gi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Rn.fromString(t);sn(aV(i),9688,{name:t});const r=new dv(i.get(1),i.get(3)),s=new Jt(i.popFirst(5));return r.isEqual(e)||Jl(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xet extends FV{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new xE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Xw("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class xE extends Xet{data(t={}){return super.data(t)}}class Qet{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Y_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new xE(this._firestore,this._userDataWriter,i.key,i,new Y_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bt(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const u=new xE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Y_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new xE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Y_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:Zet(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Zet(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}class Jet extends Yet{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _s(this.firestore,null,e)}}function Qs(n){n=gv(n,zu);const t=gv(n.firestore,nk),e=PV(t),i=new Jet(t);return Wet(n._query),Pet(e,n._query).then(r=>new Qet(t,i,n,r))}function tnt(n,t,e,...i){n=gv(n,_s);const r=gv(n.firestore,nk),s=OV(r);let o;return o=typeof(t=br(t))=="string"||t instanceof Gw?jet(s,"updateDoc",n._key,t,e,i):Bet(s,"updateDoc",n._key,t),ent(r,[o.toMutation(n._key,Ul.exists(!0))])}function ent(n,t){return function(i,r){const s=new _u;return i.asyncQueue.enqueueAndForget(async()=>get(await Iet(i),r,s)),s.promise}(PV(n),t)}function nnt(...n){return new sk("arrayUnion",n)}(function(t,e=!0){(function(r){Gm=r})(Hd),Id(new Tu("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new nk(new LZ(i.getProvider("auth-internal")),new VZ(o,i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Bt(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dv(d.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Eo(cL,uL,t),Eo(cL,uL,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="firebasestorage.googleapis.com",int="storageBucket",rnt=2*60*1e3,snt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Do{constructor(t,e,i=0){super($x(t),`Firebase Storage: ${e} (${$x(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oo.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $x(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ro;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ro||(Ro={}));function $x(n){return"storage/"+n}function ant(){const n="An unknown error occurred, please check the error payload for server response.";return new Oo(Ro.UNKNOWN,n)}function ont(){return new Oo(Ro.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lnt(){return new Oo(Ro.CANCELED,"User canceled the upload/download.")}function cnt(n){return new Oo(Ro.INVALID_URL,"Invalid URL '"+n+"'.")}function unt(n){return new Oo(Ro.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function cN(n){return new Oo(Ro.INVALID_ARGUMENT,n)}function BV(){return new Oo(Ro.APP_DELETED,"The Firebase app was deleted.")}function hnt(n){return new Oo(Ro.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=wa.makeFromUrl(t,e)}catch{return new wa(t,"")}if(i.path==="")return i;throw unt(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",m=e.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${f}/b/${r}/o${y}`,"i"),E={bucket:1,path:3},w=e===zV?"(?:storage.googleapis.com|storage.cloud.google.com)":e,T="([^?#]*)",A=new RegExp(`^https?://${w}/${r}/${T}`,"i"),k=[{regex:c,indices:u,postModify:s},{regex:b,indices:E,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<k.length;P++){const F=k[P],j=F.regex.exec(t);if(j){const D=j[F.indices.bucket];let I=j[F.indices.path];I||(I=""),i=new wa(D,I),F.postModify(i);break}}if(i==null)throw cnt(t);return i}}class dnt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fnt(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return c===2}let d=!1;function f(...T){d||(d=!0,t.apply(null,T))}function m(T){r=setTimeout(()=>{r=null,n(b,u())},T)}function y(){s&&clearTimeout(s)}function b(T,...A){if(d){y();return}if(T){y(),f.call(null,T,...A);return}if(u()||o){y(),f.call(null,T,...A);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,m(k)}let E=!1;function w(T){E||(E=!0,y(),!d&&(r!==null?(T||(c=2),clearTimeout(r),m(0)):T||(c=1)))}return m(0),s=setTimeout(()=>{o=!0,w(!0)},e),w}function pnt(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mnt(n){return n!==void 0}function uN(n,t,e,i){if(i<t)throw cN(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw cN(`Invalid value for '${n}'. Expected ${e} or less.`)}function gnt(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var DS;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(DS||(DS={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ynt(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=t.indexOf(n)!==-1;return e||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vnt{constructor(t,e,i,r,s,o,c,u,d,f,m,y=!0,b=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new X_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===DS.NO_ERROR,u=s.getStatus();if(!c||ynt(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===DS.ABORT;i(!1,new X_(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;i(!0,new X_(d,s))})},e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());mnt(u)?s(u):s()}catch(u){o(u)}else if(c!==null){const u=ant();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(r.canceled){const u=this.appDelete_?BV():lnt();o(u)}else{const u=ont();o(u)}};this.canceled_?e(!1,new X_(!1,null,!0)):this.backoffId_=fnt(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&pnt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class X_{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function bnt(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function _nt(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ent(n,t){t&&(n["X-Firebase-GMPID"]=t)}function Snt(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function wnt(n,t,e,i,r,s,o=!0,c=!1){const u=gnt(n.urlParams),d=n.url+u,f=Object.assign({},n.headers);return Ent(f,t),bnt(f,e),_nt(f,s),Snt(f,i),new vnt(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ant(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function xnt(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,e){this._service=t,e instanceof wa?this._location=e:this._location=wa.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new OS(t,e)}get root(){const t=new wa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xnt(this._location.path)}get storage(){return this._service}get parent(){const t=Ant(this._location.path);if(t===null)return null;const e=new wa(this._location.bucket,t);return new OS(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw hnt(t)}}function hN(n,t){const e=t==null?void 0:t[int];return e==null?null:wa.makeFromBucketSpec(e,n)}function Tnt(n,t,e,i={}){n.host=`${t}:${e}`;const r=$m(t);r&&(_I(`https://${n.host}`),EI("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:T3(s,n.app.options.projectId))}class Cnt{constructor(t,e,i,r,s,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=zV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rnt,this._maxUploadRetryTime=snt,this._requests=new Set,r!=null?this._bucket=wa.makeFromBucketSpec(r,this._host):this._bucket=hN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wa.makeFromBucketSpec(this._url,t):this._bucket=hN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new OS(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new dnt(BV());{const o=wnt(t,this._appId,i,r,e,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const dN="@firebase/storage",fN="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="storage";function Rnt(n=AI(),t){n=br(n);const i=Cw(n,jV).getImmediate({identifier:t}),r=w3("storage");return r&&Int(i,...r),i}function Int(n,t,e,i={}){Tnt(n,t,e,i)}function knt(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Cnt(e,i,r,t,Hd)}function Pnt(){Id(new Tu(jV,knt,"PUBLIC").setMultipleInstances(!0)),Eo(dN,fN,""),Eo(dN,fN,"esm2017")}Pnt();const Mnt={apiKey:"AIzaSyCoHjDrMtMrNLllpFDZpTQw4-oq7qoalFc",authDomain:"change-lms.firebaseapp.com",projectId:"change-lms",storageBucket:"change-lms.firebasestorage.app",messagingSenderId:"172184355270",appId:"1:172184355270:web:5aa19f0480788c255bf2c7",measurementId:"G-EHMG7GZ0Z6"},dk=I3(Mnt),Dnt=PZ(dk),Es=Let(dk);Rnt(dk);const qx=Hn(R.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ont=Hn(R.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"})),Lnt=Hn(R.jsx("path",{d:"M7 3H4v3H2V1h5zm15 3V1h-5v2h3v3zM7 21H4v-3H2v5h5zm13-3v3h-3v2h5v-5zm-1 0c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2zM15 8H9v2h6zm0 3H9v2h6zm0 3H9v2h6z"})),Nnt=Hn([R.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),R.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),Fnt=Hn([R.jsx("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01M4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3m16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"},"0"),R.jsx("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2"},"1")]),Vnt=Hn(R.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),znt=Hn([R.jsx("path",{d:"M16 10.04 12 8l-4 2.04v3.35L4 15.2V20h5v-2.04c0-1.69 1.35-3.06 3-3.06s3 1.37 3 3.06V20h5v-4.79l-4-1.81zm-4 3.46c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5",opacity:".3"},"0"),R.jsx("path",{d:"M18 12.22V9l-5-2.5V5h2V3h-2V1h-2v2H9v2h2v1.5L6 9v3.22L2 14v8h9v-4c0-.55.45-1 1-1s1 .45 1 1v4h9v-8zM20 20h-5v-2.04c0-1.69-1.35-3.06-3-3.06s-3 1.37-3 3.06V20H4v-4.79l4-1.81v-3.35L12 8l4 2.04v3.35l4 1.81z"},"1"),R.jsx("circle",{cx:"12",cy:"12",r:"1.5"},"2")]),Bnt=Hn([R.jsx("path",{d:"M17 18h1c.55 0 1-.45 1-1v-3h-2zM5 17c0 .55.45 1 1 1h1v-4H5z",opacity:".3"},"0"),R.jsx("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9M7 14v4H6c-.55 0-1-.45-1-1v-3zm12 3c0 .55-.45 1-1 1h-1v-4h2z"},"1")]),pN=Hn([R.jsx("path",{d:"m9.83 18 .59.59L12 20.17l1.59-1.59.58-.58H19V4H5v14zm.29-8.88L12 5l1.88 4.12L18 11l-4.12 1.88L12 17l-1.88-4.12L6 11z",opacity:".3"},"0"),R.jsx("path",{d:"M5 20h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2M5 4h14v14h-4.83l-.59.59L12 20.17l-1.59-1.59-.58-.58H5zm7 13 1.88-4.12L18 11l-4.12-1.88L12 5l-1.88 4.12L6 11l4.12 1.88z"},"1")]),jnt=Hn([R.jsx("path",{d:"m5 18.31 3-1.16V5.45L5 6.46zm11 .24 3-1.01V5.69l-3 1.17z",opacity:".3"},"0"),R.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M8 17.15l-3 1.16V6.46l3-1.01zm6 1.38-4-1.4V5.47l4 1.4zm5-.99-3 1.01V6.86l3-1.16z"},"1")]),Unt=Hn([R.jsx("path",{d:"M5 17h14v-5H5zm11.5-4c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5m-9 0c.83 0 1.5.67 1.5 1.5S8.33 16 7.5 16 6 15.33 6 14.5 6.67 13 7.5 13",opacity:".3"},"0"),R.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.85 7h10.29l1.04 3H5.81zM19 17H5v-5h14z"},"1"),R.jsx("circle",{cx:"7.5",cy:"14.5",r:"1.5"},"2"),R.jsx("circle",{cx:"16.5",cy:"14.5",r:"1.5"},"3")]),Hnt="/assets/parking_map-DAqnMtWO.png";function $nt(){const n=[{time:"8:30 - 9:00",content:"등록 및 환영"},{time:"9:00 - 9:30",content:"여는 예배"},{time:"09:30 - 11:00",content:`아이스 브레이킹
조별 모임(체인지 액팅)`},{time:"11:00 - 17:00",content:"점심 식사, 체인지 액팅"},{time:"17:00 - 18:00",content:"체인지 액팅 나눔"},{time:"18:00 - 20:00",content:"저녁 식사 및 교제"},{time:"20:00 - 21:30",content:"저녁 집회"},{time:"21:30 - 22:00",content:"마무리 및 정리"}];return R.jsx(yt,{children:n.map((t,e)=>R.jsxs(yt,{sx:{display:"flex",padding:"12px",borderBottom:"1px solid #ccc",alignItems:"flex-start"},children:[R.jsx(At,{sx:{width:"100px",fontWeight:"bold",flexShrink:0},variant:"group_member",children:t.time}),R.jsx(At,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:t.content})]},e))})}const qnt="/assets/world_map-DcDVn5i4.png",Gnt="/assets/vote-BYAisUKO.png";function sC({ad_id:n}){return R.jsxs(R.Fragment,{children:[n=="outreach"&&R.jsxs(yt,{className:"fullWidth advertise",children:[R.jsxs(yt,{className:"advertise_content",children:[R.jsx(At,{variant:"ad_title",children:"올해는 나도 선교사!?"}),R.jsx(At,{variant:"ad_description",children:"2025 아웃리치: 유니블캠프 / 샘물 호스피스"})]}),R.jsx(yt,{className:"advertise_image-wrapper",children:R.jsx("img",{src:qnt,className:"advertise_image"})})]}),n=="leader"&&R.jsxs(yt,{className:"fullWidth advertise",sx:{marginTop:1,backgroundColor:"#92B4A7"},children:[R.jsxs(yt,{className:"advertise_content",children:[R.jsx(At,{variant:"ad_title",children:"쟤가 저기 있사오니 쟤를 시키소서"}),R.jsx(At,{variant:"ad_description",children:"2026년도 총무 / 리더 받습니다"})]}),R.jsx(yt,{className:"advertise_image-wrapper",children:R.jsx("img",{src:Gnt,className:"advertise_image",style:{width:"130%"}})})]})]})}const UV=M.createContext(null),Wnt=({children:n})=>{const[t,e]=M.useState(),[i,r]=M.useState(!0);return M.useEffect(()=>{const s=localStorage.getItem("user");s&&e(JSON.parse(s)),r(!1)},[]),R.jsx(UV.Provider,{value:{user:t,setUser:e,loading:i},children:n})},Jw=()=>M.useContext(UV);function Knt(){var T;const[n,t]=M.useState([]),[e,i]=M.useState([]),[r,s]=M.useState([]),[o,c]=M.useState({announcement:!0,prayBoard:!0,users:!0,courses:!1,selected_courses:!1}),[u,d]=M.useState(!1),[f,m]=M.useState(!1),[y,b]=M.useState(!1),{user:E}=Jw(),w=Bd();return M.useEffect(()=>{(async()=>{c(I=>({...I,announcement:!0}));const O=xa(Xs(Es,"announcements"),yv("active","==",!0),Zw("created_at","asc")),k=await Qs(O);if(k.empty)console.log("[Warning]No accouncements has been queried");else{const I=k.docs.map(V=>V.data());t(I)}c(I=>({...I,announcement:!1})),c(I=>({...I,prayBoard:!0}));const P=xa(Xs(Es,"pray_board"),Ket(10)),F=await Qs(P);if(F.empty)console.log("[Warning]No Prays");else{const I=F.docs.map(V=>V.data());i(I)}c(I=>({...I,prayBoard:!1})),c(I=>({...I,users:!0})),c(I=>({...I,users:!0}));const j=xa(Xs(Es,"users")),D=await Qs(j);if(!D.empty){const I=D.docs.map(V=>V.data());s(I)}c(I=>({...I,users:!1}))})()},[]),M.useEffect(()=>{console.log(o)},[o]),M.useEffect(()=>{console.log(e),console.log(e.length)},[e]),R.jsxs(yt,{className:"wrapper",children:[R.jsx(Ud,{}),R.jsx(yt,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0},children:R.jsx(At,{variant:"body1",children:"높은뜻대학교 정의캠퍼스"})}),R.jsxs(yt,{className:"fullWidth announcementArea flex-left",children:[o.announcement&&R.jsx(Rm,{variant:"rectangular",className:"announcementDocument",animation:"wave"}),n?n.map(A=>R.jsxs(yt,{className:"announcementDocument",children:[R.jsx(At,{variant:"announcePreviewTitle",children:A.title}),R.jsx(At,{variant:"announcePreviewContent",children:A.content}),R.jsxs(pI,{variant:"text",size:"small",sx:{mt:"auto",alignSelf:"flex-start",color:"#00002F",p:0,display:"flex",justifyContent:"flex-start"},onClick:()=>{alert("아직 준비되지 않은 기능입니다")},children:["자세히 ",">"]})]},`announcement-${A.title}`)):R.jsx(yt,{children:R.jsx(At,{children:"No Announcement"})})]}),R.jsxs(yt,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:3},children:[R.jsxs(yt,{className:"external-linkbox",onClick:()=>{window.open("http://www.jeongeui.com","_blank")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(znt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"교회"}),R.jsx(At,{variant:"blacksmall",children:"홈"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{window.open("https://youtube.com/playlist?list=PLCOgZLj-whreTVYXkuQRv_Mx0O2j5A9vW&feature=shared","_blank")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Bnt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"찬양"}),R.jsx(At,{variant:"blacksmall",children:"콘티"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{w("/pray")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(pN,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"기도"}),R.jsx(At,{variant:"blacksmall",children:"제목"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{window.open("https://map.naver.com","_blank")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(jnt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"네이버"}),R.jsx(At,{variant:"blacksmall",children:"지도"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{b(!0)},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Unt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"주차"}),R.jsx(At,{variant:"blacksmall",children:"안내"})]})]})]}),R.jsxs(yt,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:1},children:[R.jsxs(yt,{className:"external-linkbox",onClick:()=>{d(!0)},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Fnt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"우리조"}),R.jsx(At,{variant:"blacksmall",children:"보기"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{w("/courses")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Vnt,{sx:{color:"#FAC656"}})}),R.jsx(yt,{className:"external_description_box",children:E!=null&&E.is_leader?R.jsxs(R.Fragment,{children:[R.jsx(At,{variant:"blacksmall",children:"수강"}),R.jsx(At,{variant:"blacksmall",children:"신청"})]}):R.jsxs(R.Fragment,{children:[R.jsx(At,{variant:"blacksmall",children:"시간표"}),R.jsx(At,{variant:"blacksmall",children:"보기"})]})})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{w("/syllabus")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Ont,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"실라"}),R.jsx(At,{variant:"blacksmall",children:"버스"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{w("/workbook")},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Lnt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"수련회"}),R.jsx(At,{variant:"blacksmall",children:"워크북"})]})]}),R.jsxs(yt,{className:"external-linkbox",onClick:()=>{m(!0)},children:[R.jsx(yt,{className:"external-icon centeralize",children:R.jsx(Nnt,{sx:{color:"#FAC656"}})}),R.jsxs(yt,{className:"external_description_box",children:[R.jsx(At,{variant:"blacksmall",children:"타임"}),R.jsx(At,{variant:"blacksmall",children:"테이블"})]})]})]}),R.jsxs(yt,{sx:{marginTop:"5vh"},children:[R.jsx(sC,{ad_id:"outreach"}),R.jsx(sC,{ad_id:"leader"})]}),R.jsxs(yt,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0,marginTop:3,justifyContent:"space-between",alignItems:"flex-end"},children:[R.jsxs(yt,{sx:{display:"flex",alignItems:"center"},children:[R.jsx(pN,{sx:{color:"#FAC656",mr:.5}}),R.jsx(At,{variant:"body1",children:"기도제목"})]}),R.jsxs(At,{variant:"toDetail",onClick:()=>{w("/pray")},children:["more ",">"]})]}),o.prayBoard?R.jsx(Rm,{variant:"rectangular",className:"boardPreview",animation:"wave"}):R.jsx(yt,{className:"boardPreview",children:e.length>0?e.map(A=>{var O;return R.jsxs(yt,{sx:{display:"flex",justifyContent:"space-between"},children:[R.jsxs(yt,{sx:{display:"flex",alignItems:"center"},children:[R.jsx(yt,{sx:{marginRight:1},children:R.jsx(At,{variant:"boardPreview_title",children:A.title})}),R.jsx(yt,{sx:{display:"flex",alignItems:"center",maxWidth:"50%"},children:R.jsx(At,{variant:"boardPreview_detail",children:A.content})})]}),r&&R.jsx(yt,{sx:{minWidth:"32px"},children:R.jsx(At,{variant:"boardPreview_author",children:(O=r.filter(k=>k.student_id==A.author_id)[0])==null?void 0:O.name})})]},`pray_${A.created_at}`)}):R.jsx(yt,{className:"fully_centeralize fullWidth",sx:{height:"120px"},children:R.jsx(At,{variant:"group_member",children:"등록된 기도가 없습니다"})})}),R.jsxs(pE,{open:f,onClose:()=>m(!1),fullWidth:!0,maxWidth:"sm",children:[R.jsxs(mE,{sx:{m:0,p:2},children:["수련회 타임테이블",R.jsx(fE,{"aria-label":"close",onClick:()=>m(!1),sx:{position:"absolute",right:8,top:8,color:A=>A.palette.grey[500]},children:R.jsx(qx,{})})]}),R.jsx(yt,{sx:{p:2},children:R.jsx($nt,{})})]}),R.jsxs(pE,{open:y,onClose:()=>b(!1),fullWidth:!0,maxWidth:"sm",children:[R.jsxs(mE,{sx:{m:0,p:2},children:["주차안내",R.jsx(fE,{"aria-label":"close",onClick:()=>b(!1),sx:{position:"absolute",right:8,top:8,color:A=>A.palette.grey[500]},children:R.jsx(qx,{})})]}),R.jsxs(yt,{sx:{p:2},children:[R.jsxs(yt,{sx:{display:"flex"},children:[R.jsx(At,{sx:{mr:1},variant:"group_member",children:"•"}),R.jsxs(At,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:["오전 8시~밤 11시까지 정의여자고등학교에",`
`," 주차가 가능합니다."," "]})]}),R.jsxs(yt,{sx:{display:"flex"},children:[R.jsx(At,{sx:{mr:1},variant:"group_member",children:"•"}),R.jsx(At,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:"가급적 필로티 건물은 지양해주세요."})]}),R.jsxs(yt,{sx:{display:"flex"},children:[R.jsx(At,{sx:{mr:1},variant:"group_member",children:"•"}),R.jsxs(At,{sx:{whiteSpace:"pre-line"},variant:"group_member",children:["체인지 액팅 때 차량사용이 필요한 경우",`
`," 윤기헌 전도사에게 문의해주세요."]})]})]}),R.jsx("img",{src:Hnt})]}),R.jsxs(pE,{open:u,onClose:()=>d(!1),fullWidth:!0,maxWidth:"sm",children:[R.jsxs(mE,{sx:{m:0,p:2},children:["우리조 보기",R.jsx(fE,{"aria-label":"close",onClick:()=>b(!1),sx:{position:"absolute",right:8,top:8,color:A=>A.palette.grey[500]},children:R.jsx(qx,{})})]}),R.jsxs(yt,{sx:{p:2},children:[R.jsxs(yt,{sx:{display:"flex",alignItems:"center",mb:1},children:[R.jsx(At,{variant:"label",sx:{mr:1},children:"리더"}),R.jsx(At,{variant:"group_member",children:(T=r.filter(A=>A.group_id==E.group_id&&A.is_leader)[0])==null?void 0:T.name})]}),R.jsxs(yt,{sx:{display:"flex",alignItems:"center"},children:[R.jsx(At,{className:"label",variant:"label",sx:{mr:1},children:"멤버"}),R.jsx(yt,{sx:{display:"flex",flexWrap:"wrap"},children:r.filter(A=>A.group_id==E.group_id&&!A.is_leader).map(A=>R.jsx(At,{variant:"group_member",sx:{mr:.5},children:A.name}))})]})]})]}),R.jsxs(yt,{className:"fullWidth",sx:{mt:2,mb:1,borderTop:"0.5px gray solid"},children:[R.jsx(yt,{sx:{height:"2.4vw"},children:R.jsx(At,{variant:"footerinfo",children:"Ver0.4.2 | Copyright @DENVER | Design assisted by Sandy, Lim. Eunseo, Choo."})}),R.jsx(yt,{sx:{height:"2.4vw"},children:R.jsx(At,{variant:"footerinfo",children:"Published for @높은뜻 정의교회, 2025,."})}),R.jsx(yt,{sx:{height:"2.4vw"},children:R.jsx(At,{variant:"footerinfo",children:"Contact us | fe.dev.denver@gmail.com or 높은뜻 정의교회 청년부"})})]})]})}function Ynt(){const[n,t]=M.useState(""),[e,i]=M.useState(""),{setUser:r}=Jw(),[s,o]=M.useState(!1),c=async()=>{o(!0),i("");try{const u=xa(Xs(Es,"users"),yv("student_id","==",n)),d=await Qs(u);if(d.empty){i("존재하지 않는 학번입니다"),o(!1);return}const f=d.docs[0].data();await mQ(Dnt),r(f),localStorage.setItem("user",JSON.stringify(f)),window.location.href="/"}catch(u){console.error(u),i("로그인 중 오류가 발생했습니다")}finally{o(!1)}};return R.jsxs(yt,{className:"wrapper centeralize",sx:{height:"100vh",mt:"-60px"},children:[R.jsx(yt,{sx:{position:"absolute",top:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:R.jsx(At,{variant:"subtitle_extrasmall",children:"THEREFORE, I URGE YOU, BROTHERS, IN VIEW OF GOD'S MERCY, TO OFFER YOUR BODIES AS LIVING SACRIFICES, HOLY AND PLEASING TO GOD--THIS IS YOURN SPIRITUAL ACT OF WORSHIP."})}),R.jsx(At,{className:"subtitle",variant:"subtitle_small",children:"2025 SUMMER RETREAT"}),R.jsx(At,{className:"subtitle",variant:"subtitle_big",children:"CHANGE"}),R.jsx(At,{className:"subtitle",variant:"subtitle_small",children:"GOD'S WILL JEONGEUI YOUTH"}),R.jsxs(yt,{sx:{paddingLeft:10,paddingRight:10,boxSizing:"border-box"},children:[R.jsx(YK,{label:"학번",fullWidth:!0,margin:"normal",value:n,onChange:u=>t(u.target.value),variant:"standard"}),e&&R.jsx(At,{color:"error",mt:1,children:e}),R.jsx(pI,{variant:"contained",fullWidth:!0,sx:{mt:2,height:"32.5px",bgcolor:n?"error.main":"grey.400",color:n?"common.white":"grey.700","&:hover":{bgcolor:n?"error.dark":"grey.500"},"&.Mui-disabled":{bgcolor:"grey.400",color:"grey.700"}},onClick:c,loading:s,children:s?"":"로그인"})]}),R.jsx(yt,{sx:{position:"absolute",bottom:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:R.jsxs(At,{variant:"subtitle_extrasmall",children:["DO NOT CONFORM ANY LONGER TO THE PATTERN OF THIS WORLD, BUT BE TRANSFORMED BY THE RENEWING OF YOUR MIND, THEN YOU WILL BE ABLE TO TEST AND APPROVE WHAT GOD'S WILL IS--HIS GOOD, PLEASING AND PERFECT WILL. ","[","ROMANS 12:1-2","]"]})})]})}function bh({children:n}){const{user:t,loading:e}=Jw(),i=Bd();return M.useEffect(()=>{!e&&!t&&i("/signin")},[t,e,i]),e?R.jsx("div",{children:"Loading..."}):R.jsx(R.Fragment,{children:t?n:null})}const Xnt=bw({components:{MuiTextField:{defaultProps:{variant:"standard"}},MuiInput:{styleOverrides:{root:{color:"white","&:before":{borderBottom:"1px solid #fff"},"&:hover:not(.Mui-disabled):before":{borderBottom:"1px solid #ddd"},"&:after":{borderBottom:"2px solid #FAC656"}}}},MuiInputLabel:{styleOverrides:{root:{color:"#fff","&.Mui-focused":{color:"#FAC656"}}}}},typography:{body1:{fontSize:"20px",fontWeight:600,fontFamily:'"Pretendard", sans-serif',color:"#FAC656"},body2:{fontWeight:600,fontFamily:'"Pretendard", sans-serif',color:"#FAC656"},subtitle1:{fontSize:"18px",fontWeight:700,fontFamily:'"Pretendard", sans-serif'},announcePreviewTitle:{fontSize:"16px",fontWeight:800,fontFamily:'"Pretendard", sans-serif',color:"#00002F"},announcePreviewContent:{fontSize:"14px",fontWeight:400,fontFamily:'"Pretendard", sans-serif',color:"#00002F",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineClamp:2,boxOrient:"vertical",display:"-webkit-box"},blacksmall:{fontSize:"14px",color:"#F5F5DC",fontFamily:'"Pretendard", sans-serif',lineHeight:"1.1"},ad_title:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"17.5px",fontWeight:900,fontFamily:'"Pretendard", sans-serif'},ad_description:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"11.7px",fontWeight:600,fontFamily:'"Pretendard", sans-serif'},toDetail:{fontSize:"12px",color:"grey",fontWeight:"bold",fontFamily:'"Pretendard", sans-serif'},boardPreview_title:{color:"#000",fontSize:"14px",fontFamily:'"Pretendard", sans-serif'},boardPreview_detail:{fontSize:"12px",color:"gray",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",lineClamp:1,boxOrient:"vertical",display:"-webkit-box",fontFamily:' "Pretendard", sans-serif'},boardPreview_author:{fontSize:"12px",color:"gray",overflow:"hidden",fontFamily:'"Pretendard", sans-serif'},boardTitle:{fontSize:"16px",fontWeight:900,color:"#FAC656",fontFamily:'"Pretendard", sans-serif'},boardContent:{fontSize:"14px",whiteSpace:"pre-line",textOverflow:"ellipsis",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineClamp:3,boxOrient:"vertical",display:"-webkit-box",overflow:"hidden",color:"#FFF",fontFamily:'"Pretendard", sans-serif'},boardMetadata:{fontSize:"14px",color:"#DADADA"},subtitle_extrasmall:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"14px",fontWeight:"bold",lineHeight:1},subtitle_small:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"20px",fontWeight:"bold",lineHeight:1},subtitle_big:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"64px",fontWeight:"bold",lineHeight:1},header:{color:"#FAC656",fontSize:"32px",fontWeight:"bold",lineHeight:1,fontFamily:'"Staatliches", "Pretendard", sans-serif'},header_small:{color:"#FAC656",fontSize:"12px",fontWeight:"bold",lineHeight:1,fontStretch:"57%",fontFamily:'"Staatliches", "Pretendard", sans-serif'},footerinfo:{color:"#FFF",fontSize:"2.2vw",fontFamily:'"Pretendard", sans-serif'},label:{fontSize:"16px",backgroundColor:"gray",paddingLeft:6,paddingRight:6,borderRadius:12,color:"#FFF",fontFamily:'"Pretendard", sans-serif'},credit_category:{color:"#FFF",fontFamily:'"Pretendard", sans-serif',fontWeight:500,fontSize:"18px"},credit_body1:{color:"#FAC656",fontFamily:'"Pretendard", sans-serif',fontWeight:700,fontSize:"18px"},credit_body2:{color:"gray",fontFamily:'"Pretendard", sans-serif',fontWeight:400,fontSize:"16px"},success:{fontSize:"14px",fontFamily:'"Pretendard", sans-serif',fontWeight:400,color:"green"},group_member:{fontSize:"14px",color:"#000",fontFamily:'"Pretendard", sans-serif',fontWeight:400},course_title:{color:"#FFFFFF",fontSize:16,fontFamily:'"Pretendard", sans-serif',fontWeight:600},course_info:{color:"rgb(203, 203, 203)",fontSize:14,fontFamily:'"Pretendard", sans-serif',fontWeight:400},course_detail_btn_text:{color:"rgb(255, 255, 255)",fontSize:12,fontFamily:'"Pretendard", sans-serif',fontWeight:400},course_detail_title:{color:"#FFF",fontSize:16,fontFamily:'"Pretendard", sans-serif',fontWeight:600},syllabus_detail_header:{color:"#FFF",fontSize:16,fontFamily:'"Pretendard", sans-serif',fontWeight:600},syllabus_detail_paragraph:{color:"#FFF",fontSize:14,fontFamily:'"Pretendard", sans-serif',fontWeight:400,textAlign:"left"}}}),HV=Hn(R.jsx("path",{d:"M12 3 4 9v12h5v-7h6v7h5V9z"}));function Qnt(){const n=Bd();return R.jsx(yt,{className:"leftBottom_floating fully_centeralize homebutton",onClick:()=>{n("/")},children:R.jsx(HV,{fontSize:"large",sx:{color:"#1a1c21"}})})}function Znt(){const[n,t]=M.useState([]),[e,i]=M.useState([]),[r,s]=M.useState(!0);M.useEffect(()=>{(async()=>{s(!0);const u=xa(Xs(Es,"pray_board"),Zw("created_at")),d=await Qs(u);if(d.empty)console.log("[Warning]No Prays");else{const y=d.docs.map(b=>b.data());t(y)}const f=xa(Xs(Es,"users")),m=await Qs(f);if(!m.empty){const y=m.docs.map(b=>b.data());i(y)}s(!1)})()},[]);const o=c=>{const d=gi.now().seconds-c.seconds;return d<60?`${Math.floor(d)}초 전`:d<3600?`${Math.floor(d/60)}분 전`:`${Math.floor(d/86400)}일 전`};return R.jsxs(yt,{className:"wrapper",children:[R.jsx(Ud,{subtitle:"기도제목"}),R.jsx(sC,{ad_id:"outreach"}),r?R.jsx(Rm,{variant:"rectangular",animation:"wave",className:"fullWidth",sx:{mt:2,minHeight:"300px",borderRadius:3}}):R.jsx(yt,{className:"fullWidth",sx:{mt:2},children:n==null?void 0:n.map(c=>{var u;return R.jsxs(yt,{className:"boardCard",children:[R.jsx(At,{variant:"boardTitle",children:c.title}),R.jsx(At,{variant:"boardContent",children:c.content}),R.jsx(yt,{sx:{mt:1},children:R.jsxs(At,{variant:"boardMetadata",children:[o(c.created_at)," | ",c.author_id,"(",(u=e.filter(d=>d.student_id==c.author_id)[0])==null?void 0:u.name,")"]})})]},`pray_${c.created_at}`)})}),R.jsx(Qnt,{})]})}function Jnt({boardType:n="자세히 보기"}){return R.jsx(yt,{className:"wrapper",children:R.jsx(Ud,{subtitle:n})})}const tit="modulepreload",eit=function(n){return"/"+n},mN={},Q_=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(e.map(d=>{if(d=eit(d),d in mN)return;mN[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":tit,f||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((b,E)=>{y.addEventListener("load",b),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};var Xy={};Xy.d=(n,t)=>{for(var e in t)Xy.o(t,e)&&!Xy.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Xy.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var fe=globalThis.pdfjsLib={};Xy.d(fe,{AbortException:()=>Kd,AnnotationEditorLayer:()=>yR,AnnotationEditorParamsType:()=>ue,AnnotationEditorType:()=>be,AnnotationEditorUIManager:()=>Od,AnnotationLayer:()=>Jrt,AnnotationMode:()=>jc,ColorPicker:()=>VS,DOMSVGFactory:()=>Ak,DrawLayer:()=>ER,FeatureTest:()=>kr,GlobalWorkerOptions:()=>Vl,ImageKind:()=>TE,InvalidPDFException:()=>qV,MissingPDFException:()=>Wd,OPS:()=>oa,OutputScale:()=>uC,PDFDataRangeTransport:()=>j6,PDFDateString:()=>yk,PDFWorker:()=>Ep,PasswordResponses:()=>sit,PermissionFlag:()=>rit,PixelsPerInch:()=>Ou,RenderingCancelledException:()=>mk,TextLayer:()=>VC,UnexpectedResponseException:()=>i1,Util:()=>Yt,VerbosityLevel:()=>t1,XfaLayer:()=>H6,build:()=>Drt,createValidAbsoluteUrl:()=>cit,fetchData:()=>s1,getDocument:()=>Art,getFilenameFromUrl:()=>vit,getPdfFilenameFromUrl:()=>bit,getXfaPageViewport:()=>_it,isDataScheme:()=>a1,isPdfFile:()=>gk,noContextMenu:()=>Js,normalizeUnicode:()=>mit,setLayerDimensions:()=>Dd,shadow:()=>Ne,version:()=>Mrt});const gr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$V=[1,0,0,1,0,0],aC=[.001,0,0,.001,0,0],nit=1e7,Gx=1.35,fs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},jc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iit="pdfjs_internal_editor_",be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ue={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},rit={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},or={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},TE={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},wi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},dy={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t1={ERRORS:0,WARNINGS:1,INFOS:5},oa={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},sit={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let e1=t1.WARNINGS;function ait(n){Number.isInteger(n)&&(e1=n)}function oit(){return e1}function n1(n){e1>=t1.INFOS&&console.log(`Info: ${n}`)}function Ae(n){e1>=t1.WARNINGS&&console.log(`Warning: ${n}`)}function In(n){throw new Error(n)}function Ci(n,t){n||In(t)}function lit(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cit(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=pit(n)}catch{}}const i=t?new URL(n,t):new URL(n);if(lit(i))return i}catch{}return null}function Ne(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Bu=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class oC extends Bu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class lC extends Bu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class qV extends Bu{constructor(t){super(t,"InvalidPDFException")}}class Wd extends Bu{constructor(t){super(t,"MissingPDFException")}}class i1 extends Bu{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class uit extends Bu{constructor(t){super(t,"FormatError")}}class Kd extends Bu{constructor(t){super(t,"AbortException")}}function GV(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&In("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const s=Math.min(r+e,t),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function r1(n){typeof n!="string"&&In("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function hit(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function fk(n){const t=Object.create(null);for(const[e,i]of n)t[e]=i;return t}function dit(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function fit(){try{return new Function(""),!0}catch{return!1}}class kr{static get isLittleEndian(){return Ne(this,"isLittleEndian",dit())}static get isEvalSupported(){return Ne(this,"isEvalSupported",fit())}static get isOffscreenCanvasSupported(){return Ne(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ne(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ne(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ne(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Wx=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var $l,CE,cC;class Yt{static makeHexColor(t,e,i){return`#${Wx[t]}${Wx[e]}${Wx[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[i,r]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,s=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[r,s]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],c=(i+o)/2,u=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,d=c+u||1,f=c-u||1;return[Math.sqrt(d),Math.sqrt(f)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(t,e,i,r,s,o,c,u,d){return d?(d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,u)):d=[Math.min(t,c),Math.min(e,u),Math.max(t,c),Math.max(e,u)],$(this,$l,cC).call(this,t,i,s,c,e,r,o,u,3*(-t+3*(i-s)+c),6*(t-2*i+s),3*(i-t),d),$(this,$l,cC).call(this,t,i,s,c,e,r,o,u,3*(-e+3*(r-o)+u),6*(e-2*r+o),3*(r-e),d),d}}$l=new WeakSet,CE=function(t,e,i,r,s,o,c,u,d,f){if(d<=0||d>=1)return;const m=1-d,y=d*d,b=y*d,E=m*(m*(m*t+3*d*e)+3*y*i)+b*r,w=m*(m*(m*s+3*d*o)+3*y*c)+b*u;f[0]=Math.min(f[0],E),f[1]=Math.min(f[1],w),f[2]=Math.max(f[2],E),f[3]=Math.max(f[3],w)},cC=function(t,e,i,r,s,o,c,u,d,f,m,y){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&$(this,$l,CE).call(this,t,e,i,r,s,o,c,u,-m/f,y);return}const b=f**2-4*m*d;if(b<0)return;const E=Math.sqrt(b),w=2*d;$(this,$l,CE).call(this,t,e,i,r,s,o,c,u,(-f+E)/w,y),$(this,$l,CE).call(this,t,e,i,r,s,o,c,u,(-f-E)/w,y)},K(Yt,$l);function pit(n){return decodeURIComponent(escape(n))}let Kx=null,gN=null;function mit(n){return Kx||(Kx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gN=new Map([["ﬅ","ſt"]])),n.replaceAll(Kx,(t,e,i)=>e?e.normalize("NFKC"):gN.get(i))}function git(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let t=0;t<32;t++)n[t]=Math.floor(Math.random()*255);return GV(n)}const pk="pdfjs_internal_id_",ll={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function yit(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(GV(n))}const hl="http://www.w3.org/2000/svg",Rh=class Rh{};re(Rh,"CSS",96),re(Rh,"PDF",72),re(Rh,"PDF_TO_CSS_UNITS",Rh.CSS/Rh.PDF);let Ou=Rh;async function s1(n,t="text"){if(xy(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class i0{constructor({viewBox:t,scale:e,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=r,this.offsetY=s;const c=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let d,f,m,y;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,f=0,m=0,y=1;break;case 90:d=0,f=1,m=1,y=0;break;case 270:d=0,f=-1,m=-1,y=0;break;case 0:d=1,f=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,y=-y);let b,E,w,T;d===0?(b=Math.abs(u-t[1])*e+r,E=Math.abs(c-t[0])*e+s,w=(t[3]-t[1])*e,T=(t[2]-t[0])*e):(b=Math.abs(c-t[0])*e+r,E=Math.abs(u-t[1])*e+s,w=(t[2]-t[0])*e,T=(t[3]-t[1])*e),this.transform=[d*e,f*e,m*e,y*e,b-d*e*c-m*e*u,E-f*e*c-y*e*u],this.width=w,this.height=T}get rawDims(){const{viewBox:t}=this;return Ne(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new i0({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){return Yt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Yt.applyTransform([t[0],t[1]],this.transform),i=Yt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return Yt.applyInverseTransform([t,e],this.transform)}}class mk extends Bu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function a1(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function gk(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function vit(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function bit(n,t="document.pdf"){if(typeof n!="string")return t;if(a1(n))return Ae('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||t}class yN{constructor(){re(this,"started",Object.create(null));re(this,"times",[])}time(t){t in this.started&&Ae(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ae(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}}function xy(n,t){try{const{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function Js(n){n.preventDefault()}function vN(n){console.log("Deprecated API usage: "+n)}var _v;class yk{static toDateObject(t){if(!t||typeof t!="string")return null;g(this,_v)||H(this,_v,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g(this,_v).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(o+=f,c+=m):d==="+"&&(o-=f,c-=m),new Date(Date.UTC(i,r,s,o,c,u))}}_v=new WeakMap,K(yk,_v);function _it(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new i0({viewBox:s,scale:t,rotation:e})}function vk(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ae(`Not a valid color format: "${n}"`),[0,0,0])}function Eit(n){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,vk(i))}t.remove()}function zn(n){const{a:t,b:e,c:i,d:r,e:s,f:o}=n.getTransform();return[t,e,i,r,s,o]}function cl(n){const{a:t,b:e,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[t,e,i,r,s,o]}function Dd(n,t,e=!1,i=!0){if(t instanceof i0){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:o}=n,c=kr.isCSSRoundSupported,u=`var(--scale-factor) * ${r}px`,d=`var(--scale-factor) * ${s}px`,f=c?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,m=c?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!e||t.rotation%180===0?(o.width=f,o.height=m):(o.width=m,o.height=f)}i&&n.setAttribute("data-main-rotation",t.rotation)}class uC{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Uc,Mh,la,Dh,Ev,Sv,HS,WV,Pr,KV,YV,RE,XV,dC;const dl=class dl{constructor(t){K(this,Pr);K(this,Uc,null);K(this,Mh,null);K(this,la);K(this,Dh,null);K(this,Ev,null);H(this,la,t),g(dl,Sv)||H(dl,Sv,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=H(this,Uc,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=g(this,la)._uiManager._signal;t.addEventListener("contextmenu",Js,{signal:e}),t.addEventListener("pointerdown",$(dl,HS,WV),{signal:e});const i=H(this,Dh,document.createElement("div"));i.className="buttons",t.append(i);const r=g(this,la).toolbarPosition;if(r){const{style:s}=t,o=g(this,la)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return $(this,Pr,XV).call(this),t}get div(){return g(this,Uc)}hide(){var t;g(this,Uc).classList.add("hidden"),(t=g(this,Mh))==null||t.hideDropdown()}show(){var t;g(this,Uc).classList.remove("hidden"),(t=g(this,Ev))==null||t.shown()}async addAltText(t){const e=await t.render();$(this,Pr,RE).call(this,e),g(this,Dh).prepend(e,g(this,Pr,dC)),H(this,Ev,t)}addColorPicker(t){H(this,Mh,t);const e=t.renderButton();$(this,Pr,RE).call(this,e),g(this,Dh).prepend(e,g(this,Pr,dC))}remove(){var t;g(this,Uc).remove(),(t=g(this,Mh))==null||t.destroy(),H(this,Mh,null)}};Uc=new WeakMap,Mh=new WeakMap,la=new WeakMap,Dh=new WeakMap,Ev=new WeakMap,Sv=new WeakMap,HS=new WeakSet,WV=function(t){t.stopPropagation()},Pr=new WeakSet,KV=function(t){g(this,la)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},YV=function(t){g(this,la)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},RE=function(t){const e=g(this,la)._uiManager._signal;t.addEventListener("focusin",$(this,Pr,KV).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",$(this,Pr,YV).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Js,{signal:e})},XV=function(){const{editorType:t,_uiManager:e}=g(this,la),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",g(dl,Sv)[t]),$(this,Pr,RE).call(this,i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),g(this,Dh).append(i)},dC=function(){const t=document.createElement("div");return t.className="divider",t},K(dl,HS),K(dl,Sv,null);let hC=dl;var wv,Oh,Lh,Nu,QV,ZV,JV;class Sit{constructor(t){K(this,Nu);K(this,wv,null);K(this,Oh,null);K(this,Lh);H(this,Lh,t)}show(t,e,i){const[r,s]=$(this,Nu,ZV).call(this,e,i),{style:o}=g(this,Oh)||H(this,Oh,$(this,Nu,QV).call(this));t.append(g(this,Oh)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Oh).remove()}}wv=new WeakMap,Oh=new WeakMap,Lh=new WeakMap,Nu=new WeakSet,QV=function(){const t=H(this,Oh,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Js,{signal:g(this,Lh)._signal});const e=H(this,wv,document.createElement("div"));return e.className="buttons",t.append(e),$(this,Nu,JV).call(this),t},ZV=function(t,e){let i=0,r=0;for(const s of t){const o=s.y+s.height;if(o<i)continue;const c=s.x+(e?s.width:0);if(o>i){r=c,i=o;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,i]},JV=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=g(this,Lh)._signal;t.addEventListener("contextmenu",Js,{signal:i}),t.addEventListener("click",()=>{g(this,Lh).highlightSelection("floating_button")},{signal:i}),g(this,wv).append(t)};function LS(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}function wit(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var $S;class Ait{constructor(){K(this,$S,0)}get id(){return`${iit}${xr(this,$S)._++}`}}$S=new WeakMap;var Tp,Av,cr,Cp,IE;const Uk=class Uk{constructor(){K(this,Cp);K(this,Tp,git());K(this,Av,0);K(this,cr,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ne(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:s}=t;return $(this,Cp,IE).call(this,`${e}_${i}_${r}_${s}`,t)}async getFromUrl(t){return $(this,Cp,IE).call(this,t,t)}async getFromBlob(t,e){const i=await e;return $(this,Cp,IE).call(this,t,i)}async getFromId(t){g(this,cr)||H(this,cr,new Map);const e=g(this,cr).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){g(this,cr)||H(this,cr,new Map);let i=g(this,cr).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${g(this,Tp)}_${xr(this,Av)._++}`,refCounter:1,isSvg:!1},g(this,cr).set(t,i),g(this,cr).set(i.id,i),i}getSvgUrl(t){const e=g(this,cr).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;g(this,cr)||H(this,cr,new Map);const e=g(this,cr).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${g(this,Tp)}_`)}};Tp=new WeakMap,Av=new WeakMap,cr=new WeakMap,Cp=new WeakSet,IE=async function(t,e){g(this,cr)||H(this,cr,new Map);let i=g(this,cr).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${g(this,Tp)}_${xr(this,Av)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await s1(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const s=Uk._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((d,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,d()},o.onload=async()=>{const m=i.svgUrl=o.result;c.src=await s?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=o.onerror=f});o.readAsDataURL(r),await u}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return g(this,cr).set(t,i),i&&g(this,cr).set(i.id,i),i};let fC=Uk;var Fi,Hc,xv,Vi;class xit{constructor(t=128){K(this,Fi,[]);K(this,Hc,!1);K(this,xv);K(this,Vi,-1);H(this,xv,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(r&&t(),g(this,Hc))return;const u={cmd:t,undo:e,post:i,type:s};if(g(this,Vi)===-1){g(this,Fi).length>0&&(g(this,Fi).length=0),H(this,Vi,0),g(this,Fi).push(u);return}if(o&&g(this,Fi)[g(this,Vi)].type===s){c&&(u.undo=g(this,Fi)[g(this,Vi)].undo),g(this,Fi)[g(this,Vi)]=u;return}const d=g(this,Vi)+1;d===g(this,xv)?g(this,Fi).splice(0,1):(H(this,Vi,d),d<g(this,Fi).length&&g(this,Fi).splice(d)),g(this,Fi).push(u)}undo(){if(g(this,Vi)===-1)return;H(this,Hc,!0);const{undo:t,post:e}=g(this,Fi)[g(this,Vi)];t(),e==null||e(),H(this,Hc,!1),H(this,Vi,g(this,Vi)-1)}redo(){if(g(this,Vi)<g(this,Fi).length-1){H(this,Vi,g(this,Vi)+1),H(this,Hc,!0);const{cmd:t,post:e}=g(this,Fi)[g(this,Vi)];t(),e==null||e(),H(this,Hc,!1)}}hasSomethingToUndo(){return g(this,Vi)!==-1}hasSomethingToRedo(){return g(this,Vi)<g(this,Fi).length-1}destroy(){H(this,Fi,null)}}Fi=new WeakMap,Hc=new WeakMap,xv=new WeakMap,Vi=new WeakMap;var qS,t6;class r0{constructor(t){K(this,qS);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=kr.platform;for(const[i,r,s={}]of t)for(const o of i){const c=o.startsWith("mac+");e&&c?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!c&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get($(this,qS,t6).call(this,e));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:c=null}}=i;c&&!c(t,e)||(r.bind(t,...o,e)(),s||(e.stopPropagation(),e.preventDefault()))}}qS=new WeakSet,t6=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const GS=class GS{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Eit(t),Ne(this,"_colors",t)}convert(t){const e=vk(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((s,o)=>s===e[o]))return GS._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Yt.makeHexColor(...e):t}};re(GS,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let pC=GS;var Rp,ss,Ai,Yi,Ip,pl,kp,ca,$c,Pp,Nh,Xa,ua,Fh,Tv,Cv,Mp,Rv,Qa,qc,Dp,Gc,Za,WS,Wc,Iv,Kc,Vh,kv,Pv,zi,ln,ml,zh,Mv,Dv,Yc,Ja,gl,Ov,Fs,Pt,kE,mC,e6,n6,PE,i6,r6,s6,gC,a6,yC,vC,o6,Tr,Lc,l6,c6,bC,u6,Ty,_C;const dp=class dp{constructor(t,e,i,r,s,o,c,u,d,f,m){K(this,Pt);K(this,Rp,new AbortController);K(this,ss,null);K(this,Ai,new Map);K(this,Yi,new Map);K(this,Ip,null);K(this,pl,null);K(this,kp,null);K(this,ca,new xit);K(this,$c,null);K(this,Pp,0);K(this,Nh,new Set);K(this,Xa,null);K(this,ua,null);K(this,Fh,new Set);K(this,Tv,!1);K(this,Cv,!1);K(this,Mp,!1);K(this,Rv,null);K(this,Qa,null);K(this,qc,null);K(this,Dp,null);K(this,Gc,!1);K(this,Za,null);K(this,WS,new Ait);K(this,Wc,!1);K(this,Iv,!1);K(this,Kc,null);K(this,Vh,null);K(this,kv,null);K(this,Pv,null);K(this,zi,be.NONE);K(this,ln,new Set);K(this,ml,null);K(this,zh,null);K(this,Mv,null);K(this,Dv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});K(this,Yc,[0,0]);K(this,Ja,null);K(this,gl,null);K(this,Ov,null);K(this,Fs,null);const y=this._signal=g(this,Rp).signal;H(this,gl,t),H(this,Ov,e),H(this,Ip,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:y}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),r._on("setpreference",this.onSetPreference.bind(this),{signal:y}),r._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:y}),$(this,Pt,i6).call(this),$(this,Pt,o6).call(this),$(this,Pt,gC).call(this),H(this,pl,s.annotationStorage),H(this,Rv,s.filterFactory),H(this,zh,o),H(this,Dp,c||null),H(this,Tv,u),H(this,Cv,d),H(this,Mp,f),H(this,Pv,m||null),this.viewParameters={realScale:Ou.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=dp.prototype,e=o=>g(o,gl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ne(this,"_keyboardManager",new r0([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&g(o,gl).contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&g(o,gl).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,i,r;(t=g(this,Fs))==null||t.resolve(),H(this,Fs,null),(e=g(this,Rp))==null||e.abort(),H(this,Rp,null),this._signal=null;for(const s of g(this,Yi).values())s.destroy();g(this,Yi).clear(),g(this,Ai).clear(),g(this,Fh).clear(),H(this,ss,null),g(this,ln).clear(),g(this,ca).destroy(),(i=g(this,Ip))==null||i.destroy(),(r=g(this,Za))==null||r.hide(),H(this,Za,null),g(this,Qa)&&(clearTimeout(g(this,Qa)),H(this,Qa,null)),g(this,Ja)&&(clearTimeout(g(this,Ja)),H(this,Ja,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return g(this,Pv)}get useNewAltTextFlow(){return g(this,Cv)}get useNewAltTextWhenAddingImage(){return g(this,Mp)}get hcmFilter(){return Ne(this,"hcmFilter",g(this,zh)?g(this,Rv).addHCMFilter(g(this,zh).foreground,g(this,zh).background):"none")}get direction(){return Ne(this,"direction",getComputedStyle(g(this,gl)).direction)}get highlightColors(){return Ne(this,"highlightColors",g(this,Dp)?new Map(g(this,Dp).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ne(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){H(this,kv,t)}editAltText(t,e=!1){var i;(i=g(this,Ip))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":H(this,Mp,e);break}}onPageChanging({pageNumber:t}){H(this,Pp,t-1)}focusMainContainer(){g(this,gl).focus()}findParent(t,e){for(const i of g(this,Yi).values()){const{x:r,y:s,width:o,height:c}=i.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=s&&e<=s+c)return i}return null}disableUserSelect(t=!1){g(this,Ov).classList.toggle("noUserSelect",t)}addShouldRescale(t){g(this,Fh).add(t)}removeShouldRescale(t){g(this,Fh).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ou.PDF_TO_CSS_UNITS;for(const e of g(this,Fh))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=e,c=e.toString(),d=$(this,Pt,kE).call(this,e).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;e.empty();const m=$(this,Pt,mC).call(this,d),y=g(this,zi)===be.NONE,b=()=>{m==null||m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:c}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(be.HIGHLIGHT,b);return}b()}addToAnnotationStorage(t){!t.isEmpty()&&g(this,pl)&&!g(this,pl).has(t.id)&&g(this,pl).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,g(this,Gc)&&(H(this,Gc,!1),$(this,Pt,PE).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of g(this,ln))if(e.div.contains(t)){H(this,Vh,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!g(this,Vh))return;const[t,e]=g(this,Vh);H(this,Vh,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){$(this,Pt,gC).call(this),$(this,Pt,yC).call(this)}removeEditListeners(){$(this,Pt,a6).call(this),$(this,Pt,vC).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of g(this,ua))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of g(this,ua))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=g(this,ss))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of g(this,ln)){const s=r.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const o of g(this,ua))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Ae(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of i){const d=await r.deserialize(u);if(!d)return;s.push(d)}const o=()=>{for(const u of s)$(this,Pt,bC).call(this,u);$(this,Pt,_C).call(this,s)},c=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(s){Ae(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,zi)!==be.NONE&&!this.isEditorHandlingKeyboard&&dp._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Gc)&&(H(this,Gc,!1),$(this,Pt,PE).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?($(this,Pt,r6).call(this),$(this,Pt,yC).call(this),$(this,Pt,Tr).call(this,{isEditing:g(this,zi)!==be.NONE,isEmpty:$(this,Pt,Ty).call(this),hasSomethingToUndo:g(this,ca).hasSomethingToUndo(),hasSomethingToRedo:g(this,ca).hasSomethingToRedo(),hasSelectedEditor:!1})):($(this,Pt,s6).call(this),$(this,Pt,vC).call(this),$(this,Pt,Tr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!g(this,ua)){H(this,ua,t);for(const e of g(this,ua))$(this,Pt,Lc).call(this,e.defaultPropertiesToUpdate)}}getId(){return g(this,WS).id}get currentLayer(){return g(this,Yi).get(g(this,Pp))}getLayer(t){return g(this,Yi).get(t)}get currentPageIndex(){return g(this,Pp)}addLayer(t){g(this,Yi).set(t.pageIndex,t),g(this,Wc)?t.enable():t.disable()}removeLayer(t){g(this,Yi).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(g(this,zi)!==t&&!(g(this,Fs)&&(await g(this,Fs).promise,!g(this,Fs)))){if(H(this,Fs,Promise.withResolvers()),H(this,zi,t),t===be.NONE){this.setEditingState(!1),$(this,Pt,c6).call(this),g(this,Fs).resolve();return}this.setEditingState(!0),await $(this,Pt,l6).call(this),this.unselectAll();for(const r of g(this,Yi).values())r.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),g(this,Fs).resolve();return}for(const r of g(this,Ai).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();g(this,Fs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==g(this,zi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(g(this,ua)){switch(t){case ue.CREATE:this.currentLayer.addNewEditor();return;case ue.HIGHLIGHT_DEFAULT_COLOR:(i=g(this,kv))==null||i.updateColor(e);break;case ue.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Mv)||H(this,Mv,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of g(this,ln))r.updateParams(t,e);for(const r of g(this,ua))r.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var s;for(const o of g(this,Ai).values())o.editorType===t&&o.show(e);(((s=g(this,Mv))==null?void 0:s.get(ue.HIGHLIGHT_SHOW_ALL))??!0)!==e&&$(this,Pt,Lc).call(this,[[ue.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(g(this,Iv)!==t){H(this,Iv,t);for(const e of g(this,Yi).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of g(this,Ai).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return g(this,Ai).get(t)}addEditor(t){g(this,Ai).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(g(this,Qa)&&clearTimeout(g(this,Qa)),H(this,Qa,setTimeout(()=>{this.focusMainContainer(),H(this,Qa,null)},0))),g(this,Ai).delete(t.id),this.unselect(t),(!t.annotationElementId||!g(this,Nh).has(t.annotationElementId))&&((e=g(this,pl))==null||e.remove(t.id))}addDeletedAnnotationElement(t){g(this,Nh).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return g(this,Nh).has(t)}removeDeletedAnnotationElement(t){g(this,Nh).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){g(this,ss)!==t&&(H(this,ss,t),t&&$(this,Pt,Lc).call(this,t.propertiesToUpdate))}updateUI(t){g(this,Pt,u6)===t&&$(this,Pt,Lc).call(this,t.propertiesToUpdate)}toggleSelected(t){if(g(this,ln).has(t)){g(this,ln).delete(t),t.unselect(),$(this,Pt,Tr).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,ln).add(t),t.select(),$(this,Pt,Lc).call(this,t.propertiesToUpdate),$(this,Pt,Tr).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of g(this,ln))e!==t&&e.unselect();g(this,ln).clear(),g(this,ln).add(t),t.select(),$(this,Pt,Lc).call(this,t.propertiesToUpdate),$(this,Pt,Tr).call(this,{hasSelectedEditor:!0})}isSelected(t){return g(this,ln).has(t)}get firstSelectedEditor(){return g(this,ln).values().next().value}unselect(t){t.unselect(),g(this,ln).delete(t),$(this,Pt,Tr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,ln).size!==0}get isEnterHandled(){return g(this,ln).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,ca).undo(),$(this,Pt,Tr).call(this,{hasSomethingToUndo:g(this,ca).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:$(this,Pt,Ty).call(this)})}redo(){g(this,ca).redo(),$(this,Pt,Tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,ca).hasSomethingToRedo(),isEmpty:$(this,Pt,Ty).call(this)})}addCommands(t){g(this,ca).add(t),$(this,Pt,Tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:$(this,Pt,Ty).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...g(this,ln)],e=()=>{for(const r of t)r.remove()},i=()=>{for(const r of t)$(this,Pt,bC).call(this,r)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=g(this,ss))==null||t.commitOrRemove()}hasSomethingToControl(){return g(this,ss)||this.hasSelection}selectAll(){for(const t of g(this,ln))t.commit();$(this,Pt,_C).call(this,g(this,Ai).values())}unselectAll(){if(!(g(this,ss)&&(g(this,ss).commitOrRemove(),g(this,zi)!==be.NONE))&&this.hasSelection){for(const t of g(this,ln))t.unselect();g(this,ln).clear(),$(this,Pt,Tr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;g(this,Yc)[0]+=t,g(this,Yc)[1]+=e;const[r,s]=g(this,Yc),o=[...g(this,ln)],c=1e3;g(this,Ja)&&clearTimeout(g(this,Ja)),H(this,Ja,setTimeout(()=>{H(this,Ja,null),g(this,Yc)[0]=g(this,Yc)[1]=0,this.addCommands({cmd:()=>{for(const u of o)g(this,Ai).has(u.id)&&u.translateInPage(r,s)},undo:()=>{for(const u of o)g(this,Ai).has(u.id)&&u.translateInPage(-r,-s)},mustExec:!1})},c));for(const u of o)u.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),H(this,Xa,new Map);for(const t of g(this,ln))g(this,Xa).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Xa))return!1;this.disableUserSelect(!1);const t=g(this,Xa);H(this,Xa,null);let e=!1;for(const[{x:r,y:s,pageIndex:o},c]of t)c.newX=r,c.newY=s,c.newPageIndex=o,e||(e=r!==c.savedX||s!==c.savedY||o!==c.savedPageIndex);if(!e)return!1;const i=(r,s,o,c)=>{if(g(this,Ai).has(r.id)){const u=g(this,Yi).get(c);u?r._setParentAndPosition(u,s,o):(r.pageIndex=c,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:c}]of t)i(r,s,o,c)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:c}]of t)i(r,s,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(g(this,Xa))for(const i of g(this,Xa).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||g(this,ln).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return g(this,ss)===t}getActive(){return g(this,ss)}getMode(){return g(this,zi)}get imageManager(){return Ne(this,"imageManager",new fC)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,f=e.rangeCount;d<f;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,f,m,y)=>({x:(f-r)/o,y:1-(d+m-i)/s,width:y/o,height:m/s});break;case"180":c=(d,f,m,y)=>({x:1-(d+m-i)/s,y:1-(f+y-r)/o,width:m/s,height:y/o});break;case"270":c=(d,f,m,y)=>({x:1-(f+y-r)/o,y:(d-i)/s,width:y/o,height:m/s});break;default:c=(d,f,m,y)=>({x:(d-i)/s,y:(f-r)/o,width:m/s,height:y/o});break}const u=[];for(let d=0,f=e.rangeCount;d<f;d++){const m=e.getRangeAt(d);if(!m.collapsed)for(const{x:y,y:b,width:E,height:w}of m.getClientRects())E===0||w===0||u.push(c(y,b,E,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(g(this,kp)||H(this,kp,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=g(this,kp))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=g(this,kp))==null?void 0:r.get(t.data.id);if(!e)return;const i=g(this,pl).getRawValue(e);i&&(g(this,zi)===be.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};Rp=new WeakMap,ss=new WeakMap,Ai=new WeakMap,Yi=new WeakMap,Ip=new WeakMap,pl=new WeakMap,kp=new WeakMap,ca=new WeakMap,$c=new WeakMap,Pp=new WeakMap,Nh=new WeakMap,Xa=new WeakMap,ua=new WeakMap,Fh=new WeakMap,Tv=new WeakMap,Cv=new WeakMap,Mp=new WeakMap,Rv=new WeakMap,Qa=new WeakMap,qc=new WeakMap,Dp=new WeakMap,Gc=new WeakMap,Za=new WeakMap,WS=new WeakMap,Wc=new WeakMap,Iv=new WeakMap,Kc=new WeakMap,Vh=new WeakMap,kv=new WeakMap,Pv=new WeakMap,zi=new WeakMap,ln=new WeakMap,ml=new WeakMap,zh=new WeakMap,Mv=new WeakMap,Dv=new WeakMap,Yc=new WeakMap,Ja=new WeakMap,gl=new WeakMap,Ov=new WeakMap,Fs=new WeakMap,Pt=new WeakSet,kE=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},mC=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of g(this,Yi).values())if(i.hasTextLayer(t))return i;return null},e6=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=$(this,Pt,kE).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(g(this,Za)||H(this,Za,new Sit(this)),g(this,Za).show(i,r,this.direction==="ltr"))},n6=function(){var s,o,c;const t=document.getSelection();if(!t||t.isCollapsed){g(this,ml)&&((s=g(this,Za))==null||s.hide(),H(this,ml,null),$(this,Pt,Tr).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===g(this,ml))return;const r=$(this,Pt,kE).call(this,t).closest(".textLayer");if(!r){g(this,ml)&&((o=g(this,Za))==null||o.hide(),H(this,ml,null),$(this,Pt,Tr).call(this,{hasSelectedText:!1}));return}if((c=g(this,Za))==null||c.hide(),H(this,ml,e),$(this,Pt,Tr).call(this,{hasSelectedText:!0}),!(g(this,zi)!==be.HIGHLIGHT&&g(this,zi)!==be.NONE)&&(g(this,zi)===be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),H(this,Gc,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=g(this,zi)===be.HIGHLIGHT?$(this,Pt,mC).call(this,r):null;u==null||u.toggleDrawing();const d=new AbortController,f=this.combinedSignal(d),m=y=>{y.type==="pointerup"&&y.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),y.type==="pointerup"&&$(this,Pt,PE).call(this,"main_toolbar"))};window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("blur",m,{signal:f})}},PE=function(t=""){g(this,zi)===be.HIGHLIGHT?this.highlightSelection(t):g(this,Tv)&&$(this,Pt,e6).call(this)},i6=function(){document.addEventListener("selectionchange",$(this,Pt,n6).bind(this),{signal:this._signal})},r6=function(){if(g(this,qc))return;H(this,qc,new AbortController);const t=this.combinedSignal(g(this,qc));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},s6=function(){var t;(t=g(this,qc))==null||t.abort(),H(this,qc,null)},gC=function(){if(g(this,Kc))return;H(this,Kc,new AbortController);const t=this.combinedSignal(g(this,Kc));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},a6=function(){var t;(t=g(this,Kc))==null||t.abort(),H(this,Kc,null)},yC=function(){if(g(this,$c))return;H(this,$c,new AbortController);const t=this.combinedSignal(g(this,$c));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},vC=function(){var t;(t=g(this,$c))==null||t.abort(),H(this,$c,null)},o6=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Tr=function(t){Object.entries(t).some(([i,r])=>g(this,Dv)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Dv),t)}),g(this,zi)===be.HIGHLIGHT&&t.hasSelectedEditor===!1&&$(this,Pt,Lc).call(this,[[ue.HIGHLIGHT_FREE,!0]]))},Lc=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},l6=async function(){if(!g(this,Wc)){H(this,Wc,!0);const t=[];for(const e of g(this,Yi).values())t.push(e.enable());await Promise.all(t);for(const e of g(this,Ai).values())e.enable()}},c6=function(){if(this.unselectAll(),g(this,Wc)){H(this,Wc,!1);for(const t of g(this,Yi).values())t.disable();for(const t of g(this,Ai).values())t.disable()}},bC=function(t){const e=g(this,Yi).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},u6=function(){let t=null;for(t of g(this,ln));return t},Ty=function(){if(g(this,Ai).size===0)return!0;if(g(this,Ai).size===1)for(const t of g(this,Ai).values())return t.isEmpty();return!1},_C=function(t){for(const e of g(this,ln))e.unselect();g(this,ln).clear();for(const e of t)e.isEmpty()||(g(this,ln).add(e),e.select());$(this,Pt,Tr).call(this,{hasSelectedEditor:this.hasSelection})},re(dp,"TRANSLATE_SMALL",1),re(dp,"TRANSLATE_BIG",10);let Od=dp;var Bi,to,ha,Op,eo,as,Lp,no,Br,yl,Bh,io,Xc,Aa,Cy,ME;const Cr=class Cr{constructor(t){K(this,Aa);K(this,Bi,null);K(this,to,!1);K(this,ha,null);K(this,Op,null);K(this,eo,null);K(this,as,null);K(this,Lp,!1);K(this,no,null);K(this,Br,null);K(this,yl,null);K(this,Bh,null);K(this,io,!1);H(this,Br,t),H(this,io,t._uiManager.useNewAltTextFlow),g(Cr,Xc)||H(Cr,Xc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Cr._l10n??(Cr._l10n=t)}async render(){const t=H(this,ha,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=H(this,Op,document.createElement("span"));t.append(e),g(this,io)?(t.classList.add("new"),t.setAttribute("data-l10n-id",g(Cr,Xc).missing),e.setAttribute("data-l10n-id",g(Cr,Xc)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=g(this,Br)._uiManager._signal;t.addEventListener("contextmenu",Js,{signal:i}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),g(this,Br)._uiManager.editAltText(g(this,Br)),g(this,io)&&g(this,Br)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Aa,Cy)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(H(this,Lp,!0),r(s))},{signal:i}),await $(this,Aa,ME).call(this),t}finish(){g(this,ha)&&(g(this,ha).focus({focusVisible:g(this,Lp)}),H(this,Lp,!1))}isEmpty(){return g(this,io)?g(this,Bi)===null:!g(this,Bi)&&!g(this,to)}hasData(){return g(this,io)?g(this,Bi)!==null||!!g(this,yl):this.isEmpty()}get guessedText(){return g(this,yl)}async setGuessedText(t){g(this,Bi)===null&&(H(this,yl,t),H(this,Bh,await Cr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),$(this,Aa,ME).call(this))}toggleAltTextBadge(t=!1){var e;if(!g(this,io)||g(this,Bi)){(e=g(this,no))==null||e.remove(),H(this,no,null);return}if(!g(this,no)){const i=H(this,no,document.createElement("div"));i.className="noAltTextBadge",g(this,Br).div.append(i)}g(this,no).classList.toggle("hidden",!t)}serialize(t){let e=g(this,Bi);return!t&&g(this,yl)===e&&(e=g(this,Bh)),{altText:e,decorative:g(this,to),guessedText:g(this,yl),textWithDisclaimer:g(this,Bh)}}get data(){return{altText:g(this,Bi),decorative:g(this,to)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(H(this,yl,i),H(this,Bh,r)),!(g(this,Bi)===t&&g(this,to)===e)&&(s||(H(this,Bi,t),H(this,to,e)),$(this,Aa,ME).call(this))}toggle(t=!1){g(this,ha)&&(!t&&g(this,as)&&(clearTimeout(g(this,as)),H(this,as,null)),g(this,ha).disabled=!t)}shown(){g(this,Br)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Aa,Cy)}})}destroy(){var t,e;(t=g(this,ha))==null||t.remove(),H(this,ha,null),H(this,Op,null),H(this,eo,null),(e=g(this,no))==null||e.remove(),H(this,no,null)}};Bi=new WeakMap,to=new WeakMap,ha=new WeakMap,Op=new WeakMap,eo=new WeakMap,as=new WeakMap,Lp=new WeakMap,no=new WeakMap,Br=new WeakMap,yl=new WeakMap,Bh=new WeakMap,io=new WeakMap,Xc=new WeakMap,Aa=new WeakSet,Cy=function(){return g(this,Bi)&&"added"||g(this,Bi)===null&&this.guessedText&&"review"||"missing"},ME=async function(){var r,s,o;const t=g(this,ha);if(!t)return;if(g(this,io)){if(t.classList.toggle("done",!!g(this,Bi)),t.setAttribute("data-l10n-id",g(Cr,Xc)[g(this,Aa,Cy)]),(r=g(this,Op))==null||r.setAttribute("data-l10n-id",g(Cr,Xc)[`${g(this,Aa,Cy)}-label`]),!g(this,Bi)){(s=g(this,eo))==null||s.remove();return}}else{if(!g(this,Bi)&&!g(this,to)){t.classList.remove("done"),(o=g(this,eo))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=g(this,eo);if(!e){H(this,eo,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${g(this,Br).id}`;const c=100,u=g(this,Br)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(g(this,as)),H(this,as,null)},{once:!0}),t.addEventListener("mouseenter",()=>{H(this,as,setTimeout(()=>{H(this,as,null),g(this,eo).classList.add("show"),g(this,Br)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:u}),t.addEventListener("mouseleave",()=>{var d;g(this,as)&&(clearTimeout(g(this,as)),H(this,as,null)),(d=g(this,eo))==null||d.classList.remove("show")},{signal:u})}g(this,to)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=g(this,Bi)),e.parentNode||t.append(e);const i=g(this,Br).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},K(Cr,Xc,null),re(Cr,"_l10n",null);let NS=Cr;var jh,da,Fn,Np,Uh,Xi,Hh,Qc,Lv,$h,Zc,Nv,qh,vl,ro,Fp,Vp,Vs,Fv,KS,Se,EC,Vv,SC,wC,h6,d6,AC,xC,TC,f6,CC,p6,m6,g6,RC,Ry;const nn=class nn{constructor(t){K(this,Se);K(this,jh,null);K(this,da,null);K(this,Fn,null);K(this,Np,!1);K(this,Uh,!1);K(this,Xi,null);K(this,Hh,null);K(this,Qc,null);K(this,Lv,"");K(this,$h,!1);K(this,Zc,null);K(this,Nv,!1);K(this,qh,!1);K(this,vl,!1);K(this,ro,null);K(this,Fp,0);K(this,Vp,0);K(this,Vs,null);re(this,"_editToolbar",null);re(this,"_initialOptions",Object.create(null));re(this,"_initialData",null);re(this,"_isVisible",!0);re(this,"_uiManager",null);re(this,"_focusEventsAllowed",!0);K(this,Fv,!1);K(this,KS,nn._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=nn.prototype._resizeWithKeyboard,e=Od.TRANSLATE_SMALL,i=Od.TRANSLATE_BIG;return Ne(this,"_resizerKeyboardManager",new r0([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],nn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ne(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Tit({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(nn._l10n??(nn._l10n=t),nn._l10nResizer||(nn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),nn._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);nn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){In("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Fv)}set _isDraggable(t){var e;H(this,Fv,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,KS)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):$(this,Se,Ry).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(g(this,$h)?H(this,$h,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/o,this.fixAndSetPosition()}translate(t,e){$(this,Se,EC).call(this,this.parentDimensions,t,e)}translateInPage(t,e){g(this,Zc)||H(this,Zc,[this.x,this.y]),$(this,Se,EC).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){g(this,Zc)||H(this,Zc,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[c,u]=this.getBaseTranslation();s+=c,o+=u,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,Zc)&&(g(this,Zc)[0]!==this.x||g(this,Zc)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=nn,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:r,y:s,width:o,height:c}=this;if(o*=e,c*=i,r*=e,s*=i,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-o,r)),s=Math.max(0,Math.min(i-c,s));break;case 90:r=Math.max(0,Math.min(e-c,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(e,Math.max(o,r)),s=Math.min(i,Math.max(c,s));break;case 270:r=Math.min(e,Math.max(c,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=e,this.y=s/=i;const[u,d]=this.getBaseTranslation();r+=u,s+=d;const{style:f}=this.div;f.left=`${(100*r).toFixed(2)}%`,f.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return $(i=nn,Vv,SC).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return $(i=nn,Vv,SC).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,g(this,Uh)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),s=!g(this,Uh)&&e.endsWith("%");if(r&&s)return;const[o,c]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!g(this,Uh)&&!s&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=g(this,Fn))==null||t.finish()}async addEditToolbar(){return this._editToolbar||g(this,qh)?this._editToolbar:(this._editToolbar=new hC(this),this.div.append(this._editToolbar.render()),g(this,Fn)&&await this._editToolbar.addAltText(g(this,Fn)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=g(this,Fn))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Fn)||(NS.initialize(nn._l10n),H(this,Fn,new NS(this)),g(this,jh)&&(g(this,Fn).data=g(this,jh),H(this,jh,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=g(this,Fn))==null?void 0:t.data}set altTextData(t){g(this,Fn)&&(g(this,Fn).data=t)}get guessedAltText(){var t;return(t=g(this,Fn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=g(this,Fn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=g(this,Fn))==null?void 0:e.serialize(t)}hasAltText(){return!!g(this,Fn)&&!g(this,Fn).isEmpty()}hasAltTextData(){var t;return((t=g(this,Fn))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Np)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),$(this,Se,CC).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),LS(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=kr.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(H(this,$h,!0),this._isDraggable){$(this,Se,f6).call(this,t);return}$(this,Se,TC).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,ro)&&clearTimeout(g(this,ro)),H(this,ro,setTimeout(()=>{var t;H(this,ro,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[c,u]=this.pageTranslation,d=t/r,f=e/r,m=this.x*s,y=this.y*o,b=this.width*s,E=this.height*o;switch(i){case 0:return[m+d+c,o-y-f-E+u,m+d+b+c,o-y-f+u];case 90:return[m+f+c,o-y+d+u,m+f+E+c,o-y+d+b+u];case 180:return[m-d-b+c,o-y+f+u,m-d+c,o-y+f+E+u];case 270:return[m-f-E+c,o-y-d-b+u,m-f+c,o-y-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,s,o]=t,c=s-i,u=o-r;switch(this.rotation){case 0:return[i,e-o,c,u];case 90:return[i,e-r,u,c];case 180:return[s,e-r,c,u];case 270:return[s,e-o,u,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){H(this,qh,!0)}disableEditMode(){H(this,qh,!1)}isInEditMode(){return g(this,qh)}shouldGetKeyboardEvents(){return g(this,vl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){$(this,Se,CC).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){In("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,H(r,jh,t.accessibilityData);const[s,o]=r.pageDimensions,[c,u,d,f]=r.getRectInCurrentCoords(t.rect,o);return r.x=c/s,r.y=u/o,r.width=d/s,r.height=f/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=g(this,Qc))==null||t.abort(),H(this,Qc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,ro)&&(clearTimeout(g(this,ro)),H(this,ro,null)),$(this,Se,Ry).call(this),this.removeEditToolbar(),g(this,Vs)){for(const e of g(this,Vs).values())clearTimeout(e);H(this,Vs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&($(this,Se,h6).call(this),g(this,Xi).classList.remove("hidden"),LS(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),H(this,Hh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=g(this,Xi).children;if(!g(this,da)){H(this,da,Array.from(e));const o=$(this,Se,p6).bind(this),c=$(this,Se,m6).bind(this),u=this._uiManager._signal;for(const d of g(this,da)){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:u}),d.addEventListener("blur",c,{signal:u}),d.addEventListener("focus",$(this,Se,g6).bind(this,f),{signal:u}),d.setAttribute("data-l10n-id",nn._l10nResizer[f])}}const i=g(this,da)[0];let r=0;for(const o of e){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(g(this,da).length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)g(this,Xi).append(g(this,Xi).firstChild);else if(s>r)for(let c=0;c<s-r;c++)g(this,Xi).firstChild.before(g(this,Xi).lastChild);let o=0;for(const c of e){const d=g(this,da)[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",nn._l10nResizer[d])}}$(this,Se,RC).call(this,0),H(this,vl,!0),g(this,Xi).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){g(this,vl)&&$(this,Se,xC).call(this,g(this,Lv),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){$(this,Se,Ry).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(i=g(this,Fn))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,r,s;(t=g(this,Xi))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=g(this,Fn))==null||s.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Nv)}set isEditing(t){H(this,Nv,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){H(this,Uh,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){g(this,Vs)||H(this,Vs,new Map);const{action:i}=t;let r=g(this,Vs).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),g(this,Vs).delete(i),g(this,Vs).size===0&&H(this,Vs,null)},nn._telemetryTimeout),g(this,Vs).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),H(this,Np,!1)}disable(){this.div&&(this.div.tabIndex=-1),H(this,Np,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};jh=new WeakMap,da=new WeakMap,Fn=new WeakMap,Np=new WeakMap,Uh=new WeakMap,Xi=new WeakMap,Hh=new WeakMap,Qc=new WeakMap,Lv=new WeakMap,$h=new WeakMap,Zc=new WeakMap,Nv=new WeakMap,qh=new WeakMap,vl=new WeakMap,ro=new WeakMap,Fp=new WeakMap,Vp=new WeakMap,Vs=new WeakMap,Fv=new WeakMap,KS=new WeakMap,Se=new WeakSet,EC=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this.fixAndSetPosition()},Vv=new WeakSet,SC=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},wC=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},h6=function(){if(g(this,Xi))return;H(this,Xi,document.createElement("div")),g(this,Xi).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");g(this,Xi).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",$(this,Se,d6).bind(this,i),{signal:e}),r.addEventListener("contextmenu",Js,{signal:e}),r.tabIndex=-1}this.div.prepend(g(this,Xi))},d6=function(t,e){var E;e.preventDefault();const{isMac:i}=kr.platform;if(e.button!==0||e.ctrlKey&&i)return;(E=g(this,Fn))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",$(this,Se,xC).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Js,{signal:o});const c=this.x,u=this.y,d=this.width,f=this.height,m=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const b=()=>{var w;s.abort(),this.parent.togglePointerEvents(!0),(w=g(this,Fn))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=m,this.div.style.cursor=y,$(this,Se,AC).call(this,c,u,d,f)};window.addEventListener("pointerup",b,{signal:o}),window.addEventListener("blur",b,{signal:o})},AC=function(t,e,i,r){const s=this.x,o=this.y,c=this.width,u=this.height;s===t&&o===e&&c===i&&u===r||this.addCommands({cmd:()=>{this.width=c,this.height=u,this.x=s,this.y=o;const[d,f]=this.parentDimensions;this.setDims(d*c,f*u),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=t,this.y=e;const[d,f]=this.parentDimensions;this.setDims(d*i,f*r),this.fixAndSetPosition()},mustExec:!0})},xC=function(t,e){const[i,r]=this.parentDimensions,s=this.x,o=this.y,c=this.width,u=this.height,d=nn.MIN_SIZE/i,f=nn.MIN_SIZE/r,m=Z=>Math.round(Z*1e4)/1e4,y=$(this,Se,wC).call(this,this.rotation),b=(Z,rt)=>[y[0]*Z+y[2]*rt,y[1]*Z+y[3]*rt],E=$(this,Se,wC).call(this,360-this.rotation),w=(Z,rt)=>[E[0]*Z+E[2]*rt,E[1]*Z+E[3]*rt];let T,A,O=!1,k=!1;switch(t){case"topLeft":O=!0,T=(Z,rt)=>[0,0],A=(Z,rt)=>[Z,rt];break;case"topMiddle":T=(Z,rt)=>[Z/2,0],A=(Z,rt)=>[Z/2,rt];break;case"topRight":O=!0,T=(Z,rt)=>[Z,0],A=(Z,rt)=>[0,rt];break;case"middleRight":k=!0,T=(Z,rt)=>[Z,rt/2],A=(Z,rt)=>[0,rt/2];break;case"bottomRight":O=!0,T=(Z,rt)=>[Z,rt],A=(Z,rt)=>[0,0];break;case"bottomMiddle":T=(Z,rt)=>[Z/2,rt],A=(Z,rt)=>[Z/2,0];break;case"bottomLeft":O=!0,T=(Z,rt)=>[0,rt],A=(Z,rt)=>[Z,0];break;case"middleLeft":k=!0,T=(Z,rt)=>[0,rt/2],A=(Z,rt)=>[Z,rt/2];break}const P=T(c,u),F=A(c,u);let j=b(...F);const D=m(s+j[0]),I=m(o+j[1]);let V=1,x=1,[B,q]=this.screenToPageTranslation(e.movementX,e.movementY);if([B,q]=w(B/i,q/r),O){const Z=Math.hypot(c,u);V=x=Math.max(Math.min(Math.hypot(F[0]-P[0]-B,F[1]-P[1]-q)/Z,1/c,1/u),d/c,f/u)}else k?V=Math.max(d,Math.min(1,Math.abs(F[0]-P[0]-B)))/c:x=Math.max(f,Math.min(1,Math.abs(F[1]-P[1]-q)))/u;const U=m(c*V),tt=m(u*x);j=b(...A(U,tt));const J=D-j[0],X=I-j[1];this.width=U,this.height=tt,this.x=J,this.y=X,this.setDims(i*U,r*tt),this.fixAndSetPosition()},TC=function(t){const{isMac:e}=kr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},f6=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,r=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),H(this,Fp,t.clientX),H(this,Vp,t.clientY);const o=c=>{const{clientX:u,clientY:d}=c,[f,m]=this.screenToPageTranslation(u-g(this,Fp),d-g(this,Vp));H(this,Fp,u),H(this,Vp,d),this._uiManager.dragSelectedEditors(f,m)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:r})}const s=()=>{i.abort(),e&&this.div.classList.remove("moving"),H(this,$h,!1),this._uiManager.endDragSession()||$(this,Se,TC).call(this,t)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})},CC=function(){if(g(this,Qc)||!this.div)return;H(this,Qc,new AbortController);const t=this._uiManager.combinedSignal(g(this,Qc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},p6=function(t){nn._resizerKeyboardManager.exec(this,t)},m6=function(t){var e;g(this,vl)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==g(this,Xi)&&$(this,Se,Ry).call(this)},g6=function(t){H(this,Lv,g(this,vl)?t:"")},RC=function(t){if(g(this,da))for(const e of g(this,da))e.tabIndex=t},Ry=function(){if(H(this,vl,!1),$(this,Se,RC).call(this,-1),g(this,Hh)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=g(this,Hh);$(this,Se,AC).call(this,t,e,i,r),H(this,Hh,null)}},K(nn,Vv),re(nn,"_l10n",null),re(nn,"_l10nResizer",null),re(nn,"_borderLineWidth",-1),re(nn,"_colorManager",new pC),re(nn,"_zIndex",1),re(nn,"_telemetryTimeout",1e3);let un=nn;class Tit extends un{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const bN=3285377520,Ns=4294901760,Wa=65535;class y6{constructor(t){this.h1=t?t&4294967295:bN,this.h2=t?t&4294967295:bN}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let w=0,T=t.length;w<T;w++){const A=t.charCodeAt(w);A<=255?e[i++]=A:(e[i++]=A>>>8,e[i++]=A&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(e.buffer,0,r);let c=0,u=0,d=this.h1,f=this.h2;const m=3432918353,y=461845907,b=m&Wa,E=y&Wa;for(let w=0;w<r;w++)w&1?(c=o[w],c=c*m&Ns|c*b&Wa,c=c<<15|c>>>17,c=c*y&Ns|c*E&Wa,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(u=o[w],u=u*m&Ns|u*b&Wa,u=u<<15|u>>>17,u=u*y&Ns|u*E&Wa,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*m&Ns|c*b&Wa,c=c<<15|c>>>17,c=c*y&Ns|c*E&Wa,r&1?d^=c:f^=c}this.h1=d,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ns|t*36045&Wa,e=e*4283543511&Ns|((e<<16|t>>>16)*2950163797&Ns)>>>16,t^=e>>>1,t=t*444984403&Ns|t*60499&Wa,e=e*3301882366&Ns|((e<<16|t>>>16)*3120437893&Ns)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const IC=Object.freeze({map:null,hash:"",transfer:void 0});var Gh,Wh,ji,YS,v6;class bk{constructor(){K(this,YS);K(this,Gh,!1);K(this,Wh,null);K(this,ji,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=g(this,ji).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return g(this,ji).get(t)}remove(t){if(g(this,ji).delete(t),g(this,ji).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of g(this,ji).values())if(e instanceof un)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=g(this,ji).get(t);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(e))i[s]!==o&&(r=!0,i[s]=o);else r=!0,g(this,ji).set(t,e);r&&$(this,YS,v6).call(this),e instanceof un&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return g(this,ji).has(t)}getAll(){return g(this,ji).size>0?fk(g(this,ji)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return g(this,ji).size}resetModified(){g(this,Gh)&&(H(this,Gh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b6(this)}get serializable(){if(g(this,ji).size===0)return IC;const t=new Map,e=new y6,i=[],r=Object.create(null);let s=!1;for(const[o,c]of g(this,ji)){const u=c instanceof un?c.serialize(!1,r):c;u&&(t.set(o,u),e.update(`${o}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:IC}get editorStats(){let t=null;const e=new Map;for(const i of g(this,ji).values()){if(!(i instanceof un))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[s]||(t[s]=new Map);for(const[c,u]of Object.entries(r)){if(c==="type")continue;let d=o.get(c);d||(d=new Map,o.set(c,d));const f=d.get(u)??0;d.set(u,f+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){H(this,Wh,null)}get modifiedIds(){if(g(this,Wh))return g(this,Wh);const t=[];for(const e of g(this,ji).values())!(e instanceof un)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return H(this,Wh,{ids:new Set(t),hash:t.join(",")})}}Gh=new WeakMap,Wh=new WeakMap,ji=new WeakMap,YS=new WeakSet,v6=function(){g(this,Gh)||(H(this,Gh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zv;class b6 extends bk{constructor(e){super();K(this,zv);const{map:i,hash:r,transfer:s}=e.serializable,o=structuredClone(i,s?{transfer:s}:null);H(this,zv,{map:o,hash:r,transfer:s})}get print(){In("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,zv)}get modifiedIds(){return Ne(this,"modifiedIds",{ids:new Set,hash:""})}}zv=new WeakMap;var zp;class Cit{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){K(this,zp,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),g(this,zp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||g(this,zp).has(t.loadedName))){if(Ci(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=t,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),g(this,zp).add(i),e==null||e(t)}catch{Ae(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}In("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Ae(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ne(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(gr||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ne(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ci(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ne(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(P,F){return P.charCodeAt(F)<<24|P.charCodeAt(F+1)<<16|P.charCodeAt(F+2)<<8|P.charCodeAt(F+3)&255}function r(P,F,j,D){const I=P.substring(0,F),V=P.substring(F+j);return I+D+V}let s,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let d=0;function f(P,F){if(++d>30){Ae("Load test font never loaded."),F();return}if(u.font="30px "+P,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(f.bind(null,P,F))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,m.length,m);const E=16,w=1482184792;let T=i(y,E);for(s=0,o=m.length-3;s<o;s+=4)T=T-w+i(m,s)|0;s<m.length&&(T=T-w+i(m+"XXX",s)|0),y=r(y,E,4,hit(T));const A=`url(data:font/opentype;base64,${btoa(y)});`,O=`@font-face {font-family:"${m}";src:${A}}`;this.insertRule(O);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const P of[t.loadedName,m]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=P,k.append(F)}this._document.body.append(k),f(m,()=>{k.remove(),e.complete()})}}zp=new WeakMap;class Rit{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${yit(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(s){Ae(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case ll.BEZIER_CURVE_TO:{const[c,u,d,f,m,y]=i.slice(s,s+6);r.push(b=>b.bezierCurveTo(c,u,d,f,m,y)),s+=6}break;case ll.MOVE_TO:{const[c,u]=i.slice(s,s+2);r.push(d=>d.moveTo(c,u)),s+=2}break;case ll.LINE_TO:{const[c,u]=i.slice(s,s+2);r.push(d=>d.lineTo(c,u)),s+=2}break;case ll.QUADRATIC_CURVE_TO:{const[c,u,d,f]=i.slice(s,s+4);r.push(m=>m.quadraticCurveTo(c,u,d,f)),s+=4}break;case ll.RESTORE:r.push(c=>c.restore());break;case ll.SAVE:r.push(c=>c.save());break;case ll.SCALE:Ci(r.length===2,"Scale command is only valid at the third position.");break;case ll.TRANSFORM:{const[c,u,d,f,m,y]=i.slice(s,s+6);r.push(b=>b.transform(c,u,d,f,m,y)),s+=6}break;case ll.TRANSLATE:{const[c,u]=i.slice(s,s+2);r.push(d=>d.translate(c,u)),s+=2}break}return this.compiledGlyphs[e]=function(o,c){r[0](o),r[1](o),o.scale(c,-c);for(let u=2,d=r.length;u<d;u++)r[u](o)}}}var Bv;class _6{constructor({enableHWA:t=!1}){K(this,Bv,!1);H(this,Bv,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!g(this,Bv)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){In("Abstract method `_createCanvas` called.")}}Bv=new WeakMap;class Iit extends _6{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class E6{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){In("Abstract method `_fetch` called.")}}class S6 extends E6{async _fetch(t){const e=await s1(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):r1(e)}}class w6{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}}var Kh,Yh,so,bl,ur,XS,Xh,Ot,lr,ip,rp,DE,sp,A6,kC,ap,Iy,ky,PC,Py;class kit extends w6{constructor({docId:e,ownerDocument:i=globalThis.document}){super();K(this,Ot);K(this,Kh);K(this,Yh);K(this,so);K(this,bl);K(this,ur);K(this,XS);K(this,Xh,0);H(this,bl,e),H(this,ur,i)}addFilter(e){if(!e)return"none";let i=g(this,Ot,lr).get(e);if(i)return i;const[r,s,o]=$(this,Ot,DE).call(this,e),c=e.length===1?r:`${r}${s}${o}`;if(i=g(this,Ot,lr).get(c),i)return g(this,Ot,lr).set(e,i),i;const u=`g_${g(this,bl)}_transfer_map_${xr(this,Xh)._++}`,d=$(this,Ot,sp).call(this,u);g(this,Ot,lr).set(e,d),g(this,Ot,lr).set(c,d);const f=$(this,Ot,ap).call(this,u);return $(this,Ot,ky).call(this,r,s,o,f),d}addHCMFilter(e,i){var E;const r=`${e}-${i}`,s="base";let o=g(this,Ot,ip).get(s);if((o==null?void 0:o.key)===r||(o?((E=o.filter)==null||E.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},g(this,Ot,ip).set(s,o)),!e||!i))return o.url;const c=$(this,Ot,Py).call(this,e);e=Yt.makeHexColor(...c);const u=$(this,Ot,Py).call(this,i);if(i=Yt.makeHexColor(...u),g(this,Ot,rp).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const d=new Array(256);for(let w=0;w<=255;w++){const T=w/255;d[w]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const f=d.join(","),m=`g_${g(this,bl)}_hcm_filter`,y=o.filter=$(this,Ot,ap).call(this,m);$(this,Ot,ky).call(this,f,f,f,y),$(this,Ot,kC).call(this,y);const b=(w,T)=>{const A=c[w]/255,O=u[w]/255,k=new Array(T+1);for(let P=0;P<=T;P++)k[P]=A+P/T*(O-A);return k.join(",")};return $(this,Ot,ky).call(this,b(0,5),b(1,5),b(2,5),y),o.url=$(this,Ot,sp).call(this,m),o.url}addAlphaFilter(e){let i=g(this,Ot,lr).get(e);if(i)return i;const[r]=$(this,Ot,DE).call(this,[e]),s=`alpha_${r}`;if(i=g(this,Ot,lr).get(s),i)return g(this,Ot,lr).set(e,i),i;const o=`g_${g(this,bl)}_alpha_map_${xr(this,Xh)._++}`,c=$(this,Ot,sp).call(this,o);g(this,Ot,lr).set(e,c),g(this,Ot,lr).set(s,c);const u=$(this,Ot,ap).call(this,o);return $(this,Ot,PC).call(this,r,u),c}addLuminosityFilter(e){let i=g(this,Ot,lr).get(e||"luminosity");if(i)return i;let r,s;if(e?([r]=$(this,Ot,DE).call(this,[e]),s=`luminosity_${r}`):s="luminosity",i=g(this,Ot,lr).get(s),i)return g(this,Ot,lr).set(e,i),i;const o=`g_${g(this,bl)}_luminosity_map_${xr(this,Xh)._++}`,c=$(this,Ot,sp).call(this,o);g(this,Ot,lr).set(e,c),g(this,Ot,lr).set(s,c);const u=$(this,Ot,ap).call(this,o);return $(this,Ot,A6).call(this,u),e&&$(this,Ot,PC).call(this,r,u),c}addHighlightHCMFilter(e,i,r,s,o){var O;const c=`${i}-${r}-${s}-${o}`;let u=g(this,Ot,ip).get(e);if((u==null?void 0:u.key)===c||(u?((O=u.filter)==null||O.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},g(this,Ot,ip).set(e,u)),!i||!r))return u.url;const[d,f]=[i,r].map($(this,Ot,Py).bind(this));let m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,E]=[s,o].map($(this,Ot,Py).bind(this));y<m&&([m,y,b,E]=[y,m,E,b]),g(this,Ot,rp).style.color="";const w=(k,P,F)=>{const j=new Array(256),D=(y-m)/F,I=k/255,V=(P-k)/(255*F);let x=0;for(let B=0;B<=F;B++){const q=Math.round(m+B*D),U=I+B*V;for(let tt=x;tt<=q;tt++)j[tt]=U;x=q+1}for(let B=x;B<256;B++)j[B]=j[x-1];return j.join(",")},T=`g_${g(this,bl)}_hcm_${e}_filter`,A=u.filter=$(this,Ot,ap).call(this,T);return $(this,Ot,kC).call(this,A),$(this,Ot,ky).call(this,w(b[0],E[0],5),w(b[1],E[1],5),w(b[2],E[2],5),A),u.url=$(this,Ot,sp).call(this,T),u.url}destroy(e=!1){e&&g(this,Ot,ip).size!==0||(g(this,so)&&(g(this,so).parentNode.parentNode.remove(),H(this,so,null)),g(this,Yh)&&(g(this,Yh).clear(),H(this,Yh,null)),H(this,Xh,0))}}Kh=new WeakMap,Yh=new WeakMap,so=new WeakMap,bl=new WeakMap,ur=new WeakMap,XS=new WeakMap,Xh=new WeakMap,Ot=new WeakSet,lr=function(){return g(this,Yh)||H(this,Yh,new Map)},ip=function(){return g(this,XS)||H(this,XS,new Map)},rp=function(){if(!g(this,so)){const e=g(this,ur).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=g(this,ur).createElementNS(hl,"svg");r.setAttribute("width",0),r.setAttribute("height",0),H(this,so,g(this,ur).createElementNS(hl,"defs")),e.append(r),r.append(g(this,so)),g(this,ur).body.append(e)}return g(this,so)},DE=function(e){if(e.length===1){const d=e[0],f=new Array(256);for(let y=0;y<256;y++)f[y]=d[y]/255;const m=f.join(",");return[m,m,m]}const[i,r,s]=e,o=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=i[d]/255,c[d]=r[d]/255,u[d]=s[d]/255;return[o.join(","),c.join(","),u.join(",")]},sp=function(e){if(g(this,Kh)===void 0){H(this,Kh,"");const i=g(this,ur).URL;i!==g(this,ur).baseURI&&(a1(i)?Ae('#createUrl: ignore "data:"-URL for performance reasons.'):H(this,Kh,i.split("#",1)[0]))}return`url(${g(this,Kh)}#${e})`},A6=function(e){const i=g(this,ur).createElementNS(hl,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},kC=function(e){const i=g(this,ur).createElementNS(hl,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},ap=function(e){const i=g(this,ur).createElementNS(hl,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),g(this,Ot,rp).append(i),i},Iy=function(e,i,r){const s=g(this,ur).createElementNS(hl,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),e.append(s)},ky=function(e,i,r,s){const o=g(this,ur).createElementNS(hl,"feComponentTransfer");s.append(o),$(this,Ot,Iy).call(this,o,"feFuncR",e),$(this,Ot,Iy).call(this,o,"feFuncG",i),$(this,Ot,Iy).call(this,o,"feFuncB",r)},PC=function(e,i){const r=g(this,ur).createElementNS(hl,"feComponentTransfer");i.append(r),$(this,Ot,Iy).call(this,r,"feFuncA",e)},Py=function(e){return g(this,Ot,rp).style.color=e,vk(getComputedStyle(g(this,Ot,rp)).getPropertyValue("color"))};class x6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){In("Abstract method `_fetch` called.")}}class T6 extends x6{async _fetch(t){const e=await s1(t,"arraybuffer");return new Uint8Array(e)}}if(gr){var MC=Promise.withResolvers(),Qy=null;(async()=>{const t=await Q_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Q_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Q_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Q_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:t,http:e,https:i,url:r,canvas:s,path2d:o}))})().then(t=>{Qy=t,MC.resolve()},t=>{Ae(`loadPackages: ${t}`),Qy=new Map,MC.resolve()})}class Lu{static get promise(){return MC.promise}static get(t){return Qy==null?void 0:Qy.get(t)}}async function C6(n){const e=await Lu.get("fs").promises.readFile(n);return new Uint8Array(e)}class Pit extends w6{}class Mit extends _6{_createCanvas(t,e){return Lu.get("canvas").createCanvas(t,e)}}class Dit extends E6{async _fetch(t){return C6(t)}}class Oit extends x6{async _fetch(t){return C6(t)}}const Rr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function DC(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}class _k{getPattern(){In("Abstract method `getPattern` called.")}}class Lit extends _k{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let s;if(r===Rr.STROKE||r===Rr.FILL){const o=e.current.getClippedPathBoundingBox(r,zn(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,u),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),i=Yt.transform(i,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),DC(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=t.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(i);s.setTransform(m)}else DC(t,this._bbox),s=this._createGradient(t);return s}}function Yx(n,t,e,i,r,s,o,c){const u=t.coords,d=t.colors,f=n.data,m=n.width*4;let y;u[e+1]>u[i+1]&&(y=e,e=i,i=y,y=s,s=o,o=y),u[i+1]>u[r+1]&&(y=i,i=r,r=y,y=o,o=c,c=y),u[e+1]>u[i+1]&&(y=e,e=i,i=y,y=s,s=o,o=y);const b=(u[e]+t.offsetX)*t.scaleX,E=(u[e+1]+t.offsetY)*t.scaleY,w=(u[i]+t.offsetX)*t.scaleX,T=(u[i+1]+t.offsetY)*t.scaleY,A=(u[r]+t.offsetX)*t.scaleX,O=(u[r+1]+t.offsetY)*t.scaleY;if(E>=O)return;const k=d[s],P=d[s+1],F=d[s+2],j=d[o],D=d[o+1],I=d[o+2],V=d[c],x=d[c+1],B=d[c+2],q=Math.round(E),U=Math.round(O);let tt,J,X,Z,rt,dt,N,st;for(let ut=q;ut<=U;ut++){if(ut<T){const It=ut<E?0:(E-ut)/(E-T);tt=b-(b-w)*It,J=k-(k-j)*It,X=P-(P-D)*It,Z=F-(F-I)*It}else{let It;ut>O?It=1:T===O?It=0:It=(T-ut)/(T-O),tt=w-(w-A)*It,J=j-(j-V)*It,X=D-(D-x)*It,Z=I-(I-B)*It}let G;ut<E?G=0:ut>O?G=1:G=(E-ut)/(E-O),rt=b-(b-A)*G,dt=k-(k-V)*G,N=P-(P-x)*G,st=F-(F-B)*G;const St=Math.round(Math.min(tt,rt)),Ct=Math.round(Math.max(tt,rt));let wt=m*ut+St*4;for(let It=St;It<=Ct;It++)G=(tt-It)/(tt-rt),G<0?G=0:G>1&&(G=1),f[wt++]=J-(J-dt)*G|0,f[wt++]=X-(X-N)*G|0,f[wt++]=Z-(Z-st)*G|0,f[wt++]=255}}function Nit(n,t,e){const i=t.coords,r=t.colors;let s,o;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(i.length/c)-1,d=c-1;for(s=0;s<u;s++){let f=s*c;for(let m=0;m<d;m++,f++)Yx(n,e,i[f],i[f+1],i[f+c],r[f],r[f+1],r[f+c]),Yx(n,e,i[f+c+1],i[f+1],i[f+c],r[f+c+1],r[f+1],r[f+c])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Yx(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Fit extends _k{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,m=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),b=d/m,E=f/y,w={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/b,scaleY:1/E},T=m+2*2,A=y+2*2,O=i.getCanvas("mesh",T,A),k=O.context,P=k.createImageData(m,y);if(e){const j=P.data;for(let D=0,I=j.length;D<I;D+=4)j[D]=e[0],j[D+1]=e[1],j[D+2]=e[2],j[D+3]=255}for(const j of this._figures)Nit(P,j,w);return k.putImageData(P,2,2),{canvas:O.canvas,offsetX:c-2*b,offsetY:u-2*E,scaleX:b,scaleY:E}}getPattern(t,e,i,r){DC(t,this._bbox);let s;if(r===Rr.SHADING)s=Yt.singularValueDecompose2dScale(zn(t));else if(s=Yt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=Yt.singularValueDecompose2dScale(this.matrix);s=[s[0]*c[0],s[1]*c[1]]}const o=this._createMeshCanvas(s,r===Rr.SHADING?null:this._background,e.cachedCanvases);return r!==Rr.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class Vit extends _k{getPattern(){return"hotpink"}}function zit(n){switch(n[0]){case"RadialAxial":return new Lit(n);case"Mesh":return new Fit(n);case"Dummy":return new Vit}throw new Error(`Unknown IR type: ${n[0]}`)}const _N={COLORED:1,UNCOLORED:2},QS=class QS{constructor(t,e,i,r,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:s,color:o,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),n1("TilingType: "+s);const f=e[0],m=e[1],y=e[2],b=e[3],E=y-f,w=b-m,T=Yt.singularValueDecompose2dScale(this.matrix),A=Yt.singularValueDecompose2dScale(this.baseTransform),O=T[0]*A[0],k=T[1]*A[1];let P=E,F=w,j=!1,D=!1;const I=Math.ceil(u*O),V=Math.ceil(d*k),x=Math.ceil(E*O),B=Math.ceil(w*k);I>=x?P=u:j=!0,V>=B?F=d:D=!0;const q=this.getSizeAndScale(P,this.ctx.canvas.width,O),U=this.getSizeAndScale(F,this.ctx.canvas.height,k),tt=t.cachedCanvases.getCanvas("pattern",q.size,U.size),J=tt.context,X=c.createCanvasGraphics(J);if(X.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(X,r,o),J.translate(-q.scale*f,-U.scale*m),X.transform(q.scale,0,0,U.scale,0,0),J.save(),this.clipBbox(X,f,m,y,b),X.baseTransform=zn(X.ctx),X.executeOperatorList(i),X.endDrawing(),J.restore(),j||D){const Z=tt.canvas;j&&(P=u),D&&(F=d);const rt=this.getSizeAndScale(P,this.ctx.canvas.width,O),dt=this.getSizeAndScale(F,this.ctx.canvas.height,k),N=rt.size,st=dt.size,ut=t.cachedCanvases.getCanvas("pattern-workaround",N,st),G=ut.context,St=j?Math.floor(E/u):0,Ct=D?Math.floor(w/d):0;for(let wt=0;wt<=St;wt++)for(let It=0;It<=Ct;It++)G.drawImage(Z,N*wt,st*It,N,st,0,0,N,st);return{canvas:ut.canvas,scaleX:rt.scale,scaleY:dt.scale,offsetX:f,offsetY:m}}return{canvas:tt.canvas,scaleX:q.scale,scaleY:U.scale,offsetX:f,offsetY:m}}getSizeAndScale(t,e,i){const r=Math.max(QS.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*i);return s>=r?s=r:i=s/t,{scale:i,size:s}}clipBbox(t,e,i,r,s){const o=r-e,c=s-i;t.ctx.rect(e,i,o,c),t.current.updateRectMinMax(zn(t.ctx),[e,i,r,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,s=t.current;switch(e){case _N.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case _N.UNCOLORED:const c=Yt.makeHexColor(i[0],i[1],i[2]);r.fillStyle=c,r.strokeStyle=c,s.fillColor=c,s.strokeColor=c;break;default:throw new uit(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,r){let s=i;r!==Rr.SHADING&&(s=Yt.transform(s,e.baseTransform),this.matrix&&(s=Yt.transform(s,this.matrix)));const o=this.createPatternCanvas(e);let c=new DOMMatrix(s);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const u=t.createPattern(o.canvas,"repeat");return u.setTransform(c),u}};re(QS,"MAX_PATTERN_SIZE",3e3);let OC=QS;function Bit({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const c=kr.isLittleEndian?4278190080:255,[u,d]=o?[s,c]:[c,s],f=i>>3,m=i&7,y=n.length;e=new Uint32Array(e.buffer);let b=0;for(let E=0;E<r;E++){for(const T=t+f;t<T;t++){const A=t<y?n[t]:255;e[b++]=A&128?d:u,e[b++]=A&64?d:u,e[b++]=A&32?d:u,e[b++]=A&16?d:u,e[b++]=A&8?d:u,e[b++]=A&4?d:u,e[b++]=A&2?d:u,e[b++]=A&1?d:u}if(m===0)continue;const w=t<y?n[t++]:255;for(let T=0;T<m;T++)e[b++]=w&1<<7-T?d:u}return{srcPos:t,destPos:b}}const EN=16,SN=100,jit=15,wN=10,AN=1e3,Hr=16;function Uit(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(i,r){t.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){t.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,c,u){t.transform(i,r,s,o,c,u),this.__originalTransform(i,r,s,o,c,u)},n.setTransform=function(i,r,s,o,c,u){t.setTransform(i,r,s,o,c,u),this.__originalSetTransform(i,r,s,o,c,u)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){t.rotate(i),this.__originalRotate(i)},n.clip=function(i){t.clip(i),this.__originalClip(i)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,o,c){t.bezierCurveTo(e,i,r,s,o,c),this.__originalBezierCurveTo(e,i,r,s,o,c)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Hit{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Z_(n,t,e,i,r,s,o,c,u,d){const[f,m,y,b,E,w]=zn(n);if(m===0&&y===0){const O=o*f+E,k=Math.round(O),P=c*b+w,F=Math.round(P),j=(o+u)*f+E,D=Math.abs(Math.round(j)-k)||1,I=(c+d)*b+w,V=Math.abs(Math.round(I)-F)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(b),k,F),n.drawImage(t,e,i,r,s,0,0,D,V),n.setTransform(f,m,y,b,E,w),[D,V]}if(f===0&&b===0){const O=c*y+E,k=Math.round(O),P=o*m+w,F=Math.round(P),j=(c+d)*y+E,D=Math.abs(Math.round(j)-k)||1,I=(o+u)*m+w,V=Math.abs(Math.round(I)-F)||1;return n.setTransform(0,Math.sign(m),Math.sign(y),0,k,F),n.drawImage(t,e,i,r,s,0,0,V,D),n.setTransform(f,m,y,b,E,w),[V,D]}n.drawImage(t,e,i,r,s,o,c,u,d);const T=Math.hypot(f,m),A=Math.hypot(y,b);return[T*u,A*d]}function $it(n){const{width:t,height:e}=n;if(t>AN||e>AN)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let o=new Uint8Array(s*(e+1)),c,u,d;const f=t+7&-8;let m=new Uint8Array(f*e),y=0;for(const A of n.data){let O=128;for(;O>0;)m[y++]=A&O?0:255,O>>=1}let b=0;for(y=0,m[y]!==0&&(o[0]=1,++b),u=1;u<t;u++)m[y]!==m[y+1]&&(o[u]=m[y]?2:1,++b),y++;for(m[y]!==0&&(o[u]=2,++b),c=1;c<e;c++){y=c*f,d=c*s,m[y-f]!==m[y]&&(o[d]=m[y]?1:8,++b);let A=(m[y]?4:0)+(m[y-f]?8:0);for(u=1;u<t;u++)A=(A>>2)+(m[y+1]?4:0)+(m[y-f+1]?8:0),r[A]&&(o[d+u]=r[A],++b),y++;if(m[y-f]!==m[y]&&(o[d+u]=m[y]?2:4,++b),b>i)return null}for(y=f*(e-1),d=c*s,m[y]!==0&&(o[d]=8,++b),u=1;u<t;u++)m[y]!==m[y+1]&&(o[d+u]=m[y]?4:8,++b),y++;if(m[y]!==0&&(o[d+u]=4,++b),b>i)return null;const E=new Int32Array([0,s,-1,0,-s,0,0,0,1]),w=new Path2D;for(c=0;b&&c<=e;c++){let A=c*s;const O=A+t;for(;A<O&&!o[A];)A++;if(A===O)continue;w.moveTo(A%s,c);const k=A;let P=o[A];do{const F=E[P];do A+=F;while(!o[A]);const j=o[A];j!==5&&j!==10?(P=j,o[A]=0):(P=j&51*P>>4,o[A]&=P>>2|P<<2),w.lineTo(A%s,A/s|0),o[A]||--b}while(k!==A);--c}return m=null,o=null,function(A){A.save(),A.scale(1/t,-1/e),A.translate(0,-e),A.fill(w),A.beginPath(),A.restore()}}class xN{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$V,this.textMatrixScale=1,this.fontMatrix=aC,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=or.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=Yt.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=Yt.applyTransform(e,t),r=Yt.applyTransform(e.slice(2),t),s=Yt.applyTransform([e[0],e[3]],t),o=Yt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(t,e){Yt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,r,s,o,c,u,d,f){const m=Yt.bezierBoundingBox(e,i,r,s,o,c,u,d,f);f||this.updateRectMinMax(t,m)}getPathBoundingBox(t=Rr.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===Rr.STROKE){e||In("Stroke bounding box must include transform.");const r=Yt.singularValueDecompose2dScale(e),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const t=Yt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Rr.FILL,e=null){return Yt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function TN(n,t){if(typeof ImageData<"u"&&t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Hr,s=(e-r)/Hr,o=r===0?s:s+1,c=n.createImageData(i,Hr);let u=0,d;const f=t.data,m=c.data;let y,b,E,w;if(t.kind===TE.GRAYSCALE_1BPP){const T=f.byteLength,A=new Uint32Array(m.buffer,0,m.byteLength>>2),O=A.length,k=i+7>>3,P=4294967295,F=kr.isLittleEndian?4278190080:255;for(y=0;y<o;y++){for(E=y<s?Hr:r,d=0,b=0;b<E;b++){const j=T-u;let D=0;const I=j>k?i:j*8-7,V=I&-8;let x=0,B=0;for(;D<V;D+=8)B=f[u++],A[d++]=B&128?P:F,A[d++]=B&64?P:F,A[d++]=B&32?P:F,A[d++]=B&16?P:F,A[d++]=B&8?P:F,A[d++]=B&4?P:F,A[d++]=B&2?P:F,A[d++]=B&1?P:F;for(;D<I;D++)x===0&&(B=f[u++],x=128),A[d++]=B&x?P:F,x>>=1}for(;d<O;)A[d++]=0;n.putImageData(c,0,y*Hr)}}else if(t.kind===TE.RGBA_32BPP){for(b=0,w=i*Hr*4,y=0;y<s;y++)m.set(f.subarray(u,u+w)),u+=w,n.putImageData(c,0,b),b+=Hr;y<o&&(w=i*r*4,m.set(f.subarray(u,u+w)),n.putImageData(c,0,b))}else if(t.kind===TE.RGB_24BPP)for(E=Hr,w=i*E,y=0;y<o;y++){for(y>=s&&(E=r,w=i*E),d=0,b=w;b--;)m[d++]=f[u++],m[d++]=f[u++],m[d++]=f[u++],m[d++]=255;n.putImageData(c,0,y*Hr)}else throw new Error(`bad image kind: ${t.kind}`)}function CN(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Hr,s=(e-r)/Hr,o=r===0?s:s+1,c=n.createImageData(i,Hr);let u=0;const d=t.data,f=c.data;for(let m=0;m<o;m++){const y=m<s?Hr:r;({srcPos:u}=Bit({src:d,srcPos:u,dest:f,width:i,height:y,nonBlackColor:0})),n.putImageData(c,0,m*Hr)}}function fy(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function J_(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!gr){const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function RN(n,t){if(t)return!0;const e=Yt.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ou.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const qit=["butt","round","square"],Git=["miter","round","bevel"],Wit={},IN={};var Fu,LC,NC;const Hk=class Hk{constructor(t,e,i,r,s,{optionalContentConfig:o,markedContentStack:c=null},u,d){K(this,Fu);this.ctx=t,this.current=new xN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new Hit(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=c,i){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...zn(this.compositeCtx))}this.ctx.save(),J_(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=zn(this.ctx)}executeOperatorList(t,e,i,r){const s=t.argsArray,o=t.fnArray;let c=e||0;const u=s.length;if(u===c)return c;const d=u-c>wN&&typeof i=="function",f=d?Date.now()+jit:0;let m=0;const y=this.commonObjs,b=this.objs;let E;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,i),c;if(E=o[c],E!==oa.dependency)this[E].apply(this,s[c]);else for(const w of s[c]){const T=w.startsWith("g_")?y:b;if(!T.has(w))return T.get(w,i),c}if(c++,c===u)return c;if(d&&++m>wN){if(Date.now()>f)return i(),c;m=0}}}endDrawing(){$(this,Fu,LC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),$(this,Fu,NC).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),c=i,u=r,d="prescale1",f,m;for(;s>2&&c>1||o>2&&u>1;){let y=c,b=u;s>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/y),o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/b),f=this.cachedCanvases.getCanvas(d,y,b),m=f.context,m.clearRect(0,0,y,b),m.drawImage(t,0,0,c,u,0,0,y,b),t=f.canvas,c=y,u=b,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,c=zn(e);let u,d,f,m;if((t.bitmap||t.data)&&t.count>1){const I=t.bitmap||t.data.buffer;d=JSON.stringify(o?c:[c.slice(0,4),s]),u=this._cachedBitmapsMap.get(I),u||(u=new Map,this._cachedBitmapsMap.set(I,u));const V=u.get(d);if(V&&!o){const x=Math.round(Math.min(c[0],c[2])+c[4]),B=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:V,offsetX:x,offsetY:B}}f=V}f||(m=this.cachedCanvases.getCanvas("maskCanvas",i,r),CN(m.context,t));let y=Yt.transform(c,[1/i,0,0,-1/r,0,0]);y=Yt.transform(y,[1,0,0,1,0,-r]);const[b,E,w,T]=Yt.getAxialAlignedBoundingBox([0,0,i,r],y),A=Math.round(w-b)||1,O=Math.round(T-E)||1,k=this.cachedCanvases.getCanvas("fillCanvas",A,O),P=k.context,F=b,j=E;P.translate(-F,-j),P.transform(...y),f||(f=this._scaleImage(m.canvas,cl(P)),f=f.img,u&&o&&u.set(d,f)),P.imageSmoothingEnabled=RN(zn(P),t.interpolate),Z_(P,f,0,0,f.width,f.height,0,0,i,r),P.globalCompositeOperation="source-in";const D=Yt.transform(cl(P),[1,0,0,1,-F,-j]);return P.fillStyle=o?s.getPattern(e,this,D,Rr.FILL):s,P.fillRect(0,0,i,r),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,k.canvas)),{canvas:k.canvas,offsetX:Math.round(F),offsetY:Math.round(j)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=qit[t]}setLineJoin(t){this.ctx.lineJoin=Git[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...zn(this.suspendedCtx)),fy(this.suspendedCtx,s),Uit(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),fy(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const s=r[0],o=r[1],c=r[2]-s,u=r[3]-o;c===0||u===0||(this.genericComposeSMask(e.context,i,c,u,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,o,c,u,d,f,m){let y=t.canvas,b=u-f,E=d-m;if(o){const T=Yt.makeHexColor(...o);if(b<0||E<0||b+i>y.width||E+r>y.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,r),O=A.context;O.drawImage(y,-b,-E),O.globalCompositeOperation="destination-atop",O.fillStyle=T,O.fillRect(0,0,i,r),O.globalCompositeOperation="source-over",y=A.canvas,b=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(b,E,i,r),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=T,t.fillRect(b,E,i,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const w=new Path2D;w.rect(u,d,i,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(y,b,E,i,r,u,d,i,r),e.restore()}save(){this.inSMaskMode?(fy(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),fy(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,r,s,o){this.ctx.transform(t,e,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const r=this.ctx,s=this.current;let o=s.x,c=s.y,u,d;const f=zn(r),m=f[0]===0&&f[3]===0||f[1]===0&&f[2]===0,y=m?i.slice(0):null;for(let b=0,E=0,w=t.length;b<w;b++)switch(t[b]|0){case oa.rectangle:o=e[E++],c=e[E++];const T=e[E++],A=e[E++],O=o+T,k=c+A;r.moveTo(o,c),T===0||A===0?r.lineTo(O,k):(r.lineTo(O,c),r.lineTo(O,k),r.lineTo(o,k)),m||s.updateRectMinMax(f,[o,c,O,k]),r.closePath();break;case oa.moveTo:o=e[E++],c=e[E++],r.moveTo(o,c),m||s.updatePathMinMax(f,o,c);break;case oa.lineTo:o=e[E++],c=e[E++],r.lineTo(o,c),m||s.updatePathMinMax(f,o,c);break;case oa.curveTo:u=o,d=c,o=e[E+4],c=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],o,c),s.updateCurvePathMinMax(f,u,d,e[E],e[E+1],e[E+2],e[E+3],o,c,y),E+=6;break;case oa.curveTo2:u=o,d=c,r.bezierCurveTo(o,c,e[E],e[E+1],e[E+2],e[E+3]),s.updateCurvePathMinMax(f,u,d,o,c,e[E],e[E+1],e[E+2],e[E+3],y),o=e[E+2],c=e[E+3],E+=4;break;case oa.curveTo3:u=o,d=c,o=e[E+2],c=e[E+3],r.bezierCurveTo(e[E],e[E+1],o,c,o,c),s.updateCurvePathMinMax(f,u,d,e[E],e[E+1],o,c,o,c,y),E+=4;break;case oa.closePath:r.closePath();break}m&&s.updateScalingPathMinMax(f,y),s.setCurrentPoint(o,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,cl(e),Rr.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(e.save(),e.fillStyle=i.getPattern(e,this,cl(e),Rr.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Wit}eoClip(){this.pendingClip=IN}beginText(){this.current.textMatrix=$V,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var f;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||aC,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ae("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((f=i.systemFontInfo)==null?void 0:f.css)||`"${s}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const u=i.italic?"italic":"normal";let d=e;e<EN?d=EN:e>SN&&(d=SN),this.current.fontSizeScale=e/d,this.ctx.font=`${u} ${c} ${d}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,r,s,o){this.current.textMatrix=[t,e,i,r,s,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r){const s=this.ctx,o=this.current,c=o.font,u=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,f=u&or.FILL_STROKE_MASK,m=!!(u&or.ADD_TO_PATH_FLAG),y=o.patternFill&&!c.missingFile;let b;(c.disableFontFace||m||y)&&(b=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||y?(s.save(),s.translate(e,i),s.beginPath(),b(s,d),r&&s.setTransform(...r),(f===or.FILL||f===or.FILL_STROKE)&&s.fill(),(f===or.STROKE||f===or.FILL_STROKE)&&s.stroke(),s.restore()):((f===or.FILL||f===or.FILL_STROKE)&&s.fillText(t,e,i),(f===or.STROKE||f===or.FILL_STROKE)&&s.strokeText(t,e,i)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:zn(s),x:e,y:i,fontSize:d,addToPath:b})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Ne(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const s=this.ctx,o=e.fontSizeScale,c=e.charSpacing,u=e.wordSpacing,d=e.fontDirection,f=e.textHScale*d,m=t.length,y=i.vertical,b=y?1:-1,E=i.defaultVMetrics,w=r*e.fontMatrix[0],T=e.textRenderingMode===or.FILL&&!i.disableFontFace&&!e.patternFill;s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),d>0?s.scale(f,-1):s.scale(f,1);let A;if(e.patternFill){s.save();const j=e.fillColor.getPattern(s,this,cl(s),Rr.FILL);A=zn(s),s.restore(),s.fillStyle=j}let O=e.lineWidth;const k=e.textMatrixScale;if(k===0||O===0){const j=e.textRenderingMode&or.FILL_STROKE_MASK;(j===or.STROKE||j===or.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=k;if(o!==1&&(s.scale(o,o),O/=o),s.lineWidth=O,i.isInvalidPDFjsFont){const j=[];let D=0;for(const I of t)j.push(I.unicode),D+=I.width;s.fillText(j.join(""),0,0),e.x+=D*w*f,s.restore(),this.compose();return}let P=0,F;for(F=0;F<m;++F){const j=t[F];if(typeof j=="number"){P+=b*j*r/1e3;continue}let D=!1;const I=(j.isSpace?u:0)+c,V=j.fontChar,x=j.accent;let B,q,U=j.width;if(y){const J=j.vmetric||E,X=-(j.vmetric?J[1]:U*.5)*w,Z=J[2]*w;U=J?-J[0]:U,B=X/o,q=(P+Z)/o}else B=P/o,q=0;if(i.remeasure&&U>0){const J=s.measureText(V).width*1e3/r*o;if(U<J&&this.isFontSubpixelAAEnabled){const X=U/J;D=!0,s.save(),s.scale(X,1),B/=X}else U!==J&&(B+=(U-J)/2e3*r/o)}if(this.contentVisible&&(j.isInFont||i.missingFile)){if(T&&!x)s.fillText(V,B,q);else if(this.paintChar(V,B,q,A),x){const J=B+r*x.offset.x/o,X=q-r*x.offset.y/o;this.paintChar(x.fontChar,J,X,A)}}const tt=y?U*w-I*d:U*w+I*d;P+=tt,D&&s.restore()}y?e.y-=P:e.x+=P*f,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,c=r.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,f=i.textHScale*o,m=i.fontMatrix||aC,y=t.length,b=i.textRenderingMode===or.INVISIBLE;let E,w,T,A;if(!(b||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(f,o),E=0;E<y;++E){if(w=t[E],typeof w=="number"){A=c*w*s/1e3,this.ctx.translate(A,0),i.x+=A*f;continue}const O=(w.isSpace?d:0)+u,k=r.charProcOperatorList[w.operatorListId];if(!k){Ae(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(s,s),e.transform(...m),this.executeOperatorList(k),this.restore()),T=Yt.applyTransform([w.width,0],m)[0]*s+O,e.translate(T,0),i.x+=T*f}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],r=this.baseTransform||zn(this.ctx),s={createCanvasGraphics:o=>new Hk(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new OC(t,i,this.ctx,s,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=Yt.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=Yt.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=zit(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,cl(e),Rr.SHADING);const r=cl(e);if(r){const{width:s,height:o}=e.canvas,[c,u,d,f]=Yt.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(c,u,d-c,f-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){In("Should not call beginInlineImage")}beginImageData(){In("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=zn(this.ctx),e)){const i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.current.updateRectMinMax(zn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||n1("TODO: Support non-isolated groups."),t.knockout&&Ae("Knockout groups not supported.");const i=zn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Yt.getAxialAlignedBoundingBox(t.bbox,zn(e));const s=[0,0,e.canvas.width,e.canvas.height];r=Yt.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),c=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,u,d),y=m.context;y.translate(-o,-c),y.transform(...i),t.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,c),e.save()),fy(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=zn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Yt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,i,r,s){if($(this,Fu,LC).call(this),J_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],c=e[3]-e[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=c;const[u,d]=Yt.singularValueDecompose2dScale(zn(this.ctx)),{viewportScale:f}=this,m=Math.ceil(o*this.outputScaleX*f),y=Math.ceil(c*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(m,y);const{canvas:b,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,c*d),J_(this.ctx)}else J_(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],o,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new xN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),$(this,Fu,NC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=$it(t)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(t),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const u=zn(c);c.transform(e,i,r,s,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let f=0,m=o.length;f<m;f+=2){const y=Yt.transform(u,[e,i,r,s,o[f],o[f+1]]),[b,E]=Yt.applyTransform([0,0],y);c.drawImage(d.canvas,b,E)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of t){const{data:o,width:c,height:u,transform:d}=s,f=this.cachedCanvases.getCanvas("maskCanvas",c,u),m=f.context;m.save();const y=this.getObject(o,s);CN(m,y),m.globalCompositeOperation="source-in",m.fillStyle=r?i.getPattern(m,this,cl(e),Rr.FILL):i,m.fillRect(0,0,c,u),m.restore(),e.save(),e.transform(...d),e.scale(1,-1),Z_(e,f.canvas,0,0,c,u,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ae("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){Ae("Dependent image isn't ready yet");return}const o=s.width,c=s.height,u=[];for(let d=0,f=r.length;d<f;d+=2)u.push({transform:[e,0,0,i,r[d],r[d+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(s,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;if(this.save(),!gr){const{filter:c}=r;c!=="none"&&c!==""&&(r.filter="none")}r.scale(1/e,-1/i);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",e,i).context;TN(u,t),s=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(s,cl(r));r.imageSmoothingEnabled=RN(zn(r),t.interpolate),Z_(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,o=t.height,u=this.cachedCanvases.getCanvas("inlineImage",s,o).context;TN(u,t),r=this.applyTransferMapsToCanvas(u)}for(const s of e)i.save(),i.transform(...s.transform),i.scale(1,-1),Z_(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===IN?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=zn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform();let o,c;if(i===0&&r===0){const u=Math.abs(e),d=Math.abs(s);if(u===d)if(t===0)o=c=1/u;else{const f=u*t;o=c=f<1?1/f:1}else if(t===0)o=1/u,c=1/d;else{const f=u*t,m=d*t;o=f<1?1/f:1,c=m<1?1/m:1}}else{const u=Math.abs(e*s-i*r),d=Math.hypot(e,i),f=Math.hypot(r,s);if(t===0)o=f/u,c=d/u;else{const m=t*u;o=f>m?f/m:1,c=d>m?d/m:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(e.lineWidth=i||1,r===1&&s===1){e.stroke();return}const o=e.getLineDash();if(t&&e.save(),e.scale(r,s),o.length>0){const c=Math.max(r,s);e.setLineDash(o.map(u=>u/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Fu=new WeakSet,LC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},NC=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let _p=Hk;for(const n in oa)_p.prototype[n]!==void 0&&(_p.prototype[oa[n]]=_p.prototype[n]);var jv,Uv;class Vl{static get workerPort(){return g(this,jv)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");H(this,jv,t)}static get workerSrc(){return g(this,Uv)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");H(this,Uv,t)}}jv=new WeakMap,Uv=new WeakMap,K(Vl,jv,null),K(Vl,Uv,"");const tE={DATA:1,ERROR:2},ci={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function is(n){switch(n instanceof Error||typeof n=="object"&&n!==null||In('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Kd(n.message);case"MissingPDFException":return new Wd(n.message);case"PasswordException":return new oC(n.message,n.code);case"UnexpectedResponseException":return new i1(n.message,n.status);case"UnknownErrorException":return new lC(n.message,n.details);default:return new lC(n.message,n.toString())}}var Bp,Zs,R6,I6,k6,OE;class My{constructor(t,e,i){K(this,Zs);K(this,Bp,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",$(this,Zs,R6).bind(this),{signal:g(this,Bp).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,i,r){const s=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:t,streamId:s,data:e,desiredSize:d.desiredSize},r),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:ci.PULL,streamId:s,desiredSize:d.desiredSize}),f.promise},cancel:d=>{Ci(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:ci.CANCEL,streamId:s,reason:is(d)}),f.promise}},i)}destroy(){var t;(t=g(this,Bp))==null||t.abort(),H(this,Bp,null)}}Bp=new WeakMap,Zs=new WeakSet,R6=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){$(this,Zs,k6).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===tE.DATA)r.resolve(t.data);else if(t.callback===tE.ERROR)r.reject(is(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,s=this.comObj;new Promise(function(o){o(e(t.data))}).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:tE.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:tE.ERROR,callbackId:t.callbackId,reason:is(o)})});return}if(t.streamId){$(this,Zs,I6).call(this,t);return}e(t.data)},I6=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,o=this,c=this.actionHandler[t.action],u={enqueue(d,f=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=f,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:ci.ENQUEUE,streamId:e,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ci.CLOSE,streamId:e}),delete o.streamSinks[e])},error(d){Ci(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ci.ERROR,streamId:e,reason:is(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,new Promise(function(d){d(c(t.data,u))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ci.START_COMPLETE,streamId:e,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:ci.START_COMPLETE,streamId:e,reason:is(d)})})},k6=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,o=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case ci.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(is(t.reason));break;case ci.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(is(t.reason));break;case ci.PULL:if(!c){s.postMessage({sourceName:i,targetName:r,stream:ci.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(u){var d;u((d=c.onPull)==null?void 0:d.call(c))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ci.PULL_COMPLETE,streamId:e,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ci.PULL_COMPLETE,streamId:e,reason:is(u)})});break;case ci.ENQUEUE:if(Ci(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ci.CLOSE:if(Ci(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),$(this,Zs,OE).call(this,o,e);break;case ci.ERROR:Ci(o,"error should have stream controller"),o.controller.error(is(t.reason)),$(this,Zs,OE).call(this,o,e);break;case ci.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(is(t.reason)),$(this,Zs,OE).call(this,o,e);break;case ci.CANCEL:if(!c)break;new Promise(function(u){var d;u((d=c.onCancel)==null?void 0:d.call(c,is(t.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ci.CANCEL_COMPLETE,streamId:e,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ci.CANCEL_COMPLETE,streamId:e,reason:is(u)})}),c.sinkCapability.reject(is(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},OE=async function(t,e){var i,r,s;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]};var Qh,Hv;class Kit{constructor({parsedData:t,rawData:e}){K(this,Qh);K(this,Hv);H(this,Qh,t),H(this,Hv,e)}getRaw(){return g(this,Hv)}get(t){return g(this,Qh).get(t)??null}getAll(){return fk(g(this,Qh))}has(t){return g(this,Qh).has(t)}}Qh=new WeakMap,Hv=new WeakMap;const op=Symbol("INTERNAL");var $v,qv,Gv,jp;class Yit{constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){K(this,$v,!1);K(this,qv,!1);K(this,Gv,!1);K(this,jp,!0);H(this,$v,!!(t&fs.DISPLAY)),H(this,qv,!!(t&fs.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(g(this,Gv))return g(this,jp);if(!g(this,jp))return!1;const{print:t,view:e}=this.usage;return g(this,$v)?(e==null?void 0:e.viewState)!=="OFF":g(this,qv)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==op&&In("Internal method `_setVisible` called."),H(this,Gv,i),H(this,jp,e)}}$v=new WeakMap,qv=new WeakMap,Gv=new WeakMap,jp=new WeakMap;var Jc,cn,Up,Hp,Wv,FC;class Xit{constructor(t,e=fs.DISPLAY){K(this,Wv);K(this,Jc,null);K(this,cn,new Map);K(this,Up,null);K(this,Hp,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,H(this,Hp,t.order);for(const i of t.groups)g(this,cn).set(i.id,new Yit(e,i));if(t.baseState==="OFF")for(const i of g(this,cn).values())i._setVisible(op,!1);for(const i of t.on)g(this,cn).get(i)._setVisible(op,!0);for(const i of t.off)g(this,cn).get(i)._setVisible(op,!1);H(this,Up,this.getHash())}}isVisible(t){if(g(this,cn).size===0)return!0;if(!t)return n1("Optional content group not defined."),!0;if(t.type==="OCG")return g(this,cn).has(t.id)?g(this,cn).get(t.id).visible:(Ae(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return $(this,Wv,FC).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!g(this,cn).has(e))return Ae(`Optional content group not found: ${e}`),!0;if(g(this,cn).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!g(this,cn).has(e))return Ae(`Optional content group not found: ${e}`),!0;if(!g(this,cn).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!g(this,cn).has(e))return Ae(`Optional content group not found: ${e}`),!0;if(!g(this,cn).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!g(this,cn).has(e))return Ae(`Optional content group not found: ${e}`),!0;if(g(this,cn).get(e).visible)return!1}return!0}return Ae(`Unknown optional content policy ${t.policy}.`),!0}return Ae(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var s;const r=g(this,cn).get(t);if(!r){Ae(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const c of o)c!==t&&((s=g(this,cn).get(c))==null||s._setVisible(op,!1,!0));r._setVisible(op,!!e,!0),H(this,Jc,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=g(this,cn).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}H(this,Jc,null)}get hasInitialVisibility(){return g(this,Up)===null||this.getHash()===g(this,Up)}getOrder(){return g(this,cn).size?g(this,Hp)?g(this,Hp).slice():[...g(this,cn).keys()]:null}getGroups(){return g(this,cn).size>0?fk(g(this,cn)):null}getGroup(t){return g(this,cn).get(t)||null}getHash(){if(g(this,Jc)!==null)return g(this,Jc);const t=new y6;for(const[e,i]of g(this,cn))t.update(`${e}:${i.visible}`);return H(this,Jc,t.hexdigest())}}Jc=new WeakMap,cn=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Wv=new WeakSet,FC=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const s=t[r];let o;if(Array.isArray(s))o=$(this,Wv,FC).call(this,s);else if(g(this,cn).has(s))o=g(this,cn).get(s).visible;else return Ae(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class Qit{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Ci(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(i),!0)});Ci(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,s;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ci(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Zit(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Jit(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class Zit{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=gk(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Jit{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function trt(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let f=c(e);return f=unescape(f),f=u(f),f=d(f),s(f)}if(e=o(n),e){const f=d(e);return s(f)}if(e=i("filename","i").exec(n),e){e=e[1];let f=c(e);return f=d(f),s(f)}function i(f,m){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(f,m){if(f){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(f,{fatal:!0}),b=r1(m);m=y.decode(b),t=!1}catch{}}return m}function s(f){return t&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),t&&(f=r("iso-8859-1",f))),f}function o(f){const m=[];let y;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(f))!==null;){let[,w,T,A]=y;if(w=parseInt(w,10),w in m){if(w===0)break;continue}m[w]=[T,A]}const E=[];for(let w=0;w<m.length&&w in m;++w){let[T,A]=m[w];A=c(A),T&&(A=unescape(A),w===0&&(A=u(A))),E.push(A)}return E.join("")}function c(f){if(f.startsWith('"')){const m=f.slice(1).split('\\"');for(let y=0;y<m.length;++y){const b=m[y].indexOf('"');b!==-1&&(m[y]=m[y].slice(0,b),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}f=m.join('"')}return f}function u(f){const m=f.indexOf("'");if(m===-1)return f;const y=f.slice(0,m),E=f.slice(m+1).replace(/^[^']*'/,"");return r(y,E)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,b,E){if(b==="q"||b==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,T){return String.fromCharCode(parseInt(T,16))}),r(y,E);try{E=atob(E)}catch{}return r(y,E)})}return""}function Ek(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function Sk({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function wk(n){const t=n.get("Content-Disposition");if(t){let e=trt(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(gk(e))return e}return null}function o1(n,t){return n===404||n===0&&t.startsWith("file:")?new Wd('Missing PDF "'+t+'".'):new i1(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function P6(n){return n===200||n===206}function M6(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function D6(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ae(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class kN{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Ek(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ci(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ert(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new nrt(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class ert{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,M6(i,this._withCredentials,this._abortController)).then(s=>{if(!P6(s.status))throw o1(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:c,suggestedLength:u}=Sk({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=wk(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Kd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:D6(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class nrt{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${i-1}`);const o=r.url;fetch(o,M6(s,this._withCredentials,this._abortController)).then(c=>{if(!P6(c.status))throw o1(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:D6(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Xx=200,Qx=206;function irt(n){const t=n.response;return typeof t!="string"?t:r1(t).buffer}class rrt{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Ek(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const r={begin:t,end:e};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Qx):r.expectedStatus=Xx,e.responseType="arraybuffer",t.onError&&(e.onerror=function(s){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){var u,d,f;const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(u=i.onError)==null||u.call(i,r.status);return}const s=r.status||Xx;if(!(s===Xx&&i.expectedStatus===Qx)&&s!==i.expectedStatus){(d=i.onError)==null||d.call(i,r.status);return}const c=irt(r);if(s===Qx){const m=r.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);i.onDone({begin:parseInt(y[1],10),chunk:c})}else c?i.onDone({begin:0,chunk:c}):(f=i.onError)==null||f.call(i,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class srt{constructor(t){this._source=t,this._manager=new rrt(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ci(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new art(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new ort(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class art{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[c,...u]=o.split(": ");return[c,u.join(": ")]})),{allowRangeRequests:r,suggestedLength:s}=Sk({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=wk(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=o1(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ort{constructor(t,e,i){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=o1(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lrt=/^[a-z][a-z0-9\-+.]+:/i;function crt(n){if(lrt.test(n))return new URL(n);const t=Lu.get("url");return new URL(t.pathToFileURL(n))}function O6(n,t,e){return n.protocol==="http:"?Lu.get("http").request(n,{headers:t},e):Lu.get("https").request(n,{headers:t},e)}class urt{constructor(t){this.source=t,this.url=crt(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Ek(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ci(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new frt(this):new hrt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new prt(this,t,e):new drt(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class L6{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Kd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N6{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class hrt extends L6{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=r=>{if(r.statusCode===404){const u=new Wd(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(r);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:c}=Sk({responseHeaders:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=wk(s)};this._request=O6(this._url,e,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class drt extends N6{constructor(t,e,i){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${i-1}`;const s=o=>{if(o.statusCode===404){const c=new Wd(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(o)};this._request=O6(this._url,r,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class frt extends L6{constructor(t){super(t);const e=Lu.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Wd(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class prt extends N6{constructor(t,e,i){super(t);const r=Lu.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}}const mrt=1e5,Fr=30,grt=.8;var UF,tu,jr,Kv,Yv,Zh,_l,Xv,Qv,Jh,$p,qp,eu,Gp,Zv,Wp,td,Jv,tb,Xn,ed,nd,eb,nu,Kp,ec,F6,V6,zC,Ss,LE,BC,z6,B6;let VC=(Xn=class{constructor({textContentSource:t,container:e,viewport:i}){K(this,ec);K(this,tu,Promise.withResolvers());K(this,jr,null);K(this,Kv,!1);K(this,Yv,!!((UF=globalThis.FontInspector)!=null&&UF.enabled));K(this,Zh,null);K(this,_l,null);K(this,Xv,0);K(this,Qv,0);K(this,Jh,null);K(this,$p,null);K(this,qp,0);K(this,eu,0);K(this,Gp,Object.create(null));K(this,Zv,[]);K(this,Wp,null);K(this,td,[]);K(this,Jv,new WeakMap);K(this,tb,null);var u;if(t instanceof ReadableStream)H(this,Wp,t);else if(typeof t=="object")H(this,Wp,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');H(this,jr,H(this,$p,e)),H(this,eu,i.scale*(globalThis.devicePixelRatio||1)),H(this,qp,i.rotation),H(this,_l,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:c}=i.rawDims;H(this,tb,[1,0,0,-1,-o,c+s]),H(this,Qv,r),H(this,Xv,s),$(u=Xn,Ss,z6).call(u),Dd(e,i),g(this,tu).promise.finally(()=>{g(Xn,Kp).delete(this),H(this,_l,null),H(this,Gp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=kr.platform;return Ne(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{g(this,Jh).read().then(({value:e,done:i})=>{if(i){g(this,tu).resolve();return}g(this,Zh)??H(this,Zh,e.lang),Object.assign(g(this,Gp),e.styles),$(this,ec,F6).call(this,e.items),t()},g(this,tu).reject)};return H(this,Jh,g(this,Wp).getReader()),g(Xn,Kp).add(this),t(),g(this,tu).promise}update({viewport:t,onBefore:e=null}){var s;const i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==g(this,qp)&&(e==null||e(),H(this,qp,r),Dd(g(this,$p),{rotation:r})),i!==g(this,eu)){e==null||e(),H(this,eu,i);const o={div:null,properties:null,ctx:$(s=Xn,Ss,LE).call(s,g(this,Zh))};for(const c of g(this,td))o.properties=g(this,Jv).get(c),o.div=c,$(this,ec,zC).call(this,o)}}cancel(){var e;const t=new Kd("TextLayer task cancelled.");(e=g(this,Jh))==null||e.cancel(t).catch(()=>{}),H(this,Jh,null),g(this,tu).reject(t)}get textDivs(){return g(this,td)}get textContentItemsStr(){return g(this,Zv)}static cleanup(){if(!(g(this,Kp).size>0)){g(this,ed).clear();for(const{canvas:t}of g(this,nd).values())t.remove();g(this,nd).clear()}}},tu=new WeakMap,jr=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,Zh=new WeakMap,_l=new WeakMap,Xv=new WeakMap,Qv=new WeakMap,Jh=new WeakMap,$p=new WeakMap,qp=new WeakMap,eu=new WeakMap,Gp=new WeakMap,Zv=new WeakMap,Wp=new WeakMap,td=new WeakMap,Jv=new WeakMap,tb=new WeakMap,ed=new WeakMap,nd=new WeakMap,eb=new WeakMap,nu=new WeakMap,Kp=new WeakMap,ec=new WeakSet,F6=function(t){var r,s;if(g(this,Kv))return;(s=g(this,_l)).ctx??(s.ctx=$(r=Xn,Ss,LE).call(r,g(this,Zh)));const e=g(this,td),i=g(this,Zv);for(const o of t){if(e.length>mrt){Ae("Ignoring additional textDivs for performance reasons."),H(this,Kv,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const c=g(this,jr);H(this,jr,document.createElement("span")),g(this,jr).classList.add("markedContent"),o.id!==null&&g(this,jr).setAttribute("id",`${o.id}`),c.append(g(this,jr))}else o.type==="endMarkedContent"&&H(this,jr,g(this,jr).parentNode);continue}i.push(o.str),$(this,ec,V6).call(this,o)}},V6=function(t){var w;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};g(this,td).push(e);const r=Yt.transform(g(this,tb),t.transform);let s=Math.atan2(r[1],r[0]);const o=g(this,Gp)[t.fontName];o.vertical&&(s+=Math.PI/2);let c=g(this,Yv)&&o.fontSubstitution||o.fontFamily;c=Xn.fontFamilyMap.get(c)||c;const u=Math.hypot(r[2],r[3]),d=u*$(w=Xn,Ss,B6).call(w,c,g(this,Zh));let f,m;s===0?(f=r[4],m=r[5]-d):(f=r[4]+d*Math.sin(s),m=r[5]-d*Math.cos(s));const y="calc(var(--scale-factor)*",b=e.style;g(this,jr)===g(this,$p)?(b.left=`${(100*f/g(this,Qv)).toFixed(2)}%`,b.top=`${(100*m/g(this,Xv)).toFixed(2)}%`):(b.left=`${y}${f.toFixed(2)}px)`,b.top=`${y}${m.toFixed(2)}px)`),b.fontSize=`${y}${(g(Xn,nu)*u).toFixed(2)}px)`,b.fontFamily=c,i.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,g(this,Yv)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const T=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);T!==A&&Math.max(T,A)/Math.min(T,A)>1.5&&(E=!0)}if(E&&(i.canvasWidth=o.vertical?t.height:t.width),g(this,Jv).set(e,i),g(this,_l).div=e,g(this,_l).properties=i,$(this,ec,zC).call(this,g(this,_l)),i.hasText&&g(this,jr).append(e),i.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),g(this,jr).append(T)}},zC=function(t){var c;const{div:e,properties:i,ctx:r}=t,{style:s}=e;let o="";if(g(Xn,nu)>1&&(o=`scale(${1/g(Xn,nu)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=s,{canvasWidth:d,fontSize:f}=i;$(c=Xn,Ss,BC).call(c,r,f*g(this,eu),u);const{width:m}=r.measureText(e.textContent);m>0&&(o=`scaleX(${d*g(this,eu)/m}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Ss=new WeakSet,LE=function(t=null){let e=g(this,nd).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,nd).set(t,e),g(this,eb).set(e,{size:0,family:""})}return e},BC=function(t,e,i){const r=g(this,eb).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},z6=function(){if(g(this,nu)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),H(this,nu,t.getBoundingClientRect().height),t.remove()},B6=function(t,e){const i=g(this,ed).get(t);if(i)return i;const r=$(this,Ss,LE).call(this,e);r.canvas.width=r.canvas.height=Fr,$(this,Ss,BC).call(this,r,Fr,t);const s=r.measureText("");let o=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);if(o){const f=o/(o+c);return g(this,ed).set(t,f),r.canvas.width=r.canvas.height=0,f}r.strokeStyle="red",r.clearRect(0,0,Fr,Fr),r.strokeText("g",0,0);let u=r.getImageData(0,0,Fr,Fr).data;c=0;for(let f=u.length-1-3;f>=0;f-=4)if(u[f]>0){c=Math.ceil(f/4/Fr);break}r.clearRect(0,0,Fr,Fr),r.strokeText("A",0,Fr),u=r.getImageData(0,0,Fr,Fr).data,o=0;for(let f=0,m=u.length;f<m;f+=4)if(u[f]>0){o=Fr-Math.floor(f/4/Fr);break}r.canvas.width=r.canvas.height=0;const d=o?o/(o+c):grt;return g(this,ed).set(t,d),d},K(Xn,Ss),K(Xn,ed,new Map),K(Xn,nd,new Map),K(Xn,eb,new WeakMap),K(Xn,nu,null),K(Xn,Kp,new Set),Xn);class vv{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(s){var u;if(!s)return;let o=null;const c=s.name;if(c==="#text")o=s.value;else if(vv.shouldBuildText(c))(u=s==null?void 0:s.attributes)!=null&&u.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(const d of s.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const yrt=65536,vrt=100,brt=5e3,_rt=gr?Mit:Iit,Ert=gr?Dit:S6,Srt=gr?Pit:kit,wrt=gr?Oit:T6;function Art(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new jC,{docId:e}=t,i=n.url?xrt(n.url):null,r=n.data?Trt(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,c=n.password??null,u=n.range instanceof j6?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:yrt;let f=n.worker instanceof Ep?n.worker:null;const m=n.verbosity,y=typeof n.docBaseUrl=="string"&&!a1(n.docBaseUrl)?n.docBaseUrl:null,b=typeof n.cMapUrl=="string"?n.cMapUrl:null,E=n.cMapPacked!==!1,w=n.CMapReaderFactory||Ert,T=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,A=n.StandardFontDataFactory||wrt,O=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!gr,j=typeof n.isChrome=="boolean"?n.isChrome:!kr.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,I=typeof n.disableFontFace=="boolean"?n.disableFontFace:gr,V=n.fontExtraProperties===!0,x=n.enableXfa===!0,B=n.ownerDocument||globalThis.document,q=n.disableRange===!0,U=n.disableStream===!0,tt=n.disableAutoFetch===!0,J=n.pdfBug===!0,X=n.CanvasFactory||_rt,Z=n.FilterFactory||Srt,rt=n.enableHWA===!0,dt=u?u.length:n.length??NaN,N=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!gr&&!I,st=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:w===S6&&A===T6&&b&&T&&xy(b,document.baseURI)&&xy(T,document.baseURI);n.canvasFactory&&vN("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&vN("`filterFactory`-instance option, please use `FilterFactory` instead.");const ut=null;ait(m);const G={canvasFactory:new X({ownerDocument:B,enableHWA:rt}),filterFactory:new Z({docId:e,ownerDocument:B}),cMapReaderFactory:st?null:new w({baseUrl:b,isCompressed:E}),standardFontDataFactory:st?null:new A({baseUrl:T})};if(!f){const wt={verbosity:m,port:Vl.workerPort};f=wt.port?Ep.fromPort(wt):new Ep(wt),t._worker=f}const St={docId:e,apiVersion:"4.8.69",data:r,password:c,disableAutoFetch:tt,rangeChunkSize:d,length:dt,docBaseUrl:y,enableXfa:x,evaluatorOptions:{maxImageSize:k,disableFontFace:I,ignoreErrors:O,isEvalSupported:P,isOffscreenCanvasSupported:F,isChrome:j,canvasMaxAreaInBytes:D,fontExtraProperties:V,useSystemFonts:N,cMapUrl:st?b:null,standardFontDataUrl:st?T:null}},Ct={disableFontFace:I,fontExtraProperties:V,ownerDocument:B,pdfBug:J,styleElement:ut,loadingParams:{disableAutoFetch:tt,enableXfa:x}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const wt=f.messageHandler.sendWithPromise("GetDocRequest",St,r?[r.buffer]:null);let It;if(u)It=new Qit(u,{disableRange:q,disableStream:U});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let zt;gr?zt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&xy(i)?kN:urt:zt=xy(i)?kN:srt,It=new zt({url:i,length:dt,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:q,disableStream:U})}return wt.then(zt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Kt=new My(e,zt,f.port),xt=new krt(Kt,t,It,Ct,G);t._transport=xt,Kt.send("Ready",null)})}).catch(t._capability.reject),t}function xrt(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(gr&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Trt(n){if(gr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return r1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function PN(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var ZS;const JS=class JS{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${xr(JS,ZS)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ZS=new WeakMap,K(JS,ZS,0);let jC=JS,j6=class{constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){In("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Crt{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ne(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var iu,El,Ws,lp,NE;class Rrt{constructor(t,e,i,r=!1){K(this,Ws);K(this,iu,null);K(this,El,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new yN:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new U6,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new i0({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ne(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=jc.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:m=!1}){var P,F;(P=this._stats)==null||P.time("Overall");const y=this._transport.getRenderingIntent(i,r,f,m),{renderingIntent:b,cacheKey:E}=y;H(this,El,!1),$(this,Ws,NE).call(this),c||(c=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(E);w||(w=Object.create(null),this._intentStates.set(E,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const T=!!(b&fs.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const A=j=>{var D;w.renderTasks.delete(O),(this._maybeCleanupAfterRender||T)&&H(this,El,!0),$(this,Ws,lp).call(this,!T),j?(O.capability.reject(j),this._abortOperatorList({intentState:w,reason:j instanceof Error?j:new Error(j)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new HC({callback:A,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d});(w.renderTasks||(w.renderTasks=new Set)).add(O);const k=O.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([j,D])=>{var I;if(this.destroyed){A();return}if((I=this._stats)==null||I.time("Rendering"),!(D.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:j,optionalContentConfig:D}),O.operatorListChanged()}).catch(A),k}getOperatorList({intent:t="display",annotationMode:e=jc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var d;function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(t,e,i,r,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>vv.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function s(){o.read().then(function({value:u,done:d}){if(d){i(c);return}c.lang??(c.lang=u.lang),Object.assign(c.styles,u.styles),c.items.push(...u.items),s()},r)}const o=e.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),H(this,El,!1),$(this,Ws,NE).call(this),Promise.all(t)}cleanup(t=!1){H(this,El,!0);const e=$(this,Ws,lp).call(this,!1);return t&&e&&this._stats&&(this._stats=new yN),e}_startRenderPage(t,e){var r,s;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&$(this,Ws,lp).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},o).getReader(),d=this._intentStates.get(e);d.streamReader=u;const f=()=>{u.read().then(({value:m,done:y})=>{if(y){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),f())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const y of d.renderTasks)y.operatorListChanged();$(this,Ws,lp).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};f()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof mk){let r=vrt;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Kd(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}iu=new WeakMap,El=new WeakMap,Ws=new WeakSet,lp=function(t=!1){if($(this,Ws,NE).call(this),!g(this,El)||this.destroyed)return!1;if(t)return H(this,iu,setTimeout(()=>{H(this,iu,null),$(this,Ws,lp).call(this,!1)},brt)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),H(this,El,!1),!0},NE=function(){g(this,iu)&&(clearTimeout(g(this,iu)),H(this,iu,null))};var Sl,tw;class Irt{constructor(){K(this,Sl,new Map);K(this,tw,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};g(this,tw).then(()=>{for(const[r]of g(this,Sl))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){Ae("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}g(this,Sl).set(e,r)}removeEventListener(t,e){const i=g(this,Sl).get(e);i==null||i(),g(this,Sl).delete(e)}terminate(){for(const[,t]of g(this,Sl))t==null||t();g(this,Sl).clear()}}Sl=new WeakMap,tw=new WeakMap;var ew,id,rd,Yp,FE,Xp,VE;const On=class On{constructor({name:t=null,port:e=null,verbosity:i=oit()}={}){K(this,Yp);var r;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=g(On,rd))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(g(On,rd)||H(On,rd,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return gr?Promise.all([Lu.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new My("main","worker",t),this._messageHandler.on("ready",function(){}),$(this,Yp,FE).call(this)}_initialize(){if(g(On,id)||g(On,Xp,VE)){this._setupFakeWorker();return}let{workerSrc:t}=On;try{On._isSameOrigin(window.location.href,t)||(t=On._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new My("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}this._messageHandler=i,this._port=e,this._webWorker=e,$(this,Yp,FE).call(this)}),i.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};o();return}catch{n1("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(On,id)||(Ae("Setting up fake worker."),H(On,id,!0)),On._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new Irt;this._port=e;const i=`fake${xr(On,ew)._++}`,r=new My(i+"_worker",i,e);t.setup(r,e),this._messageHandler=new My(i,i+"_worker",e),$(this,Yp,FE).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=g(On,rd))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=g(this,rd))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new On(t)}static get workerSrc(){if(Vl.workerSrc)return Vl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ne(this,"_setupFakeWorkerGlobal",(async()=>g(this,Xp,VE)?g(this,Xp,VE):(await import(this.workerSrc)).WorkerMessageHandler)())}};ew=new WeakMap,id=new WeakMap,rd=new WeakMap,Yp=new WeakSet,FE=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Xp=new WeakSet,VE=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},K(On,Xp),K(On,ew,0),K(On,id,!1),K(On,rd),gr&&(H(On,id,!0),Vl.workerSrc||(Vl.workerSrc="./pdf.worker.mjs")),On._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(e,i);return i.origin===r.origin},On._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Ep=On;var wl,ao,Qp,Zp,oo,sd,Dy;class krt{constructor(t,e,i,r,s){K(this,sd);K(this,wl,new Map);K(this,ao,new Map);K(this,Qp,new Map);K(this,Zp,new Map);K(this,oo,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new U6,this.fontLoader=new Cit({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ne(this,"annotationStorage",new bk)}getRenderingIntent(t,e=jc.ENABLE,i=null,r=!1,s=!1){let o=fs.DISPLAY,c=IC;switch(t){case"any":o=fs.ANY;break;case"display":break;case"print":o=fs.PRINT;break;default:Ae(`getRenderingIntent - invalid intent: ${t}`)}const u=o&fs.PRINT&&i instanceof b6?i:this.annotationStorage;switch(e){case jc.DISABLE:o+=fs.ANNOTATIONS_DISABLE;break;case jc.ENABLE:break;case jc.ENABLE_FORMS:o+=fs.ANNOTATIONS_FORMS;break;case jc.ENABLE_STORAGE:o+=fs.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Ae(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=fs.IS_EDITING),s&&(o+=fs.OPLIST);const{ids:d,hash:f}=u.modifiedIds,m=[o,c.hash,f];return{renderingIntent:o,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=g(this,oo))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of g(this,ao).values())t.push(r._destroy());g(this,ao).clear(),g(this,Qp).clear(),g(this,Zp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),g(this,wl).clear(),this.filterFactory.destroy(),VC.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Kd("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Ci(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Ci(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),t.on("GetRangeReader",(i,r)=>{Ci(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:c}){if(c){r.close();return}Ci(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new Crt(i,this))}),t.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new oC(i.message,i.code);break;case"InvalidPDFException":r=new qV(i.message);break;case"MissingPDFException":r=new Wd(i.message);break;case"UnexpectedResponseException":r=new i1(i.message,i.status);break;case"UnknownErrorException":r=new lC(i.message,i.details);break;default:In("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",i=>{if(H(this,oo,Promise.withResolvers()),e.onPassword){const r=s=>{s instanceof Error?g(this,oo).reject(s):g(this,oo).resolve({password:s})};try{e.onPassword(r,i.code)}catch(s){g(this,oo).reject(s)}}else g(this,oo).reject(new oC(i.message,i.code));return g(this,oo).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;g(this,ao).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:c,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in s){const b=s.error;Ae(`Error during font loading: ${b}`),this.commonObjs.resolve(i,b);break}const f=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(b,E)=>globalThis.FontInspector.fontAdded(b,E):null,m=new Rit(s,{disableFontFace:c,inspectFont:f});this.fontLoader.bind(m).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u&&m.data&&(m.data=null),this.commonObjs.resolve(i,m)});break;case"CopyLocalImage":const{imageRef:y}=s;Ci(y,"The imageRef must be defined.");for(const b of g(this,ao).values())for(const[,E]of b.objs)if((E==null?void 0:E.ref)===y)return E.dataLen?(this.commonObjs.resolve(i,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,o])=>{var u;if(this.destroyed)return;const c=g(this,ao).get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(s){case"Image":c.objs.resolve(i,o),(o==null?void 0:o.dataLen)>nit&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Ae("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=g(this,Qp).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&g(this,Zp).set(s.refStr,t);const o=new Rrt(e,s,this,this._params.pdfBug);return g(this,ao).set(e,o),o});return g(this,Qp).set(e,r),r}getPageIndex(t){return PN(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return $(this,sd,Dy).call(this,"GetFieldObjects")}hasJSActions(){return $(this,sd,Dy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return $(this,sd,Dy).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return $(this,sd,Dy).call(this,"GetOptionalContentConfig").then(e=>new Xit(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=g(this,wl).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new Kit(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return g(this,wl).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of g(this,ao).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),g(this,wl).clear(),this.filterFactory.destroy(!0),VC.cleanup()}}cachedPageNumber(t){if(!PN(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return g(this,Zp).get(e)??null}}wl=new WeakMap,ao=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,oo=new WeakMap,sd=new WeakSet,Dy=function(t,e=null){const i=g(this,wl).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return g(this,wl).set(t,r),r};const eE=Symbol("INITIAL_DATA");var fa,nb,UC;class U6{constructor(){K(this,nb);K(this,fa,Object.create(null))}get(t,e=null){if(e){const r=$(this,nb,UC).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=g(this,fa)[t];if(!i||i.data===eE)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=g(this,fa)[t];return!!e&&e.data!==eE}resolve(t,e=null){const i=$(this,nb,UC).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in g(this,fa)){const{data:i}=g(this,fa)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}H(this,fa,Object.create(null))}*[Symbol.iterator](){for(const t in g(this,fa)){const{data:e}=g(this,fa)[t];e!==eE&&(yield[t,e])}}}fa=new WeakMap,nb=new WeakSet,UC=function(t){var e;return(e=g(this,fa))[t]||(e[t]={...Promise.withResolvers(),data:eE})};var ru;class Prt{constructor(t){K(this,ru,null);H(this,ru,t),this.onContinue=null}get promise(){return g(this,ru).capability.promise}cancel(t=0){g(this,ru).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=g(this,ru).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=g(this,ru);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}ru=new WeakMap;var su,ad;const Ih=class Ih{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:m=!1,pageColors:y=null}){K(this,su,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Prt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,u;if(this.cancelled)return;if(this._canvas){if(g(Ih,ad).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Ih,ad).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new _p(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),g(this,su)&&(window.cancelAnimationFrame(g(this,su)),H(this,su,null)),g(Ih,ad).delete(this._canvas),this.callback(t||new mk(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?H(this,su,window.requestAnimationFrame(()=>{H(this,su,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Ih,ad).delete(this._canvas),this.callback())))}};su=new WeakMap,ad=new WeakMap,K(Ih,ad,new WeakSet);let HC=Ih;const Mrt="4.8.69",Drt="3634dab10";function MN(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function py(n){return Math.max(0,Math.min(255,255*n))}class DN{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=py(t),[t,t,t]}static G_HTML([t]){const e=MN(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(py)}static RGB_HTML(t){return`#${t.map(MN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[py(1-Math.min(1,t+r)),py(1-Math.min(1,i+r)),py(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,s=1-e,o=1-i,c=Math.min(r,s,o);return["CMYK",r,s,o,c]}}class Ort{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){In("Abstract method `_createSVG` called.")}}class Ak extends Ort{_createSVG(t){return document.createElementNS(hl,t)}}class H6{static setupStorage(t,e,i,r,s){const o=r.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of i.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){const{attributes:o}=e,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,d]of Object.entries(o))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}c&&s.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var m,y;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const c=s!=="richText",u=t.div;if(u.append(o),t.viewport){const b=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=b}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const b=document.createTextNode(r.value);o.append(b),c&&vv.shouldBuildText(r.name)&&d.push(b)}return{textDivs:d}}const f=[[r,-1,o]];for(;f.length>0;){const[b,E,w]=f.at(-1);if(E+1===b.children.length){f.pop();continue}const T=b.children[++f.at(-1)[1]];if(T===null)continue;const{name:A}=T;if(A==="#text"){const k=document.createTextNode(T.value);d.push(k),w.append(k);continue}const O=(m=T==null?void 0:T.attributes)!=null&&m.xmlns?document.createElementNS(T.attributes.xmlns,A):document.createElement(A);if(w.append(O),T.attributes&&this.setAttributes({html:O,element:T,storage:e,intent:s,linkService:i}),((y=T.children)==null?void 0:y.length)>0)f.push([T,-1,O]);else if(T.value){const k=document.createTextNode(T.value);c&&vv.shouldBuildText(A)&&d.push(k),O.append(k)}}for(const b of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const s0=1e3,Lrt=9,Ld=new WeakSet;function Hl(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Nrt{static create(t){switch(t.data.annotationType){case wi.LINK:return new $6(t);case wi.TEXT:return new Frt(t);case wi.WIDGET:switch(t.data.fieldType){case"Tx":return new Vrt(t);case"Btn":return t.data.radioButton?new W6(t):t.data.checkBox?new Brt(t):new jrt(t);case"Ch":return new Urt(t);case"Sig":return new zrt(t)}return new Yd(t);case wi.POPUP:return new qC(t);case wi.FREETEXT:return new Z6(t);case wi.LINE:return new $rt(t);case wi.SQUARE:return new qrt(t);case wi.CIRCLE:return new Grt(t);case wi.POLYLINE:return new J6(t);case wi.CARET:return new Krt(t);case wi.INK:return new xk(t);case wi.POLYGON:return new Wrt(t);case wi.HIGHLIGHT:return new tz(t);case wi.UNDERLINE:return new Yrt(t);case wi.SQUIGGLY:return new Xrt(t);case wi.STRIKEOUT:return new Qrt(t);case wi.STAMP:return new ez(t);case wi.FILEATTACHMENT:return new Zrt(t);default:return new ii(t)}}}var od,Jp,tm,ib,$C;const $k=class $k{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){K(this,ib);K(this,od,null);K(this,Jp,!1);K(this,tm,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $k._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;g(this,od)||H(this,od,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&$(this,ib,$C).call(this,e),(i=g(this,tm))==null||i.popup.updateEdited(t)}resetEdited(){var t;g(this,od)&&($(this,ib,$C).call(this,g(this,od).rect),(t=g(this,tm))==null||t.popup.resetEdited(),H(this,od,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Yd||(s.tabIndex=s0);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof qC){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:c,height:u}=Hl(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(w>0||T>0){const O=`calc(${w}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;o.borderRadius=O}else if(this instanceof W6){const O=`calc(${c}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;o.borderRadius=O}switch(e.borderStyle.style){case dy.SOLID:o.borderStyle="solid";break;case dy.DASHED:o.borderStyle="dashed";break;case dy.BEVELED:Ae("Unimplemented border style: beveled");break;case dy.INSET:Ae("Unimplemented border style: inset");break;case dy.UNDERLINE:o.borderBottomStyle="solid";break}const A=e.borderColor||null;A?(H(this,Jp,!0),o.borderColor=Yt.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):o.borderWidth=0}const d=Yt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:m,pageX:y,pageY:b}=r.rawDims;o.left=`${100*(d[0]-y)/f}%`,o.top=`${100*(d[1]-b)/m}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(o.width=`${100*c/f}%`,o.height=`${100*u/m}%`):this.setRotation(E,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Hl(this.data.rect);let c,u;t%180===0?(c=100*s/i,u=100*o/r):(c=100*o/i,u=100*s/r),e.style.width=`${c}%`,e.style.height=`${u}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const s=r.detail[e],o=s[0],c=s.slice(1);r.target.style[i]=DN[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:DN[`${o}_rgb`](c)})};return Ne(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const s=t[r]||i[r];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,s]of Object.entries(e)){const o=i[r];if(o){const c={detail:{[r]:s},target:t};o(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,s]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,T,A,O]=t.subarray(2,6);if(r===w&&s===T&&e===A&&i===O)return}const{style:o}=this.container;let c;if(g(this,Jp)){const{borderColor:w,borderWidth:T}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const u=r-e,d=s-i,{svgFactory:f}=this,m=f.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const y=f.createElement("defs");m.append(y);const b=f.createElement("clipPath"),E=`clippath_${this.data.id}`;b.setAttribute("id",E),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let w=2,T=t.length;w<T;w+=8){const A=t[w],O=t[w+1],k=t[w+2],P=t[w+3],F=f.createElement("rect"),j=(k-e)/u,D=(s-O)/d,I=(A-k)/u,V=(O-P)/d;F.setAttribute("x",j),F.setAttribute("y",D),F.setAttribute("width",I),F.setAttribute("height",V),b.append(F),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${D}" width="${I}" height="${V}"/>`)}g(this,Jp)&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=H(this,tm,new qC({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){In("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:s,id:o,exportValues:c}of r){if(s===-1||o===e)continue;const u=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!Ld.has(d)){Ae(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:u,domElement:d})}return i}for(const r of document.getElementsByName(t)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==e&&Ld.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};od=new WeakMap,Jp=new WeakMap,tm=new WeakMap,ib=new WeakSet,$C=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:u}}}}=this;i==null||i.splice(0,4,...t);const{width:d,height:f}=Hl(t);e.left=`${100*(t[0]-c)/s}%`,e.top=`${100*(o-t[3]+u)/o}%`,r===0?(e.width=`${100*d/s}%`,e.height=`${100*f/o}%`):this.setRotation(r)};let ii=$k;var ps,Ah,q6,G6;class $6 extends ii{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});K(this,ps);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let s=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(r,e.action),s=!0):e.attachment?($(this,ps,q6).call(this,r,e.attachment,e.attachmentDest),s=!0):e.setOCGState?($(this,ps,G6).call(this,r,e.setOCGState),s=!0):e.dest?(this._bindLink(r,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),s=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&$(this,ps,Ah).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),$(this,ps,Ah).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(e[o]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}e.onclick||(e.onclick=()=>!1),$(this,ps,Ah).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),$(this,ps,Ah).call(this),!this._fieldObjects){Ae('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var m;r==null||r();const{fields:s,refs:o,include:c}=i,u=[];if(s.length!==0||o.length!==0){const y=new Set(o);for(const b of s){const E=this._fieldObjects[b]||[];for(const{id:w}of E)y.add(w)}for(const b of Object.values(this._fieldObjects))for(const E of b)y.has(E.id)===c&&u.push(E)}else for(const y of Object.values(this._fieldObjects))u.push(...y);const d=this.annotationStorage,f=[];for(const y of u){const{id:b}=y;switch(f.push(b),y.type){case"text":{const w=y.defaultValue||"";d.setValue(b,{value:w});break}case"checkbox":case"radiobutton":{const w=y.defaultValue===y.exportValues;d.setValue(b,{value:w});break}case"combobox":case"listbox":{const w=y.defaultValue||"";d.setValue(b,{value:w});break}default:continue}const E=document.querySelector(`[data-element-id="${b}"]`);if(E){if(!Ld.has(E)){Ae(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}ps=new WeakSet,Ah=function(){this.container.setAttribute("data-internal-link","")},q6=function(e,i,r=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},$(this,ps,Ah).call(this)},G6=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),$(this,ps,Ah).call(this)};class Frt extends ii{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Yd extends ii{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return kr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,o=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var c;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(t,e,i,r){var s,o,c;for(const[u,d]of i)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,u,d,r),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Yt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Lrt,s=t.style;let o;const c=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(d/(Gx*r))||1,m=d/f;o=Math.min(r,u(m/Gx))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(r,u(d/Gx))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=Yt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Vrt extends Yd{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let c=o.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&c.length>u&&(c=c.slice(0,u));let d=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const f={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??c,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",d??c),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Ld.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=s0,this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",y=>{t.setValue(e,{value:y.target.value}),this.setPropertyOnSiblings(i,"value",y.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";i.value=f.userValue=b,f.formattedValue=null});let m=y=>{const{formattedValue:b}=f;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",b=>{var w;if(f.focused)return;const{target:E}=b;f.userValue&&(E.value=f.userValue),f.lastCommittedValue=E.value,f.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const E={value(w){f.userValue=w.detail.value??"",t.setValue(e,{value:f.userValue.toString()}),w.target.value=f.userValue},formattedValue(w){const{formattedValue:T}=w.detail;f.formattedValue=T,T!=null&&w.target!==document.activeElement&&(w.target.value=T),t.setValue(e,{formattedValue:T})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var k;const{charLimit:T}=w.detail,{target:A}=w;if(T===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",T);let O=f.userValue;!O||O.length<=T||(O=O.slice(0,T),A.value=f.userValue=O,t.setValue(e,{value:O}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(E,b)}),i.addEventListener("keydown",b=>{var T;f.commitKey=1;let E=-1;if(b.key==="Escape"?E=0:b.key==="Enter"&&!this.data.multiLine?E=2:b.key==="Tab"&&(f.commitKey=3),E===-1)return;const{value:w}=b.target;f.lastCommittedValue!==w&&(f.lastCommittedValue=w,f.userValue=w,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:E,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=m;m=null,i.addEventListener("blur",b=>{var w,T;if(!f.focused||!b.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(f.focused=!1);const{value:E}=b.target;f.userValue=E,f.lastCommittedValue!==E&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:f.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),y(b)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",b=>{var F;f.lastCommittedValue=null;const{data:E,target:w}=b,{value:T,selectionStart:A,selectionEnd:O}=w;let k=A,P=O;switch(b.inputType){case"deleteWordBackward":{const j=T.substring(0,A).match(/\w*[^\w]*$/);j&&(k-=j[0].length);break}case"deleteWordForward":{const j=T.substring(A).match(/^[^\w]*\w*/);j&&(P+=j[0].length);break}case"deleteContentBackward":A===O&&(k-=1);break;case"deleteContentForward":A===O&&(P+=1);break}b.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:E||"",willCommit:!1,selStart:k,selEnd:P}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(m&&i.addEventListener("blur",m),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${b}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class zrt extends Yd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Brt extends Yd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ld.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=s0,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,i)){const f=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}t.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const c=e.defaultFieldValue||"Off";o.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class W6 extends Yd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const s=document.createElement("input");if(Ld.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=s0,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const d of this._getElementsByName(c,i))t.setValue(d.id,{value:!1});t.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const c=e.defaultFieldValue;o.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;s.addEventListener("updatefromsandbox",c=>{const u={value:d=>{const f=o===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const y=f&&m.id===i;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jrt extends $6{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class Urt extends Yd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Ld.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=s0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===m});for(const f of this.data.options){const m=document.createElement("option");m.textContent=f.displayValue,m.value=f.exportValue,i.value.includes(f.exportValue)&&(m.setAttribute("selected",!0),s=!1),r.append(m)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),o=()=>{f.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const c=f=>{const m=f?"value":"textContent",{options:y,multiple:b}=r;return b?Array.prototype.filter.call(y,E=>E.selected).map(E=>E[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let u=c(!1);const d=f=>{const m=f.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const m={value(y){o==null||o();const b=y.detail.value,E=new Set(Array.isArray(b)?b:[b]);for(const w of r.options)w.selected=E.has(w.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(y){r.multiple=!0},remove(y){const b=r.options,E=y.detail.remove;b[E].selected=!1,r.remove(E),b.length>0&&Array.prototype.findIndex.call(b,T=>T.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:c(!0),items:d(y)}),u=c(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(y){const{index:b,displayValue:E,exportValue:w}=y.detail.insert,T=r.children[b],A=document.createElement("option");A.textContent=E,A.value=w,T?T.before(A):r.append(A),t.setValue(e,{value:c(!0),items:d(y)}),u=c(!1)},items(y){const{items:b}=y.detail;for(;r.length!==0;)r.remove(0);for(const E of b){const{displayValue:w,exportValue:T}=E,A=document.createElement("option");A.textContent=w,A.value=T,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(y)}),u=c(!1)},indices(y){const b=new Set(y.detail.indices);for(const E of y.target.options)E.selected=b.has(E.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,f)}),r.addEventListener("input",f=>{var b;const m=c(!0),y=c(!1);t.setValue(e,{value:m}),f.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class qC extends ii{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:ii._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Hrt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${pk}${i}`).join(",")),this.container}}var em,nw,iw,nm,ld,Yn,Al,im,rb,sb,rm,xl,pa,Tl,ab,Cl,ob,cd,ud,bn,zE,GC,K6,Y6,X6,Q6,BE,jE,WC;class Hrt{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:c,parent:u,rect:d,parentRect:f,open:m}){K(this,bn);K(this,em,$(this,bn,X6).bind(this));K(this,nw,$(this,bn,WC).bind(this));K(this,iw,$(this,bn,jE).bind(this));K(this,nm,$(this,bn,BE).bind(this));K(this,ld,null);K(this,Yn,null);K(this,Al,null);K(this,im,null);K(this,rb,null);K(this,sb,null);K(this,rm,null);K(this,xl,!1);K(this,pa,null);K(this,Tl,null);K(this,ab,null);K(this,Cl,null);K(this,ob,null);K(this,cd,null);K(this,ud,!1);var y;H(this,Yn,t),H(this,ob,r),H(this,Al,o),H(this,Cl,c),H(this,sb,u),H(this,ld,e),H(this,ab,d),H(this,rm,f),H(this,rb,i),H(this,im,yk.toDateObject(s)),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",g(this,nm)),b.addEventListener("mouseenter",g(this,iw)),b.addEventListener("mouseleave",g(this,nw)),b.classList.add("popupTriggerArea");for(const b of i)(y=b.container)==null||y.addEventListener("keydown",g(this,em));g(this,Yn).hidden=!0,m&&$(this,bn,BE).call(this)}render(){if(g(this,pa))return;const t=H(this,pa,document.createElement("div"));if(t.className="popup",g(this,ld)){const s=t.style.outlineColor=Yt.makeHexColor(...g(this,ld));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:t.style.backgroundColor=Yt.makeHexColor(...g(this,ld).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=g(this,ob),t.append(e),g(this,im)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,im).valueOf()})),e.append(s)}const r=g(this,bn,zE);if(r)H6.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(g(this,Al));t.append(s)}g(this,Yn).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const c=r[s];i.append(document.createTextNode(c)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;g(this,cd)||H(this,cd,{contentsObj:g(this,Al),richText:g(this,Cl)}),t&&H(this,Tl,null),e&&(H(this,Cl,$(this,bn,Y6).call(this,e)),H(this,Al,null)),(i=g(this,pa))==null||i.remove(),H(this,pa,null)}resetEdited(){var t;g(this,cd)&&({contentsObj:xr(this,Al)._,richText:xr(this,Cl)._}=g(this,cd),H(this,cd,null),(t=g(this,pa))==null||t.remove(),H(this,pa,null),H(this,Tl,null))}forceHide(){H(this,ud,this.isVisible),g(this,ud)&&(g(this,Yn).hidden=!0)}maybeShow(){g(this,ud)&&(g(this,pa)||$(this,bn,jE).call(this),H(this,ud,!1),g(this,Yn).hidden=!1)}get isVisible(){return g(this,Yn).hidden===!1}}em=new WeakMap,nw=new WeakMap,iw=new WeakMap,nm=new WeakMap,ld=new WeakMap,Yn=new WeakMap,Al=new WeakMap,im=new WeakMap,rb=new WeakMap,sb=new WeakMap,rm=new WeakMap,xl=new WeakMap,pa=new WeakMap,Tl=new WeakMap,ab=new WeakMap,Cl=new WeakMap,ob=new WeakMap,cd=new WeakMap,ud=new WeakMap,bn=new WeakSet,zE=function(){const t=g(this,Cl),e=g(this,Al);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&g(this,Cl).html||null},GC=function(){var t,e,i;return((i=(e=(t=g(this,bn,zE))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},K6=function(){var t,e,i;return((i=(e=(t=g(this,bn,zE))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},Y6=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:g(this,bn,K6),fontSize:g(this,bn,GC)?`calc(${g(this,bn,GC)}px * var(--scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i},X6=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&g(this,xl))&&$(this,bn,BE).call(this)},Q6=function(){if(g(this,Tl)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=g(this,sb);let o=!!g(this,rm),c=o?g(this,rm):g(this,ab);for(const E of g(this,rb))if(!c||Yt.intersect(E.data.rect,c)!==null){c=E.data.rect,o=!0;break}const u=Yt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),f=o?c[2]-c[0]+5:0,m=u[0]+f,y=u[1];H(this,Tl,[100*(m-r)/e,100*(y-s)/i]);const{style:b}=g(this,Yn);b.left=`${g(this,Tl)[0]}%`,b.top=`${g(this,Tl)[1]}%`},BE=function(){H(this,xl,!g(this,xl)),g(this,xl)?($(this,bn,jE).call(this),g(this,Yn).addEventListener("click",g(this,nm)),g(this,Yn).addEventListener("keydown",g(this,em))):($(this,bn,WC).call(this),g(this,Yn).removeEventListener("click",g(this,nm)),g(this,Yn).removeEventListener("keydown",g(this,em)))},jE=function(){g(this,pa)||this.render(),this.isVisible?g(this,xl)&&g(this,Yn).classList.add("focused"):($(this,bn,Q6).call(this),g(this,Yn).hidden=!1,g(this,Yn).style.zIndex=parseInt(g(this,Yn).style.zIndex)+1e3)},WC=function(){g(this,Yn).classList.remove("focused"),!(g(this,xl)||!this.isVisible)&&(g(this,Yn).hidden=!0,g(this,Yn).style.zIndex=parseInt(g(this,Yn).style.zIndex)-1e3)};class Z6 extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var lb;class $rt extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});K(this,lb,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:r}=Hl(e.rect),s=this.svgFactory.create(i,r,!0),o=H(this,lb,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,lb)}addHighlightArea(){this.container.classList.add("highlightArea")}}lb=new WeakMap;var cb;class qrt extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});K(this,cb,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:r}=Hl(e.rect),s=this.svgFactory.create(i,r,!0),o=e.borderStyle.width,c=H(this,cb,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",i-o),c.setAttribute("height",r-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,cb)}addHighlightArea(){this.container.classList.add("highlightArea")}}cb=new WeakMap;var ub;class Grt extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});K(this,ub,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:r}=Hl(e.rect),s=this.svgFactory.create(i,r,!0),o=e.borderStyle.width,c=H(this,ub,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",i/2),c.setAttribute("cy",r/2),c.setAttribute("rx",i/2-o/2),c.setAttribute("ry",r/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,ub)}addHighlightArea(){this.container.classList.add("highlightArea")}}ub=new WeakMap;var hb;class J6 extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});K(this,hb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:o,height:c}=Hl(e),u=this.svgFactory.create(o,c,!0);let d=[];for(let m=0,y=i.length;m<y;m+=2){const b=i[m]-e[0],E=e[3]-i[m+1];d.push(`${b},${E}`)}d=d.join(" ");const f=H(this,hb,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",d),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,hb)}addHighlightArea(){this.container.classList.add("highlightArea")}}hb=new WeakMap;class Wrt extends J6{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Krt extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var db;class xk extends ii{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});K(this,db,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?be.HIGHLIGHT:be.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:o,height:c}=Hl(e),u=this.svgFactory.create(o,c,!0);for(const d of i){let f=[];for(let y=0,b=d.length;y<b;y+=2){const E=d[y]-e[0],w=e[3]-d[y+1];f.push(`${E},${w}`)}f=f.join(" ");const m=this.svgFactory.createElement(this.svgElementName);g(this,db).push(m),m.setAttribute("points",f),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),u.append(m)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,db)}addHighlightArea(){this.container.classList.add("highlightArea")}}db=new WeakMap;class tz extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=be.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Yrt extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Xrt extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Qrt extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ez extends ii{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=be.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var fb,pb,KC;class Zrt extends ii{constructor(e){var r;super(e,{isRenderable:!0});K(this,pb);K(this,fb,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",$(this,pb,KC).bind(this)),H(this,fb,r);const{isMac:s}=kr.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&$(this,pb,KC).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return g(this,fb)}addHighlightArea(){this.container.classList.add("highlightArea")}}fb=new WeakMap,pb=new WeakSet,KC=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var mb,hd,dd,gb,Fd,nz,YC,HF;let Jrt=(HF=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:c}){K(this,Fd);K(this,mb,null);K(this,hd,null);K(this,dd,new Map);K(this,gb,null);this.div=t,H(this,mb,e),H(this,hd,i),H(this,gb,c||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return g(this,dd).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;Dd(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Ak,annotationStorage:t.annotationStorage||new bk,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===wi.POPUP;if(u){const m=r.get(c.id);if(!m)continue;s.elements=m}else{const{width:m,height:y}=Hl(c.rect);if(m<=0||y<=0)continue}s.data=c;const d=Nrt.create(s);if(!d.isRenderable)continue;if(!u&&c.popupRef){const m=r.get(c.popupRef);m?m.push(d):r.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await $(this,Fd,nz).call(this,f,c.id),d._isEditable&&(g(this,dd).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}$(this,Fd,YC).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Dd(e,{rotation:t.rotation}),$(this,Fd,YC).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(g(this,dd).values())}getEditableAnnotation(t){return g(this,dd).get(t)}},mb=new WeakMap,hd=new WeakMap,dd=new WeakMap,gb=new WeakMap,Fd=new WeakSet,nz=async function(t,e){var o,c;const i=t.firstChild||t,r=i.id=`${pk}${e}`,s=await((o=g(this,gb))==null?void 0:o.getAriaAttributes(r));if(s)for(const[u,d]of s)i.setAttribute(u,d);this.div.append(t),(c=g(this,mb))==null||c.moveElementInDOM(this.div,t,i,!1)},YC=function(){if(!g(this,hd))return;const t=this.div;for(const[e,i]of g(this,hd)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}g(this,hd).clear()},HF);const nE=/\r\n?|\n/g;var ma,os,yb,fd,ls,yi,iz,rz,sz,UE,ql,HE,$E,az,QC,oz;const xn=class xn extends un{constructor(e){super({...e,name:"freeTextEditor"});K(this,yi);K(this,ma);K(this,os,"");K(this,yb,`${this.id}-editor`);K(this,fd,null);K(this,ls);H(this,ma,e.color||xn._defaultColor||un._defaultLineColor),H(this,ls,e.fontSize||xn._defaultFontSize)}static get _keyboardManager(){const e=xn.prototype,i=o=>o.isEmpty(),r=Od.TRANSLATE_SMALL,s=Od.TRANSLATE_BIG;return Ne(this,"_keyboardManager",new r0([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(e,i){un.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ue.FREETEXT_SIZE:xn._defaultFontSize=i;break;case ue.FREETEXT_COLOR:xn._defaultColor=i;break}}updateParams(e,i){switch(e){case ue.FREETEXT_SIZE:$(this,yi,iz).call(this,i);break;case ue.FREETEXT_COLOR:$(this,yi,rz).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ue.FREETEXT_SIZE,xn._defaultFontSize],[ue.FREETEXT_COLOR,xn._defaultColor||un._defaultLineColor]]}get propertiesToUpdate(){return[[ue.FREETEXT_SIZE,g(this,ls)],[ue.FREETEXT_COLOR,g(this,ma)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-xn._internalPadding*e,-(xn._internalPadding+g(this,ls))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(be.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),H(this,fd,new AbortController);const e=this._uiManager.combinedSignal(g(this,fd));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,yb)),this._isDraggable=!0,(e=g(this,fd))==null||e.abort(),H(this,fd,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=g(this,os),i=H(this,os,$(this,yi,sz).call(this).trimEnd());if(e===i)return;const r=s=>{if(H(this,os,s),!s){this.remove();return}$(this,yi,$E).call(this),this._uiManager.rebuild(this),$(this,yi,UE).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),$(this,yi,UE).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){xn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,yb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${g(this,ls)}px * var(--scale-factor))`,r.color=g(this,ma),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),LS(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,m]=this.pageDimensions,[y,b]=this.pageTranslation;let E,w;switch(this.rotation){case 0:E=e+(c[0]-y)/f,w=i+this.height-(c[1]-b)/m;break;case 90:E=e+(c[0]-y)/f,w=i-(c[1]-b)/m,[u,d]=[d,-u];break;case 180:E=e-this.width+(c[0]-y)/f,w=i-(c[1]-b)/m,[u,d]=[-u,-d];break;case 270:E=e+(c[0]-y-this.height*m)/f,w=i+(c[1]-b-this.width*f)/m,[u,d]=[-d,u];break}this.setAt(E*s,w*o,u,d)}else this.setAt(e*s,i*o,this.width*s,this.height*o);$(this,yi,$E).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,w,T;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const s=$(E=xn,ql,QC).call(E,i.getData("text")||"").replaceAll(nE,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!s.includes(`
`)){c.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],m=[];if(u.nodeType===Node.TEXT_NODE){const A=u.parentElement;if(m.push(u.nodeValue.slice(d).replaceAll(nE,"")),A!==this.editorDiv){let O=f;for(const k of this.editorDiv.childNodes){if(k===A){O=m;continue}O.push($(w=xn,ql,HE).call(w,k))}}f.push(u.nodeValue.slice(0,d).replaceAll(nE,""))}else if(u===this.editorDiv){let A=f,O=0;for(const k of this.editorDiv.childNodes)O++===d&&(A=m),A.push($(T=xn,ql,HE).call(T,k))}H(this,os,`${f.join(`
`)}${s}${m.join(`
`)}`),$(this,yi,$E).call(this);const y=new Range;let b=f.reduce((A,O)=>A+O.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const O=A.nodeValue.length;if(b<=O){y.setStart(A,b),y.setEnd(A,b);break}b-=O}o.removeAllRanges(),o.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,r){var c;let s=null;if(e instanceof Z6){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:f,rotation:m,id:y,popupRef:b},textContent:E,textPosition:w,parent:{page:{pageNumber:T}}}=e;if(!E||E.length===0)return null;s=e={annotationType:be.FREETEXT,color:Array.from(d),fontSize:u,value:E.join(`
`),position:w,pageIndex:T-1,rect:f.slice(0),rotation:m,id:y,deleted:!1,popupRef:b}}const o=await super.deserialize(e,i,r);return H(o,ls,e.fontSize),H(o,ma,Yt.makeHexColor(...e.color)),H(o,os,$(c=xn,ql,QC).call(c,e.value)),o.annotationElementId=e.id||null,o._initialData=s,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=xn._internalPadding*this.parentScale,r=this.getRect(i,i),s=un._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,ma)),o={annotationType:be.FREETEXT,color:s,fontSize:g(this,ls),value:$(this,yi,az).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!$(this,yi,oz).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${g(this,ls)}px * var(--scale-factor))`,r.color=g(this,ma),i.replaceChildren();for(const o of g(this,os).split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),i.append(c)}const s=xn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:g(this,os)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ma=new WeakMap,os=new WeakMap,yb=new WeakMap,fd=new WeakMap,ls=new WeakMap,yi=new WeakSet,iz=function(e){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-g(this,ls))*this.parentScale),H(this,ls,s),$(this,yi,UE).call(this)},r=g(this,ls);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},rz=function(e){const i=s=>{H(this,ma,this.editorDiv.style.color=s)},r=g(this,ma);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},sz=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push($(r=xn,ql,HE).call(r,s)),i=s);return e.join(`
`)},UE=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,c=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},ql=new WeakSet,HE=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(nE,"")},$E=function(){if(this.editorDiv.replaceChildren(),!!g(this,os))for(const e of g(this,os).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},az=function(){return g(this,os).replaceAll(" "," ")},QC=function(e){return e.replaceAll(" "," ")},oz=function(e){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((c,u)=>c!==s[u])||e.pageIndex!==o},K(xn,ql),re(xn,"_freeTextDefaultContent",""),re(xn,"_internalPadding",0),re(xn,"_defaultColor",null),re(xn,"_defaultFontSize",10),re(xn,"_type","freetext"),re(xn,"_editorType",be.FREETEXT);let XC=xn;class lz{toSVGPath(){In("Abstract method `toSVGPath` must be implemented.")}get box(){In("Abstract getter `box` must be implemented.")}serialize(t,e){In("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){In("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){In("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var cs,ga,sm,am,lo,Ie,pd,md,vb,bb,om,lm,au,_b,rw,sw,Ri,Oy,cz,uz,hz,dz,fz,pz;const fl=class fl{constructor({x:t,y:e},i,r,s,o,c=0){K(this,Ri);K(this,cs);K(this,ga,[]);K(this,sm);K(this,am);K(this,lo,[]);K(this,Ie,new Float64Array(18));K(this,pd);K(this,md);K(this,vb);K(this,bb);K(this,om);K(this,lm);K(this,au,[]);H(this,cs,i),H(this,lm,s*r),H(this,am,o),g(this,Ie).set([NaN,NaN,NaN,NaN,t,e],6),H(this,sm,c),H(this,bb,g(fl,_b)*r),H(this,vb,g(fl,sw)*r),H(this,om,r),g(this,au).push(t,e)}isEmpty(){return isNaN(g(this,Ie)[8])}add({x:t,y:e}){var V;H(this,pd,t),H(this,md,e);const[i,r,s,o]=g(this,cs);let[c,u,d,f]=g(this,Ie).subarray(8,12);const m=t-d,y=e-f,b=Math.hypot(m,y);if(b<g(this,vb))return!1;const E=b-g(this,bb),w=E/b,T=w*m,A=w*y;let O=c,k=u;c=d,u=f,d+=T,f+=A,(V=g(this,au))==null||V.push(t,e);const P=-A/E,F=T/E,j=P*g(this,lm),D=F*g(this,lm);return g(this,Ie).set(g(this,Ie).subarray(2,8),0),g(this,Ie).set([d+j,f+D],4),g(this,Ie).set(g(this,Ie).subarray(14,18),12),g(this,Ie).set([d-j,f-D],16),isNaN(g(this,Ie)[6])?(g(this,lo).length===0&&(g(this,Ie).set([c+j,u+D],2),g(this,lo).push(NaN,NaN,NaN,NaN,(c+j-i)/s,(u+D-r)/o),g(this,Ie).set([c-j,u-D],14),g(this,ga).push(NaN,NaN,NaN,NaN,(c-j-i)/s,(u-D-r)/o)),g(this,Ie).set([O,k,c,u,d,f],6),!this.isEmpty()):(g(this,Ie).set([O,k,c,u,d,f],6),Math.abs(Math.atan2(k-u,O-c)-Math.atan2(A,T))<Math.PI/2?([c,u,d,f]=g(this,Ie).subarray(2,6),g(this,lo).push(NaN,NaN,NaN,NaN,((c+d)/2-i)/s,((u+f)/2-r)/o),[c,u,O,k]=g(this,Ie).subarray(14,18),g(this,ga).push(NaN,NaN,NaN,NaN,((O+c)/2-i)/s,((k+u)/2-r)/o),!0):([O,k,c,u,d,f]=g(this,Ie).subarray(0,6),g(this,lo).push(((O+5*c)/6-i)/s,((k+5*u)/6-r)/o,((5*c+d)/6-i)/s,((5*u+f)/6-r)/o,((c+d)/2-i)/s,((u+f)/2-r)/o),[d,f,c,u,O,k]=g(this,Ie).subarray(12,18),g(this,ga).push(((O+5*c)/6-i)/s,((k+5*u)/6-r)/o,((5*c+d)/6-i)/s,((5*u+f)/6-r)/o,((c+d)/2-i)/s,((u+f)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=g(this,lo),e=g(this,ga);if(isNaN(g(this,Ie)[6])&&!this.isEmpty())return $(this,Ri,cz).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);$(this,Ri,hz).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return $(this,Ri,uz).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,s,o){return new mz(t,e,i,r,s,o)}getOutlines(){var m;const t=g(this,lo),e=g(this,ga),i=g(this,Ie),[r,s,o,c]=g(this,cs),u=new Float64Array((((m=g(this,au))==null?void 0:m.length)??0)+2);for(let y=0,b=u.length-2;y<b;y+=2)u[y]=(g(this,au)[y]-r)/o,u[y+1]=(g(this,au)[y+1]-s)/c;if(u[u.length-2]=(g(this,pd)-r)/o,u[u.length-1]=(g(this,md)-s)/c,isNaN(i[6])&&!this.isEmpty())return $(this,Ri,dz).call(this,u);const d=new Float64Array(g(this,lo).length+24+g(this,ga).length);let f=t.length;for(let y=0;y<f;y+=2){if(isNaN(t[y])){d[y]=d[y+1]=NaN;continue}d[y]=t[y],d[y+1]=t[y+1]}f=$(this,Ri,pz).call(this,d,f);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=e[y+b],d[f+1]=e[y+b+1],f+=2}return $(this,Ri,fz).call(this,d,f),this.newFreeDrawOutline(d,u,g(this,cs),g(this,om),g(this,sm),g(this,am))}};cs=new WeakMap,ga=new WeakMap,sm=new WeakMap,am=new WeakMap,lo=new WeakMap,Ie=new WeakMap,pd=new WeakMap,md=new WeakMap,vb=new WeakMap,bb=new WeakMap,om=new WeakMap,lm=new WeakMap,au=new WeakMap,_b=new WeakMap,rw=new WeakMap,sw=new WeakMap,Ri=new WeakSet,Oy=function(){const t=g(this,Ie).subarray(4,6),e=g(this,Ie).subarray(16,18),[i,r,s,o]=g(this,cs);return[(g(this,pd)+(t[0]-e[0])/2-i)/s,(g(this,md)+(t[1]-e[1])/2-r)/o,(g(this,pd)+(e[0]-t[0])/2-i)/s,(g(this,md)+(e[1]-t[1])/2-r)/o]},cz=function(){const[t,e,i,r]=g(this,cs),[s,o,c,u]=$(this,Ri,Oy).call(this);return`M${(g(this,Ie)[2]-t)/i} ${(g(this,Ie)[3]-e)/r} L${(g(this,Ie)[4]-t)/i} ${(g(this,Ie)[5]-e)/r} L${s} ${o} L${c} ${u} L${(g(this,Ie)[16]-t)/i} ${(g(this,Ie)[17]-e)/r} L${(g(this,Ie)[14]-t)/i} ${(g(this,Ie)[15]-e)/r} Z`},uz=function(t){const e=g(this,ga);t.push(`L${e[4]} ${e[5]} Z`)},hz=function(t){const[e,i,r,s]=g(this,cs),o=g(this,Ie).subarray(4,6),c=g(this,Ie).subarray(16,18),[u,d,f,m]=$(this,Ri,Oy).call(this);t.push(`L${(o[0]-e)/r} ${(o[1]-i)/s} L${u} ${d} L${f} ${m} L${(c[0]-e)/r} ${(c[1]-i)/s}`)},dz=function(t){const e=g(this,Ie),[i,r,s,o]=g(this,cs),[c,u,d,f]=$(this,Ri,Oy).call(this),m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/o],0),this.newFreeDrawOutline(m,t,g(this,cs),g(this,om),g(this,sm),g(this,am))},fz=function(t,e){const i=g(this,ga);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},pz=function(t,e){const i=g(this,Ie).subarray(4,6),r=g(this,Ie).subarray(16,18),[s,o,c,u]=g(this,cs),[d,f,m,y]=$(this,Ri,Oy).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-o)/u],e),e+=24},K(fl,_b,8),K(fl,rw,2),K(fl,sw,g(fl,_b)+g(fl,rw));let FS=fl;var cm,gd,Rl,Eb,us,Sb,ei,qr,Ly,Ny,gz;class mz extends lz{constructor(e,i,r,s,o,c){super();K(this,qr);K(this,cm);K(this,gd,null);K(this,Rl);K(this,Eb);K(this,us);K(this,Sb);K(this,ei);H(this,ei,e),H(this,us,i),H(this,cm,r),H(this,Sb,s),H(this,Rl,o),H(this,Eb,c),$(this,qr,gz).call(this,c);const{x:u,y:d,width:f,height:m}=g(this,gd);for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-u)/f,e[y+1]=(e[y+1]-d)/m;for(let y=0,b=i.length;y<b;y+=2)i[y]=(i[y]-u)/f,i[y+1]=(i[y+1]-d)/m}toSVGPath(){const e=[`M${g(this,ei)[4]} ${g(this,ei)[5]}`];for(let i=6,r=g(this,ei).length;i<r;i+=6){if(isNaN(g(this,ei)[i])){e.push(`L${g(this,ei)[i+4]} ${g(this,ei)[i+5]}`);continue}e.push(`C${g(this,ei)[i]} ${g(this,ei)[i+1]} ${g(this,ei)[i+2]} ${g(this,ei)[i+3]} ${g(this,ei)[i+4]} ${g(this,ei)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,s],o){const c=r-e,u=s-i;let d,f;switch(o){case 0:d=$(this,qr,Ly).call(this,g(this,ei),e,s,c,-u),f=$(this,qr,Ly).call(this,g(this,us),e,s,c,-u);break;case 90:d=$(this,qr,Ny).call(this,g(this,ei),e,i,c,u),f=$(this,qr,Ny).call(this,g(this,us),e,i,c,u);break;case 180:d=$(this,qr,Ly).call(this,g(this,ei),r,i,-c,u),f=$(this,qr,Ly).call(this,g(this,us),r,i,-c,u);break;case 270:d=$(this,qr,Ny).call(this,g(this,ei),r,s,-c,-u),f=$(this,qr,Ny).call(this,g(this,us),r,s,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}get box(){return g(this,gd)}newOutliner(e,i,r,s,o,c=0){return new FS(e,i,r,s,o,c)}getNewOutline(e,i){const{x:r,y:s,width:o,height:c}=g(this,gd),[u,d,f,m]=g(this,cm),y=o*f,b=c*m,E=r*f+u,w=s*m+d,T=this.newOutliner({x:g(this,us)[0]*y+E,y:g(this,us)[1]*b+w},g(this,cm),g(this,Sb),e,g(this,Eb),i??g(this,Rl));for(let A=2;A<g(this,us).length;A+=2)T.add({x:g(this,us)[A]*y+E,y:g(this,us)[A+1]*b+w});return T.getOutlines()}get mustRemoveSelfIntersections(){return!0}}cm=new WeakMap,gd=new WeakMap,Rl=new WeakMap,Eb=new WeakMap,us=new WeakMap,Sb=new WeakMap,ei=new WeakMap,qr=new WeakSet,Ly=function(e,i,r,s,o){const c=new Float64Array(e.length);for(let u=0,d=e.length;u<d;u+=2)c[u]=i+e[u]*s,c[u+1]=r+e[u+1]*o;return c},Ny=function(e,i,r,s,o){const c=new Float64Array(e.length);for(let u=0,d=e.length;u<d;u+=2)c[u]=i+e[u+1]*s,c[u+1]=r+e[u]*o;return c},gz=function(e){const i=g(this,ei);let r=i[4],s=i[5],o=r,c=s,u=r,d=s,f=r,m=s;const y=e?Math.max:Math.min;for(let A=6,O=i.length;A<O;A+=6){if(isNaN(i[A]))o=Math.min(o,i[A+4]),c=Math.min(c,i[A+5]),u=Math.max(u,i[A+4]),d=Math.max(d,i[A+5]),m<i[A+5]?(f=i[A+4],m=i[A+5]):m===i[A+5]&&(f=y(f,i[A+4]));else{const k=Yt.bezierBoundingBox(r,s,...i.slice(A,A+6));o=Math.min(o,k[0]),c=Math.min(c,k[1]),u=Math.max(u,k[2]),d=Math.max(d,k[3]),m<k[3]?(f=k[2],m=k[3]):m===k[3]&&(f=y(f,k[2]))}r=i[A+4],s=i[A+5]}const b=o-g(this,Rl),E=c-g(this,Rl),w=u-o+2*g(this,Rl),T=d-c+2*g(this,Rl);H(this,gd,{x:b,y:E,width:w,height:T,lastPoint:[f,m]})};var wb,ou,ya,Mr,yz,qE,vz,bz,ZC;class ON{constructor(t,e=0,i=0,r=!0){K(this,Mr);K(this,wb);K(this,ou,[]);K(this,ya,[]);let s=1/0,o=-1/0,c=1/0,u=-1/0;const d=10**-4;for(const{x:T,y:A,width:O,height:k}of t){const P=Math.floor((T-e)/d)*d,F=Math.ceil((T+O+e)/d)*d,j=Math.floor((A-e)/d)*d,D=Math.ceil((A+k+e)/d)*d,I=[P,j,D,!0],V=[F,j,D,!1];g(this,ou).push(I,V),s=Math.min(s,P),o=Math.max(o,F),c=Math.min(c,j),u=Math.max(u,D)}const f=o-s+2*i,m=u-c+2*i,y=s-i,b=c-i,E=g(this,ou).at(r?-1:-2),w=[E[0],E[2]];for(const T of g(this,ou)){const[A,O,k]=T;T[0]=(A-y)/f,T[1]=(O-b)/m,T[2]=(k-b)/m}H(this,wb,{x:y,y:b,width:f,height:m,lastPoint:w})}getOutlines(){g(this,ou).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of g(this,ou))e[3]?(t.push(...$(this,Mr,ZC).call(this,e)),$(this,Mr,vz).call(this,e)):($(this,Mr,bz).call(this,e),t.push(...$(this,Mr,ZC).call(this,e)));return $(this,Mr,yz).call(this,t)}}wb=new WeakMap,ou=new WeakMap,ya=new WeakMap,Mr=new WeakSet,yz=function(t){const e=[],i=new Set;for(const o of t){const[c,u,d]=o;e.push([c,u,o],[c,d,o])}e.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=e.length;o<c;o+=2){const u=e[o][2],d=e[o+1][2];u.push(d),d.push(u),i.add(u),i.add(d)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[c,u,d,f,m]=o;i.delete(o);let y=c,b=u;for(s=[c,d],r.push(s);;){let E;if(i.has(f))E=f;else if(i.has(m))E=m;else break;i.delete(E),[c,u,d,f,m]=E,y!==c&&(s.push(y,b,c,b===u?u:d),y=c),b=b===u?d:u}s.push(y,b)}return new tst(r,g(this,wb))},qE=function(t){const e=g(this,ya);let i=0,r=e.length-1;for(;i<=r;){const s=i+r>>1,o=e[s][0];if(o===t)return s;o<t?i=s+1:r=s-1}return r+1},vz=function([,t,e]){const i=$(this,Mr,qE).call(this,t);g(this,ya).splice(i,0,[t,e])},bz=function([,t,e]){const i=$(this,Mr,qE).call(this,t);for(let r=i;r<g(this,ya).length;r++){const[s,o]=g(this,ya)[r];if(s!==t)break;if(s===t&&o===e){g(this,ya).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=g(this,ya)[r];if(s!==t)break;if(s===t&&o===e){g(this,ya).splice(r,1);return}}},ZC=function(t){const[e,i,r]=t,s=[[e,i,r]],o=$(this,Mr,qE).call(this,r);for(let c=0;c<o;c++){const[u,d]=g(this,ya)[c];for(let f=0,m=s.length;f<m;f++){const[,y,b]=s[f];if(!(d<=y||b<=u)){if(y>=u){if(b>d)s[f][1]=d;else{if(m===1)return[];s.splice(f,1),f--,m--}continue}s[f][2]=u,b>d&&s.push([e,d,b])}}}return s};var Ab,um;class tst extends lz{constructor(e,i){super();K(this,Ab);K(this,um);H(this,um,e),H(this,Ab,i)}toSVGPath(){const e=[];for(const i of g(this,um)){let[r,s]=i;e.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const c=i[o],u=i[o+1];c===r?(e.push(`V${u}`),s=u):u===s&&(e.push(`H${c}`),r=c)}e.push("Z")}return e.join(" ")}serialize([e,i,r,s],o){const c=[],u=r-e,d=s-i;for(const f of g(this,um)){const m=new Array(f.length);for(let y=0;y<f.length;y+=2)m[y]=e+f[y]*u,m[y+1]=s-f[y+1]*d;c.push(m)}return c}get box(){return g(this,Ab)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Ab=new WeakMap,um=new WeakMap;class JC extends FS{newFreeDrawOutline(t,e,i,r,s,o){return new est(t,e,i,r,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class est extends mz{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,r,s,o=0){return new JC(t,e,i,r,s,o)}}var va,yd,hm,xi,xb,dm,Tb,Cb,lu,ba,fm,Rb,vn,tR,eR,nR,xh,_z,Nc;const zr=class zr{constructor({editor:t=null,uiManager:e=null}){K(this,vn);K(this,va,null);K(this,yd,null);K(this,hm);K(this,xi,null);K(this,xb,!1);K(this,dm,!1);K(this,Tb,null);K(this,Cb);K(this,lu,null);K(this,ba,null);K(this,fm);var i;t?(H(this,dm,!1),H(this,fm,ue.HIGHLIGHT_COLOR),H(this,Tb,t)):(H(this,dm,!0),H(this,fm,ue.HIGHLIGHT_DEFAULT_COLOR)),H(this,ba,(t==null?void 0:t._uiManager)||e),H(this,Cb,g(this,ba)._eventBus),H(this,hm,(t==null?void 0:t.color)||((i=g(this,ba))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),g(zr,Rb)||H(zr,Rb,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ne(this,"_keyboardManager",new r0([[["Escape","mac+Escape"],zr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zr.prototype._moveToPrevious],[["Home","mac+Home"],zr.prototype._moveToBeginning],[["End","mac+End"],zr.prototype._moveToEnd]]))}renderButton(){const t=H(this,va,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=g(this,ba)._signal;t.addEventListener("click",$(this,vn,xh).bind(this),{signal:e}),t.addEventListener("keydown",$(this,vn,nR).bind(this),{signal:e});const i=H(this,yd,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=g(this,hm),t.append(i),t}renderMainDropdown(){const t=H(this,xi,$(this,vn,tR).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===g(this,va)){$(this,vn,xh).call(this,t);return}const e=t.target.getAttribute("data-color");e&&$(this,vn,eR).call(this,e,t)}_moveToNext(t){var e,i;if(!g(this,vn,Nc)){$(this,vn,xh).call(this,t);return}if(t.target===g(this,va)){(e=g(this,xi).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=g(this,xi))==null?void 0:e.firstChild)||t.target===g(this,va)){g(this,vn,Nc)&&this._hideDropdownFromKeyboard();return}g(this,vn,Nc)||$(this,vn,xh).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!g(this,vn,Nc)){$(this,vn,xh).call(this,t);return}(e=g(this,xi).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!g(this,vn,Nc)){$(this,vn,xh).call(this,t);return}(e=g(this,xi).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=g(this,xi))==null||t.classList.add("hidden"),(e=g(this,lu))==null||e.abort(),H(this,lu,null)}_hideDropdownFromKeyboard(){var t;if(!g(this,dm)){if(!g(this,vn,Nc)){(t=g(this,Tb))==null||t.unselect();return}this.hideDropdown(),g(this,va).focus({preventScroll:!0,focusVisible:g(this,xb)})}}updateColor(t){if(g(this,yd)&&(g(this,yd).style.backgroundColor=t),!g(this,xi))return;const e=g(this,ba).highlightColors.values();for(const i of g(this,xi).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=g(this,va))==null||t.remove(),H(this,va,null),H(this,yd,null),(e=g(this,xi))==null||e.remove(),H(this,xi,null)}};va=new WeakMap,yd=new WeakMap,hm=new WeakMap,xi=new WeakMap,xb=new WeakMap,dm=new WeakMap,Tb=new WeakMap,Cb=new WeakMap,lu=new WeakMap,ba=new WeakMap,fm=new WeakMap,Rb=new WeakMap,vn=new WeakSet,tR=function(){const t=document.createElement("div"),e=g(this,ba)._signal;t.addEventListener("contextmenu",Js,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of g(this,ba).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",g(zr,Rb)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===g(this,hm)),s.addEventListener("click",$(this,vn,eR).bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",$(this,vn,nR).bind(this),{signal:e}),t},eR=function(t,e){e.stopPropagation(),g(this,Cb).dispatch("switchannotationeditorparams",{source:this,type:g(this,fm),value:t})},nR=function(t){zr._keyboardManager.exec(this,t)},xh=function(t){if(g(this,vn,Nc)){this.hideDropdown();return}if(H(this,xb,t.detail===0),g(this,lu)||(H(this,lu,new AbortController),window.addEventListener("pointerdown",$(this,vn,_z).bind(this),{signal:g(this,ba).combinedSignal(g(this,lu))})),g(this,xi)){g(this,xi).classList.remove("hidden");return}const e=H(this,xi,$(this,vn,tR).call(this));g(this,va).append(e)},_z=function(t){var e;(e=g(this,xi))!=null&&e.contains(t.target)||this.hideDropdown()},Nc=function(){return g(this,xi)&&!g(this,xi).classList.contains("hidden")},K(zr,Rb,null);let VS=zr;var pm,Ib,Il,vd,mm,zs,kb,Pb,bd,_a,hr,Ur,gm,kl,Ti,ym,Bs,Mb,me,iR,GE,Ez,Sz,wz,rR,Th,Ks,cp,Az,WE,Fy,xz,Tz,Cz,Rz,Iz;const Ye=class Ye extends un{constructor(e){super({...e,name:"highlightEditor"});K(this,me);K(this,pm,null);K(this,Ib,0);K(this,Il);K(this,vd,null);K(this,mm,null);K(this,zs,null);K(this,kb,null);K(this,Pb,0);K(this,bd,null);K(this,_a,null);K(this,hr,null);K(this,Ur,!1);K(this,gm,null);K(this,kl);K(this,Ti,null);K(this,ym,"");K(this,Bs);K(this,Mb,"");this.color=e.color||Ye._defaultColor,H(this,Bs,e.thickness||Ye._defaultThickness),H(this,kl,e.opacity||Ye._defaultOpacity),H(this,Il,e.boxes||null),H(this,Mb,e.methodOfCreation||""),H(this,ym,e.text||""),this._isDraggable=!1,e.highlightId>-1?(H(this,Ur,!0),$(this,me,GE).call(this,e),$(this,me,Th).call(this)):g(this,Il)&&(H(this,pm,e.anchorNode),H(this,Ib,e.anchorOffset),H(this,kb,e.focusNode),H(this,Pb,e.focusOffset),$(this,me,iR).call(this),$(this,me,Th).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Ye.prototype;return Ne(this,"_keyboardManager",new r0([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Ur)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Bs),methodOfCreation:g(this,Mb)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;un.initialize(e,i),Ye._defaultColor||(Ye._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ue.HIGHLIGHT_DEFAULT_COLOR:Ye._defaultColor=i;break;case ue.HIGHLIGHT_THICKNESS:Ye._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return g(this,gm)}updateParams(e,i){switch(e){case ue.HIGHLIGHT_COLOR:$(this,me,Ez).call(this,i);break;case ue.HIGHLIGHT_THICKNESS:$(this,me,Sz).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ue.HIGHLIGHT_DEFAULT_COLOR,Ye._defaultColor],[ue.HIGHLIGHT_THICKNESS,Ye._defaultThickness]]}get propertiesToUpdate(){return[[ue.HIGHLIGHT_COLOR,this.color||Ye._defaultColor],[ue.HIGHLIGHT_THICKNESS,g(this,Bs)||Ye._defaultThickness],[ue.HIGHLIGHT_FREE,g(this,Ur)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(H(this,mm,new VS({editor:this})),e.addColorPicker(g(this,mm))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition($(this,me,Fy).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,$(this,me,Fy).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){$(this,me,rR).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&($(this,me,Th).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?$(this,me,rR).call(this):e&&($(this,me,Th).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var s,o,c;const{drawLayer:i}=this.parent;let r;g(this,Ur)?(e=(e-this.rotation+360)%360,r=$(s=Ye,Ks,cp).call(s,g(this,_a).box,e)):r=$(o=Ye,Ks,cp).call(o,this,e),i.rotate(g(this,hr),e),i.rotate(g(this,Ti),e),i.updateBox(g(this,hr),r),i.updateBox(g(this,Ti),$(c=Ye,Ks,cp).call(c,g(this,zs).box,e))}render(){if(this.div)return this.div;const e=super.render();g(this,ym)&&(e.setAttribute("aria-label",g(this,ym)),e.setAttribute("role","mark")),g(this,Ur)?e.classList.add("free"):this.div.addEventListener("keydown",$(this,me,Az).bind(this),{signal:this._uiManager._signal});const i=H(this,bd,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=g(this,vd);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),LS(this,g(this,bd),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,Ti),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,Ti),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:$(this,me,WE).call(this,!0);break;case 1:case 3:$(this,me,WE).call(this,!1);break}}select(){var e,i;super.select(),g(this,Ti)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,Ti),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(g(this,Ti),"selected"))}unselect(){var e;super.unselect(),g(this,Ti)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,Ti),"selected"),g(this,Ur)||$(this,me,WE).call(this,!1))}get _mustFixPosition(){return!g(this,Ur)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(g(this,hr),e),this.parent.drawLayer.show(g(this,Ti),e))}static startHighlighting(e,i,{target:r,x:s,y:o}){const{x:c,y:u,width:d,height:f}=r.getBoundingClientRect(),m=new AbortController,y=e.combinedSignal(m),b=w=>{w.preventDefault(),w.stopPropagation()},E=w=>{m.abort(),$(this,Ks,Rz).call(this,e,w)};window.addEventListener("blur",E,{signal:y}),window.addEventListener("pointerup",E,{signal:y}),window.addEventListener("pointerdown",b,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Js,{signal:y}),r.addEventListener("pointermove",$(this,Ks,Cz).bind(this,e),{signal:y}),this._freeHighlight=new JC({x:s,y:o},[c,u,d,f],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,r){var w,T,A,O;let s=null;if(e instanceof tz){const{data:{quadPoints:k,rect:P,rotation:F,id:j,color:D,opacity:I,popupRef:V},parent:{page:{pageNumber:x}}}=e;s=e={annotationType:be.HIGHLIGHT,color:Array.from(D),opacity:I,quadPoints:k,boxes:null,pageIndex:x-1,rect:P.slice(0),rotation:F,id:j,deleted:!1,popupRef:V}}else if(e instanceof xk){const{data:{inkLists:k,rect:P,rotation:F,id:j,color:D,borderStyle:{rawWidth:I},popupRef:V},parent:{page:{pageNumber:x}}}=e;s=e={annotationType:be.HIGHLIGHT,color:Array.from(D),thickness:I,inkLists:k,boxes:null,pageIndex:x-1,rect:P.slice(0),rotation:F,id:j,deleted:!1,popupRef:V}}const{color:o,quadPoints:c,inkLists:u,opacity:d}=e,f=await super.deserialize(e,i,r);f.color=Yt.makeHexColor(...o),H(f,kl,d||1),u&&H(f,Bs,e.thickness),f.annotationElementId=e.id||null,f._initialData=s;const[m,y]=f.pageDimensions,[b,E]=f.pageTranslation;if(c){const k=H(f,Il,[]);for(let P=0;P<c.length;P+=8)k.push({x:(c[P]-b)/m,y:1-(c[P+1]-E)/y,width:(c[P+2]-c[P])/m,height:(c[P+1]-c[P+5])/y});$(w=f,me,iR).call(w),$(T=f,me,Th).call(T),f.rotate(f.rotation)}else if(u){H(f,Ur,!0);const k=u[0],P={x:k[0]-b,y:y-(k[1]-E)},F=new JC(P,[0,0,m,y],1,g(f,Bs)/2,!0,.001);for(let I=0,V=k.length;I<V;I+=2)P.x=k[I]-b,P.y=y-(k[I+1]-E),F.add(P);const{id:j,clipPathId:D}=i.drawLayer.draw(F,f.color,f._defaultOpacity,!0);$(A=f,me,GE).call(A,{highlightOutlines:F.getOutlines(),highlightId:j,clipPathId:D}),$(O=f,me,Th).call(O)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=un._colorManager.convert(this.color),s={annotationType:be.HIGHLIGHT,color:r,opacity:g(this,kl),thickness:g(this,Bs),quadPoints:$(this,me,xz).call(this),outlines:$(this,me,Tz).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:$(this,me,Fy).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!$(this,me,Iz).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};pm=new WeakMap,Ib=new WeakMap,Il=new WeakMap,vd=new WeakMap,mm=new WeakMap,zs=new WeakMap,kb=new WeakMap,Pb=new WeakMap,bd=new WeakMap,_a=new WeakMap,hr=new WeakMap,Ur=new WeakMap,gm=new WeakMap,kl=new WeakMap,Ti=new WeakMap,ym=new WeakMap,Bs=new WeakMap,Mb=new WeakMap,me=new WeakSet,iR=function(){const e=new ON(g(this,Il),.001);H(this,_a,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,_a).box;const i=new ON(g(this,Il),.0025,.001,this._uiManager.direction==="ltr");H(this,zs,i.getOutlines());const{lastPoint:r}=g(this,zs).box;H(this,gm,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},GE=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var m,y;if(H(this,_a,e),H(this,zs,e.getNewOutline(g(this,Bs)/2+1.5,.0025)),i>=0)H(this,hr,i),H(this,vd,r),this.parent.drawLayer.finalizeLine(i,e),H(this,Ti,this.parent.drawLayer.drawOutline(g(this,zs)));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,hr),e),this.parent.drawLayer.updateBox(g(this,hr),$(m=Ye,Ks,cp).call(m,g(this,_a).box,(b-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,Ti),g(this,zs)),this.parent.drawLayer.updateBox(g(this,Ti),$(y=Ye,Ks,cp).call(y,g(this,zs).box,b))}const{x:o,y:c,width:u,height:d}=e.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=u,this.height=d;break;case 90:{const[b,E]=this.parentDimensions;this.x=c,this.y=1-o,this.width=u*E/b,this.height=d*b/E;break}case 180:this.x=1-o,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[b,E]=this.parentDimensions;this.x=1-c,this.y=o,this.width=u*E/b,this.height=d*b/E;break}}const{lastPoint:f}=g(this,zs).box;H(this,gm,[(f[0]-o)/u,(f[1]-c)/d])},Ez=function(e){const i=(o,c)=>{var u,d,f;this.color=o,(u=this.parent)==null||u.drawLayer.changeColor(g(this,hr),o),(d=g(this,mm))==null||d.updateColor(o),H(this,kl,c),(f=this.parent)==null||f.drawLayer.changeOpacity(g(this,hr),c)},r=this.color,s=g(this,kl);this.addCommands({cmd:i.bind(this,e,Ye._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Sz=function(e){const i=g(this,Bs),r=s=>{H(this,Bs,s),$(this,me,wz).call(this,s)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},wz=function(e){if(!g(this,Ur))return;$(this,me,GE).call(this,{highlightOutlines:g(this,_a).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},rR=function(){g(this,hr)===null||!this.parent||(this.parent.drawLayer.remove(g(this,hr)),H(this,hr,null),this.parent.drawLayer.remove(g(this,Ti)),H(this,Ti,null))},Th=function(e=this.parent){g(this,hr)===null&&({id:xr(this,hr)._,clipPathId:xr(this,vd)._}=e.drawLayer.draw(g(this,_a),this.color,g(this,kl)),H(this,Ti,e.drawLayer.drawOutline(g(this,zs))),g(this,bd)&&(g(this,bd).style.clipPath=g(this,vd)))},Ks=new WeakSet,cp=function({x:e,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:e,width:s,height:r};case 180:return{x:1-e-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-e-r,width:s,height:r}}return{x:e,y:i,width:r,height:s}},Az=function(e){Ye._keyboardManager.exec(this,e)},WE=function(e){if(!g(this,pm))return;const i=window.getSelection();e?i.setPosition(g(this,pm),g(this,Ib)):i.setPosition(g(this,kb),g(this,Pb))},Fy=function(){return g(this,Ur)?this.rotation:0},xz=function(){if(g(this,Ur))return null;const[e,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=g(this,Il),c=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:m,height:y}of o){const b=d*e+r,E=(1-f-y)*i+s;c[u]=c[u+4]=b,c[u+1]=c[u+3]=E,c[u+2]=c[u+6]=b+m*e,c[u+5]=c[u+7]=E+y*i,u+=8}return c},Tz=function(e){return g(this,_a).serialize(e,$(this,me,Fy).call(this))},Cz=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Rz=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Iz=function(e){const{color:i}=this._initialData;return e.color.some((r,s)=>r!==i[s])},K(Ye,Ks),re(Ye,"_defaultColor",null),re(Ye,"_defaultOpacity",1),re(Ye,"_defaultThickness",12),re(Ye,"_type","highlight"),re(Ye,"_editorType",be.HIGHLIGHT),re(Ye,"_freeHighlightId",-1),re(Ye,"_freeHighlight",null),re(Ye,"_freeHighlightClipId","");let zS=Ye;var _d,Ed,co,Pl,js,Sd,wd,Ad,Ml,vm,xd,Td,cu,kt,kz,Pz,Mz,Dz,aR,Oz,oR,Lz,Nz,Fz,Vz,zz,Ch,lR,cR,uR,KE,YE,up,hR,XE,nc,Bz,dR,jz,Uz,fR,QE,Vy;const Nn=class Nn extends un{constructor(e){super({...e,name:"inkEditor"});K(this,kt);K(this,_d,0);K(this,Ed,0);K(this,co,null);K(this,Pl,new Path2D);K(this,js,!1);K(this,Sd,null);K(this,wd,!1);K(this,Ad,!1);K(this,Ml,null);K(this,vm,null);K(this,xd,0);K(this,Td,0);K(this,cu,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){un.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case ue.INK_THICKNESS:Nn._defaultThickness=i;break;case ue.INK_COLOR:Nn._defaultColor=i;break;case ue.INK_OPACITY:Nn._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case ue.INK_THICKNESS:$(this,kt,kz).call(this,i);break;case ue.INK_COLOR:$(this,kt,Pz).call(this,i);break;case ue.INK_OPACITY:$(this,kt,Mz).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ue.INK_THICKNESS,Nn._defaultThickness],[ue.INK_COLOR,Nn._defaultColor||un._defaultLineColor],[ue.INK_OPACITY,Math.round(Nn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ue.INK_THICKNESS,this.thickness||Nn._defaultThickness],[ue.INK_COLOR,this.color||Nn._defaultColor||un._defaultLineColor],[ue.INK_OPACITY,Math.round(100*(this.opacity??Nn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||($(this,kt,KE).call(this),$(this,kt,YE).call(this)),this.isAttachedToDOM||(this.parent.add(this),$(this,kt,up).call(this)),$(this,kt,Vy).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,co)&&(clearTimeout(g(this,co)),H(this,co,null)),(e=g(this,Ml))==null||e.disconnect(),H(this,Ml,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,r=this.width*e,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){g(this,js)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,$(this,kt,lR).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),$(this,kt,cR).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,js)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),H(this,js,!0),this.div.classList.add("disabled"),$(this,kt,Vy).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||g(this,js)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),$(this,kt,Oz).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),$(this,kt,oR).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),$(this,kt,uR).call(this,e)}canvasPointerleave(e){$(this,kt,uR).call(this,e)}get isResizable(){return!this.isEmpty()&&g(this,js)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,c]=$(this,kt,Dz).call(this);if(this.setAt(r,s,0,0),this.setDims(o,c),$(this,kt,KE).call(this),this.width){const[u,d]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*d),this.setAt(e*u,i*d,this.width*u,this.height*d),H(this,Ad,!0),$(this,kt,up).call(this),this.setDims(this.width*u,this.height*d),$(this,kt,Ch).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return $(this,kt,YE).call(this),this.div}setDimensions(e,i){const r=Math.round(e),s=Math.round(i);if(g(this,xd)===r&&g(this,Td)===s)return;H(this,xd,r),H(this,Td,s),this.canvas.style.visibility="hidden";const[o,c]=this.parentDimensions;this.width=e/o,this.height=i/c,this.fixAndSetPosition(),g(this,js)&&$(this,kt,hR).call(this,e,i),$(this,kt,up).call(this),$(this,kt,Ch).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,r){var T,A,O;if(e instanceof xk)return null;const s=await super.deserialize(e,i,r);s.thickness=e.thickness,s.color=Yt.makeHexColor(...e.color),s.opacity=e.opacity;const[o,c]=s.pageDimensions,u=s.width*o,d=s.height*c,f=s.parentScale,m=e.thickness/2;H(s,js,!0),H(s,xd,Math.round(u)),H(s,Td,Math.round(d));const{paths:y,rect:b,rotation:E}=e;for(let{bezier:k}of y){k=$(T=Nn,nc,jz).call(T,k,b,E);const P=[];s.paths.push(P);let F=f*(k[0]-m),j=f*(k[1]-m);for(let I=2,V=k.length;I<V;I+=6){const x=f*(k[I]-m),B=f*(k[I+1]-m),q=f*(k[I+2]-m),U=f*(k[I+3]-m),tt=f*(k[I+4]-m),J=f*(k[I+5]-m);P.push([[F,j],[x,B],[q,U],[tt,J]]),F=tt,j=J}const D=$(this,nc,Bz).call(this,P);s.bezierPath2D.push(D)}const w=$(A=s,kt,fR).call(A);return H(s,Ed,Math.max(un.MIN_SIZE,w[2]-w[0])),H(s,_d,Math.max(un.MIN_SIZE,w[3]-w[1])),$(O=s,kt,hR).call(O,u,d),s}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=un._colorManager.convert(this.ctx.strokeStyle);return{annotationType:be.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:$(this,kt,Uz).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_d=new WeakMap,Ed=new WeakMap,co=new WeakMap,Pl=new WeakMap,js=new WeakMap,Sd=new WeakMap,wd=new WeakMap,Ad=new WeakMap,Ml=new WeakMap,vm=new WeakMap,xd=new WeakMap,Td=new WeakMap,cu=new WeakMap,kt=new WeakSet,kz=function(e){const i=s=>{this.thickness=s,$(this,kt,Vy).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Pz=function(e){const i=s=>{this.color=s,$(this,kt,Ch).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Mz=function(e){const i=s=>{this.opacity=s,$(this,kt,Ch).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ue.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Dz=function(){const{parentRotation:e,parentDimensions:[i,r]}=this;switch(e){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},aR=function(){const{ctx:e,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:c}=this;e.lineWidth=s*o/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${wit(r)}`},Oz=function(e,i){this.canvas.addEventListener("contextmenu",Js,{signal:this._uiManager._signal}),$(this,kt,cR).call(this),H(this,Sd,new AbortController);const r=this._uiManager.combinedSignal(g(this,Sd));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,g(this,Ad)||(H(this,Ad,!0),$(this,kt,up).call(this),this.thickness||(this.thickness=Nn._defaultThickness),this.color||(this.color=Nn._defaultColor||un._defaultLineColor),this.opacity??(this.opacity=Nn._defaultOpacity)),this.currentPath.push([e,i]),H(this,wd,!1),$(this,kt,aR).call(this),H(this,cu,()=>{$(this,kt,Fz).call(this),g(this,cu)&&window.requestAnimationFrame(g(this,cu))}),window.requestAnimationFrame(g(this,cu))},oR=function(e,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&i===s)return;const o=this.currentPath;let c=g(this,Pl);if(o.push([e,i]),H(this,wd,!0),o.length<=2){c.moveTo(...o[0]),c.lineTo(e,i);return}o.length===3&&(H(this,Pl,c=new Path2D),c.moveTo(...o[0])),$(this,kt,Vz).call(this,c,...o.at(-3),...o.at(-2),e,i)},Lz=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);g(this,Pl).lineTo(...e)},Nz=function(e,i){H(this,cu,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),$(this,kt,oR).call(this,e,i),$(this,kt,Lz).call(this);let r;if(this.currentPath.length!==1)r=$(this,kt,zz).call(this);else{const d=[e,i];r=[[d,d.slice(),d.slice(),d]]}const s=g(this,Pl),o=this.currentPath;this.currentPath=[],H(this,Pl,new Path2D);const c=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||($(this,kt,KE).call(this),$(this,kt,YE).call(this)),$(this,kt,Vy).call(this))};this.addCommands({cmd:c,undo:u,mustExec:!0})},Fz=function(){if(!g(this,wd))return;H(this,wd,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(c=>c[0]),s=i.map(c=>c[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...s)-e,Math.max(...s)+e;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)o.stroke(c);o.stroke(g(this,Pl)),o.restore()},Vz=function(e,i,r,s,o,c,u){const d=(i+s)/2,f=(r+o)/2,m=(s+c)/2,y=(o+u)/2;e.bezierCurveTo(d+2*(s-d)/3,f+2*(o-f)/3,m+2*(s-m)/3,y+2*(o-y)/3,m,y)},zz=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let r,[s,o]=e[0];for(r=1;r<e.length-2;r++){const[b,E]=e[r],[w,T]=e[r+1],A=(b+w)/2,O=(E+T)/2,k=[s+2*(b-s)/3,o+2*(E-o)/3],P=[A+2*(b-A)/3,O+2*(E-O)/3];i.push([[s,o],k,P,[A,O]]),[s,o]=[A,O]}const[c,u]=e[r],[d,f]=e[r+1],m=[s+2*(c-s)/3,o+2*(u-o)/3],y=[d+2*(c-d)/3,f+2*(u-f)/3];return i.push([[s,o],m,y,[d,f]]),i},Ch=function(){if(this.isEmpty()){$(this,kt,XE).call(this);return}$(this,kt,aR).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),$(this,kt,XE).call(this);for(const r of this.bezierPath2D)i.stroke(r)},lR=function(){if(g(this,vm))return;H(this,vm,new AbortController);const e=this._uiManager.combinedSignal(g(this,vm));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},cR=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},uR=function(e){var i;(i=g(this,Sd))==null||i.abort(),H(this,Sd,null),$(this,kt,lR).call(this),g(this,co)&&clearTimeout(g(this,co)),H(this,co,setTimeout(()=>{H(this,co,null),this.canvas.removeEventListener("contextmenu",Js)},10)),$(this,kt,Nz).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},KE=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},YE=function(){H(this,Ml,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),g(this,Ml).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,Ml))==null||e.disconnect(),H(this,Ml,null)},{once:!0})},up=function(){if(!g(this,Ad))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),$(this,kt,XE).call(this)},hR=function(e,i){const r=$(this,kt,QE).call(this),s=(e-r)/g(this,Ed),o=(i-r)/g(this,_d);this.scaleFactor=Math.min(s,o)},XE=function(){const e=$(this,kt,QE).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},nc=new WeakSet,Bz=function(e){const i=new Path2D;for(let r=0,s=e.length;r<s;r++){const[o,c,u,d]=e[r];r===0&&i.moveTo(...o),i.bezierCurveTo(c[0],c[1],u[0],u[1],d[0],d[1])}return i},dR=function(e,i,r){const[s,o,c,u]=i;switch(r){case 0:for(let d=0,f=e.length;d<f;d+=2)e[d]+=s,e[d+1]=u-e[d+1];break;case 90:for(let d=0,f=e.length;d<f;d+=2){const m=e[d];e[d]=e[d+1]+s,e[d+1]=m+o}break;case 180:for(let d=0,f=e.length;d<f;d+=2)e[d]=c-e[d],e[d+1]+=o;break;case 270:for(let d=0,f=e.length;d<f;d+=2){const m=e[d];e[d]=c-e[d+1],e[d+1]=u-m}break;default:throw new Error("Invalid rotation")}return e},jz=function(e,i,r){const[s,o,c,u]=i;switch(r){case 0:for(let d=0,f=e.length;d<f;d+=2)e[d]-=s,e[d+1]=u-e[d+1];break;case 90:for(let d=0,f=e.length;d<f;d+=2){const m=e[d];e[d]=e[d+1]-o,e[d+1]=m-s}break;case 180:for(let d=0,f=e.length;d<f;d+=2)e[d]=c-e[d],e[d+1]-=o;break;case 270:for(let d=0,f=e.length;d<f;d+=2){const m=e[d];e[d]=u-e[d+1],e[d+1]=c-m}break;default:throw new Error("Invalid rotation")}return e},Uz=function(e,i,r,s){var f,m;const o=[],c=this.thickness/2,u=e*i+c,d=e*r+c;for(const y of this.paths){const b=[],E=[];for(let w=0,T=y.length;w<T;w++){const[A,O,k,P]=y[w];if(A[0]===P[0]&&A[1]===P[1]&&T===1){const U=e*A[0]+u,tt=e*A[1]+d;b.push(U,tt),E.push(U,tt);break}const F=e*A[0]+u,j=e*A[1]+d,D=e*O[0]+u,I=e*O[1]+d,V=e*k[0]+u,x=e*k[1]+d,B=e*P[0]+u,q=e*P[1]+d;w===0&&(b.push(F,j),E.push(F,j)),b.push(D,I,V,x,B,q),E.push(D,I),w===T-1&&E.push(B,q)}o.push({bezier:$(f=Nn,nc,dR).call(f,b,s,this.rotation),points:$(m=Nn,nc,dR).call(m,E,s,this.rotation)})}return o},fR=function(){let e=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[c,u,d,f]of o){const m=Yt.bezierBoundingBox(...c,...u,...d,...f);e=Math.min(e,m[0]),r=Math.min(r,m[1]),i=Math.max(i,m[2]),s=Math.max(s,m[3])}return[e,r,i,s]},QE=function(){return g(this,js)?Math.ceil(this.thickness*this.parentScale):0},Vy=function(e=!1){if(this.isEmpty())return;if(!g(this,js)){$(this,kt,Ch).call(this);return}const i=$(this,kt,fR).call(this),r=$(this,kt,QE).call(this);H(this,Ed,Math.max(un.MIN_SIZE,i[2]-i[0])),H(this,_d,Math.max(un.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+g(this,Ed)*this.scaleFactor),o=Math.ceil(r+g(this,_d)*this.scaleFactor),[c,u]=this.parentDimensions;this.width=s/c,this.height=o/u,this.setAspectRatio(s,o);const d=this.translationX,f=this.translationY;this.translationX=-i[0],this.translationY=-i[1],$(this,kt,up).call(this),$(this,kt,Ch).call(this),H(this,xd,s),H(this,Td,o),this.setDims(s,o);const m=e?r/this.scaleFactor/2:0;this.translate(d-this.translationX-m,f-this.translationY-m)},K(Nn,nc),re(Nn,"_defaultColor",null),re(Nn,"_defaultOpacity",1),re(Nn,"_defaultThickness",1),re(Nn,"_type","ink"),re(Nn,"_editorType",be.INK);let sR=Nn;var Vn,Qi,uu,Dl,hu,bm,uo,Ol,ho,hs,_m,Le,zy,By,ZE,mR,Hz,JE,gR,tS,$z,qz;const ev=class ev extends un{constructor(e){super({...e,name:"stampEditor"});K(this,Le);K(this,Vn,null);K(this,Qi,null);K(this,uu,null);K(this,Dl,null);K(this,hu,null);K(this,bm,"");K(this,uo,null);K(this,Ol,null);K(this,ho,null);K(this,hs,!1);K(this,_m,!1);H(this,Dl,e.bitmapUrl),H(this,hu,e.bitmapFile)}static initialize(e,i){un.initialize(e,i)}static get supportedTypes(){return Ne(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Ne(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(be.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:c}=e||this.copyCanvas(null,null,!0).imageData,u=await r.guess({name:"altText",request:{data:s,width:o,height:c,channels:s.length/(o*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e,i;g(this,Qi)&&(H(this,Vn,null),this._uiManager.imageManager.deleteId(g(this,Qi)),(e=g(this,uo))==null||e.remove(),H(this,uo,null),(i=g(this,Ol))==null||i.disconnect(),H(this,Ol,null),g(this,ho)&&(clearTimeout(g(this,ho)),H(this,ho,null))),super.remove()}rebuild(){if(!this.parent){g(this,Qi)&&$(this,Le,ZE).call(this);return}super.rebuild(),this.div!==null&&(g(this,Qi)&&g(this,uo)===null&&$(this,Le,ZE).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,uu)||g(this,Vn)||g(this,Dl)||g(this,hu)||g(this,Qi))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,Vn)?$(this,Le,mR).call(this):$(this,Le,ZE).call(this),this.width&&!this.annotationElementId){const[r,s]=this.parentDimensions;this.setAt(e*r,i*s,this.width*r,this.height*s)}return this.div}copyCanvas(e,i,r=!1){var b;e||(e=224);const{width:s,height:o}=g(this,Vn),c=new uC;let u=g(this,Vn),d=s,f=o,m=null;if(i){if(s>i||o>i){const I=Math.min(i/s,i/o);d=Math.floor(s*I),f=Math.floor(o*I)}m=document.createElement("canvas");const E=m.width=Math.ceil(d*c.sx),w=m.height=Math.ceil(f*c.sy);g(this,hs)||(u=$(this,Le,JE).call(this,E,w));const T=m.getContext("2d");T.filter=this._uiManager.hcmFilter;let A="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(b=window.matchMedia)!=null&&b.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",O="#42414d");const k=15,P=k*c.sx,F=k*c.sy,j=new OffscreenCanvas(P*2,F*2),D=j.getContext("2d");D.fillStyle=A,D.fillRect(0,0,P*2,F*2),D.fillStyle=O,D.fillRect(0,0,P,F),D.fillRect(P,F,P,F),T.fillStyle=T.createPattern(j,"repeat"),T.fillRect(0,0,E,w),T.drawImage(u,0,0,u.width,u.height,0,0,E,w)}let y=null;if(r){let E,w;if(c.symmetric&&u.width<e&&u.height<e)E=u.width,w=u.height;else if(u=g(this,Vn),s>e||o>e){const O=Math.min(e/s,e/o);E=Math.floor(s*O),w=Math.floor(o*O),g(this,hs)||(u=$(this,Le,JE).call(this,E,w))}const A=new OffscreenCanvas(E,w).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,E,w),y={width:E,height:w,data:A.getImageData(0,0,E,w).data}}return{canvas:m,width:d,height:f,imageData:y}}getImageForAltText(){return g(this,uo)}static async deserialize(e,i,r){var w;let s=null;if(e instanceof ez){const{data:{rect:T,rotation:A,id:O,structParent:k,popupRef:P},container:F,parent:{page:{pageNumber:j}}}=e,D=F.querySelector("canvas"),I=r.imageManager.getFromCanvas(F.id,D);D.remove();const V=((w=await i._structTree.getAriaAttributes(`${pk}${O}`))==null?void 0:w.get("aria-label"))||"";s=e={annotationType:be.STAMP,bitmapId:I.id,bitmap:I.bitmap,pageIndex:j-1,rect:T.slice(0),rotation:A,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:V},isSvg:!1,structParent:k,popupRef:P}}const o=await super.deserialize(e,i,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:f,isSvg:m,accessibilityData:y}=e;f&&r.imageManager.isValidId(f)?(H(o,Qi,f),u&&H(o,Vn,u)):H(o,Dl,d),H(o,hs,m);const[b,E]=o.pageDimensions;return o.width=(c[2]-c[0])/b,o.height=(c[3]-c[1])/E,o.annotationElementId=e.id||null,y&&(o.altTextData=y),o._initialData=s,H(o,_m,!!s),o}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:be.STAMP,bitmapId:g(this,Qi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,hs),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=$(this,Le,tS).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=$(this,Le,qz).call(this,r);if(u.isSame)return null;u.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const c=g(this,hs)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(g(this,Qi)))i.stamps.set(g(this,Qi),{area:c,serialized:r}),r.bitmap=$(this,Le,tS).call(this,!1);else if(g(this,hs)){const u=i.stamps.get(g(this,Qi));c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=$(this,Le,tS).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Vn=new WeakMap,Qi=new WeakMap,uu=new WeakMap,Dl=new WeakMap,hu=new WeakMap,bm=new WeakMap,uo=new WeakMap,Ol=new WeakMap,ho=new WeakMap,hs=new WeakMap,_m=new WeakMap,Le=new WeakSet,zy=function(e,i=!1){if(!e){this.remove();return}H(this,Vn,e.bitmap),i||(H(this,Qi,e.id),H(this,hs,e.isSvg)),e.file&&H(this,bm,e.file.name),$(this,Le,mR).call(this)},By=function(){if(H(this,uu,null),this._uiManager.enableWaiting(!1),!!g(this,uo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Vn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Vn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ZE=function(){if(g(this,Qi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Qi)).then(r=>$(this,Le,zy).call(this,r,!0)).finally(()=>$(this,Le,By).call(this));return}if(g(this,Dl)){const r=g(this,Dl);H(this,Dl,null),this._uiManager.enableWaiting(!0),H(this,uu,this._uiManager.imageManager.getFromUrl(r).then(s=>$(this,Le,zy).call(this,s)).finally(()=>$(this,Le,By).call(this)));return}if(g(this,hu)){const r=g(this,hu);H(this,hu,null),this._uiManager.enableWaiting(!0),H(this,uu,this._uiManager.imageManager.getFromFile(r).then(s=>$(this,Le,zy).call(this,s)).finally(()=>$(this,Le,By).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=ev.supportedTypesStr;const i=this._uiManager._signal;H(this,uu,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),$(this,Le,zy).call(this,s)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>$(this,Le,By).call(this))),e.click()},mR=function(){const{div:e}=this;let{width:i,height:r}=g(this,Vn);const[s,o]=this.pageDimensions,c=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>c*s||r>c*o){const m=Math.min(c*s/i,c*o/r);i*=m,r*=m}const[u,d]=this.parentDimensions;this.setDims(i*u/s,r*d/o),this._uiManager.enableWaiting(!1);const f=H(this,uo,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),$(this,Le,gR).call(this,i,r),$(this,Le,$z).call(this),g(this,_m)||(this.parent.addUndoableEditor(this),H(this,_m,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,bm)&&f.setAttribute("aria-label",g(this,bm))},Hz=function(e,i){var c;const[r,s]=this.parentDimensions;this.width=e/r,this.height=i/s,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,ho)!==null&&clearTimeout(g(this,ho)),H(this,ho,setTimeout(()=>{H(this,ho,null),$(this,Le,gR).call(this,e,i)},200))},JE=function(e,i){const{width:r,height:s}=g(this,Vn);let o=r,c=s,u=g(this,Vn);for(;o>2*e||c>2*i;){const d=o,f=c;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(o,c);m.getContext("2d").drawImage(u,0,0,d,f,0,0,o,c),u=m.transferToImageBitmap()}return u},gR=function(e,i){const r=new uC,s=Math.ceil(e*r.sx),o=Math.ceil(i*r.sy),c=g(this,uo);if(!c||c.width===s&&c.height===o)return;c.width=s,c.height=o;const u=g(this,hs)?g(this,Vn):$(this,Le,JE).call(this,s,o),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,s,o)},tS=function(e){if(e){if(g(this,hs)){const s=this._uiManager.imageManager.getSvgUrl(g(this,Qi));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=g(this,Vn),i.getContext("2d").drawImage(g(this,Vn),0,0),i.toDataURL()}if(g(this,hs)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Ou.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Ou.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(s,o);return c.getContext("2d").drawImage(g(this,Vn),0,0,g(this,Vn).width,g(this,Vn).height,0,0,s,o),c.transferToImageBitmap()}return structuredClone(g(this,Vn))},$z=function(){this._uiManager._signal&&(H(this,Ol,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&$(this,Le,Hz).call(this,i.width,i.height)})),g(this,Ol).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,Ol))==null||e.disconnect(),H(this,Ol,null)},{once:!0}))},qz=function(e){var d;const{rect:i,pageIndex:r,accessibilityData:{altText:s}}=this._initialData,o=e.rect.every((f,m)=>Math.abs(f-i[m])<1),c=e.pageIndex===r,u=(((d=e.accessibilityData)==null?void 0:d.alt)||"")===s;return{isSame:o&&c&&u,isSameAltText:u}},re(ev,"_type","stamp"),re(ev,"_editorType",be.STAMP);let pR=ev;var Cd,Em,fo,du,Ll,ds,fu,Sm,wm,dr,Nl,Zt,pu,er,Gz,vR,bR,_R,eS;const aa=class aa{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:c,textLayer:u,viewport:d,l10n:f}){K(this,er);K(this,Cd);K(this,Em,!1);K(this,fo,null);K(this,du,null);K(this,Ll,null);K(this,ds,new Map);K(this,fu,!1);K(this,Sm,!1);K(this,wm,!1);K(this,dr,null);K(this,Nl,null);K(this,Zt);const m=[...g(aa,pu).values()];if(!aa._initialized){aa._initialized=!0;for(const y of m)y.initialize(f,t)}t.registerEditorTypes(m),H(this,Zt,t),this.pageIndex=e,this.div=i,H(this,Cd,s),H(this,fo,o),this.viewport=d,H(this,dr,u),this.drawLayer=c,this._structTree=r,g(this,Zt).addLayer(this)}get isEmpty(){return g(this,ds).size===0}get isInvisible(){return this.isEmpty&&g(this,Zt).getMode()===be.NONE}updateToolbar(t){g(this,Zt).updateToolbar(t)}updateMode(t=g(this,Zt).getMode()){switch($(this,er,eS).call(this),t){case be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case be.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of g(aa,pu).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=g(this,dr))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(g(this,Zt).getMode()!==be.INK)return;if(!t){for(const i of g(this,ds).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){g(this,Zt).setEditingState(t)}addCommands(t){g(this,Zt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=g(this,fo))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of g(this,ds).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(g(this,Zt).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!g(this,fo))return;const e=g(this,fo).getEditableAnnotations();for(const i of e){if(i.hide(),g(this,Zt).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;H(this,wm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const s of g(this,ds).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(g(this,fo)){const s=g(this,fo).getEditableAnnotations();for(const o of s){const{id:c}=o.data;if(g(this,Zt).isDeletedAnnotationElement(c))continue;let u=e.get(c);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=t.get(c),u&&(g(this,Zt).addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}$(this,er,eS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of g(aa,pu).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),H(this,wm,!1)}getEditableAnnotation(t){var e;return((e=g(this,fo))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){g(this,Zt).getActive()!==t&&g(this,Zt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=g(this,dr))!=null&&t.div&&!g(this,Nl)){H(this,Nl,new AbortController);const e=g(this,Zt).combinedSignal(g(this,Nl));g(this,dr).div.addEventListener("pointerdown",$(this,er,Gz).bind(this),{signal:e}),g(this,dr).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=g(this,dr))!=null&&t.div&&g(this,Nl)&&(g(this,Nl).abort(),H(this,Nl,null),g(this,dr).div.classList.remove("highlighting"))}enableClick(){if(g(this,du))return;H(this,du,new AbortController);const t=g(this,Zt).combinedSignal(g(this,du));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=g(this,du))==null||t.abort(),H(this,du,null)}attach(t){g(this,ds).set(t.id,t);const{annotationElementId:e}=t;e&&g(this,Zt).isDeletedAnnotationElement(e)&&g(this,Zt).removeDeletedAnnotationElement(t)}detach(t){var e;g(this,ds).delete(t.id),(e=g(this,Cd))==null||e.removePointerInTextLayer(t.contentDiv),!g(this,wm)&&t.annotationElementId&&g(this,Zt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),g(this,Zt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,g(this,Sm)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(g(this,Zt).addDeletedAnnotationElement(t.annotationElementId),un.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),g(this,Zt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),g(this,Zt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!g(this,Ll)&&(t._focusEventsAllowed=!1,H(this,Ll,setTimeout(()=>{H(this,Ll,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:g(this,Zt)._signal}),e.focus())},0))),t._structTreeParentId=(i=g(this,Cd))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return g(this,Zt).getId()}combinedSignal(t){return g(this,Zt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=g(this,er,vR))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){g(this,Zt).updateToolbar(t),g(this,Zt).updateMode(t);const{offsetX:i,offsetY:r}=$(this,er,_R).call(this),s=this.getNextId(),o=$(this,er,bR).call(this,{parent:this,id:s,x:i,y:r,uiManager:g(this,Zt),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=g(aa,pu).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,g(this,Zt)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),s=$(this,er,bR).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:g(this,Zt),isCentered:e,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor($(this,er,_R).call(this),!0)}setSelected(t){g(this,Zt).setSelected(t)}toggleSelected(t){g(this,Zt).toggleSelected(t)}unselect(t){g(this,Zt).unselect(t)}pointerup(t){const{isMac:e}=kr.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&g(this,fu)){if(H(this,fu,!1),!g(this,Em)){H(this,Em,!0);return}if(g(this,Zt).getMode()===be.STAMP){g(this,Zt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(g(this,Zt).getMode()===be.HIGHLIGHT&&this.enableTextSelection(),g(this,fu)){H(this,fu,!1);return}const{isMac:e}=kr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;H(this,fu,!0);const i=g(this,Zt).getActive();H(this,Em,!i||i.isEmpty())}findNewParent(t,e,i){const r=g(this,Zt).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=g(this,Zt).getActive())==null?void 0:t.parent)===this&&(g(this,Zt).commitOrRemove(),g(this,Zt).setActiveEditor(null)),g(this,Ll)&&(clearTimeout(g(this,Ll)),H(this,Ll,null));for(const i of g(this,ds).values())(e=g(this,Cd))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,g(this,ds).clear(),g(this,Zt).removeLayer(this)}render({viewport:t}){this.viewport=t,Dd(this.div,t);for(const e of g(this,Zt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){g(this,Zt).commitOrRemove(),$(this,er,eS).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Dd(this.div,{rotation:i}),e!==i)for(const r of g(this,ds).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return g(this,Zt).viewParameters.realScale}};Cd=new WeakMap,Em=new WeakMap,fo=new WeakMap,du=new WeakMap,Ll=new WeakMap,ds=new WeakMap,fu=new WeakMap,Sm=new WeakMap,wm=new WeakMap,dr=new WeakMap,Nl=new WeakMap,Zt=new WeakMap,pu=new WeakMap,er=new WeakSet,Gz=function(t){g(this,Zt).unselectAll();const{target:e}=t;if(e===g(this,dr).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&g(this,dr).div.contains(e)){const{isMac:i}=kr.platform;if(t.button!==0||t.ctrlKey&&i)return;g(this,Zt).showAllEditors("highlight",!0,!0),g(this,dr).div.classList.add("free"),this.toggleDrawing(),zS.startHighlighting(this,g(this,Zt).direction==="ltr",{target:g(this,dr).div,x:t.x,y:t.y}),g(this,dr).div.addEventListener("pointerup",()=>{g(this,dr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Zt)._signal}),t.preventDefault()}},vR=function(){return g(aa,pu).get(g(this,Zt).getMode())},bR=function(t){const e=g(this,er,vR);return e?new e.prototype.constructor(t):null},_R=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),o=Math.max(0,e),c=Math.min(window.innerWidth,t+i),u=Math.min(window.innerHeight,e+r),d=(s+c)/2-t,f=(o+u)/2-e,[m,y]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:m,offsetY:y}},eS=function(){H(this,Sm,!0);for(const t of g(this,ds).values())t.isEmpty()&&t.remove();H(this,Sm,!1)},re(aa,"_initialized",!1),K(aa,pu,new Map([XC,sR,pR,zS].map(t=>[t._editorType,t])));let yR=aa;var po,Db,hi,Fl,Ob,SR,Vd,wR,Wz;const Ki=class Ki{constructor({pageIndex:t}){K(this,Vd);K(this,po,null);K(this,Db,0);K(this,hi,new Map);K(this,Fl,new Map);this.pageIndex=t}setParent(t){if(!g(this,po)){H(this,po,t);return}if(g(this,po)!==t){if(g(this,hi).size>0)for(const e of g(this,hi).values())e.remove(),t.append(e);H(this,po,t)}}static get _svgFactory(){return Ne(this,"_svgFactory",new Ak)}draw(t,e,i,r=!1){const s=xr(this,Db)._++,o=$(this,Vd,wR).call(this,t.box);o.classList.add(...t.classNamesForDrawing);const c=Ki._svgFactory.createElement("defs");o.append(c);const u=Ki._svgFactory.createElement("path");c.append(u);const d=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",d),u.setAttribute("d",t.toSVGPath()),r&&g(this,Fl).set(s,u);const f=$(this,Vd,Wz).call(this,c,d),m=Ki._svgFactory.createElement("use");return o.append(m),o.setAttribute("fill",e),o.setAttribute("fill-opacity",i),m.setAttribute("href",`#${d}`),g(this,hi).set(s,o),{id:s,clipPathId:`url(#${f})`}}drawOutline(t){const e=xr(this,Db)._++,i=$(this,Vd,wR).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const r=Ki._svgFactory.createElement("defs");i.append(r);const s=Ki._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${e}`;s.setAttribute("id",o),s.setAttribute("d",t.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const f=Ki._svgFactory.createElement("mask");r.append(f),c=`mask_p${this.pageIndex}_${e}`,f.setAttribute("id",c),f.setAttribute("maskUnits","objectBoundingBox");const m=Ki._svgFactory.createElement("rect");f.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=Ki._svgFactory.createElement("use");f.append(y),y.setAttribute("href",`#${o}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const u=Ki._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),g(this,hi).set(e,i),e}finalizeLine(t,e){const i=g(this,Fl).get(t);g(this,Fl).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){g(this,hi).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){g(this,Fl).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;$(i=Ki,Ob,SR).call(i,g(this,hi).get(t),e)}show(t,e){g(this,hi).get(t).classList.toggle("hidden",!e)}rotate(t,e){g(this,hi).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){g(this,hi).get(t).setAttribute("fill",e)}changeOpacity(t,e){g(this,hi).get(t).setAttribute("fill-opacity",e)}addClass(t,e){g(this,hi).get(t).classList.add(e)}removeClass(t,e){g(this,hi).get(t).classList.remove(e)}getSVGRoot(t){return g(this,hi).get(t)}remove(t){g(this,Fl).delete(t),g(this,po)!==null&&(g(this,hi).get(t).remove(),g(this,hi).delete(t))}destroy(){H(this,po,null);for(const t of g(this,hi).values())t.remove();g(this,hi).clear(),g(this,Fl).clear()}};po=new WeakMap,Db=new WeakMap,hi=new WeakMap,Fl=new WeakMap,Ob=new WeakSet,SR=function(t,{x:e=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},Vd=new WeakSet,wR=function(t){var i;const e=Ki._svgFactory.create(1,1,!0);return g(this,po).append(e),e.setAttribute("aria-hidden",!0),$(i=Ki,Ob,SR).call(i,e,t),e},Wz=function(t,e){const i=Ki._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Ki._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r},K(Ki,Ob);let ER=Ki;var nst=fe.AbortException,ist=fe.AnnotationEditorLayer,rst=fe.AnnotationEditorParamsType,sst=fe.AnnotationEditorType,ast=fe.AnnotationEditorUIManager,Kz=fe.AnnotationLayer,Yz=fe.AnnotationMode,ost=fe.ColorPicker,lst=fe.DOMSVGFactory,cst=fe.DrawLayer,ust=fe.FeatureTest,Tk=fe.GlobalWorkerOptions,hst=fe.ImageKind,dst=fe.InvalidPDFException,fst=fe.MissingPDFException,pst=fe.OPS,mst=fe.OutputScale,gst=fe.PDFDataRangeTransport,yst=fe.PDFDateString,vst=fe.PDFWorker,bst=fe.PasswordResponses,_st=fe.PermissionFlag,Est=fe.PixelsPerInch,Sst=fe.RenderingCancelledException,Xz=fe.TextLayer,wst=fe.UnexpectedResponseException,Ast=fe.Util,xst=fe.VerbosityLevel,Tst=fe.XfaLayer,Cst=fe.build,Rst=fe.createValidAbsoluteUrl,Ist=fe.fetchData,Qz=fe.getDocument,kst=fe.getFilenameFromUrl,Pst=fe.getPdfFilenameFromUrl,Mst=fe.getXfaPageViewport,Dst=fe.isDataScheme,Ost=fe.isPdfFile,Lst=fe.noContextMenu,Nst=fe.normalizeUnicode,Fst=fe.setLayerDimensions,Vst=fe.shadow,zst=fe.version;const Bst=Object.freeze(Object.defineProperty({__proto__:null,AbortException:nst,AnnotationEditorLayer:ist,AnnotationEditorParamsType:rst,AnnotationEditorType:sst,AnnotationEditorUIManager:ast,AnnotationLayer:Kz,AnnotationMode:Yz,ColorPicker:ost,DOMSVGFactory:lst,DrawLayer:cst,FeatureTest:ust,GlobalWorkerOptions:Tk,ImageKind:hst,InvalidPDFException:dst,MissingPDFException:fst,OPS:pst,OutputScale:mst,PDFDataRangeTransport:gst,PDFDateString:yst,PDFWorker:vst,PasswordResponses:bst,PermissionFlag:_st,PixelsPerInch:Est,RenderingCancelledException:Sst,TextLayer:Xz,UnexpectedResponseException:wst,Util:Ast,VerbosityLevel:xst,XfaLayer:Tst,build:Cst,createValidAbsoluteUrl:Rst,fetchData:Ist,getDocument:Qz,getFilenameFromUrl:kst,getPdfFilenameFromUrl:Pst,getXfaPageViewport:Mst,isDataScheme:Dst,isPdfFile:Ost,noContextMenu:Lst,normalizeUnicode:Nst,setLayerDimensions:Fst,shadow:Vst,version:zst},Symbol.toStringTag,{value:"Module"}));var Ni=function(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},jst=["onCopy","onCut","onPaste"],Ust=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Hst=["onFocus","onBlur"],$st=["onInput","onInvalid","onReset","onSubmit"],qst=["onLoad","onError"],Gst=["onKeyDown","onKeyPress","onKeyUp"],Wst=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Kst=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Yst=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Xst=["onSelect"],Qst=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Zst=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Jst=["onScroll"],tat=["onWheel"],eat=["onAnimationStart","onAnimationEnd","onAnimationIteration"],nat=["onTransitionEnd"],iat=["onToggle"],rat=["onChange"],sat=Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni(Ni([],jst,!0),Ust,!0),Hst,!0),$st,!0),qst,!0),Gst,!0),Wst,!0),Kst,!0),Yst,!0),Xst,!0),Qst,!0),Zst,!0),Jst,!0),tat,!0),eat,!0),nat,!0),rat,!0),iat,!0);function Zz(n,t){var e={};return sat.forEach(function(i){var r=n[i];r&&(t?e[i]=function(s){return r(s,t(i))}:e[i]=r)}),e}function a0(n){var t=!1,e=new Promise(function(i,r){n.then(function(s){return!t&&i(s)}).catch(function(s){return!t&&r(s)})});return{promise:e,cancel:function(){t=!0}}}var aat="Invariant failed";function wn(n,t){if(!n)throw new Error(aat)}var Zx,LN;function oat(){if(LN)return Zx;LN=1;var n=function(){};return Zx=n,Zx}var lat=oat();const mr=Lb(lat);var NN=Object.prototype.hasOwnProperty;function FN(n,t,e){for(e of n.keys())if(Sp(e,t))return e}function Sp(n,t){var e,i,r;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&Sp(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=FN(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=FN(t,r),!r)||!Sp(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(NN.call(n,e)&&++i&&!NN.call(t,e)||!(e in t)||!Sp(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}const Jz=M.createContext(null);function wp({children:n,type:t}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const cat="noopener noreferrer nofollow";class uat{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return wn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){wn(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{wn(this.pdfDocument),wn(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{wn(Array.isArray(e));const i=e[0];new Promise(r=>{wn(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{wn(!1)}):typeof i=="number"?r(i):wn(!1)}).then(r=>{const s=r+1;wn(this.pdfViewer),wn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:s})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;wn(this.pdfViewer),wn(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||cat,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const VN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},l1=typeof window<"u",tB=l1&&window.location.protocol==="file:";function hat(n){return typeof n<"u"}function _h(n){return hat(n)&&n!==null}function dat(n){return typeof n=="string"}function fat(n){return n instanceof ArrayBuffer}function pat(n){return wn(l1),n instanceof Blob}function AR(n){return dat(n)&&/^data:/.test(n)}function zN(n){wn(AR(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function mat(){return l1&&window.devicePixelRatio||1}const eB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function BN(){mr(!tB,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${eB}`)}function gat(){mr(!tB,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${eB}`)}function Nd(n){n!=null&&n.cancel&&n.cancel()}function xR(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function yat(n){return n.name==="RenderingCancelledException"}function vat(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return e(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function bat(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Fm(){return M.useReducer(bat,{value:void 0,error:void 0})}var _at=function(n,t,e,i){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function c(f){try{d(i.next(f))}catch(m){o(m)}}function u(f){try{d(i.throw(f))}catch(m){o(m)}}function d(f){f.done?s(f.value):r(f.value).then(c,u)}d((i=i.apply(n,t||[])).next())})},jN=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};const{PDFDataRangeTransport:Eat}=Bst,Sat=(n,t)=>{switch(t){case VN.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case VN.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function UN(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const wat=M.forwardRef(function(t,e){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:c,file:u,inputRef:d,imageResourcesPath:f,loading:m="Loading PDF…",noData:y="No PDF file specified.",onItemClick:b,onLoadError:E,onLoadProgress:w,onLoadSuccess:T,onPassword:A=Sat,onSourceError:O,onSourceSuccess:k,options:P,renderMode:F,rotate:j}=t,D=jN(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[I,V]=Fm(),{value:x,error:B}=I,[q,U]=Fm(),{value:tt,error:J}=q,X=M.useRef(new uat),Z=M.useRef([]),rt=M.useRef(void 0),dt=M.useRef(void 0);u&&u!==rt.current&&UN(u)&&(mr(!Sp(u,rt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),rt.current=u),P&&P!==dt.current&&(mr(!Sp(P,dt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),dt.current=P);const N=M.useRef({scrollPageIntoView:jt=>{const{dest:Lt,pageNumber:te,pageIndex:pe=te-1}=jt;if(b){b({dest:Lt,pageIndex:pe,pageNumber:te});return}const ge=Z.current[pe];if(ge){ge.scrollIntoView();return}mr(!1,`An internal link leading to page ${te} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(e,()=>({linkService:X,pages:Z,viewer:N}),[]);function st(){k&&k()}function ut(){B&&(mr(!1,B.toString()),O&&O(B))}function G(){V({type:"RESET"})}M.useEffect(G,[u,V]);const St=M.useCallback(()=>_at(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return AR(u)?{data:zN(u)}:(BN(),{url:u});if(u instanceof Eat)return{range:u};if(fat(u))return{data:u};if(l1&&pat(u))return{data:yield vat(u)};if(wn(typeof u=="object"),wn(UN(u)),"url"in u&&typeof u.url=="string"){if(AR(u.url)){const{url:jt}=u,Lt=jN(u,["url"]),te=zN(jt);return Object.assign({data:te},Lt)}BN()}return u}),[u]);M.useEffect(()=>{const jt=a0(St());return jt.promise.then(Lt=>{V({type:"RESOLVE",value:Lt})}).catch(Lt=>{V({type:"REJECT",error:Lt})}),()=>{Nd(jt)}},[St,V]),M.useEffect(()=>{if(!(typeof x>"u")){if(x===!1){ut();return}st()}},[x]);function Ct(){tt&&(T&&T(tt),Z.current=new Array(tt.numPages),X.current.setDocument(tt))}function wt(){J&&(mr(!1,J.toString()),E&&E(J))}M.useEffect(function(){U({type:"RESET"})},[U,x]),M.useEffect(function(){if(!x)return;const Lt=P?Object.assign(Object.assign({},x),P):x,te=Qz(Lt);w&&(te.onProgress=w),A&&(te.onPassword=A);const pe=te,ge=pe.promise.then(Fe=>{U({type:"RESOLVE",value:Fe})}).catch(Fe=>{pe.destroyed||U({type:"REJECT",error:Fe})});return()=>{ge.finally(()=>pe.destroy())}},[P,U,x]),M.useEffect(()=>{if(!(typeof tt>"u")){if(tt===!1){wt();return}Ct()}},[tt]),M.useEffect(function(){X.current.setViewer(N.current),X.current.setExternalLinkRel(o),X.current.setExternalLinkTarget(c)},[o,c]);const It=M.useCallback((jt,Lt)=>{Z.current[jt]=Lt},[]),zt=M.useCallback(jt=>{delete Z.current[jt]},[]),Kt=M.useMemo(()=>({imageResourcesPath:f,linkService:X.current,onItemClick:b,pdf:tt,registerPage:It,renderMode:F,rotate:j,unregisterPage:zt}),[f,b,tt,It,F,j,zt]),xt=M.useMemo(()=>Zz(D,()=>tt),[D,tt]);function Qt(){return R.jsx(Jz.Provider,{value:Kt,children:i})}function ee(){return u?tt==null?R.jsx(wp,{type:"loading",children:typeof m=="function"?m():m}):tt===!1?R.jsx(wp,{type:"error",children:typeof s=="function"?s():s}):Qt():R.jsx(wp,{type:"no-data",children:typeof y=="function"?y():y})}return R.jsx("div",Object.assign({className:Wt("react-pdf__Document",r),ref:d,style:{"--scale-factor":"1"}},xt,{children:ee()}))});function nB(){return M.useContext(Jz)}function iB(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(s){e.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const rB=M.createContext(null),sB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Aat=/^H(\d+)$/;function xat(n){return n in sB}function c1(n){return"children"in n}function aB(n){return c1(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Tat(n){const t={};if(c1(n)){const{role:e}=n,i=e.match(Aat);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(xat(e)){const r=sB[e];r&&(t.role=r)}}return t}function oB(n){const t={};if(c1(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),aB(n)){const[e]=n.children;if(e){const i=oB(e);return Object.assign(Object.assign({},t),i)}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function Cat(n){return n?Object.assign(Object.assign({},Tat(n)),oB(n)):null}function lB({className:n,node:t}){const e=M.useMemo(()=>Cat(t),[t]),i=M.useMemo(()=>!c1(t)||aB(t)?null:t.children.map((r,s)=>R.jsx(lB,{node:r},s)),[t]);return R.jsx("span",Object.assign({className:n},e,{children:i}))}function u1(){return M.useContext(rB)}function Rat(){const n=u1();wn(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,r]=Fm(),{value:s,error:o}=i,{customTextRenderer:c,page:u}=n;function d(){s&&e&&e(s)}function f(){o&&(mr(!1,o.toString()),t&&t(o))}return M.useEffect(function(){r({type:"RESET"})},[r,u]),M.useEffect(function(){if(c||!u)return;const y=a0(u.getStructTree()),b=y;return y.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>Nd(b)},[c,u,r]),M.useEffect(()=>{if(s!==void 0){if(s===!1){f();return}d()}},[s]),s?R.jsx(lB,{className:"react-pdf__Page__structTree structTree",node:s}):null}const HN=Yz;function Iat(n){const t=u1();wn(t);const e=Object.assign(Object.assign({},t),n),{_className:i,canvasBackground:r,devicePixelRatio:s=mat(),onRenderError:o,onRenderSuccess:c,page:u,renderForms:d,renderTextLayer:f,rotate:m,scale:y}=e,{canvasRef:b}=n;wn(u);const E=M.useRef(null);function w(){u&&c&&c(xR(u,y))}function T(P){yat(P)||(mr(!1,P.toString()),o&&o(P))}const A=M.useMemo(()=>u.getViewport({scale:y*s,rotation:m}),[s,u,m,y]),O=M.useMemo(()=>u.getViewport({scale:y,rotation:m}),[u,m,y]);M.useEffect(function(){if(!u)return;u.cleanup();const{current:F}=E;if(!F)return;F.width=A.width,F.height=A.height,F.style.width=`${Math.floor(O.width)}px`,F.style.height=`${Math.floor(O.height)}px`,F.style.visibility="hidden";const j={annotationMode:d?HN.ENABLE_FORMS:HN.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:A};r&&(j.background=r);const D=u.render(j),I=D;return D.promise.then(()=>{F.style.visibility="",w()}).catch(T),()=>Nd(I)},[r,u,d,A,O]);const k=M.useCallback(()=>{const{current:P}=E;P&&(P.width=0,P.height=0)},[]);return M.useEffect(()=>k,[k]),R.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:iB(b,E),style:{display:"block",userSelect:"none"},children:f?R.jsx(Rat,{}):null})}function kat(n){return"str"in n}function Pat(){const n=u1();wn(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:c,pageNumber:u,rotate:d,scale:f}=n;wn(o);const[m,y]=Fm(),{value:b,error:E}=m,w=M.useRef(null);mr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){b&&i&&i(b)}function A(){E&&(mr(!1,E.toString()),e&&e(E))}M.useEffect(function(){y({type:"RESET"})},[o,y]),M.useEffect(function(){if(!o)return;const I=a0(o.getTextContent()),V=I;return I.promise.then(x=>{y({type:"RESOLVE",value:x})}).catch(x=>{y({type:"REJECT",error:x})}),()=>Nd(V)},[o,y]),M.useEffect(()=>{if(b!==void 0){if(b===!1){A();return}T()}},[b]);const O=M.useCallback(()=>{s&&s()},[s]),k=M.useCallback(D=>{mr(!1,D.toString()),r&&r(D)},[r]);function P(){const D=w.current;D&&D.classList.add("selecting")}function F(){const D=w.current;D&&D.classList.remove("selecting")}const j=M.useMemo(()=>o.getViewport({scale:f,rotation:d}),[o,d,f]);return M.useLayoutEffect(function(){if(!o||!b)return;const{current:I}=w;if(!I)return;I.innerHTML="";const V=o.streamTextContent({includeMarkedContent:!0}),x={container:I,textContentSource:V,viewport:j},B=new Xz(x),q=B;return B.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",I.append(U);const tt=I.querySelectorAll('[role="presentation"]');if(t){let J=0;b.items.forEach((X,Z)=>{if(!kat(X))return;const rt=tt[J];if(!rt)return;const dt=t(Object.assign({pageIndex:c,pageNumber:u,itemIndex:Z},X));rt.innerHTML=dt,J+=X.str&&X.hasEOL?2:1})}O()}).catch(k),()=>Nd(q)},[t,k,O,o,c,u,b,j]),R.jsx("div",{className:Wt("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:P,ref:w})}function Mat(){const n=nB(),t=u1();wn(t);const e=Object.assign(Object.assign({},n),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:d,pdf:f,renderForms:m,rotate:y,scale:b=1}=e;wn(f),wn(d),wn(r);const[E,w]=Fm(),{value:T,error:A}=E,O=M.useRef(null);mr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){T&&o&&o(T)}function P(){A&&(mr(!1,A.toString()),s&&s(A))}M.useEffect(function(){w({type:"RESET"})},[w,d]),M.useEffect(function(){if(!d)return;const V=a0(d.getAnnotations()),x=V;return V.promise.then(B=>{w({type:"RESOLVE",value:B})}).catch(B=>{w({type:"REJECT",error:B})}),()=>{Nd(x)}},[w,d]),M.useEffect(()=>{if(T!==void 0){if(T===!1){P();return}k()}},[T]);function F(){u&&u()}function j(I){mr(!1,`${I}`),c&&c(I)}const D=M.useMemo(()=>d.getViewport({scale:b,rotation:y}),[d,y,b]);return M.useEffect(function(){if(!f||!d||!r||!T)return;const{current:V}=O;if(!V)return;const x=D.clone({dontFlip:!0}),B={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:V,l10n:null,page:d,structTreeLayer:null,viewport:x},q={annotations:T,annotationStorage:f.annotationStorage,div:V,imageResourcesPath:i,linkService:r,page:d,renderForms:m,viewport:x};V.innerHTML="";try{new Kz(B).render(q),F()}catch(U){j(U)}return()=>{}},[T,i,r,d,f,m,D]),R.jsx("div",{className:Wt("react-pdf__Page__annotations","annotationLayer"),ref:O})}var Dat=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};const $N=1;function Oat(n){const t=nB(),e=Object.assign(Object.assign({},t),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:c,className:u,customRenderer:d,customTextRenderer:f,devicePixelRatio:m,error:y="Failed to load the page.",height:b,inputRef:E,loading:w="Loading page…",noData:T="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:O,onGetStructTreeError:k,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:j,onLoadError:D,onLoadSuccess:I,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:x,onRenderError:B,onRenderSuccess:q,onRenderTextLayerError:U,onRenderTextLayerSuccess:tt,pageIndex:J,pageNumber:X,pdf:Z,registerPage:rt,renderAnnotationLayer:dt=!0,renderForms:N=!1,renderMode:st="canvas",renderTextLayer:ut=!0,rotate:G,scale:St=$N,unregisterPage:Ct,width:wt}=e,It=Dat(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[zt,Kt]=Fm(),{value:xt,error:Qt}=zt,ee=M.useRef(null);wn(Z);const jt=_h(X)?X-1:J??null,Lt=X??(_h(J)?J+1:null),te=G??(xt?xt.rotate:null),pe=M.useMemo(()=>{if(!xt)return null;let mt=1;const Dt=St??$N;if(wt||b){const Vt=xt.getViewport({scale:1,rotation:te});wt?mt=wt/Vt.width:b&&(mt=b/Vt.height)}return Dt*mt},[b,xt,te,St,wt]);M.useEffect(function(){return()=>{_h(jt)&&r&&Ct&&Ct(jt)}},[r,Z,jt,Ct]);function ge(){if(I){if(!xt||!pe)return;I(xR(xt,pe))}if(r&&rt){if(!_h(jt)||!ee.current)return;rt(jt,ee.current)}}function Fe(){Qt&&(mr(!1,Qt.toString()),D&&D(Qt))}M.useEffect(function(){Kt({type:"RESET"})},[Kt,Z,jt]),M.useEffect(function(){if(!Z||!Lt)return;const Dt=a0(Z.getPage(Lt)),Vt=Dt;return Dt.promise.then(Gt=>{Kt({type:"RESOLVE",value:Gt})}).catch(Gt=>{Kt({type:"REJECT",error:Gt})}),()=>Nd(Vt)},[Kt,Z,Lt]),M.useEffect(()=>{if(xt!==void 0){if(xt===!1){Fe();return}ge()}},[xt,pe]);const He=M.useMemo(()=>xt&&_h(jt)&&Lt&&_h(te)&&_h(pe)?{_className:i,canvasBackground:s,customTextRenderer:f,devicePixelRatio:m,onGetAnnotationsError:A,onGetAnnotationsSuccess:O,onGetStructTreeError:k,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:j,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:x,onRenderError:B,onRenderSuccess:q,onRenderTextLayerError:U,onRenderTextLayerSuccess:tt,page:xt,pageIndex:jt,pageNumber:Lt,renderForms:N,renderTextLayer:ut,rotate:te,scale:pe}:null,[i,s,f,m,A,O,k,P,F,j,V,x,B,q,U,tt,xt,jt,Lt,N,ut,te,pe]),$e=M.useMemo(()=>Zz(It,()=>xt&&(pe?xR(xt,pe):void 0)),[It,xt,pe]),Ee=`${jt}@${pe}/${te}`;function Ut(){switch(st){case"custom":return wn(d),R.jsx(d,{},`${Ee}_custom`);case"none":return null;case"canvas":default:return R.jsx(Iat,{canvasRef:o},`${Ee}_canvas`)}}function Qn(){return ut?R.jsx(Pat,{},`${Ee}_text`):null}function Ze(){return dt?R.jsx(Mat,{},`${Ee}_annotations`):null}function ki(){return R.jsxs(rB.Provider,{value:He,children:[Ut(),Qn(),Ze(),c]})}function ct(){return Lt?Z===null||xt===void 0||xt===null?R.jsx(wp,{type:"loading",children:typeof w=="function"?w():w}):Z===!1||xt===!1?R.jsx(wp,{type:"error",children:typeof y=="function"?y():y}):ki():R.jsx(wp,{type:"no-data",children:typeof T=="function"?T():T})}return R.jsx("div",Object.assign({className:Wt(i,u),"data-page-number":Lt,ref:iB(E,ee),style:{"--scale-factor":`${pe}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},$e,{children:ct()}))}gat();Tk.workerSrc="pdf.worker.mjs";const Lat=Hn(R.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Nat=Hn(R.jsx("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"}));function Fat(n,t,e){return Math.max(t,Math.min(n,e))}const kn={toVector(n,t){return n===void 0&&(n=t),Array.isArray(n)?n:[n,n]},add(n,t){return[n[0]+t[0],n[1]+t[1]]},sub(n,t){return[n[0]-t[0],n[1]-t[1]]},addTo(n,t){n[0]+=t[0],n[1]+=t[1]},subTo(n,t){n[0]-=t[0],n[1]-=t[1]}};function qN(n,t,e){return t===0||Math.abs(t)===1/0?Math.pow(n,e*5):n*t*e/(t+e*n)}function GN(n,t,e,i=.15){return i===0?Fat(n,t,e):n<t?-qN(t-n,e-t,i)+t:n>e?+qN(n-e,e-t,i)+e:n}function Vat(n,[t,e],[i,r]){const[[s,o],[c,u]]=n;return[GN(t,s,o,i),GN(e,c,u,r)]}function zat(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Bat(n){var t=zat(n,"string");return typeof t=="symbol"?t:String(t)}function fi(n,t,e){return t=Bat(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function WN(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Bn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(e),!0).forEach(function(i){fi(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):WN(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}const cB={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function KN(n){return n?n[0].toUpperCase()+n.slice(1):""}const jat=["enter","leave"];function Uat(n=!1,t){return n&&!jat.includes(t)}function Hat(n,t="",e=!1){const i=cB[n],r=i&&i[t]||t;return"on"+KN(n)+KN(r)+(Uat(e,r)?"Capture":"")}const $at=["gotpointercapture","lostpointercapture"];function qat(n){let t=n.substring(2).toLowerCase();const e=!!~t.indexOf("passive");e&&(t=t.replace("passive",""));const i=$at.includes(t)?"capturecapture":"capture",r=!!~t.indexOf(i);return r&&(t=t.replace("capture","")),{device:t,capture:r,passive:e}}function Gat(n,t=""){const e=cB[n],i=e&&e[t]||t;return n+i}function h1(n){return"touches"in n}function uB(n){return h1(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Wat(n){return Array.from(n.touches).filter(t=>{var e,i;return t.target===n.currentTarget||((e=n.currentTarget)===null||e===void 0||(i=e.contains)===null||i===void 0?void 0:i.call(e,t.target))})}function Kat(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function hB(n){return h1(n)?Kat(n)[0]:n}function TR(n,t){try{const e=t.clientX-n.clientX,i=t.clientY-n.clientY,r=(t.clientX+n.clientX)/2,s=(t.clientY+n.clientY)/2,o=Math.hypot(e,i);return{angle:-(Math.atan2(e,i)*180)/Math.PI,distance:o,origin:[r,s]}}catch{}return null}function Yat(n){return Wat(n).map(t=>t.identifier)}function YN(n,t){const[e,i]=Array.from(n.touches).filter(r=>t.includes(r.identifier));return TR(e,i)}function Jx(n){const t=hB(n);return h1(n)?t.identifier:t.pointerId}function Vm(n){const t=hB(n);return[t.clientX,t.clientY]}const XN=40,QN=800;function dB(n){let{deltaX:t,deltaY:e,deltaMode:i}=n;return i===1?(t*=XN,e*=XN):i===2&&(t*=QN,e*=QN),[t,e]}function Xat(n){var t,e;const{scrollX:i,scrollY:r,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(t=i??s)!==null&&t!==void 0?t:0,(e=r??o)!==null&&e!==void 0?e:0]}function Qat(n){const t={};if("buttons"in n&&(t.buttons=n.buttons),"shiftKey"in n){const{shiftKey:e,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(t,{shiftKey:e,altKey:i,metaKey:r,ctrlKey:s})}return t}function BS(n,...t){return typeof n=="function"?n(...t):n}function Zat(){}function Jat(...n){return n.length===0?Zat:n.length===1?n[0]:function(){let t;for(const e of n)t=e.apply(this,arguments)||t;return t}}function ZN(n,t){return Object.assign({},t,n||{})}const tot=32;class fB{constructor(t,e,i){this.ctrl=t,this.args=e,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:i,args:r}=this;e[i]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=r,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,i=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=i.from?BS(i.from,e):e.offset,e.offset=e.lastOffset,e.startTime=e.timeStamp=t.timeStamp)}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:i,shared:r}=this;e.args=this.args;let s=0;if(t&&(e.event=t,i.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,Qat(t)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const j=e._delta.map(Math.abs);kn.addTo(e._distance,j)}this.axisIntent&&this.axisIntent(t);const[o,c]=e._movement,[u,d]=i.threshold,{_step:f,values:m}=e;if(i.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(o)>=u&&m[0]),f[1]===!1&&(f[1]=Math.abs(c)>=d&&m[1])):(f[0]===!1&&(f[0]=Math.abs(o)>=u&&Math.sign(o)*u),f[1]===!1&&(f[1]=Math.abs(c)>=d&&Math.sign(c)*d)),e.intentional=f[0]!==!1||f[1]!==!1,!e.intentional)return;const y=[0,0];if(i.hasCustomTransform){const[j,D]=m;y[0]=f[0]!==!1?j-f[0]:0,y[1]=f[1]!==!1?D-f[1]:0}else y[0]=f[0]!==!1?o-f[0]:0,y[1]=f[1]!==!1?c-f[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(y);const b=e.offset,E=e._active&&!e._blocked||e.active;E&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=r[this.ingKey]=e._active,t&&(e.first&&("bounds"in i&&(e._bounds=BS(i.bounds,e)),this.setup&&this.setup()),e.movement=y,this.computeOffset()));const[w,T]=e.offset,[[A,O],[k,P]]=e._bounds;e.overflow=[w<A?-1:w>O?1:0,T<k?-1:T>P?1:0],e._movementBound[0]=e.overflow[0]?e._movementBound[0]===!1?e._movement[0]:e._movementBound[0]:!1,e._movementBound[1]=e.overflow[1]?e._movementBound[1]===!1?e._movement[1]:e._movementBound[1]:!1;const F=e._active?i.rubberband||[0,0]:[0,0];if(e.offset=Vat(e._bounds,e.offset,F),e.delta=kn.sub(e.offset,b),this.computeMovement(),E&&(!e.last||s>tot)){e.delta=kn.sub(e.offset,b);const j=e.delta.map(Math.abs);kn.addTo(e.distance,j),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&s>0&&(e.velocity=[j[0]/s,j[1]/s],e.timeDelta=s)}}emit(){const t=this.state,e=this.shared,i=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!i.triggerAllEvents)return;const r=this.handler(Bn(Bn(Bn({},e),t),{},{[this.aliasKey]:t.values}));r!==void 0&&(t.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function eot([n,t],e){const i=Math.abs(n),r=Math.abs(t);if(i>r&&i>e)return"x";if(r>i&&r>e)return"y"}class o0 extends fB{constructor(...t){super(...t),fi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=kn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=kn.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const e=this.state,i=this.config;if(!e.axis&&t){const r=typeof i.axisThreshold=="object"?i.axisThreshold[uB(t)]:i.axisThreshold;e.axis=eot(e._movement,r)}e._blocked=(i.lockDirection||!!i.axis)&&!e.axis||!!i.axis&&i.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const not=n=>n,JN=.15,pB={enabled(n=!0){return n},eventOptions(n,t,e){return Bn(Bn({},e.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[JN,JN];case!1:return[0,0];default:return kn.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return kn.toVector(n)},transform(n,t,e){const i=n||e.shared.transform;return this.hasCustomTransform=!!i,i||not},threshold(n){return kn.toVector(n,0)}},iot=0,Xd=Bn(Bn({},pB),{},{axis(n,t,{axis:e}){if(this.lockDirection=e==="lock",!this.lockDirection)return e},axisThreshold(n=iot){return n},bounds(n={}){if(typeof n=="function")return s=>Xd.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:t=-1/0,right:e=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[t,e],[i,r]]}}),tF={ArrowRight:(n,t=1)=>[n*t,0],ArrowLeft:(n,t=1)=>[-1*n*t,0],ArrowUp:(n,t=1)=>[0,-1*n*t],ArrowDown:(n,t=1)=>[0,n*t]};class rot extends o0{constructor(...t){super(...t),fi(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),i=t.currentTarget.getBoundingClientRect(),r={left:e.left-i.left+t.offset[0],right:e.right-i.right+t.offset[0],top:e.top-i.top+t.offset[1],bottom:e.bottom-i.bottom+t.offset[1]};t._bounds=Xd.bounds(r)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,i=this.state;if(t.buttons!=null&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):e.pointerButtons!==-1&&e.pointerButtons!==t.buttons))return;const r=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(t),this.setupPointer(t),i._pointerId=Jx(t),i._pointerActive=!0,this.computeValues(Vm(t)),this.computeInitial(),e.preventScrollAxis&&uB(t)!=="mouse"?(i._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,i=this.config;if(!e._pointerActive)return;const r=Jx(t);if(e._pointerId!==void 0&&r!==e._pointerId)return;const s=Vm(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=kn.sub(s,e._values),this.computeValues(s)),kn.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(i.preventScrollAxis&&!e._preventScroll)if(e.axis)if(e.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){e._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const e=this.state,i=this.config;if(!e._active||!e._pointerActive)return;const r=Jx(t);if(e._pointerId!==void 0&&r!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,o]=e._distance;if(e.tap=s<=i.tapsThreshold&&o<=i.tapsThreshold,e.tap&&i.filterTaps)e._force=!0;else{const[c,u]=e._delta,[d,f]=e._movement,[m,y]=i.swipe.velocity,[b,E]=i.swipe.distance,w=i.swipe.duration;if(e.elapsedTime<w){const T=Math.abs(c/e.timeDelta),A=Math.abs(u/e.timeDelta);T>m&&Math.abs(d)>b&&(e.swipe[0]=Math.sign(c)),A>y&&Math.abs(f)>E&&(e.swipe[1]=Math.sign(u))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config,i=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,sot(t);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const e=tF[t.key];if(e){const i=this.state,r=t.shiftKey?10:t.altKey?.1:1;this.start(t),i._delta=e(this.config.keyboardDisplacement,r),i._keyboardActive=!0,kn.addTo(i._movement,i._delta),this.compute(t),this.emit()}}keyUp(t){t.key in tF&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function sot(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const l0=typeof window<"u"&&window.document&&window.document.createElement;function mB(){return l0&&"ontouchstart"in window}function aot(){return mB()||l0&&window.navigator.maxTouchPoints>1}function oot(){return l0&&"onpointerdown"in window}function lot(){return l0&&"exitPointerLock"in window.document}function cot(){try{return"constructor"in GestureEvent}catch{return!1}}const $s={isBrowser:l0,gesture:cot(),touch:mB(),touchscreen:aot(),pointer:oot(),pointerLock:lot()},uot=250,hot=180,dot=.5,fot=50,pot=250,mot=10,eF={mouse:0,touch:0,pen:8},got=Bn(Bn({},Xd),{},{device(n,t,{pointer:{touch:e=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&$s.pointerLock,$s.touch&&e?"touch":this.pointerLock?"mouse":$s.pointer&&!r?"pointer":$s.touch?"touch":"mouse"},preventScrollAxis(n,t,{preventScroll:e}){if(this.preventScrollDelay=typeof e=="number"?e:e||e===void 0&&n?uot:void 0,!(!$s.touchscreen||e===!1))return n||(e!==void 0?"y":void 0)},pointerCapture(n,t,{pointer:{capture:e=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&e},threshold(n,t,{filterTaps:e=!1,tapsThreshold:i=3,axis:r=void 0}){const s=kn.toVector(n,e?i:r?1:0);return this.filterTaps=e,this.tapsThreshold=i,s},swipe({velocity:n=dot,distance:t=fot,duration:e=pot}={}){return{velocity:this.transform(kn.toVector(n)),distance:this.transform(kn.toVector(t)),duration:e}},delay(n=0){switch(n){case!0:return hot;case!1:return 0;default:return n}},axisThreshold(n){return n?Bn(Bn({},eF),n):eF},keyboardDisplacement(n=mot){return n}});function gB(n){const[t,e]=n.overflow,[i,r]=n._delta,[s,o]=n._direction;(t<0&&i>0&&s<0||t>0&&i<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(e<0&&r>0&&o<0||e>0&&r<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const yot=30,vot=100;class bot extends fB{constructor(...t){super(...t),fi(this,"ingKey","pinching"),fi(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:e,lastOffset:i}=this.state;t==="wheel"?this.state.offset=kn.add(e,i):this.state.offset=[(1+e[0])*i[0],e[1]+i[1]]}computeMovement(){const{offset:t,lastOffset:e}=this.state;this.state.movement=[t[0]/e[0],t[1]-e[1]]}axisIntent(){const t=this.state,[e,i]=t._movement;if(!t.axis){const r=Math.abs(e)*yot-Math.abs(i);r<0?t.axis="angle":r>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const e=this.state,i=this.ctrl.touchIds;if(e._active&&e._touchIds.every(s=>i.has(s))||i.size<2)return;this.start(t),e._touchIds=Array.from(i).slice(0,2);const r=YN(t,e._touchIds);r&&this.pinchStart(t,r)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const e=this.state,i=e._pointerEvents,r=this.ctrl.pointerIds;if(e._active&&Array.from(i.keys()).every(o=>r.has(o))||(i.size<2&&i.set(t.pointerId,t),e._pointerEvents.size<2))return;this.start(t);const s=TR(...Array.from(i.values()));s&&this.pinchStart(t,s)}pinchStart(t,e){const i=this.state;i.origin=e.origin,this.computeValues([e.distance,e.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const e=YN(t,this.state._touchIds);e&&this.pinchMove(t,e)}pointerMove(t){const e=this.state._pointerEvents;if(e.has(t.pointerId)&&e.set(t.pointerId,t),!this.state._active)return;const i=TR(...Array.from(e.values()));i&&this.pinchMove(t,i)}pinchMove(t,e){const i=this.state,r=i._values[1],s=e.angle-r;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([e.distance,e.angle-360*o]),i.origin=e.origin,i.turns=o,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const e=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}e._pointerEvents.has(t.pointerId)&&e._pointerEvents.delete(t.pointerId),e._active&&e._pointerEvents.size<2&&(e._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const e=this.state;e._active||(this.start(t),this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const e=this.state;this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY];const i=e._movement;e._movement=[t.scale-1,t.rotation],e._delta=kn.sub(e._movement,i),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const e=this.config.modifierKey;e&&(Array.isArray(e)?!e.find(i=>t[i]):!t[e])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const i=this.state;i._delta=[-dB(t)[1]/vot*i.offset[0],0],kn.addTo(i._movement,i._delta),gB(i),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const e=this.config.device;e&&(t(e,"start",this[e+"Start"].bind(this)),t(e,"change",this[e+"Move"].bind(this)),t(e,"end",this[e+"End"].bind(this)),t(e,"cancel",this[e+"End"].bind(this)),t("lostPointerCapture","",this[e+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const _ot=Bn(Bn({},pB),{},{device(n,t,{shared:e,pointer:{touch:i=!1}={}}){if(e.target&&!$s.touch&&$s.gesture)return"gesture";if($s.touch&&i)return"touch";if($s.touchscreen){if($s.pointer)return"pointer";if($s.touch)return"touch"}},bounds(n,t,{scaleBounds:e={},angleBounds:i={}}){const r=o=>{const c=ZN(BS(e,o),{min:-1/0,max:1/0});return[c.min,c.max]},s=o=>{const c=ZN(BS(i,o),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof e!="function"&&typeof i!="function"?[r(),s()]:o=>[r(o),s(o)]},threshold(n,t,e){return this.lockDirection=e.axis==="lock",kn.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class Eot extends o0{constructor(...t){super(...t),fi(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Vm(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const e=Vm(t),i=this.state;i._delta=kn.sub(e,i._values),kn.addTo(i._movement,i._delta),this.computeValues(e),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const Sot=Bn(Bn({},Xd),{},{mouseOnly:(n=!0)=>n});class wot extends o0{constructor(...t){super(...t),fi(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const e=this.state,i=Xat(t);e._delta=kn.sub(i,e._values),kn.addTo(e._movement,e._delta),this.computeValues(i),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const Aot=Xd;class xot extends o0{constructor(...t){super(...t),fi(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const e=this.state;e._delta=dB(t),kn.addTo(e._movement,e._delta),gB(e),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const Tot=Xd;class Cot extends o0{constructor(...t){super(...t),fi(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Vm(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const e=this.state;if(!e._active)return;e._active=!1;const i=Vm(t);e._movement=e._delta=kn.sub(i,e._values),this.computeValues(i),this.compute(t),e.delta=e.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const Rot=Bn(Bn({},Xd),{},{mouseOnly:(n=!0)=>n}),Ck=new Map,CR=new Map;function Iot(n){Ck.set(n.key,n.engine),CR.set(n.key,n.resolver)}const kot={key:"drag",engine:rot,resolver:got},Pot={key:"hover",engine:Cot,resolver:Rot},Mot={key:"move",engine:Eot,resolver:Sot},Dot={key:"pinch",engine:bot,resolver:_ot},Oot={key:"scroll",engine:wot,resolver:Aot},Lot={key:"wheel",engine:xot,resolver:Tot};function Not(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function Fot(n,t){if(n==null)return{};var e=Not(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}const Vot={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=$s.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:t=!1}={}){return{passive:n,capture:t}},transform(n){return n}},zot=["target","eventOptions","window","enabled","transform"];function nS(n={},t){const e={};for(const[i,r]of Object.entries(t))switch(typeof r){case"function":e[i]=r.call(e,n[i],i,n);break;case"object":e[i]=nS(n[i],r);break;case"boolean":r&&(e[i]=n[i]);break}return e}function Bot(n,t,e={}){const i=n,{target:r,eventOptions:s,window:o,enabled:c,transform:u}=i,d=Fot(i,zot);if(e.shared=nS({target:r,eventOptions:s,window:o,enabled:c,transform:u},Vot),t){const f=CR.get(t);e[t]=nS(Bn({shared:e.shared},d),f)}else for(const f in d){const m=CR.get(f);m&&(e[f]=nS(Bn({shared:e.shared},d[f]),m))}return e}class yB{constructor(t,e){fi(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,i,r,s){const o=this._listeners,c=Gat(e,i),u=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=Bn(Bn({},u),s);t.addEventListener(c,r,d);const f=()=>{t.removeEventListener(c,r,d),o.delete(f)};return o.add(f),f}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class jot{constructor(){fi(this,"_timeouts",new Map)}add(t,e,i=140,...r){this.remove(t),this._timeouts.set(t,window.setTimeout(e,i,...r))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Uot{constructor(t){fi(this,"gestures",new Set),fi(this,"_targetEventStore",new yB(this)),fi(this,"gestureEventStores",{}),fi(this,"gestureTimeoutStores",{}),fi(this,"handlers",{}),fi(this,"config",{}),fi(this,"pointerIds",new Set),fi(this,"touchIds",new Set),fi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Hot(this,t)}setEventIds(t){if(h1(t))return this.touchIds=new Set(Yat(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=Bot(t,e,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,i={};let r;if(!(e.target&&(r=e.target(),!r))){if(e.enabled){for(const o of this.gestures){const c=this.config[o],u=nF(i,c.eventOptions,!!r);if(c.enabled){const d=Ck.get(o);new d(this,t,o).bind(u)}}const s=nF(i,e.eventOptions,!!r);for(const o in this.nativeHandlers)s(o,"",c=>this.nativeHandlers[o](Bn(Bn({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const s in i)i[s]=Jat(...i[s]);if(!r)return i;for(const s in i){const{device:o,capture:c,passive:u}=qat(s);this._targetEventStore.add(r,o,"",i[s],{capture:c,passive:u})}}}}function Kf(n,t){n.gestures.add(t),n.gestureEventStores[t]=new yB(n,t),n.gestureTimeoutStores[t]=new jot}function Hot(n,t){t.drag&&Kf(n,"drag"),t.wheel&&Kf(n,"wheel"),t.scroll&&Kf(n,"scroll"),t.move&&Kf(n,"move"),t.pinch&&Kf(n,"pinch"),t.hover&&Kf(n,"hover")}const nF=(n,t,e)=>(i,r,s,o={},c=!1)=>{var u,d;const f=(u=o.capture)!==null&&u!==void 0?u:t.capture,m=(d=o.passive)!==null&&d!==void 0?d:t.passive;let y=c?i:Hat(i,r,f);e&&m&&(y+="Passive"),n[y]=n[y]||[],n[y].push(s)},$ot=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function qot(n){const t={},e={},i=new Set;for(let r in n)$ot.test(r)?(i.add(RegExp.lastMatch),e[r]=n[r]):t[r]=n[r];return[e,t,i]}function Yf(n,t,e,i,r,s){if(!n.has(e)||!Ck.has(i))return;const o=e+"Start",c=e+"End",u=d=>{let f;return d.first&&o in t&&t[o](d),e in t&&(f=t[e](d)),d.last&&c in t&&t[c](d),f};r[i]=u,s[i]=s[i]||{}}function Got(n,t){const[e,i,r]=qot(n),s={};return Yf(r,e,"onDrag","drag",s,t),Yf(r,e,"onWheel","wheel",s,t),Yf(r,e,"onScroll","scroll",s,t),Yf(r,e,"onPinch","pinch",s,t),Yf(r,e,"onMove","move",s,t),Yf(r,e,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:i}}function Wot(n,t={},e,i){const r=ys.useMemo(()=>new Uot(n),[]);if(r.applyHandlers(n,i),r.applyConfig(t,e),ys.useEffect(r.effect.bind(r)),ys.useEffect(()=>r.clean.bind(r),[]),t.target===void 0)return r.bind.bind(r)}function Kot(n){return n.forEach(Iot),function(e,i){const{handlers:r,nativeHandlers:s,config:o}=Got(e,i||{});return Wot(r,o,void 0,s)}}function Yot(n,t){return Kot([kot,Dot,Oot,Lot,Mot,Pot])(n,{})}const tT="/assets/workbook-Dd_TN73H.pdf";Tk.workerSrc="/pdf.worker.js";function Xot(){const[n,t]=M.useState(0),[e,i]=M.useState(1),[r,s]=M.useState(1),o=M.useRef(null),c=Bd();function u({numPages:f}){t(f),i(1)}const d=Yot({onDragEnd:({swipe:[f]})=>{f===-1&&i(m=>Math.min(m+1,n)),f===1&&i(m=>Math.max(m-1,1))}});return M.useEffect(()=>{const f=()=>{if(o.current){const b=o.current.offsetWidth/612;s(b)}};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),R.jsxs(yt,{className:"height_fixed_wrapper",children:[R.jsx(Ud,{subtitle:"수련회 워크북"}),R.jsxs(yt,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[R.jsxs(yt,{className:"fullWidth fully_centeralize",children:[R.jsx("a",{href:tT,download:!0,target:"_blank",rel:"noopener noreferrer",children:R.jsx(yt,{className:"homebutton fully_centeralize",children:R.jsx(Lat,{fontSize:"large",sx:{color:"#1a1c21"}})})}),R.jsx(yt,{className:"homebutton fully_centeralize",onClick:()=>{c("/")},children:R.jsx(HV,{fontSize:"large",sx:{color:"#1a1c21"}})}),R.jsx(yt,{className:"homebutton fully_centeralize",onClick:()=>{navigator.share?navigator.share({title:"수련회 워크북",text:"2025 Summer Retreat - CHANGE 워크북",url:tT}):alert("이 브라우저는 공유 기능을 지원하지 않습니다.")},children:R.jsx(Nat,{fontSize:"large",sx:{color:"#1a1c21"}})})]}),R.jsx(yt,{ref:o,className:"centeralize",sx:{width:"100%",height:"100%",overflow:"auto",maxHeight:"calc(100vh-100px)",flex:1,minHeight:0},...d(),children:R.jsx(wat,{file:tT,onLoadSuccess:u,children:R.jsx(Oat,{scale:r,pageNumber:e,renderTextLayer:!1,renderAnnotationLayer:!1})})}),R.jsxs(yt,{className:"fully_centeralize fullWidth",sx:{display:"flex",p:1,boxSizing:"border-box",height:"60px"},children:[R.jsx("button",{disabled:e<=1,onClick:()=>i(f=>f+-1),children:"이전페이지"}),R.jsxs(At,{sx:{ml:2,mr:2},children:[e," / ",n]}),R.jsx("button",{disabled:e>=n,onClick:()=>i(f=>f+1),children:"다음페이지"})]})]})]})}const Qot=Hn(R.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"})),Zot=Hn(R.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Jot=({groupDocId:n,onClose:t,selectedCourses:e})=>{const[i]=M.useState(""),[r,s]=M.useState([]);M.useEffect(()=>{(async()=>{const d=(await Qs(Xs(Es,"courses"))).docs.map(f=>({...f.data(),id:f.id}));s(d.filter(f=>f.title.includes(i)||f.id.toLowerCase().includes(i.toLowerCase())))})()},[i]);const o=async c=>{if(!n){alert("그룹 문서 ID가 없습니다.");return}const u=Oet(Es,"course_application",n);await tnt(u,{selected_courses:nnt(c)}),alert("신청 완료!"),window.location.reload()};return R.jsxs(pE,{open:!0,onClose:t,children:[R.jsx(mE,{sx:{pl:2,pr:2,pb:0},children:"수강 신청"}),R.jsx(u3,{children:r.map(c=>R.jsxs(MW,{sx:{p:0,pl:2,pr:2},children:[R.jsx(NW,{primary:c.title,secondary:`${c.professor} | ${c.credit}학점`}),R.jsx(pI,{sx:{minWidth:"66.05px"},onClick:()=>o(c.code),disabled:e.includes(c.code),children:e.includes(c.code)?"이미 신청됨":"신청하기"})]},c.code))})]})};function tlt(){var O;const[n,t]=M.useState({announcement:!1,prayBoard:!1,users:!1,courses:!0,selected_courses:!0}),[e,i]=M.useState([]),[r,s]=M.useState(),[o,c]=M.useState(0),[u,d]=M.useState(0),[f,m]=M.useState(0),[y,b]=M.useState(!1),[E,w]=M.useState(null),{user:T}=Jw(),A=async k=>{const P=xa(Xs(Es,"course_application"),yv("group_id","==",k)),F=await Qs(P);return F.empty?null:F.docs[0].id};return M.useEffect(()=>{(async()=>{if(T!=null&&T.group_id){const P=await A(T.group_id);w(P)}})()},[T]),M.useEffect(()=>{(async()=>{t(I=>({...I,courses:!0}));const P=xa(Xs(Es,"courses"),Zw("code","asc")),F=await Qs(P);if(F.empty)console.log("[Warning]No accouncements has been queried");else{const I=F.docs.map(V=>V.data());i(I)}t(I=>({...I,courses:!1})),t(I=>({...I,selected_courses:!0}));const j=xa(Xs(Es,"course_application"),yv("group_id","==",T.group_id)),D=await Qs(j);D.empty?console.log("[Warning]No accouncements has been queried"):D.docs.map(I=>{s(I.data())}),t(I=>({...I,selected_courses:!1}))})()},[T]),M.useEffect(()=>{const k=r==null?void 0:r.acquired_courses.map(P=>{try{return e.filter(F=>F.code==P.code)[0].credit}catch{return console.log(e.filter(F=>F.code==P.code)[0]),0}});m((k==null?void 0:k.reduce((P,F)=>P+F,0))??0)},[r,e]),M.useEffect(()=>{const k=r==null?void 0:r.acquired_courses.reduce((F,j)=>{const D=F+j.grade*e.filter(I=>I.code==j.code)[0].credit;return isNaN(D)?F:D},0),P=r==null?void 0:r.selected_courses.reduce((F,j)=>{try{return F+e.filter(D=>D.code==j)[0].credit}catch{return console.log(e.filter(D=>D.code==j)[0]),F}},0);d(P??0),r!=null&&r.acquired_courses&&c((k??0)/f)},[r,e,f]),R.jsxs(yt,{className:"wrapper",children:[R.jsx(Ud,{subtitle:"시간표 보기"}),R.jsxs(yt,{className:"fullWidth timetable",sx:{p:2,boxSizing:"border-box"},children:[(n.selected_courses||n.courses)&&R.jsx(Rm,{variant:"rectangular",className:"boardPreview",animation:"wave"}),(((O=r==null?void 0:r.selected_courses)==null?void 0:O.length)??0)>0?R.jsx(yt,{children:r==null?void 0:r.selected_courses.map(k=>{const P=e.filter(j=>j.code==k)[0],F=(r==null?void 0:r.acquired_courses.filter(j=>j.code==k).length)>0;return R.jsxs(yG,{sx:{minWidth:275,mt:2,position:"relative"},children:[F&&R.jsxs(yt,{className:"courseMark",children:[R.jsx(Zot,{fontSize:"small",sx:{color:"rgb(78, 137, 82)"}}),R.jsx(At,{variant:"success",children:"수료함"})]}),R.jsxs(EG,{className:"courseCard",children:[R.jsx(At,{sx:{color:"text.secondary",fontSize:12},children:P==null?void 0:P.code}),R.jsx(At,{variant:"h5",component:"div",children:P==null?void 0:P.title}),R.jsxs(At,{variant:"h6",sx:{color:"text.secondary"},children:[P!=null&&P.required?"전공필수":"전공선택"," |"," ",P==null?void 0:P.credit,"학점"]})]})]},`course_${k}`)})}):R.jsx(yt,{children:R.jsx(At,{children:"선택된 강의 없음"})}),R.jsxs(yt,{className:"fullWidth fully_centeralize",sx:{mt:2},onClick:()=>{b(!0)},children:[R.jsx(Qot,{sx:{mr:1,color:"#FFF"}}),R.jsx(At,{variant:"body2",children:"수강 신청하기"})]})]}),R.jsxs(yt,{className:"fullWidth timetable",sx:{p:2,boxSizing:"border-box",mt:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[R.jsx(At,{sx:{mb:1},children:"학점계산기"}),R.jsxs(yt,{className:"flex-left fullWidth",children:[R.jsxs(yt,{className:"flex-left",sx:{mr:4},children:[R.jsx(At,{variant:"credit_category",sx:{mr:2},children:"GPA"}),R.jsxs(yt,{children:[R.jsx(At,{variant:"credit_body1",children:isNaN(o)?0:o}),R.jsx(At,{variant:"credit_body2",children:" / 4.5"})]})]}),R.jsxs(yt,{className:"flex-left",children:[R.jsx(At,{variant:"credit_category",sx:{mr:2},children:"취득학점"}),R.jsxs(yt,{children:[R.jsx(At,{variant:"credit_body1",children:f}),R.jsxs(At,{variant:"credit_body2",children:[" ","/ ",u]})]})]})]})]}),y&&R.jsx(Jot,{groupDocId:E,onClose:()=>b(!1),selectedCourses:(r==null?void 0:r.selected_courses)??[]})]})}function elt(){const[n,t]=M.useState([]),[e,i]=M.useState(!0),[r,s]=M.useState(null),o=Bd();return M.useEffect(()=>{(async()=>{i(!0);const u=xa(Xs(Es,"courses"),Zw("code","asc")),d=await Qs(u);if(d.empty)console.log("[Warning]No Courses has been queried");else{const f=d.docs.map(m=>m.data());t(f)}i(!1)})()},[]),M.useEffect(()=>{console.log(n)},[n]),M.useEffect(()=>{console.log(r)},[r]),R.jsxs(yt,{className:"wrapper",sx:{p:0},children:[R.jsx(Ud,{subtitle:"실라버스"}),e&&R.jsx(Rm,{variant:"rectangular",className:"boardPreview skeleton_style",animation:"wave",sx:{height:"200px"}}),(n==null?void 0:n.length)>0&&R.jsx(yt,{className:"fullWidth",children:n.map(c=>R.jsxs(yt,{className:`fullWidth course_preview ${c.code===r?"course_focus":""}`,onClick:()=>{s(u=>u===null||u!==c.code?c.code:null)},children:[R.jsx(At,{variant:"course_title",children:c.title}),R.jsxs(At,{variant:"course_info",children:["지도교수 | ",c.professor]}),R.jsx(At,{variant:"course_info",children:c.summary}),R.jsxs(yt,{sx:{display:"flex",gap:1},children:[R.jsx(At,{variant:"course_info",children:c.required?"전공필수":"전공선택"}),R.jsxs(At,{variant:"course_info",children:[c.credit,"학점"]}),R.jsx(At,{variant:"course_info",children:c.code})]}),c.code===r&&R.jsx(yt,{sx:{pt:1},children:R.jsx(yt,{className:"course_detail_btn",onClick:()=>{o(`/syllabus/${c.code}`)},children:R.jsx(At,{variant:"course_detail_btn_text",children:"자세히 보기"})})})]},`course_${c.code}`))})]})}function nlt(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const ilt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rlt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,slt={};function iF(n,t){return(slt.jsx?rlt:ilt).test(n)}const alt=/[ \t\n\f\r]/g;function olt(n){return typeof n=="object"?n.type==="text"?rF(n.value):!1:rF(n)}function rF(n){return n.replace(alt,"")===""}class c0{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}c0.prototype.normal={};c0.prototype.property={};c0.prototype.space=void 0;function vB(n,t){const e={},i={};for(const r of n)Object.assign(e,r.property),Object.assign(i,r.normal);return new c0(e,i,t)}function RR(n){return n.toLowerCase()}class Kr{constructor(t,e){this.attribute=e,this.property=t}}Kr.prototype.attribute="";Kr.prototype.booleanish=!1;Kr.prototype.boolean=!1;Kr.prototype.commaOrSpaceSeparated=!1;Kr.prototype.commaSeparated=!1;Kr.prototype.defined=!1;Kr.prototype.mustUseProperty=!1;Kr.prototype.number=!1;Kr.prototype.overloadedBoolean=!1;Kr.prototype.property="";Kr.prototype.spaceSeparated=!1;Kr.prototype.space=void 0;let llt=0;const ve=Qd(),di=Qd(),IR=Qd(),Tt=Qd(),Tn=Qd(),Ap=Qd(),rs=Qd();function Qd(){return 2**++llt}const kR=Object.freeze(Object.defineProperty({__proto__:null,boolean:ve,booleanish:di,commaOrSpaceSeparated:rs,commaSeparated:Ap,number:Tt,overloadedBoolean:IR,spaceSeparated:Tn},Symbol.toStringTag,{value:"Module"})),eT=Object.keys(kR);class Rk extends Kr{constructor(t,e,i,r){let s=-1;if(super(t,e),sF(this,"space",r),typeof i=="number")for(;++s<eT.length;){const o=eT[s];sF(this,eT[s],(i&kR[o])===kR[o])}}}Rk.prototype.defined=!0;function sF(n,t,e){e&&(n[t]=e)}function Zm(n){const t={},e={};for(const[i,r]of Object.entries(n.properties)){const s=new Rk(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,e[RR(i)]=i,e[RR(s.attribute)]=i}return new c0(t,e,n.space)}const bB=Zm({properties:{ariaActiveDescendant:null,ariaAtomic:di,ariaAutoComplete:null,ariaBusy:di,ariaChecked:di,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:Tn,ariaCurrent:null,ariaDescribedBy:Tn,ariaDetails:null,ariaDisabled:di,ariaDropEffect:Tn,ariaErrorMessage:null,ariaExpanded:di,ariaFlowTo:Tn,ariaGrabbed:di,ariaHasPopup:null,ariaHidden:di,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tn,ariaLevel:Tt,ariaLive:null,ariaModal:di,ariaMultiLine:di,ariaMultiSelectable:di,ariaOrientation:null,ariaOwns:Tn,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:di,ariaReadOnly:di,ariaRelevant:null,ariaRequired:di,ariaRoleDescription:Tn,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:di,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function _B(n,t){return t in n?n[t]:t}function EB(n,t){return _B(n,t.toLowerCase())}const clt=Zm({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ap,acceptCharset:Tn,accessKey:Tn,action:null,allow:null,allowFullScreen:ve,allowPaymentRequest:ve,allowUserMedia:ve,alt:null,as:null,async:ve,autoCapitalize:null,autoComplete:Tn,autoFocus:ve,autoPlay:ve,blocking:Tn,capture:null,charSet:null,checked:ve,cite:null,className:Tn,cols:Tt,colSpan:null,content:null,contentEditable:di,controls:ve,controlsList:Tn,coords:Tt|Ap,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ve,defer:ve,dir:null,dirName:null,disabled:ve,download:IR,draggable:di,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ve,formTarget:null,headers:Tn,height:Tt,hidden:IR,high:Tt,href:null,hrefLang:null,htmlFor:Tn,httpEquiv:Tn,id:null,imageSizes:null,imageSrcSet:null,inert:ve,inputMode:null,integrity:null,is:null,isMap:ve,itemId:null,itemProp:Tn,itemRef:Tn,itemScope:ve,itemType:Tn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ve,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:ve,muted:ve,name:null,nonce:null,noModule:ve,noValidate:ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ve,optimum:Tt,pattern:null,ping:Tn,placeholder:null,playsInline:ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ve,referrerPolicy:null,rel:Tn,required:ve,reversed:ve,rows:Tt,rowSpan:Tt,sandbox:Tn,scope:null,scoped:ve,seamless:ve,selected:ve,shadowRootClonable:ve,shadowRootDelegatesFocus:ve,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:di,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:ve,useMap:null,value:di,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tn,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ve,declare:ve,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:ve,noHref:ve,noShade:ve,noWrap:ve,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:di,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ve,disableRemotePlayback:ve,prefix:null,property:null,results:Tt,security:null,unselectable:null},space:"html",transform:EB}),ult=Zm({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rs,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:Tn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ap,g2:Ap,glyphName:Ap,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:rs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rs,rev:rs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rs,requiredFeatures:rs,requiredFonts:rs,requiredFormats:rs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:rs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rs,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_B}),SB=Zm({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),wB=Zm({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:EB}),AB=Zm({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),hlt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dlt=/[A-Z]/g,aF=/-[a-z]/g,flt=/^data[-\w.:]+$/i;function plt(n,t){const e=RR(t);let i=t,r=Kr;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&flt.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(aF,glt);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!aF.test(s)){let o=s.replace(dlt,mlt);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}r=Rk}return new r(i,t)}function mlt(n){return"-"+n.toLowerCase()}function glt(n){return n.charAt(1).toUpperCase()}const ylt=vB([bB,clt,SB,wB,AB],"html"),Ik=vB([bB,ult,SB,wB,AB],"svg");function vlt(n){return n.join(" ").trim()}var Xf={},nT,oF;function blt(){if(oF)return nT;oF=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,u=`
`,d="/",f="*",m="",y="comment",b="declaration";nT=function(w,T){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];T=T||{};var A=1,O=1;function k(U){var tt=U.match(t);tt&&(A+=tt.length);var J=U.lastIndexOf(u);O=~J?U.length-J:O+U.length}function P(){var U={line:A,column:O};return function(tt){return tt.position=new F(U),I(),tt}}function F(U){this.start=U,this.end={line:A,column:O},this.source=T.source}F.prototype.content=w;function j(U){var tt=new Error(T.source+":"+A+":"+O+": "+U);if(tt.reason=U,tt.filename=T.source,tt.line=A,tt.column=O,tt.source=w,!T.silent)throw tt}function D(U){var tt=U.exec(w);if(tt){var J=tt[0];return k(J),w=w.slice(J.length),tt}}function I(){D(e)}function V(U){var tt;for(U=U||[];tt=x();)tt!==!1&&U.push(tt);return U}function x(){var U=P();if(!(d!=w.charAt(0)||f!=w.charAt(1))){for(var tt=2;m!=w.charAt(tt)&&(f!=w.charAt(tt)||d!=w.charAt(tt+1));)++tt;if(tt+=2,m===w.charAt(tt-1))return j("End of comment missing");var J=w.slice(2,tt-2);return O+=2,k(J),w=w.slice(tt),O+=2,U({type:y,comment:J})}}function B(){var U=P(),tt=D(i);if(tt){if(x(),!D(r))return j("property missing ':'");var J=D(s),X=U({type:b,property:E(tt[0].replace(n,m)),value:J?E(J[0].replace(n,m)):m});return D(o),X}}function q(){var U=[];V(U);for(var tt;tt=B();)tt!==!1&&(U.push(tt),V(U));return U}return I(),q()};function E(w){return w?w.replace(c,m):m}return nT}var lF;function _lt(){if(lF)return Xf;lF=1;var n=Xf&&Xf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.default=e;var t=n(blt());function e(i,r){var s=null;if(!i||typeof i!="string")return s;var o=(0,t.default)(i),c=typeof r=="function";return o.forEach(function(u){if(u.type==="declaration"){var d=u.property,f=u.value;c?r(d,f,u):f&&(s=s||{},s[d]=f)}}),s}return Xf}var my={},cF;function Elt(){if(cF)return my;cF=1,Object.defineProperty(my,"__esModule",{value:!0}),my.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(d){return!d||e.test(d)||n.test(d)},o=function(d,f){return f.toUpperCase()},c=function(d,f){return"".concat(f,"-")},u=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(r,c):d=d.replace(i,c),d.replace(t,o))};return my.camelCase=u,my}var gy,uF;function Slt(){if(uF)return gy;uF=1;var n=gy&&gy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=n(_lt()),e=Elt();function i(r,s){var o={};return!r||typeof r!="string"||(0,t.default)(r,function(c,u){c&&u&&(o[(0,e.camelCase)(c,s)]=u)}),o}return i.default=i,gy=i,gy}var wlt=Slt();const Alt=Lb(wlt),xB=TB("end"),kk=TB("start");function TB(n){return t;function t(e){const i=e&&e.position&&e.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function xlt(n){const t=kk(n),e=xB(n);if(t&&e)return{start:t,end:e}}function Zy(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?hF(n.position):"start"in n||"end"in n?hF(n):"line"in n||"column"in n?PR(n):""}function PR(n){return dF(n&&n.line)+":"+dF(n&&n.column)}function hF(n){return PR(n&&n.start)+"-"+PR(n&&n.end)}function dF(n){return n&&typeof n=="number"?n:1}class _r extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let r="",s={},o=!1;if(e&&("line"in e&&"column"in e?s={place:e}:"start"in e&&"end"in e?s={place:e}:"type"in e?s={ancestors:[e],place:e.position}:s={...e}),typeof t=="string"?r=t:!s.cause&&t&&(o=!0,r=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?s.ruleId=i:(s.source=i.slice(0,u),s.ruleId=i.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const c=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=c?c.line:void 0,this.name=Zy(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}_r.prototype.file="";_r.prototype.name="";_r.prototype.reason="";_r.prototype.message="";_r.prototype.stack="";_r.prototype.column=void 0;_r.prototype.line=void 0;_r.prototype.ancestors=void 0;_r.prototype.cause=void 0;_r.prototype.fatal=void 0;_r.prototype.place=void 0;_r.prototype.ruleId=void 0;_r.prototype.source=void 0;const Pk={}.hasOwnProperty,Tlt=new Map,Clt=/[A-Z]/g,Rlt=new Set(["table","tbody","thead","tfoot","tr"]),Ilt=new Set(["td","th"]),CB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function klt(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=Vlt(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Flt(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ik:ylt,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=RB(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function RB(n,t,e){if(t.type==="element")return Plt(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Mlt(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Olt(n,t,e);if(t.type==="mdxjsEsm")return Dlt(n,t);if(t.type==="root")return Llt(n,t,e);if(t.type==="text")return Nlt(n,t)}function Plt(n,t,e){const i=n.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Ik,n.schema=r),n.ancestors.push(t);const s=kB(n,t.tagName,!1),o=zlt(n,t);let c=Dk(n,t);return Rlt.has(t.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!olt(u):!0})),IB(n,o,s,t),Mk(o,c),n.ancestors.pop(),n.schema=i,n.create(t,s,o,e)}function Mlt(n,t){if(t.data&&t.data.estree&&n.evaluater){const i=t.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}bv(n,t.position)}function Dlt(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);bv(n,t.position)}function Olt(n,t,e){const i=n.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=Ik,n.schema=r),n.ancestors.push(t);const s=t.name===null?n.Fragment:kB(n,t.name,!0),o=Blt(n,t),c=Dk(n,t);return IB(n,o,s,t),Mk(o,c),n.ancestors.pop(),n.schema=i,n.create(t,s,o,e)}function Llt(n,t,e){const i={};return Mk(i,Dk(n,t)),n.create(t,n.Fragment,i,e)}function Nlt(n,t){return t.value}function IB(n,t,e,i){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=i)}function Mk(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function Flt(n,t,e){return i;function i(r,s,o,c){const d=Array.isArray(o.children)?e:t;return c?d(s,o,c):d(s,o)}}function Vlt(n,t){return e;function e(i,r,s,o){const c=Array.isArray(s.children),u=kk(i);return t(r,s,o,c,{columnNumber:u?u.column-1:void 0,fileName:n,lineNumber:u?u.line:void 0},void 0)}}function zlt(n,t){const e={};let i,r;for(r in t.properties)if(r!=="children"&&Pk.call(t.properties,r)){const s=jlt(n,r,t.properties[r]);if(s){const[o,c]=s;n.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&Ilt.has(t.tagName)?i=c:e[o]=c}}if(i){const s=e.style||(e.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function Blt(n,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const c=o.properties[0];c.type,Object.assign(e,n.evaluater.evaluateExpression(c.argument))}else bv(n,t.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,s=n.evaluater.evaluateExpression(c.expression)}else bv(n,t.position);else s=i.value===null?!0:i.value;e[r]=s}return e}function Dk(n,t){const e=[];let i=-1;const r=n.passKeys?new Map:Tlt;for(;++i<t.children.length;){const s=t.children[i];let o;if(n.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=r.get(u)||0;o=u+"-"+d,r.set(u,d+1)}}const c=RB(n,s,o);c!==void 0&&e.push(c)}return e}function jlt(n,t,e){const i=plt(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?nlt(e):vlt(e)),i.property==="style"){let r=typeof e=="object"?e:Ult(n,String(e));return n.stylePropertyNameCase==="css"&&(r=Hlt(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?hlt[i.property]||i.property:i.attribute,e]}}function Ult(n,t){try{return Alt(t,{reactCompat:!0})}catch(e){if(n.ignoreInvalidStyle)return{};const i=e,r=new _r("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=CB+"#cannot-parse-style-attribute",r}}function kB(n,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let s=-1,o;for(;++s<r.length;){const c=iF(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(s&&c.type==="Literal"),optional:!1}:c}i=o}else i=iF(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return Pk.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);bv(n)}function bv(n,t){const e=new _r("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=CB+"#cannot-handle-mdx-estrees-without-createevaluater",e}function Hlt(n){const t={};let e;for(e in n)Pk.call(n,e)&&(t[$lt(e)]=n[e]);return t}function $lt(n){let t=n.replace(Clt,qlt);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qlt(n){return"-"+n.toLowerCase()}const iT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Glt={};function Wlt(n,t){const e=Glt,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return PB(n,i,r)}function PB(n,t,e){if(Klt(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return fF(n.children,t,e)}return Array.isArray(n)?fF(n,t,e):""}function fF(n,t,e){const i=[];let r=-1;for(;++r<n.length;)i[r]=PB(n[r],t,e);return i.join("")}function Klt(n){return!!(n&&typeof n=="object")}const pF=document.createElement("i");function Ok(n){const t="&"+n+";";pF.innerHTML=t;const e=pF.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function Io(n,t,e,i){const r=n.length;let s=0,o;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,i.length<1e4)o=Array.from(i),o.unshift(t,e),n.splice(...o);else for(e&&n.splice(t,e);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),n.splice(...o),s+=1e4,t+=1e4}function qs(n,t){return n.length>0?(Io(n,n.length,0,t),n):t}const mF={}.hasOwnProperty;function Ylt(n){const t={};let e=-1;for(;++e<n.length;)Xlt(t,n[e]);return t}function Xlt(n,t){let e;for(e in t){const r=(mF.call(n,e)?n[e]:void 0)||(n[e]={}),s=t[e];let o;if(s)for(o in s){mF.call(r,o)||(r[o]=[]);const c=s[o];Qlt(r[o],Array.isArray(c)?c:c?[c]:[])}}}function Qlt(n,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?n:i).push(t[e]);Io(n,0,0,i)}function MB(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}function xp(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vo=ju(/[A-Za-z]/),vs=ju(/[\dA-Za-z]/),Zlt=ju(/[#-'*+\--9=?A-Z^-~]/);function MR(n){return n!==null&&(n<32||n===127)}const DR=ju(/\d/),Jlt=ju(/[\dA-Fa-f]/),tct=ju(/[!-/:-@[-`{-~]/);function oe(n){return n!==null&&n<-2}function Gr(n){return n!==null&&(n<0||n===32)}function Qe(n){return n===-2||n===-1||n===32}const ect=ju(new RegExp("\\p{P}|\\p{S}","u")),nct=ju(/\s/);function ju(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function Jm(n){const t=[];let e=-1,i=0,r=0;for(;++e<n.length;){const s=n.charCodeAt(e);let o="";if(s===37&&vs(n.charCodeAt(e+1))&&vs(n.charCodeAt(e+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const c=n.charCodeAt(e+1);s<56320&&c>56319&&c<57344?(o=String.fromCharCode(s,c),r=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(n.slice(i,e),encodeURIComponent(o)),i=e+r+1,o=""),r&&(e+=r,r=0)}return t.join("")+n.slice(i)}function Cn(n,t,e,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Qe(u)?(n.enter(e),c(u)):t(u)}function c(u){return Qe(u)&&s++<r?(n.consume(u),c):(n.exit(e),t(u))}}const ict={tokenize:rct};function rct(n){const t=n.attempt(this.parser.constructs.contentInitial,i,r);let e;return t;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),Cn(n,t,"linePrefix")}function r(c){return n.enter("paragraph"),s(c)}function s(c){const u=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=u),e=u,o(c)}function o(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return oe(c)?(n.consume(c),n.exit("chunkText"),s):(n.consume(c),o)}}const sct={tokenize:act},gF={tokenize:oct};function act(n){const t=this,e=[];let i=0,r,s,o;return c;function c(k){if(i<e.length){const P=e[i];return t.containerState=P[1],n.attempt(P[0].continuation,u,d)(k)}return d(k)}function u(k){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&O();const P=t.events.length;let F=P,j;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){j=t.events[F][1].end;break}A(i);let D=P;for(;D<t.events.length;)t.events[D][1].end={...j},D++;return Io(t.events,F+1,0,t.events.slice(P)),t.events.length=D,d(k)}return c(k)}function d(k){if(i===e.length){if(!r)return y(k);if(r.currentConstruct&&r.currentConstruct.concrete)return E(k);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(gF,f,m)(k)}function f(k){return r&&O(),A(i),y(k)}function m(k){return t.parser.lazy[t.now().line]=i!==e.length,o=t.now().offset,E(k)}function y(k){return t.containerState={},n.attempt(gF,b,E)(k)}function b(k){return i++,e.push([t.currentConstruct,t.containerState]),y(k)}function E(k){if(k===null){r&&O(),A(0),n.consume(k);return}return r=r||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),w(k)}function w(k){if(k===null){T(n.exit("chunkFlow"),!0),A(0),n.consume(k);return}return oe(k)?(n.consume(k),T(n.exit("chunkFlow")),i=0,t.interrupt=void 0,c):(n.consume(k),w)}function T(k,P){const F=t.sliceStream(k);if(P&&F.push(null),k.previous=s,s&&(s.next=k),s=k,r.defineSkip(k.start),r.write(F),t.parser.lazy[k.start.line]){let j=r.events.length;for(;j--;)if(r.events[j][1].start.offset<o&&(!r.events[j][1].end||r.events[j][1].end.offset>o))return;const D=t.events.length;let I=D,V,x;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(V){x=t.events[I][1].end;break}V=!0}for(A(i),j=D;j<t.events.length;)t.events[j][1].end={...x},j++;Io(t.events,I+1,0,t.events.slice(D)),t.events.length=j}}function A(k){let P=e.length;for(;P-- >k;){const F=e[P];t.containerState=F[1],F[0].exit.call(t,n)}e.length=k}function O(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function oct(n,t,e){return Cn(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yF(n){if(n===null||Gr(n)||nct(n))return 1;if(ect(n))return 2}function Lk(n,t,e){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(t=s(t,e),i.push(s))}return t}const OR={name:"attention",resolveAll:lct,tokenize:cct};function lct(n,t){let e=-1,i,r,s,o,c,u,d,f;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(i=e;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&t.sliceSerialize(n[i][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[i][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;u=n[i][1].end.offset-n[i][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const m={...n[i][1].end},y={...n[e][1].start};vF(m,-u),vF(y,u),o={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:y},s={type:u>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[e][1].start}},r={type:u>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},n[i][1].end={...o.start},n[e][1].start={...c.end},d=[],n[i][1].end.offset-n[i][1].start.offset&&(d=qs(d,[["enter",n[i][1],t],["exit",n[i][1],t]])),d=qs(d,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",s,t]]),d=qs(d,Lk(t.parser.constructs.insideSpan.null,n.slice(i+1,e),t)),d=qs(d,[["exit",s,t],["enter",c,t],["exit",c,t],["exit",r,t]]),n[e][1].end.offset-n[e][1].start.offset?(f=2,d=qs(d,[["enter",n[e][1],t],["exit",n[e][1],t]])):f=0,Io(n,i-1,e-i+3,d),e=i+d.length-f-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function cct(n,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,r=yF(i);let s;return o;function o(u){return s=u,n.enter("attentionSequence"),c(u)}function c(u){if(u===s)return n.consume(u),c;const d=n.exit("attentionSequence"),f=yF(u),m=!f||f===2&&r||e.includes(u),y=!r||r===2&&f||e.includes(i);return d._open=!!(s===42?m:m&&(r||!y)),d._close=!!(s===42?y:y&&(f||!m)),t(u)}}function vF(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const uct={name:"autolink",tokenize:hct};function hct(n,t,e){let i=0;return r;function r(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(b){return vo(b)?(n.consume(b),o):b===64?e(b):d(b)}function o(b){return b===43||b===45||b===46||vs(b)?(i=1,c(b)):d(b)}function c(b){return b===58?(n.consume(b),i=0,u):(b===43||b===45||b===46||vs(b))&&i++<32?(n.consume(b),c):(i=0,d(b))}function u(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),t):b===null||b===32||b===60||MR(b)?e(b):(n.consume(b),u)}function d(b){return b===64?(n.consume(b),f):Zlt(b)?(n.consume(b),d):e(b)}function f(b){return vs(b)?m(b):e(b)}function m(b){return b===46?(n.consume(b),i=0,f):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),t):y(b)}function y(b){if((b===45||vs(b))&&i++<63){const E=b===45?y:m;return n.consume(b),E}return e(b)}}const d1={partial:!0,tokenize:dct};function dct(n,t,e){return i;function i(s){return Qe(s)?Cn(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||oe(s)?t(s):e(s)}}const DB={continuation:{tokenize:pct},exit:mct,name:"blockQuote",tokenize:fct};function fct(n,t,e){const i=this;return r;function r(o){if(o===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return e(o)}function s(o){return Qe(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(o))}}function pct(n,t,e){const i=this;return r;function r(o){return Qe(o)?Cn(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(DB,t,e)(o)}}function mct(n){n.exit("blockQuote")}const OB={name:"characterEscape",tokenize:gct};function gct(n,t,e){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return tct(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(s)}}const LB={name:"characterReference",tokenize:yct};function yct(n,t,e){const i=this;let r=0,s,o;return c;function c(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),u}function u(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),s=31,o=vs,f(m))}function d(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=Jlt,f):(n.enter("characterReferenceValue"),s=7,o=DR,f(m))}function f(m){if(m===59&&r){const y=n.exit("characterReferenceValue");return o===vs&&!Ok(i.sliceSerialize(y))?e(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return o(m)&&r++<s?(n.consume(m),f):e(m)}}const bF={partial:!0,tokenize:bct},_F={concrete:!0,name:"codeFenced",tokenize:vct};function vct(n,t,e){const i=this,r={partial:!0,tokenize:F};let s=0,o=0,c;return u;function u(j){return d(j)}function d(j){const D=i.events[i.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=j,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===c?(o++,n.consume(j),f):o<3?e(j):(n.exit("codeFencedFenceSequence"),Qe(j)?Cn(n,m,"whitespace")(j):m(j))}function m(j){return j===null||oe(j)?(n.exit("codeFencedFence"),i.interrupt?t(j):n.check(bF,w,P)(j)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||oe(j)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(j)):Qe(j)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Cn(n,b,"whitespace")(j)):j===96&&j===c?e(j):(n.consume(j),y)}function b(j){return j===null||oe(j)?m(j):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),E(j))}function E(j){return j===null||oe(j)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(j)):j===96&&j===c?e(j):(n.consume(j),E)}function w(j){return n.attempt(r,P,T)(j)}function T(j){return n.enter("lineEnding"),n.consume(j),n.exit("lineEnding"),A}function A(j){return s>0&&Qe(j)?Cn(n,O,"linePrefix",s+1)(j):O(j)}function O(j){return j===null||oe(j)?n.check(bF,w,P)(j):(n.enter("codeFlowValue"),k(j))}function k(j){return j===null||oe(j)?(n.exit("codeFlowValue"),O(j)):(n.consume(j),k)}function P(j){return n.exit("codeFenced"),t(j)}function F(j,D,I){let V=0;return x;function x(J){return j.enter("lineEnding"),j.consume(J),j.exit("lineEnding"),B}function B(J){return j.enter("codeFencedFence"),Qe(J)?Cn(j,q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):q(J)}function q(J){return J===c?(j.enter("codeFencedFenceSequence"),U(J)):I(J)}function U(J){return J===c?(V++,j.consume(J),U):V>=o?(j.exit("codeFencedFenceSequence"),Qe(J)?Cn(j,tt,"whitespace")(J):tt(J)):I(J)}function tt(J){return J===null||oe(J)?(j.exit("codeFencedFence"),D(J)):I(J)}}}function bct(n,t,e){const i=this;return r;function r(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}const rT={name:"codeIndented",tokenize:Ect},_ct={partial:!0,tokenize:Sct};function Ect(n,t,e){const i=this;return r;function r(d){return n.enter("codeIndented"),Cn(n,s,"linePrefix",5)(d)}function s(d){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):e(d)}function o(d){return d===null?u(d):oe(d)?n.attempt(_ct,o,u)(d):(n.enter("codeFlowValue"),c(d))}function c(d){return d===null||oe(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),c)}function u(d){return n.exit("codeIndented"),t(d)}}function Sct(n,t,e){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?e(o):oe(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),r):Cn(n,s,"linePrefix",5)(o)}function s(o){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(o):oe(o)?r(o):e(o)}}const wct={name:"codeText",previous:xct,resolve:Act,tokenize:Tct};function Act(n){let t=n.length-4,e=3,i,r;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(i=e;++i<t;)if(n[i][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)r===void 0?i!==t&&n[i][1].type!=="lineEnding"&&(r=i):(i===t||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return n}function xct(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Tct(n,t,e){let i=0,r,s;return o;function o(m){return n.enter("codeText"),n.enter("codeTextSequence"),c(m)}function c(m){return m===96?(n.consume(m),i++,c):(n.exit("codeTextSequence"),u(m))}function u(m){return m===null?e(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),u):m===96?(s=n.enter("codeTextSequence"),r=0,f(m)):oe(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),u):(n.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||oe(m)?(n.exit("codeTextData"),u(m)):(n.consume(m),d)}function f(m){return m===96?(n.consume(m),r++,f):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),t(m)):(s.type="codeTextData",d(m))}}class Cct{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const r=e||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&yy(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),yy(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),yy(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);yy(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);yy(this.left,e.reverse())}}}function yy(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function NB(n){const t={};let e=-1,i,r,s,o,c,u,d;const f=new Cct(n);for(;++e<f.length;){for(;e in t;)e=t[e];if(i=f.get(e),e&&i[1].type==="chunkFlow"&&f.get(e-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,Rct(f,e)),e=t[e],d=!0);else if(i[1]._container){for(s=e,r=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(f.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...f.get(r)[1].start},c=f.slice(r,e),c.unshift(i),f.splice(r,e-r+1,c))}}return Io(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Rct(n,t){const e=n.get(t)[1],i=n.get(t)[2];let r=t-1;const s=[];let o=e._tokenizer;o||(o=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,u=[],d={};let f,m,y=-1,b=e,E=0,w=0;const T=[w];for(;b;){for(;n.get(++r)[1]!==b;);s.push(r),b._tokenizer||(f=i.sliceStream(b),b.next||f.push(null),m&&o.defineSkip(b.start),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=e;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(w=y+1,T.push(w),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(o.events=[],b?(b._tokenizer=void 0,b.previous=void 0):T.pop(),y=T.length;y--;){const A=c.slice(T[y],T[y+1]),O=s.pop();u.push([O,O+A.length-1]),n.splice(O,2,A)}for(u.reverse(),y=-1;++y<u.length;)d[E+u[y][0]]=E+u[y][1],E+=u[y][1]-u[y][0]-1;return d}const Ict={resolve:Pct,tokenize:Mct},kct={partial:!0,tokenize:Dct};function Pct(n){return NB(n),n}function Mct(n,t){let e;return i;function i(c){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?s(c):oe(c)?n.check(kct,o,s)(c):(n.consume(c),r)}function s(c){return n.exit("chunkContent"),n.exit("content"),t(c)}function o(c){return n.consume(c),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function Dct(n,t,e){const i=this;return r;function r(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Cn(n,s,"linePrefix")}function s(o){if(o===null||oe(o))return e(o);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(o):n.interrupt(i.parser.constructs.flow,e,t)(o)}}function FB(n,t,e,i,r,s,o,c,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return m;function m(A){return A===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(A),n.exit(s),y):A===null||A===32||A===41||MR(A)?e(A):(n.enter(i),n.enter(o),n.enter(c),n.enter("chunkString",{contentType:"string"}),w(A))}function y(A){return A===62?(n.enter(s),n.consume(A),n.exit(s),n.exit(r),n.exit(i),t):(n.enter(c),n.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===62?(n.exit("chunkString"),n.exit(c),y(A)):A===null||A===60||oe(A)?e(A):(n.consume(A),A===92?E:b)}function E(A){return A===60||A===62||A===92?(n.consume(A),b):b(A)}function w(A){return!f&&(A===null||A===41||Gr(A))?(n.exit("chunkString"),n.exit(c),n.exit(o),n.exit(i),t(A)):f<d&&A===40?(n.consume(A),f++,w):A===41?(n.consume(A),f--,w):A===null||A===32||A===40||MR(A)?e(A):(n.consume(A),A===92?T:w)}function T(A){return A===40||A===41||A===92?(n.consume(A),w):w(A)}}function VB(n,t,e,i,r,s){const o=this;let c=0,u;return d;function d(b){return n.enter(i),n.enter(r),n.consume(b),n.exit(r),n.enter(s),f}function f(b){return c>999||b===null||b===91||b===93&&!u||b===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?e(b):b===93?(n.exit(s),n.enter(r),n.consume(b),n.exit(r),n.exit(i),t):oe(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||oe(b)||c++>999?(n.exit("chunkString"),f(b)):(n.consume(b),u||(u=!Qe(b)),b===92?y:m)}function y(b){return b===91||b===92||b===93?(n.consume(b),c++,m):m(b)}}function zB(n,t,e,i,r,s){let o;return c;function c(y){return y===34||y===39||y===40?(n.enter(i),n.enter(r),n.consume(y),n.exit(r),o=y===40?41:y,u):e(y)}function u(y){return y===o?(n.enter(r),n.consume(y),n.exit(r),n.exit(i),t):(n.enter(s),d(y))}function d(y){return y===o?(n.exit(s),u(o)):y===null?e(y):oe(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),Cn(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===o||y===null||oe(y)?(n.exit("chunkString"),d(y)):(n.consume(y),y===92?m:f)}function m(y){return y===o||y===92?(n.consume(y),f):f(y)}}function Jy(n,t){let e;return i;function i(r){return oe(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),e=!0,i):Qe(r)?Cn(n,i,e?"linePrefix":"lineSuffix")(r):t(r)}}const Oct={name:"definition",tokenize:Nct},Lct={partial:!0,tokenize:Fct};function Nct(n,t,e){const i=this;let r;return s;function s(b){return n.enter("definition"),o(b)}function o(b){return VB.call(i,n,c,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return r=xp(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),u):e(b)}function u(b){return Gr(b)?Jy(n,d)(b):d(b)}function d(b){return FB(n,f,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function f(b){return n.attempt(Lct,m,m)(b)}function m(b){return Qe(b)?Cn(n,y,"whitespace")(b):y(b)}function y(b){return b===null||oe(b)?(n.exit("definition"),i.parser.defined.push(r),t(b)):e(b)}}function Fct(n,t,e){return i;function i(c){return Gr(c)?Jy(n,r)(c):e(c)}function r(c){return zB(n,s,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function s(c){return Qe(c)?Cn(n,o,"whitespace")(c):o(c)}function o(c){return c===null||oe(c)?t(c):e(c)}}const Vct={name:"hardBreakEscape",tokenize:zct};function zct(n,t,e){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return oe(s)?(n.exit("hardBreakEscape"),t(s)):e(s)}}const Bct={name:"headingAtx",resolve:jct,tokenize:Uct};function jct(n,t){let e=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),e-2>i&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&n[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[e][1].end},s={type:"chunkText",start:n[i][1].start,end:n[e][1].end,contentType:"text"},Io(n,i,e-i+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),n}function Uct(n,t,e){let i=0;return r;function r(f){return n.enter("atxHeading"),s(f)}function s(f){return n.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&i++<6?(n.consume(f),o):f===null||Gr(f)?(n.exit("atxHeadingSequence"),c(f)):e(f)}function c(f){return f===35?(n.enter("atxHeadingSequence"),u(f)):f===null||oe(f)?(n.exit("atxHeading"),t(f)):Qe(f)?Cn(n,c,"whitespace")(f):(n.enter("atxHeadingText"),d(f))}function u(f){return f===35?(n.consume(f),u):(n.exit("atxHeadingSequence"),c(f))}function d(f){return f===null||f===35||Gr(f)?(n.exit("atxHeadingText"),c(f)):(n.consume(f),d)}}const Hct=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],EF=["pre","script","style","textarea"],$ct={concrete:!0,name:"htmlFlow",resolveTo:Wct,tokenize:Kct},qct={partial:!0,tokenize:Xct},Gct={partial:!0,tokenize:Yct};function Wct(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function Kct(n,t,e){const i=this;let r,s,o,c,u;return d;function d(G){return f(G)}function f(G){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(G),m}function m(G){return G===33?(n.consume(G),y):G===47?(n.consume(G),s=!0,w):G===63?(n.consume(G),r=3,i.interrupt?t:N):vo(G)?(n.consume(G),o=String.fromCharCode(G),T):e(G)}function y(G){return G===45?(n.consume(G),r=2,b):G===91?(n.consume(G),r=5,c=0,E):vo(G)?(n.consume(G),r=4,i.interrupt?t:N):e(G)}function b(G){return G===45?(n.consume(G),i.interrupt?t:N):e(G)}function E(G){const St="CDATA[";return G===St.charCodeAt(c++)?(n.consume(G),c===St.length?i.interrupt?t:q:E):e(G)}function w(G){return vo(G)?(n.consume(G),o=String.fromCharCode(G),T):e(G)}function T(G){if(G===null||G===47||G===62||Gr(G)){const St=G===47,Ct=o.toLowerCase();return!St&&!s&&EF.includes(Ct)?(r=1,i.interrupt?t(G):q(G)):Hct.includes(o.toLowerCase())?(r=6,St?(n.consume(G),A):i.interrupt?t(G):q(G)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(G):s?O(G):k(G))}return G===45||vs(G)?(n.consume(G),o+=String.fromCharCode(G),T):e(G)}function A(G){return G===62?(n.consume(G),i.interrupt?t:q):e(G)}function O(G){return Qe(G)?(n.consume(G),O):x(G)}function k(G){return G===47?(n.consume(G),x):G===58||G===95||vo(G)?(n.consume(G),P):Qe(G)?(n.consume(G),k):x(G)}function P(G){return G===45||G===46||G===58||G===95||vs(G)?(n.consume(G),P):F(G)}function F(G){return G===61?(n.consume(G),j):Qe(G)?(n.consume(G),F):k(G)}function j(G){return G===null||G===60||G===61||G===62||G===96?e(G):G===34||G===39?(n.consume(G),u=G,D):Qe(G)?(n.consume(G),j):I(G)}function D(G){return G===u?(n.consume(G),u=null,V):G===null||oe(G)?e(G):(n.consume(G),D)}function I(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||Gr(G)?F(G):(n.consume(G),I)}function V(G){return G===47||G===62||Qe(G)?k(G):e(G)}function x(G){return G===62?(n.consume(G),B):e(G)}function B(G){return G===null||oe(G)?q(G):Qe(G)?(n.consume(G),B):e(G)}function q(G){return G===45&&r===2?(n.consume(G),X):G===60&&r===1?(n.consume(G),Z):G===62&&r===4?(n.consume(G),st):G===63&&r===3?(n.consume(G),N):G===93&&r===5?(n.consume(G),dt):oe(G)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(qct,ut,U)(G)):G===null||oe(G)?(n.exit("htmlFlowData"),U(G)):(n.consume(G),q)}function U(G){return n.check(Gct,tt,ut)(G)}function tt(G){return n.enter("lineEnding"),n.consume(G),n.exit("lineEnding"),J}function J(G){return G===null||oe(G)?U(G):(n.enter("htmlFlowData"),q(G))}function X(G){return G===45?(n.consume(G),N):q(G)}function Z(G){return G===47?(n.consume(G),o="",rt):q(G)}function rt(G){if(G===62){const St=o.toLowerCase();return EF.includes(St)?(n.consume(G),st):q(G)}return vo(G)&&o.length<8?(n.consume(G),o+=String.fromCharCode(G),rt):q(G)}function dt(G){return G===93?(n.consume(G),N):q(G)}function N(G){return G===62?(n.consume(G),st):G===45&&r===2?(n.consume(G),N):q(G)}function st(G){return G===null||oe(G)?(n.exit("htmlFlowData"),ut(G)):(n.consume(G),st)}function ut(G){return n.exit("htmlFlow"),t(G)}}function Yct(n,t,e){const i=this;return r;function r(o){return oe(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):e(o)}function s(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}function Xct(n,t,e){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(d1,t,e)}}const Qct={name:"htmlText",tokenize:Zct};function Zct(n,t,e){const i=this;let r,s,o;return c;function c(N){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(N),u}function u(N){return N===33?(n.consume(N),d):N===47?(n.consume(N),F):N===63?(n.consume(N),k):vo(N)?(n.consume(N),I):e(N)}function d(N){return N===45?(n.consume(N),f):N===91?(n.consume(N),s=0,E):vo(N)?(n.consume(N),O):e(N)}function f(N){return N===45?(n.consume(N),b):e(N)}function m(N){return N===null?e(N):N===45?(n.consume(N),y):oe(N)?(o=m,Z(N)):(n.consume(N),m)}function y(N){return N===45?(n.consume(N),b):m(N)}function b(N){return N===62?X(N):N===45?y(N):m(N)}function E(N){const st="CDATA[";return N===st.charCodeAt(s++)?(n.consume(N),s===st.length?w:E):e(N)}function w(N){return N===null?e(N):N===93?(n.consume(N),T):oe(N)?(o=w,Z(N)):(n.consume(N),w)}function T(N){return N===93?(n.consume(N),A):w(N)}function A(N){return N===62?X(N):N===93?(n.consume(N),A):w(N)}function O(N){return N===null||N===62?X(N):oe(N)?(o=O,Z(N)):(n.consume(N),O)}function k(N){return N===null?e(N):N===63?(n.consume(N),P):oe(N)?(o=k,Z(N)):(n.consume(N),k)}function P(N){return N===62?X(N):k(N)}function F(N){return vo(N)?(n.consume(N),j):e(N)}function j(N){return N===45||vs(N)?(n.consume(N),j):D(N)}function D(N){return oe(N)?(o=D,Z(N)):Qe(N)?(n.consume(N),D):X(N)}function I(N){return N===45||vs(N)?(n.consume(N),I):N===47||N===62||Gr(N)?V(N):e(N)}function V(N){return N===47?(n.consume(N),X):N===58||N===95||vo(N)?(n.consume(N),x):oe(N)?(o=V,Z(N)):Qe(N)?(n.consume(N),V):X(N)}function x(N){return N===45||N===46||N===58||N===95||vs(N)?(n.consume(N),x):B(N)}function B(N){return N===61?(n.consume(N),q):oe(N)?(o=B,Z(N)):Qe(N)?(n.consume(N),B):V(N)}function q(N){return N===null||N===60||N===61||N===62||N===96?e(N):N===34||N===39?(n.consume(N),r=N,U):oe(N)?(o=q,Z(N)):Qe(N)?(n.consume(N),q):(n.consume(N),tt)}function U(N){return N===r?(n.consume(N),r=void 0,J):N===null?e(N):oe(N)?(o=U,Z(N)):(n.consume(N),U)}function tt(N){return N===null||N===34||N===39||N===60||N===61||N===96?e(N):N===47||N===62||Gr(N)?V(N):(n.consume(N),tt)}function J(N){return N===47||N===62||Gr(N)?V(N):e(N)}function X(N){return N===62?(n.consume(N),n.exit("htmlTextData"),n.exit("htmlText"),t):e(N)}function Z(N){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(N),n.exit("lineEnding"),rt}function rt(N){return Qe(N)?Cn(n,dt,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):dt(N)}function dt(N){return n.enter("htmlTextData"),o(N)}}const Nk={name:"labelEnd",resolveAll:nut,resolveTo:iut,tokenize:rut},Jct={tokenize:sut},tut={tokenize:aut},eut={tokenize:out};function nut(n){let t=-1;const e=[];for(;++t<n.length;){const i=n[t][1];if(e.push(n[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return n.length!==e.length&&Io(n,0,n.length,e),n}function iut(n,t){let e=n.length,i=0,r,s,o,c;for(;e--;)if(r=n[e][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(n[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=e,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=e);const u={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},f={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[o-2][1].start}};return c=[["enter",u,t],["enter",d,t]],c=qs(c,n.slice(s+1,s+i+3)),c=qs(c,[["enter",f,t]]),c=qs(c,Lk(t.parser.constructs.insideSpan.null,n.slice(s+i+4,o-3),t)),c=qs(c,[["exit",f,t],n[o-2],n[o-1],["exit",d,t]]),c=qs(c,n.slice(o+1)),c=qs(c,[["exit",u,t]]),Io(n,s,n.length,c),n}function rut(n,t,e){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return c;function c(y){return s?s._inactive?m(y):(o=i.parser.defined.includes(xp(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(y),n.exit("labelMarker"),n.exit("labelEnd"),u):e(y)}function u(y){return y===40?n.attempt(Jct,f,o?f:m)(y):y===91?n.attempt(tut,f,o?d:m)(y):o?f(y):m(y)}function d(y){return n.attempt(eut,f,m)(y)}function f(y){return t(y)}function m(y){return s._balanced=!0,e(y)}}function sut(n,t,e){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),r}function r(m){return Gr(m)?Jy(n,s)(m):s(m)}function s(m){return m===41?f(m):FB(n,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return Gr(m)?Jy(n,u)(m):f(m)}function c(m){return e(m)}function u(m){return m===34||m===39||m===40?zB(n,d,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function d(m){return Gr(m)?Jy(n,f)(m):f(m)}function f(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),t):e(m)}}function aut(n,t,e){const i=this;return r;function r(c){return VB.call(i,n,s,o,"reference","referenceMarker","referenceString")(c)}function s(c){return i.parser.defined.includes(xp(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(c):e(c)}function o(c){return e(c)}}function out(n,t,e){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),t):e(s)}}const lut={name:"labelStartImage",resolveAll:Nk.resolveAll,tokenize:cut};function cut(n,t,e){const i=this;return r;function r(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),s}function s(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),o):e(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(c):t(c)}}const uut={name:"labelStartLink",resolveAll:Nk.resolveAll,tokenize:hut};function hut(n,t,e){const i=this;return r;function r(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(o):t(o)}}const sT={name:"lineEnding",tokenize:dut};function dut(n,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Cn(n,t,"linePrefix")}}const iS={name:"thematicBreak",tokenize:fut};function fut(n,t,e){let i=0,r;return s;function s(d){return n.enter("thematicBreak"),o(d)}function o(d){return r=d,c(d)}function c(d){return d===r?(n.enter("thematicBreakSequence"),u(d)):i>=3&&(d===null||oe(d))?(n.exit("thematicBreak"),t(d)):e(d)}function u(d){return d===r?(n.consume(d),i++,u):(n.exit("thematicBreakSequence"),Qe(d)?Cn(n,c,"whitespace")(d):c(d))}}const Vr={continuation:{tokenize:yut},exit:but,name:"list",tokenize:gut},put={partial:!0,tokenize:_ut},mut={partial:!0,tokenize:vut};function gut(n,t,e){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return c;function c(b){const E=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:DR(b)){if(i.containerState.type||(i.containerState.type=E,n.enter(E,{_container:!0})),E==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(iS,e,d)(b):d(b);if(!i.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),u(b)}return e(b)}function u(b){return DR(b)&&++o<10?(n.consume(b),u):(!i.interrupt||o<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),d(b)):e(b)}function d(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,n.check(d1,i.interrupt?e:f,n.attempt(put,y,m))}function f(b){return i.containerState.initialBlankLine=!0,s++,y(b)}function m(b){return Qe(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),y):e(b)}function y(b){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(b)}}function yut(n,t,e){const i=this;return i.containerState._closeFlow=void 0,n.check(d1,r,s);function r(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Cn(n,t,"listItemIndent",i.containerState.size+1)(c)}function s(c){return i.containerState.furtherBlankLines||!Qe(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(mut,t,o)(c))}function o(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Cn(n,n.attempt(Vr,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function vut(n,t,e){const i=this;return Cn(n,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(s):e(s)}}function but(n){n.exit(this.containerState.type)}function _ut(n,t,e){const i=this;return Cn(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!Qe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):e(s)}}const SF={name:"setextUnderline",resolveTo:Eut,tokenize:Sut};function Eut(n,t){let e=n.length,i,r,s;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){i=e;break}n[e][1].type==="paragraph"&&(r=e)}else n[e][1].type==="content"&&n.splice(e,1),!s&&n[e][1].type==="definition"&&(s=e);const o={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",o,t]),n.splice(s+1,0,["exit",n[i][1],t]),n[i][1].end={...n[s][1].end}):n[i][1]=o,n.push(["exit",o,t]),n}function Sut(n,t,e){const i=this;let r;return s;function s(d){let f=i.events.length,m;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){m=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),r=d,o(d)):e(d)}function o(d){return n.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===r?(n.consume(d),c):(n.exit("setextHeadingLineSequence"),Qe(d)?Cn(n,u,"lineSuffix")(d):u(d))}function u(d){return d===null||oe(d)?(n.exit("setextHeadingLine"),t(d)):e(d)}}const wut={tokenize:Aut};function Aut(n){const t=this,e=n.attempt(d1,i,n.attempt(this.parser.constructs.flowInitial,r,Cn(n,n.attempt(this.parser.constructs.flow,r,n.attempt(Ict,r)),"linePrefix")));return e;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const xut={resolveAll:jB()},Tut=BB("string"),Cut=BB("text");function BB(n){return{resolveAll:jB(n==="text"?Rut:void 0),tokenize:t};function t(e){const i=this,r=this.parser.constructs[n],s=e.attempt(r,o,c);return o;function o(f){return d(f)?s(f):c(f)}function c(f){if(f===null){e.consume(f);return}return e.enter("data"),e.consume(f),u}function u(f){return d(f)?(e.exit("data"),s(f)):(e.consume(f),u)}function d(f){if(f===null)return!0;const m=r[f];let y=-1;if(m)for(;++y<m.length;){const b=m[y];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function jB(n){return t;function t(e,i){let r=-1,s;for(;++r<=e.length;)s===void 0?e[r]&&e[r][1].type==="data"&&(s=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(e,i):e}}function Rut(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const i=n[e-1][1],r=t.sliceStream(i);let s=r.length,o=-1,c=0,u;for(;s--;){const d=r[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(d===-2)u=!0,c++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&e===n.length&&(c=0),c){const d={type:e===n.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(n.splice(e,0,["enter",d,t],["exit",d,t]),e+=2)}e++}return n}const Iut={42:Vr,43:Vr,45:Vr,48:Vr,49:Vr,50:Vr,51:Vr,52:Vr,53:Vr,54:Vr,55:Vr,56:Vr,57:Vr,62:DB},kut={91:Oct},Put={[-2]:rT,[-1]:rT,32:rT},Mut={35:Bct,42:iS,45:[SF,iS],60:$ct,61:SF,95:iS,96:_F,126:_F},Dut={38:LB,92:OB},Out={[-5]:sT,[-4]:sT,[-3]:sT,33:lut,38:LB,42:OR,60:[uct,Qct],91:uut,92:[Vct,OB],93:Nk,95:OR,96:wct},Lut={null:[OR,xut]},Nut={null:[42,95]},Fut={null:[]},Vut=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Nut,contentInitial:kut,disable:Fut,document:Iut,flow:Mut,flowInitial:Put,insideSpan:Lut,string:Dut,text:Out},Symbol.toStringTag,{value:"Module"}));function zut(n,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},s=[];let o=[],c=[];const u={attempt:D(F),check:D(j),consume:O,enter:k,exit:P,interrupt:D(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:w,events:[],now:E,parser:n,previous:null,sliceSerialize:y,sliceStream:b,write:m};let f=t.tokenize.call(d,u);return t.resolveAll&&s.push(t),d;function m(B){return o=qs(o,B),T(),o[o.length-1]!==null?[]:(I(t,0),d.events=Lk(s,d.events,d),d.events)}function y(B,q){return jut(b(B),q)}function b(B){return But(o,B)}function E(){const{_bufferIndex:B,_index:q,line:U,column:tt,offset:J}=i;return{_bufferIndex:B,_index:q,line:U,column:tt,offset:J}}function w(B){r[B.line]=B.column,x()}function T(){let B;for(;i._index<o.length;){const q=o[i._index];if(typeof q=="string")for(B=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===B&&i._bufferIndex<q.length;)A(q.charCodeAt(i._bufferIndex));else A(q)}}function A(B){f=f(B)}function O(B){oe(B)?(i.line++,i.column=1,i.offset+=B===-3?2:1,x()):B!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=B}function k(B,q){const U=q||{};return U.type=B,U.start=E(),d.events.push(["enter",U,d]),c.push(U),U}function P(B){const q=c.pop();return q.end=E(),d.events.push(["exit",q,d]),q}function F(B,q){I(B,q.from)}function j(B,q){q.restore()}function D(B,q){return U;function U(tt,J,X){let Z,rt,dt,N;return Array.isArray(tt)?ut(tt):"tokenize"in tt?ut([tt]):st(tt);function st(wt){return It;function It(zt){const Kt=zt!==null&&wt[zt],xt=zt!==null&&wt.null,Qt=[...Array.isArray(Kt)?Kt:Kt?[Kt]:[],...Array.isArray(xt)?xt:xt?[xt]:[]];return ut(Qt)(zt)}}function ut(wt){return Z=wt,rt=0,wt.length===0?X:G(wt[rt])}function G(wt){return It;function It(zt){return N=V(),dt=wt,wt.partial||(d.currentConstruct=wt),wt.name&&d.parser.constructs.disable.null.includes(wt.name)?Ct():wt.tokenize.call(q?Object.assign(Object.create(d),q):d,u,St,Ct)(zt)}}function St(wt){return B(dt,N),J}function Ct(wt){return N.restore(),++rt<Z.length?G(Z[rt]):X}}}function I(B,q){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Io(d.events,q,d.events.length-q,B.resolve(d.events.slice(q),d)),B.resolveTo&&(d.events=B.resolveTo(d.events,d))}function V(){const B=E(),q=d.previous,U=d.currentConstruct,tt=d.events.length,J=Array.from(c);return{from:tt,restore:X};function X(){i=B,d.previous=q,d.currentConstruct=U,d.events.length=tt,c=J,x()}}function x(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function But(n,t){const e=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let o;if(e===r)o=[n[e].slice(i,s)];else{if(o=n.slice(e,r),i>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(i):o.shift()}s>0&&o.push(n[r].slice(0,s))}return o}function jut(n,t){let e=-1;const i=[];let r;for(;++e<n.length;){const s=n[e];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function Uut(n){const i={constructs:Ylt([Vut,...(n||{}).extensions||[]]),content:r(ict),defined:[],document:r(sct),flow:r(wut),lazy:{},string:r(Tut),text:r(Cut)};return i;function r(s){return o;function o(c){return zut(i,s,c)}}}function Hut(n){for(;!NB(n););return n}const wF=/[\0\t\n\r]/g;function $ut(){let n=1,t="",e=!0,i;return r;function r(s,o,c){const u=[];let d,f,m,y,b;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,t="",e&&(s.charCodeAt(0)===65279&&m++,e=void 0);m<s.length;){if(wF.lastIndex=m,d=wF.exec(s),y=d&&d.index!==void 0?d.index:s.length,b=s.charCodeAt(y),!d){t=s.slice(m);break}if(b===10&&m===y&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),m<y&&(u.push(s.slice(m,y)),n+=y-m),b){case 0:{u.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,u.push(-2);n++<f;)u.push(-1);break}case 10:{u.push(-4),n=1;break}default:i=!0,n=1}m=y+1}return c&&(i&&u.push(-5),t&&u.push(t),u.push(null)),u}}const qut=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gut(n){return n.replace(qut,Wut)}function Wut(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),s=r===120||r===88;return MB(e.slice(s?2:1),s?16:10)}return Ok(e)||n}const UB={}.hasOwnProperty;function Kut(n,t,e){return typeof t!="string"&&(e=t,t=void 0),Yut(e)(Hut(Uut(e).document().write($ut()(n,t,!0))))}function Yut(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(He),autolinkProtocol:V,autolinkEmail:V,atxHeading:s(te),blockQuote:s(xt),characterEscape:V,characterReference:V,codeFenced:s(Qt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Qt,o),codeText:s(ee,o),codeTextData:V,data:V,codeFlowValue:V,definition:s(jt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Lt),hardBreakEscape:s(pe),hardBreakTrailing:s(pe),htmlFlow:s(ge,o),htmlFlowData:V,htmlText:s(ge,o),htmlTextData:V,image:s(Fe),label:o,link:s(He),listItem:s(Ee),listItemValue:y,listOrdered:s($e,m),listUnordered:s($e),paragraph:s(Ut),reference:G,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(te),strong:s(Qn),thematicBreak:s(ki)},exit:{atxHeading:u(),atxHeadingSequence:F,autolink:u(),autolinkEmail:Kt,autolinkProtocol:zt,blockQuote:u(),characterEscapeValue:x,characterReferenceMarkerHexadecimal:Ct,characterReferenceMarkerNumeric:Ct,characterReferenceValue:wt,characterReference:It,codeFenced:u(T),codeFencedFence:w,codeFencedFenceInfo:b,codeFencedFenceMeta:E,codeFlowValue:x,codeIndented:u(A),codeText:u(J),codeTextData:x,data:x,definition:u(),definitionDestinationString:P,definitionLabelString:O,definitionTitleString:k,emphasis:u(),hardBreakEscape:u(q),hardBreakTrailing:u(q),htmlFlow:u(U),htmlFlowData:x,htmlText:u(tt),htmlTextData:x,image:u(Z),label:dt,labelText:rt,lineEnding:B,link:u(X),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:St,resourceDestinationString:N,resourceTitleString:st,resource:ut,setextHeading:u(I),setextHeadingLineSequence:D,setextHeadingText:j,strong:u(),thematicBreak:u()}};HB(t,(n||{}).mdastExtensions||[]);const e={};return i;function i(ct){let mt={type:"root",children:[]};const Dt={stack:[mt],tokenStack:[],config:t,enter:c,exit:d,buffer:o,resume:f,data:e},Vt=[];let Gt=-1;for(;++Gt<ct.length;)if(ct[Gt][1].type==="listOrdered"||ct[Gt][1].type==="listUnordered")if(ct[Gt][0]==="enter")Vt.push(Gt);else{const $t=Vt.pop();Gt=r(ct,$t,Gt)}for(Gt=-1;++Gt<ct.length;){const $t=t[ct[Gt][0]];UB.call($t,ct[Gt][1].type)&&$t[ct[Gt][1].type].call(Object.assign({sliceSerialize:ct[Gt][2].sliceSerialize},Dt),ct[Gt][1])}if(Dt.tokenStack.length>0){const $t=Dt.tokenStack[Dt.tokenStack.length-1];($t[1]||AF).call(Dt,void 0,$t[0])}for(mt.position={start:Oc(ct.length>0?ct[0][1].start:{line:1,column:1,offset:0}),end:Oc(ct.length>0?ct[ct.length-2][1].end:{line:1,column:1,offset:0})},Gt=-1;++Gt<t.transforms.length;)mt=t.transforms[Gt](mt)||mt;return mt}function r(ct,mt,Dt){let Vt=mt-1,Gt=-1,$t=!1,Je,Ve,dn,Nt;for(;++Vt<=Dt;){const ce=ct[Vt];switch(ce[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ce[0]==="enter"?Gt++:Gt--,Nt=void 0;break}case"lineEndingBlank":{ce[0]==="enter"&&(Je&&!Nt&&!Gt&&!dn&&(dn=Vt),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!Gt&&ce[0]==="enter"&&ce[1].type==="listItemPrefix"||Gt===-1&&ce[0]==="exit"&&(ce[1].type==="listUnordered"||ce[1].type==="listOrdered")){if(Je){let qe=Vt;for(Ve=void 0;qe--;){const $n=ct[qe];if($n[1].type==="lineEnding"||$n[1].type==="lineEndingBlank"){if($n[0]==="exit")continue;Ve&&(ct[Ve][1].type="lineEndingBlank",$t=!0),$n[1].type="lineEnding",Ve=qe}else if(!($n[1].type==="linePrefix"||$n[1].type==="blockQuotePrefix"||$n[1].type==="blockQuotePrefixWhitespace"||$n[1].type==="blockQuoteMarker"||$n[1].type==="listItemIndent"))break}dn&&(!Ve||dn<Ve)&&(Je._spread=!0),Je.end=Object.assign({},Ve?ct[Ve][1].start:ce[1].end),ct.splice(Ve||Vt,0,["exit",Je,ce[2]]),Vt++,Dt++}if(ce[1].type==="listItemPrefix"){const qe={type:"listItem",_spread:!1,start:Object.assign({},ce[1].start),end:void 0};Je=qe,ct.splice(Vt,0,["enter",qe,ce[2]]),Vt++,Dt++,dn=void 0,Nt=!0}}}return ct[mt][1]._spread=$t,Dt}function s(ct,mt){return Dt;function Dt(Vt){c.call(this,ct(Vt),Vt),mt&&mt.call(this,Vt)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(ct,mt,Dt){this.stack[this.stack.length-1].children.push(ct),this.stack.push(ct),this.tokenStack.push([mt,Dt||void 0]),ct.position={start:Oc(mt.start),end:void 0}}function u(ct){return mt;function mt(Dt){ct&&ct.call(this,Dt),d.call(this,Dt)}}function d(ct,mt){const Dt=this.stack.pop(),Vt=this.tokenStack.pop();if(Vt)Vt[0].type!==ct.type&&(mt?mt.call(this,ct,Vt[0]):(Vt[1]||AF).call(this,ct,Vt[0]));else throw new Error("Cannot close `"+ct.type+"` ("+Zy({start:ct.start,end:ct.end})+"): it’s not open");Dt.position.end=Oc(ct.end)}function f(){return Wlt(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(ct){if(this.data.expectingFirstListItemValue){const mt=this.stack[this.stack.length-2];mt.start=Number.parseInt(this.sliceSerialize(ct),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.lang=ct}function E(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.meta=ct}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.value=ct.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.value=ct.replace(/(\r?\n|\r)$/g,"")}function O(ct){const mt=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=mt,Dt.identifier=xp(this.sliceSerialize(ct)).toLowerCase()}function k(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.title=ct}function P(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.url=ct}function F(ct){const mt=this.stack[this.stack.length-1];if(!mt.depth){const Dt=this.sliceSerialize(ct).length;mt.depth=Dt}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function D(ct){const mt=this.stack[this.stack.length-1];mt.depth=this.sliceSerialize(ct).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function V(ct){const Dt=this.stack[this.stack.length-1].children;let Vt=Dt[Dt.length-1];(!Vt||Vt.type!=="text")&&(Vt=Ze(),Vt.position={start:Oc(ct.start),end:void 0},Dt.push(Vt)),this.stack.push(Vt)}function x(ct){const mt=this.stack.pop();mt.value+=this.sliceSerialize(ct),mt.position.end=Oc(ct.end)}function B(ct){const mt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Dt=mt.children[mt.children.length-1];Dt.position.end=Oc(ct.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(mt.type)&&(V.call(this,ct),x.call(this,ct))}function q(){this.data.atHardBreak=!0}function U(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.value=ct}function tt(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.value=ct}function J(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.value=ct}function X(){const ct=this.stack[this.stack.length-1];if(this.data.inReference){const mt=this.data.referenceType||"shortcut";ct.type+="Reference",ct.referenceType=mt,delete ct.url,delete ct.title}else delete ct.identifier,delete ct.label;this.data.referenceType=void 0}function Z(){const ct=this.stack[this.stack.length-1];if(this.data.inReference){const mt=this.data.referenceType||"shortcut";ct.type+="Reference",ct.referenceType=mt,delete ct.url,delete ct.title}else delete ct.identifier,delete ct.label;this.data.referenceType=void 0}function rt(ct){const mt=this.sliceSerialize(ct),Dt=this.stack[this.stack.length-2];Dt.label=Gut(mt),Dt.identifier=xp(mt).toLowerCase()}function dt(){const ct=this.stack[this.stack.length-1],mt=this.resume(),Dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Dt.type==="link"){const Vt=ct.children;Dt.children=Vt}else Dt.alt=mt}function N(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.url=ct}function st(){const ct=this.resume(),mt=this.stack[this.stack.length-1];mt.title=ct}function ut(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function St(ct){const mt=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=mt,Dt.identifier=xp(this.sliceSerialize(ct)).toLowerCase(),this.data.referenceType="full"}function Ct(ct){this.data.characterReferenceType=ct.type}function wt(ct){const mt=this.sliceSerialize(ct),Dt=this.data.characterReferenceType;let Vt;Dt?(Vt=MB(mt,Dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Vt=Ok(mt);const Gt=this.stack[this.stack.length-1];Gt.value+=Vt}function It(ct){const mt=this.stack.pop();mt.position.end=Oc(ct.end)}function zt(ct){x.call(this,ct);const mt=this.stack[this.stack.length-1];mt.url=this.sliceSerialize(ct)}function Kt(ct){x.call(this,ct);const mt=this.stack[this.stack.length-1];mt.url="mailto:"+this.sliceSerialize(ct)}function xt(){return{type:"blockquote",children:[]}}function Qt(){return{type:"code",lang:null,meta:null,value:""}}function ee(){return{type:"inlineCode",value:""}}function jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Lt(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function ge(){return{type:"html",value:""}}function Fe(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function $e(ct){return{type:"list",ordered:ct.type==="listOrdered",start:null,spread:ct._spread,children:[]}}function Ee(ct){return{type:"listItem",spread:ct._spread,checked:null,children:[]}}function Ut(){return{type:"paragraph",children:[]}}function Qn(){return{type:"strong",children:[]}}function Ze(){return{type:"text",value:""}}function ki(){return{type:"thematicBreak"}}}function Oc(n){return{line:n.line,column:n.column,offset:n.offset}}function HB(n,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?HB(n,i):Xut(n,i)}}function Xut(n,t){let e;for(e in t)if(UB.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&n[e].push(...i);break}case"transforms":{const i=t[e];i&&n[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(n[e],i);break}}}function AF(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+Zy({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+Zy({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zy({start:t.start,end:t.end})+") is still open")}function Qut(n){const t=this;t.parser=e;function e(i){return Kut(i,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Zut(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function Jut(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function tht(n,t){const e=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(r.data={meta:t.meta}),n.patch(t,r),r=n.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(t,r),r}function eht(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function nht(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function iht(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Jm(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let o,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=s+1,c+=1,n.footnoteCounts.set(i,c);const u={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return n.patch(t,d),n.applyData(t,d)}function rht(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function sht(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function $B(n,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=n.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function aht(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return $B(n,t);const r={src:Jm(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(t,s),n.applyData(t,s)}function oht(n,t){const e={src:Jm(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,i),n.applyData(t,i)}function lht(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,i),n.applyData(t,i)}function cht(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return $B(n,t);const r={href:Jm(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function uht(n,t){const e={href:Jm(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function hht(n,t,e){const i=n.all(t),r=e?dht(e):qB(t),s={},o=[];if(typeof t.checked=="boolean"){const f=i[0];let m;f&&f.type==="element"&&f.tagName==="p"?m=f:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const f=i[c];(r||c!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!r?o.push(...f.children):o.push(f)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return n.patch(t,d),n.applyData(t,d)}function dht(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let i=-1;for(;!t&&++i<e.length;)t=qB(e[i])}return t}function qB(n){const t=n.spread;return t??n.children.length>1}function fht(n,t){const e={},i=n.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(i,!0)};return n.patch(t,s),n.applyData(t,s)}function pht(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function mht(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function ght(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function yht(n,t){const e=n.all(t),i=e.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(t.children[0],o),r.push(o)}if(e.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},c=kk(t.children[1]),u=xB(t.children[t.children.length-1]);c&&u&&(o.position={start:c,end:u}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(t,s),n.applyData(t,s)}function vht(n,t,e){const i=e?e.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",o=e&&e.type==="table"?e.align:void 0,c=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<c;){const m=t.children[u],y={},b=o?o[u]:void 0;b&&(y.align=b);let E={type:"element",tagName:s,properties:y,children:[]};m&&(E.children=n.all(m),n.patch(m,E),E=n.applyData(m,E)),d.push(E)}const f={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(t,f),n.applyData(t,f)}function bht(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const xF=9,TF=32;function _ht(n){const t=String(n),e=/\r?\n|\r/g;let i=e.exec(t),r=0;const s=[];for(;i;)s.push(CF(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=e.exec(t);return s.push(CF(t.slice(r),r>0,!1)),s.join("")}function CF(n,t,e){let i=0,r=n.length;if(t){let s=n.codePointAt(i);for(;s===xF||s===TF;)i++,s=n.codePointAt(i)}if(e){let s=n.codePointAt(r-1);for(;s===xF||s===TF;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function Eht(n,t){const e={type:"text",value:_ht(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function Sht(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const wht={blockquote:Zut,break:Jut,code:tht,delete:eht,emphasis:nht,footnoteReference:iht,heading:rht,html:sht,imageReference:aht,image:oht,inlineCode:lht,linkReference:cht,link:uht,listItem:hht,list:fht,paragraph:pht,root:mht,strong:ght,table:yht,tableCell:bht,tableRow:vht,text:Eht,thematicBreak:Sht,toml:iE,yaml:iE,definition:iE,footnoteDefinition:iE};function iE(){}const GB=-1,f1=0,tv=1,jS=2,Fk=3,Vk=4,zk=5,Bk=6,WB=7,KB=8,RF=typeof self=="object"?self:globalThis,Aht=(n,t)=>{const e=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,o]=t[r];switch(s){case f1:case GB:return e(o,r);case tv:{const c=e([],r);for(const u of o)c.push(i(u));return c}case jS:{const c=e({},r);for(const[u,d]of o)c[i(u)]=i(d);return c}case Fk:return e(new Date(o),r);case Vk:{const{source:c,flags:u}=o;return e(new RegExp(c,u),r)}case zk:{const c=e(new Map,r);for(const[u,d]of o)c.set(i(u),i(d));return c}case Bk:{const c=e(new Set,r);for(const u of o)c.add(i(u));return c}case WB:{const{name:c,message:u}=o;return e(new RF[c](u),r)}case KB:return e(BigInt(o),r);case"BigInt":return e(Object(BigInt(o)),r);case"ArrayBuffer":return e(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return e(new DataView(c),o)}}return e(new RF[s](o),r)};return i},IF=n=>Aht(new Map,n)(0),Qf="",{toString:xht}={},{keys:Tht}=Object,vy=n=>{const t=typeof n;if(t!=="object"||!n)return[f1,t];const e=xht.call(n).slice(8,-1);switch(e){case"Array":return[tv,Qf];case"Object":return[jS,Qf];case"Date":return[Fk,Qf];case"RegExp":return[Vk,Qf];case"Map":return[zk,Qf];case"Set":return[Bk,Qf];case"DataView":return[tv,e]}return e.includes("Array")?[tv,e]:e.includes("Error")?[WB,e]:[jS,e]},rE=([n,t])=>n===f1&&(t==="function"||t==="symbol"),Cht=(n,t,e,i)=>{const r=(o,c)=>{const u=i.push(o)-1;return e.set(c,u),u},s=o=>{if(e.has(o))return e.get(o);let[c,u]=vy(o);switch(c){case f1:{let f=o;switch(u){case"bigint":c=KB,f=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return r([GB],o)}return r([c,f],o)}case tv:{if(u){let y=o;return u==="DataView"?y=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(o)),r([u,[...y]],o)}const f=[],m=r([c,f],o);for(const y of o)f.push(s(y));return m}case jS:{if(u)switch(u){case"BigInt":return r([u,o.toString()],o);case"Boolean":case"Number":case"String":return r([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const f=[],m=r([c,f],o);for(const y of Tht(o))(n||!rE(vy(o[y])))&&f.push([s(y),s(o[y])]);return m}case Fk:return r([c,o.toISOString()],o);case Vk:{const{source:f,flags:m}=o;return r([c,{source:f,flags:m}],o)}case zk:{const f=[],m=r([c,f],o);for(const[y,b]of o)(n||!(rE(vy(y))||rE(vy(b))))&&f.push([s(y),s(b)]);return m}case Bk:{const f=[],m=r([c,f],o);for(const y of o)(n||!rE(vy(y)))&&f.push(s(y));return m}}const{message:d}=o;return r([c,{name:u,message:d}],o)};return s},kF=(n,{json:t,lossy:e}={})=>{const i=[];return Cht(!(t||e),!!t,new Map,i)(n),i},US=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?IF(kF(n,t)):structuredClone(n):(n,t)=>IF(kF(n,t));function Rht(n,t){const e=[{type:"text",value:"↩"}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function Iht(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function kht(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||Rht,i=n.options.footnoteBackLabel||Iht,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[u]);if(!d)continue;const f=n.all(d),m=String(d.identifier).toUpperCase(),y=Jm(m.toLowerCase());let b=0;const E=[],w=n.footnoteCounts.get(m);for(;w!==void 0&&++b<=w;){E.length>0&&E.push({type:"text",value:" "});let O=typeof e=="string"?e:e(u,b);typeof O=="string"&&(O={type:"text",value:O}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,b),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const T=f[f.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const O=T.children[T.children.length-1];O&&O.type==="text"?O.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...E)}else f.push(...E);const A={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:n.wrap(f,!0)};n.patch(d,A),c.push(A)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...US(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const YB=function(n){if(n==null)return Oht;if(typeof n=="function")return p1(n);if(typeof n=="object")return Array.isArray(n)?Pht(n):Mht(n);if(typeof n=="string")return Dht(n);throw new Error("Expected function, string, or object as test")};function Pht(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=YB(n[e]);return p1(i);function i(...r){let s=-1;for(;++s<t.length;)if(t[s].apply(this,r))return!0;return!1}}function Mht(n){const t=n;return p1(e);function e(i){const r=i;let s;for(s in n)if(r[s]!==t[s])return!1;return!0}}function Dht(n){return p1(t);function t(e){return e&&e.type===n}}function p1(n){return t;function t(e,i,r){return!!(Lht(e)&&n.call(this,e,typeof i=="number"?i:void 0,r||void 0))}}function Oht(){return!0}function Lht(n){return n!==null&&typeof n=="object"&&"type"in n}const XB=[],Nht=!0,PF=!1,Fht="skip";function Vht(n,t,e,i){let r;typeof t=="function"&&typeof e!="function"?(i=e,e=t):r=t;const s=YB(r),o=i?-1:1;c(n,void 0,[])();function c(u,d,f){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(b?"<"+b+">":""))+")"})}return y;function y(){let b=XB,E,w,T;if((!t||s(u,d,f[f.length-1]||void 0))&&(b=zht(e(u,f)),b[0]===PF))return b;if("children"in u&&u.children){const A=u;if(A.children&&b[0]!==Fht)for(w=(i?A.children.length:-1)+o,T=f.concat(A);w>-1&&w<A.children.length;){const O=A.children[w];if(E=c(O,w,T)(),E[0]===PF)return E;w=typeof E[1]=="number"?E[1]:w+o}}return b}}}function zht(n){return Array.isArray(n)?n:typeof n=="number"?[Nht,n]:n==null?XB:[n]}function QB(n,t,e,i){let r,s,o;typeof t=="function"?(s=void 0,o=t,r=e):(s=t,o=e,r=i),Vht(n,s,c,r);function c(u,d){const f=d[d.length-1],m=f?f.children.indexOf(u):void 0;return o(u,m,f)}}const LR={}.hasOwnProperty,Bht={};function jht(n,t){const e=t||Bht,i=new Map,r=new Map,s=new Map,o={...wht,...e.handlers},c={all:d,applyData:Hht,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:e,patch:Uht,wrap:qht};return QB(n,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const m=f.type==="definition"?i:r,y=String(f.identifier).toUpperCase();m.has(y)||m.set(y,f)}}),c;function u(f,m){const y=f.type,b=c.handlers[y];if(LR.call(c.handlers,y)&&b)return b(c,f,m);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in f){const{children:w,...T}=f,A=US(T);return A.children=c.all(f),A}return US(f)}return(c.options.unknownHandler||$ht)(c,f,m)}function d(f){const m=[];if("children"in f){const y=f.children;let b=-1;for(;++b<y.length;){const E=c.one(y[b],f);if(E){if(b&&y[b-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=MF(E.value)),!Array.isArray(E)&&E.type==="element")){const w=E.children[0];w&&w.type==="text"&&(w.value=MF(w.value))}Array.isArray(E)?m.push(...E):m.push(E)}}}return m}}function Uht(n,t){n.position&&(t.position=xlt(n))}function Hht(n,t){let e=t;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const o="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:o}}e.type==="element"&&s&&Object.assign(e.properties,US(s)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function $ht(n,t){const e=t.data||{},i="value"in t&&!(LR.call(e,"hProperties")||LR.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function qht(n,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<n.length;)i&&e.push({type:"text",value:`
`}),e.push(n[i]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function MF(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function DF(n,t){const e=jht(n,t),i=e.one(n,void 0),r=kht(e),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Ght(n,t){return n&&"run"in n?async function(e,i){const r=DF(e,{file:i,...t});await n.run(r,i)}:function(e,i){return DF(e,{file:i,...n||t})}}function OF(n){if(n)throw n}var aT,LF;function Wht(){if(LF)return aT;LF=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},s=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=n.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!m)return!1;var y;for(y in d);return typeof y>"u"||n.call(d,y)},o=function(d,f){e&&f.name==="__proto__"?e(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},c=function(d,f){if(f==="__proto__")if(n.call(d,f)){if(i)return i(d,f).value}else return;return d[f]};return aT=function u(){var d,f,m,y,b,E,w=arguments[0],T=1,A=arguments.length,O=!1;for(typeof w=="boolean"&&(O=w,w=arguments[1]||{},T=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});T<A;++T)if(d=arguments[T],d!=null)for(f in d)m=c(w,f),y=c(d,f),w!==y&&(O&&y&&(s(y)||(b=r(y)))?(b?(b=!1,E=m&&r(m)?m:[]):E=m&&s(m)?m:{},o(w,{name:f,newValue:u(O,E,y)})):typeof y<"u"&&o(w,{name:f,newValue:y}));return w},aT}var Kht=Wht();const oT=Lb(Kht);function NR(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Yht(){const n=[],t={run:e,use:i};return t;function e(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...r);function c(u,...d){const f=n[++s];let m=-1;if(u){o(u);return}for(;++m<r.length;)(d[m]===null||d[m]===void 0)&&(d[m]=r[m]);r=d,f?Xht(f,c)(...d):o(null,...d)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),t}}function Xht(n,t){let e;return i;function i(...o){const c=n.length>o.length;let u;c&&o.push(r);try{u=n.apply(this,o)}catch(d){const f=d;if(c&&e)throw f;return r(f)}c||(u&&u.then&&typeof u.then=="function"?u.then(s,r):u instanceof Error?r(u):s(u))}function r(o,...c){e||(e=!0,t(o,...c))}function s(o){r(null,o)}}const Ka={basename:Qht,dirname:Zht,extname:Jht,join:tdt,sep:"/"};function Qht(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');u0(n);let e=0,i=-1,r=n.length,s;if(t===void 0||t.length===0||t.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){e=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(e,i)}if(t===n)return"";let o=-1,c=t.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){e=r+1;break}}else o<0&&(s=!0,o=r+1),c>-1&&(n.codePointAt(r)===t.codePointAt(c--)?c<0&&(i=r):(c=-1,i=o));return e===i?i=o:i<0&&(i=n.length),n.slice(e,i)}function Zht(n){if(u0(n),n.length===0)return".";let t=-1,e=n.length,i;for(;--e;)if(n.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function Jht(n){u0(n);let t=n.length,e=-1,i=0,r=-1,s=0,o;for(;t--;){const c=n.codePointAt(t);if(c===47){if(o){i=t+1;break}continue}e<0&&(o=!0,e=t+1),c===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||e<0||s===0||s===1&&r===e-1&&r===i+1?"":n.slice(r,e)}function tdt(...n){let t=-1,e;for(;++t<n.length;)u0(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":edt(e)}function edt(n){u0(n);const t=n.codePointAt(0)===47;let e=ndt(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function ndt(n,t){let e="",i=0,r=-1,s=0,o=-1,c,u;for(;++o<=n.length;){if(o<n.length)c=n.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(u=e.lastIndexOf("/"),u!==e.length-1){u<0?(e="",i=0):(e=e.slice(0,u),i=e.length-1-e.lastIndexOf("/")),r=o,s=0;continue}}else if(e.length>0){e="",i=0,r=o,s=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+n.slice(r+1,o):e=n.slice(r+1,o),i=o-r-1;r=o,s=0}else c===46&&s>-1?s++:s=-1}return e}function u0(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const idt={cwd:rdt};function rdt(){return"/"}function FR(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function sdt(n){if(typeof n=="string")n=new URL(n);else if(!FR(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return adt(n)}function adt(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const lT=["history","path","basename","stem","extname","dirname"];class ZB{constructor(t){let e;t?FR(t)?e={path:t}:typeof t=="string"||odt(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":idt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<lT.length;){const s=lT[i];s in e&&e[s]!==void 0&&e[s]!==null&&(this[s]=s==="history"?[...e[s]]:e[s])}let r;for(r in e)lT.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?Ka.basename(this.path):void 0}set basename(t){uT(t,"basename"),cT(t,"basename"),this.path=Ka.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ka.dirname(this.path):void 0}set dirname(t){NF(this.basename,"dirname"),this.path=Ka.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ka.extname(this.path):void 0}set extname(t){if(cT(t,"extname"),NF(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ka.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){FR(t)&&(t=sdt(t)),uT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ka.basename(this.path,this.extname):void 0}set stem(t){uT(t,"stem"),cT(t,"stem"),this.path=Ka.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const r=this.message(t,e,i);throw r.fatal=!0,r}info(t,e,i){const r=this.message(t,e,i);return r.fatal=void 0,r}message(t,e,i){const r=new _r(t,e,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function cT(n,t){if(n&&n.includes(Ka.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ka.sep+"`")}function uT(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function NF(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function odt(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const ldt=function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},cdt={}.hasOwnProperty;class jk extends ldt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Yht()}copy(){const t=new jk;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(oT(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(fT("data",this.frozen),this.namespace[t]=e,this):cdt.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=e.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=sE(t),i=this.parser||this.Parser;return hT("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),hT("process",this.parser||this.Parser),dT("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(s,o){const c=sE(t),u=i.parse(c);i.run(u,c,function(f,m,y){if(f||!m||!y)return d(f);const b=m,E=i.stringify(b,y);ddt(E)?y.value=E:y.result=E,d(f,y)});function d(f,m){f||!m?o(f):s?s(m):e(void 0,m)}}}processSync(t){let e=!1,i;return this.freeze(),hT("processSync",this.parser||this.Parser),dT("processSync",this.compiler||this.Compiler),this.process(t,r),VF("processSync","process",e),i;function r(s,o){e=!0,OF(s),i=o}}run(t,e,i){FF(t),this.freeze();const r=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?s(void 0,i):new Promise(s);function s(o,c){const u=sE(e);r.run(t,u,d);function d(f,m,y){const b=m||t;f?c(f):o?o(b):i(void 0,b,y)}}}runSync(t,e){let i=!1,r;return this.run(t,e,s),VF("runSync","run",i),r;function s(o,c){OF(o),r=c,i=!0}}stringify(t,e){this.freeze();const i=sE(e),r=this.compiler||this.Compiler;return dT("stringify",r),FF(t),r(t,i)}use(t,...e){const i=this.attachers,r=this.namespace;if(fT("use",this.frozen),t!=null)if(typeof t=="function")u(t,e);else if(typeof t=="object")Array.isArray(t)?c(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...m]=d;u(f,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(r.settings=oT(!0,r.settings,d.settings))}function c(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const m=d[f];s(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,f){let m=-1,y=-1;for(;++m<i.length;)if(i[m][0]===d){y=m;break}if(y===-1)i.push([d,...f]);else if(f.length>0){let[b,...E]=f;const w=i[y][1];NR(w)&&NR(b)&&(b=oT(!0,w,b)),i[y]=[d,b,...E]}}}}const udt=new jk().freeze();function hT(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function dT(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function fT(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function FF(n){if(!NR(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function VF(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function sE(n){return hdt(n)?n:new ZB(n)}function hdt(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function ddt(n){return typeof n=="string"||fdt(n)}function fdt(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const pdt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zF=[],BF={allowDangerousHtml:!0},mdt=/^(https?|ircs?|mailto|xmpp)$/i,gdt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jF(n){const t=ydt(n),e=vdt(n);return bdt(t.runSync(t.parse(e),e),n)}function ydt(n){const t=n.rehypePlugins||zF,e=n.remarkPlugins||zF,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...BF}:BF;return udt().use(Qut).use(e).use(Ght,i).use(t)}function vdt(n){const t=n.children||"",e=new ZB;return typeof t=="string"&&(e.value=t),e}function bdt(n,t){const e=t.allowedElements,i=t.allowElement,r=t.components,s=t.disallowedElements,o=t.skipHtml,c=t.unwrapDisallowed,u=t.urlTransform||_dt;for(const f of gdt)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+pdt+f.id,void 0);return QB(n,d),klt(n,{Fragment:R.Fragment,components:r,ignoreInvalidStyle:!0,jsx:R.jsx,jsxs:R.jsxs,passKeys:!0,passNode:!0});function d(f,m,y){if(f.type==="raw"&&y&&typeof m=="number")return o?y.children.splice(m,1):y.children[m]={type:"text",value:f.value},m;if(f.type==="element"){let b;for(b in iT)if(Object.hasOwn(iT,b)&&Object.hasOwn(f.properties,b)){const E=f.properties[b],w=iT[b];(w===null||w.includes(f.tagName))&&(f.properties[b]=u(String(E||""),b,f))}}if(f.type==="element"){let b=e?!e.includes(f.tagName):s?s.includes(f.tagName):!1;if(!b&&i&&typeof m=="number"&&(b=!i(f,m,y)),b&&y&&typeof m=="number")return c&&f.children?y.children.splice(m,1,...f.children):y.children.splice(m,1),m}}}function _dt(n){const t=n.indexOf(":"),e=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||i!==-1&&t>i||mdt.test(n.slice(0,t))?n:""}function Edt(){var o;const{id:n}=h9(),[t,e]=M.useState(null),[i,r]=M.useState(!0),s={"박정아 목사":"http://www.jeongeui.com/user/saveDir/awc/49/P/0/image_124013.png?itemTime=1745303224","윤기헌 전도사":"http://www.jeongeui.com/user/saveDir/awc/49/P/0/image_124010.jpg?itemTime=1745303224","유제홍 목사":"http://www.jeongeui.com/user/saveDir/awc/49/P/0/image_123997.png?itemTime=1745303224","김선동 목사":"http://www.jeongeui.com/user/saveDir/awc/14/P/0/image_122903.jpg?itemTime=1738823671"};return M.useEffect(()=>{(async()=>{r(!0);const u=xa(Xs(Es,"courses"),yv("code","==",n)),d=await Qs(u);if(d.empty)console.log("[Warning]No Courses has been queried");else{const f=d.docs.map(m=>m.data());e(f[0])}r(!1)})()},[n]),R.jsxs(yt,{className:"wrapper",children:[R.jsx(Ud,{subtitle:n}),i&&R.jsx(Rm,{variant:"rectangular",className:"boardPreview skeleton_style",animation:"wave",sx:{height:"200px"}}),t&&R.jsxs(yt,{className:"course_detail fullWidth",children:[R.jsx(At,{variant:"course_detail_title",children:"2025학년도 여름계절학기"}),R.jsxs(At,{variant:"course_detail_title",children:["[",t.title,"] 강의계획안"]}),R.jsx(Uq,{severity:"info",className:"fullWidth infobox",children:"강의계획안 내용이 없으면, 기헌도사님께 문의하시기 바랍니다."}),R.jsxs(yt,{className:"fullWidth section",children:[R.jsx(At,{children:"수업정보"}),R.jsx(kO,{className:"fullWidth",children:R.jsxs(CO,{children:[R.jsx(jK,{children:R.jsxs(U_,{children:[R.jsx(Ls,{sx:{color:"#FFF"},children:"학점"}),R.jsx(Ls,{sx:{color:"#FFF"},children:"학수번호"}),R.jsx(Ls,{sx:{color:"#FFF"},children:"이수구분"})]})}),R.jsxs(IO,{children:[R.jsxs(Ls,{sx:{color:"#FFF"},children:[t.credit,"학점"]}),R.jsx(Ls,{sx:{color:"#FFF"},children:t.code}),R.jsx(Ls,{sx:{color:"#FFF"},children:t.required?"전공필수":"전공선택"})]})]})})]}),R.jsxs(yt,{className:"fullWidth section",children:[R.jsx(At,{sx:{mb:1,mt:1},children:"지도교수"}),R.jsxs(yt,{className:"fullWidth flex-left",children:[R.jsx(yt,{sx:{width:"25%"},children:R.jsx("img",{style:{width:"100%"},src:s[t.professor],alt:t.professor})}),R.jsx(yt,{sx:{width:"75%",display:"flex",alignItems:"flex-start"},children:R.jsx(kO,{className:"fullWidth",children:R.jsx(CO,{children:R.jsxs(IO,{children:[R.jsxs(U_,{sx:{p:1},children:[R.jsx(Ls,{sx:{color:"#FFF",pt:.7,pb:.8},children:"성명"}),R.jsx(Ls,{sx:{color:"#FFF",pt:.7,pb:.8},children:t.professor})]}),R.jsxs(U_,{children:[R.jsx(Ls,{sx:{color:"#FFF",pt:.7,pb:.8},children:"연락처"}),R.jsx(Ls,{sx:{color:"#FFF",pt:.7,pb:.8},children:"비상연락망 참고"})]}),R.jsxs(U_,{children:[R.jsx(Ls,{sx:{color:"#FFF",pt:.7,pb:.8},children:"소속"}),R.jsx(Ls,{sx:{color:"#FFF",pt:.7,pb:.8},children:"높은뜻정의교회 청년부"})]})]})})})})]})]}),R.jsx(yt,{className:"fullWidth section",children:R.jsx(jF,{components:{p:({children:c})=>R.jsx(At,{variant:"syllabus_detail_paragraph",children:c}),h3:({children:c})=>R.jsx(At,{fontWeight:"bold",children:c}),li:({children:c})=>R.jsx("li",{style:{textAlign:"left"},children:R.jsx(At,{component:"span",variant:"syllabus_detail_paragraph",children:c})}),ol:({children:c})=>R.jsx(yt,{component:"ol",sx:{pl:2,color:"#FFF",margin:0},children:c}),ul:({children:c})=>R.jsx(yt,{component:"ul",sx:{color:"#FFF",margin:0},children:c})},children:t.description})}),R.jsxs(yt,{className:"fullWidth section",children:[R.jsx(At,{children:"활동 방법"}),(o=t==null?void 0:t.activities)==null?void 0:o.map((c,u)=>R.jsxs(yt,{className:"fullWidth activitySection",children:[R.jsx(At,{variant:"course_detail_title",children:c.section_title}),R.jsx(jF,{components:{ul:({children:d})=>R.jsx(yt,{component:"ul",sx:{color:"#FFF",margin:0,pl:2},children:d}),li:({children:d})=>R.jsx("li",{style:{textAlign:"left"},children:R.jsx(At,{component:"span",variant:"syllabus_detail_paragraph",children:d})})},children:c.content})]},u))]})]})]})}function Sdt(){return R.jsx(Wnt,{children:R.jsx(C7,{theme:Xnt,children:R.jsx(X9,{children:R.jsxs(T9,{children:[R.jsx(ul,{path:"/signin",element:R.jsx(Ynt,{})}),R.jsx(ul,{path:"/",element:R.jsx(bh,{children:R.jsx(Knt,{})})}),R.jsx(ul,{path:"/pray",element:R.jsx(bh,{children:R.jsx(Znt,{})})}),R.jsx(ul,{path:"/post",element:R.jsx(bh,{children:R.jsx(Jnt,{})})}),R.jsx(ul,{path:"/workbook",element:R.jsx(bh,{children:R.jsx(Xot,{})})}),R.jsx(ul,{path:"/courses",element:R.jsx(bh,{children:R.jsx(tlt,{})})}),R.jsx(ul,{path:"/syllabus/",element:R.jsx(bh,{children:R.jsx(elt,{})})}),R.jsx(ul,{path:"/syllabus/:id",element:R.jsx(bh,{children:R.jsx(Edt,{})})})]})})})})}OU.createRoot(document.getElementById("root")).render(R.jsx(M.StrictMode,{children:R.jsx(Sdt,{})}));
