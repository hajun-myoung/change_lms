var D6=Object.defineProperty;var X2=i=>{throw TypeError(i)};var L6=(i,t,e)=>t in i?D6(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Qt=(i,t,e)=>L6(i,typeof t!="symbol"?t+"":t,e),Nw=(i,t,e)=>t.has(i)||X2("Cannot "+e);var g=(i,t,e)=>(Nw(i,t,"read from private field"),e?e.call(i):t.get(i)),$=(i,t,e)=>t.has(i)?X2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),V=(i,t,e,n)=>(Nw(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),B=(i,t,e)=>(Nw(i,t,"access private method"),e);var gs=(i,t,e,n)=>({set _(s){V(i,t,s,e)},get _(){return g(i,t,n)}});function N6(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function Gx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fw={exports:{}},ym={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function F6(){if(Q2)return ym;Q2=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:i,type:n,key:l,ref:s!==void 0?s:null,props:a}}return ym.Fragment=t,ym.jsx=e,ym.jsxs=e,ym}var Z2;function V6(){return Z2||(Z2=1,Fw.exports=F6()),Fw.exports}var z=V6(),Vw={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function U6(){if(J2)return oe;J2=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(K){return K===null||typeof K!="object"?null:(K=y&&K[y]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function C(K,rt,ut){this.props=K,this.context=rt,this.refs=S,this.updater=ut||E}C.prototype.isReactComponent={},C.prototype.setState=function(K,rt){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,rt,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function x(){}x.prototype=C.prototype;function N(K,rt,ut){this.props=K,this.context=rt,this.refs=S,this.updater=ut||E}var M=N.prototype=new x;M.constructor=N,A(M,C.prototype),M.isPureReactComponent=!0;var P=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function D(K,rt,ut,st,vt,wt){return ut=wt.ref,{$$typeof:i,type:K,key:rt,ref:ut!==void 0?ut:null,props:wt}}function I(K,rt){return D(K.type,rt,void 0,void 0,void 0,K.props)}function L(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function T(K){var rt={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ut){return rt[ut]})}var U=/\/+/g;function q(K,rt){return typeof K=="object"&&K!==null&&K.key!=null?T(""+K.key):rt.toString(36)}function j(){}function ct(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(j,j):(K.status="pending",K.then(function(rt){K.status==="pending"&&(K.status="fulfilled",K.value=rt)},function(rt){K.status==="pending"&&(K.status="rejected",K.reason=rt)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function nt(K,rt,ut,st,vt){var wt=typeof K;(wt==="undefined"||wt==="boolean")&&(K=null);var _t=!1;if(K===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(K.$$typeof){case i:case t:_t=!0;break;case p:return _t=K._init,nt(_t(K._payload),rt,ut,st,vt)}}if(_t)return vt=vt(K),_t=st===""?"."+q(K,0):st,P(vt)?(ut="",_t!=null&&(ut=_t.replace(U,"$&/")+"/"),nt(vt,rt,ut,"",function(jt){return jt})):vt!=null&&(L(vt)&&(vt=I(vt,ut+(vt.key==null||K&&K.key===vt.key?"":(""+vt.key).replace(U,"$&/")+"/")+_t)),rt.push(vt)),1;_t=0;var xt=st===""?".":st+":";if(P(K))for(var Bt=0;Bt<K.length;Bt++)st=K[Bt],wt=xt+q(st,Bt),_t+=nt(st,rt,ut,wt,vt);else if(Bt=b(K),typeof Bt=="function")for(K=Bt.call(K),Bt=0;!(st=K.next()).done;)st=st.value,wt=xt+q(st,Bt++),_t+=nt(st,rt,ut,wt,vt);else if(wt==="object"){if(typeof K.then=="function")return nt(ct(K),rt,ut,st,vt);throw rt=String(K),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(K,rt,ut){if(K==null)return K;var st=[],vt=0;return nt(K,st,"","",function(wt){return rt.call(ut,wt,vt++)}),st}function Q(K){if(K._status===-1){var rt=K._result;rt=rt(),rt.then(function(ut){(K._status===0||K._status===-1)&&(K._status=1,K._result=ut)},function(ut){(K._status===0||K._status===-1)&&(K._status=2,K._result=ut)}),K._status===-1&&(K._status=0,K._result=rt)}if(K._status===1)return K._result.default;throw K._result}var at=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function dt(){}return oe.Children={map:Y,forEach:function(K,rt,ut){Y(K,function(){rt.apply(this,arguments)},ut)},count:function(K){var rt=0;return Y(K,function(){rt++}),rt},toArray:function(K){return Y(K,function(rt){return rt})||[]},only:function(K){if(!L(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},oe.Component=C,oe.Fragment=e,oe.Profiler=s,oe.PureComponent=N,oe.StrictMode=n,oe.Suspense=h,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,oe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return F.H.useMemoCache(K)}},oe.cache=function(K){return function(){return K.apply(null,arguments)}},oe.cloneElement=function(K,rt,ut){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var st=A({},K.props),vt=K.key,wt=void 0;if(rt!=null)for(_t in rt.ref!==void 0&&(wt=void 0),rt.key!==void 0&&(vt=""+rt.key),rt)!W.call(rt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&rt.ref===void 0||(st[_t]=rt[_t]);var _t=arguments.length-2;if(_t===1)st.children=ut;else if(1<_t){for(var xt=Array(_t),Bt=0;Bt<_t;Bt++)xt[Bt]=arguments[Bt+2];st.children=xt}return D(K.type,vt,void 0,void 0,wt,st)},oe.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:a,_context:K},K},oe.createElement=function(K,rt,ut){var st,vt={},wt=null;if(rt!=null)for(st in rt.key!==void 0&&(wt=""+rt.key),rt)W.call(rt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=rt[st]);var _t=arguments.length-2;if(_t===1)vt.children=ut;else if(1<_t){for(var xt=Array(_t),Bt=0;Bt<_t;Bt++)xt[Bt]=arguments[Bt+2];vt.children=xt}if(K&&K.defaultProps)for(st in _t=K.defaultProps,_t)vt[st]===void 0&&(vt[st]=_t[st]);return D(K,wt,void 0,void 0,null,vt)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(K){return{$$typeof:c,render:K}},oe.isValidElement=L,oe.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:Q}},oe.memo=function(K,rt){return{$$typeof:d,type:K,compare:rt===void 0?null:rt}},oe.startTransition=function(K){var rt=F.T,ut={};F.T=ut;try{var st=K(),vt=F.S;vt!==null&&vt(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(dt,at)}catch(wt){at(wt)}finally{F.T=rt}},oe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},oe.use=function(K){return F.H.use(K)},oe.useActionState=function(K,rt,ut){return F.H.useActionState(K,rt,ut)},oe.useCallback=function(K,rt){return F.H.useCallback(K,rt)},oe.useContext=function(K){return F.H.useContext(K)},oe.useDebugValue=function(){},oe.useDeferredValue=function(K,rt){return F.H.useDeferredValue(K,rt)},oe.useEffect=function(K,rt,ut){var st=F.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(K,rt)},oe.useId=function(){return F.H.useId()},oe.useImperativeHandle=function(K,rt,ut){return F.H.useImperativeHandle(K,rt,ut)},oe.useInsertionEffect=function(K,rt){return F.H.useInsertionEffect(K,rt)},oe.useLayoutEffect=function(K,rt){return F.H.useLayoutEffect(K,rt)},oe.useMemo=function(K,rt){return F.H.useMemo(K,rt)},oe.useOptimistic=function(K,rt){return F.H.useOptimistic(K,rt)},oe.useReducer=function(K,rt,ut){return F.H.useReducer(K,rt,ut)},oe.useRef=function(K){return F.H.useRef(K)},oe.useState=function(K){return F.H.useState(K)},oe.useSyncExternalStore=function(K,rt,ut){return F.H.useSyncExternalStore(K,rt,ut)},oe.useTransition=function(){return F.H.useTransition()},oe.version="19.1.0",oe}var tP;function Wx(){return tP||(tP=1,Vw.exports=U6()),Vw.exports}var O=Wx();const er=Gx(O),xT=N6({__proto__:null,default:er},[O]);var Uw={exports:{}},vm={},Bw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function B6(){return eP||(eP=1,function(i){function t(Y,Q){var at=Y.length;Y.push(Q);t:for(;0<at;){var dt=at-1>>>1,K=Y[dt];if(0<s(K,Q))Y[dt]=Q,Y[at]=K,at=dt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],at=Y.pop();if(at!==Q){Y[0]=at;t:for(var dt=0,K=Y.length,rt=K>>>1;dt<rt;){var ut=2*(dt+1)-1,st=Y[ut],vt=ut+1,wt=Y[vt];if(0>s(st,at))vt<K&&0>s(wt,st)?(Y[dt]=wt,Y[vt]=at,dt=vt):(Y[dt]=st,Y[ut]=at,dt=ut);else if(vt<K&&0>s(wt,at))Y[dt]=wt,Y[vt]=at,dt=vt;else break t}}return Q}function s(Y,Q){var at=Y.sortIndex-Q.sortIndex;return at!==0?at:Y.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();i.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,b=3,E=!1,A=!1,S=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var Q=e(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=Y)n(d),Q.sortIndex=Q.expirationTime,t(h,Q);else break;Q=e(d)}}function F(Y){if(S=!1,P(Y),!A)if(e(h)!==null)A=!0,W||(W=!0,q());else{var Q=e(d);Q!==null&&nt(F,Q.startTime-Y)}}var W=!1,D=-1,I=5,L=-1;function T(){return C?!0:!(i.unstable_now()-L<I)}function U(){if(C=!1,W){var Y=i.unstable_now();L=Y;var Q=!0;try{t:{A=!1,S&&(S=!1,N(D),D=-1),E=!0;var at=b;try{e:{for(P(Y),y=e(h);y!==null&&!(y.expirationTime>Y&&T());){var dt=y.callback;if(typeof dt=="function"){y.callback=null,b=y.priorityLevel;var K=dt(y.expirationTime<=Y);if(Y=i.unstable_now(),typeof K=="function"){y.callback=K,P(Y),Q=!0;break e}y===e(h)&&n(h),P(Y)}else n(h);y=e(h)}if(y!==null)Q=!0;else{var rt=e(d);rt!==null&&nt(F,rt.startTime-Y),Q=!1}}break t}finally{y=null,b=at,E=!1}Q=void 0}}finally{Q?q():W=!1}}}var q;if(typeof M=="function")q=function(){M(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ct=j.port2;j.port1.onmessage=U,q=function(){ct.postMessage(null)}}else q=function(){x(U,0)};function nt(Y,Q){D=x(function(){Y(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var at=b;b=Q;try{return Y()}finally{b=at}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var at=b;b=Y;try{return Q()}finally{b=at}},i.unstable_scheduleCallback=function(Y,Q,at){var dt=i.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?dt+at:dt):at=dt,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=at+K,Y={id:p++,callback:Q,priorityLevel:Y,startTime:at,expirationTime:K,sortIndex:-1},at>dt?(Y.sortIndex=at,t(d,Y),e(h)===null&&Y===e(d)&&(S?(N(D),D=-1):S=!0,nt(F,at-dt))):(Y.sortIndex=K,t(h,Y),A||E||(A=!0,W||(W=!0,q()))),Y},i.unstable_shouldYield=T,i.unstable_wrapCallback=function(Y){var Q=b;return function(){var at=b;b=Q;try{return Y.apply(this,arguments)}finally{b=at}}}}(zw)),zw}var nP;function z6(){return nP||(nP=1,Bw.exports=B6()),Bw.exports}var jw={exports:{}},Ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function j6(){if(iP)return Ki;iP=1;var i=Wx();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ki.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,p)},Ki.flushSync=function(h){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=p,n.d.f()}},Ki.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Ki.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ki.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:E}):p==="script"&&n.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ki.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Ki.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ki.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Ki.requestFormReset=function(h){n.d.r(h)},Ki.unstable_batchedUpdates=function(h,d){return h(d)},Ki.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Ki.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ki.version="19.1.0",Ki}var sP;function GD(){if(sP)return jw.exports;sP=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jw.exports=j6(),jw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function H6(){if(rP)return vm;rP=1;var i=z6(),t=Wx(),e=GD();function n(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(n(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(n(188));return o!==r?null:r}for(var u=r,f=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return c(v),r;if(_===f)return c(v),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=v,f=_;else{for(var k=!1,H=v.child;H;){if(H===u){k=!0,u=v,f=_;break}if(H===f){k=!0,f=v,u=_;break}H=H.sibling}if(!k){for(H=_.child;H;){if(H===u){k=!0,u=_,f=v;break}if(H===f){k=!0,f=_,u=v;break}H=H.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function ct(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case L:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case M:return(r.displayName||"Context")+".Provider";case N:return(r._context.displayName||"Context")+".Consumer";case P:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return o=r.displayName||null,o!==null?o:ct(r.type)||"Memo";case I:o=r._payload,r=r._init;try{return ct(r(o))}catch{}}return null}var nt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},dt=[],K=-1;function rt(r){return{current:r}}function ut(r){0>K||(r.current=dt[K],dt[K]=null,K--)}function st(r,o){K++,dt[K]=r.current,r.current=o}var vt=rt(null),wt=rt(null),_t=rt(null),xt=rt(null);function Bt(r,o){switch(st(_t,o),st(wt,r),st(vt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?w2(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=w2(o),r=T2(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ut(vt),st(vt,r)}function jt(){ut(vt),ut(wt),ut(_t)}function Et(r){r.memoizedState!==null&&st(xt,r);var o=vt.current,u=T2(o,r.type);o!==u&&(st(wt,r),st(vt,u))}function Ht(r){wt.current===r&&(ut(vt),ut(wt)),xt.current===r&&(ut(xt),dm._currentValue=at)}var Gt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,kt=i.unstable_cancelCallback,Wt=i.unstable_shouldYield,ue=i.unstable_requestPaint,fe=i.unstable_now,ke=i.unstable_getCurrentPriorityLevel,Ue=i.unstable_ImmediatePriority,He=i.unstable_UserBlockingPriority,pe=i.unstable_NormalPriority,Ot=i.unstable_LowPriority,oi=i.unstable_IdlePriority,Ye=i.log,Gi=i.unstable_setDisableYieldValue,Re=null,ee=null;function Xe(r){if(typeof Ye=="function"&&Gi(r),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(Re,r)}catch{}}var Oe=Math.clz32?Math.clz32:On,De=Math.log,Kt=Math.LN2;function On(r){return r>>>=0,r===0?32:31-(De(r)/Kt|0)|0}var vn=256,Dn=4194304;function Dt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pe(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var v=0,_=r.suspendedLanes,k=r.pingedLanes;r=r.warmLanes;var H=f&134217727;return H!==0?(f=H&~_,f!==0?v=Dt(f):(k&=H,k!==0?v=Dt(k):u||(u=H&~r,u!==0&&(v=Dt(u))))):(H=f&~_,H!==0?v=Dt(H):k!==0?v=Dt(k):u||(u=f&~r,u!==0&&(v=Dt(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function gn(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function sr(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var r=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),r}function pg(){var r=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),r}function oo(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function lo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function gg(r,o,u,f,v,_){var k=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var H=r.entanglements,X=r.expirationTimes,it=r.hiddenUpdates;for(u=k&~u;0<u;){var pt=31-Oe(u),mt=1<<pt;H[pt]=0,X[pt]=-1;var ot=it[pt];if(ot!==null)for(it[pt]=null,pt=0;pt<ot.length;pt++){var lt=ot[pt];lt!==null&&(lt.lane&=-536870913)}u&=~mt}f!==0&&aa(r,f,0),_!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=_&~(k&~o))}function aa(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Oe(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function mg(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-Oe(u),v=1<<f;v&o|r[f]&o&&(r[f]|=o),u&=~v}}function Pl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gd(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ml(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:$2(r.type))}function ub(r,o){var u=Q.p;try{return Q.p=r,o()}finally{Q.p=u}}var bn=Math.random().toString(36).slice(2),li="__reactFiber$"+bn,Xn="__reactProps$"+bn,rr="__reactContainer$"+bn,yg="__reactEvents$"+bn,UA="__reactListeners$"+bn,Ol="__reactHandles$"+bn,hb="__reactResources$"+bn,ou="__reactMarker$"+bn;function Dl(r){delete r[li],delete r[Xn],delete r[yg],delete r[UA],delete r[Ol]}function co(r){var o=r[li];if(o)return o;for(var u=r.parentNode;u;){if(o=u[rr]||u[li]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=I2(r);r!==null;){if(u=r[li])return u;r=I2(r)}return o}r=u,u=r.parentNode}return null}function oa(r){if(r=r[li]||r[rr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function la(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(n(33))}function hs(r){var o=r[hb];return o||(o=r[hb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function zn(r){r[ou]=!0}var vg=new Set,md={};function Pr(r,o){uo(r,o),uo(r+"Capture",o)}function uo(r,o){for(md[r]=o,r=0;r<o.length;r++)vg.add(o[r])}var db=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fb={},lu={};function pb(r){return Gt.call(lu,r)?!0:Gt.call(fb,r)?!1:db.test(r)?lu[r]=!0:(fb[r]=!0,!1)}function Ll(r,o,u){if(pb(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function ca(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Oi(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var cu,gb;function ho(r){if(cu===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);cu=o&&o[1]||"",gb=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cu+r+gb}var yd=!1;function vd(r,o){if(!r||yd)return"";yd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(lt){var ot=lt}Reflect.construct(r,[],mt)}else{try{mt.call()}catch(lt){ot=lt}r.call(mt.prototype)}}else{try{throw Error()}catch(lt){ot=lt}(mt=r())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(lt){if(lt&&ot&&typeof lt.stack=="string")return[lt.stack,ot.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),k=_[0],H=_[1];if(k&&H){var X=k.split(`
`),it=H.split(`
`);for(v=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;v<it.length&&!it[v].includes("DetermineComponentFrameRoot");)v++;if(f===X.length||v===it.length)for(f=X.length-1,v=it.length-1;1<=f&&0<=v&&X[f]!==it[v];)v--;for(;1<=f&&0<=v;f--,v--)if(X[f]!==it[v]){if(f!==1||v!==1)do if(f--,v--,0>v||X[f]!==it[v]){var pt=`
`+X[f].replace(" at new "," at ");return r.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",r.displayName)),pt}while(1<=f&&0<=v);break}}}finally{yd=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ho(u):""}function bg(r){switch(r.tag){case 26:case 27:case 5:return ho(r.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 15:return vd(r.type,!1);case 11:return vd(r.type.render,!1);case 1:return vd(r.type,!0);case 31:return ho("Activity");default:return""}}function bd(r){try{var o="";do o+=bg(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ds(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _g(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function BA(r){var o=_g(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){f=""+k,_.call(this,k)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function _d(r){r._valueTracker||(r._valueTracker=BA(r))}function Eg(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=_g(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function uu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zA=/[\n"\\]/g;function Qn(r){return r.replace(zA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ls(r,o,u,f,v,_,k,H){r.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.type=k:r.removeAttribute("type"),o!=null?k==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ds(o)):r.value!==""+ds(o)&&(r.value=""+ds(o)):k!=="submit"&&k!=="reset"||r.removeAttribute("value"),o!=null?Nl(r,k,ds(o)):u!=null?Nl(r,k,ds(u)):f!=null&&r.removeAttribute("value"),v==null&&_!=null&&(r.defaultChecked=!!_),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.name=""+ds(H):r.removeAttribute("name")}function hu(r,o,u,f,v,_,k,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;u=u!=null?""+ds(u):"",o=o!=null?""+ds(o):u,H||o===r.value||(r.value=o),r.defaultValue=o}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=H?r.checked:!!f,r.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(r.name=k)}function Nl(r,o,u){o==="number"&&uu(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function fo(r,o,u,f){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&f&&(r[u].defaultSelected=!0)}else{for(u=""+ds(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function Qe(r,o,u){if(o!=null&&(o=""+ds(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ds(u):""}function du(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(n(92));if(nt(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=ds(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function ar(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mb(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||fu.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Ag(r,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var v in o)f=o[v],o.hasOwnProperty(v)&&u[v]!==f&&mb(r,v,f)}else for(var _ in o)o.hasOwnProperty(_)&&mb(r,_,o[_])}function Sg(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ed(r){return HA.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var po=null;function or(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var go=null,mo=null;function wg(r){var o=oa(r);if(o&&(r=o.stateNode)){var u=r[Xn]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ls(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Qn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var v=f[Xn]||null;if(!v)throw Error(n(90));Ls(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&Eg(f)}break t;case"textarea":Qe(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&fo(r,!!u.multiple,o,!1)}}}var ua=!1;function yb(r,o,u){if(ua)return r(o,u);ua=!0;try{var f=r(o);return f}finally{if(ua=!1,(go!==null||mo!==null)&&(u0(),go&&(o=go,r=mo,mo=go=null,wg(o),r)))for(o=0;o<r.length;o++)wg(r[o])}}function pu(r,o){var u=r.stateNode;if(u===null)return null;var f=u[Xn]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Mr)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){lr=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{lr=!1}var ha=null,Fl=null,yo=null;function Tg(){if(yo)return yo;var r,o=Fl,u=o.length,f,v="value"in ha?ha.value:ha.textContent,_=v.length;for(r=0;r<u&&o[r]===v[r];r++);var k=u-r;for(f=1;f<=k&&o[u-f]===v[_-f];f++);return yo=v.slice(r,1<f?1-f:void 0)}function da(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function fa(){return!0}function xg(){return!1}function Ei(r){function o(u,f,v,_,k){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(u=r[H],this[H]=u?u(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fa:xg,this.isPropagationStopped=xg,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),o}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ad=Ei(Be),mu=p({},Be,{view:0,detail:0}),vb=Ei(mu),Sd,wd,pa,yu=p({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pa&&(pa&&r.type==="mousemove"?(Sd=r.screenX-pa.screenX,wd=r.screenY-pa.screenY):wd=Sd=0,pa=r),Sd)},movementY:function(r){return"movementY"in r?r.movementY:wd}}),cr=Ei(yu),bb=p({},yu,{dataTransfer:0}),$A=Ei(bb),vu=p({},mu,{relatedTarget:0}),Td=Ei(vu),Cg=p({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),xd=Ei(Cg),_b=p({},Be,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Cd=Ei(_b),qA=p({},Be,{data:0}),Rg=Ei(qA),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ab[r])?!!o[r]:!1}function _u(){return Ig}var Sb=p({},mu,{key:function(r){if(r.key){var o=bu[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Eb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Rd=Ei(Sb),wb=p({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kg=Ei(wb),vo=p({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Tb=Ei(vo),xb=p({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cb=Ei(xb),Rb=p({},yu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Id=Ei(Rb),fs=p({},Be,{newState:0,oldState:0}),Ib=Ei(fs),kb=[9,13,27,32],ga=Mr&&"CompositionEvent"in window,m=null;Mr&&"documentMode"in document&&(m=document.documentMode);var w=Mr&&"TextEvent"in window&&!m,R=Mr&&(!ga||m&&8<m&&11>=m),G=" ",tt=!1;function ht(r,o){switch(r){case"keyup":return kb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function At(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Se=!1;function ci(r,o){switch(r){case"compositionend":return At(o);case"keypress":return o.which!==32?null:(tt=!0,G);case"textInput":return r=o.data,r===G&&tt?null:r;default:return null}}function we(r,o){if(Se)return r==="compositionend"||!ga&&ht(r,o)?(r=Tg(),yo=Fl=ha=null,Se=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return R&&o.locale!=="ko"?null:o.data;default:return null}}var Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Ai[r.type]:o==="textarea"}function bo(r,o,u,f){go?mo?mo.push(f):mo=[f]:go=f,o=m0(o,"onChange"),0<o.length&&(u=new Ad("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var Di=null,ma=null;function Pg(r){b2(r,0)}function Pb(r){var o=la(r);if(Eg(o))return r}function BR(r,o){if(r==="change")return o}var zR=!1;if(Mr){var GA;if(Mr){var WA="oninput"in document;if(!WA){var jR=document.createElement("div");jR.setAttribute("oninput","return;"),WA=typeof jR.oninput=="function"}GA=WA}else GA=!1;zR=GA&&(!document.documentMode||9<document.documentMode)}function HR(){Di&&(Di.detachEvent("onpropertychange",$R),ma=Di=null)}function $R(r){if(r.propertyName==="value"&&Pb(ma)){var o=[];bo(o,ma,r,or(r)),yb(Pg,o)}}function uV(r,o,u){r==="focusin"?(HR(),Di=o,ma=u,Di.attachEvent("onpropertychange",$R)):r==="focusout"&&HR()}function hV(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pb(ma)}function dV(r,o){if(r==="click")return Pb(o)}function fV(r,o){if(r==="input"||r==="change")return Pb(o)}function pV(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ns=typeof Object.is=="function"?Object.is:pV;function Mg(r,o){if(Ns(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Gt.call(o,v)||!Ns(r[v],o[v]))return!1}return!0}function qR(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function GR(r,o){var u=qR(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=qR(u)}}function WR(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?WR(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function KR(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=uu(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=uu(r.document)}return o}function KA(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var gV=Mr&&"documentMode"in document&&11>=document.documentMode,kd=null,YA=null,Og=null,XA=!1;function YR(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;XA||kd==null||kd!==uu(f)||(f=kd,"selectionStart"in f&&KA(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Og&&Mg(Og,f)||(Og=f,f=m0(YA,"onSelect"),0<f.length&&(o=new Ad("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=kd)))}function Eu(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Pd={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionrun:Eu("Transition","TransitionRun"),transitionstart:Eu("Transition","TransitionStart"),transitioncancel:Eu("Transition","TransitionCancel"),transitionend:Eu("Transition","TransitionEnd")},QA={},XR={};Mr&&(XR=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function Au(r){if(QA[r])return QA[r];if(!Pd[r])return r;var o=Pd[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in XR)return QA[r]=o[u];return r}var QR=Au("animationend"),ZR=Au("animationiteration"),JR=Au("animationstart"),mV=Au("transitionrun"),yV=Au("transitionstart"),vV=Au("transitioncancel"),tI=Au("transitionend"),eI=new Map,ZA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ZA.push("scrollEnd");function Or(r,o){eI.set(r,o),Pr(o,[r])}var nI=new WeakMap;function ur(r,o){if(typeof r=="object"&&r!==null){var u=nI.get(r);return u!==void 0?u:(o={value:r,source:o,stack:bd(o)},nI.set(r,o),o)}return{value:r,source:o,stack:bd(o)}}var hr=[],Md=0,JA=0;function Mb(){for(var r=Md,o=JA=Md=0;o<r;){var u=hr[o];hr[o++]=null;var f=hr[o];hr[o++]=null;var v=hr[o];hr[o++]=null;var _=hr[o];if(hr[o++]=null,f!==null&&v!==null){var k=f.pending;k===null?v.next=v:(v.next=k.next,k.next=v),f.pending=v}_!==0&&iI(u,v,_)}}function Ob(r,o,u,f){hr[Md++]=r,hr[Md++]=o,hr[Md++]=u,hr[Md++]=f,JA|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function tS(r,o,u,f){return Ob(r,o,u,f),Db(r)}function Od(r,o){return Ob(r,null,null,o),Db(r)}function iI(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var v=!1,_=r.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(v=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,v&&o!==null&&(v=31-Oe(u),r=_.hiddenUpdates,f=r[v],f===null?r[v]=[o]:f.push(o),o.lane=u|536870912),_):null}function Db(r){if(50<sm)throw sm=0,aw=null,Error(n(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Dd={};function bV(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(r,o,u,f){return new bV(r,o,u,f)}function eS(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _o(r,o){var u=r.alternate;return u===null?(u=Fs(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function sI(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Lb(r,o,u,f,v,_){var k=0;if(f=r,typeof r=="function")eS(r)&&(k=1);else if(typeof r=="string")k=E6(r,u,vt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case L:return r=Fs(31,u,o,v),r.elementType=L,r.lanes=_,r;case A:return Su(u.children,v,_,o);case S:k=8,v|=24;break;case C:return r=Fs(12,u,o,v|2),r.elementType=C,r.lanes=_,r;case F:return r=Fs(13,u,o,v),r.elementType=F,r.lanes=_,r;case W:return r=Fs(19,u,o,v),r.elementType=W,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case M:k=10;break t;case N:k=9;break t;case P:k=11;break t;case D:k=14;break t;case I:k=16,f=null;break t}k=29,u=Error(n(130,r===null?"null":typeof r,"")),f=null}return o=Fs(k,u,o,v),o.elementType=r,o.type=f,o.lanes=_,o}function Su(r,o,u,f){return r=Fs(7,r,f,o),r.lanes=u,r}function nS(r,o,u){return r=Fs(6,r,null,o),r.lanes=u,r}function iS(r,o,u){return o=Fs(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ld=[],Nd=0,Nb=null,Fb=0,dr=[],fr=0,wu=null,Eo=1,Ao="";function Tu(r,o){Ld[Nd++]=Fb,Ld[Nd++]=Nb,Nb=r,Fb=o}function rI(r,o,u){dr[fr++]=Eo,dr[fr++]=Ao,dr[fr++]=wu,wu=r;var f=Eo;r=Ao;var v=32-Oe(f)-1;f&=~(1<<v),u+=1;var _=32-Oe(o)+v;if(30<_){var k=v-v%5;_=(f&(1<<k)-1).toString(32),f>>=k,v-=k,Eo=1<<32-Oe(o)+v|u<<v|f,Ao=_+r}else Eo=1<<_|u<<v|f,Ao=r}function sS(r){r.return!==null&&(Tu(r,1),rI(r,1,0))}function rS(r){for(;r===Nb;)Nb=Ld[--Nd],Ld[Nd]=null,Fb=Ld[--Nd],Ld[Nd]=null;for(;r===wu;)wu=dr[--fr],dr[fr]=null,Ao=dr[--fr],dr[fr]=null,Eo=dr[--fr],dr[fr]=null}var ps=null,Ln=null,Le=!1,xu=null,ya=!1,aS=Error(n(519));function Cu(r){var o=Error(n(418,""));throw Ng(ur(o,r)),aS}function aI(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[li]=r,o[Xn]=f,u){case"dialog":be("cancel",o),be("close",o);break;case"iframe":case"object":case"embed":be("load",o);break;case"video":case"audio":for(u=0;u<am.length;u++)be(am[u],o);break;case"source":be("error",o);break;case"img":case"image":case"link":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"input":be("invalid",o),hu(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),_d(o);break;case"select":be("invalid",o);break;case"textarea":be("invalid",o),du(o,f.value,f.defaultValue,f.children),_d(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||S2(o.textContent,u)?(f.popover!=null&&(be("beforetoggle",o),be("toggle",o)),f.onScroll!=null&&be("scroll",o),f.onScrollEnd!=null&&be("scrollend",o),f.onClick!=null&&(o.onclick=y0),o=!0):o=!1,o||Cu(r)}function oI(r){for(ps=r.return;ps;)switch(ps.tag){case 5:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:ps=ps.return}}function Dg(r){if(r!==ps)return!1;if(!Le)return oI(r),Le=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Aw(r.type,r.memoizedProps)),u=!u),u&&Ln&&Cu(r),oI(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Ln=Lr(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Ln=null}}else o===27?(o=Ln,Jl(r.type)?(r=xw,xw=null,Ln=r):Ln=o):Ln=ps?Lr(r.stateNode.nextSibling):null;return!0}function Lg(){Ln=ps=null,Le=!1}function lI(){var r=xu;return r!==null&&(ws===null?ws=r:ws.push.apply(ws,r),xu=null),r}function Ng(r){xu===null?xu=[r]:xu.push(r)}var oS=rt(null),Ru=null,So=null;function Vl(r,o,u){st(oS,o._currentValue),o._currentValue=u}function wo(r){r._currentValue=oS.current,ut(oS)}function lS(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function cS(r,o,u,f){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var _=v.dependencies;if(_!==null){var k=v.child;_=_.firstContext;t:for(;_!==null;){var H=_;_=v;for(var X=0;X<o.length;X++)if(H.context===o[X]){_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),lS(_.return,u,r),f||(k=null);break t}_=H.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(n(341));k.lanes|=u,_=k.alternate,_!==null&&(_.lanes|=u),lS(k,u,r),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===r){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function Fg(r,o,u,f){r=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var H=v.type;Ns(v.pendingProps.value,k.value)||(r!==null?r.push(H):r=[H])}}else if(v===xt.current){if(k=v.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(dm):r=[dm])}v=v.return}r!==null&&cS(o,r,u,f),o.flags|=262144}function Vb(r){for(r=r.firstContext;r!==null;){if(!Ns(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Iu(r){Ru=r,So=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wi(r){return cI(Ru,r)}function Ub(r,o){return Ru===null&&Iu(r),cI(r,o)}function cI(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},So===null){if(r===null)throw Error(n(308));So=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else So=So.next=o;return u}var _V=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},EV=i.unstable_scheduleCallback,AV=i.unstable_NormalPriority,hi={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uS(){return{controller:new _V,data:new Map,refCount:0}}function Vg(r){r.refCount--,r.refCount===0&&EV(AV,function(){r.controller.abort()})}var Ug=null,hS=0,Fd=0,Vd=null;function SV(r,o){if(Ug===null){var u=Ug=[];hS=0,Fd=fw(),Vd={status:"pending",value:void 0,then:function(f){u.push(f)}}}return hS++,o.then(uI,uI),o}function uI(){if(--hS===0&&Ug!==null){Vd!==null&&(Vd.status="fulfilled");var r=Ug;Ug=null,Fd=0,Vd=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function wV(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var hI=Y.S;Y.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&SV(r,o),hI!==null&&hI(r,o)};var ku=rt(null);function dS(){var r=ku.current;return r!==null?r:dn.pooledCache}function Bb(r,o){o===null?st(ku,ku.current):st(ku,o.pool)}function dI(){var r=dS();return r===null?null:{parent:hi._currentValue,pool:r}}var Bg=Error(n(460)),fI=Error(n(474)),zb=Error(n(542)),fS={then:function(){}};function pI(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jb(){}function gI(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(jb,jb),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,yI(r),r;default:if(typeof o.status=="string")o.then(jb,jb);else{if(r=dn,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=f}},function(f){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,yI(r),r}throw zg=o,Bg}}var zg=null;function mI(){if(zg===null)throw Error(n(459));var r=zg;return zg=null,r}function yI(r){if(r===Bg||r===zb)throw Error(n(483))}var Ul=!1;function pS(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gS(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Bl(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zl(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,($e&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,o=Db(r),iI(r,null,u),o}return Ob(r,f,o,u),Db(r)}function jg(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,mg(r,u)}}function mS(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=k:_=_.next=k,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var yS=!1;function Hg(){if(yS){var r=Vd;if(r!==null)throw r}}function $g(r,o,u,f){yS=!1;var v=r.updateQueue;Ul=!1;var _=v.firstBaseUpdate,k=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var X=H,it=X.next;X.next=null,k===null?_=it:k.next=it,k=X;var pt=r.alternate;pt!==null&&(pt=pt.updateQueue,H=pt.lastBaseUpdate,H!==k&&(H===null?pt.firstBaseUpdate=it:H.next=it,pt.lastBaseUpdate=X))}if(_!==null){var mt=v.baseState;k=0,pt=it=X=null,H=_;do{var ot=H.lane&-536870913,lt=ot!==H.lane;if(lt?(Te&ot)===ot:(f&ot)===ot){ot!==0&&ot===Fd&&(yS=!0),pt!==null&&(pt=pt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var Zt=r,$t=H;ot=o;var tn=u;switch($t.tag){case 1:if(Zt=$t.payload,typeof Zt=="function"){mt=Zt.call(tn,mt,ot);break t}mt=Zt;break t;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=$t.payload,ot=typeof Zt=="function"?Zt.call(tn,mt,ot):Zt,ot==null)break t;mt=p({},mt,ot);break t;case 2:Ul=!0}}ot=H.callback,ot!==null&&(r.flags|=64,lt&&(r.flags|=8192),lt=v.callbacks,lt===null?v.callbacks=[ot]:lt.push(ot))}else lt={lane:ot,tag:H.tag,payload:H.payload,callback:H.callback,next:null},pt===null?(it=pt=lt,X=mt):pt=pt.next=lt,k|=ot;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;lt=H,H=lt.next,lt.next=null,v.lastBaseUpdate=lt,v.shared.pending=null}}while(!0);pt===null&&(X=mt),v.baseState=X,v.firstBaseUpdate=it,v.lastBaseUpdate=pt,_===null&&(v.shared.lanes=0),Yl|=k,r.lanes=k,r.memoizedState=mt}}function vI(r,o){if(typeof r!="function")throw Error(n(191,r));r.call(o)}function bI(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)vI(u[r],o)}var Ud=rt(null),Hb=rt(0);function _I(r,o){r=Po,st(Hb,r),st(Ud,o),Po=r|o.baseLanes}function vS(){st(Hb,Po),st(Ud,Ud.current)}function bS(){Po=Hb.current,ut(Ud),ut(Hb)}var jl=0,he=null,Ze=null,Zn=null,$b=!1,Bd=!1,Pu=!1,qb=0,qg=0,zd=null,TV=0;function jn(){throw Error(n(321))}function _S(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ns(r[u],o[u]))return!1;return!0}function ES(r,o,u,f,v,_){return jl=_,he=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=r===null||r.memoizedState===null?ik:sk,Pu=!1,_=u(f,v),Pu=!1,Bd&&(_=AI(o,u,f,v)),EI(r),_}function EI(r){Y.H=Qb;var o=Ze!==null&&Ze.next!==null;if(jl=0,Zn=Ze=he=null,$b=!1,qg=0,zd=null,o)throw Error(n(300));r===null||Si||(r=r.dependencies,r!==null&&Vb(r)&&(Si=!0))}function AI(r,o,u,f){he=r;var v=0;do{if(Bd&&(zd=null),qg=0,Bd=!1,25<=v)throw Error(n(301));if(v+=1,Zn=Ze=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=MV,_=o(u,f)}while(Bd);return _}function xV(){var r=Y.H,o=r.useState()[0];return o=typeof o.then=="function"?Gg(o):o,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(he.flags|=1024),o}function AS(){var r=qb!==0;return qb=0,r}function SS(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function wS(r){if($b){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}$b=!1}jl=0,Zn=Ze=he=null,Bd=!1,qg=qb=0,zd=null}function As(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?he.memoizedState=Zn=r:Zn=Zn.next=r,Zn}function Jn(){if(Ze===null){var r=he.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var o=Zn===null?he.memoizedState:Zn.next;if(o!==null)Zn=o,Ze=r;else{if(r===null)throw he.alternate===null?Error(n(467)):Error(n(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Zn===null?he.memoizedState=Zn=r:Zn=Zn.next=r}return Zn}function TS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gg(r){var o=qg;return qg+=1,zd===null&&(zd=[]),r=gI(zd,r,o),o=he,(Zn===null?o.memoizedState:Zn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?ik:sk),r}function Gb(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Gg(r);if(r.$$typeof===M)return Wi(r)}throw Error(n(438,String(r)))}function xS(r){var o=null,u=he.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=he.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=TS(),he.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=T;return o.index++,u}function To(r,o){return typeof o=="function"?o(r):o}function Wb(r){var o=Jn();return CS(o,Ze,r)}function CS(r,o,u){var f=r.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var v=r.baseQueue,_=f.pending;if(_!==null){if(v!==null){var k=v.next;v.next=_.next,_.next=k}o.baseQueue=v=_,f.pending=null}if(_=r.baseState,v===null)r.memoizedState=_;else{o=v.next;var H=k=null,X=null,it=o,pt=!1;do{var mt=it.lane&-536870913;if(mt!==it.lane?(Te&mt)===mt:(jl&mt)===mt){var ot=it.revertLane;if(ot===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),mt===Fd&&(pt=!0);else if((jl&ot)===ot){it=it.next,ot===Fd&&(pt=!0);continue}else mt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},X===null?(H=X=mt,k=_):X=X.next=mt,he.lanes|=ot,Yl|=ot;mt=it.action,Pu&&u(_,mt),_=it.hasEagerState?it.eagerState:u(_,mt)}else ot={lane:mt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},X===null?(H=X=ot,k=_):X=X.next=ot,he.lanes|=mt,Yl|=mt;it=it.next}while(it!==null&&it!==o);if(X===null?k=_:X.next=H,!Ns(_,r.memoizedState)&&(Si=!0,pt&&(u=Vd,u!==null)))throw u;r.memoizedState=_,r.baseState=k,r.baseQueue=X,f.lastRenderedState=_}return v===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function RS(r){var o=Jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do _=r(_,k.action),k=k.next;while(k!==v);Ns(_,o.memoizedState)||(Si=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function SI(r,o,u){var f=he,v=Jn(),_=Le;if(_){if(u===void 0)throw Error(n(407));u=u()}else u=o();var k=!Ns((Ze||v).memoizedState,u);k&&(v.memoizedState=u,Si=!0),v=v.queue;var H=xI.bind(null,f,v,r);if(Wg(2048,8,H,[r]),v.getSnapshot!==o||k||Zn!==null&&Zn.memoizedState.tag&1){if(f.flags|=2048,jd(9,Kb(),TI.bind(null,f,v,u,o),null),dn===null)throw Error(n(349));_||(jl&124)!==0||wI(f,o,u)}return u}function wI(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=he.updateQueue,o===null?(o=TS(),he.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function TI(r,o,u,f){o.value=u,o.getSnapshot=f,CI(o)&&RI(r)}function xI(r,o,u){return u(function(){CI(o)&&RI(r)})}function CI(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ns(r,u)}catch{return!0}}function RI(r){var o=Od(r,2);o!==null&&js(o,r,2)}function IS(r){var o=As();if(typeof r=="function"){var u=r;if(r=u(),Pu){Xe(!0);try{u()}finally{Xe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:r},o}function II(r,o,u,f){return r.baseState=u,CS(r,Ze,typeof f=="function"?f:To)}function CV(r,o,u,f,v){if(Xb(r))throw Error(n(485));if(r=o.action,r!==null){var _={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){_.listeners.push(k)}};Y.T!==null?u(!0):_.isTransition=!1,f(_),u=o.pending,u===null?(_.next=o.pending=_,kI(o,_)):(_.next=u.next,o.pending=u.next=_)}}function kI(r,o){var u=o.action,f=o.payload,v=r.state;if(o.isTransition){var _=Y.T,k={};Y.T=k;try{var H=u(v,f),X=Y.S;X!==null&&X(k,H),PI(r,o,H)}catch(it){kS(r,o,it)}finally{Y.T=_}}else try{_=u(v,f),PI(r,o,_)}catch(it){kS(r,o,it)}}function PI(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){MI(r,o,f)},function(f){return kS(r,o,f)}):MI(r,o,u)}function MI(r,o,u){o.status="fulfilled",o.value=u,OI(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,kI(r,u)))}function kS(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,OI(o),o=o.next;while(o!==f)}r.action=null}function OI(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function DI(r,o){return o}function LI(r,o){if(Le){var u=dn.formState;if(u!==null){t:{var f=he;if(Le){if(Ln){e:{for(var v=Ln,_=ya;v.nodeType!==8;){if(!_){v=null;break e}if(v=Lr(v.nextSibling),v===null){v=null;break e}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Ln=Lr(v.nextSibling),f=v.data==="F!";break t}}Cu(f)}f=!1}f&&(o=u[0])}}return u=As(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DI,lastRenderedState:o},u.queue=f,u=tk.bind(null,he,f),f.dispatch=u,f=IS(!1),_=LS.bind(null,he,!1,f.queue),f=As(),v={state:o,dispatch:null,action:r,pending:null},f.queue=v,u=CV.bind(null,he,v,_,u),v.dispatch=u,f.memoizedState=r,[o,u,!1]}function NI(r){var o=Jn();return FI(o,Ze,r)}function FI(r,o,u){if(o=CS(r,o,DI)[0],r=Wb(To)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Gg(o)}catch(k){throw k===Bg?zb:k}else f=o;o=Jn();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(he.flags|=2048,jd(9,Kb(),RV.bind(null,v,u),null)),[f,_,r]}function RV(r,o){r.action=o}function VI(r){var o=Jn(),u=Ze;if(u!==null)return FI(o,u,r);Jn(),o=o.memoizedState,u=Jn();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function jd(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=he.updateQueue,o===null&&(o=TS(),he.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Kb(){return{destroy:void 0,resource:void 0}}function UI(){return Jn().memoizedState}function Yb(r,o,u,f){var v=As();f=f===void 0?null:f,he.flags|=r,v.memoizedState=jd(1|o,Kb(),u,f)}function Wg(r,o,u,f){var v=Jn();f=f===void 0?null:f;var _=v.memoizedState.inst;Ze!==null&&f!==null&&_S(f,Ze.memoizedState.deps)?v.memoizedState=jd(o,_,u,f):(he.flags|=r,v.memoizedState=jd(1|o,_,u,f))}function BI(r,o){Yb(8390656,8,r,o)}function zI(r,o){Wg(2048,8,r,o)}function jI(r,o){return Wg(4,2,r,o)}function HI(r,o){return Wg(4,4,r,o)}function $I(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function qI(r,o,u){u=u!=null?u.concat([r]):null,Wg(4,4,$I.bind(null,o,r),u)}function PS(){}function GI(r,o){var u=Jn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&_S(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function WI(r,o){var u=Jn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&_S(o,f[1]))return f[0];if(f=r(),Pu){Xe(!0);try{r()}finally{Xe(!1)}}return u.memoizedState=[f,o],f}function MS(r,o,u){return u===void 0||(jl&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=Xk(),he.lanes|=r,Yl|=r,u)}function KI(r,o,u,f){return Ns(u,o)?u:Ud.current!==null?(r=MS(r,u,f),Ns(r,o)||(Si=!0),r):(jl&42)===0?(Si=!0,r.memoizedState=u):(r=Xk(),he.lanes|=r,Yl|=r,o)}function YI(r,o,u,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var k=Y.T,H={};Y.T=H,LS(r,!1,o,u);try{var X=v(),it=Y.S;if(it!==null&&it(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pt=wV(X,f);Kg(r,o,pt,zs(r))}else Kg(r,o,f,zs(r))}catch(mt){Kg(r,o,{then:function(){},status:"rejected",reason:mt},zs())}finally{Q.p=_,Y.T=k}}function IV(){}function OS(r,o,u,f){if(r.tag!==5)throw Error(n(476));var v=XI(r).queue;YI(r,v,o,at,u===null?IV:function(){return QI(r),u(f)})}function XI(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:at},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function QI(r){var o=XI(r).next.queue;Kg(r,o,{},zs())}function DS(){return Wi(dm)}function ZI(){return Jn().memoizedState}function JI(){return Jn().memoizedState}function kV(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=zs();r=Bl(u);var f=zl(o,r,u);f!==null&&(js(f,o,u),jg(f,o,u)),o={cache:uS()},r.payload=o;return}o=o.return}}function PV(r,o,u){var f=zs();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Xb(r)?ek(o,u):(u=tS(r,o,u,f),u!==null&&(js(u,r,f),nk(u,o,f)))}function tk(r,o,u){var f=zs();Kg(r,o,u,f)}function Kg(r,o,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xb(r))ek(o,v);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var k=o.lastRenderedState,H=_(k,u);if(v.hasEagerState=!0,v.eagerState=H,Ns(H,k))return Ob(r,o,v,0),dn===null&&Mb(),!1}catch{}finally{}if(u=tS(r,o,v,f),u!==null)return js(u,r,f),nk(u,o,f),!0}return!1}function LS(r,o,u,f){if(f={lane:2,revertLane:fw(),action:f,hasEagerState:!1,eagerState:null,next:null},Xb(r)){if(o)throw Error(n(479))}else o=tS(r,u,f,2),o!==null&&js(o,r,2)}function Xb(r){var o=r.alternate;return r===he||o!==null&&o===he}function ek(r,o){Bd=$b=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function nk(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,mg(r,u)}}var Qb={readContext:Wi,use:Gb,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn,useHostTransitionStatus:jn,useFormState:jn,useActionState:jn,useOptimistic:jn,useMemoCache:jn,useCacheRefresh:jn},ik={readContext:Wi,use:Gb,useCallback:function(r,o){return As().memoizedState=[r,o===void 0?null:o],r},useContext:Wi,useEffect:BI,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Yb(4194308,4,$I.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Yb(4194308,4,r,o)},useInsertionEffect:function(r,o){Yb(4,2,r,o)},useMemo:function(r,o){var u=As();o=o===void 0?null:o;var f=r();if(Pu){Xe(!0);try{r()}finally{Xe(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=As();if(u!==void 0){var v=u(o);if(Pu){Xe(!0);try{u(o)}finally{Xe(!1)}}}else v=o;return f.memoizedState=f.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},f.queue=r,r=r.dispatch=PV.bind(null,he,r),[f.memoizedState,r]},useRef:function(r){var o=As();return r={current:r},o.memoizedState=r},useState:function(r){r=IS(r);var o=r.queue,u=tk.bind(null,he,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:PS,useDeferredValue:function(r,o){var u=As();return MS(u,r,o)},useTransition:function(){var r=IS(!1);return r=YI.bind(null,he,r.queue,!0,!1),As().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=he,v=As();if(Le){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),dn===null)throw Error(n(349));(Te&124)!==0||wI(f,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,BI(xI.bind(null,f,_,r),[r]),f.flags|=2048,jd(9,Kb(),TI.bind(null,f,_,u,o),null),u},useId:function(){var r=As(),o=dn.identifierPrefix;if(Le){var u=Ao,f=Eo;u=(f&~(1<<32-Oe(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=qb++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=TV++,o="«"+o+"r"+u.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:DS,useFormState:LI,useActionState:LI,useOptimistic:function(r){var o=As();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=LS.bind(null,he,!0,u),u.dispatch=o,[r,o]},useMemoCache:xS,useCacheRefresh:function(){return As().memoizedState=kV.bind(null,he)}},sk={readContext:Wi,use:Gb,useCallback:GI,useContext:Wi,useEffect:zI,useImperativeHandle:qI,useInsertionEffect:jI,useLayoutEffect:HI,useMemo:WI,useReducer:Wb,useRef:UI,useState:function(){return Wb(To)},useDebugValue:PS,useDeferredValue:function(r,o){var u=Jn();return KI(u,Ze.memoizedState,r,o)},useTransition:function(){var r=Wb(To)[0],o=Jn().memoizedState;return[typeof r=="boolean"?r:Gg(r),o]},useSyncExternalStore:SI,useId:ZI,useHostTransitionStatus:DS,useFormState:NI,useActionState:NI,useOptimistic:function(r,o){var u=Jn();return II(u,Ze,r,o)},useMemoCache:xS,useCacheRefresh:JI},MV={readContext:Wi,use:Gb,useCallback:GI,useContext:Wi,useEffect:zI,useImperativeHandle:qI,useInsertionEffect:jI,useLayoutEffect:HI,useMemo:WI,useReducer:RS,useRef:UI,useState:function(){return RS(To)},useDebugValue:PS,useDeferredValue:function(r,o){var u=Jn();return Ze===null?MS(u,r,o):KI(u,Ze.memoizedState,r,o)},useTransition:function(){var r=RS(To)[0],o=Jn().memoizedState;return[typeof r=="boolean"?r:Gg(r),o]},useSyncExternalStore:SI,useId:ZI,useHostTransitionStatus:DS,useFormState:VI,useActionState:VI,useOptimistic:function(r,o){var u=Jn();return Ze!==null?II(u,Ze,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:xS,useCacheRefresh:JI},Hd=null,Yg=0;function Zb(r){var o=Yg;return Yg+=1,Hd===null&&(Hd=[]),gI(Hd,r,o)}function Xg(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Jb(r,o){throw o.$$typeof===y?Error(n(525)):(r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function rk(r){var o=r._init;return o(r._payload)}function ak(r){function o(J,Z){if(r){var et=J.deletions;et===null?(J.deletions=[Z],J.flags|=16):et.push(Z)}}function u(J,Z){if(!r)return null;for(;Z!==null;)o(J,Z),Z=Z.sibling;return null}function f(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function v(J,Z){return J=_o(J,Z),J.index=0,J.sibling=null,J}function _(J,Z,et){return J.index=et,r?(et=J.alternate,et!==null?(et=et.index,et<Z?(J.flags|=67108866,Z):et):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function k(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function H(J,Z,et,gt){return Z===null||Z.tag!==6?(Z=nS(et,J.mode,gt),Z.return=J,Z):(Z=v(Z,et),Z.return=J,Z)}function X(J,Z,et,gt){var Pt=et.type;return Pt===A?pt(J,Z,et.props.children,gt,et.key):Z!==null&&(Z.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===I&&rk(Pt)===Z.type)?(Z=v(Z,et.props),Xg(Z,et),Z.return=J,Z):(Z=Lb(et.type,et.key,et.props,null,J.mode,gt),Xg(Z,et),Z.return=J,Z)}function it(J,Z,et,gt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==et.containerInfo||Z.stateNode.implementation!==et.implementation?(Z=iS(et,J.mode,gt),Z.return=J,Z):(Z=v(Z,et.children||[]),Z.return=J,Z)}function pt(J,Z,et,gt,Pt){return Z===null||Z.tag!==7?(Z=Su(et,J.mode,gt,Pt),Z.return=J,Z):(Z=v(Z,et),Z.return=J,Z)}function mt(J,Z,et){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=nS(""+Z,J.mode,et),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return et=Lb(Z.type,Z.key,Z.props,null,J.mode,et),Xg(et,Z),et.return=J,et;case E:return Z=iS(Z,J.mode,et),Z.return=J,Z;case I:var gt=Z._init;return Z=gt(Z._payload),mt(J,Z,et)}if(nt(Z)||q(Z))return Z=Su(Z,J.mode,et,null),Z.return=J,Z;if(typeof Z.then=="function")return mt(J,Zb(Z),et);if(Z.$$typeof===M)return mt(J,Ub(J,Z),et);Jb(J,Z)}return null}function ot(J,Z,et,gt){var Pt=Z!==null?Z.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Pt!==null?null:H(J,Z,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return et.key===Pt?X(J,Z,et,gt):null;case E:return et.key===Pt?it(J,Z,et,gt):null;case I:return Pt=et._init,et=Pt(et._payload),ot(J,Z,et,gt)}if(nt(et)||q(et))return Pt!==null?null:pt(J,Z,et,gt,null);if(typeof et.then=="function")return ot(J,Z,Zb(et),gt);if(et.$$typeof===M)return ot(J,Z,Ub(J,et),gt);Jb(J,et)}return null}function lt(J,Z,et,gt,Pt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return J=J.get(et)||null,H(Z,J,""+gt,Pt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case b:return J=J.get(gt.key===null?et:gt.key)||null,X(Z,J,gt,Pt);case E:return J=J.get(gt.key===null?et:gt.key)||null,it(Z,J,gt,Pt);case I:var ge=gt._init;return gt=ge(gt._payload),lt(J,Z,et,gt,Pt)}if(nt(gt)||q(gt))return J=J.get(et)||null,pt(Z,J,gt,Pt,null);if(typeof gt.then=="function")return lt(J,Z,et,Zb(gt),Pt);if(gt.$$typeof===M)return lt(J,Z,et,Ub(Z,gt),Pt);Jb(Z,gt)}return null}function Zt(J,Z,et,gt){for(var Pt=null,ge=null,Ut=Z,Yt=Z=0,Ti=null;Ut!==null&&Yt<et.length;Yt++){Ut.index>Yt?(Ti=Ut,Ut=null):Ti=Ut.sibling;var Me=ot(J,Ut,et[Yt],gt);if(Me===null){Ut===null&&(Ut=Ti);break}r&&Ut&&Me.alternate===null&&o(J,Ut),Z=_(Me,Z,Yt),ge===null?Pt=Me:ge.sibling=Me,ge=Me,Ut=Ti}if(Yt===et.length)return u(J,Ut),Le&&Tu(J,Yt),Pt;if(Ut===null){for(;Yt<et.length;Yt++)Ut=mt(J,et[Yt],gt),Ut!==null&&(Z=_(Ut,Z,Yt),ge===null?Pt=Ut:ge.sibling=Ut,ge=Ut);return Le&&Tu(J,Yt),Pt}for(Ut=f(Ut);Yt<et.length;Yt++)Ti=lt(Ut,J,Yt,et[Yt],gt),Ti!==null&&(r&&Ti.alternate!==null&&Ut.delete(Ti.key===null?Yt:Ti.key),Z=_(Ti,Z,Yt),ge===null?Pt=Ti:ge.sibling=Ti,ge=Ti);return r&&Ut.forEach(function(sc){return o(J,sc)}),Le&&Tu(J,Yt),Pt}function $t(J,Z,et,gt){if(et==null)throw Error(n(151));for(var Pt=null,ge=null,Ut=Z,Yt=Z=0,Ti=null,Me=et.next();Ut!==null&&!Me.done;Yt++,Me=et.next()){Ut.index>Yt?(Ti=Ut,Ut=null):Ti=Ut.sibling;var sc=ot(J,Ut,Me.value,gt);if(sc===null){Ut===null&&(Ut=Ti);break}r&&Ut&&sc.alternate===null&&o(J,Ut),Z=_(sc,Z,Yt),ge===null?Pt=sc:ge.sibling=sc,ge=sc,Ut=Ti}if(Me.done)return u(J,Ut),Le&&Tu(J,Yt),Pt;if(Ut===null){for(;!Me.done;Yt++,Me=et.next())Me=mt(J,Me.value,gt),Me!==null&&(Z=_(Me,Z,Yt),ge===null?Pt=Me:ge.sibling=Me,ge=Me);return Le&&Tu(J,Yt),Pt}for(Ut=f(Ut);!Me.done;Yt++,Me=et.next())Me=lt(Ut,J,Yt,Me.value,gt),Me!==null&&(r&&Me.alternate!==null&&Ut.delete(Me.key===null?Yt:Me.key),Z=_(Me,Z,Yt),ge===null?Pt=Me:ge.sibling=Me,ge=Me);return r&&Ut.forEach(function(O6){return o(J,O6)}),Le&&Tu(J,Yt),Pt}function tn(J,Z,et,gt){if(typeof et=="object"&&et!==null&&et.type===A&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case b:t:{for(var Pt=et.key;Z!==null;){if(Z.key===Pt){if(Pt=et.type,Pt===A){if(Z.tag===7){u(J,Z.sibling),gt=v(Z,et.props.children),gt.return=J,J=gt;break t}}else if(Z.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===I&&rk(Pt)===Z.type){u(J,Z.sibling),gt=v(Z,et.props),Xg(gt,et),gt.return=J,J=gt;break t}u(J,Z);break}else o(J,Z);Z=Z.sibling}et.type===A?(gt=Su(et.props.children,J.mode,gt,et.key),gt.return=J,J=gt):(gt=Lb(et.type,et.key,et.props,null,J.mode,gt),Xg(gt,et),gt.return=J,J=gt)}return k(J);case E:t:{for(Pt=et.key;Z!==null;){if(Z.key===Pt)if(Z.tag===4&&Z.stateNode.containerInfo===et.containerInfo&&Z.stateNode.implementation===et.implementation){u(J,Z.sibling),gt=v(Z,et.children||[]),gt.return=J,J=gt;break t}else{u(J,Z);break}else o(J,Z);Z=Z.sibling}gt=iS(et,J.mode,gt),gt.return=J,J=gt}return k(J);case I:return Pt=et._init,et=Pt(et._payload),tn(J,Z,et,gt)}if(nt(et))return Zt(J,Z,et,gt);if(q(et)){if(Pt=q(et),typeof Pt!="function")throw Error(n(150));return et=Pt.call(et),$t(J,Z,et,gt)}if(typeof et.then=="function")return tn(J,Z,Zb(et),gt);if(et.$$typeof===M)return tn(J,Z,Ub(J,et),gt);Jb(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Z!==null&&Z.tag===6?(u(J,Z.sibling),gt=v(Z,et),gt.return=J,J=gt):(u(J,Z),gt=nS(et,J.mode,gt),gt.return=J,J=gt),k(J)):u(J,Z)}return function(J,Z,et,gt){try{Yg=0;var Pt=tn(J,Z,et,gt);return Hd=null,Pt}catch(Ut){if(Ut===Bg||Ut===zb)throw Ut;var ge=Fs(29,Ut,null,J.mode);return ge.lanes=gt,ge.return=J,ge}finally{}}}var $d=ak(!0),ok=ak(!1),pr=rt(null),va=null;function Hl(r){var o=r.alternate;st(di,di.current&1),st(pr,r),va===null&&(o===null||Ud.current!==null||o.memoizedState!==null)&&(va=r)}function lk(r){if(r.tag===22){if(st(di,di.current),st(pr,r),va===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(va=r)}}else $l()}function $l(){st(di,di.current),st(pr,pr.current)}function xo(r){ut(pr),va===r&&(va=null),ut(di)}var di=rt(0);function t0(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Tw(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function NS(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var FS={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=zs(),v=Bl(f);v.payload=o,u!=null&&(v.callback=u),o=zl(r,v,f),o!==null&&(js(o,r,f),jg(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=zs(),v=Bl(f);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=zl(r,v,f),o!==null&&(js(o,r,f),jg(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=zs(),f=Bl(u);f.tag=2,o!=null&&(f.callback=o),o=zl(r,f,u),o!==null&&(js(o,r,u),jg(o,r,u))}};function ck(r,o,u,f,v,_,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,k):o.prototype&&o.prototype.isPureReactComponent?!Mg(u,f)||!Mg(v,_):!0}function uk(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&FS.enqueueReplaceState(o,o.state,null)}function Mu(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}var e0=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function hk(r){e0(r)}function dk(r){console.error(r)}function fk(r){e0(r)}function n0(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function pk(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function VS(r,o,u){return u=Bl(u),u.tag=3,u.payload={element:null},u.callback=function(){n0(r,o)},u}function gk(r){return r=Bl(r),r.tag=3,r}function mk(r,o,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;r.payload=function(){return v(_)},r.callback=function(){pk(o,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(r.callback=function(){pk(o,u,f),typeof v!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var H=f.stack;this.componentDidCatch(f.value,{componentStack:H!==null?H:""})})}function OV(r,o,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Fg(o,u,v,!0),u=pr.current,u!==null){switch(u.tag){case 13:return va===null?lw():u.alternate===null&&Nn===0&&(Nn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===fS?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),uw(r,f,v)),!1;case 22:return u.flags|=65536,f===fS?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),uw(r,f,v)),!1}throw Error(n(435,u.tag))}return uw(r,f,v),lw(),!1}if(Le)return o=pr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,f!==aS&&(r=Error(n(422),{cause:f}),Ng(ur(r,u)))):(f!==aS&&(o=Error(n(423),{cause:f}),Ng(ur(o,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,f=ur(f,u),v=VS(r.stateNode,f,v),mS(r,v),Nn!==4&&(Nn=2)),!1;var _=Error(n(520),{cause:f});if(_=ur(_,u),im===null?im=[_]:im.push(_),Nn!==4&&(Nn=2),o===null)return!0;f=ur(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=VS(u.stateNode,f,r),mS(u,r),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xl===null||!Xl.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=gk(v),mk(v,r,u,f),mS(u,v),!1}u=u.return}while(u!==null);return!1}var yk=Error(n(461)),Si=!1;function Li(r,o,u,f){o.child=r===null?ok(o,null,u,f):$d(o,r.child,u,f)}function vk(r,o,u,f,v){u=u.render;var _=o.ref;if("ref"in f){var k={};for(var H in f)H!=="ref"&&(k[H]=f[H])}else k=f;return Iu(o),f=ES(r,o,u,k,_,v),H=AS(),r!==null&&!Si?(SS(r,o,v),Co(r,o,v)):(Le&&H&&sS(o),o.flags|=1,Li(r,o,f,v),o.child)}function bk(r,o,u,f,v){if(r===null){var _=u.type;return typeof _=="function"&&!eS(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,_k(r,o,_,f,v)):(r=Lb(u.type,null,f,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(_=r.child,!GS(r,v)){var k=_.memoizedProps;if(u=u.compare,u=u!==null?u:Mg,u(k,f)&&r.ref===o.ref)return Co(r,o,v)}return o.flags|=1,r=_o(_,f),r.ref=o.ref,r.return=o,o.child=r}function _k(r,o,u,f,v){if(r!==null){var _=r.memoizedProps;if(Mg(_,f)&&r.ref===o.ref)if(Si=!1,o.pendingProps=f=_,GS(r,v))(r.flags&131072)!==0&&(Si=!0);else return o.lanes=r.lanes,Co(r,o,v)}return US(r,o,u,f,v)}function Ek(r,o,u){var f=o.pendingProps,v=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=_!==null?_.baseLanes|u:u,r!==null){for(v=o.child=r.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;o.childLanes=_&~f}else o.childLanes=0,o.child=null;return Ak(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bb(o,_!==null?_.cachePool:null),_!==null?_I(o,_):vS(),lk(o);else return o.lanes=o.childLanes=536870912,Ak(r,o,_!==null?_.baseLanes|u:u,u)}else _!==null?(Bb(o,_.cachePool),_I(o,_),$l(),o.memoizedState=null):(r!==null&&Bb(o,null),vS(),$l());return Li(r,o,v,u),o.child}function Ak(r,o,u,f){var v=dS();return v=v===null?null:{parent:hi._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},r!==null&&Bb(o,null),vS(),lk(o),r!==null&&Fg(r,o,f,!0),null}function i0(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function US(r,o,u,f,v){return Iu(o),u=ES(r,o,u,f,void 0,v),f=AS(),r!==null&&!Si?(SS(r,o,v),Co(r,o,v)):(Le&&f&&sS(o),o.flags|=1,Li(r,o,u,v),o.child)}function Sk(r,o,u,f,v,_){return Iu(o),o.updateQueue=null,u=AI(o,f,u,v),EI(r),f=AS(),r!==null&&!Si?(SS(r,o,_),Co(r,o,_)):(Le&&f&&sS(o),o.flags|=1,Li(r,o,u,_),o.child)}function wk(r,o,u,f,v){if(Iu(o),o.stateNode===null){var _=Dd,k=u.contextType;typeof k=="object"&&k!==null&&(_=Wi(k)),_=new u(f,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=FS,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=f,_.state=o.memoizedState,_.refs={},pS(o),k=u.contextType,_.context=typeof k=="object"&&k!==null?Wi(k):Dd,_.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(NS(o,u,k,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(k=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),k!==_.state&&FS.enqueueReplaceState(_,_.state,null),$g(o,f,_,v),Hg(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){_=o.stateNode;var H=o.memoizedProps,X=Mu(u,H);_.props=X;var it=_.context,pt=u.contextType;k=Dd,typeof pt=="object"&&pt!==null&&(k=Wi(pt));var mt=u.getDerivedStateFromProps;pt=typeof mt=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,pt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||it!==k)&&uk(o,_,f,k),Ul=!1;var ot=o.memoizedState;_.state=ot,$g(o,f,_,v),Hg(),it=o.memoizedState,H||ot!==it||Ul?(typeof mt=="function"&&(NS(o,u,mt,f),it=o.memoizedState),(X=Ul||ck(o,u,X,f,ot,it,k))?(pt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=it),_.props=f,_.state=it,_.context=k,f=X):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{_=o.stateNode,gS(r,o),k=o.memoizedProps,pt=Mu(u,k),_.props=pt,mt=o.pendingProps,ot=_.context,it=u.contextType,X=Dd,typeof it=="object"&&it!==null&&(X=Wi(it)),H=u.getDerivedStateFromProps,(it=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==mt||ot!==X)&&uk(o,_,f,X),Ul=!1,ot=o.memoizedState,_.state=ot,$g(o,f,_,v),Hg();var lt=o.memoizedState;k!==mt||ot!==lt||Ul||r!==null&&r.dependencies!==null&&Vb(r.dependencies)?(typeof H=="function"&&(NS(o,u,H,f),lt=o.memoizedState),(pt=Ul||ck(o,u,pt,f,ot,lt,X)||r!==null&&r.dependencies!==null&&Vb(r.dependencies))?(it||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,lt,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,lt,X)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=lt),_.props=f,_.state=lt,_.context=X,f=pt):(typeof _.componentDidUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&ot===r.memoizedState||(o.flags|=1024),f=!1)}return _=f,i0(r,o),f=(o.flags&128)!==0,_||f?(_=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,r!==null&&f?(o.child=$d(o,r.child,null,v),o.child=$d(o,null,u,v)):Li(r,o,u,v),o.memoizedState=_.state,r=o.child):r=Co(r,o,v),r}function Tk(r,o,u,f){return Lg(),o.flags|=256,Li(r,o,u,f),o.child}var BS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zS(r){return{baseLanes:r,cachePool:dI()}}function jS(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=gr),r}function xk(r,o,u){var f=o.pendingProps,v=!1,_=(o.flags&128)!==0,k;if((k=_)||(k=r!==null&&r.memoizedState===null?!1:(di.current&2)!==0),k&&(v=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,r===null){if(Le){if(v?Hl(o):$l(),Le){var H=Ln,X;if(X=H){t:{for(X=H,H=ya;X.nodeType!==8;){if(!H){H=null;break t}if(X=Lr(X.nextSibling),X===null){H=null;break t}}H=X}H!==null?(o.memoizedState={dehydrated:H,treeContext:wu!==null?{id:Eo,overflow:Ao}:null,retryLane:536870912,hydrationErrors:null},X=Fs(18,null,null,0),X.stateNode=H,X.return=o,o.child=X,ps=o,Ln=null,X=!0):X=!1}X||Cu(o)}if(H=o.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Tw(H)?o.lanes=32:o.lanes=536870912,null;xo(o)}return H=f.children,f=f.fallback,v?($l(),v=o.mode,H=s0({mode:"hidden",children:H},v),f=Su(f,v,u,null),H.return=o,f.return=o,H.sibling=f,o.child=H,v=o.child,v.memoizedState=zS(u),v.childLanes=jS(r,k,u),o.memoizedState=BS,f):(Hl(o),HS(o,H))}if(X=r.memoizedState,X!==null&&(H=X.dehydrated,H!==null)){if(_)o.flags&256?(Hl(o),o.flags&=-257,o=$S(r,o,u)):o.memoizedState!==null?($l(),o.child=r.child,o.flags|=128,o=null):($l(),v=f.fallback,H=o.mode,f=s0({mode:"visible",children:f.children},H),v=Su(v,H,u,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,$d(o,r.child,null,u),f=o.child,f.memoizedState=zS(u),f.childLanes=jS(r,k,u),o.memoizedState=BS,o=v);else if(Hl(o),Tw(H)){if(k=H.nextSibling&&H.nextSibling.dataset,k)var it=k.dgst;k=it,f=Error(n(419)),f.stack="",f.digest=k,Ng({value:f,source:null,stack:null}),o=$S(r,o,u)}else if(Si||Fg(r,o,u,!1),k=(u&r.childLanes)!==0,Si||k){if(k=dn,k!==null&&(f=u&-u,f=(f&42)!==0?1:Pl(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==X.retryLane))throw X.retryLane=f,Od(r,f),js(k,r,f),yk;H.data==="$?"||lw(),o=$S(r,o,u)}else H.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=X.treeContext,Ln=Lr(H.nextSibling),ps=o,Le=!0,xu=null,ya=!1,r!==null&&(dr[fr++]=Eo,dr[fr++]=Ao,dr[fr++]=wu,Eo=r.id,Ao=r.overflow,wu=o),o=HS(o,f.children),o.flags|=4096);return o}return v?($l(),v=f.fallback,H=o.mode,X=r.child,it=X.sibling,f=_o(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,it!==null?v=_o(it,v):(v=Su(v,H,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,H=r.child.memoizedState,H===null?H=zS(u):(X=H.cachePool,X!==null?(it=hi._currentValue,X=X.parent!==it?{parent:it,pool:it}:X):X=dI(),H={baseLanes:H.baseLanes|u,cachePool:X}),v.memoizedState=H,v.childLanes=jS(r,k,u),o.memoizedState=BS,f):(Hl(o),u=r.child,r=u.sibling,u=_o(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(k=o.deletions,k===null?(o.deletions=[r],o.flags|=16):k.push(r)),o.child=u,o.memoizedState=null,u)}function HS(r,o){return o=s0({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function s0(r,o){return r=Fs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $S(r,o,u){return $d(o,r.child,null,u),r=HS(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Ck(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),lS(r.return,o,u)}function qS(r,o,u,f,v){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v)}function Rk(r,o,u){var f=o.pendingProps,v=f.revealOrder,_=f.tail;if(Li(r,o,f.children,u),f=di.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ck(r,u,o);else if(r.tag===19)Ck(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(st(di,f),v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&t0(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),qS(o,!1,v,u,_);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&t0(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}qS(o,!0,u,null,_);break;case"together":qS(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Co(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Yl|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Fg(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,u=_o(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=_o(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function GS(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Vb(r)))}function DV(r,o,u){switch(o.tag){case 3:Bt(o,o.stateNode.containerInfo),Vl(o,hi,r.memoizedState.cache),Lg();break;case 27:case 5:Et(o);break;case 4:Bt(o,o.stateNode.containerInfo);break;case 10:Vl(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Hl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?xk(r,o,u):(Hl(o),r=Co(r,o,u),r!==null?r.sibling:null);Hl(o);break;case 19:var v=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Fg(r,o,u,!1),f=(u&o.childLanes)!==0),v){if(f)return Rk(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),st(di,di.current),f)break;return null;case 22:case 23:return o.lanes=0,Ek(r,o,u);case 24:Vl(o,hi,r.memoizedState.cache)}return Co(r,o,u)}function Ik(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Si=!0;else{if(!GS(r,u)&&(o.flags&128)===0)return Si=!1,DV(r,o,u);Si=(r.flags&131072)!==0}else Si=!1,Le&&(o.flags&1048576)!==0&&rI(o,Fb,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,v=f._init;if(f=v(f._payload),o.type=f,typeof f=="function")eS(f)?(r=Mu(f,r),o.tag=1,o=wk(null,o,f,r,u)):(o.tag=0,o=US(null,o,f,r,u));else{if(f!=null){if(v=f.$$typeof,v===P){o.tag=11,o=vk(null,o,f,r,u);break t}else if(v===D){o.tag=14,o=bk(null,o,f,r,u);break t}}throw o=ct(f)||f,Error(n(306,o,""))}}return o;case 0:return US(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,v=Mu(f,o.pendingProps),wk(r,o,f,v,u);case 3:t:{if(Bt(o,o.stateNode.containerInfo),r===null)throw Error(n(387));f=o.pendingProps;var _=o.memoizedState;v=_.element,gS(r,o),$g(o,f,null,u);var k=o.memoizedState;if(f=k.cache,Vl(o,hi,f),f!==_.cache&&cS(o,[hi],u,!0),Hg(),f=k.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Tk(r,o,f,u);break t}else if(f!==v){v=ur(Error(n(424)),o),Ng(v),o=Tk(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ln=Lr(r.firstChild),ps=o,Le=!0,xu=null,ya=!0,u=ok(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Lg(),f===v){o=Co(r,o,u);break t}Li(r,o,f,u)}o=o.child}return o;case 26:return i0(r,o),r===null?(u=O2(o.type,null,o.pendingProps,null))?o.memoizedState=u:Le||(u=o.type,r=o.pendingProps,f=v0(_t.current).createElement(u),f[li]=o,f[Xn]=r,Fi(f,u,r),zn(f),o.stateNode=f):o.memoizedState=O2(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Et(o),r===null&&Le&&(f=o.stateNode=k2(o.type,o.pendingProps,_t.current),ps=o,ya=!0,v=Ln,Jl(o.type)?(xw=v,Ln=Lr(f.firstChild)):Ln=v),Li(r,o,o.pendingProps.children,u),i0(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Le&&((v=f=Ln)&&(f=l6(f,o.type,o.pendingProps,ya),f!==null?(o.stateNode=f,ps=o,Ln=Lr(f.firstChild),ya=!1,v=!0):v=!1),v||Cu(o)),Et(o),v=o.type,_=o.pendingProps,k=r!==null?r.memoizedProps:null,f=_.children,Aw(v,_)?f=null:k!==null&&Aw(v,k)&&(o.flags|=32),o.memoizedState!==null&&(v=ES(r,o,xV,null,null,u),dm._currentValue=v),i0(r,o),Li(r,o,f,u),o.child;case 6:return r===null&&Le&&((r=u=Ln)&&(u=c6(u,o.pendingProps,ya),u!==null?(o.stateNode=u,ps=o,Ln=null,r=!0):r=!1),r||Cu(o)),null;case 13:return xk(r,o,u);case 4:return Bt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=$d(o,null,f,u):Li(r,o,f,u),o.child;case 11:return vk(r,o,o.type,o.pendingProps,u);case 7:return Li(r,o,o.pendingProps,u),o.child;case 8:return Li(r,o,o.pendingProps.children,u),o.child;case 12:return Li(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Vl(o,o.type,f.value),Li(r,o,f.children,u),o.child;case 9:return v=o.type._context,f=o.pendingProps.children,Iu(o),v=Wi(v),f=f(v),o.flags|=1,Li(r,o,f,u),o.child;case 14:return bk(r,o,o.type,o.pendingProps,u);case 15:return _k(r,o,o.type,o.pendingProps,u);case 19:return Rk(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=s0(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=_o(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Ek(r,o,u);case 24:return Iu(o),f=Wi(hi),r===null?(v=dS(),v===null&&(v=dn,_=uS(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:f,cache:v},pS(o),Vl(o,hi,v)):((r.lanes&u)!==0&&(gS(r,o),$g(o,null,null,u),Hg()),v=r.memoizedState,_=o.memoizedState,v.parent!==f?(v={parent:f,cache:f},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Vl(o,hi,f)):(f=_.cache,Vl(o,hi,f),f!==v.cache&&cS(o,[hi],u,!0))),Li(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ro(r){r.flags|=4}function kk(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!V2(o)){if(o=pr.current,o!==null&&((Te&4194048)===Te?va!==null:(Te&62914560)!==Te&&(Te&536870912)===0||o!==va))throw zg=fS,fI;r.flags|=8192}}function r0(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?pg():536870912,r.lanes|=o,Kd|=o)}function Qg(r,o){if(!Le)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function wn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function LV(r,o,u){var f=o.pendingProps;switch(rS(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(o),null;case 1:return wn(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),wo(hi),jt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Dg(o)?Ro(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,lI())),wn(o),null;case 26:return u=o.memoizedState,r===null?(Ro(o),u!==null?(wn(o),kk(o,u)):(wn(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Ro(o),wn(o),kk(o,u)):(wn(o),o.flags&=-16777217):(r.memoizedProps!==f&&Ro(o),wn(o),o.flags&=-16777217),null;case 27:Ht(o),u=_t.current;var v=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Ro(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return wn(o),null}r=vt.current,Dg(o)?aI(o):(r=k2(v,f,u),o.stateNode=r,Ro(o))}return wn(o),null;case 5:if(Ht(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Ro(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return wn(o),null}if(r=vt.current,Dg(o))aI(o);else{switch(v=v0(_t.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}r[li]=o,r[Xn]=f;t:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break t;for(;v.sibling===null;){if(v.return===null||v.return===o)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=r;t:switch(Fi(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ro(o)}}return wn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Ro(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(r=_t.current,Dg(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,v=ps,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}r[li]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||S2(r.nodeValue,u)),r||Cu(o)}else r=v0(r).createTextNode(f),r[li]=o,o.stateNode=r}return wn(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Dg(o),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[li]=o}else Lg(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wn(o),v=!1}else v=lI(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(xo(o),o):(xo(o),null)}if(xo(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),r0(o,o.updateQueue),wn(o),null;case 4:return jt(),r===null&&yw(o.stateNode.containerInfo),wn(o),null;case 10:return wo(o.type),wn(o),null;case 19:if(ut(di),v=o.memoizedState,v===null)return wn(o),null;if(f=(o.flags&128)!==0,_=v.rendering,_===null)if(f)Qg(v,!1);else{if(Nn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(_=t0(r),_!==null){for(o.flags|=128,Qg(v,!1),r=_.updateQueue,o.updateQueue=r,r0(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)sI(u,r),u=u.sibling;return st(di,di.current&1|2),o.child}r=r.sibling}v.tail!==null&&fe()>l0&&(o.flags|=128,f=!0,Qg(v,!1),o.lanes=4194304)}else{if(!f)if(r=t0(_),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,r0(o,r),Qg(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Le)return wn(o),null}else 2*fe()-v.renderingStartTime>l0&&u!==536870912&&(o.flags|=128,f=!0,Qg(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(r=v.last,r!==null?r.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=fe(),o.sibling=null,r=di.current,st(di,f?r&1|2:r&1),o):(wn(o),null);case 22:case 23:return xo(o),bS(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(wn(o),o.subtreeFlags&6&&(o.flags|=8192)):wn(o),u=o.updateQueue,u!==null&&r0(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&ut(ku),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),wo(hi),wn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function NV(r,o){switch(rS(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return wo(hi),jt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ht(o),null;case 13:if(xo(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Lg()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ut(di),null;case 4:return jt(),null;case 10:return wo(o.type),null;case 22:case 23:return xo(o),bS(),r!==null&&ut(ku),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return wo(hi),null;case 25:return null;default:return null}}function Pk(r,o){switch(rS(o),o.tag){case 3:wo(hi),jt();break;case 26:case 27:case 5:Ht(o);break;case 4:jt();break;case 13:xo(o);break;case 19:ut(di);break;case 10:wo(o.type);break;case 22:case 23:xo(o),bS(),r!==null&&ut(ku);break;case 24:wo(hi)}}function Zg(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&r)===r){f=void 0;var _=u.create,k=u.inst;f=_(),k.destroy=f}u=u.next}while(u!==v)}}catch(H){an(o,o.return,H)}}function ql(r,o,u){try{var f=o.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&r)===r){var k=f.inst,H=k.destroy;if(H!==void 0){k.destroy=void 0,v=o;var X=u,it=H;try{it()}catch(pt){an(v,X,pt)}}}f=f.next}while(f!==_)}}catch(pt){an(o,o.return,pt)}}function Mk(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{bI(o,u)}catch(f){an(r,r.return,f)}}}function Ok(r,o,u){u.props=Mu(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){an(r,o,f)}}function Jg(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(v){an(r,o,v)}}function ba(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){an(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){an(r,o,v)}else u.current=null}function Dk(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){an(r,r.return,v)}}function WS(r,o,u){try{var f=r.stateNode;i6(f,r.type,u,o),f[Xn]=o}catch(v){an(r,r.return,v)}}function Lk(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Jl(r.type)||r.tag===4}function KS(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Lk(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Jl(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function YS(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=y0));else if(f!==4&&(f===27&&Jl(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(YS(r,o,u),r=r.sibling;r!==null;)YS(r,o,u),r=r.sibling}function a0(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&Jl(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(a0(r,o,u),r=r.sibling;r!==null;)a0(r,o,u),r=r.sibling}function Nk(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Fi(o,f,u),o[li]=r,o[Xn]=u}catch(_){an(r,r.return,_)}}var Io=!1,Hn=!1,XS=!1,Fk=typeof WeakSet=="function"?WeakSet:Set,wi=null;function FV(r,o){if(r=r.containerInfo,_w=w0,r=KR(r),KA(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break t}var k=0,H=-1,X=-1,it=0,pt=0,mt=r,ot=null;e:for(;;){for(var lt;mt!==u||v!==0&&mt.nodeType!==3||(H=k+v),mt!==_||f!==0&&mt.nodeType!==3||(X=k+f),mt.nodeType===3&&(k+=mt.nodeValue.length),(lt=mt.firstChild)!==null;)ot=mt,mt=lt;for(;;){if(mt===r)break e;if(ot===u&&++it===v&&(H=k),ot===_&&++pt===f&&(X=k),(lt=mt.nextSibling)!==null)break;mt=ot,ot=mt.parentNode}mt=lt}u=H===-1||X===-1?null:{start:H,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ew={focusedElem:r,selectionRange:u},w0=!1,wi=o;wi!==null;)if(o=wi,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,wi=r;else for(;wi!==null;){switch(o=wi,_=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var Zt=Mu(u.type,v,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(Zt,_),f.__reactInternalSnapshotBeforeUpdate=r}catch($t){an(u,u.return,$t)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)ww(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ww(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=o.sibling,r!==null){r.return=o.return,wi=r;break}wi=o.return}}function Vk(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Gl(r,u),f&4&&Zg(5,u);break;case 1:if(Gl(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(k){an(u,u.return,k)}else{var v=Mu(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(k){an(u,u.return,k)}}f&64&&Mk(u),f&512&&Jg(u,u.return);break;case 3:if(Gl(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{bI(r,o)}catch(k){an(u,u.return,k)}}break;case 27:o===null&&f&4&&Nk(u);case 26:case 5:Gl(r,u),o===null&&f&4&&Dk(u),f&512&&Jg(u,u.return);break;case 12:Gl(r,u);break;case 13:Gl(r,u),f&4&&zk(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=GV.bind(null,u),u6(r,u))));break;case 22:if(f=u.memoizedState!==null||Io,!f){o=o!==null&&o.memoizedState!==null||Hn,v=Io;var _=Hn;Io=f,(Hn=o)&&!_?Wl(r,u,(u.subtreeFlags&8772)!==0):Gl(r,u),Io=v,Hn=_}break;case 30:break;default:Gl(r,u)}}function Uk(r){var o=r.alternate;o!==null&&(r.alternate=null,Uk(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Dl(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _n=null,Ss=!1;function ko(r,o,u){for(u=u.child;u!==null;)Bk(r,o,u),u=u.sibling}function Bk(r,o,u){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(Re,u)}catch{}switch(u.tag){case 26:Hn||ba(u,o),ko(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Hn||ba(u,o);var f=_n,v=Ss;Jl(u.type)&&(_n=u.stateNode,Ss=!1),ko(r,o,u),lm(u.stateNode),_n=f,Ss=v;break;case 5:Hn||ba(u,o);case 6:if(f=_n,v=Ss,_n=null,ko(r,o,u),_n=f,Ss=v,_n!==null)if(Ss)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(_){an(u,o,_)}else try{_n.removeChild(u.stateNode)}catch(_){an(u,o,_)}break;case 18:_n!==null&&(Ss?(r=_n,R2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),mm(r)):R2(_n,u.stateNode));break;case 4:f=_n,v=Ss,_n=u.stateNode.containerInfo,Ss=!0,ko(r,o,u),_n=f,Ss=v;break;case 0:case 11:case 14:case 15:Hn||ql(2,u,o),Hn||ql(4,u,o),ko(r,o,u);break;case 1:Hn||(ba(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Ok(u,o,f)),ko(r,o,u);break;case 21:ko(r,o,u);break;case 22:Hn=(f=Hn)||u.memoizedState!==null,ko(r,o,u),Hn=f;break;default:ko(r,o,u)}}function zk(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{mm(r)}catch(u){an(o,o.return,u)}}function VV(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Fk),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Fk),o;default:throw Error(n(435,r.tag))}}function QS(r,o){var u=VV(r);o.forEach(function(f){var v=WV.bind(null,r,f);u.has(f)||(u.add(f),f.then(v,v))})}function Vs(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],_=r,k=o,H=k;t:for(;H!==null;){switch(H.tag){case 27:if(Jl(H.type)){_n=H.stateNode,Ss=!1;break t}break;case 5:_n=H.stateNode,Ss=!1;break t;case 3:case 4:_n=H.stateNode.containerInfo,Ss=!0;break t}H=H.return}if(_n===null)throw Error(n(160));Bk(_,k,v),_n=null,Ss=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)jk(o,r),o=o.sibling}var Dr=null;function jk(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Vs(o,r),Us(r),f&4&&(ql(3,r,r.return),Zg(3,r),ql(5,r,r.return));break;case 1:Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),f&64&&Io&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Dr;if(Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,v=v.ownerDocument||v;e:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ou]||_[li]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Fi(_,f,u),_[li]=r,zn(_),f=_;break t;case"link":var k=N2("link","href",v).get(f+(u.href||""));if(k){for(var H=0;H<k.length;H++)if(_=k[H],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(H,1);break e}}_=v.createElement(f),Fi(_,f,u),v.head.appendChild(_);break;case"meta":if(k=N2("meta","content",v).get(f+(u.content||""))){for(H=0;H<k.length;H++)if(_=k[H],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(H,1);break e}}_=v.createElement(f),Fi(_,f,u),v.head.appendChild(_);break;default:throw Error(n(468,f))}_[li]=r,zn(_),f=_}r.stateNode=f}else F2(v,r.type,r.stateNode);else r.stateNode=L2(v,f,r.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?F2(v,r.type,r.stateNode):L2(v,f,r.memoizedProps)):f===null&&r.stateNode!==null&&WS(r,r.memoizedProps,u.memoizedProps)}break;case 27:Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),u!==null&&f&4&&WS(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Vs(o,r),Us(r),f&512&&(Hn||u===null||ba(u,u.return)),r.flags&32){v=r.stateNode;try{ar(v,"")}catch(lt){an(r,r.return,lt)}}f&4&&r.stateNode!=null&&(v=r.memoizedProps,WS(r,v,u!==null?u.memoizedProps:v)),f&1024&&(XS=!0);break;case 6:if(Vs(o,r),Us(r),f&4){if(r.stateNode===null)throw Error(n(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(lt){an(r,r.return,lt)}}break;case 3:if(E0=null,v=Dr,Dr=b0(o.containerInfo),Vs(o,r),Dr=v,Us(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{mm(o.containerInfo)}catch(lt){an(r,r.return,lt)}XS&&(XS=!1,Hk(r));break;case 4:f=Dr,Dr=b0(r.stateNode.containerInfo),Vs(o,r),Us(r),Dr=f;break;case 12:Vs(o,r),Us(r);break;case 13:Vs(o,r),Us(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(iw=fe()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,QS(r,f)));break;case 22:v=r.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,it=Io,pt=Hn;if(Io=it||v,Hn=pt||X,Vs(o,r),Hn=pt,Io=it,Us(r),f&8192)t:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||X||Io||Hn||Ou(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){X=u=o;try{if(_=X.stateNode,v)k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{H=X.stateNode;var mt=X.memoizedProps.style,ot=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;H.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(lt){an(X,X.return,lt)}}}else if(o.tag===6){if(u===null){X=o;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(lt){an(X,X.return,lt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,QS(r,u))));break;case 19:Vs(o,r),Us(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,QS(r,f)));break;case 30:break;case 21:break;default:Vs(o,r),Us(r)}}function Us(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(Lk(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,_=KS(r);a0(r,_,v);break;case 5:var k=u.stateNode;u.flags&32&&(ar(k,""),u.flags&=-33);var H=KS(r);a0(r,H,k);break;case 3:case 4:var X=u.stateNode.containerInfo,it=KS(r);YS(r,it,X);break;default:throw Error(n(161))}}catch(pt){an(r,r.return,pt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Hk(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Hk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Gl(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Vk(r,o.alternate,o),o=o.sibling}function Ou(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ql(4,o,o.return),Ou(o);break;case 1:ba(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Ok(o,o.return,u),Ou(o);break;case 27:lm(o.stateNode);case 26:case 5:ba(o,o.return),Ou(o);break;case 22:o.memoizedState===null&&Ou(o);break;case 30:Ou(o);break;default:Ou(o)}r=r.sibling}}function Wl(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,v=r,_=o,k=_.flags;switch(_.tag){case 0:case 11:case 15:Wl(v,_,u),Zg(4,_);break;case 1:if(Wl(v,_,u),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(it){an(f,f.return,it)}if(f=_,v=f.updateQueue,v!==null){var H=f.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)vI(X[v],H)}catch(it){an(f,f.return,it)}}u&&k&64&&Mk(_),Jg(_,_.return);break;case 27:Nk(_);case 26:case 5:Wl(v,_,u),u&&f===null&&k&4&&Dk(_),Jg(_,_.return);break;case 12:Wl(v,_,u);break;case 13:Wl(v,_,u),u&&k&4&&zk(v,_);break;case 22:_.memoizedState===null&&Wl(v,_,u),Jg(_,_.return);break;case 30:break;default:Wl(v,_,u)}o=o.sibling}}function ZS(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Vg(u))}function JS(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Vg(r))}function _a(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$k(r,o,u,f),o=o.sibling}function $k(r,o,u,f){var v=o.flags;switch(o.tag){case 0:case 11:case 15:_a(r,o,u,f),v&2048&&Zg(9,o);break;case 1:_a(r,o,u,f);break;case 3:_a(r,o,u,f),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Vg(r)));break;case 12:if(v&2048){_a(r,o,u,f),r=o.stateNode;try{var _=o.memoizedProps,k=_.id,H=_.onPostCommit;typeof H=="function"&&H(k,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(X){an(o,o.return,X)}}else _a(r,o,u,f);break;case 13:_a(r,o,u,f);break;case 23:break;case 22:_=o.stateNode,k=o.alternate,o.memoizedState!==null?_._visibility&2?_a(r,o,u,f):tm(r,o):_._visibility&2?_a(r,o,u,f):(_._visibility|=2,qd(r,o,u,f,(o.subtreeFlags&10256)!==0)),v&2048&&ZS(k,o);break;case 24:_a(r,o,u,f),v&2048&&JS(o.alternate,o);break;default:_a(r,o,u,f)}}function qd(r,o,u,f,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=r,k=o,H=u,X=f,it=k.flags;switch(k.tag){case 0:case 11:case 15:qd(_,k,H,X,v),Zg(8,k);break;case 23:break;case 22:var pt=k.stateNode;k.memoizedState!==null?pt._visibility&2?qd(_,k,H,X,v):tm(_,k):(pt._visibility|=2,qd(_,k,H,X,v)),v&&it&2048&&ZS(k.alternate,k);break;case 24:qd(_,k,H,X,v),v&&it&2048&&JS(k.alternate,k);break;default:qd(_,k,H,X,v)}o=o.sibling}}function tm(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,v=f.flags;switch(f.tag){case 22:tm(u,f),v&2048&&ZS(f.alternate,f);break;case 24:tm(u,f),v&2048&&JS(f.alternate,f);break;default:tm(u,f)}o=o.sibling}}var em=8192;function Gd(r){if(r.subtreeFlags&em)for(r=r.child;r!==null;)qk(r),r=r.sibling}function qk(r){switch(r.tag){case 26:Gd(r),r.flags&em&&r.memoizedState!==null&&S6(Dr,r.memoizedState,r.memoizedProps);break;case 5:Gd(r);break;case 3:case 4:var o=Dr;Dr=b0(r.stateNode.containerInfo),Gd(r),Dr=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=em,em=16777216,Gd(r),em=o):Gd(r));break;default:Gd(r)}}function Gk(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function nm(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];wi=f,Kk(f,r)}Gk(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wk(r),r=r.sibling}function Wk(r){switch(r.tag){case 0:case 11:case 15:nm(r),r.flags&2048&&ql(9,r,r.return);break;case 3:nm(r);break;case 12:nm(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,o0(r)):nm(r);break;default:nm(r)}}function o0(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];wi=f,Kk(f,r)}Gk(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ql(8,o,o.return),o0(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,o0(o));break;default:o0(o)}r=r.sibling}}function Kk(r,o){for(;wi!==null;){var u=wi;switch(u.tag){case 0:case 11:case 15:ql(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Vg(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,wi=f;else t:for(u=r;wi!==null;){f=wi;var v=f.sibling,_=f.return;if(Uk(f),f===u){wi=null;break t}if(v!==null){v.return=_,wi=v;break t}wi=_}}}var UV={getCacheForType:function(r){var o=Wi(hi),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},BV=typeof WeakMap=="function"?WeakMap:Map,$e=0,dn=null,ve=null,Te=0,qe=0,Bs=null,Kl=!1,Wd=!1,tw=!1,Po=0,Nn=0,Yl=0,Du=0,ew=0,gr=0,Kd=0,im=null,ws=null,nw=!1,iw=0,l0=1/0,c0=null,Xl=null,Ni=0,Ql=null,Yd=null,Xd=0,sw=0,rw=null,Yk=null,sm=0,aw=null;function zs(){if(($e&2)!==0&&Te!==0)return Te&-Te;if(Y.T!==null){var r=Fd;return r!==0?r:fw()}return Ml()}function Xk(){gr===0&&(gr=(Te&536870912)===0||Le?kl():536870912);var r=pr.current;return r!==null&&(r.flags|=32),gr}function js(r,o,u){(r===dn&&(qe===2||qe===9)||r.cancelPendingCommit!==null)&&(Qd(r,0),Zl(r,Te,gr,!1)),lo(r,u),(($e&2)===0||r!==dn)&&(r===dn&&(($e&2)===0&&(Du|=u),Nn===4&&Zl(r,Te,gr,!1)),Ea(r))}function Qk(r,o,u){if(($e&6)!==0)throw Error(n(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||gn(r,o),v=f?HV(r,o):cw(r,o,!0),_=f;do{if(v===0){Wd&&!f&&Zl(r,o,0,!1);break}else{if(u=r.current.alternate,_&&!zV(u)){v=cw(r,o,!1),_=!1;continue}if(v===2){if(_=o,r.errorRecoveryDisabledLanes&_)var k=0;else k=r.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;t:{var H=r;v=im;var X=H.current.memoizedState.isDehydrated;if(X&&(Qd(H,k).flags|=256),k=cw(H,k,!1),k!==2){if(tw&&!X){H.errorRecoveryDisabledLanes|=_,Du|=_,v=4;break t}_=ws,ws=v,_!==null&&(ws===null?ws=_:ws.push.apply(ws,_))}v=k}if(_=!1,v!==2)continue}}if(v===1){Qd(r,0),Zl(r,o,0,!0);break}t:{switch(f=r,_=v,_){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Zl(f,o,gr,!Kl);break t;case 2:ws=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=iw+300-fe(),10<v)){if(Zl(f,o,gr,!Kl),Pe(f,0,!0)!==0)break t;f.timeoutHandle=x2(Zk.bind(null,f,u,ws,c0,nw,o,gr,Du,Kd,Kl,_,2,-0,0),v);break t}Zk(f,u,ws,c0,nw,o,gr,Du,Kd,Kl,_,0,-0,0)}}break}while(!0);Ea(r)}function Zk(r,o,u,f,v,_,k,H,X,it,pt,mt,ot,lt){if(r.timeoutHandle=-1,mt=o.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(hm={stylesheets:null,count:0,unsuspend:A6},qk(o),mt=w6(),mt!==null)){r.cancelPendingCommit=mt(r2.bind(null,r,o,_,u,f,v,k,H,X,pt,1,ot,lt)),Zl(r,_,k,!it);return}r2(r,o,_,u,f,v,k,H,X)}function zV(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],_=v.getSnapshot;v=v.value;try{if(!Ns(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zl(r,o,u,f){o&=~ew,o&=~Du,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var v=o;0<v;){var _=31-Oe(v),k=1<<_;f[_]=-1,v&=~k}u!==0&&aa(r,u,o)}function u0(){return($e&6)===0?(rm(0),!1):!0}function ow(){if(ve!==null){if(qe===0)var r=ve.return;else r=ve,So=Ru=null,wS(r),Hd=null,Yg=0,r=ve;for(;r!==null;)Pk(r.alternate,r),r=r.return;ve=null}}function Qd(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,r6(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),ow(),dn=r,ve=u=_o(r.current,null),Te=o,qe=0,Bs=null,Kl=!1,Wd=gn(r,o),tw=!1,Kd=gr=ew=Du=Yl=Nn=0,ws=im=null,nw=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var v=31-Oe(f),_=1<<v;o|=r[v],f&=~_}return Po=o,Mb(),u}function Jk(r,o){he=null,Y.H=Qb,o===Bg||o===zb?(o=mI(),qe=3):o===fI?(o=mI(),qe=4):qe=o===yk?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Bs=o,ve===null&&(Nn=1,n0(r,ur(o,r.current)))}function t2(){var r=Y.H;return Y.H=Qb,r===null?Qb:r}function e2(){var r=Y.A;return Y.A=UV,r}function lw(){Nn=4,Kl||(Te&4194048)!==Te&&pr.current!==null||(Wd=!0),(Yl&134217727)===0&&(Du&134217727)===0||dn===null||Zl(dn,Te,gr,!1)}function cw(r,o,u){var f=$e;$e|=2;var v=t2(),_=e2();(dn!==r||Te!==o)&&(c0=null,Qd(r,o)),o=!1;var k=Nn;t:do try{if(qe!==0&&ve!==null){var H=ve,X=Bs;switch(qe){case 8:ow(),k=6;break t;case 3:case 2:case 9:case 6:pr.current===null&&(o=!0);var it=qe;if(qe=0,Bs=null,Zd(r,H,X,it),u&&Wd){k=0;break t}break;default:it=qe,qe=0,Bs=null,Zd(r,H,X,it)}}jV(),k=Nn;break}catch(pt){Jk(r,pt)}while(!0);return o&&r.shellSuspendCounter++,So=Ru=null,$e=f,Y.H=v,Y.A=_,ve===null&&(dn=null,Te=0,Mb()),k}function jV(){for(;ve!==null;)n2(ve)}function HV(r,o){var u=$e;$e|=2;var f=t2(),v=e2();dn!==r||Te!==o?(c0=null,l0=fe()+500,Qd(r,o)):Wd=gn(r,o);t:do try{if(qe!==0&&ve!==null){o=ve;var _=Bs;e:switch(qe){case 1:qe=0,Bs=null,Zd(r,o,_,1);break;case 2:case 9:if(pI(_)){qe=0,Bs=null,i2(o);break}o=function(){qe!==2&&qe!==9||dn!==r||(qe=7),Ea(r)},_.then(o,o);break t;case 3:qe=7;break t;case 4:qe=5;break t;case 7:pI(_)?(qe=0,Bs=null,i2(o)):(qe=0,Bs=null,Zd(r,o,_,7));break;case 5:var k=null;switch(ve.tag){case 26:k=ve.memoizedState;case 5:case 27:var H=ve;if(!k||V2(k)){qe=0,Bs=null;var X=H.sibling;if(X!==null)ve=X;else{var it=H.return;it!==null?(ve=it,h0(it)):ve=null}break e}}qe=0,Bs=null,Zd(r,o,_,5);break;case 6:qe=0,Bs=null,Zd(r,o,_,6);break;case 8:ow(),Nn=6;break t;default:throw Error(n(462))}}$V();break}catch(pt){Jk(r,pt)}while(!0);return So=Ru=null,Y.H=f,Y.A=v,$e=u,ve!==null?0:(dn=null,Te=0,Mb(),Nn)}function $V(){for(;ve!==null&&!Wt();)n2(ve)}function n2(r){var o=Ik(r.alternate,r,Po);r.memoizedProps=r.pendingProps,o===null?h0(r):ve=o}function i2(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Sk(u,o,o.pendingProps,o.type,void 0,Te);break;case 11:o=Sk(u,o,o.pendingProps,o.type.render,o.ref,Te);break;case 5:wS(o);default:Pk(u,o),o=ve=sI(o,Po),o=Ik(u,o,Po)}r.memoizedProps=r.pendingProps,o===null?h0(r):ve=o}function Zd(r,o,u,f){So=Ru=null,wS(o),Hd=null,Yg=0;var v=o.return;try{if(OV(r,v,o,u,Te)){Nn=1,n0(r,ur(u,r.current)),ve=null;return}}catch(_){if(v!==null)throw ve=v,_;Nn=1,n0(r,ur(u,r.current)),ve=null;return}o.flags&32768?(Le||f===1?r=!0:Wd||(Te&536870912)!==0?r=!1:(Kl=r=!0,(f===2||f===9||f===3||f===6)&&(f=pr.current,f!==null&&f.tag===13&&(f.flags|=16384))),s2(o,r)):h0(o)}function h0(r){var o=r;do{if((o.flags&32768)!==0){s2(o,Kl);return}r=o.return;var u=LV(o.alternate,o,Po);if(u!==null){ve=u;return}if(o=o.sibling,o!==null){ve=o;return}ve=o=r}while(o!==null);Nn===0&&(Nn=5)}function s2(r,o){do{var u=NV(r.alternate,r);if(u!==null){u.flags&=32767,ve=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){ve=r;return}ve=r=u}while(r!==null);Nn=6,ve=null}function r2(r,o,u,f,v,_,k,H,X){r.cancelPendingCommit=null;do d0();while(Ni!==0);if(($e&6)!==0)throw Error(n(327));if(o!==null){if(o===r.current)throw Error(n(177));if(_=o.lanes|o.childLanes,_|=JA,gg(r,u,_,k,H,X),r===dn&&(ve=dn=null,Te=0),Yd=o,Ql=r,Xd=u,sw=_,rw=v,Yk=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,KV(pe,function(){return u2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,v=Q.p,Q.p=2,k=$e,$e|=4;try{FV(r,o,u)}finally{$e=k,Q.p=v,Y.T=f}}Ni=1,a2(),o2(),l2()}}function a2(){if(Ni===1){Ni=0;var r=Ql,o=Yd,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var f=Q.p;Q.p=2;var v=$e;$e|=4;try{jk(o,r);var _=Ew,k=KR(r.containerInfo),H=_.focusedElem,X=_.selectionRange;if(k!==H&&H&&H.ownerDocument&&WR(H.ownerDocument.documentElement,H)){if(X!==null&&KA(H)){var it=X.start,pt=X.end;if(pt===void 0&&(pt=it),"selectionStart"in H)H.selectionStart=it,H.selectionEnd=Math.min(pt,H.value.length);else{var mt=H.ownerDocument||document,ot=mt&&mt.defaultView||window;if(ot.getSelection){var lt=ot.getSelection(),Zt=H.textContent.length,$t=Math.min(X.start,Zt),tn=X.end===void 0?$t:Math.min(X.end,Zt);!lt.extend&&$t>tn&&(k=tn,tn=$t,$t=k);var J=GR(H,$t),Z=GR(H,tn);if(J&&Z&&(lt.rangeCount!==1||lt.anchorNode!==J.node||lt.anchorOffset!==J.offset||lt.focusNode!==Z.node||lt.focusOffset!==Z.offset)){var et=mt.createRange();et.setStart(J.node,J.offset),lt.removeAllRanges(),$t>tn?(lt.addRange(et),lt.extend(Z.node,Z.offset)):(et.setEnd(Z.node,Z.offset),lt.addRange(et))}}}}for(mt=[],lt=H;lt=lt.parentNode;)lt.nodeType===1&&mt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<mt.length;H++){var gt=mt[H];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}w0=!!_w,Ew=_w=null}finally{$e=v,Q.p=f,Y.T=u}}r.current=o,Ni=2}}function o2(){if(Ni===2){Ni=0;var r=Ql,o=Yd,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var f=Q.p;Q.p=2;var v=$e;$e|=4;try{Vk(r,o.alternate,o)}finally{$e=v,Q.p=f,Y.T=u}}Ni=3}}function l2(){if(Ni===4||Ni===3){Ni=0,ue();var r=Ql,o=Yd,u=Xd,f=Yk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ni=5:(Ni=0,Yd=Ql=null,c2(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(Xl=null),gd(u),o=o.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(Re,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Y.T,v=Q.p,Q.p=2,Y.T=null;try{for(var _=r.onRecoverableError,k=0;k<f.length;k++){var H=f[k];_(H.value,{componentStack:H.stack})}}finally{Y.T=o,Q.p=v}}(Xd&3)!==0&&d0(),Ea(r),v=r.pendingLanes,(u&4194090)!==0&&(v&42)!==0?r===aw?sm++:(sm=0,aw=r):sm=0,rm(0)}}function c2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Vg(o)))}function d0(r){return a2(),o2(),l2(),u2()}function u2(){if(Ni!==5)return!1;var r=Ql,o=sw;sw=0;var u=gd(Xd),f=Y.T,v=Q.p;try{Q.p=32>u?32:u,Y.T=null,u=rw,rw=null;var _=Ql,k=Xd;if(Ni=0,Yd=Ql=null,Xd=0,($e&6)!==0)throw Error(n(331));var H=$e;if($e|=4,Wk(_.current),$k(_,_.current,k,u),$e=H,rm(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(Re,_)}catch{}return!0}finally{Q.p=v,Y.T=f,c2(r,o)}}function h2(r,o,u){o=ur(u,o),o=VS(r.stateNode,o,2),r=zl(r,o,2),r!==null&&(lo(r,2),Ea(r))}function an(r,o,u){if(r.tag===3)h2(r,r,u);else for(;o!==null;){if(o.tag===3){h2(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xl===null||!Xl.has(f))){r=ur(u,r),u=gk(2),f=zl(o,u,2),f!==null&&(mk(u,f,o,r),lo(f,2),Ea(f));break}}o=o.return}}function uw(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new BV;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(u)||(tw=!0,v.add(u),r=qV.bind(null,r,o,u),o.then(r,r))}function qV(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,dn===r&&(Te&u)===u&&(Nn===4||Nn===3&&(Te&62914560)===Te&&300>fe()-iw?($e&2)===0&&Qd(r,0):ew|=u,Kd===Te&&(Kd=0)),Ea(r)}function d2(r,o){o===0&&(o=pg()),r=Od(r,o),r!==null&&(lo(r,o),Ea(r))}function GV(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),d2(r,u)}function WV(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(o),d2(r,u)}function KV(r,o){return Mt(r,o)}var f0=null,Jd=null,hw=!1,p0=!1,dw=!1,Lu=0;function Ea(r){r!==Jd&&r.next===null&&(Jd===null?f0=Jd=r:Jd=Jd.next=r),p0=!0,hw||(hw=!0,XV())}function rm(r,o){if(!dw&&p0){dw=!0;do for(var u=!1,f=f0;f!==null;){if(r!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var k=f.suspendedLanes,H=f.pingedLanes;_=(1<<31-Oe(42|r)+1)-1,_&=v&~(k&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,m2(f,_))}else _=Te,_=Pe(f,f===dn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||gn(f,_)||(u=!0,m2(f,_));f=f.next}while(u);dw=!1}}function YV(){f2()}function f2(){p0=hw=!1;var r=0;Lu!==0&&(s6()&&(r=Lu),Lu=0);for(var o=fe(),u=null,f=f0;f!==null;){var v=f.next,_=p2(f,o);_===0?(f.next=null,u===null?f0=v:u.next=v,v===null&&(Jd=u)):(u=f,(r!==0||(_&3)!==0)&&(p0=!0)),f=v}rm(r)}function p2(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var k=31-Oe(_),H=1<<k,X=v[k];X===-1?((H&u)===0||(H&f)!==0)&&(v[k]=sr(H,o)):X<=o&&(r.expiredLanes|=H),_&=~H}if(o=dn,u=Te,u=Pe(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(qe===2||qe===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&kt(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||gn(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&kt(f),gd(u)){case 2:case 8:u=He;break;case 32:u=pe;break;case 268435456:u=oi;break;default:u=pe}return f=g2.bind(null,r),u=Mt(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&kt(f),r.callbackPriority=2,r.callbackNode=null,2}function g2(r,o){if(Ni!==0&&Ni!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(d0()&&r.callbackNode!==u)return null;var f=Te;return f=Pe(r,r===dn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Qk(r,f,o),p2(r,fe()),r.callbackNode!=null&&r.callbackNode===u?g2.bind(null,r):null)}function m2(r,o){if(d0())return null;Qk(r,o,!0)}function XV(){a6(function(){($e&6)!==0?Mt(Ue,YV):f2()})}function fw(){return Lu===0&&(Lu=kl()),Lu}function y2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ed(""+r)}function v2(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function QV(r,o,u,f,v){if(o==="submit"&&u&&u.stateNode===v){var _=y2((v[Xn]||null).action),k=f.submitter;k&&(o=(o=k[Xn]||null)?y2(o.formAction):k.getAttribute("formAction"),o!==null&&(_=o,k=null));var H=new Ad("action","action",null,f,v);r.push({event:H,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Lu!==0){var X=k?v2(v,k):new FormData(v);OS(u,{pending:!0,data:X,method:v.method,action:_},null,X)}}else typeof _=="function"&&(H.preventDefault(),X=k?v2(v,k):new FormData(v),OS(u,{pending:!0,data:X,method:v.method,action:_},_,X))},currentTarget:v}]})}}for(var pw=0;pw<ZA.length;pw++){var gw=ZA[pw],ZV=gw.toLowerCase(),JV=gw[0].toUpperCase()+gw.slice(1);Or(ZV,"on"+JV)}Or(QR,"onAnimationEnd"),Or(ZR,"onAnimationIteration"),Or(JR,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(mV,"onTransitionRun"),Or(yV,"onTransitionStart"),Or(vV,"onTransitionCancel"),Or(tI,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(am));function b2(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],v=f.event;f=f.listeners;t:{var _=void 0;if(o)for(var k=f.length-1;0<=k;k--){var H=f[k],X=H.instance,it=H.currentTarget;if(H=H.listener,X!==_&&v.isPropagationStopped())break t;_=H,v.currentTarget=it;try{_(v)}catch(pt){e0(pt)}v.currentTarget=null,_=X}else for(k=0;k<f.length;k++){if(H=f[k],X=H.instance,it=H.currentTarget,H=H.listener,X!==_&&v.isPropagationStopped())break t;_=H,v.currentTarget=it;try{_(v)}catch(pt){e0(pt)}v.currentTarget=null,_=X}}}}function be(r,o){var u=o[yg];u===void 0&&(u=o[yg]=new Set);var f=r+"__bubble";u.has(f)||(_2(o,r,2,!1),u.add(f))}function mw(r,o,u){var f=0;o&&(f|=4),_2(u,r,f,o)}var g0="_reactListening"+Math.random().toString(36).slice(2);function yw(r){if(!r[g0]){r[g0]=!0,vg.forEach(function(u){u!=="selectionchange"&&(t6.has(u)||mw(u,!1,r),mw(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[g0]||(o[g0]=!0,mw("selectionchange",!1,o))}}function _2(r,o,u,f){switch($2(o)){case 2:var v=C6;break;case 8:v=R6;break;default:v=Pw}u=v.bind(null,o,u,r),v=void 0,!lr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function vw(r,o,u,f,v){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var H=f.stateNode.containerInfo;if(H===v)break;if(k===4)for(k=f.return;k!==null;){var X=k.tag;if((X===3||X===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;H!==null;){if(k=co(H),k===null)return;if(X=k.tag,X===5||X===6||X===26||X===27){f=_=k;continue t}H=H.parentNode}}f=f.return}yb(function(){var it=_,pt=or(u),mt=[];t:{var ot=eI.get(r);if(ot!==void 0){var lt=Ad,Zt=r;switch(r){case"keypress":if(da(u)===0)break t;case"keydown":case"keyup":lt=Rd;break;case"focusin":Zt="focus",lt=Td;break;case"focusout":Zt="blur",lt=Td;break;case"beforeblur":case"afterblur":lt=Td;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=$A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Tb;break;case QR:case ZR:case JR:lt=xd;break;case tI:lt=Cb;break;case"scroll":case"scrollend":lt=vb;break;case"wheel":lt=Id;break;case"copy":case"cut":case"paste":lt=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=kg;break;case"toggle":case"beforetoggle":lt=Ib}var $t=(o&4)!==0,tn=!$t&&(r==="scroll"||r==="scrollend"),J=$t?ot!==null?ot+"Capture":null:ot;$t=[];for(var Z=it,et;Z!==null;){var gt=Z;if(et=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||et===null||J===null||(gt=pu(Z,J),gt!=null&&$t.push(om(Z,gt,et))),tn)break;Z=Z.return}0<$t.length&&(ot=new lt(ot,Zt,null,u,pt),mt.push({event:ot,listeners:$t}))}}if((o&7)===0){t:{if(ot=r==="mouseover"||r==="pointerover",lt=r==="mouseout"||r==="pointerout",ot&&u!==po&&(Zt=u.relatedTarget||u.fromElement)&&(co(Zt)||Zt[rr]))break t;if((lt||ot)&&(ot=pt.window===pt?pt:(ot=pt.ownerDocument)?ot.defaultView||ot.parentWindow:window,lt?(Zt=u.relatedTarget||u.toElement,lt=it,Zt=Zt?co(Zt):null,Zt!==null&&(tn=a(Zt),$t=Zt.tag,Zt!==tn||$t!==5&&$t!==27&&$t!==6)&&(Zt=null)):(lt=null,Zt=it),lt!==Zt)){if($t=cr,gt="onMouseLeave",J="onMouseEnter",Z="mouse",(r==="pointerout"||r==="pointerover")&&($t=kg,gt="onPointerLeave",J="onPointerEnter",Z="pointer"),tn=lt==null?ot:la(lt),et=Zt==null?ot:la(Zt),ot=new $t(gt,Z+"leave",lt,u,pt),ot.target=tn,ot.relatedTarget=et,gt=null,co(pt)===it&&($t=new $t(J,Z+"enter",Zt,u,pt),$t.target=et,$t.relatedTarget=tn,gt=$t),tn=gt,lt&&Zt)e:{for($t=lt,J=Zt,Z=0,et=$t;et;et=tf(et))Z++;for(et=0,gt=J;gt;gt=tf(gt))et++;for(;0<Z-et;)$t=tf($t),Z--;for(;0<et-Z;)J=tf(J),et--;for(;Z--;){if($t===J||J!==null&&$t===J.alternate)break e;$t=tf($t),J=tf(J)}$t=null}else $t=null;lt!==null&&E2(mt,ot,lt,$t,!1),Zt!==null&&tn!==null&&E2(mt,tn,Zt,$t,!0)}}t:{if(ot=it?la(it):window,lt=ot.nodeName&&ot.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ot.type==="file")var Pt=BR;else if(ui(ot))if(zR)Pt=fV;else{Pt=hV;var ge=uV}else lt=ot.nodeName,!lt||lt.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?it&&Sg(it.elementType)&&(Pt=BR):Pt=dV;if(Pt&&(Pt=Pt(r,it))){bo(mt,Pt,u,pt);break t}ge&&ge(r,ot,it),r==="focusout"&&it&&ot.type==="number"&&it.memoizedProps.value!=null&&Nl(ot,"number",ot.value)}switch(ge=it?la(it):window,r){case"focusin":(ui(ge)||ge.contentEditable==="true")&&(kd=ge,YA=it,Og=null);break;case"focusout":Og=YA=kd=null;break;case"mousedown":XA=!0;break;case"contextmenu":case"mouseup":case"dragend":XA=!1,YR(mt,u,pt);break;case"selectionchange":if(gV)break;case"keydown":case"keyup":YR(mt,u,pt)}var Ut;if(ga)t:{switch(r){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Se?ht(r,u)&&(Yt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Yt="onCompositionStart");Yt&&(R&&u.locale!=="ko"&&(Se||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Se&&(Ut=Tg()):(ha=pt,Fl="value"in ha?ha.value:ha.textContent,Se=!0)),ge=m0(it,Yt),0<ge.length&&(Yt=new Rg(Yt,r,null,u,pt),mt.push({event:Yt,listeners:ge}),Ut?Yt.data=Ut:(Ut=At(u),Ut!==null&&(Yt.data=Ut)))),(Ut=w?ci(r,u):we(r,u))&&(Yt=m0(it,"onBeforeInput"),0<Yt.length&&(ge=new Rg("onBeforeInput","beforeinput",null,u,pt),mt.push({event:ge,listeners:Yt}),ge.data=Ut)),QV(mt,r,it,u,pt)}b2(mt,o)})}function om(r,o,u){return{instance:r,listener:o,currentTarget:u}}function m0(r,o){for(var u=o+"Capture",f=[];r!==null;){var v=r,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=pu(r,u),v!=null&&f.unshift(om(r,v,_)),v=pu(r,o),v!=null&&f.push(om(r,v,_))),r.tag===3)return f;r=r.return}return[]}function tf(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function E2(r,o,u,f,v){for(var _=o._reactName,k=[];u!==null&&u!==f;){var H=u,X=H.alternate,it=H.stateNode;if(H=H.tag,X!==null&&X===f)break;H!==5&&H!==26&&H!==27||it===null||(X=it,v?(it=pu(u,_),it!=null&&k.unshift(om(u,it,X))):v||(it=pu(u,_),it!=null&&k.push(om(u,it,X)))),u=u.return}k.length!==0&&r.push({event:o,listeners:k})}var e6=/\r\n?/g,n6=/\u0000|\uFFFD/g;function A2(r){return(typeof r=="string"?r:""+r).replace(e6,`
`).replace(n6,"")}function S2(r,o){return o=A2(o),A2(r)===o}function y0(){}function Je(r,o,u,f,v,_){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ar(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ar(r,""+f);break;case"className":ca(r,"class",f);break;case"tabIndex":ca(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ca(r,u,f);break;case"style":Ag(r,f,_);break;case"data":if(o!=="object"){ca(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Ed(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&Je(r,o,"name",v.name,v,null),Je(r,o,"formEncType",v.formEncType,v,null),Je(r,o,"formMethod",v.formMethod,v,null),Je(r,o,"formTarget",v.formTarget,v,null)):(Je(r,o,"encType",v.encType,v,null),Je(r,o,"method",v.method,v,null),Je(r,o,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Ed(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=y0);break;case"onScroll":f!=null&&be("scroll",r);break;case"onScrollEnd":f!=null&&be("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=Ed(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":be("beforetoggle",r),be("toggle",r),Ll(r,"popover",f);break;case"xlinkActuate":Oi(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Oi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Oi(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Oi(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Oi(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Oi(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Oi(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Oi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Oi(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ll(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=jA.get(u)||u,Ll(r,u,f))}}function bw(r,o,u,f,v,_){switch(u){case"style":Ag(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(n(60));r.innerHTML=u}}break;case"children":typeof f=="string"?ar(r,f):(typeof f=="number"||typeof f=="bigint")&&ar(r,""+f);break;case"onScroll":f!=null&&be("scroll",r);break;case"onScrollEnd":f!=null&&be("scrollend",r);break;case"onClick":f!=null&&(r.onclick=y0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=r[Xn]||null,_=_!=null?_[u]:null,typeof _=="function"&&r.removeEventListener(o,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,v);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Ll(r,u,f)}}}function Fi(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",r),be("load",r);var f=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var k=u[_];if(k!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Je(r,o,_,k,u,null)}}v&&Je(r,o,"srcSet",u.srcSet,u,null),f&&Je(r,o,"src",u.src,u,null);return;case"input":be("invalid",r);var H=_=k=v=null,X=null,it=null;for(f in u)if(u.hasOwnProperty(f)){var pt=u[f];if(pt!=null)switch(f){case"name":v=pt;break;case"type":k=pt;break;case"checked":X=pt;break;case"defaultChecked":it=pt;break;case"value":_=pt;break;case"defaultValue":H=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,o));break;default:Je(r,o,f,pt,u,null)}}hu(r,_,H,X,it,k,v,!1),_d(r);return;case"select":be("invalid",r),f=k=_=null;for(v in u)if(u.hasOwnProperty(v)&&(H=u[v],H!=null))switch(v){case"value":_=H;break;case"defaultValue":k=H;break;case"multiple":f=H;default:Je(r,o,v,H,u,null)}o=_,u=k,r.multiple=!!f,o!=null?fo(r,!!f,o,!1):u!=null&&fo(r,!!f,u,!0);return;case"textarea":be("invalid",r),_=v=f=null;for(k in u)if(u.hasOwnProperty(k)&&(H=u[k],H!=null))switch(k){case"value":f=H;break;case"defaultValue":v=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Je(r,o,k,H,u,null)}du(r,f,v,_),_d(r);return;case"option":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Je(r,o,X,f,u,null)}return;case"dialog":be("beforetoggle",r),be("toggle",r),be("cancel",r),be("close",r);break;case"iframe":case"object":be("load",r);break;case"video":case"audio":for(f=0;f<am.length;f++)be(am[f],r);break;case"image":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"embed":case"source":case"link":be("error",r),be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in u)if(u.hasOwnProperty(it)&&(f=u[it],f!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Je(r,o,it,f,u,null)}return;default:if(Sg(o)){for(pt in u)u.hasOwnProperty(pt)&&(f=u[pt],f!==void 0&&bw(r,o,pt,f,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(f=u[H],f!=null&&Je(r,o,H,f,u,null))}function i6(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,k=null,H=null,X=null,it=null,pt=null;for(lt in u){var mt=u[lt];if(u.hasOwnProperty(lt)&&mt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":X=mt;default:f.hasOwnProperty(lt)||Je(r,o,lt,null,f,mt)}}for(var ot in f){var lt=f[ot];if(mt=u[ot],f.hasOwnProperty(ot)&&(lt!=null||mt!=null))switch(ot){case"type":_=lt;break;case"name":v=lt;break;case"checked":it=lt;break;case"defaultChecked":pt=lt;break;case"value":k=lt;break;case"defaultValue":H=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,o));break;default:lt!==mt&&Je(r,o,ot,lt,f,mt)}}Ls(r,k,H,X,it,pt,_,v);return;case"select":lt=k=H=ot=null;for(_ in u)if(X=u[_],u.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":lt=X;default:f.hasOwnProperty(_)||Je(r,o,_,null,f,X)}for(v in f)if(_=f[v],X=u[v],f.hasOwnProperty(v)&&(_!=null||X!=null))switch(v){case"value":ot=_;break;case"defaultValue":H=_;break;case"multiple":k=_;default:_!==X&&Je(r,o,v,_,f,X)}o=H,u=k,f=lt,ot!=null?fo(r,!!u,ot,!1):!!f!=!!u&&(o!=null?fo(r,!!u,o,!0):fo(r,!!u,u?[]:"",!1));return;case"textarea":lt=ot=null;for(H in u)if(v=u[H],u.hasOwnProperty(H)&&v!=null&&!f.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Je(r,o,H,null,f,v)}for(k in f)if(v=f[k],_=u[k],f.hasOwnProperty(k)&&(v!=null||_!=null))switch(k){case"value":ot=v;break;case"defaultValue":lt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==_&&Je(r,o,k,v,f,_)}Qe(r,ot,lt);return;case"option":for(var Zt in u)if(ot=u[Zt],u.hasOwnProperty(Zt)&&ot!=null&&!f.hasOwnProperty(Zt))switch(Zt){case"selected":r.selected=!1;break;default:Je(r,o,Zt,null,f,ot)}for(X in f)if(ot=f[X],lt=u[X],f.hasOwnProperty(X)&&ot!==lt&&(ot!=null||lt!=null))switch(X){case"selected":r.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:Je(r,o,X,ot,f,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in u)ot=u[$t],u.hasOwnProperty($t)&&ot!=null&&!f.hasOwnProperty($t)&&Je(r,o,$t,null,f,ot);for(it in f)if(ot=f[it],lt=u[it],f.hasOwnProperty(it)&&ot!==lt&&(ot!=null||lt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,o));break;default:Je(r,o,it,ot,f,lt)}return;default:if(Sg(o)){for(var tn in u)ot=u[tn],u.hasOwnProperty(tn)&&ot!==void 0&&!f.hasOwnProperty(tn)&&bw(r,o,tn,void 0,f,ot);for(pt in f)ot=f[pt],lt=u[pt],!f.hasOwnProperty(pt)||ot===lt||ot===void 0&&lt===void 0||bw(r,o,pt,ot,f,lt);return}}for(var J in u)ot=u[J],u.hasOwnProperty(J)&&ot!=null&&!f.hasOwnProperty(J)&&Je(r,o,J,null,f,ot);for(mt in f)ot=f[mt],lt=u[mt],!f.hasOwnProperty(mt)||ot===lt||ot==null&&lt==null||Je(r,o,mt,ot,f,lt)}var _w=null,Ew=null;function v0(r){return r.nodeType===9?r:r.ownerDocument}function w2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T2(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Aw(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sw=null;function s6(){var r=window.event;return r&&r.type==="popstate"?r===Sw?!1:(Sw=r,!0):(Sw=null,!1)}var x2=typeof setTimeout=="function"?setTimeout:void 0,r6=typeof clearTimeout=="function"?clearTimeout:void 0,C2=typeof Promise=="function"?Promise:void 0,a6=typeof queueMicrotask=="function"?queueMicrotask:typeof C2<"u"?function(r){return C2.resolve(null).then(r).catch(o6)}:x2;function o6(r){setTimeout(function(){throw r})}function Jl(r){return r==="head"}function R2(r,o){var u=o,f=0,v=0;do{var _=u.nextSibling;if(r.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<f&&8>f){u=f;var k=r.ownerDocument;if(u&1&&lm(k.documentElement),u&2&&lm(k.body),u&4)for(u=k.head,lm(u),k=u.firstChild;k;){var H=k.nextSibling,X=k.nodeName;k[ou]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=H}}if(v===0){r.removeChild(_),mm(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=_}while(u);mm(o)}function ww(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ww(u),Dl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function l6(r,o,u,f){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ou])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Lr(r.nextSibling),r===null)break}return null}function c6(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Lr(r.nextSibling),r===null))return null;return r}function Tw(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function u6(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Lr(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var xw=null;function I2(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function k2(r,o,u){switch(o=v0(u),r){case"html":if(r=o.documentElement,!r)throw Error(n(452));return r;case"head":if(r=o.head,!r)throw Error(n(453));return r;case"body":if(r=o.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function lm(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Dl(r)}var mr=new Map,P2=new Set;function b0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Mo=Q.d;Q.d={f:h6,r:d6,D:f6,C:p6,L:g6,m:m6,X:v6,S:y6,M:b6};function h6(){var r=Mo.f(),o=u0();return r||o}function d6(r){var o=oa(r);o!==null&&o.tag===5&&o.type==="form"?QI(o):Mo.r(r)}var ef=typeof document>"u"?null:document;function M2(r,o,u){var f=ef;if(f&&typeof o=="string"&&o){var v=Qn(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),P2.has(v)||(P2.add(v),r={rel:r,crossOrigin:u,href:o},f.querySelector(v)===null&&(o=f.createElement("link"),Fi(o,"link",r),zn(o),f.head.appendChild(o)))}}function f6(r){Mo.D(r),M2("dns-prefetch",r,null)}function p6(r,o){Mo.C(r,o),M2("preconnect",r,o)}function g6(r,o,u){Mo.L(r,o,u);var f=ef;if(f&&r&&o){var v='link[rel="preload"][as="'+Qn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Qn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Qn(u.imageSizes)+'"]')):v+='[href="'+Qn(r)+'"]';var _=v;switch(o){case"style":_=nf(r);break;case"script":_=sf(r)}mr.has(_)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),mr.set(_,r),f.querySelector(v)!==null||o==="style"&&f.querySelector(cm(_))||o==="script"&&f.querySelector(um(_))||(o=f.createElement("link"),Fi(o,"link",r),zn(o),f.head.appendChild(o)))}}function m6(r,o){Mo.m(r,o);var u=ef;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Qn(f)+'"][href="'+Qn(r)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=sf(r)}if(!mr.has(_)&&(r=p({rel:"modulepreload",href:r},o),mr.set(_,r),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(um(_)))return}f=u.createElement("link"),Fi(f,"link",r),zn(f),u.head.appendChild(f)}}}function y6(r,o,u){Mo.S(r,o,u);var f=ef;if(f&&r){var v=hs(f).hoistableStyles,_=nf(r);o=o||"default";var k=v.get(_);if(!k){var H={loading:0,preload:null};if(k=f.querySelector(cm(_)))H.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=mr.get(_))&&Cw(r,u);var X=k=f.createElement("link");zn(X),Fi(X,"link",r),X._p=new Promise(function(it,pt){X.onload=it,X.onerror=pt}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,_0(k,o,f)}k={type:"stylesheet",instance:k,count:1,state:H},v.set(_,k)}}}function v6(r,o){Mo.X(r,o);var u=ef;if(u&&r){var f=hs(u).hoistableScripts,v=sf(r),_=f.get(v);_||(_=u.querySelector(um(v)),_||(r=p({src:r,async:!0},o),(o=mr.get(v))&&Rw(r,o),_=u.createElement("script"),zn(_),Fi(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function b6(r,o){Mo.M(r,o);var u=ef;if(u&&r){var f=hs(u).hoistableScripts,v=sf(r),_=f.get(v);_||(_=u.querySelector(um(v)),_||(r=p({src:r,async:!0,type:"module"},o),(o=mr.get(v))&&Rw(r,o),_=u.createElement("script"),zn(_),Fi(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function O2(r,o,u,f){var v=(v=_t.current)?b0(v):null;if(!v)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=nf(u.href),u=hs(v).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=nf(u.href);var _=hs(v).hoistableStyles,k=_.get(r);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,k),(_=v.querySelector(cm(r)))&&!_._p&&(k.instance=_,k.state.loading=5),mr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mr.set(r,u),_||_6(v,r,u,k.state))),o&&f===null)throw Error(n(528,""));return k}if(o&&f!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sf(u),u=hs(v).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function nf(r){return'href="'+Qn(r)+'"'}function cm(r){return'link[rel="stylesheet"]['+r+"]"}function D2(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function _6(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Fi(o,"link",u),zn(o),r.head.appendChild(o))}function sf(r){return'[src="'+Qn(r)+'"]'}function um(r){return"script[async]"+r}function L2(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Qn(u.href)+'"]');if(f)return o.instance=f,zn(f),f;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),zn(f),Fi(f,"style",v),_0(f,u.precedence,r),o.instance=f;case"stylesheet":v=nf(u.href);var _=r.querySelector(cm(v));if(_)return o.state.loading|=4,o.instance=_,zn(_),_;f=D2(u),(v=mr.get(v))&&Cw(f,v),_=(r.ownerDocument||r).createElement("link"),zn(_);var k=_;return k._p=new Promise(function(H,X){k.onload=H,k.onerror=X}),Fi(_,"link",f),o.state.loading|=4,_0(_,u.precedence,r),o.instance=_;case"script":return _=sf(u.src),(v=r.querySelector(um(_)))?(o.instance=v,zn(v),v):(f=u,(v=mr.get(_))&&(f=p({},u),Rw(f,v)),r=r.ownerDocument||r,v=r.createElement("script"),zn(v),Fi(v,"link",f),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,_0(f,u.precedence,r));return o.instance}function _0(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,k=0;k<f.length;k++){var H=f[k];if(H.dataset.precedence===o)_=H;else if(_!==v)break}_?_.parentNode.insertBefore(r,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Cw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Rw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var E0=null;function N2(r,o,u){if(E0===null){var f=new Map,v=E0=new Map;v.set(u,f)}else v=E0,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var _=u[v];if(!(_[ou]||_[li]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var k=_.getAttribute(o)||"";k=r+k;var H=f.get(k);H?H.push(_):f.set(k,[_])}}return f}function F2(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function E6(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function V2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hm=null;function A6(){}function S6(r,o,u){if(hm===null)throw Error(n(475));var f=hm;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=nf(u.href),_=r.querySelector(cm(v));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=A0.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=_,zn(_);return}_=r.ownerDocument||r,u=D2(u),(v=mr.get(v))&&Cw(u,v),_=_.createElement("link"),zn(_);var k=_;k._p=new Promise(function(H,X){k.onload=H,k.onerror=X}),Fi(_,"link",u),o.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=A0.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function w6(){if(hm===null)throw Error(n(475));var r=hm;return r.stylesheets&&r.count===0&&Iw(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&Iw(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function A0(){if(this.count--,this.count===0){if(this.stylesheets)Iw(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var S0=null;function Iw(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,S0=new Map,o.forEach(T6,r),S0=null,A0.call(r))}function T6(r,o){if(!(o.state.loading&4)){var u=S0.get(r);if(u)var f=u.get(null);else{u=new Map,S0.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var k=v[_];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}v=o.instance,k=v.getAttribute("data-precedence"),_=u.get(k)||f,_===f&&u.set(null,v),u.set(k,v),this.count++,f=A0.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var dm={$$typeof:M,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function x6(r,o,u,f,v,_,k,H){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function U2(r,o,u,f,v,_,k,H,X,it,pt,mt){return r=new x6(r,o,u,k,H,X,it,mt),o=1,_===!0&&(o|=24),_=Fs(3,null,null,o),r.current=_,_.stateNode=r,o=uS(),o.refCount++,r.pooledCache=o,o.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:o},pS(_),r}function B2(r){return r?(r=Dd,r):Dd}function z2(r,o,u,f,v,_){v=B2(v),f.context===null?f.context=v:f.pendingContext=v,f=Bl(o),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=zl(r,f,o),u!==null&&(js(u,r,o),jg(u,r,o))}function j2(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function kw(r,o){j2(r,o),(r=r.alternate)&&j2(r,o)}function H2(r){if(r.tag===13){var o=Od(r,67108864);o!==null&&js(o,r,67108864),kw(r,67108864)}}var w0=!0;function C6(r,o,u,f){var v=Y.T;Y.T=null;var _=Q.p;try{Q.p=2,Pw(r,o,u,f)}finally{Q.p=_,Y.T=v}}function R6(r,o,u,f){var v=Y.T;Y.T=null;var _=Q.p;try{Q.p=8,Pw(r,o,u,f)}finally{Q.p=_,Y.T=v}}function Pw(r,o,u,f){if(w0){var v=Mw(f);if(v===null)vw(r,o,f,T0,u),q2(r,f);else if(k6(v,r,o,u,f))f.stopPropagation();else if(q2(r,f),o&4&&-1<I6.indexOf(r)){for(;v!==null;){var _=oa(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var k=Dt(_.pendingLanes);if(k!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;k;){var X=1<<31-Oe(k);H.entanglements[1]|=X,k&=~X}Ea(_),($e&6)===0&&(l0=fe()+500,rm(0))}}break;case 13:H=Od(_,2),H!==null&&js(H,_,2),u0(),kw(_,2)}if(_=Mw(f),_===null&&vw(r,o,f,T0,u),_===v)break;v=_}v!==null&&f.stopPropagation()}else vw(r,o,f,null,u)}}function Mw(r){return r=or(r),Ow(r)}var T0=null;function Ow(r){if(T0=null,r=co(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return T0=r,null}function $2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Ue:return 2;case He:return 8;case pe:case Ot:return 32;case oi:return 268435456;default:return 32}default:return 32}}var Dw=!1,tc=null,ec=null,nc=null,fm=new Map,pm=new Map,ic=[],I6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q2(r,o){switch(r){case"focusin":case"focusout":tc=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":nc=null;break;case"pointerover":case"pointerout":fm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pm.delete(o.pointerId)}}function gm(r,o,u,f,v,_){return r===null||r.nativeEvent!==_?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},o!==null&&(o=oa(o),o!==null&&H2(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function k6(r,o,u,f,v){switch(o){case"focusin":return tc=gm(tc,r,o,u,f,v),!0;case"dragenter":return ec=gm(ec,r,o,u,f,v),!0;case"mouseover":return nc=gm(nc,r,o,u,f,v),!0;case"pointerover":var _=v.pointerId;return fm.set(_,gm(fm.get(_)||null,r,o,u,f,v)),!0;case"gotpointercapture":return _=v.pointerId,pm.set(_,gm(pm.get(_)||null,r,o,u,f,v)),!0}return!1}function G2(r){var o=co(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,ub(r.priority,function(){if(u.tag===13){var f=zs();f=Pl(f);var v=Od(u,f);v!==null&&js(v,u,f),kw(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function x0(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Mw(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);po=f,u.target.dispatchEvent(f),po=null}else return o=oa(u),o!==null&&H2(o),r.blockedOn=u,!1;o.shift()}return!0}function W2(r,o,u){x0(r)&&u.delete(o)}function P6(){Dw=!1,tc!==null&&x0(tc)&&(tc=null),ec!==null&&x0(ec)&&(ec=null),nc!==null&&x0(nc)&&(nc=null),fm.forEach(W2),pm.forEach(W2)}function C0(r,o){r.blockedOn===o&&(r.blockedOn=null,Dw||(Dw=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,P6)))}var R0=null;function K2(r){R0!==r&&(R0=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){R0===r&&(R0=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],v=r[o+2];if(typeof f!="function"){if(Ow(f||u)===null)continue;break}var _=oa(u);_!==null&&(r.splice(o,3),o-=3,OS(_,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function mm(r){function o(X){return C0(X,r)}tc!==null&&C0(tc,r),ec!==null&&C0(ec,r),nc!==null&&C0(nc,r),fm.forEach(o),pm.forEach(o);for(var u=0;u<ic.length;u++){var f=ic[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ic.length&&(u=ic[0],u.blockedOn===null);)G2(u),u.blockedOn===null&&ic.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],_=u[f+1],k=v[Xn]||null;if(typeof _=="function")k||K2(u);else if(k){var H=null;if(_&&_.hasAttribute("formAction")){if(v=_,k=_[Xn]||null)H=k.formAction;else if(Ow(v)!==null)continue}else H=k.action;typeof H=="function"?u[f+1]=H:(u.splice(f,3),f-=3),K2(u)}}}function Lw(r){this._internalRoot=r}I0.prototype.render=Lw.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,f=zs();z2(u,f,r,o,null,null)},I0.prototype.unmount=Lw.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;z2(r.current,2,null,r,null,null),u0(),o[rr]=null}};function I0(r){this._internalRoot=r}I0.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ml();r={blockedOn:null,target:r,priority:o};for(var u=0;u<ic.length&&o!==0&&o<ic[u].priority;u++);ic.splice(u,0,r),u===0&&G2(r)}};var Y2=t.version;if(Y2!=="19.1.0")throw Error(n(527,Y2,"19.1.0"));Q.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var M6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{Re=k0.inject(M6),ee=k0}catch{}}return vm.createRoot=function(r,o){if(!s(r))throw Error(n(299));var u=!1,f="",v=hk,_=dk,k=fk,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks)),o=U2(r,1,!1,null,null,u,f,v,_,k,H,null),r[rr]=o.current,yw(r),new Lw(o)},vm.hydrateRoot=function(r,o,u){if(!s(r))throw Error(n(299));var f=!1,v="",_=hk,k=dk,H=fk,X=null,it=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks),u.formState!==void 0&&(it=u.formState)),o=U2(r,1,!0,o,u??null,f,v,_,k,H,X,it),o.context=B2(null),u=o.current,f=zs(),f=Pl(f),v=Bl(f),v.callback=null,zl(u,v,f),u=f,o.current.lanes=u,lo(o,u),Ea(o),r[rr]=o.current,yw(r),new I0(o)},vm.version="19.1.0",vm}var aP;function $6(){if(aP)return Uw.exports;aP=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Uw.exports=H6(),Uw.exports}var q6=$6(),bm={},oP;function G6(){if(oP)return bm;oP=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.parse=l,bm.serialize=d;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,E){const A=new a,S=b.length;if(S<2)return A;const C=(E==null?void 0:E.decode)||p;let x=0;do{const N=b.indexOf("=",x);if(N===-1)break;const M=b.indexOf(";",x),P=M===-1?S:M;if(N>P){x=b.lastIndexOf(";",N-1)+1;continue}const F=c(b,x,N),W=h(b,N,F),D=b.slice(F,W);if(A[D]===void 0){let I=c(b,N+1,P),L=h(b,P,I);const T=C(b.slice(I,L));A[D]=T}x=P+1}while(x<S);return A}function c(b,E,A){do{const S=b.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<A);return A}function h(b,E,A){for(;E>A;){const S=b.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return A}function d(b,E,A){const S=(A==null?void 0:A.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=S(E);if(!t.test(C))throw new TypeError(`argument val is invalid: ${E}`);let x=b+"="+C;if(!A)return x;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);x+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);x+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);x+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);x+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(x+="; HttpOnly"),A.secure&&(x+="; Secure"),A.partitioned&&(x+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return x}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return bm}G6();var lP="popstate";function W6(i={}){function t(n,s){let{pathname:a,search:l,hash:c}=n.location;return CT("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(n,s){return typeof s=="string"?s:cy(s)}return Y6(t,e,null,i)}function Pn(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function to(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K6(){return Math.random().toString(36).substring(2,10)}function cP(i,t){return{usr:i.state,key:i.key,idx:t}}function CT(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?ng(t):t,state:e,key:t&&t.key||n||K6()}}function cy({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function ng(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function Y6(i,t,e,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let C=p(),x=C==null?null:C-d;d=C,h&&h({action:c,location:S.location,delta:x})}function b(C,x){c="PUSH";let N=CT(S.location,C,x);d=p()+1;let M=cP(N,d),P=S.createHref(N);try{l.pushState(M,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(P)}a&&h&&h({action:c,location:S.location,delta:1})}function E(C,x){c="REPLACE";let N=CT(S.location,C,x);d=p();let M=cP(N,d),P=S.createHref(N);l.replaceState(M,"",P),a&&h&&h({action:c,location:S.location,delta:0})}function A(C){return X6(C)}let S={get action(){return c},get location(){return i(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(lP,y),h=C,()=>{s.removeEventListener(lP,y),h=null}},createHref(C){return t(s,C)},createURL:A,encodeLocation(C){let x=A(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:E,go(C){return l.go(C)}};return S}function X6(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Pn(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:cy(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function WD(i,t,e="/"){return Q6(i,t,e,!1)}function Q6(i,t,e,n){let s=typeof t=="string"?ng(t):t,a=yl(s.pathname||"/",e);if(a==null)return null;let l=KD(i);Z6(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=cU(a);c=oU(l[h],d,n)}return c}function KD(i,t=[],e=[],n=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Pn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=fl([n,h.relativePath]),p=e.concat(h);a.children&&a.children.length>0&&(Pn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),KD(a.children,t,p,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:rU(d,a.index),routesMeta:p})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of YD(a.path))s(a,l,h)}),t}function YD(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=YD(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function Z6(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:aU(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var J6=/^:[\w-]+$/,tU=3,eU=2,nU=1,iU=10,sU=-2,uP=i=>i==="*";function rU(i,t){let e=i.split("/"),n=e.length;return e.some(uP)&&(n+=sU),t&&(n+=eU),e.filter(s=>!uP(s)).reduce((s,a)=>s+(J6.test(a)?tU:a===""?nU:iU),n)}function aU(i,t){return i.length===t.length&&i.slice(0,-1).every((n,s)=>n===t[s])?i[i.length-1]-t[t.length-1]:0}function oU(i,t,e=!1){let{routesMeta:n}=i,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=W_({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),b=h.route;if(!y&&d&&e&&!n[n.length-1].route.index&&(y=W_({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:fl([a,y.pathname]),pathnameBase:fU(fl([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=fl([a,y.pathnameBase]))}return l}function W_(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=lU(i.path,i.caseSensitive,i.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:y},b)=>{if(p==="*"){let A=c[b]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[b];return y&&!E?d[p]=void 0:d[p]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:i}}function lU(i,t=!1,e=!0){to(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cU(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return to(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function yl(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function uU(i,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof i=="string"?ng(i):i;return{pathname:e?e.startsWith("/")?e:hU(e,t):t,search:pU(n),hash:gU(s)}}function hU(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Hw(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dU(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function XD(i){let t=dU(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function QD(i,t,e,n=!1){let s;typeof i=="string"?s=ng(i):(s={...i},Pn(!s.pathname||!s.pathname.includes("?"),Hw("?","pathname","search",s)),Pn(!s.pathname||!s.pathname.includes("#"),Hw("#","pathname","hash",s)),Pn(!s.search||!s.search.includes("#"),Hw("#","search","hash",s)));let a=i===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=e;else{let y=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?t[y]:"/"}let h=uU(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var fl=i=>i.join("/").replace(/\/\/+/g,"/"),fU=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),pU=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,gU=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function mU(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ZD=["POST","PUT","PATCH","DELETE"];new Set(ZD);var yU=["GET",...ZD];new Set(yU);var ig=O.createContext(null);ig.displayName="DataRouter";var HE=O.createContext(null);HE.displayName="DataRouterState";var JD=O.createContext({isTransitioning:!1});JD.displayName="ViewTransition";var vU=O.createContext(new Map);vU.displayName="Fetchers";var bU=O.createContext(null);bU.displayName="Await";var io=O.createContext(null);io.displayName="Navigation";var Fv=O.createContext(null);Fv.displayName="Location";var Rl=O.createContext({outlet:null,matches:[],isDataRoute:!1});Rl.displayName="Route";var Kx=O.createContext(null);Kx.displayName="RouteError";function _U(i,{relative:t}={}){Pn(Vv(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=O.useContext(io),{hash:s,pathname:a,search:l}=Bv(i,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:fl([e,a])),n.createHref({pathname:c,search:l,hash:s})}function Vv(){return O.useContext(Fv)!=null}function ad(){return Pn(Vv(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Fv).location}var tL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eL(i){O.useContext(io).static||O.useLayoutEffect(i)}function Uv(){let{isDataRoute:i}=O.useContext(Rl);return i?OU():EU()}function EU(){Pn(Vv(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(ig),{basename:t,navigator:e}=O.useContext(io),{matches:n}=O.useContext(Rl),{pathname:s}=ad(),a=JSON.stringify(XD(n)),l=O.useRef(!1);return eL(()=>{l.current=!0}),O.useCallback((h,d={})=>{if(to(l.current,tL),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=QD(h,JSON.parse(a),s,d.relative==="path");i==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fl([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,a,s,i])}O.createContext(null);function Bv(i,{relative:t}={}){let{matches:e}=O.useContext(Rl),{pathname:n}=ad(),s=JSON.stringify(XD(e));return O.useMemo(()=>QD(i,JSON.parse(s),n,t==="path"),[i,s,n,t])}function AU(i,t){return nL(i,t)}function nL(i,t,e,n){var x;Pn(Vv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(io),{matches:a}=O.useContext(Rl),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";iL(h,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=ad(),b;if(t){let N=typeof t=="string"?ng(t):t;Pn(d==="/"||((x=N.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=y;let E=b.pathname||"/",A=E;if(d!=="/"){let N=d.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=WD(i,{pathname:A});to(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),to(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=CU(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:fl([d,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:fl([d,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,e,n);return t&&C?O.createElement(Fv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function SU(){let i=MU(),t=mU(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),e?O.createElement("pre",{style:s},e):null,l)}var wU=O.createElement(SU,null),TU=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?O.createElement(Rl.Provider,{value:this.props.routeContext},O.createElement(Kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xU({routeContext:i,match:t,children:e}){let n=O.useContext(ig);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Rl.Provider,{value:i},e)}function CU(i,t=[],e=null,n=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let s=i,a=e==null?void 0:e.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Pn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(e)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=e,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let y,b=!1,E=null,A=null;e&&(y=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||wU,l&&(c<0&&p===0?(iL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):c===p&&(b=!0,A=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),C=()=>{let x;return y?x=E:b?x=A:d.route.Component?x=O.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,O.createElement(xU,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:e!=null},children:x})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?O.createElement(TU,{location:e.location,revalidation:e.revalidation,component:E,error:y,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Yx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RU(i){let t=O.useContext(ig);return Pn(t,Yx(i)),t}function IU(i){let t=O.useContext(HE);return Pn(t,Yx(i)),t}function kU(i){let t=O.useContext(Rl);return Pn(t,Yx(i)),t}function Xx(i){let t=kU(i),e=t.matches[t.matches.length-1];return Pn(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function PU(){return Xx("useRouteId")}function MU(){var n;let i=O.useContext(Kx),t=IU("useRouteError"),e=Xx("useRouteError");return i!==void 0?i:(n=t.errors)==null?void 0:n[e]}function OU(){let{router:i}=RU("useNavigate"),t=Xx("useNavigate"),e=O.useRef(!1);return eL(()=>{e.current=!0}),O.useCallback(async(s,a={})=>{to(e.current,tL),e.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:t,...a}))},[i,t])}var hP={};function iL(i,t,e){!t&&!hP[i]&&(hP[i]=!0,to(!1,e))}O.memo(DU);function DU({routes:i,future:t,state:e}){return nL(i,void 0,e,t)}function ff(i){Pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LU({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:a=!1}){Pn(!Vv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=ng(e));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:b="default"}=e,E=O.useMemo(()=>{let A=yl(h,l);return A==null?null:{location:{pathname:A,search:d,hash:p,state:y,key:b},navigationType:n}},[l,h,d,p,y,b,n]);return to(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:O.createElement(io.Provider,{value:c},O.createElement(Fv.Provider,{children:t,value:E}))}function NU({children:i,location:t}){return AU(RT(i),t)}function RT(i,t=[]){let e=[];return O.Children.forEach(i,(n,s)=>{if(!O.isValidElement(n))return;let a=[...t,s];if(n.type===O.Fragment){e.push.apply(e,RT(n.props.children,a));return}Pn(n.type===ff,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=RT(n.props.children,a)),e.push(l)}),e}var e_="get",n_="application/x-www-form-urlencoded";function $E(i){return i!=null&&typeof i.tagName=="string"}function FU(i){return $E(i)&&i.tagName.toLowerCase()==="button"}function VU(i){return $E(i)&&i.tagName.toLowerCase()==="form"}function UU(i){return $E(i)&&i.tagName.toLowerCase()==="input"}function BU(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function zU(i,t){return i.button===0&&(!t||t==="_self")&&!BU(i)}var P0=null;function jU(){if(P0===null)try{new FormData(document.createElement("form"),0),P0=!1}catch{P0=!0}return P0}var HU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $w(i){return i!=null&&!HU.has(i)?(to(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${n_}"`),null):i}function $U(i,t){let e,n,s,a,l;if(VU(i)){let c=i.getAttribute("action");n=c?yl(c,t):null,e=i.getAttribute("method")||e_,s=$w(i.getAttribute("enctype"))||n_,a=new FormData(i)}else if(FU(i)||UU(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?yl(h,t):null,e=i.getAttribute("formmethod")||c.getAttribute("method")||e_,s=$w(i.getAttribute("formenctype"))||$w(c.getAttribute("enctype"))||n_,a=new FormData(c,i),!jU()){let{name:d,type:p,value:y}=i;if(p==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,y)}}else{if($E(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=e_,n=null,s=n_,l=i}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:a,body:l}}function Qx(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function qU(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GU(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WU(i,t,e){let n=await Promise.all(i.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await qU(a,e);return l.links?l.links():[]}return[]}));return QU(n.flat(1).filter(GU).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function dP(i,t,e,n,s,a){let l=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,c=(h,d)=>{var p;return e[d].pathname!==h.pathname||((p=e[d].route.path)==null?void 0:p.endsWith("*"))&&e[d].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?t.filter((h,d)=>{var y;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function KU(i,t,{includeHydrateFallback:e}={}){return YU(i.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function YU(i){return[...new Set(i)]}function XU(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function QU(i,t){let e=new Set;return new Set(t),i.reduce((n,s)=>{let a=JSON.stringify(XU(s));return e.has(a)||(e.add(a),n.push({key:a,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZU=new Set([100,101,204,205]);function JU(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&yl(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sL(){let i=O.useContext(ig);return Qx(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tB(){let i=O.useContext(HE);return Qx(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zx=O.createContext(void 0);Zx.displayName="FrameworkContext";function rL(){let i=O.useContext(Zx);return Qx(i,"You must render this element inside a <HydratedRouter> element"),i}function eB(i,t){let e=O.useContext(Zx),[n,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,b=O.useRef(null);O.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let S=x=>{x.forEach(N=>{l(N.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[i]),O.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let E=()=>{s(!0)},A=()=>{s(!1),l(!1)};return e?i!=="intent"?[a,b,{}]:[a,b,{onFocus:_m(c,E),onBlur:_m(h,A),onMouseEnter:_m(d,E),onMouseLeave:_m(p,A),onTouchStart:_m(y,E)}]:[!1,b,{}]}function _m(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function nB({page:i,...t}){let{router:e}=sL(),n=O.useMemo(()=>WD(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?O.createElement(sB,{page:i,matches:n,...t}):null}function iB(i){let{manifest:t,routeModules:e}=rL(),[n,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return WU(i,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[i,t,e]),n}function sB({page:i,matches:t,...e}){let n=ad(),{manifest:s,routeModules:a}=rL(),{basename:l}=sL(),{loaderData:c,matches:h}=tB(),d=O.useMemo(()=>dP(i,t,h,s,n,"data"),[i,t,h,s,n]),p=O.useMemo(()=>dP(i,t,h,s,n,"assets"),[i,t,h,s,n]),y=O.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let A=new Set,S=!1;if(t.forEach(x=>{var M;let N=s.routes[x.route.id];!N||!N.hasLoader||(!d.some(P=>P.route.id===x.route.id)&&x.route.id in c&&((M=a[x.route.id])!=null&&M.shouldRevalidate)||N.hasClientLoader?S=!0:A.add(x.route.id))}),A.size===0)return[];let C=JU(i,l);return S&&A.size>0&&C.searchParams.set("_routes",t.filter(x=>A.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[l,c,n,s,d,t,i,a]),b=O.useMemo(()=>KU(p,s),[p,s]),E=iB(p);return O.createElement(O.Fragment,null,y.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),E.map(({key:A,link:S})=>O.createElement("link",{key:A,...S})))}function rB(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var aL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aL&&(window.__reactRouterVersion="7.6.2")}catch{}function aB({basename:i,children:t,window:e}){let n=O.useRef();n.current==null&&(n.current=W6({window:e,v5Compat:!0}));let s=n.current,[a,l]=O.useState({action:s.action,location:s.location}),c=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>s.listen(c),[s,c]),O.createElement(LU,{basename:i,children:t,location:a.location,navigationType:a.action,navigator:s})}var oL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lL=O.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,...b},E){let{basename:A}=O.useContext(io),S=typeof d=="string"&&oL.test(d),C,x=!1;if(typeof d=="string"&&S&&(C=d,aL))try{let L=new URL(window.location.href),T=d.startsWith("//")?new URL(L.protocol+d):new URL(d),U=yl(T.pathname,A);T.origin===L.origin&&U!=null?d=U+T.search+T.hash:x=!0}catch{to(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=_U(d,{relative:s}),[M,P,F]=eB(n,b),W=uB(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function D(L){t&&t(L),L.defaultPrevented||W(L)}let I=O.createElement("a",{...b,...F,href:C||N,onClick:x||a?t:D,ref:rB(E,P),target:h,"data-discover":!S&&e==="render"?"true":void 0});return M&&!S?O.createElement(O.Fragment,null,I,O.createElement(nB,{page:N})):I});lL.displayName="Link";var oB=O.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...d},p){let y=Bv(l,{relative:d.relative}),b=ad(),E=O.useContext(HE),{navigator:A,basename:S}=O.useContext(io),C=E!=null&&gB(y)&&c===!0,x=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,N=b.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(N=N.toLowerCase(),M=M?M.toLowerCase():null,x=x.toLowerCase()),M&&S&&(M=yl(M,S)||M);const P=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let F=N===x||!s&&N.startsWith(x)&&N.charAt(P)==="/",W=M!=null&&(M===x||!s&&M.startsWith(x)&&M.charAt(x.length)==="/"),D={isActive:F,isPending:W,isTransitioning:C},I=F?t:void 0,L;typeof n=="function"?L=n(D):L=[n,F?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(D):a;return O.createElement(lL,{...d,"aria-current":I,className:L,ref:p,style:T,to:l,viewTransition:c},typeof h=="function"?h(D):h)});oB.displayName="NavLink";var lB=O.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:a,method:l=e_,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,...b},E)=>{let A=fB(),S=pB(c,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&oL.test(c),N=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let P=M.nativeEvent.submitter,F=(P==null?void 0:P.getAttribute("formmethod"))||l;A(P||M.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:s,state:a,relative:d,preventScrollReset:p,viewTransition:y})};return O.createElement("form",{ref:E,method:C,action:S,onSubmit:n?h:N,...b,"data-discover":!x&&i==="render"?"true":void 0})});lB.displayName="Form";function cB(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cL(i){let t=O.useContext(ig);return Pn(t,cB(i)),t}function uB(i,{target:t,replace:e,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Uv(),h=ad(),d=Bv(i,{relative:a});return O.useCallback(p=>{if(zU(p,t)){p.preventDefault();let y=e!==void 0?e:cy(h)===cy(d);c(i,{replace:y,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,d,e,n,t,i,s,a,l])}var hB=0,dB=()=>`__${String(++hB)}__`;function fB(){let{router:i}=cL("useSubmit"),{basename:t}=O.useContext(io),e=PU();return O.useCallback(async(n,s={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=$U(n,t);if(s.navigate===!1){let p=s.fetcherKey||dB();await i.fetch(p,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,t,e])}function pB(i,{relative:t}={}){let{basename:e}=O.useContext(io),n=O.useContext(Rl);Pn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Bv(i||".",{relative:t})},l=ad();if(i==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!i||i===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:fl([e,a.pathname])),cy(a)}function gB(i,t={}){let e=O.useContext(JD);Pn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=cL("useViewTransitionState"),s=Bv(i,{relative:t.relative});if(!e.isTransitioning)return!1;let a=yl(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=yl(e.nextLocation.pathname,n)||e.nextLocation.pathname;return W_(s.pathname,l)!=null||W_(s.pathname,a)!=null}[...ZU];var uL=GD();const M0=Gx(uL);function vl(i,...t){const e=new URL(`https://mui.com/production-error/?code=${i}`);return t.forEach(n=>e.searchParams.append("args[]",n)),`Minified MUI error #${i}; visit ${e} for the full message.`}function K_(){return K_=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},K_.apply(null,arguments)}function mB(i){if(i.sheet)return i.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===i)return document.styleSheets[t]}function yB(i){var t=document.createElement("style");return t.setAttribute("data-emotion",i.key),i.nonce!==void 0&&t.setAttribute("nonce",i.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var vB=function(){function i(e){var n=this;this._insertTag=function(s){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,a),n.tags.push(s)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=i.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yB(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=mB(s);try{a.insertRule(n,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},i}(),Xi="-ms-",Y_="-moz-",Ne="-webkit-",hL="comm",Jx="rule",tC="decl",bB="@import",dL="@keyframes",_B="@layer",EB=Math.abs,qE=String.fromCharCode,AB=Object.assign;function SB(i,t){return Hi(i,0)^45?(((t<<2^Hi(i,0))<<2^Hi(i,1))<<2^Hi(i,2))<<2^Hi(i,3):0}function fL(i){return i.trim()}function wB(i,t){return(i=t.exec(i))?i[0]:i}function Ve(i,t,e){return i.replace(t,e)}function IT(i,t){return i.indexOf(t)}function Hi(i,t){return i.charCodeAt(t)|0}function uy(i,t,e){return i.slice(t,e)}function $a(i){return i.length}function eC(i){return i.length}function O0(i,t){return t.push(i),i}function TB(i,t){return i.map(t).join("")}var GE=1,Hp=1,pL=0,Os=0,si=0,sg="";function WE(i,t,e,n,s,a,l){return{value:i,root:t,parent:e,type:n,props:s,children:a,line:GE,column:Hp,length:l,return:""}}function Em(i,t){return AB(WE("",null,null,"",null,null,0),i,{length:-i.length},t)}function xB(){return si}function CB(){return si=Os>0?Hi(sg,--Os):0,Hp--,si===10&&(Hp=1,GE--),si}function nr(){return si=Os<pL?Hi(sg,Os++):0,Hp++,si===10&&(Hp=1,GE++),si}function Ka(){return Hi(sg,Os)}function i_(){return Os}function zv(i,t){return uy(sg,i,t)}function hy(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gL(i){return GE=Hp=1,pL=$a(sg=i),Os=0,[]}function mL(i){return sg="",i}function s_(i){return fL(zv(Os-1,kT(i===91?i+2:i===40?i+1:i)))}function RB(i){for(;(si=Ka())&&si<33;)nr();return hy(i)>2||hy(si)>3?"":" "}function IB(i,t){for(;--t&&nr()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return zv(i,i_()+(t<6&&Ka()==32&&nr()==32))}function kT(i){for(;nr();)switch(si){case i:return Os;case 34:case 39:i!==34&&i!==39&&kT(si);break;case 40:i===41&&kT(i);break;case 92:nr();break}return Os}function kB(i,t){for(;nr()&&i+si!==57;)if(i+si===84&&Ka()===47)break;return"/*"+zv(t,Os-1)+"*"+qE(i===47?i:nr())}function PB(i){for(;!hy(Ka());)nr();return zv(i,Os)}function MB(i){return mL(r_("",null,null,null,[""],i=gL(i),0,[0],i))}function r_(i,t,e,n,s,a,l,c,h){for(var d=0,p=0,y=l,b=0,E=0,A=0,S=1,C=1,x=1,N=0,M="",P=s,F=a,W=n,D=M;C;)switch(A=N,N=nr()){case 40:if(A!=108&&Hi(D,y-1)==58){IT(D+=Ve(s_(N),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=s_(N);break;case 9:case 10:case 13:case 32:D+=RB(A);break;case 92:D+=IB(i_()-1,7);continue;case 47:switch(Ka()){case 42:case 47:O0(OB(kB(nr(),i_()),t,e),h);break;default:D+="/"}break;case 123*S:c[d++]=$a(D)*x;case 125*S:case 59:case 0:switch(N){case 0:case 125:C=0;case 59+p:x==-1&&(D=Ve(D,/\f/g,"")),E>0&&$a(D)-y&&O0(E>32?pP(D+";",n,e,y-1):pP(Ve(D," ","")+";",n,e,y-2),h);break;case 59:D+=";";default:if(O0(W=fP(D,t,e,d,p,s,c,M,P=[],F=[],y),a),N===123)if(p===0)r_(D,t,W,W,P,a,y,c,F);else switch(b===99&&Hi(D,3)===110?100:b){case 100:case 108:case 109:case 115:r_(i,W,W,n&&O0(fP(i,W,W,0,0,s,c,M,s,P=[],y),F),s,F,y,c,n?P:F);break;default:r_(D,W,W,W,[""],F,0,c,F)}}d=p=E=0,S=x=1,M=D="",y=l;break;case 58:y=1+$a(D),E=A;default:if(S<1){if(N==123)--S;else if(N==125&&S++==0&&CB()==125)continue}switch(D+=qE(N),N*S){case 38:x=p>0?1:(D+="\f",-1);break;case 44:c[d++]=($a(D)-1)*x,x=1;break;case 64:Ka()===45&&(D+=s_(nr())),b=Ka(),p=y=$a(M=D+=PB(i_())),N++;break;case 45:A===45&&$a(D)==2&&(S=0)}}return a}function fP(i,t,e,n,s,a,l,c,h,d,p){for(var y=s-1,b=s===0?a:[""],E=eC(b),A=0,S=0,C=0;A<n;++A)for(var x=0,N=uy(i,y+1,y=EB(S=l[A])),M=i;x<E;++x)(M=fL(S>0?b[x]+" "+N:Ve(N,/&\f/g,b[x])))&&(h[C++]=M);return WE(i,t,e,s===0?Jx:c,h,d,p)}function OB(i,t,e){return WE(i,t,e,hL,qE(xB()),uy(i,2,-2),0)}function pP(i,t,e,n){return WE(i,t,e,tC,uy(i,0,n),uy(i,n+1,-1),n)}function If(i,t){for(var e="",n=eC(i),s=0;s<n;s++)e+=t(i[s],s,i,t)||"";return e}function DB(i,t,e,n){switch(i.type){case _B:if(i.children.length)break;case bB:case tC:return i.return=i.return||i.value;case hL:return"";case dL:return i.return=i.value+"{"+If(i.children,n)+"}";case Jx:i.value=i.props.join(",")}return $a(e=If(i.children,n))?i.return=i.value+"{"+e+"}":""}function LB(i){var t=eC(i);return function(e,n,s,a){for(var l="",c=0;c<t;c++)l+=i[c](e,n,s,a)||"";return l}}function NB(i){return function(t){t.root||(t=t.return)&&i(t)}}function yL(i){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=i(e)),t[e]}}var FB=function(t,e,n){for(var s=0,a=0;s=a,a=Ka(),s===38&&a===12&&(e[n]=1),!hy(a);)nr();return zv(t,Os)},VB=function(t,e){var n=-1,s=44;do switch(hy(s)){case 0:s===38&&Ka()===12&&(e[n]=1),t[n]+=FB(Os-1,e,n);break;case 2:t[n]+=s_(s);break;case 4:if(s===44){t[++n]=Ka()===58?"&\f":"",e[n]=t[n].length;break}default:t[n]+=qE(s)}while(s=nr());return t},UB=function(t,e){return mL(VB(gL(t),e))},gP=new WeakMap,BB=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!gP.get(n))&&!s){gP.set(t,!0);for(var a=[],l=UB(e,a),c=n.props,h=0,d=0;h<l.length;h++)for(var p=0;p<c.length;p++,d++)t.props[d]=a[h]?l[h].replace(/&\f/g,c[p]):c[p]+" "+l[h]}}},zB=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function vL(i,t){switch(SB(i,t)){case 5103:return Ne+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ne+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Ne+i+Y_+i+Xi+i+i;case 6828:case 4268:return Ne+i+Xi+i+i;case 6165:return Ne+i+Xi+"flex-"+i+i;case 5187:return Ne+i+Ve(i,/(\w+).+(:[^]+)/,Ne+"box-$1$2"+Xi+"flex-$1$2")+i;case 5443:return Ne+i+Xi+"flex-item-"+Ve(i,/flex-|-self/,"")+i;case 4675:return Ne+i+Xi+"flex-line-pack"+Ve(i,/align-content|flex-|-self/,"")+i;case 5548:return Ne+i+Xi+Ve(i,"shrink","negative")+i;case 5292:return Ne+i+Xi+Ve(i,"basis","preferred-size")+i;case 6060:return Ne+"box-"+Ve(i,"-grow","")+Ne+i+Xi+Ve(i,"grow","positive")+i;case 4554:return Ne+Ve(i,/([^-])(transform)/g,"$1"+Ne+"$2")+i;case 6187:return Ve(Ve(Ve(i,/(zoom-|grab)/,Ne+"$1"),/(image-set)/,Ne+"$1"),i,"")+i;case 5495:case 3959:return Ve(i,/(image-set\([^]*)/,Ne+"$1$`$1");case 4968:return Ve(Ve(i,/(.+:)(flex-)?(.*)/,Ne+"box-pack:$3"+Xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ne+i+i;case 4095:case 3583:case 4068:case 2532:return Ve(i,/(.+)-inline(.+)/,Ne+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($a(i)-1-t>6)switch(Hi(i,t+1)){case 109:if(Hi(i,t+4)!==45)break;case 102:return Ve(i,/(.+:)(.+)-([^]+)/,"$1"+Ne+"$2-$3$1"+Y_+(Hi(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~IT(i,"stretch")?vL(Ve(i,"stretch","fill-available"),t)+i:i}break;case 4949:if(Hi(i,t+1)!==115)break;case 6444:switch(Hi(i,$a(i)-3-(~IT(i,"!important")&&10))){case 107:return Ve(i,":",":"+Ne)+i;case 101:return Ve(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ne+(Hi(i,14)===45?"inline-":"")+"box$3$1"+Ne+"$2$3$1"+Xi+"$2box$3")+i}break;case 5936:switch(Hi(i,t+11)){case 114:return Ne+i+Xi+Ve(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Ne+i+Xi+Ve(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Ne+i+Xi+Ve(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Ne+i+Xi+i+i}return i}var jB=function(t,e,n,s){if(t.length>-1&&!t.return)switch(t.type){case tC:t.return=vL(t.value,t.length);break;case dL:return If([Em(t,{value:Ve(t.value,"@","@"+Ne)})],s);case Jx:if(t.length)return TB(t.props,function(a){switch(wB(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return If([Em(t,{props:[Ve(a,/:(read-\w+)/,":"+Y_+"$1")]})],s);case"::placeholder":return If([Em(t,{props:[Ve(a,/:(plac\w+)/,":"+Ne+"input-$1")]}),Em(t,{props:[Ve(a,/:(plac\w+)/,":"+Y_+"$1")]}),Em(t,{props:[Ve(a,/:(plac\w+)/,Xi+"input-$1")]})],s)}return""})}},HB=[jB],$B=function(t){var e=t.key;if(e==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var C=S.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=t.stylisPlugins||HB,a={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(S){for(var C=S.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)a[C[x]]=!0;c.push(S)});var h,d=[BB,zB];{var p,y=[DB,NB(function(S){p.insert(S)})],b=LB(d.concat(s,y)),E=function(C){return If(MB(C),b)};h=function(C,x,N,M){p=N,E(C?C+"{"+x.styles+"}":x.styles),M&&(A.inserted[x.name]=!0)}}var A={key:e,sheet:new vB({key:e,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:h};return A.sheet.hydrate(c),A},qw={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function qB(){if(mP)return ze;mP=1;var i=typeof Symbol=="function"&&Symbol.for,t=i?Symbol.for("react.element"):60103,e=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,y=i?Symbol.for("react.suspense"):60113,b=i?Symbol.for("react.suspense_list"):60120,E=i?Symbol.for("react.memo"):60115,A=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,C=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.responder"):60118,N=i?Symbol.for("react.scope"):60119;function M(F){if(typeof F=="object"&&F!==null){var W=F.$$typeof;switch(W){case t:switch(F=F.type,F){case h:case d:case n:case a:case s:case y:return F;default:switch(F=F&&F.$$typeof,F){case c:case p:case A:case E:case l:return F;default:return W}}case e:return W}}}function P(F){return M(F)===d}return ze.AsyncMode=h,ze.ConcurrentMode=d,ze.ContextConsumer=c,ze.ContextProvider=l,ze.Element=t,ze.ForwardRef=p,ze.Fragment=n,ze.Lazy=A,ze.Memo=E,ze.Portal=e,ze.Profiler=a,ze.StrictMode=s,ze.Suspense=y,ze.isAsyncMode=function(F){return P(F)||M(F)===h},ze.isConcurrentMode=P,ze.isContextConsumer=function(F){return M(F)===c},ze.isContextProvider=function(F){return M(F)===l},ze.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},ze.isForwardRef=function(F){return M(F)===p},ze.isFragment=function(F){return M(F)===n},ze.isLazy=function(F){return M(F)===A},ze.isMemo=function(F){return M(F)===E},ze.isPortal=function(F){return M(F)===e},ze.isProfiler=function(F){return M(F)===a},ze.isStrictMode=function(F){return M(F)===s},ze.isSuspense=function(F){return M(F)===y},ze.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===d||F===a||F===s||F===y||F===b||typeof F=="object"&&F!==null&&(F.$$typeof===A||F.$$typeof===E||F.$$typeof===l||F.$$typeof===c||F.$$typeof===p||F.$$typeof===C||F.$$typeof===x||F.$$typeof===N||F.$$typeof===S)},ze.typeOf=M,ze}var yP;function GB(){return yP||(yP=1,qw.exports=qB()),qw.exports}var Gw,vP;function WB(){if(vP)return Gw;vP=1;var i=GB(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[i.ForwardRef]=n,a[i.Memo]=s;function l(A){return i.isMemo(A)?s:a[A.$$typeof]||t}var c=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;function E(A,S,C){if(typeof S!="string"){if(b){var x=y(S);x&&x!==b&&E(A,x,C)}var N=h(S);d&&(N=N.concat(d(S)));for(var M=l(A),P=l(S),F=0;F<N.length;++F){var W=N[F];if(!e[W]&&!(C&&C[W])&&!(P&&P[W])&&!(M&&M[W])){var D=p(S,W);try{c(A,W,D)}catch{}}}}return A}return Gw=E,Gw}WB();var KB=!0;function bL(i,t,e){var n="";return e.split(" ").forEach(function(s){i[s]!==void 0?t.push(i[s]+";"):s&&(n+=s+" ")}),n}var nC=function(t,e,n){var s=t.key+"-"+e.name;(n===!1||KB===!1)&&t.registered[s]===void 0&&(t.registered[s]=e.styles)},iC=function(t,e,n){nC(t,e,n);var s=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var a=e;do t.insert(e===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function YB(i){for(var t=0,e,n=0,s=i.length;s>=4;++n,s-=4)e=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(i.charCodeAt(n+2)&255)<<16;case 2:t^=(i.charCodeAt(n+1)&255)<<8;case 1:t^=i.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var XB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},QB=/[A-Z]|^ms/g,ZB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_L=function(t){return t.charCodeAt(1)===45},bP=function(t){return t!=null&&typeof t!="boolean"},Ww=yL(function(i){return _L(i)?i:i.replace(QB,"-$&").toLowerCase()}),_P=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(ZB,function(n,s,a){return qa={name:s,styles:a,next:qa},s})}return XB[t]!==1&&!_L(t)&&typeof e=="number"&&e!==0?e+"px":e};function dy(i,t,e){if(e==null)return"";var n=e;if(n.__emotion_styles!==void 0)return n;switch(typeof e){case"boolean":return"";case"object":{var s=e;if(s.anim===1)return qa={name:s.name,styles:s.styles,next:qa},s.name;var a=e;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)qa={name:l.name,styles:l.styles,next:qa},l=l.next;var c=a.styles+";";return c}return JB(i,t,e)}case"function":{if(i!==void 0){var h=qa,d=e(i);return qa=h,dy(i,t,d)}break}}var p=e;if(t==null)return p;var y=t[p];return y!==void 0?y:p}function JB(i,t,e){var n="";if(Array.isArray(e))for(var s=0;s<e.length;s++)n+=dy(i,t,e[s])+";";else for(var a in e){var l=e[a];if(typeof l!="object"){var c=l;t!=null&&t[c]!==void 0?n+=a+"{"+t[c]+"}":bP(c)&&(n+=Ww(a)+":"+_P(a,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var h=0;h<l.length;h++)bP(l[h])&&(n+=Ww(a)+":"+_P(a,l[h])+";");else{var d=dy(i,t,l);switch(a){case"animation":case"animationName":{n+=Ww(a)+":"+d+";";break}default:n+=a+"{"+d+"}"}}}return n}var EP=/label:\s*([^\s;{]+)\s*(;|$)/g,qa;function jv(i,t,e){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var n=!0,s="";qa=void 0;var a=i[0];if(a==null||a.raw===void 0)n=!1,s+=dy(e,t,a);else{var l=a;s+=l[0]}for(var c=1;c<i.length;c++)if(s+=dy(e,t,i[c]),n){var h=a;s+=h[c]}EP.lastIndex=0;for(var d="",p;(p=EP.exec(s))!==null;)d+="-"+p[1];var y=YB(s)+d;return{name:y,styles:s,next:qa}}var tz=function(t){return t()},EL=xT.useInsertionEffect?xT.useInsertionEffect:!1,AL=EL||tz,AP=EL||O.useLayoutEffect,SL=O.createContext(typeof HTMLElement<"u"?$B({key:"css"}):null);SL.Provider;var sC=function(t){return O.forwardRef(function(e,n){var s=O.useContext(SL);return t(e,s,n)})},Hv=O.createContext({}),rC={}.hasOwnProperty,PT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ez=function(t,e){var n={};for(var s in e)rC.call(e,s)&&(n[s]=e[s]);return n[PT]=t,n},nz=function(t){var e=t.cache,n=t.serialized,s=t.isStringTag;return nC(e,n,s),AL(function(){return iC(e,n,s)}),null},iz=sC(function(i,t,e){var n=i.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=i[PT],a=[n],l="";typeof i.className=="string"?l=bL(t.registered,a,i.className):i.className!=null&&(l=i.className+" ");var c=jv(a,void 0,O.useContext(Hv));l+=t.key+"-"+c.name;var h={};for(var d in i)rC.call(i,d)&&d!=="css"&&d!==PT&&(h[d]=i[d]);return h.className=l,e&&(h.ref=e),O.createElement(O.Fragment,null,O.createElement(nz,{cache:t,serialized:c,isStringTag:typeof s=="string"}),O.createElement(s,h))}),sz=iz,SP=function(t,e){var n=arguments;if(e==null||!rC.call(e,"css"))return O.createElement.apply(void 0,n);var s=n.length,a=new Array(s);a[0]=sz,a[1]=ez(t,e);for(var l=2;l<s;l++)a[l]=n[l];return O.createElement.apply(null,a)};(function(i){var t;t||(t=i.JSX||(i.JSX={}))})(SP||(SP={}));var rz=sC(function(i,t){var e=i.styles,n=jv([e],void 0,O.useContext(Hv)),s=O.useRef();return AP(function(){var a=t.key+"-global",l=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,h=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),h!==null&&(c=!0,h.setAttribute("data-emotion",a),l.hydrate([h])),s.current=[l,c],function(){l.flush()}},[t]),AP(function(){var a=s.current,l=a[0],c=a[1];if(c){a[1]=!1;return}if(n.next!==void 0&&iC(t,n.next,!0),l.tags.length){var h=l.tags[l.tags.length-1].nextElementSibling;l.before=h,l.flush()}t.insert("",n,l,!1)},[t,n.name]),null});function $v(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return jv(t)}function od(){var i=$v.apply(void 0,arguments),t="animation-"+i.name;return{name:t,styles:"@keyframes "+t+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var az=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oz=yL(function(i){return az.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),lz=oz,cz=function(t){return t!=="theme"},wP=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?lz:cz},TP=function(t,e,n){var s;if(e){var a=e.shouldForwardProp;s=t.__emotion_forwardProp&&a?function(l){return t.__emotion_forwardProp(l)&&a(l)}:a}return typeof s!="function"&&n&&(s=t.__emotion_forwardProp),s},uz=function(t){var e=t.cache,n=t.serialized,s=t.isStringTag;return nC(e,n,s),AL(function(){return iC(e,n,s)}),null},hz=function i(t,e){var n=t.__emotion_real===t,s=n&&t.__emotion_base||t,a,l;e!==void 0&&(a=e.label,l=e.target);var c=TP(t,e,n),h=c||wP(s),d=!h("as");return function(){var p=arguments,y=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&y.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)y.push.apply(y,p);else{var b=p[0];y.push(b[0]);for(var E=p.length,A=1;A<E;A++)y.push(p[A],b[A])}var S=sC(function(C,x,N){var M=d&&C.as||s,P="",F=[],W=C;if(C.theme==null){W={};for(var D in C)W[D]=C[D];W.theme=O.useContext(Hv)}typeof C.className=="string"?P=bL(x.registered,F,C.className):C.className!=null&&(P=C.className+" ");var I=jv(y.concat(F),x.registered,W);P+=x.key+"-"+I.name,l!==void 0&&(P+=" "+l);var L=d&&c===void 0?wP(M):h,T={};for(var U in C)d&&U==="as"||L(U)&&(T[U]=C[U]);return T.className=P,N&&(T.ref=N),O.createElement(O.Fragment,null,O.createElement(uz,{cache:x,serialized:I,isStringTag:typeof M=="string"}),O.createElement(M,T))});return S.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=y,S.__emotion_forwardProp=c,Object.defineProperty(S,"toString",{value:function(){return"."+l}}),S.withComponent=function(C,x){var N=i(C,K_({},e,x,{shouldForwardProp:TP(S,x,!0)}));return N.apply(void 0,y)},S}},dz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],MT=hz.bind(null);dz.forEach(function(i){MT[i]=MT(i)});function fz(i){return i==null||Object.keys(i).length===0}function wL(i){const{styles:t,defaultTheme:e={}}=i,n=typeof t=="function"?s=>t(fz(s)?e:s):t;return z.jsx(rz,{styles:n})}function TL(i,t){return MT(i,t)}function pz(i,t){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=t(i.__emotion_styles))}const xP=[];function CP(i){return xP[0]=i,jv(xP)}var Kw={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function gz(){if(RP)return en;RP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case i:switch(S=S.type,S){case e:case s:case n:case h:case d:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case y:case p:return S;case a:return S;default:return C}}case t:return C}}}return en.ContextConsumer=a,en.ContextProvider=l,en.Element=i,en.ForwardRef=c,en.Fragment=e,en.Lazy=y,en.Memo=p,en.Portal=t,en.Profiler=s,en.StrictMode=n,en.Suspense=h,en.SuspenseList=d,en.isContextConsumer=function(S){return A(S)===a},en.isContextProvider=function(S){return A(S)===l},en.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===i},en.isForwardRef=function(S){return A(S)===c},en.isFragment=function(S){return A(S)===e},en.isLazy=function(S){return A(S)===y},en.isMemo=function(S){return A(S)===p},en.isPortal=function(S){return A(S)===t},en.isProfiler=function(S){return A(S)===s},en.isStrictMode=function(S){return A(S)===n},en.isSuspense=function(S){return A(S)===h},en.isSuspenseList=function(S){return A(S)===d},en.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===e||S===s||S===n||S===h||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===y||S.$$typeof===p||S.$$typeof===l||S.$$typeof===a||S.$$typeof===c||S.$$typeof===E||S.getModuleId!==void 0)},en.typeOf=A,en}var IP;function mz(){return IP||(IP=1,Kw.exports=gz()),Kw.exports}var xL=mz();function Ga(i){if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function CL(i){if(O.isValidElement(i)||xL.isValidElementType(i)||!Ga(i))return i;const t={};return Object.keys(i).forEach(e=>{t[e]=CL(i[e])}),t}function ls(i,t,e={clone:!0}){const n=e.clone?{...i}:i;return Ga(i)&&Ga(t)&&Object.keys(t).forEach(s=>{O.isValidElement(t[s])||xL.isValidElementType(t[s])?n[s]=t[s]:Ga(t[s])&&Object.prototype.hasOwnProperty.call(i,s)&&Ga(i[s])?n[s]=ls(i[s],t[s],e):e.clone?n[s]=Ga(t[s])?CL(t[s]):t[s]:n[s]=t[s]}),n}const yz=i=>{const t=Object.keys(i).map(e=>({key:e,val:i[e]}))||[];return t.sort((e,n)=>e.val-n.val),t.reduce((e,n)=>({...e,[n.key]:n.val}),{})};function vz(i){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:n=5,...s}=i,a=yz(t),l=Object.keys(a);function c(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e})`}function h(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-n/100}${e})`}function d(b,E){const A=l.indexOf(E);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${e}) and (max-width:${(A!==-1&&typeof t[l[A]]=="number"?t[l[A]]:E)-n/100}${e})`}function p(b){return l.indexOf(b)+1<l.length?d(b,l[l.indexOf(b)+1]):c(b)}function y(b){const E=l.indexOf(b);return E===0?c(l[1]):E===l.length-1?h(l[E]):d(b,l[l.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:c,down:h,between:d,only:p,not:y,unit:e,...s}}function bz(i,t){if(!i.containerQueries)return t;const e=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,s)=>{var l,c;const a=/min-width:\s*([0-9.]+)/;return+(((l=n.match(a))==null?void 0:l[1])||0)-+(((c=s.match(a))==null?void 0:c[1])||0)});return e.length?e.reduce((n,s)=>{const a=t[s];return delete n[s],n[s]=a,n},{...t}):t}function _z(i,t){return t==="@"||t.startsWith("@")&&(i.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function Ez(i,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,n,s]=e,a=Number.isNaN(+n)?n||0:+n;return i.containerQueries(s).up(a)}function Az(i){const t=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function e(a,l){a.up=(...c)=>t(i.breakpoints.up(...c),l),a.down=(...c)=>t(i.breakpoints.down(...c),l),a.between=(...c)=>t(i.breakpoints.between(...c),l),a.only=(...c)=>t(i.breakpoints.only(...c),l),a.not=(...c)=>{const h=t(i.breakpoints.not(...c),l);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const n={},s=a=>(e(n,a),n);return e(s),{...i,containerQueries:s}}const Sz={borderRadius:4};function Qm(i,t){return t?ls(i,t,{clone:!1}):i}const KE={xs:0,sm:600,md:900,lg:1200,xl:1536},kP={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${KE[i]}px)`},wz={containerQueries:i=>({up:t=>{let e=typeof t=="number"?t:KE[t]||t;return typeof e=="number"&&(e=`${e}px`),i?`@container ${i} (min-width:${e})`:`@container (min-width:${e})`}})};function bl(i,t,e){const n=i.theme||{};if(Array.isArray(t)){const a=n.breakpoints||kP;return t.reduce((l,c,h)=>(l[a.up(a.keys[h])]=e(t[h]),l),{})}if(typeof t=="object"){const a=n.breakpoints||kP;return Object.keys(t).reduce((l,c)=>{if(_z(a.keys,c)){const h=Ez(n.containerQueries?n:wz,c);h&&(l[h]=e(t[c],c))}else if(Object.keys(a.values||KE).includes(c)){const h=a.up(c);l[h]=e(t[c],c)}else{const h=c;l[h]=t[h]}return l},{})}return e(t)}function Tz(i={}){var e;return((e=i.keys)==null?void 0:e.reduce((n,s)=>{const a=i.up(s);return n[a]={},n},{}))||{}}function xz(i,t){return i.reduce((e,n)=>{const s=e[n];return(!s||Object.keys(s).length===0)&&delete e[n],e},t)}function qt(i){if(typeof i!="string")throw new Error(vl(7));return i.charAt(0).toUpperCase()+i.slice(1)}function YE(i,t,e=!0){if(!t||typeof t!="string")return null;if(i&&i.vars&&e){const n=`vars.${t}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,i);if(n!=null)return n}return t.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,i)}function X_(i,t,e,n=e){let s;return typeof i=="function"?s=i(e):Array.isArray(i)?s=i[e]||n:s=YE(i,e)||n,t&&(s=t(s,n,i)),s}function Yn(i){const{prop:t,cssProperty:e=i.prop,themeKey:n,transform:s}=i,a=l=>{if(l[t]==null)return null;const c=l[t],h=l.theme,d=YE(h,n)||{};return bl(l,c,y=>{let b=X_(d,s,y);return y===b&&typeof y=="string"&&(b=X_(d,s,`${t}${y==="default"?"":qt(y)}`,y)),e===!1?b:{[e]:b}})};return a.propTypes={},a.filterProps=[t],a}function Cz(i){const t={};return e=>(t[e]===void 0&&(t[e]=i(e)),t[e])}const Rz={m:"margin",p:"padding"},Iz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kz=Cz(i=>{if(i.length>2)if(PP[i])i=PP[i];else return[i];const[t,e]=i.split(""),n=Rz[t],s=Iz[e]||"";return Array.isArray(s)?s.map(a=>n+a):[n+s]}),aC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],oC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...aC,...oC];function qv(i,t,e,n){const s=YE(i,t,!0)??e;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),c=s[l];return a>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof s=="function"?s:()=>{}}function lC(i){return qv(i,"spacing",8)}function Gv(i,t){return typeof t=="string"||t==null?t:i(t)}function Pz(i,t){return e=>i.reduce((n,s)=>(n[s]=Gv(t,e),n),{})}function Mz(i,t,e,n){if(!t.includes(e))return null;const s=kz(e),a=Pz(s,n),l=i[e];return bl(i,l,a)}function RL(i,t){const e=lC(i.theme);return Object.keys(i).map(n=>Mz(i,t,n,e)).reduce(Qm,{})}function Fn(i){return RL(i,aC)}Fn.propTypes={};Fn.filterProps=aC;function Vn(i){return RL(i,oC)}Vn.propTypes={};Vn.filterProps=oC;function IL(i=8,t=lC({spacing:i})){if(i.mui)return i;const e=(...n)=>(n.length===0?[1]:n).map(a=>{const l=t(a);return typeof l=="number"?`${l}px`:l}).join(" ");return e.mui=!0,e}function XE(...i){const t=i.reduce((n,s)=>(s.filterProps.forEach(a=>{n[a]=s}),n),{}),e=n=>Object.keys(n).reduce((s,a)=>t[a]?Qm(s,t[a](n)):s,{});return e.propTypes={},e.filterProps=i.reduce((n,s)=>n.concat(s.filterProps),[]),e}function wr(i){return typeof i!="number"?i:`${i}px solid`}function kr(i,t){return Yn({prop:i,themeKey:"borders",transform:t})}const Oz=kr("border",wr),Dz=kr("borderTop",wr),Lz=kr("borderRight",wr),Nz=kr("borderBottom",wr),Fz=kr("borderLeft",wr),Vz=kr("borderColor"),Uz=kr("borderTopColor"),Bz=kr("borderRightColor"),zz=kr("borderBottomColor"),jz=kr("borderLeftColor"),Hz=kr("outline",wr),$z=kr("outlineColor"),QE=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const t=qv(i.theme,"shape.borderRadius",4),e=n=>({borderRadius:Gv(t,n)});return bl(i,i.borderRadius,e)}return null};QE.propTypes={};QE.filterProps=["borderRadius"];XE(Oz,Dz,Lz,Nz,Fz,Vz,Uz,Bz,zz,jz,QE,Hz,$z);const ZE=i=>{if(i.gap!==void 0&&i.gap!==null){const t=qv(i.theme,"spacing",8),e=n=>({gap:Gv(t,n)});return bl(i,i.gap,e)}return null};ZE.propTypes={};ZE.filterProps=["gap"];const JE=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const t=qv(i.theme,"spacing",8),e=n=>({columnGap:Gv(t,n)});return bl(i,i.columnGap,e)}return null};JE.propTypes={};JE.filterProps=["columnGap"];const tA=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const t=qv(i.theme,"spacing",8),e=n=>({rowGap:Gv(t,n)});return bl(i,i.rowGap,e)}return null};tA.propTypes={};tA.filterProps=["rowGap"];const qz=Yn({prop:"gridColumn"}),Gz=Yn({prop:"gridRow"}),Wz=Yn({prop:"gridAutoFlow"}),Kz=Yn({prop:"gridAutoColumns"}),Yz=Yn({prop:"gridAutoRows"}),Xz=Yn({prop:"gridTemplateColumns"}),Qz=Yn({prop:"gridTemplateRows"}),Zz=Yn({prop:"gridTemplateAreas"}),Jz=Yn({prop:"gridArea"});XE(ZE,JE,tA,qz,Gz,Wz,Kz,Yz,Xz,Qz,Zz,Jz);function kf(i,t){return t==="grey"?t:i}const tj=Yn({prop:"color",themeKey:"palette",transform:kf}),ej=Yn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:kf}),nj=Yn({prop:"backgroundColor",themeKey:"palette",transform:kf});XE(tj,ej,nj);function tr(i){return i<=1&&i!==0?`${i*100}%`:i}const ij=Yn({prop:"width",transform:tr}),cC=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const t=e=>{var s,a,l,c,h;const n=((l=(a=(s=i.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:l[e])||KE[e];return n?((h=(c=i.theme)==null?void 0:c.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${n}${i.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:tr(e)}};return bl(i,i.maxWidth,t)}return null};cC.filterProps=["maxWidth"];const sj=Yn({prop:"minWidth",transform:tr}),rj=Yn({prop:"height",transform:tr}),aj=Yn({prop:"maxHeight",transform:tr}),oj=Yn({prop:"minHeight",transform:tr});Yn({prop:"size",cssProperty:"width",transform:tr});Yn({prop:"size",cssProperty:"height",transform:tr});const lj=Yn({prop:"boxSizing"});XE(ij,cC,sj,rj,aj,oj,lj);const Wv={border:{themeKey:"borders",transform:wr},borderTop:{themeKey:"borders",transform:wr},borderRight:{themeKey:"borders",transform:wr},borderBottom:{themeKey:"borders",transform:wr},borderLeft:{themeKey:"borders",transform:wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:QE},color:{themeKey:"palette",transform:kf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:kf},backgroundColor:{themeKey:"palette",transform:kf},p:{style:Vn},pt:{style:Vn},pr:{style:Vn},pb:{style:Vn},pl:{style:Vn},px:{style:Vn},py:{style:Vn},padding:{style:Vn},paddingTop:{style:Vn},paddingRight:{style:Vn},paddingBottom:{style:Vn},paddingLeft:{style:Vn},paddingX:{style:Vn},paddingY:{style:Vn},paddingInline:{style:Vn},paddingInlineStart:{style:Vn},paddingInlineEnd:{style:Vn},paddingBlock:{style:Vn},paddingBlockStart:{style:Vn},paddingBlockEnd:{style:Vn},m:{style:Fn},mt:{style:Fn},mr:{style:Fn},mb:{style:Fn},ml:{style:Fn},mx:{style:Fn},my:{style:Fn},margin:{style:Fn},marginTop:{style:Fn},marginRight:{style:Fn},marginBottom:{style:Fn},marginLeft:{style:Fn},marginX:{style:Fn},marginY:{style:Fn},marginInline:{style:Fn},marginInlineStart:{style:Fn},marginInlineEnd:{style:Fn},marginBlock:{style:Fn},marginBlockStart:{style:Fn},marginBlockEnd:{style:Fn},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ZE},rowGap:{style:tA},columnGap:{style:JE},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:tr},maxWidth:{style:cC},minWidth:{transform:tr},height:{transform:tr},maxHeight:{transform:tr},minHeight:{transform:tr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cj(...i){const t=i.reduce((n,s)=>n.concat(Object.keys(s)),[]),e=new Set(t);return i.every(n=>e.size===Object.keys(n).length)}function uj(i,t){return typeof i=="function"?i(t):i}function hj(){function i(e,n,s,a){const l={[e]:n,theme:s},c=a[e];if(!c)return{[e]:n};const{cssProperty:h=e,themeKey:d,transform:p,style:y}=c;if(n==null)return null;if(d==="typography"&&n==="inherit")return{[e]:n};const b=YE(s,d)||{};return y?y(l):bl(l,n,A=>{let S=X_(b,p,A);return A===S&&typeof A=="string"&&(S=X_(b,p,`${e}${A==="default"?"":qt(A)}`,A)),h===!1?S:{[h]:S}})}function t(e){const{sx:n,theme:s={}}=e||{};if(!n)return null;const a=s.unstable_sxConfig??Wv;function l(c){let h=c;if(typeof c=="function")h=c(s);else if(typeof c!="object")return c;if(!h)return null;const d=Tz(s.breakpoints),p=Object.keys(d);let y=d;return Object.keys(h).forEach(b=>{const E=uj(h[b],s);if(E!=null)if(typeof E=="object")if(a[b])y=Qm(y,i(b,E,s,a));else{const A=bl({theme:s},E,S=>({[b]:S}));cj(A,E)?y[b]=t({sx:E,theme:s}):y=Qm(y,A)}else y=Qm(y,i(b,E,s,a))}),bz(s,xz(p,y))}return Array.isArray(n)?n.map(l):l(n)}return t}const Gc=hj();Gc.filterProps=["sx"];function dj(i,t){var n;const e=this;if(e.vars){if(!((n=e.colorSchemes)!=null&&n[i])||typeof e.getColorSchemeSelector!="function")return{};let s=e.getColorSchemeSelector(i);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return e.palette.mode===i?t:{}}function uC(i={},...t){const{breakpoints:e={},palette:n={},spacing:s,shape:a={},...l}=i,c=vz(e),h=IL(s);let d=ls({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:h,shape:{...Sz,...a}},l);return d=Az(d),d.applyStyles=dj,d=t.reduce((p,y)=>ls(p,y),d),d.unstable_sxConfig={...Wv,...l==null?void 0:l.unstable_sxConfig},d.unstable_sx=function(y){return Gc({sx:y,theme:this})},d}function fj(i){return Object.keys(i).length===0}function kL(i=null){const t=O.useContext(Hv);return!t||fj(t)?i:t}const pj=uC();function hC(i=pj){return kL(i)}function gj({styles:i,themeId:t,defaultTheme:e={}}){const n=hC(e),s=typeof i=="function"?i(t&&n[t]||n):i;return z.jsx(wL,{styles:s})}const mj=i=>{var n;const t={systemProps:{},otherProps:{}},e=((n=i==null?void 0:i.theme)==null?void 0:n.unstable_sxConfig)??Wv;return Object.keys(i).forEach(s=>{e[s]?t.systemProps[s]=i[s]:t.otherProps[s]=i[s]}),t};function PL(i){const{sx:t,...e}=i,{systemProps:n,otherProps:s}=mj(e);let a;return Array.isArray(t)?a=[n,...t]:typeof t=="function"?a=(...l)=>{const c=t(...l);return Ga(c)?{...n,...c}:n}:a={...n,...t},{...s,sx:a}}const MP=i=>i,yj=()=>{let i=MP;return{configure(t){i=t},generate(t){return i(t)},reset(){i=MP}}},ML=yj();function OL(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=OL(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function te(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=OL(i))&&(n&&(n+=" "),n+=t);return n}function vj(i={}){const{themeId:t,defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:s}=i,a=TL("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Gc);return O.forwardRef(function(h,d){const p=hC(e),{className:y,component:b="div",...E}=PL(h);return z.jsx(a,{as:b,ref:d,className:te(y,s?s(n):n),theme:t&&p[t]||p,...E})})}const bj={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function un(i,t,e="Mui"){const n=bj[t];return n?`${e}-${n}`:`${ML.generate(i)}-${t}`}function rn(i,t,e="Mui"){const n={};return t.forEach(s=>{n[s]=un(i,s,e)}),n}function DL(i){const{variants:t,...e}=i,n={variants:t,style:CP(e),isProcessed:!0};return n.style===e||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=CP(s.style))}),n}const _j=uC();function Yw(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function Ej(i){return i?(t,e)=>e[i]:null}function Aj(i,t,e){i.theme=Tj(i.theme)?e:i.theme[t]||i.theme}function a_(i,t){const e=typeof t=="function"?t(i):t;if(Array.isArray(e))return e.flatMap(n=>a_(i,n));if(Array.isArray(e==null?void 0:e.variants)){let n;if(e.isProcessed)n=e.style;else{const{variants:s,...a}=e;n=a}return LL(i,e.variants,[n])}return e!=null&&e.isProcessed?e.style:e}function LL(i,t,e=[]){var s;let n;t:for(let a=0;a<t.length;a+=1){const l=t[a];if(typeof l.props=="function"){if(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),!l.props(n))continue}else for(const c in l.props)if(i[c]!==l.props[c]&&((s=i.ownerState)==null?void 0:s[c])!==l.props[c])continue t;typeof l.style=="function"?(n??(n={...i,...i.ownerState,ownerState:i.ownerState}),e.push(l.style(n))):e.push(l.style)}return e}function Sj(i={}){const{themeId:t,defaultTheme:e=_j,rootShouldForwardProp:n=Yw,slotShouldForwardProp:s=Yw}=i;function a(c){Aj(c,t,e)}return(c,h={})=>{pz(c,F=>F.filter(W=>W!==Gc));const{name:d,slot:p,skipVariantsResolver:y,skipSx:b,overridesResolver:E=Ej(Cj(p)),...A}=h,S=y!==void 0?y:p&&p!=="Root"&&p!=="root"||!1,C=b||!1;let x=Yw;p==="Root"||p==="root"?x=n:p?x=s:xj(c)&&(x=void 0);const N=TL(c,{shouldForwardProp:x,label:wj(),...A}),M=F=>{if(F.__emotion_real===F)return F;if(typeof F=="function")return function(D){return a_(D,F)};if(Ga(F)){const W=DL(F);return W.variants?function(I){return a_(I,W)}:W.style}return F},P=(...F)=>{const W=[],D=F.map(M),I=[];if(W.push(a),d&&E&&I.push(function(q){var Y,Q;const ct=(Q=(Y=q.theme.components)==null?void 0:Y[d])==null?void 0:Q.styleOverrides;if(!ct)return null;const nt={};for(const at in ct)nt[at]=a_(q,ct[at]);return E(q,nt)}),d&&!S&&I.push(function(q){var nt,Y;const j=q.theme,ct=(Y=(nt=j==null?void 0:j.components)==null?void 0:nt[d])==null?void 0:Y.variants;return ct?LL(q,ct):null}),C||I.push(Gc),Array.isArray(D[0])){const U=D.shift(),q=new Array(W.length).fill(""),j=new Array(I.length).fill("");let ct;ct=[...q,...U,...j],ct.raw=[...q,...U.raw,...j],W.unshift(ct)}const L=[...W,...D,...I],T=N(...L);return c.muiName&&(T.muiName=c.muiName),T};return N.withConfig&&(P.withConfig=N.withConfig),P}}function wj(i,t){return void 0}function Tj(i){for(const t in i)return!1;return!0}function xj(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Cj(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}function Q_(i,t){const e={...t};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const s=n;if(s==="components"||s==="slots")e[s]={...i[s],...e[s]};else if(s==="componentsProps"||s==="slotProps"){const a=i[s],l=t[s];if(!l)e[s]=a||{};else if(!a)e[s]=l;else{e[s]={...l};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const h=c;e[s][h]=Q_(a[h],l[h])}}}else e[s]===void 0&&(e[s]=i[s])}return e}const Wc=typeof window<"u"?O.useLayoutEffect:O.useEffect;function Rj(i,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(i,e))}function dC(i,t=0,e=1){return Rj(i,t,e)}function Ij(i){i=i.slice(1);const t=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let e=i.match(t);return e&&e[0].length===1&&(e=e.map(n=>n+n)),e?`rgb${e.length===4?"a":""}(${e.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Kc(i){if(i.type)return i;if(i.charAt(0)==="#")return Kc(Ij(i));const t=i.indexOf("("),e=i.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(vl(9,i));let n=i.substring(t+1,i.length-1),s;if(e==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(vl(10,s))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:e,values:n,colorSpace:s}}const kj=i=>{const t=Kc(i);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&n!==0?`${e}%`:e).join(" ")},Im=(i,t)=>{try{return kj(i)}catch{return i}};function eA(i){const{type:t,colorSpace:e}=i;let{values:n}=i;return t.includes("rgb")?n=n.map((s,a)=>a<3?parseInt(s,10):s):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${e} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function NL(i){i=Kc(i);const{values:t}=i,e=t[0],n=t[1]/100,s=t[2]/100,a=n*Math.min(s,1-s),l=(d,p=(d+e/30)%12)=>s-a*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const h=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return i.type==="hsla"&&(c+="a",h.push(t[3])),eA({type:c,values:h})}function OT(i){i=Kc(i);let t=i.type==="hsl"||i.type==="hsla"?Kc(NL(i)).values:i.values;return t=t.map(e=>(i.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Pj(i,t){const e=OT(i),n=OT(t);return(Math.max(e,n)+.05)/(Math.min(e,n)+.05)}function Qr(i,t){return i=Kc(i),t=dC(t),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${t}`:i.values[3]=t,eA(i)}function D0(i,t,e){try{return Qr(i,t)}catch{return i}}function fC(i,t){if(i=Kc(i),t=dC(t),i.type.includes("hsl"))i.values[2]*=1-t;else if(i.type.includes("rgb")||i.type.includes("color"))for(let e=0;e<3;e+=1)i.values[e]*=1-t;return eA(i)}function on(i,t,e){try{return fC(i,t)}catch{return i}}function pC(i,t){if(i=Kc(i),t=dC(t),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*t;else if(i.type.includes("rgb"))for(let e=0;e<3;e+=1)i.values[e]+=(255-i.values[e])*t;else if(i.type.includes("color"))for(let e=0;e<3;e+=1)i.values[e]+=(1-i.values[e])*t;return eA(i)}function ln(i,t,e){try{return pC(i,t)}catch{return i}}function Mj(i,t=.15){return OT(i)>.5?fC(i,t):pC(i,t)}function L0(i,t,e){try{return Mj(i,t)}catch{return i}}const FL=O.createContext(null);function gC(){return O.useContext(FL)}const Oj=typeof Symbol=="function"&&Symbol.for,Dj=Oj?Symbol.for("mui.nested"):"__THEME_NESTED__";function Lj(i,t){return typeof t=="function"?t(i):{...i,...t}}function Nj(i){const{children:t,theme:e}=i,n=gC(),s=O.useMemo(()=>{const a=n===null?{...e}:Lj(n,e);return a!=null&&(a[Dj]=n!==null),a},[e,n]);return z.jsx(FL.Provider,{value:s,children:t})}const VL=O.createContext();function Fj({value:i,...t}){return z.jsx(VL.Provider,{value:i??!0,...t})}const Vj=()=>O.useContext(VL)??!1,UL=O.createContext(void 0);function Uj({value:i,children:t}){return z.jsx(UL.Provider,{value:i,children:t})}function Bj(i){const{theme:t,name:e,props:n}=i;if(!t||!t.components||!t.components[e])return n;const s=t.components[e];return s.defaultProps?Q_(s.defaultProps,n):!s.styleOverrides&&!s.variants?Q_(s,n):n}function zj({props:i,name:t}){const e=O.useContext(UL);return Bj({props:i,name:t,theme:{components:e}})}const OP={};function DP(i,t,e,n=!1){return O.useMemo(()=>{const s=i&&t[i]||t;if(typeof e=="function"){const a=e(s),l=i?{...t,[i]:a}:a;return n?()=>l:l}return i?{...t,[i]:e}:{...t,...e}},[i,t,e,n])}function BL(i){const{children:t,theme:e,themeId:n}=i,s=kL(OP),a=gC()||OP,l=DP(n,s,e),c=DP(n,a,e,!0),h=(n?l[n]:l).direction==="rtl";return z.jsx(Nj,{theme:c,children:z.jsx(Hv.Provider,{value:l,children:z.jsx(Fj,{value:h,children:z.jsx(Uj,{value:n?l[n].components:l.components,children:t})})})})}const LP={theme:void 0};function jj(i){let t,e;return function(s){let a=t;return(a===void 0||s.theme!==e)&&(LP.theme=s.theme,a=DL(i(LP)),t=a,e=s.theme),a}}const mC="mode",yC="color-scheme",Hj="data-color-scheme";function $j(i){const{defaultMode:t="system",defaultLightColorScheme:e="light",defaultDarkColorScheme:n="dark",modeStorageKey:s=mC,colorSchemeStorageKey:a=yC,attribute:l=Hj,colorSchemeNode:c="document.documentElement",nonce:h}=i||{};let d="",p=l;if(l==="class"&&(p=".%s"),l==="data"&&(p="[data-%s]"),p.startsWith(".")){const b=p.substring(1);d+=`${c}.classList.remove('${b}'.replace('%s', light), '${b}'.replace('%s', dark));
      ${c}.classList.add('${b}'.replace('%s', colorScheme));`}const y=p.match(/\[([^\]]+)\]/);if(y){const[b,E]=y[1].split("=");E||(d+=`${c}.removeAttribute('${b}'.replace('%s', light));
      ${c}.removeAttribute('${b}'.replace('%s', dark));`),d+=`
      ${c}.setAttribute('${b}'.replace('%s', colorScheme), ${E?`${E}.replace('%s', colorScheme)`:'""'});`}else d+=`${c}.setAttribute('${p}', colorScheme);`;return z.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${s}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${e}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function qj(){}const Gj=({key:i,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(e){if(typeof window>"u")return;if(!t)return e;let n;try{n=t.localStorage.getItem(i)}catch{}return n||e},set:e=>{if(t)try{t.localStorage.setItem(i,e)}catch{}},subscribe:e=>{if(!t)return qj;const n=s=>{const a=s.newValue;s.key===i&&e(a)};return t.addEventListener("storage",n),()=>{t.removeEventListener("storage",n)}}});function Xw(){}function NP(i){if(typeof window<"u"&&typeof window.matchMedia=="function"&&i==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function zL(i,t){if(i.mode==="light"||i.mode==="system"&&i.systemMode==="light")return t("light");if(i.mode==="dark"||i.mode==="system"&&i.systemMode==="dark")return t("dark")}function Wj(i){return zL(i,t=>{if(t==="light")return i.lightColorScheme;if(t==="dark")return i.darkColorScheme})}function Kj(i){const{defaultMode:t="light",defaultLightColorScheme:e,defaultDarkColorScheme:n,supportedColorSchemes:s=[],modeStorageKey:a=mC,colorSchemeStorageKey:l=yC,storageWindow:c=typeof window>"u"?void 0:window,storageManager:h=Gj,noSsr:d=!1}=i,p=s.join(","),y=s.length>1,b=O.useMemo(()=>h==null?void 0:h({key:a,storageWindow:c}),[h,a,c]),E=O.useMemo(()=>h==null?void 0:h({key:`${l}-light`,storageWindow:c}),[h,l,c]),A=O.useMemo(()=>h==null?void 0:h({key:`${l}-dark`,storageWindow:c}),[h,l,c]),[S,C]=O.useState(()=>{const I=(b==null?void 0:b.get(t))||t,L=(E==null?void 0:E.get(e))||e,T=(A==null?void 0:A.get(n))||n;return{mode:I,systemMode:NP(I),lightColorScheme:L,darkColorScheme:T}}),[x,N]=O.useState(d||!y);O.useEffect(()=>{N(!0)},[]);const M=Wj(S),P=O.useCallback(I=>{C(L=>{if(I===L.mode)return L;const T=I??t;return b==null||b.set(T),{...L,mode:T,systemMode:NP(T)}})},[b,t]),F=O.useCallback(I=>{I?typeof I=="string"?I&&!p.includes(I)?console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`):C(L=>{const T={...L};return zL(L,U=>{U==="light"&&(E==null||E.set(I),T.lightColorScheme=I),U==="dark"&&(A==null||A.set(I),T.darkColorScheme=I)}),T}):C(L=>{const T={...L},U=I.light===null?e:I.light,q=I.dark===null?n:I.dark;return U&&(p.includes(U)?(T.lightColorScheme=U,E==null||E.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),q&&(p.includes(q)?(T.darkColorScheme=q,A==null||A.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),T}):C(L=>(E==null||E.set(e),A==null||A.set(n),{...L,lightColorScheme:e,darkColorScheme:n}))},[p,E,A,e,n]),W=O.useCallback(I=>{S.mode==="system"&&C(L=>{const T=I!=null&&I.matches?"dark":"light";return L.systemMode===T?L:{...L,systemMode:T}})},[S.mode]),D=O.useRef(W);return D.current=W,O.useEffect(()=>{if(typeof window.matchMedia!="function"||!y)return;const I=(...T)=>D.current(...T),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(I),I(L),()=>{L.removeListener(I)}},[y]),O.useEffect(()=>{if(y){const I=(b==null?void 0:b.subscribe(U=>{(!U||["light","dark","system"].includes(U))&&P(U||t)}))||Xw,L=(E==null?void 0:E.subscribe(U=>{(!U||p.match(U))&&F({light:U})}))||Xw,T=(A==null?void 0:A.subscribe(U=>{(!U||p.match(U))&&F({dark:U})}))||Xw;return()=>{I(),L(),T()}}},[F,P,p,t,c,y,b,E,A]),{...S,mode:x?S.mode:void 0,systemMode:x?S.systemMode:void 0,colorScheme:x?M:void 0,setMode:P,setColorScheme:F}}const Yj="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Xj(i){const{themeId:t,theme:e={},modeStorageKey:n=mC,colorSchemeStorageKey:s=yC,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:c}=i,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=O.createContext(void 0),p=()=>O.useContext(d)||h,y={},b={};function E(x){var Re,ee,Xe,Oe;const{children:N,theme:M,modeStorageKey:P=n,colorSchemeStorageKey:F=s,disableTransitionOnChange:W=a,storageManager:D,storageWindow:I=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:U=!1,disableStyleSheetGeneration:q=!1,defaultMode:j="system",forceThemeRerender:ct=!1,noSsr:nt}=x,Y=O.useRef(!1),Q=gC(),at=O.useContext(d),dt=!!at&&!U,K=O.useMemo(()=>M||(typeof e=="function"?e():e),[M]),rt=K[t],ut=rt||K,{colorSchemes:st=y,components:vt=b,cssVarPrefix:wt}=ut,_t=Object.keys(st).filter(De=>!!st[De]).join(","),xt=O.useMemo(()=>_t.split(","),[_t]),Bt=typeof l=="string"?l:l.light,jt=typeof l=="string"?l:l.dark,Et=st[Bt]&&st[jt]?j:((ee=(Re=st[ut.defaultColorScheme])==null?void 0:Re.palette)==null?void 0:ee.mode)||((Xe=ut.palette)==null?void 0:Xe.mode),{mode:Ht,setMode:Gt,systemMode:Mt,lightColorScheme:kt,darkColorScheme:Wt,colorScheme:ue,setColorScheme:fe}=Kj({supportedColorSchemes:xt,defaultLightColorScheme:Bt,defaultDarkColorScheme:jt,modeStorageKey:P,colorSchemeStorageKey:F,defaultMode:Et,storageManager:D,storageWindow:I,noSsr:nt});let ke=Ht,Ue=ue;dt&&(ke=at.mode,Ue=at.colorScheme);let He=Ue||ut.defaultColorScheme;ut.vars&&!ct&&(He=ut.defaultColorScheme);const pe=O.useMemo(()=>{var On;const De=((On=ut.generateThemeVars)==null?void 0:On.call(ut))||ut.vars,Kt={...ut,components:vt,colorSchemes:st,cssVarPrefix:wt,vars:De};if(typeof Kt.generateSpacing=="function"&&(Kt.spacing=Kt.generateSpacing()),He){const vn=st[He];vn&&typeof vn=="object"&&Object.keys(vn).forEach(Dn=>{vn[Dn]&&typeof vn[Dn]=="object"?Kt[Dn]={...Kt[Dn],...vn[Dn]}:Kt[Dn]=vn[Dn]})}return c?c(Kt):Kt},[ut,He,vt,st,wt]),Ot=ut.colorSchemeSelector;Wc(()=>{if(Ue&&T&&Ot&&Ot!=="media"){const De=Ot;let Kt=Ot;if(De==="class"&&(Kt=".%s"),De==="data"&&(Kt="[data-%s]"),De!=null&&De.startsWith("data-")&&!De.includes("%s")&&(Kt=`[${De}="%s"]`),Kt.startsWith("."))T.classList.remove(...xt.map(On=>Kt.substring(1).replace("%s",On))),T.classList.add(Kt.substring(1).replace("%s",Ue));else{const On=Kt.replace("%s",Ue).match(/\[([^\]]+)\]/);if(On){const[vn,Dn]=On[1].split("=");Dn||xt.forEach(Dt=>{T.removeAttribute(vn.replace(Ue,Dt))}),T.setAttribute(vn,Dn?Dn.replace(/"|'/g,""):"")}else T.setAttribute(Kt,Ue)}}},[Ue,Ot,T,xt]),O.useEffect(()=>{let De;if(W&&Y.current&&L){const Kt=L.createElement("style");Kt.appendChild(L.createTextNode(Yj)),L.head.appendChild(Kt),window.getComputedStyle(L.body),De=setTimeout(()=>{L.head.removeChild(Kt)},1)}return()=>{clearTimeout(De)}},[Ue,W,L]),O.useEffect(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const oi=O.useMemo(()=>({allColorSchemes:xt,colorScheme:Ue,darkColorScheme:Wt,lightColorScheme:kt,mode:ke,setColorScheme:fe,setMode:Gt,systemMode:Mt}),[xt,Ue,Wt,kt,ke,fe,Gt,Mt,pe.colorSchemeSelector]);let Ye=!0;(q||ut.cssVariables===!1||dt&&(Q==null?void 0:Q.cssVarPrefix)===wt)&&(Ye=!1);const Gi=z.jsxs(O.Fragment,{children:[z.jsx(BL,{themeId:rt?t:void 0,theme:pe,children:N}),Ye&&z.jsx(wL,{styles:((Oe=pe.generateStyleSheets)==null?void 0:Oe.call(pe))||[]})]});return dt?Gi:z.jsx(d.Provider,{value:oi,children:Gi})}const A=typeof l=="string"?l:l.light,S=typeof l=="string"?l:l.dark;return{CssVarsProvider:E,useColorScheme:p,getInitColorSchemeScript:x=>$j({colorSchemeStorageKey:s,defaultLightColorScheme:A,defaultDarkColorScheme:S,modeStorageKey:n,...x})}}function Qj(i=""){function t(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${s}${t(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${i?`${i}-`:""}${n}${t(...s)})`}const FP=(i,t,e,n=[])=>{let s=i;t.forEach((a,l)=>{l===t.length-1?Array.isArray(s)?s[Number(a)]=e:s&&typeof s=="object"&&(s[a]=e):s&&typeof s=="object"&&(s[a]||(s[a]=n.includes(a)?[]:{}),s=s[a])})},Zj=(i,t,e)=>{function n(s,a=[],l=[]){Object.entries(s).forEach(([c,h])=>{(!e||e&&!e([...a,c]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?n(h,[...a,c],Array.isArray(h)?[...l,c]:l):t([...a,c],h,l))})}n(i)},Jj=(i,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>i.includes(n))||i[i.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Qw(i,t){const{prefix:e,shouldSkipGeneratingVar:n}=t||{},s={},a={},l={};return Zj(i,(c,h,d)=>{if((typeof h=="string"||typeof h=="number")&&(!n||!n(c,h))){const p=`--${e?`${e}-`:""}${c.join("-")}`,y=Jj(c,h);Object.assign(s,{[p]:y}),FP(a,c,`var(${p})`,d),FP(l,c,`var(${p}, ${y})`,d)}},c=>c[0]==="vars"),{css:s,vars:a,varsWithDefaults:l}}function t9(i,t={}){const{getSelector:e=C,disableCssColorScheme:n,colorSchemeSelector:s}=t,{colorSchemes:a={},components:l,defaultColorScheme:c="light",...h}=i,{vars:d,css:p,varsWithDefaults:y}=Qw(h,t);let b=y;const E={},{[c]:A,...S}=a;if(Object.entries(S||{}).forEach(([M,P])=>{const{vars:F,css:W,varsWithDefaults:D}=Qw(P,t);b=ls(b,D),E[M]={css:W,vars:F}}),A){const{css:M,vars:P,varsWithDefaults:F}=Qw(A,t);b=ls(b,F),E[c]={css:M,vars:P}}function C(M,P){var W,D;let F=s;if(s==="class"&&(F=".%s"),s==="data"&&(F="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(F=`[${s}="%s"]`),M){if(F==="media")return i.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(W=a[M])==null?void 0:W.palette)==null?void 0:D.mode)||M})`]:{":root":P}};if(F)return i.defaultColorScheme===M?`:root, ${F.replace("%s",String(M))}`:F.replace("%s",String(M))}return":root"}return{vars:b,generateThemeVars:()=>{let M={...d};return Object.entries(E).forEach(([,{vars:P}])=>{M=ls(M,P)}),M},generateStyleSheets:()=>{var I,L;const M=[],P=i.defaultColorScheme||"light";function F(T,U){Object.keys(U).length&&M.push(typeof T=="string"?{[T]:{...U}}:T)}F(e(void 0,{...p}),p);const{[P]:W,...D}=E;if(W){const{css:T}=W,U=(L=(I=a[P])==null?void 0:I.palette)==null?void 0:L.mode,q=!n&&U?{colorScheme:U,...T}:{...T};F(e(P,{...q}),q)}return Object.entries(D).forEach(([T,{css:U}])=>{var ct,nt;const q=(nt=(ct=a[T])==null?void 0:ct.palette)==null?void 0:nt.mode,j=!n&&q?{colorScheme:q,...U}:{...U};F(e(T,{...j}),j)}),M}}}function e9(i){return function(e){return i==="media"?`@media (prefers-color-scheme: ${e})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${e}"] &`:i==="class"?`.${e} &`:i==="data"?`[data-${e}] &`:`${i.replace("%s",e)} &`:"&"}}function hn(i,t,e=void 0){const n={};for(const s in i){const a=i[s];let l="",c=!0;for(let h=0;h<a.length;h+=1){const d=a[h];d&&(l+=(c===!0?"":" ")+t(d),c=!1,e&&e[d]&&(l+=" "+e[d]))}n[s]=l}return n}function Zw(i,t){var e,n,s;return O.isValidElement(i)&&t.indexOf(i.type.muiName??((s=(n=(e=i.type)==null?void 0:e._payload)==null?void 0:n.value)==null?void 0:s.muiName))!==-1}const Ya="$$material",fy={black:"#000",white:"#fff"},n9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},rf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},af={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Am={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},of={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function jL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fy.white,default:fy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const i9=jL();function HL(){return{text:{primary:fy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VP=HL();function UP(i,t,e,n){const s=n.light||n,a=n.dark||n*1.5;i[t]||(i.hasOwnProperty(e)?i[t]=i[e]:t==="light"?i.light=pC(i.main,s):t==="dark"&&(i.dark=fC(i.main,a)))}function s9(i="light"){return i==="dark"?{main:of[200],light:of[50],dark:of[400]}:{main:of[700],light:of[400],dark:of[800]}}function r9(i="light"){return i==="dark"?{main:rf[200],light:rf[50],dark:rf[400]}:{main:rf[500],light:rf[300],dark:rf[700]}}function a9(i="light"){return i==="dark"?{main:af[500],light:af[300],dark:af[700]}:{main:af[700],light:af[400],dark:af[800]}}function o9(i="light"){return i==="dark"?{main:lf[400],light:lf[300],dark:lf[700]}:{main:lf[700],light:lf[500],dark:lf[900]}}function l9(i="light"){return i==="dark"?{main:cf[400],light:cf[300],dark:cf[700]}:{main:cf[800],light:cf[500],dark:cf[900]}}function c9(i="light"){return i==="dark"?{main:Am[400],light:Am[300],dark:Am[700]}:{main:"#ed6c02",light:Am[500],dark:Am[900]}}function vC(i){const{mode:t="light",contrastThreshold:e=3,tonalOffset:n=.2,...s}=i,a=i.primary||s9(t),l=i.secondary||r9(t),c=i.error||a9(t),h=i.info||o9(t),d=i.success||l9(t),p=i.warning||c9(t);function y(S){return Pj(S,VP.text.primary)>=e?VP.text.primary:i9.text.primary}const b=({color:S,name:C,mainShade:x=500,lightShade:N=300,darkShade:M=700})=>{if(S={...S},!S.main&&S[x]&&(S.main=S[x]),!S.hasOwnProperty("main"))throw new Error(vl(11,C?` (${C})`:"",x));if(typeof S.main!="string")throw new Error(vl(12,C?` (${C})`:"",JSON.stringify(S.main)));return UP(S,"light",N,n),UP(S,"dark",M,n),S.contrastText||(S.contrastText=y(S.main)),S};let E;return t==="light"?E=jL():t==="dark"&&(E=HL()),ls({common:{...fy},mode:t,primary:b({color:a,name:"primary"}),secondary:b({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:c,name:"error"}),warning:b({color:p,name:"warning"}),info:b({color:h,name:"info"}),success:b({color:d,name:"success"}),grey:n9,contrastThreshold:e,getContrastText:y,augmentColor:b,tonalOffset:n,...E},s)}function u9(i){const t={};return Object.entries(i).forEach(n=>{const[s,a]=n;typeof a=="object"&&(t[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function h9(i,t){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...t}}function d9(i){return Math.round(i*1e5)/1e5}const BP={textTransform:"uppercase"},zP='"Roboto", "Helvetica", "Arial", sans-serif';function $L(i,t){const{fontFamily:e=zP,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:d,pxToRem:p,...y}=typeof t=="function"?t(i):t,b=n/14,E=p||(C=>`${C/h*b}rem`),A=(C,x,N,M,P)=>({fontFamily:e,fontWeight:C,fontSize:E(x),lineHeight:N,...e===zP?{letterSpacing:`${d9(M/x)}em`}:{},...P,...d}),S={h1:A(s,96,1.167,-1.5),h2:A(s,60,1.2,-.5),h3:A(a,48,1.167,0),h4:A(a,34,1.235,.25),h5:A(a,24,1.334,0),h6:A(l,20,1.6,.15),subtitle1:A(a,16,1.75,.15),subtitle2:A(l,14,1.57,.1),body1:A(a,16,1.5,.15),body2:A(a,14,1.43,.15),button:A(l,14,1.75,.4,BP),caption:A(a,12,1.66,.4),overline:A(a,12,2.66,1,BP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ls({htmlFontSize:h,pxToRem:E,fontFamily:e,fontSize:n,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c,...S},y,{clone:!1})}const f9=.2,p9=.14,g9=.12;function En(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${f9})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${p9})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${g9})`].join(",")}const m9=["none",En(0,2,1,-1,0,1,1,0,0,1,3,0),En(0,3,1,-2,0,2,2,0,0,1,5,0),En(0,3,3,-2,0,3,4,0,0,1,8,0),En(0,2,4,-1,0,4,5,0,0,1,10,0),En(0,3,5,-1,0,5,8,0,0,1,14,0),En(0,3,5,-1,0,6,10,0,0,1,18,0),En(0,4,5,-2,0,7,10,1,0,2,16,1),En(0,5,5,-3,0,8,10,1,0,3,14,2),En(0,5,6,-3,0,9,12,1,0,3,16,2),En(0,6,6,-3,0,10,14,1,0,4,18,3),En(0,6,7,-4,0,11,15,1,0,4,20,3),En(0,7,8,-4,0,12,17,2,0,5,22,4),En(0,7,8,-4,0,13,19,2,0,5,24,4),En(0,7,9,-4,0,14,21,2,0,5,26,4),En(0,8,9,-5,0,15,22,2,0,6,28,5),En(0,8,10,-5,0,16,24,2,0,6,30,5),En(0,8,11,-5,0,17,26,2,0,6,32,5),En(0,9,11,-5,0,18,28,2,0,7,34,6),En(0,9,12,-6,0,19,29,2,0,7,36,6),En(0,10,13,-6,0,20,31,3,0,8,38,7),En(0,10,13,-6,0,21,33,3,0,8,40,7),En(0,10,14,-6,0,22,35,3,0,8,42,7),En(0,11,14,-7,0,23,36,3,0,9,44,8),En(0,11,15,-7,0,24,38,3,0,9,46,8)],y9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},v9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jP(i){return`${Math.round(i)}ms`}function b9(i){if(!i)return 0;const t=i/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function _9(i){const t={...y9,...i.easing},e={...v9,...i.duration};return{getAutoHeightDuration:b9,create:(s=["all"],a={})=>{const{duration:l=e.standard,easing:c=t.easeInOut,delay:h=0,...d}=a;return(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof l=="string"?l:jP(l)} ${c} ${typeof h=="string"?h:jP(h)}`).join(",")},...i,easing:t,duration:e}}const E9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function A9(i){return Ga(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function qL(i={}){const t={...i};function e(n){const s=Object.entries(n);for(let a=0;a<s.length;a++){const[l,c]=s[a];!A9(c)||l.startsWith("unstable_")?delete n[l]:Ga(c)&&(n[l]={...c},e(n[l]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function DT(i={},...t){const{breakpoints:e,mixins:n={},spacing:s,palette:a={},transitions:l={},typography:c={},shape:h,...d}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(vl(20));const p=vC(a),y=uC(i);let b=ls(y,{mixins:h9(y.breakpoints,n),palette:p,shadows:m9.slice(),typography:$L(p,c),transitions:_9(l),zIndex:{...E9}});return b=ls(b,d),b=t.reduce((E,A)=>ls(E,A),b),b.unstable_sxConfig={...Wv,...d==null?void 0:d.unstable_sxConfig},b.unstable_sx=function(A){return Gc({sx:A,theme:this})},b.toRuntimeSource=qL,b}function LT(i){let t;return i<1?t=5.11916*i**2:t=4.5*Math.log(i+1)+2,Math.round(t*10)/1e3}const S9=[...Array(25)].map((i,t)=>{if(t===0)return"none";const e=LT(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function GL(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function WL(i){return i==="dark"?S9:[]}function w9(i){const{palette:t={mode:"light"},opacity:e,overlays:n,...s}=i,a=vC(t);return{palette:a,opacity:{...GL(a.mode),...e},overlays:n||WL(a.mode),...s}}function T9(i){var t;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((t=i[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const x9=i=>[...[...Array(25)].map((t,e)=>`--${i?`${i}-`:""}overlays-${e}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],C9=i=>(t,e)=>{const n=i.rootSelector||":root",s=i.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),i.defaultColorScheme===t){if(t==="dark"){const l={};return x9(i.cssVarPrefix).forEach(c=>{l[c]=e[c],delete e[c]}),a==="media"?{[n]:e,"@media (prefers-color-scheme: dark)":{[n]:l}}:a?{[a.replace("%s",t)]:l,[`${n}, ${a.replace("%s",t)}`]:e}:{[n]:{...e,...l}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:e}};if(a)return a.replace("%s",String(t))}return n};function R9(i,t){t.forEach(e=>{i[e]||(i[e]={})})}function ft(i,t,e){!i[t]&&e&&(i[t]=e)}function km(i){return typeof i!="string"||!i.startsWith("hsl")?i:NL(i)}function Oo(i,t){`${t}Channel`in i||(i[`${t}Channel`]=Im(km(i[t])))}function I9(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const Aa=i=>{try{return i()}catch{}},k9=(i="mui")=>Qj(i);function Jw(i,t,e,n){if(!t)return;t=t===!0?{}:t;const s=n==="dark"?"dark":"light";if(!e){i[n]=w9({...t,palette:{mode:s,...t==null?void 0:t.palette}});return}const{palette:a,...l}=DT({...e,palette:{mode:s,...t==null?void 0:t.palette}});return i[n]={...t,palette:a,opacity:{...GL(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||WL(s)},l}function P9(i={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=T9,colorSchemeSelector:c=e.light&&e.dark?"media":void 0,rootSelector:h=":root",...d}=i,p=Object.keys(e)[0],y=n||(e.light&&p!=="light"?"light":p),b=k9(a),{[y]:E,light:A,dark:S,...C}=e,x={...C};let N=E;if((y==="dark"&&!("dark"in e)||y==="light"&&!("light"in e))&&(N=!0),!N)throw new Error(vl(21,y));const M=Jw(x,N,d,y);A&&!x.light&&Jw(x,A,void 0,"light"),S&&!x.dark&&Jw(x,S,void 0,"dark");let P={defaultColorScheme:y,...M,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:h,getCssVar:b,colorSchemes:x,font:{...u9(M.typography),...M.font},spacing:I9(d.spacing)};Object.keys(P.colorSchemes).forEach(L=>{const T=P.colorSchemes[L].palette,U=q=>{const j=q.split("-"),ct=j[1],nt=j[2];return b(q,T[ct][nt])};if(T.mode==="light"&&(ft(T.common,"background","#fff"),ft(T.common,"onBackground","#000")),T.mode==="dark"&&(ft(T.common,"background","#000"),ft(T.common,"onBackground","#fff")),R9(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ft(T.Alert,"errorColor",on(T.error.light,.6)),ft(T.Alert,"infoColor",on(T.info.light,.6)),ft(T.Alert,"successColor",on(T.success.light,.6)),ft(T.Alert,"warningColor",on(T.warning.light,.6)),ft(T.Alert,"errorFilledBg",U("palette-error-main")),ft(T.Alert,"infoFilledBg",U("palette-info-main")),ft(T.Alert,"successFilledBg",U("palette-success-main")),ft(T.Alert,"warningFilledBg",U("palette-warning-main")),ft(T.Alert,"errorFilledColor",Aa(()=>T.getContrastText(T.error.main))),ft(T.Alert,"infoFilledColor",Aa(()=>T.getContrastText(T.info.main))),ft(T.Alert,"successFilledColor",Aa(()=>T.getContrastText(T.success.main))),ft(T.Alert,"warningFilledColor",Aa(()=>T.getContrastText(T.warning.main))),ft(T.Alert,"errorStandardBg",ln(T.error.light,.9)),ft(T.Alert,"infoStandardBg",ln(T.info.light,.9)),ft(T.Alert,"successStandardBg",ln(T.success.light,.9)),ft(T.Alert,"warningStandardBg",ln(T.warning.light,.9)),ft(T.Alert,"errorIconColor",U("palette-error-main")),ft(T.Alert,"infoIconColor",U("palette-info-main")),ft(T.Alert,"successIconColor",U("palette-success-main")),ft(T.Alert,"warningIconColor",U("palette-warning-main")),ft(T.AppBar,"defaultBg",U("palette-grey-100")),ft(T.Avatar,"defaultBg",U("palette-grey-400")),ft(T.Button,"inheritContainedBg",U("palette-grey-300")),ft(T.Button,"inheritContainedHoverBg",U("palette-grey-A100")),ft(T.Chip,"defaultBorder",U("palette-grey-400")),ft(T.Chip,"defaultAvatarColor",U("palette-grey-700")),ft(T.Chip,"defaultIconColor",U("palette-grey-700")),ft(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ft(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ft(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ft(T.LinearProgress,"primaryBg",ln(T.primary.main,.62)),ft(T.LinearProgress,"secondaryBg",ln(T.secondary.main,.62)),ft(T.LinearProgress,"errorBg",ln(T.error.main,.62)),ft(T.LinearProgress,"infoBg",ln(T.info.main,.62)),ft(T.LinearProgress,"successBg",ln(T.success.main,.62)),ft(T.LinearProgress,"warningBg",ln(T.warning.main,.62)),ft(T.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.11)`),ft(T.Slider,"primaryTrack",ln(T.primary.main,.62)),ft(T.Slider,"secondaryTrack",ln(T.secondary.main,.62)),ft(T.Slider,"errorTrack",ln(T.error.main,.62)),ft(T.Slider,"infoTrack",ln(T.info.main,.62)),ft(T.Slider,"successTrack",ln(T.success.main,.62)),ft(T.Slider,"warningTrack",ln(T.warning.main,.62));const q=L0(T.background.default,.8);ft(T.SnackbarContent,"bg",q),ft(T.SnackbarContent,"color",Aa(()=>T.getContrastText(q))),ft(T.SpeedDialAction,"fabHoverBg",L0(T.background.paper,.15)),ft(T.StepConnector,"border",U("palette-grey-400")),ft(T.StepContent,"border",U("palette-grey-400")),ft(T.Switch,"defaultColor",U("palette-common-white")),ft(T.Switch,"defaultDisabledColor",U("palette-grey-100")),ft(T.Switch,"primaryDisabledColor",ln(T.primary.main,.62)),ft(T.Switch,"secondaryDisabledColor",ln(T.secondary.main,.62)),ft(T.Switch,"errorDisabledColor",ln(T.error.main,.62)),ft(T.Switch,"infoDisabledColor",ln(T.info.main,.62)),ft(T.Switch,"successDisabledColor",ln(T.success.main,.62)),ft(T.Switch,"warningDisabledColor",ln(T.warning.main,.62)),ft(T.TableCell,"border",ln(D0(T.divider,1),.88)),ft(T.Tooltip,"bg",D0(T.grey[700],.92))}if(T.mode==="dark"){ft(T.Alert,"errorColor",ln(T.error.light,.6)),ft(T.Alert,"infoColor",ln(T.info.light,.6)),ft(T.Alert,"successColor",ln(T.success.light,.6)),ft(T.Alert,"warningColor",ln(T.warning.light,.6)),ft(T.Alert,"errorFilledBg",U("palette-error-dark")),ft(T.Alert,"infoFilledBg",U("palette-info-dark")),ft(T.Alert,"successFilledBg",U("palette-success-dark")),ft(T.Alert,"warningFilledBg",U("palette-warning-dark")),ft(T.Alert,"errorFilledColor",Aa(()=>T.getContrastText(T.error.dark))),ft(T.Alert,"infoFilledColor",Aa(()=>T.getContrastText(T.info.dark))),ft(T.Alert,"successFilledColor",Aa(()=>T.getContrastText(T.success.dark))),ft(T.Alert,"warningFilledColor",Aa(()=>T.getContrastText(T.warning.dark))),ft(T.Alert,"errorStandardBg",on(T.error.light,.9)),ft(T.Alert,"infoStandardBg",on(T.info.light,.9)),ft(T.Alert,"successStandardBg",on(T.success.light,.9)),ft(T.Alert,"warningStandardBg",on(T.warning.light,.9)),ft(T.Alert,"errorIconColor",U("palette-error-main")),ft(T.Alert,"infoIconColor",U("palette-info-main")),ft(T.Alert,"successIconColor",U("palette-success-main")),ft(T.Alert,"warningIconColor",U("palette-warning-main")),ft(T.AppBar,"defaultBg",U("palette-grey-900")),ft(T.AppBar,"darkBg",U("palette-background-paper")),ft(T.AppBar,"darkColor",U("palette-text-primary")),ft(T.Avatar,"defaultBg",U("palette-grey-600")),ft(T.Button,"inheritContainedBg",U("palette-grey-800")),ft(T.Button,"inheritContainedHoverBg",U("palette-grey-700")),ft(T.Chip,"defaultBorder",U("palette-grey-700")),ft(T.Chip,"defaultAvatarColor",U("palette-grey-300")),ft(T.Chip,"defaultIconColor",U("palette-grey-300")),ft(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ft(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ft(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ft(T.LinearProgress,"primaryBg",on(T.primary.main,.5)),ft(T.LinearProgress,"secondaryBg",on(T.secondary.main,.5)),ft(T.LinearProgress,"errorBg",on(T.error.main,.5)),ft(T.LinearProgress,"infoBg",on(T.info.main,.5)),ft(T.LinearProgress,"successBg",on(T.success.main,.5)),ft(T.LinearProgress,"warningBg",on(T.warning.main,.5)),ft(T.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.13)`),ft(T.Slider,"primaryTrack",on(T.primary.main,.5)),ft(T.Slider,"secondaryTrack",on(T.secondary.main,.5)),ft(T.Slider,"errorTrack",on(T.error.main,.5)),ft(T.Slider,"infoTrack",on(T.info.main,.5)),ft(T.Slider,"successTrack",on(T.success.main,.5)),ft(T.Slider,"warningTrack",on(T.warning.main,.5));const q=L0(T.background.default,.98);ft(T.SnackbarContent,"bg",q),ft(T.SnackbarContent,"color",Aa(()=>T.getContrastText(q))),ft(T.SpeedDialAction,"fabHoverBg",L0(T.background.paper,.15)),ft(T.StepConnector,"border",U("palette-grey-600")),ft(T.StepContent,"border",U("palette-grey-600")),ft(T.Switch,"defaultColor",U("palette-grey-300")),ft(T.Switch,"defaultDisabledColor",U("palette-grey-600")),ft(T.Switch,"primaryDisabledColor",on(T.primary.main,.55)),ft(T.Switch,"secondaryDisabledColor",on(T.secondary.main,.55)),ft(T.Switch,"errorDisabledColor",on(T.error.main,.55)),ft(T.Switch,"infoDisabledColor",on(T.info.main,.55)),ft(T.Switch,"successDisabledColor",on(T.success.main,.55)),ft(T.Switch,"warningDisabledColor",on(T.warning.main,.55)),ft(T.TableCell,"border",on(D0(T.divider,1),.68)),ft(T.Tooltip,"bg",D0(T.grey[700],.92))}Oo(T.background,"default"),Oo(T.background,"paper"),Oo(T.common,"background"),Oo(T.common,"onBackground"),Oo(T,"divider"),Object.keys(T).forEach(q=>{const j=T[q];q!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&ft(T[q],"mainChannel",Im(km(j.main))),j.light&&ft(T[q],"lightChannel",Im(km(j.light))),j.dark&&ft(T[q],"darkChannel",Im(km(j.dark))),j.contrastText&&ft(T[q],"contrastTextChannel",Im(km(j.contrastText))),q==="text"&&(Oo(T[q],"primary"),Oo(T[q],"secondary")),q==="action"&&(j.active&&Oo(T[q],"active"),j.selected&&Oo(T[q],"selected")))})}),P=t.reduce((L,T)=>ls(L,T),P);const F={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:C9(P)},{vars:W,generateThemeVars:D,generateStyleSheets:I}=t9(P,F);return P.vars=W,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([L,T])=>{P[L]=T}),P.generateThemeVars=D,P.generateStyleSheets=I,P.generateSpacing=function(){return IL(d.spacing,lC(this))},P.getColorSchemeSelector=e9(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=l,P.unstable_sxConfig={...Wv,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(T){return Gc({sx:T,theme:this})},P.toRuntimeSource=qL,P}function HP(i,t,e){i.colorSchemes&&e&&(i.colorSchemes[t]={...e!==!0&&e,palette:vC({...e===!0?{}:e.palette,mode:t})})}function nA(i={},...t){const{palette:e,cssVariables:n=!1,colorSchemes:s=e?void 0:{light:!0},defaultColorScheme:a=e==null?void 0:e.mode,...l}=i,c=a||"light",h=s==null?void 0:s[c],d={...s,...e?{[c]:{...typeof h!="boolean"&&h,palette:e}}:void 0};if(n===!1){if(!("colorSchemes"in i))return DT(i,...t);let p=e;"palette"in i||d[c]&&(d[c]!==!0?p=d[c].palette:c==="dark"&&(p={mode:"dark"}));const y=DT({...i,palette:p},...t);return y.defaultColorScheme=c,y.colorSchemes=d,y.palette.mode==="light"&&(y.colorSchemes.light={...d.light!==!0&&d.light,palette:y.palette},HP(y,"dark",d.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:y.palette},HP(y,"light",d.light)),y}return!e&&!("light"in d)&&c==="light"&&(d.light=!0),P9({...l,colorSchemes:d,defaultColorScheme:c,...typeof n!="boolean"&&n},...t)}function M9(i){return String(i).match(/[\d.\-+]*\s*(.*)/)[1]||""}function O9(i){return parseFloat(i)}const bC=nA();function iA(){const i=hC(bC);return i[Ya]||i}function KL(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const ra=i=>KL(i)&&i!=="classes",Vt=Sj({themeId:Ya,defaultTheme:bC,rootShouldForwardProp:ra});function D9({theme:i,...t}){const e=Ya in i?i[Ya]:void 0;return z.jsx(BL,{...t,themeId:e?Ya:void 0,theme:e||i})}const N0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:L9}=Xj({themeId:Ya,theme:()=>nA({cssVariables:!0}),colorSchemeStorageKey:N0.colorSchemeStorageKey,modeStorageKey:N0.modeStorageKey,defaultColorScheme:{light:N0.defaultLightColorScheme,dark:N0.defaultDarkColorScheme},resolveTheme:i=>{const t={...i,typography:$L(i.palette,i.typography)};return t.unstable_sx=function(n){return Gc({sx:n,theme:this})},t}}),N9=L9;function F9({theme:i,...t}){const e=O.useMemo(()=>{if(typeof i=="function")return i;const n=Ya in i?i[Ya]:i;return"colorSchemes"in n?null:"vars"in n?i:{...i,vars:null}},[i]);return e?z.jsx(D9,{theme:e,...t}):z.jsx(N9,{theme:i,...t})}const V9=rn("MuiBox",["root"]),U9=nA(),St=vj({themeId:Ya,defaultTheme:U9,defaultClassName:V9.root,generateClassName:ML.generate});function B9(i){return z.jsx(gj,{...i,defaultTheme:bC,themeId:Ya})}function z9(i){return function(e){return z.jsx(B9,{styles:typeof i=="function"?n=>i({theme:n,...e}):i})}}function j9(){return PL}const Sn=jj;function pn(i){return zj(i)}function H9(i){return typeof i.main=="string"}function $9(i,t=[]){if(!H9(i))return!1;for(const e of t)if(!i.hasOwnProperty(e)||typeof i[e]!="string")return!1;return!0}function _l(i=[]){return([,t])=>t&&$9(t,i)}function q9(i){return un("MuiTypography",i)}rn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const G9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},W9=j9(),K9=i=>{const{align:t,gutterBottom:e,noWrap:n,paragraph:s,variant:a,classes:l}=i,c={root:["root",a,i.align!=="inherit"&&`align${qt(t)}`,e&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return hn(c,q9,l)},Y9=Vt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${qt(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(Sn(({theme:i})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(i.palette).filter(_l()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),...Object.entries(((t=i.palette)==null?void 0:t.text)||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${qt(e)}`},style:{color:(i.vars||i).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}})),$P={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Nt=O.forwardRef(function(t,e){const{color:n,...s}=pn({props:t,name:"MuiTypography"}),a=!G9[n],l=W9({...s,...a&&{color:n}}),{align:c="inherit",className:h,component:d,gutterBottom:p=!1,noWrap:y=!1,paragraph:b=!1,variant:E="body1",variantMapping:A=$P,...S}=l,C={...l,align:c,color:n,className:h,component:d,gutterBottom:p,noWrap:y,paragraph:b,variant:E,variantMapping:A},x=d||(b?"p":A[E]||$P[E])||"span",N=K9(C);return z.jsx(Y9,{as:x,ref:e,className:te(N.root,h),...S,ownerState:C,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...S.style}})});function qP(...i){return i.reduce((t,e)=>e==null?t:function(...s){t.apply(this,s),e.apply(this,s)},()=>{})}function X9(i){return un("MuiSvgIcon",i)}rn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Q9=i=>{const{color:t,fontSize:e,classes:n}=i,s={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(e)}`]};return hn(s,X9,n)},Z9=Vt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color!=="inherit"&&t[`color${qt(e.color)}`],t[`fontSize${qt(e.fontSize)}`]]}})(Sn(({theme:i})=>{var t,e,n,s,a,l,c,h,d,p,y,b,E,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=i.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(n=(e=(i.vars??i).transitions)==null?void 0:e.duration)==null?void 0:n.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(a=i.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(c=i.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=i.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,S])=>S&&S.main).map(([S])=>{var C,x;return{props:{color:S},style:{color:(x=(C=(i.vars??i).palette)==null?void 0:C[S])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(b=(y=(i.vars??i).palette)==null?void 0:y.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(A=(E=(i.vars??i).palette)==null?void 0:E.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),NT=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiSvgIcon"}),{children:s,className:a,color:l="inherit",component:c="svg",fontSize:h="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:y,viewBox:b="0 0 24 24",...E}=n,A=O.isValidElement(s)&&s.type==="svg",S={...n,color:l,component:c,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:b,hasSvgAsChild:A},C={};p||(C.viewBox=b);const x=Q9(S);return z.jsxs(Z9,{as:c,className:te(x.root,a),focusable:"false",color:d,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:e,...C,...E,...A&&s.props,ownerState:S,children:[A?s.props.children:s,y?z.jsx("title",{children:y}):null]})});NT.muiName="SvgIcon";function us(i,t){function e(n,s){return z.jsx(NT,{"data-testid":void 0,ref:s,...n,children:i})}return e.muiName=NT.muiName,O.memo(O.forwardRef(e))}function YL(i,t=166){let e;function n(...s){const a=()=>{i.apply(this,s)};clearTimeout(e),e=setTimeout(a,t)}return n.clear=()=>{clearTimeout(e)},n}function na(i){return i&&i.ownerDocument||document}function El(i){return na(i).defaultView||window}function GP(i,t){typeof i=="function"?i(t):i&&(i.current=t)}let WP=0;function J9(i){const[t,e]=O.useState(i),n=i||t;return O.useEffect(()=>{t==null&&(WP+=1,e(`mui-${WP}`))},[t]),n}const tH={...xT},KP=tH.useId;function Kv(i){if(KP!==void 0){const t=KP();return i??t}return J9(i)}function YP(i){const{controlled:t,default:e,name:n,state:s="value"}=i,{current:a}=O.useRef(t!==void 0),[l,c]=O.useState(e),h=a?t:l,d=O.useCallback(p=>{a||c(p)},[]);return[h,d]}function Gh(i){const t=O.useRef(i);return Wc(()=>{t.current=i}),O.useRef((...e)=>(0,t.current)(...e)).current}function Ds(...i){const t=O.useRef(void 0),e=O.useCallback(n=>{const s=i.map(a=>{if(a==null)return null;if(typeof a=="function"){const l=a,c=l(n);return typeof c=="function"?c:()=>{l(null)}}return a.current=n,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},i);return O.useMemo(()=>i.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=e(n))},i)}function eH(i,t){const e=i.charCodeAt(2);return i[0]==="o"&&i[1]==="n"&&e>=65&&e<=90&&typeof t=="function"}function nH(i,t){if(!i)return t;function e(l,c){const h={};return Object.keys(c).forEach(d=>{eH(d,c[d])&&typeof l[d]=="function"&&(h[d]=(...p)=>{l[d](...p),c[d](...p)})}),h}if(typeof i=="function"||typeof t=="function")return l=>{const c=typeof t=="function"?t(l):t,h=typeof i=="function"?i({...l,...c}):i,d=te(l==null?void 0:l.className,c==null?void 0:c.className,h==null?void 0:h.className),p=e(h,c);return{...c,...h,...p,...!!d&&{className:d},...(c==null?void 0:c.style)&&(h==null?void 0:h.style)&&{style:{...c.style,...h.style}},...(c==null?void 0:c.sx)&&(h==null?void 0:h.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(h.sx)?h.sx:[h.sx]]}}};const n=t,s=e(i,n),a=te(n==null?void 0:n.className,i==null?void 0:i.className);return{...t,...i,...s,...!!a&&{className:a},...(n==null?void 0:n.style)&&(i==null?void 0:i.style)&&{style:{...n.style,...i.style}},...(n==null?void 0:n.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function XL(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}function FT(i,t){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},FT(i,t)}function QL(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,FT(i,t)}const XP={disabled:!1},Z_=er.createContext(null);var iH=function(t){return t.scrollTop},Pm="unmounted",Uu="exited",Bu="entering",pf="entered",VT="exiting",so=function(i){QL(t,i);function t(n,s){var a;a=i.call(this,n,s)||this;var l=s,c=l&&!l.isMounting?n.enter:n.appear,h;return a.appearStatus=null,n.in?c?(h=Uu,a.appearStatus=Bu):h=pf:n.unmountOnExit||n.mountOnEnter?h=Pm:h=Uu,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===Pm?{status:Uu}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Bu&&l!==pf&&(a=Bu):(l===Bu||l===pf)&&(a=VT)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,a,l,c;return a=l=c=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:c}},e.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Bu){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:M0.findDOMNode(this);l&&iH(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Uu&&this.setState({status:Pm})},e.performEnter=function(s){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:s,h=this.props.nodeRef?[c]:[M0.findDOMNode(this),c],d=h[0],p=h[1],y=this.getTimeouts(),b=c?y.appear:y.enter;if(!s&&!l||XP.disabled){this.safeSetState({status:pf},function(){a.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:Bu},function(){a.props.onEntering(d,p),a.onTransitionEnd(b,function(){a.safeSetState({status:pf},function(){a.props.onEntered(d,p)})})})},e.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:M0.findDOMNode(this);if(!a||XP.disabled){this.safeSetState({status:Uu},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:VT},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Uu},function(){s.props.onExited(c)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},e.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:M0.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],p=h[1];this.props.addEndListener(d,p)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===Pm)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=XL(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return er.createElement(Z_.Provider,{value:null},typeof l=="function"?l(s,c):er.cloneElement(er.Children.only(l),c))},t}(er.Component);so.contextType=Z_;so.propTypes={};function uf(){}so.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uf,onEntering:uf,onEntered:uf,onExit:uf,onExiting:uf,onExited:uf};so.UNMOUNTED=Pm;so.EXITED=Uu;so.ENTERING=Bu;so.ENTERED=pf;so.EXITING=VT;function sH(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _C(i,t){var e=function(a){return t&&O.isValidElement(a)?t(a):a},n=Object.create(null);return i&&O.Children.map(i,function(s){return s}).forEach(function(s){n[s.key]=e(s)}),n}function rH(i,t){i=i||{},t=t||{};function e(p){return p in t?t[p]:i[p]}var n=Object.create(null),s=[];for(var a in i)a in t?s.length&&(n[a]=s,s=[]):s.push(a);var l,c={};for(var h in t){if(n[h])for(l=0;l<n[h].length;l++){var d=n[h][l];c[n[h][l]]=e(d)}c[h]=e(h)}for(l=0;l<s.length;l++)c[s[l]]=e(s[l]);return c}function Ku(i,t,e){return e[t]!=null?e[t]:i.props[t]}function aH(i,t){return _C(i.children,function(e){return O.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:Ku(e,"appear",i),enter:Ku(e,"enter",i),exit:Ku(e,"exit",i)})})}function oH(i,t,e){var n=_C(i.children),s=rH(t,n);return Object.keys(s).forEach(function(a){var l=s[a];if(O.isValidElement(l)){var c=a in t,h=a in n,d=t[a],p=O.isValidElement(d)&&!d.props.in;h&&(!c||p)?s[a]=O.cloneElement(l,{onExited:e.bind(null,l),in:!0,exit:Ku(l,"exit",i),enter:Ku(l,"enter",i)}):!h&&c&&!p?s[a]=O.cloneElement(l,{in:!1}):h&&c&&O.isValidElement(d)&&(s[a]=O.cloneElement(l,{onExited:e.bind(null,l),in:d.props.in,exit:Ku(l,"exit",i),enter:Ku(l,"enter",i)}))}}),s}var lH=Object.values||function(i){return Object.keys(i).map(function(t){return i[t]})},cH={component:"div",childFactory:function(t){return t}},EC=function(i){QL(t,i);function t(n,s){var a;a=i.call(this,n,s)||this;var l=a.handleExited.bind(sH(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,a){var l=a.children,c=a.handleExited,h=a.firstRender;return{children:h?aH(s,c):oH(s,l,c),firstRender:!1}},e.handleExited=function(s,a){var l=_C(this.props.children);s.key in l||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(c){var h=K_({},c.children);return delete h[s.key],{children:h}}))},e.render=function(){var s=this.props,a=s.component,l=s.childFactory,c=XL(s,["component","childFactory"]),h=this.state.contextValue,d=lH(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?er.createElement(Z_.Provider,{value:h},d):er.createElement(Z_.Provider,{value:h},er.createElement(a,c,d))},t}(er.Component);EC.propTypes={};EC.defaultProps=cH;const QP={};function ZL(i,t){const e=O.useRef(QP);return e.current===QP&&(e.current=i(t)),e}const uH=[];function hH(i){O.useEffect(i,uH)}class AC{constructor(){Qt(this,"currentId",null);Qt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Qt(this,"disposeEffect",()=>this.clear)}static create(){return new AC}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function JL(){const i=ZL(AC.create).current;return hH(i.disposeEffect),i}const tN=i=>i.scrollTop;function J_(i,t){const{timeout:e,easing:n,style:s={}}=i;return{duration:s.transitionDuration??(typeof e=="number"?e:e[t.mode]||0),easing:s.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:s.transitionDelay}}function dH(i){return un("MuiPaper",i)}rn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fH=i=>{const{square:t,elevation:e,variant:n,classes:s}=i,a={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${e}`]};return hn(a,dH,s)},pH=Vt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(Sn(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),SC=O.forwardRef(function(t,e){var E;const n=pn({props:t,name:"MuiPaper"}),s=iA(),{className:a,component:l="div",elevation:c=1,square:h=!1,variant:d="elevation",...p}=n,y={...n,component:l,elevation:c,square:h,variant:d},b=fH(y);return z.jsx(pH,{as:l,ownerState:y,className:te(b.root,a),ref:e,...p,style:{...d==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[c],...s.vars&&{"--Paper-overlay":(E=s.vars.overlays)==null?void 0:E[c]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Qr("#fff",LT(c))}, ${Qr("#fff",LT(c))})`}},...p.style}})});function gH(i){return typeof i=="string"}function eN(i,t,e){return i===void 0||gH(i)?t:{...t,ownerState:{...t.ownerState,...e}}}function nN(i,t,e){return typeof i=="function"?i(t,e):i}function iN(i,t=[]){if(i===void 0)return{};const e={};return Object.keys(i).filter(n=>n.match(/^on[A-Z]/)&&typeof i[n]=="function"&&!t.includes(n)).forEach(n=>{e[n]=i[n]}),e}function ZP(i){if(i===void 0)return{};const t={};return Object.keys(i).filter(e=>!(e.match(/^on[A-Z]/)&&typeof i[e]=="function")).forEach(e=>{t[e]=i[e]}),t}function sN(i){const{getSlotProps:t,additionalProps:e,externalSlotProps:n,externalForwardedProps:s,className:a}=i;if(!t){const E=te(e==null?void 0:e.className,a,s==null?void 0:s.className,n==null?void 0:n.className),A={...e==null?void 0:e.style,...s==null?void 0:s.style,...n==null?void 0:n.style},S={...e,...s,...n};return E.length>0&&(S.className=E),Object.keys(A).length>0&&(S.style=A),{props:S,internalRef:void 0}}const l=iN({...s,...n}),c=ZP(n),h=ZP(s),d=t(l),p=te(d==null?void 0:d.className,e==null?void 0:e.className,a,s==null?void 0:s.className,n==null?void 0:n.className),y={...d==null?void 0:d.style,...e==null?void 0:e.style,...s==null?void 0:s.style,...n==null?void 0:n.style},b={...d,...e,...h,...c};return p.length>0&&(b.className=p),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:d.ref}}function Gn(i,t){const{className:e,elementType:n,ownerState:s,externalForwardedProps:a,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...h}=t,{component:d,slots:p={[i]:void 0},slotProps:y={[i]:void 0},...b}=a,E=p[i]||n,A=nN(y[i],s),{props:{component:S,...C},internalRef:x}=sN({className:e,...h,externalForwardedProps:i==="root"?b:void 0,externalSlotProps:A}),N=Ds(x,A==null?void 0:A.ref,t.ref),M=i==="root"?S||d:S,P=eN(E,{...i==="root"&&!d&&!p[i]&&l,...i!=="root"&&!p[i]&&l,...C,...M&&!c&&{as:M},...M&&c&&{component:M},ref:N},s);return[E,P]}function JP(i){try{return i.matches(":focus-visible")}catch{}return!1}class tE{constructor(){Qt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new tE}static use(){const t=ZL(tE.create).current,[e,n]=O.useState(!1);return t.shouldMount=e,t.setShouldMount=n,O.useEffect(t.mountEffect,[e]),t}mount(){return this.mounted||(this.mounted=yH(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.start(...t)})}stop(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.stop(...t)})}pulsate(...t){this.mount().then(()=>{var e;return(e=this.ref.current)==null?void 0:e.pulsate(...t)})}}function mH(){return tE.use()}function yH(){let i,t;const e=new Promise((n,s)=>{i=n,t=s});return e.resolve=i,e.reject=t,e}function vH(i){const{className:t,classes:e,pulsate:n=!1,rippleX:s,rippleY:a,rippleSize:l,in:c,onExited:h,timeout:d}=i,[p,y]=O.useState(!1),b=te(t,e.ripple,e.rippleVisible,n&&e.ripplePulsate),E={width:l,height:l,top:-(l/2)+a,left:-(l/2)+s},A=te(e.child,p&&e.childLeaving,n&&e.childPulsate);return!c&&!p&&y(!0),O.useEffect(()=>{if(!c&&h!=null){const S=setTimeout(h,d);return()=>{clearTimeout(S)}}},[h,c,d]),z.jsx("span",{className:b,style:E,children:z.jsx("span",{className:A})})}const Sr=rn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),UT=550,bH=80,_H=od`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,EH=od`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,AH=od`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,SH=Vt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),wH=Vt(vH,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Sr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_H};
    animation-duration: ${UT}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${Sr.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${Sr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Sr.childLeaving} {
    opacity: 0;
    animation-name: ${EH};
    animation-duration: ${UT}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${Sr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${AH};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TH=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:l,...c}=n,[h,d]=O.useState([]),p=O.useRef(0),y=O.useRef(null);O.useEffect(()=>{y.current&&(y.current(),y.current=null)},[h]);const b=O.useRef(!1),E=JL(),A=O.useRef(null),S=O.useRef(null),C=O.useCallback(P=>{const{pulsate:F,rippleX:W,rippleY:D,rippleSize:I,cb:L}=P;d(T=>[...T,z.jsx(wH,{classes:{ripple:te(a.ripple,Sr.ripple),rippleVisible:te(a.rippleVisible,Sr.rippleVisible),ripplePulsate:te(a.ripplePulsate,Sr.ripplePulsate),child:te(a.child,Sr.child),childLeaving:te(a.childLeaving,Sr.childLeaving),childPulsate:te(a.childPulsate,Sr.childPulsate)},timeout:UT,pulsate:F,rippleX:W,rippleY:D,rippleSize:I},p.current)]),p.current+=1,y.current=L},[a]),x=O.useCallback((P={},F={},W=()=>{})=>{const{pulsate:D=!1,center:I=s||F.pulsate,fakeElement:L=!1}=F;if((P==null?void 0:P.type)==="mousedown"&&b.current){b.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(b.current=!0);const T=L?null:S.current,U=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let q,j,ct;if(I||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)q=Math.round(U.width/2),j=Math.round(U.height/2);else{const{clientX:nt,clientY:Y}=P.touches&&P.touches.length>0?P.touches[0]:P;q=Math.round(nt-U.left),j=Math.round(Y-U.top)}if(I)ct=Math.sqrt((2*U.width**2+U.height**2)/3),ct%2===0&&(ct+=1);else{const nt=Math.max(Math.abs((T?T.clientWidth:0)-q),q)*2+2,Y=Math.max(Math.abs((T?T.clientHeight:0)-j),j)*2+2;ct=Math.sqrt(nt**2+Y**2)}P!=null&&P.touches?A.current===null&&(A.current=()=>{C({pulsate:D,rippleX:q,rippleY:j,rippleSize:ct,cb:W})},E.start(bH,()=>{A.current&&(A.current(),A.current=null)})):C({pulsate:D,rippleX:q,rippleY:j,rippleSize:ct,cb:W})},[s,C,E]),N=O.useCallback(()=>{x({},{pulsate:!0})},[x]),M=O.useCallback((P,F)=>{if(E.clear(),(P==null?void 0:P.type)==="touchend"&&A.current){A.current(),A.current=null,E.start(0,()=>{M(P,F)});return}A.current=null,d(W=>W.length>0?W.slice(1):W),y.current=F},[E]);return O.useImperativeHandle(e,()=>({pulsate:N,start:x,stop:M}),[N,x,M]),z.jsx(SH,{className:te(Sr.root,a.root,l),ref:S,...c,children:z.jsx(EC,{component:null,exit:!0,children:h})})});function xH(i){return un("MuiButtonBase",i)}const CH=rn("MuiButtonBase",["root","disabled","focusVisible"]),RH=i=>{const{disabled:t,focusVisible:e,focusVisibleClassName:n,classes:s}=i,l=hn({root:["root",t&&"disabled",e&&"focusVisible"]},xH,s);return e&&n&&(l.root+=` ${n}`),l},IH=Vt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${CH.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),rN=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:l,className:c,component:h="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:y=!1,focusRipple:b=!1,focusVisibleClassName:E,LinkComponent:A="a",onBlur:S,onClick:C,onContextMenu:x,onDragLeave:N,onFocus:M,onFocusVisible:P,onKeyDown:F,onKeyUp:W,onMouseDown:D,onMouseLeave:I,onMouseUp:L,onTouchEnd:T,onTouchMove:U,onTouchStart:q,tabIndex:j=0,TouchRippleProps:ct,touchRippleRef:nt,type:Y,...Q}=n,at=O.useRef(null),dt=mH(),K=Ds(dt.ref,nt),[rt,ut]=O.useState(!1);d&&rt&&ut(!1),O.useImperativeHandle(s,()=>({focusVisible:()=>{ut(!0),at.current.focus()}}),[]);const st=dt.shouldMount&&!p&&!d;O.useEffect(()=>{rt&&b&&!p&&dt.pulsate()},[p,b,rt,dt]);const vt=Do(dt,"start",D,y),wt=Do(dt,"stop",x,y),_t=Do(dt,"stop",N,y),xt=Do(dt,"stop",L,y),Bt=Do(dt,"stop",Ot=>{rt&&Ot.preventDefault(),I&&I(Ot)},y),jt=Do(dt,"start",q,y),Et=Do(dt,"stop",T,y),Ht=Do(dt,"stop",U,y),Gt=Do(dt,"stop",Ot=>{JP(Ot.target)||ut(!1),S&&S(Ot)},!1),Mt=Gh(Ot=>{at.current||(at.current=Ot.currentTarget),JP(Ot.target)&&(ut(!0),P&&P(Ot)),M&&M(Ot)}),kt=()=>{const Ot=at.current;return h&&h!=="button"&&!(Ot.tagName==="A"&&Ot.href)},Wt=Gh(Ot=>{b&&!Ot.repeat&&rt&&Ot.key===" "&&dt.stop(Ot,()=>{dt.start(Ot)}),Ot.target===Ot.currentTarget&&kt()&&Ot.key===" "&&Ot.preventDefault(),F&&F(Ot),Ot.target===Ot.currentTarget&&kt()&&Ot.key==="Enter"&&!d&&(Ot.preventDefault(),C&&C(Ot))}),ue=Gh(Ot=>{b&&Ot.key===" "&&rt&&!Ot.defaultPrevented&&dt.stop(Ot,()=>{dt.pulsate(Ot)}),W&&W(Ot),C&&Ot.target===Ot.currentTarget&&kt()&&Ot.key===" "&&!Ot.defaultPrevented&&C(Ot)});let fe=h;fe==="button"&&(Q.href||Q.to)&&(fe=A);const ke={};fe==="button"?(ke.type=Y===void 0?"button":Y,ke.disabled=d):(!Q.href&&!Q.to&&(ke.role="button"),d&&(ke["aria-disabled"]=d));const Ue=Ds(e,at),He={...n,centerRipple:a,component:h,disabled:d,disableRipple:p,disableTouchRipple:y,focusRipple:b,tabIndex:j,focusVisible:rt},pe=RH(He);return z.jsxs(IH,{as:fe,className:te(pe.root,c),ownerState:He,onBlur:Gt,onClick:C,onContextMenu:wt,onFocus:Mt,onKeyDown:Wt,onKeyUp:ue,onMouseDown:vt,onMouseLeave:Bt,onMouseUp:xt,onDragLeave:_t,onTouchEnd:Et,onTouchMove:Ht,onTouchStart:jt,ref:Ue,tabIndex:d?-1:j,type:Y,...ke,...Q,children:[l,st?z.jsx(TH,{ref:K,center:a,...ct}):null]})});function Do(i,t,e,n=!1){return Gh(s=>(e&&e(s),n||i[t](s),!0))}function kH(i){return un("MuiCircularProgress",i)}rn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const rc=44,BT=od`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,zT=od`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,PH=typeof BT!="string"?$v`
        animation: ${BT} 1.4s linear infinite;
      `:null,MH=typeof zT!="string"?$v`
        animation: ${zT} 1.4s ease-in-out infinite;
      `:null,OH=i=>{const{classes:t,variant:e,color:n,disableShrink:s}=i,a={root:["root",e,`color${qt(n)}`],svg:["svg"],circle:["circle",`circle${qt(e)}`,s&&"circleDisableShrink"]};return hn(a,kH,t)},DH=Vt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`color${qt(e.color)}`]]}})(Sn(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:PH||{animation:`${BT} 1.4s linear infinite`}},...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}}))]}))),LH=Vt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),NH=Vt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.circle,t[`circle${qt(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(Sn(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:MH||{animation:`${zT} 1.4s ease-in-out infinite`}}]}))),aN=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:l=!1,size:c=40,style:h,thickness:d=3.6,value:p=0,variant:y="indeterminate",...b}=n,E={...n,color:a,disableShrink:l,size:c,thickness:d,value:p,variant:y},A=OH(E),S={},C={},x={};if(y==="determinate"){const N=2*Math.PI*((rc-d)/2);S.strokeDasharray=N.toFixed(3),x["aria-valuenow"]=Math.round(p),S.strokeDashoffset=`${((100-p)/100*N).toFixed(3)}px`,C.transform="rotate(-90deg)"}return z.jsx(DH,{className:te(A.root,s),style:{width:c,height:c,...C,...h},ownerState:E,ref:e,role:"progressbar",...x,...b,children:z.jsx(LH,{className:A.svg,ownerState:E,viewBox:`${rc/2} ${rc/2} ${rc} ${rc}`,children:z.jsx(NH,{className:A.circle,style:S,ownerState:E,cx:rc,cy:rc,r:(rc-d)/2,fill:"none",strokeWidth:d})})})});function FH(i){return un("MuiIconButton",i)}const tM=rn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),VH=i=>{const{classes:t,disabled:e,color:n,edge:s,size:a,loading:l}=i,c={root:["root",l&&"loading",e&&"disabled",n!=="default"&&`color${qt(n)}`,s&&`edge${qt(s)}`,`size${qt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return hn(c,FH,t)},UH=Vt(rN,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.loading&&t.loading,e.color!=="default"&&t[`color${qt(e.color)}`],e.edge&&t[`edge${qt(e.edge)}`],t[`size${qt(e.size)}`]]}})(Sn(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Sn(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{color:(i.vars||i).palette[t].main}})),...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr((i.vars||i).palette[t].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${tM.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${tM.loading}`]:{color:"transparent"}}))),BH=Vt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),eM=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiIconButton"}),{edge:s=!1,children:a,className:l,color:c="default",disabled:h=!1,disableFocusRipple:d=!1,size:p="medium",id:y,loading:b=null,loadingIndicator:E,...A}=n,S=Kv(y),C=E??z.jsx(aN,{"aria-labelledby":S,color:"inherit",size:16}),x={...n,edge:s,color:c,disabled:h,disableFocusRipple:d,loading:b,loadingIndicator:C,size:p},N=VH(x);return z.jsxs(UH,{id:b?S:y,className:te(N.root,l),centerRipple:!0,focusRipple:!d,disabled:h||b,ref:e,...A,ownerState:x,children:[typeof b=="boolean"&&z.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:z.jsx(BH,{className:N.loadingIndicator,ownerState:x,children:b&&C})}),a]})});function zH(i){var y;const{elementType:t,externalSlotProps:e,ownerState:n,skipResolvingSlotProps:s=!1,...a}=i,l=s?{}:nN(e,n),{props:c,internalRef:h}=sN({...a,externalSlotProps:l}),d=Ds(h,l==null?void 0:l.ref,(y=i.additionalProps)==null?void 0:y.ref);return eN(t,{...c,ref:d},n)}function Yv(i){var t;return parseInt(O.version,10)>=19?((t=i==null?void 0:i.props)==null?void 0:t.ref)||null:(i==null?void 0:i.ref)||null}function jH(i){return typeof i=="function"?i():i}const HH=O.forwardRef(function(t,e){const{children:n,container:s,disablePortal:a=!1}=t,[l,c]=O.useState(null),h=Ds(O.isValidElement(n)?Yv(n):null,e);if(Wc(()=>{a||c(jH(s)||document.body)},[s,a]),Wc(()=>{if(l&&!a)return GP(e,l),()=>{GP(e,null)}},[e,l,a]),a){if(O.isValidElement(n)){const d={ref:h};return O.cloneElement(n,d)}return n}return l&&uL.createPortal(n,l)});function F0(i){return parseInt(i,10)||0}const $H={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function qH(i){for(const t in i)return!1;return!0}function nM(i){return qH(i)||i.outerHeightStyle===0&&!i.overflowing}const GH=O.forwardRef(function(t,e){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:c,...h}=t,{current:d}=O.useRef(c!=null),p=O.useRef(null),y=Ds(e,p),b=O.useRef(null),E=O.useRef(null),A=O.useCallback(()=>{const M=p.current,P=E.current;if(!M||!P)return;const W=El(M).getComputedStyle(M);if(W.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=W.width,P.value=M.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const D=W.boxSizing,I=F0(W.paddingBottom)+F0(W.paddingTop),L=F0(W.borderBottomWidth)+F0(W.borderTopWidth),T=P.scrollHeight;P.value="x";const U=P.scrollHeight;let q=T;a&&(q=Math.max(Number(a)*U,q)),s&&(q=Math.min(Number(s)*U,q)),q=Math.max(q,U);const j=q+(D==="border-box"?I+L:0),ct=Math.abs(q-T)<=1;return{outerHeightStyle:j,overflowing:ct}},[s,a,t.placeholder]),S=Gh(()=>{const M=p.current,P=A();if(!M||!P||nM(P))return!1;const F=P.outerHeightStyle;return b.current!=null&&b.current!==F}),C=O.useCallback(()=>{const M=p.current,P=A();if(!M||!P||nM(P))return;const F=P.outerHeightStyle;b.current!==F&&(b.current=F,M.style.height=`${F}px`),M.style.overflow=P.overflowing?"hidden":""},[A]),x=O.useRef(-1);Wc(()=>{const M=YL(C),P=p==null?void 0:p.current;if(!P)return;const F=El(P);F.addEventListener("resize",M);let W;return typeof ResizeObserver<"u"&&(W=new ResizeObserver(()=>{S()&&(W.unobserve(P),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{W.observe(P)}))}),W.observe(P)),()=>{M.clear(),cancelAnimationFrame(x.current),F.removeEventListener("resize",M),W&&W.disconnect()}},[A,C,S]),Wc(()=>{C()});const N=M=>{d||C();const P=M.target,F=P.value.length,W=P.value.endsWith(`
`),D=P.selectionStart===F;W&&D&&P.setSelectionRange(F,F),n&&n(M)};return z.jsxs(O.Fragment,{children:[z.jsx("textarea",{value:c,onChange:N,ref:y,rows:a,style:l,...h}),z.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:E,tabIndex:-1,style:{...$H.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function jT(i){return typeof i=="string"}function rg({props:i,states:t,muiFormControl:e}){return t.reduce((n,s)=>(n[s]=i[s],e&&typeof i[s]>"u"&&(n[s]=e[s]),n),{})}const wC=O.createContext(void 0);function ag(){return O.useContext(wC)}function iM(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function eE(i,t=!1){return i&&(iM(i.value)&&i.value!==""||t&&iM(i.defaultValue)&&i.defaultValue!=="")}function WH(i){return i.startAdornment}function KH(i){return un("MuiInputBase",i)}const $p=rn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var sM;const sA=(i,t)=>{const{ownerState:e}=i;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${qt(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},rA=(i,t)=>{const{ownerState:e}=i;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},YH=i=>{const{classes:t,color:e,disabled:n,error:s,endAdornment:a,focused:l,formControl:c,fullWidth:h,hiddenLabel:d,multiline:p,readOnly:y,size:b,startAdornment:E,type:A}=i,S={root:["root",`color${qt(e)}`,n&&"disabled",s&&"error",h&&"fullWidth",l&&"focused",c&&"formControl",b&&b!=="medium"&&`size${qt(b)}`,p&&"multiline",E&&"adornedStart",a&&"adornedEnd",d&&"hiddenLabel",y&&"readOnly"],input:["input",n&&"disabled",A==="search"&&"inputTypeSearch",p&&"inputMultiline",b==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",E&&"inputAdornedStart",a&&"inputAdornedEnd",y&&"readOnly"]};return hn(S,KH,t)},aA=Vt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:sA})(Sn(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$p.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:e})=>t.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),oA=Vt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:rA})(Sn(({theme:i})=>{const t=i.palette.mode==="light",e={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},n={opacity:"0 !important"},s=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$p.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${$p.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),rM=z9({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),TC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:l,className:c,color:h,components:d={},componentsProps:p={},defaultValue:y,disabled:b,disableInjectingGlobalStyles:E,endAdornment:A,error:S,fullWidth:C=!1,id:x,inputComponent:N="input",inputProps:M={},inputRef:P,margin:F,maxRows:W,minRows:D,multiline:I=!1,name:L,onBlur:T,onChange:U,onClick:q,onFocus:j,onKeyDown:ct,onKeyUp:nt,placeholder:Y,readOnly:Q,renderSuffix:at,rows:dt,size:K,slotProps:rt={},slots:ut={},startAdornment:st,type:vt="text",value:wt,..._t}=n,xt=M.value!=null?M.value:wt,{current:Bt}=O.useRef(xt!=null),jt=O.useRef(),Et=O.useCallback(Kt=>{},[]),Ht=Ds(jt,P,M.ref,Et),[Gt,Mt]=O.useState(!1),kt=ag(),Wt=rg({props:n,muiFormControl:kt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Wt.focused=kt?kt.focused:Gt,O.useEffect(()=>{!kt&&b&&Gt&&(Mt(!1),T&&T())},[kt,b,Gt,T]);const ue=kt&&kt.onFilled,fe=kt&&kt.onEmpty,ke=O.useCallback(Kt=>{eE(Kt)?ue&&ue():fe&&fe()},[ue,fe]);Wc(()=>{Bt&&ke({value:xt})},[xt,ke,Bt]);const Ue=Kt=>{j&&j(Kt),M.onFocus&&M.onFocus(Kt),kt&&kt.onFocus?kt.onFocus(Kt):Mt(!0)},He=Kt=>{T&&T(Kt),M.onBlur&&M.onBlur(Kt),kt&&kt.onBlur?kt.onBlur(Kt):Mt(!1)},pe=(Kt,...On)=>{if(!Bt){const vn=Kt.target||jt.current;if(vn==null)throw new Error(vl(1));ke({value:vn.value})}M.onChange&&M.onChange(Kt,...On),U&&U(Kt,...On)};O.useEffect(()=>{ke(jt.current)},[]);const Ot=Kt=>{jt.current&&Kt.currentTarget===Kt.target&&jt.current.focus(),q&&q(Kt)};let oi=N,Ye=M;I&&oi==="input"&&(dt?Ye={type:void 0,minRows:dt,maxRows:dt,...Ye}:Ye={type:void 0,maxRows:W,minRows:D,...Ye},oi=GH);const Gi=Kt=>{ke(Kt.animationName==="mui-auto-fill-cancel"?jt.current:{value:"x"})};O.useEffect(()=>{kt&&kt.setAdornedStart(!!st)},[kt,st]);const Re={...n,color:Wt.color||"primary",disabled:Wt.disabled,endAdornment:A,error:Wt.error,focused:Wt.focused,formControl:kt,fullWidth:C,hiddenLabel:Wt.hiddenLabel,multiline:I,size:Wt.size,startAdornment:st,type:vt},ee=YH(Re),Xe=ut.root||d.Root||aA,Oe=rt.root||p.root||{},De=ut.input||d.Input||oA;return Ye={...Ye,...rt.input??p.input},z.jsxs(O.Fragment,{children:[!E&&typeof rM=="function"&&(sM||(sM=z.jsx(rM,{}))),z.jsxs(Xe,{...Oe,ref:e,onClick:Ot,..._t,...!jT(Xe)&&{ownerState:{...Re,...Oe.ownerState}},className:te(ee.root,Oe.className,c,Q&&"MuiInputBase-readOnly"),children:[st,z.jsx(wC.Provider,{value:null,children:z.jsx(De,{"aria-invalid":Wt.error,"aria-describedby":s,autoComplete:a,autoFocus:l,defaultValue:y,disabled:Wt.disabled,id:x,onAnimationStart:Gi,name:L,placeholder:Y,readOnly:Q,required:Wt.required,rows:dt,value:xt,onKeyDown:ct,onKeyUp:nt,type:vt,...Ye,...!jT(De)&&{as:oi,ownerState:{...Re,...Ye.ownerState}},ref:Ht,className:te(ee.input,Ye.className,Q&&"MuiInputBase-readOnly"),onBlur:He,onChange:pe,onFocus:Ue})}),A,at?at({...Wt,startAdornment:st}):null]})]})});function XH(i){return un("MuiInput",i)}const Sm={...$p,...rn("MuiInput",["root","underline","input"])};function QH(i){return un("MuiOutlinedInput",i)}const Sa={...$p,...rn("MuiOutlinedInput",["root","notchedOutline","input"])};function ZH(i){return un("MuiFilledInput",i)}const Nu={...$p,...rn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},JH=us(z.jsx("path",{d:"M7 10l5 5 5-5z"})),t$={entering:{opacity:1},entered:{opacity:1}},HT=O.forwardRef(function(t,e){const n=iA(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:h,in:d,onEnter:p,onEntered:y,onEntering:b,onExit:E,onExited:A,onExiting:S,style:C,timeout:x=s,TransitionComponent:N=so,...M}=t,P=O.useRef(null),F=Ds(P,Yv(c),e),W=ct=>nt=>{if(ct){const Y=P.current;nt===void 0?ct(Y):ct(Y,nt)}},D=W(b),I=W((ct,nt)=>{tN(ct);const Y=J_({style:C,timeout:x,easing:h},{mode:"enter"});ct.style.webkitTransition=n.transitions.create("opacity",Y),ct.style.transition=n.transitions.create("opacity",Y),p&&p(ct,nt)}),L=W(y),T=W(S),U=W(ct=>{const nt=J_({style:C,timeout:x,easing:h},{mode:"exit"});ct.style.webkitTransition=n.transitions.create("opacity",nt),ct.style.transition=n.transitions.create("opacity",nt),E&&E(ct)}),q=W(A),j=ct=>{a&&a(P.current,ct)};return z.jsx(N,{appear:l,in:d,nodeRef:P,onEnter:I,onEntered:L,onEntering:D,onExit:U,onExited:q,onExiting:T,addEndListener:j,timeout:x,...M,children:(ct,{ownerState:nt,...Y})=>O.cloneElement(c,{style:{opacity:0,visibility:ct==="exited"&&!d?"hidden":void 0,...t$[ct],...C,...c.props.style},ref:F,...Y})})});function e$(i){return un("MuiBackdrop",i)}rn("MuiBackdrop",["root","invisible"]);const n$=i=>{const{classes:t,invisible:e}=i;return hn({root:["root",e&&"invisible"]},e$,t)},i$=Vt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),oN=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",invisible:c=!1,open:h,components:d={},componentsProps:p={},slotProps:y={},slots:b={},TransitionComponent:E,transitionDuration:A,...S}=n,C={...n,component:l,invisible:c},x=n$(C),N={transition:E,root:d.Root,...b},M={...p,...y},P={slots:N,slotProps:M},[F,W]=Gn("root",{elementType:i$,externalForwardedProps:P,className:te(x.root,a),ownerState:C}),[D,I]=Gn("transition",{elementType:HT,externalForwardedProps:P,ownerState:C});return z.jsx(D,{in:h,timeout:A,...S,...I,children:z.jsx(F,{"aria-hidden":!0,...W,classes:x,ref:e,children:s})})});function s$(i){return un("MuiButton",i)}const Fu=rn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),r$=O.createContext({}),a$=O.createContext(void 0),o$=i=>{const{color:t,disableElevation:e,fullWidth:n,size:s,variant:a,loading:l,loadingPosition:c,classes:h}=i,d={root:["root",l&&"loading",a,`${a}${qt(t)}`,`size${qt(s)}`,`${a}Size${qt(s)}`,`color${qt(t)}`,e&&"disableElevation",n&&"fullWidth",l&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(s)}`],endIcon:["icon","endIcon",`iconSize${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=hn(d,s$,h);return{...h,...p}},lN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],l$=Vt(rN,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],t[`${e.variant}${qt(e.color)}`],t[`size${qt(e.size)}`],t[`${e.variant}Size${qt(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth,e.loading&&t.loading]}})(Sn(({theme:i})=>{const t=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],e=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Fu.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${Fu.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${Fu.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Fu.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(_l()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(i.vars||i).palette[n].main,"--variant-outlinedColor":(i.vars||i).palette[n].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[n].mainChannel} / 0.5)`:Qr(i.palette[n].main,.5),"--variant-containedColor":(i.vars||i).palette[n].contrastText,"--variant-containedBg":(i.vars||i).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[n].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette[n].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[n].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette[n].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Qr(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Fu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Fu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${Fu.loading}`]:{color:"transparent"}}}]}})),c$=Vt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.startIcon,e.loading&&t.startIconLoadingStart,t[`iconSize${qt(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...lN]})),u$=Vt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.endIcon,e.loading&&t.endIconLoadingEnd,t[`iconSize${qt(e.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...lN]})),h$=Vt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),aM=Vt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),cN=O.forwardRef(function(t,e){const n=O.useContext(r$),s=O.useContext(a$),a=Q_(n,t),l=pn({props:a,name:"MuiButton"}),{children:c,color:h="primary",component:d="button",className:p,disabled:y=!1,disableElevation:b=!1,disableFocusRipple:E=!1,endIcon:A,focusVisibleClassName:S,fullWidth:C=!1,id:x,loading:N=null,loadingIndicator:M,loadingPosition:P="center",size:F="medium",startIcon:W,type:D,variant:I="text",...L}=l,T=Kv(x),U=M??z.jsx(aN,{"aria-labelledby":T,color:"inherit",size:16}),q={...l,color:h,component:d,disabled:y,disableElevation:b,disableFocusRipple:E,fullWidth:C,loading:N,loadingIndicator:U,loadingPosition:P,size:F,type:D,variant:I},j=o$(q),ct=(W||N&&P==="start")&&z.jsx(c$,{className:j.startIcon,ownerState:q,children:W||z.jsx(aM,{className:j.loadingIconPlaceholder,ownerState:q})}),nt=(A||N&&P==="end")&&z.jsx(u$,{className:j.endIcon,ownerState:q,children:A||z.jsx(aM,{className:j.loadingIconPlaceholder,ownerState:q})}),Y=s||"",Q=typeof N=="boolean"?z.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:N&&z.jsx(h$,{className:j.loadingIndicator,ownerState:q,children:U})}):null;return z.jsxs(l$,{ownerState:q,className:te(n.className,j.root,p,Y),component:d,disabled:y||N,focusRipple:!E,focusVisibleClassName:te(j.focusVisible,S),ref:e,type:D,id:N?T:x,...L,classes:j,children:[ct,P!=="end"&&Q,c,P==="end"&&Q,nt]})});function uN(i=window){const t=i.document.documentElement.clientWidth;return i.innerWidth-t}function d$(i){const t=na(i);return t.body===i?El(i).innerWidth>t.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function Zm(i,t){t?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function oM(i){return parseInt(El(i).getComputedStyle(i).paddingRight,10)||0}function f$(i){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),n=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return e||n}function lM(i,t,e,n,s){const a=[t,e,...n];[].forEach.call(i.children,l=>{const c=!a.includes(l),h=!f$(l);c&&h&&Zm(l,s)})}function tT(i,t){let e=-1;return i.some((n,s)=>t(n)?(e=s,!0):!1),e}function p$(i,t){const e=[],n=i.container;if(!t.disableScrollLock){if(d$(n)){const l=uN(El(n));e.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${oM(n)+l}px`;const c=na(n).querySelectorAll(".mui-fixed");[].forEach.call(c,h=>{e.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${oM(h)+l}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=na(n).body;else{const l=n.parentElement,c=El(n);a=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}e.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{e.forEach(({value:a,el:l,property:c})=>{a?l.style.setProperty(c,a):l.style.removeProperty(c)})}}function g$(i){const t=[];return[].forEach.call(i.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class m${constructor(){this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Zm(t.modalRef,!1);const s=g$(e);lM(e,t.mount,t.modalRef,s,!0);const a=tT(this.containers,l=>l.container===e);return a!==-1?(this.containers[a].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:s}),n)}mount(t,e){const n=tT(this.containers,a=>a.modals.includes(t)),s=this.containers[n];s.restore||(s.restore=p$(s,e))}remove(t,e=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const s=tT(this.containers,l=>l.modals.includes(t)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&Zm(t.modalRef,e),lM(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const l=a.modals[a.modals.length-1];l.modalRef&&Zm(l.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const y$=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function v$(i){const t=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(t)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:t}function b$(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const t=n=>i.ownerDocument.querySelector(`input[type="radio"]${n}`);let e=t(`[name="${i.name}"]:checked`);return e||(e=t(`[name="${i.name}"]`)),e!==i}function _$(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||b$(i))}function E$(i){const t=[],e=[];return Array.from(i.querySelectorAll(y$)).forEach((n,s)=>{const a=v$(n);a===-1||!_$(n)||(a===0?t.push(n):e.push({documentOrder:s,tabIndex:a,node:n}))}),e.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(t)}function A$(){return!0}function S$(i){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:a=E$,isEnabled:l=A$,open:c}=i,h=O.useRef(!1),d=O.useRef(null),p=O.useRef(null),y=O.useRef(null),b=O.useRef(null),E=O.useRef(!1),A=O.useRef(null),S=Ds(Yv(t),A),C=O.useRef(null);O.useEffect(()=>{!c||!A.current||(E.current=!e)},[e,c]),O.useEffect(()=>{if(!c||!A.current)return;const M=na(A.current);return A.current.contains(M.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),E.current&&A.current.focus()),()=>{s||(y.current&&y.current.focus&&(h.current=!0,y.current.focus()),y.current=null)}},[c]),O.useEffect(()=>{if(!c||!A.current)return;const M=na(A.current),P=D=>{C.current=D,!(n||!l()||D.key!=="Tab")&&M.activeElement===A.current&&D.shiftKey&&(h.current=!0,p.current&&p.current.focus())},F=()=>{var L,T;const D=A.current;if(D===null)return;if(!M.hasFocus()||!l()||h.current){h.current=!1;return}if(D.contains(M.activeElement)||n&&M.activeElement!==d.current&&M.activeElement!==p.current)return;if(M.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!E.current)return;let I=[];if((M.activeElement===d.current||M.activeElement===p.current)&&(I=a(A.current)),I.length>0){const U=!!((L=C.current)!=null&&L.shiftKey&&((T=C.current)==null?void 0:T.key)==="Tab"),q=I[0],j=I[I.length-1];typeof q!="string"&&typeof j!="string"&&(U?j.focus():q.focus())}else D.focus()};M.addEventListener("focusin",F),M.addEventListener("keydown",P,!0);const W=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&F()},50);return()=>{clearInterval(W),M.removeEventListener("focusin",F),M.removeEventListener("keydown",P,!0)}},[e,n,s,l,c,a]);const x=M=>{y.current===null&&(y.current=M.relatedTarget),E.current=!0,b.current=M.target;const P=t.props.onFocus;P&&P(M)},N=M=>{y.current===null&&(y.current=M.relatedTarget),E.current=!0};return z.jsxs(O.Fragment,{children:[z.jsx("div",{tabIndex:c?0:-1,onFocus:N,ref:d,"data-testid":"sentinelStart"}),O.cloneElement(t,{ref:S,onFocus:x}),z.jsx("div",{tabIndex:c?0:-1,onFocus:N,ref:p,"data-testid":"sentinelEnd"})]})}function w$(i){return typeof i=="function"?i():i}function T$(i){return i?i.props.hasOwnProperty("in"):!1}const cM=()=>{},V0=new m$;function x$(i){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:h,open:d,rootRef:p}=i,y=O.useRef({}),b=O.useRef(null),E=O.useRef(null),A=Ds(E,p),[S,C]=O.useState(!d),x=T$(c);let N=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(N=!1);const M=()=>na(b.current),P=()=>(y.current.modalRef=E.current,y.current.mount=b.current,y.current),F=()=>{V0.mount(P(),{disableScrollLock:n}),E.current&&(E.current.scrollTop=0)},W=Gh(()=>{const nt=w$(t)||M().body;V0.add(P(),nt),E.current&&F()}),D=()=>V0.isTopModal(P()),I=Gh(nt=>{b.current=nt,nt&&(d&&D()?F():E.current&&Zm(E.current,N))}),L=O.useCallback(()=>{V0.remove(P(),N)},[N]);O.useEffect(()=>()=>{L()},[L]),O.useEffect(()=>{d?W():(!x||!s)&&L()},[d,L,x,s,W]);const T=nt=>Y=>{var Q;(Q=nt.onKeyDown)==null||Q.call(nt,Y),!(Y.key!=="Escape"||Y.which===229||!D())&&(e||(Y.stopPropagation(),h&&h(Y,"escapeKeyDown")))},U=nt=>Y=>{var Q;(Q=nt.onClick)==null||Q.call(nt,Y),Y.target===Y.currentTarget&&h&&h(Y,"backdropClick")};return{getRootProps:(nt={})=>{const Y=iN(i);delete Y.onTransitionEnter,delete Y.onTransitionExited;const Q={...Y,...nt};return{role:"presentation",...Q,onKeyDown:T(Q),ref:A}},getBackdropProps:(nt={})=>{const Y=nt;return{"aria-hidden":!0,...Y,onClick:U(Y),open:d}},getTransitionProps:()=>{const nt=()=>{C(!1),a&&a()},Y=()=>{C(!0),l&&l(),s&&L()};return{onEnter:qP(nt,(c==null?void 0:c.props.onEnter)??cM),onExited:qP(Y,(c==null?void 0:c.props.onExited)??cM)}},rootRef:A,portalRef:I,isTopModal:D,exited:S,hasTransition:x}}function C$(i){return un("MuiModal",i)}rn("MuiModal",["root","hidden","backdrop"]);const R$=i=>{const{open:t,exited:e,classes:n}=i;return hn({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},C$,n)},I$=Vt("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.open&&e.exited&&t.hidden]}})(Sn(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),k$=Vt(oN,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),hN=O.forwardRef(function(t,e){const n=pn({name:"MuiModal",props:t}),{BackdropComponent:s=k$,BackdropProps:a,classes:l,className:c,closeAfterTransition:h=!1,children:d,container:p,component:y,components:b={},componentsProps:E={},disableAutoFocus:A=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:N=!1,disableScrollLock:M=!1,hideBackdrop:P=!1,keepMounted:F=!1,onClose:W,onTransitionEnter:D,onTransitionExited:I,open:L,slotProps:T={},slots:U={},theme:q,...j}=n,ct={...n,closeAfterTransition:h,disableAutoFocus:A,disableEnforceFocus:S,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:N,disableScrollLock:M,hideBackdrop:P,keepMounted:F},{getRootProps:nt,getBackdropProps:Y,getTransitionProps:Q,portalRef:at,isTopModal:dt,exited:K,hasTransition:rt}=x$({...ct,rootRef:e}),ut={...ct,exited:K},st=R$(ut),vt={};if(d.props.tabIndex===void 0&&(vt.tabIndex="-1"),rt){const{onEnter:Et,onExited:Ht}=Q();vt.onEnter=Et,vt.onExited=Ht}const wt={slots:{root:b.Root,backdrop:b.Backdrop,...U},slotProps:{...E,...T}},[_t,xt]=Gn("root",{ref:e,elementType:I$,externalForwardedProps:{...wt,...j,component:y},getSlotProps:nt,ownerState:ut,className:te(c,st==null?void 0:st.root,!ut.open&&ut.exited&&(st==null?void 0:st.hidden))}),[Bt,jt]=Gn("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:wt,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:Et=>Y({...Et,onClick:Ht=>{Et!=null&&Et.onClick&&Et.onClick(Ht)}}),className:te(a==null?void 0:a.className,st==null?void 0:st.backdrop),ownerState:ut});return!F&&!L&&(!rt||K)?null:z.jsx(HH,{ref:at,container:p,disablePortal:x,children:z.jsxs(_t,{...xt,children:[!P&&s?z.jsx(Bt,{...jt}):null,z.jsx(S$,{disableEnforceFocus:S,disableAutoFocus:A,disableRestoreFocus:N,isEnabled:dt,open:L,children:O.cloneElement(d,vt)})]})})});function P$(i){return un("MuiDialog",i)}const eT=rn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dN=O.createContext({}),M$=Vt(oN,{name:"MuiDialog",slot:"Backdrop",overrides:(i,t)=>t.backdrop})({zIndex:-1}),O$=i=>{const{classes:t,scroll:e,maxWidth:n,fullWidth:s,fullScreen:a}=i,l={root:["root"],container:["container",`scroll${qt(e)}`],paper:["paper",`paperScroll${qt(e)}`,`paperWidth${qt(String(n))}`,s&&"paperFullWidth",a&&"paperFullScreen"]};return hn(l,P$,t)},D$=Vt(hN,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),L$=Vt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.container,t[`scroll${qt(e.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),N$=Vt(SC,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.paper,t[`scrollPaper${qt(e.scroll)}`],t[`paperWidth${qt(String(e.maxWidth))}`],e.fullWidth&&t.paperFullWidth,e.fullScreen&&t.paperFullScreen]}})(Sn(({theme:i})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${eT.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(i.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${i.breakpoints.values[t]}${i.breakpoints.unit}`,[`&.${eT.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${eT.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),uM=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiDialog"}),s=iA(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":h=!0,BackdropComponent:d,BackdropProps:p,children:y,className:b,disableEscapeKeyDown:E=!1,fullScreen:A=!1,fullWidth:S=!1,maxWidth:C="sm",onClick:x,onClose:N,open:M,PaperComponent:P=SC,PaperProps:F={},scroll:W="paper",slots:D={},slotProps:I={},TransitionComponent:L=HT,transitionDuration:T=a,TransitionProps:U,...q}=n,j={...n,disableEscapeKeyDown:E,fullScreen:A,fullWidth:S,maxWidth:C,scroll:W},ct=O$(j),nt=O.useRef(),Y=Mt=>{nt.current=Mt.target===Mt.currentTarget},Q=Mt=>{x&&x(Mt),nt.current&&(nt.current=null,N&&N(Mt,"backdropClick"))},at=Kv(c),dt=O.useMemo(()=>({titleId:at}),[at]),K={transition:L,...D},rt={transition:U,paper:F,backdrop:p,...I},ut={slots:K,slotProps:rt},[st,vt]=Gn("root",{elementType:D$,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:j,className:te(ct.root,b),ref:e}),[wt,_t]=Gn("backdrop",{elementType:M$,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:j}),[xt,Bt]=Gn("paper",{elementType:N$,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:j,className:te(ct.paper,F.className)}),[jt,Et]=Gn("container",{elementType:L$,externalForwardedProps:ut,ownerState:j,className:ct.container}),[Ht,Gt]=Gn("transition",{elementType:HT,externalForwardedProps:ut,ownerState:j,additionalProps:{appear:!0,in:M,timeout:T,role:"presentation"}});return z.jsx(st,{closeAfterTransition:!0,slots:{backdrop:wt},slotProps:{backdrop:{transitionDuration:T,as:d,..._t}},disableEscapeKeyDown:E,onClose:N,open:M,onClick:Q,...vt,...q,children:z.jsx(Ht,{...Gt,children:z.jsx(jt,{onMouseDown:Y,...Et,children:z.jsx(xt,{as:P,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":at,"aria-modal":h,...Bt,children:z.jsx(dN.Provider,{value:dt,children:y})})})})})});function F$(i){return un("MuiDialogTitle",i)}rn("MuiDialogTitle",["root"]);const V$=i=>{const{classes:t}=i;return hn({root:["root"]},F$,t)},U$=Vt(Nt,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),hM=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiDialogTitle"}),{className:s,id:a,...l}=n,c=n,h=V$(c),{titleId:d=a}=O.useContext(dN);return z.jsx(U$,{component:"h2",className:te(h.root,s),ownerState:c,ref:e,variant:"h6",id:a??d,...l})}),B$=i=>{const{classes:t,disableUnderline:e,startAdornment:n,endAdornment:s,size:a,hiddenLabel:l,multiline:c}=i,h={root:["root",!e&&"underline",n&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${qt(a)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},d=hn(h,ZH,t);return{...t,...d}},z$=Vt(aA,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...sA(i,t),!e.disableUnderline&&t.underline]}})(Sn(({theme:i})=>{const t=i.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n}},[`&.${Nu.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:n},[`&.${Nu.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Nu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Nu.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Nu.disabled}, .${Nu.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${Nu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(_l()).map(([l])=>{var c;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(c=(i.vars||i).palette[l])==null?void 0:c.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),j$=Vt(oA,{name:"MuiFilledInput",slot:"Input",overridesResolver:rA})(Sn(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),xC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:l,fullWidth:c=!1,hiddenLabel:h,inputComponent:d="input",multiline:p=!1,slotProps:y,slots:b={},type:E="text",...A}=n,S={...n,disableUnderline:s,fullWidth:c,inputComponent:d,multiline:p,type:E},C=B$(n),x={root:{ownerState:S},input:{ownerState:S}},N=y??l?ls(x,y??l):x,M=b.root??a.Root??z$,P=b.input??a.Input??j$;return z.jsx(TC,{slots:{root:M,input:P},slotProps:N,fullWidth:c,inputComponent:d,multiline:p,ref:e,type:E,...A,classes:C})});xC.muiName="Input";function H$(i){return un("MuiFormControl",i)}rn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const $$=i=>{const{classes:t,margin:e,fullWidth:n}=i,s={root:["root",e!=="none"&&`margin${qt(e)}`,n&&"fullWidth"]};return hn(s,H$,t)},q$=Vt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[`margin${qt(e.margin)}`],e.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),G$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFormControl"}),{children:s,className:a,color:l="primary",component:c="div",disabled:h=!1,error:d=!1,focused:p,fullWidth:y=!1,hiddenLabel:b=!1,margin:E="none",required:A=!1,size:S="medium",variant:C="outlined",...x}=n,N={...n,color:l,component:c,disabled:h,error:d,fullWidth:y,hiddenLabel:b,margin:E,required:A,size:S,variant:C},M=$$(N),[P,F]=O.useState(()=>{let nt=!1;return s&&O.Children.forEach(s,Y=>{if(!Zw(Y,["Input","Select"]))return;const Q=Zw(Y,["Select"])?Y.props.input:Y;Q&&WH(Q.props)&&(nt=!0)}),nt}),[W,D]=O.useState(()=>{let nt=!1;return s&&O.Children.forEach(s,Y=>{Zw(Y,["Input","Select"])&&(eE(Y.props,!0)||eE(Y.props.inputProps,!0))&&(nt=!0)}),nt}),[I,L]=O.useState(!1);h&&I&&L(!1);const T=p!==void 0&&!h?p:I;let U;O.useRef(!1);const q=O.useCallback(()=>{D(!0)},[]),j=O.useCallback(()=>{D(!1)},[]),ct=O.useMemo(()=>({adornedStart:P,setAdornedStart:F,color:l,disabled:h,error:d,filled:W,focused:T,fullWidth:y,hiddenLabel:b,size:S,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:j,onFilled:q,registerEffect:U,required:A,variant:C}),[P,l,h,d,W,T,y,b,U,j,q,A,S,C]);return z.jsx(wC.Provider,{value:ct,children:z.jsx(q$,{as:c,ownerState:N,className:te(M.root,a),ref:e,...x,children:s})})});function W$(i){return un("MuiFormHelperText",i)}const dM=rn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var fM;const K$=i=>{const{classes:t,contained:e,size:n,disabled:s,error:a,filled:l,focused:c,required:h}=i,d={root:["root",s&&"disabled",a&&"error",n&&`size${qt(n)}`,e&&"contained",c&&"focused",l&&"filled",h&&"required"]};return hn(d,W$,t)},Y$=Vt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.size&&t[`size${qt(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(Sn(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dM.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${dM.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),X$=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFormHelperText"}),{children:s,className:a,component:l="p",disabled:c,error:h,filled:d,focused:p,margin:y,required:b,variant:E,...A}=n,S=ag(),C=rg({props:n,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),x={...n,component:l,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const N=K$(x);return z.jsx(Y$,{as:l,className:te(N.root,a),ref:e,...A,ownerState:x,children:s===" "?fM||(fM=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):s})});function Q$(i){return un("MuiFormLabel",i)}const Jm=rn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Z$=i=>{const{classes:t,color:e,focused:n,disabled:s,error:a,filled:l,required:c}=i,h={root:["root",`color${qt(e)}`,s&&"disabled",a&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",a&&"error"]};return hn(h,Q$,t)},J$=Vt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled]}})(Sn(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(_l()).map(([t])=>({props:{color:t},style:{[`&.${Jm.focused}`]:{color:(i.vars||i).palette[t].main}}})),{props:{},style:{[`&.${Jm.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${Jm.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),t8=Vt("span",{name:"MuiFormLabel",slot:"Asterisk"})(Sn(({theme:i})=>({[`&.${Jm.error}`]:{color:(i.vars||i).palette.error.main}}))),e8=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiFormLabel"}),{children:s,className:a,color:l,component:c="label",disabled:h,error:d,filled:p,focused:y,required:b,...E}=n,A=ag(),S=rg({props:n,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),C={...n,color:S.color||"primary",component:c,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},x=Z$(C);return z.jsxs(J$,{as:c,ownerState:C,className:te(x.root,a),ref:e,...E,children:[s,S.required&&z.jsxs(t8,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function $T(i){return`scale(${i}, ${i**2})`}const n8={entering:{opacity:1,transform:$T(1)},entered:{opacity:1,transform:"none"}},nT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),qT=O.forwardRef(function(t,e){const{addEndListener:n,appear:s=!0,children:a,easing:l,in:c,onEnter:h,onEntered:d,onEntering:p,onExit:y,onExited:b,onExiting:E,style:A,timeout:S="auto",TransitionComponent:C=so,...x}=t,N=JL(),M=O.useRef(),P=iA(),F=O.useRef(null),W=Ds(F,Yv(a),e),D=nt=>Y=>{if(nt){const Q=F.current;Y===void 0?nt(Q):nt(Q,Y)}},I=D(p),L=D((nt,Y)=>{tN(nt);const{duration:Q,delay:at,easing:dt}=J_({style:A,timeout:S,easing:l},{mode:"enter"});let K;S==="auto"?(K=P.transitions.getAutoHeightDuration(nt.clientHeight),M.current=K):K=Q,nt.style.transition=[P.transitions.create("opacity",{duration:K,delay:at}),P.transitions.create("transform",{duration:nT?K:K*.666,delay:at,easing:dt})].join(","),h&&h(nt,Y)}),T=D(d),U=D(E),q=D(nt=>{const{duration:Y,delay:Q,easing:at}=J_({style:A,timeout:S,easing:l},{mode:"exit"});let dt;S==="auto"?(dt=P.transitions.getAutoHeightDuration(nt.clientHeight),M.current=dt):dt=Y,nt.style.transition=[P.transitions.create("opacity",{duration:dt,delay:Q}),P.transitions.create("transform",{duration:nT?dt:dt*.666,delay:nT?Q:Q||dt*.333,easing:at})].join(","),nt.style.opacity=0,nt.style.transform=$T(.75),y&&y(nt)}),j=D(b),ct=nt=>{S==="auto"&&N.start(M.current||0,nt),n&&n(F.current,nt)};return z.jsx(C,{appear:s,in:c,nodeRef:F,onEnter:L,onEntered:T,onEntering:I,onExit:q,onExited:j,onExiting:U,addEndListener:ct,timeout:S==="auto"?null:S,...x,children:(nt,{ownerState:Y,...Q})=>O.cloneElement(a,{style:{opacity:0,transform:$T(.75),visibility:nt==="exited"&&!c?"hidden":void 0,...n8[nt],...A,...a.props.style},ref:W,...Q})})});qT&&(qT.muiSupportAuto=!0);const i8=i=>{const{classes:t,disableUnderline:e}=i,s=hn({root:["root",!e&&"underline"],input:["input"]},XH,t);return{...t,...s}},s8=Vt(aA,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[...sA(i,t),!e.disableUnderline&&t.underline]}})(Sn(({theme:i})=>{let e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(e=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sm.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sm.disabled}, .${Sm.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${Sm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(_l()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[n].main}`}}}))]}})),r8=Vt(oA,{name:"MuiInput",slot:"Input",overridesResolver:rA})({}),CC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:h="input",multiline:d=!1,slotProps:p,slots:y={},type:b="text",...E}=n,A=i8(n),C={root:{ownerState:{disableUnderline:s}}},x=p??l?ls(p??l,C):C,N=y.root??a.Root??s8,M=y.input??a.Input??r8;return z.jsx(TC,{slots:{root:N,input:M},slotProps:x,fullWidth:c,inputComponent:h,multiline:d,ref:e,type:b,...E,classes:A})});CC.muiName="Input";function a8(i){return un("MuiInputLabel",i)}rn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const o8=i=>{const{classes:t,formControl:e,size:n,shrink:s,disableAnimation:a,variant:l,required:c}=i,h={root:["root",e&&"formControl",!a&&"animated",s&&"shrink",n&&n!=="medium"&&`size${qt(n)}`,l],asterisk:[c&&"asterisk"]},d=hn(h,a8,t);return{...t,...d}},l8=Vt(e8,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`& .${Jm.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(Sn(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="filled"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:e,size:n})=>t==="filled"&&e.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:e})=>t==="outlined"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),c8=O.forwardRef(function(t,e){const n=pn({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,margin:a,shrink:l,variant:c,className:h,...d}=n,p=ag();let y=l;typeof y>"u"&&p&&(y=p.filled||p.focused||p.adornedStart);const b=rg({props:n,muiFormControl:p,states:["size","variant","required","focused"]}),E={...n,disableAnimation:s,formControl:p,shrink:y,size:b.size,variant:b.variant,required:b.required,focused:b.focused},A=o8(E);return z.jsx(l8,{"data-shrink":y,ref:e,className:te(A.root,h),...d,ownerState:E,classes:A})}),u8=O.createContext({});function h8(i){return un("MuiList",i)}rn("MuiList",["root","padding","dense","subheader"]);const d8=i=>{const{classes:t,disablePadding:e,dense:n,subheader:s}=i;return hn({root:["root",!e&&"padding",n&&"dense",s&&"subheader"]},h8,t)},f8=Vt("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),p8=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiList"}),{children:s,className:a,component:l="ul",dense:c=!1,disablePadding:h=!1,subheader:d,...p}=n,y=O.useMemo(()=>({dense:c}),[c]),b={...n,component:l,dense:c,disablePadding:h},E=d8(b);return z.jsx(u8.Provider,{value:y,children:z.jsxs(f8,{as:l,className:te(E.root,a),ref:e,ownerState:b,...p,children:[d,s]})})});function iT(i,t,e){return i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:i.firstChild}function pM(i,t,e){return i===t?e?i.firstChild:i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:i.lastChild}function fN(i,t){if(t===void 0)return!0;let e=i.innerText;return e===void 0&&(e=i.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.startsWith(t.keys.join(""))}function wm(i,t,e,n,s,a){let l=!1,c=s(i,t,t?e:!1);for(;c;){if(c===i.firstChild){if(l)return!1;l=!0}const h=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!fN(c,a)||h)c=s(i,c,e);else return c.focus(),!0}return!1}const g8=O.forwardRef(function(t,e){const{actions:n,autoFocus:s=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:h=!1,disableListWrap:d=!1,onKeyDown:p,variant:y="selectedMenu",...b}=t,E=O.useRef(null),A=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Wc(()=>{s&&E.current.focus()},[s]),O.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(M,{direction:P})=>{const F=!E.current.style.width;if(M.clientHeight<E.current.clientHeight&&F){const W=`${uN(El(M))}px`;E.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=W,E.current.style.width=`calc(100% + ${W})`}return E.current}}),[]);const S=M=>{const P=E.current,F=M.key;if(M.ctrlKey||M.metaKey||M.altKey){p&&p(M);return}const D=na(P).activeElement;if(F==="ArrowDown")M.preventDefault(),wm(P,D,d,h,iT);else if(F==="ArrowUp")M.preventDefault(),wm(P,D,d,h,pM);else if(F==="Home")M.preventDefault(),wm(P,null,d,h,iT);else if(F==="End")M.preventDefault(),wm(P,null,d,h,pM);else if(F.length===1){const I=A.current,L=F.toLowerCase(),T=performance.now();I.keys.length>0&&(T-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&L!==I.keys[0]&&(I.repeating=!1)),I.lastTime=T,I.keys.push(L);const U=D&&!I.repeating&&fN(D,I);I.previousKeyMatched&&(U||wm(P,D,!1,h,iT,I))?M.preventDefault():I.previousKeyMatched=!1}p&&p(M)},C=Ds(E,e);let x=-1;O.Children.forEach(l,(M,P)=>{if(!O.isValidElement(M)){x===P&&(x+=1,x>=l.length&&(x=-1));return}M.props.disabled||(y==="selectedMenu"&&M.props.selected||x===-1)&&(x=P),x===P&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(x+=1,x>=l.length&&(x=-1))});const N=O.Children.map(l,(M,P)=>{if(P===x){const F={};return a&&(F.autoFocus=!0),M.props.tabIndex===void 0&&y==="selectedMenu"&&(F.tabIndex=0),O.cloneElement(M,F)}return M});return z.jsx(p8,{role:"menu",ref:C,className:c,onKeyDown:S,tabIndex:s?0:-1,...b,children:N})});function m8(i){return un("MuiPopover",i)}rn("MuiPopover",["root","paper"]);function gM(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.height/2:t==="bottom"&&(e=i.height),e}function mM(i,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=i.width/2:t==="right"&&(e=i.width),e}function yM(i){return[i.horizontal,i.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function U0(i){return typeof i=="function"?i():i}const y8=i=>{const{classes:t}=i;return hn({root:["root"],paper:["paper"]},m8,t)},v8=Vt(hN,{name:"MuiPopover",slot:"Root"})({}),pN=Vt(SC,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),b8=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:h="anchorEl",children:d,className:p,container:y,elevation:b=8,marginThreshold:E=16,open:A,PaperProps:S={},slots:C={},slotProps:x={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:M,transitionDuration:P="auto",TransitionProps:F={},disableScrollLock:W=!1,...D}=n,I=O.useRef(),L={...n,anchorOrigin:l,anchorReference:h,elevation:b,marginThreshold:E,transformOrigin:N,TransitionComponent:M,transitionDuration:P,TransitionProps:F},T=y8(L),U=O.useCallback(()=>{if(h==="anchorPosition")return c;const Et=U0(a),Gt=(Et&&Et.nodeType===1?Et:na(I.current).body).getBoundingClientRect();return{top:Gt.top+gM(Gt,l.vertical),left:Gt.left+mM(Gt,l.horizontal)}},[a,l.horizontal,l.vertical,c,h]),q=O.useCallback(Et=>({vertical:gM(Et,N.vertical),horizontal:mM(Et,N.horizontal)}),[N.horizontal,N.vertical]),j=O.useCallback(Et=>{const Ht={width:Et.offsetWidth,height:Et.offsetHeight},Gt=q(Ht);if(h==="none")return{top:null,left:null,transformOrigin:yM(Gt)};const Mt=U();let kt=Mt.top-Gt.vertical,Wt=Mt.left-Gt.horizontal;const ue=kt+Ht.height,fe=Wt+Ht.width,ke=El(U0(a)),Ue=ke.innerHeight-E,He=ke.innerWidth-E;if(E!==null&&kt<E){const pe=kt-E;kt-=pe,Gt.vertical+=pe}else if(E!==null&&ue>Ue){const pe=ue-Ue;kt-=pe,Gt.vertical+=pe}if(E!==null&&Wt<E){const pe=Wt-E;Wt-=pe,Gt.horizontal+=pe}else if(fe>He){const pe=fe-He;Wt-=pe,Gt.horizontal+=pe}return{top:`${Math.round(kt)}px`,left:`${Math.round(Wt)}px`,transformOrigin:yM(Gt)}},[a,h,U,q,E]),[ct,nt]=O.useState(A),Y=O.useCallback(()=>{const Et=I.current;if(!Et)return;const Ht=j(Et);Ht.top!==null&&Et.style.setProperty("top",Ht.top),Ht.left!==null&&(Et.style.left=Ht.left),Et.style.transformOrigin=Ht.transformOrigin,nt(!0)},[j]);O.useEffect(()=>(W&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[a,W,Y]);const Q=()=>{Y()},at=()=>{nt(!1)};O.useEffect(()=>{A&&Y()}),O.useImperativeHandle(s,()=>A?{updatePosition:()=>{Y()}}:null,[A,Y]),O.useEffect(()=>{if(!A)return;const Et=YL(()=>{Y()}),Ht=El(U0(a));return Ht.addEventListener("resize",Et),()=>{Et.clear(),Ht.removeEventListener("resize",Et)}},[a,A,Y]);let dt=P;const K={slots:{transition:M,...C},slotProps:{transition:F,paper:S,...x}},[rt,ut]=Gn("transition",{elementType:qT,externalForwardedProps:K,ownerState:L,getSlotProps:Et=>({...Et,onEntering:(Ht,Gt)=>{var Mt;(Mt=Et.onEntering)==null||Mt.call(Et,Ht,Gt),Q()},onExited:Ht=>{var Gt;(Gt=Et.onExited)==null||Gt.call(Et,Ht),at()}}),additionalProps:{appear:!0,in:A}});P==="auto"&&!rt.muiSupportAuto&&(dt=void 0);const st=y||(a?na(U0(a)).body:void 0),[vt,{slots:wt,slotProps:_t,...xt}]=Gn("root",{ref:e,elementType:v8,externalForwardedProps:{...K,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:nH(typeof x.backdrop=="function"?x.backdrop(L):x.backdrop,{invisible:!0})},container:st,open:A},ownerState:L,className:te(T.root,p)}),[Bt,jt]=Gn("paper",{ref:I,className:T.paper,elementType:pN,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:ct?void 0:{opacity:0}},ownerState:L});return z.jsx(vt,{...xt,...!jT(vt)&&{slots:wt,slotProps:_t,disableScrollLock:W},children:z.jsx(rt,{...ut,timeout:dt,children:z.jsx(Bt,{...jt,children:d})})})});function _8(i){return un("MuiMenu",i)}rn("MuiMenu",["root","paper","list"]);const E8={vertical:"top",horizontal:"right"},A8={vertical:"top",horizontal:"left"},S8=i=>{const{classes:t}=i;return hn({root:["root"],paper:["paper"],list:["list"]},_8,t)},w8=Vt(b8,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiMenu",slot:"Root"})({}),T8=Vt(pN,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),x8=Vt(g8,{name:"MuiMenu",slot:"List"})({outline:0}),C8=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:h={},onClose:d,open:p,PaperProps:y={},PopoverClasses:b,transitionDuration:E="auto",TransitionProps:{onEntering:A,...S}={},variant:C="selectedMenu",slots:x={},slotProps:N={},...M}=n,P=Vj(),F={...n,autoFocus:s,disableAutoFocusItem:c,MenuListProps:h,onEntering:A,PaperProps:y,transitionDuration:E,TransitionProps:S,variant:C},W=S8(F),D=s&&!c&&p,I=O.useRef(null),L=(dt,K)=>{I.current&&I.current.adjustStyleForScrollbar(dt,{direction:P?"rtl":"ltr"}),A&&A(dt,K)},T=dt=>{dt.key==="Tab"&&(dt.preventDefault(),d&&d(dt,"tabKeyDown"))};let U=-1;O.Children.map(a,(dt,K)=>{O.isValidElement(dt)&&(dt.props.disabled||(C==="selectedMenu"&&dt.props.selected||U===-1)&&(U=K))});const q={slots:x,slotProps:{list:h,transition:S,paper:y,...N}},j=zH({elementType:x.root,externalSlotProps:N.root,ownerState:F,className:[W.root,l]}),[ct,nt]=Gn("paper",{className:W.paper,elementType:T8,externalForwardedProps:q,shouldForwardComponentProp:!0,ownerState:F}),[Y,Q]=Gn("list",{className:te(W.list,h.className),elementType:x8,shouldForwardComponentProp:!0,externalForwardedProps:q,getSlotProps:dt=>({...dt,onKeyDown:K=>{var rt;T(K),(rt=dt.onKeyDown)==null||rt.call(dt,K)}}),ownerState:F}),at=typeof q.slotProps.transition=="function"?q.slotProps.transition(F):q.slotProps.transition;return z.jsx(w8,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?E8:A8,slots:{root:x.root,paper:ct,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:j,paper:nt,backdrop:typeof N.backdrop=="function"?N.backdrop(F):N.backdrop,transition:{...at,onEntering:(...dt)=>{var K;L(...dt),(K=at==null?void 0:at.onEntering)==null||K.call(at,...dt)}}},open:p,ref:e,transitionDuration:E,ownerState:F,...M,classes:b,children:z.jsx(Y,{actions:I,autoFocus:s&&(U===-1||c),autoFocusItem:D,variant:C,...Q,children:a})})});function R8(i){return un("MuiNativeSelect",i)}const RC=rn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),I8=i=>{const{classes:t,variant:e,disabled:n,multiple:s,open:a,error:l}=i,c={select:["select",e,n&&"disabled",s&&"multiple",l&&"error"],icon:["icon",`icon${qt(e)}`,a&&"iconOpen",n&&"disabled"]};return hn(c,R8,t)},gN=Vt("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${RC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),k8=Vt(gN,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ra,overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.select,t[e.variant],e.error&&t.error,{[`&.${RC.multiple}`]:t.multiple}]}})({}),mN=Vt("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${RC.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),P8=Vt(mN,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),M8=O.forwardRef(function(t,e){const{className:n,disabled:s,error:a,IconComponent:l,inputRef:c,variant:h="standard",...d}=t,p={...t,disabled:s,variant:h,error:a},y=I8(p);return z.jsxs(O.Fragment,{children:[z.jsx(k8,{ownerState:p,className:te(y.select,n),disabled:s,ref:c||e,...d}),t.multiple?null:z.jsx(P8,{as:l,ownerState:p,className:y.icon})]})});var vM;const O8=Vt("fieldset",{shouldForwardProp:ra})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),D8=Vt("legend",{shouldForwardProp:ra})(Sn(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function L8(i){const{children:t,classes:e,className:n,label:s,notched:a,...l}=i,c=s!=null&&s!=="",h={...i,notched:a,withLabel:c};return z.jsx(O8,{"aria-hidden":!0,className:n,ownerState:h,...l,children:z.jsx(D8,{ownerState:h,children:c?z.jsx("span",{children:s}):vM||(vM=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const N8=i=>{const{classes:t}=i,n=hn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},QH,t);return{...t,...n}},F8=Vt(aA,{shouldForwardProp:i=>ra(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:sA})(Sn(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sa.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Sa.focused} .${Sa.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(_l()).map(([e])=>({props:{color:e},style:{[`&.${Sa.focused} .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${Sa.error} .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${Sa.disabled} .${Sa.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),V8=Vt(L8,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Sn(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),U8=Vt(oA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:rA})(Sn(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),IC=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:l="input",label:c,multiline:h=!1,notched:d,slots:p={},slotProps:y={},type:b="text",...E}=n,A=N8(n),S=ag(),C=rg({props:n,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...n,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:a,hiddenLabel:C.hiddenLabel,multiline:h,size:C.size,type:b},N=p.root??s.Root??F8,M=p.input??s.Input??U8,[P,F]=Gn("notchedOutline",{elementType:V8,className:A.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:p,slotProps:y},additionalProps:{label:c!=null&&c!==""&&C.required?z.jsxs(O.Fragment,{children:[c," ","*"]}):c}});return z.jsx(TC,{slots:{root:N,input:M},slotProps:y,renderSuffix:W=>z.jsx(P,{...F,notched:typeof d<"u"?d:!!(W.startAdornment||W.filled||W.focused)}),fullWidth:a,inputComponent:l,multiline:h,ref:e,type:b,...E,classes:{...A,notchedOutline:null}})});IC.muiName="Input";function yN(i){return un("MuiSelect",i)}const Tm=rn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var bM;const B8=Vt(gN,{name:"MuiSelect",slot:"Select",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[{[`&.${Tm.select}`]:t.select},{[`&.${Tm.select}`]:t[e.variant]},{[`&.${Tm.error}`]:t.error},{[`&.${Tm.multiple}`]:t.multiple}]}})({[`&.${Tm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),z8=Vt(mN,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.icon,e.variant&&t[`icon${qt(e.variant)}`],e.open&&t.iconOpen]}})({}),j8=Vt("input",{shouldForwardProp:i=>KL(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _M(i,t){return typeof t=="object"&&t!==null?i===t:String(i)===String(t)}function H8(i){return i==null||typeof i=="string"&&!i.trim()}const $8=i=>{const{classes:t,variant:e,disabled:n,multiple:s,open:a,error:l}=i,c={select:["select",e,n&&"disabled",s&&"multiple",l&&"error"],icon:["icon",`icon${qt(e)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return hn(c,yN,t)},q8=O.forwardRef(function(t,e){var Dn;const{"aria-describedby":n,"aria-label":s,autoFocus:a,autoWidth:l,children:c,className:h,defaultOpen:d,defaultValue:p,disabled:y,displayEmpty:b,error:E=!1,IconComponent:A,inputRef:S,labelId:C,MenuProps:x={},multiple:N,name:M,onBlur:P,onChange:F,onClose:W,onFocus:D,onOpen:I,open:L,readOnly:T,renderValue:U,required:q,SelectDisplayProps:j={},tabIndex:ct,type:nt,value:Y,variant:Q="standard",...at}=t,[dt,K]=YP({controlled:Y,default:p,name:"Select"}),[rt,ut]=YP({controlled:L,default:d,name:"Select"}),st=O.useRef(null),vt=O.useRef(null),[wt,_t]=O.useState(null),{current:xt}=O.useRef(L!=null),[Bt,jt]=O.useState(),Et=Ds(e,S),Ht=O.useCallback(Dt=>{vt.current=Dt,Dt&&_t(Dt)},[]),Gt=wt==null?void 0:wt.parentNode;O.useImperativeHandle(Et,()=>({focus:()=>{vt.current.focus()},node:st.current,value:dt}),[dt]),O.useEffect(()=>{d&&rt&&wt&&!xt&&(jt(l?null:Gt.clientWidth),vt.current.focus())},[wt,l]),O.useEffect(()=>{a&&vt.current.focus()},[a]),O.useEffect(()=>{if(!C)return;const Dt=na(vt.current).getElementById(C);if(Dt){const Pe=()=>{getSelection().isCollapsed&&vt.current.focus()};return Dt.addEventListener("click",Pe),()=>{Dt.removeEventListener("click",Pe)}}},[C]);const Mt=(Dt,Pe)=>{Dt?I&&I(Pe):W&&W(Pe),xt||(jt(l?null:Gt.clientWidth),ut(Dt))},kt=Dt=>{Dt.button===0&&(Dt.preventDefault(),vt.current.focus(),Mt(!0,Dt))},Wt=Dt=>{Mt(!1,Dt)},ue=O.Children.toArray(c),fe=Dt=>{const Pe=ue.find(gn=>gn.props.value===Dt.target.value);Pe!==void 0&&(K(Pe.props.value),F&&F(Dt,Pe))},ke=Dt=>Pe=>{let gn;if(Pe.currentTarget.hasAttribute("tabindex")){if(N){gn=Array.isArray(dt)?dt.slice():[];const sr=dt.indexOf(Dt.props.value);sr===-1?gn.push(Dt.props.value):gn.splice(sr,1)}else gn=Dt.props.value;if(Dt.props.onClick&&Dt.props.onClick(Pe),dt!==gn&&(K(gn),F)){const sr=Pe.nativeEvent||Pe,kl=new sr.constructor(sr.type,sr);Object.defineProperty(kl,"target",{writable:!0,value:{value:gn,name:M}}),F(kl,Dt)}N||Mt(!1,Pe)}},Ue=Dt=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(Dt.key)&&(Dt.preventDefault(),Mt(!0,Dt))},He=wt!==null&&rt,pe=Dt=>{!He&&P&&(Object.defineProperty(Dt,"target",{writable:!0,value:{value:dt,name:M}}),P(Dt))};delete at["aria-invalid"];let Ot,oi;const Ye=[];let Gi=!1;(eE({value:dt})||b)&&(U?Ot=U(dt):Gi=!0);const Re=ue.map(Dt=>{if(!O.isValidElement(Dt))return null;let Pe;if(N){if(!Array.isArray(dt))throw new Error(vl(2));Pe=dt.some(gn=>_M(gn,Dt.props.value)),Pe&&Gi&&Ye.push(Dt.props.children)}else Pe=_M(dt,Dt.props.value),Pe&&Gi&&(oi=Dt.props.children);return O.cloneElement(Dt,{"aria-selected":Pe?"true":"false",onClick:ke(Dt),onKeyUp:gn=>{gn.key===" "&&gn.preventDefault(),Dt.props.onKeyUp&&Dt.props.onKeyUp(gn)},role:"option",selected:Pe,value:void 0,"data-value":Dt.props.value})});Gi&&(N?Ye.length===0?Ot=null:Ot=Ye.reduce((Dt,Pe,gn)=>(Dt.push(Pe),gn<Ye.length-1&&Dt.push(", "),Dt),[]):Ot=oi);let ee=Bt;!l&&xt&&wt&&(ee=Gt.clientWidth);let Xe;typeof ct<"u"?Xe=ct:Xe=y?null:0;const Oe=j.id||(M?`mui-component-select-${M}`:void 0),De={...t,variant:Q,value:dt,open:He,error:E},Kt=$8(De),On={...x.PaperProps,...(Dn=x.slotProps)==null?void 0:Dn.paper},vn=Kv();return z.jsxs(O.Fragment,{children:[z.jsx(B8,{as:"div",ref:Ht,tabIndex:Xe,role:"combobox","aria-controls":He?vn:void 0,"aria-disabled":y?"true":void 0,"aria-expanded":He?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":q?"true":void 0,"aria-invalid":E?"true":void 0,onKeyDown:Ue,onMouseDown:y||T?null:kt,onBlur:pe,onFocus:D,...j,ownerState:De,className:te(j.className,Kt.select,h),id:Oe,children:H8(Ot)?bM||(bM=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Ot}),z.jsx(j8,{"aria-invalid":E,value:Array.isArray(dt)?dt.join(","):dt,name:M,ref:st,"aria-hidden":!0,onChange:fe,tabIndex:-1,disabled:y,className:Kt.nativeInput,autoFocus:a,required:q,...at,ownerState:De}),z.jsx(z8,{as:A,className:Kt.icon,ownerState:De}),z.jsx(C8,{id:`menu-${M||""}`,anchorEl:Gt,open:He,onClose:Wt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:vn,...x.MenuListProps},paper:{...On,style:{minWidth:ee,...On!=null?On.style:null}}},children:Re})]})}),G8=i=>{const{classes:t}=i,n=hn({root:["root"]},yN,t);return{...t,...n}},kC={name:"MuiSelect",slot:"Root",shouldForwardProp:i=>ra(i)&&i!=="variant"},W8=Vt(CC,kC)(""),K8=Vt(IC,kC)(""),Y8=Vt(xC,kC)(""),vN=O.forwardRef(function(t,e){const n=pn({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:l={},className:c,defaultOpen:h=!1,displayEmpty:d=!1,IconComponent:p=JH,id:y,input:b,inputProps:E,label:A,labelId:S,MenuProps:C,multiple:x=!1,native:N=!1,onClose:M,onOpen:P,open:F,renderValue:W,SelectDisplayProps:D,variant:I="outlined",...L}=n,T=N?M8:q8,U=ag(),q=rg({props:n,muiFormControl:U,states:["variant","error"]}),j=q.variant||I,ct={...n,variant:j,classes:l},nt=G8(ct),{root:Y,...Q}=nt,at=b||{standard:z.jsx(W8,{ownerState:ct}),outlined:z.jsx(K8,{label:A,ownerState:ct}),filled:z.jsx(Y8,{ownerState:ct})}[j],dt=Ds(e,Yv(at));return z.jsx(O.Fragment,{children:O.cloneElement(at,{inputComponent:T,inputProps:{children:a,error:q.error,IconComponent:p,variant:j,type:void 0,multiple:x,...N?{id:y}:{autoWidth:s,defaultOpen:h,displayEmpty:d,labelId:S,MenuProps:C,onClose:M,onOpen:P,open:F,renderValue:W,SelectDisplayProps:{id:y,...D}},...E,classes:E?ls(Q,E.classes):Q,...b?b.props.inputProps:{}},...(x&&N||d)&&j==="outlined"?{notched:!0}:{},ref:dt,className:te(at.props.className,c,nt.root),...!b&&{variant:j},...L})})});vN.muiName="Select";function X8(i){return un("MuiSkeleton",i)}rn("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Q8=i=>{const{classes:t,variant:e,animation:n,hasChildren:s,width:a,height:l}=i;return hn({root:["root",e,n,s&&"withChildren",s&&!a&&"fitContent",s&&!l&&"heightAuto"]},X8,t)},GT=od`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,WT=od`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Z8=typeof GT!="string"?$v`
        animation: ${GT} 2s ease-in-out 0.5s infinite;
      `:null,J8=typeof WT!="string"?$v`
        &::after {
          animation: ${WT} 2s linear 0.5s infinite;
        }
      `:null,t7=Vt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:e}=i;return[t.root,t[e.variant],e.animation!==!1&&t[e.animation],e.hasChildren&&t.withChildren,e.hasChildren&&!e.width&&t.fitContent,e.hasChildren&&!e.height&&t.heightAuto]}})(Sn(({theme:i})=>{const t=M9(i.shape.borderRadius)||"px",e=O9(i.shape.borderRadius);return{display:"block",backgroundColor:i.vars?i.vars.palette.Skeleton.bg:Qr(i.palette.text.primary,i.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${e}${t}/${Math.round(e/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(i.vars||i).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Z8||{animation:`${GT} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(i.vars||i).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:J8||{"&::after":{animation:`${WT} 2s linear 0.5s infinite`}}}]}})),KT=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:a,component:l="span",height:c,style:h,variant:d="text",width:p,...y}=n,b={...n,animation:s,component:l,variant:d,hasChildren:!!y.children},E=Q8(b);return z.jsx(t7,{as:l,ref:e,className:te(E.root,a),ownerState:b,...y,style:{width:p,height:c,...h}})});function e7(i){return un("MuiTextField",i)}rn("MuiTextField",["root"]);const n7={standard:CC,filled:xC,outlined:IC},i7=i=>{const{classes:t}=i;return hn({root:["root"]},e7,t)},s7=Vt(G$,{name:"MuiTextField",slot:"Root"})({}),r7=O.forwardRef(function(t,e){const n=pn({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:l,className:c,color:h="primary",defaultValue:d,disabled:p=!1,error:y=!1,FormHelperTextProps:b,fullWidth:E=!1,helperText:A,id:S,InputLabelProps:C,inputProps:x,InputProps:N,inputRef:M,label:P,maxRows:F,minRows:W,multiline:D=!1,name:I,onBlur:L,onChange:T,onFocus:U,placeholder:q,required:j=!1,rows:ct,select:nt=!1,SelectProps:Y,slots:Q={},slotProps:at={},type:dt,value:K,variant:rt="outlined",...ut}=n,st={...n,autoFocus:a,color:h,disabled:p,error:y,fullWidth:E,multiline:D,required:j,select:nt,variant:rt},vt=i7(st),wt=Kv(S),_t=A&&wt?`${wt}-helper-text`:void 0,xt=P&&wt?`${wt}-label`:void 0,Bt=n7[rt],jt={slots:Q,slotProps:{input:N,inputLabel:C,htmlInput:x,formHelperText:b,select:Y,...at}},Et={},Ht=jt.slotProps.inputLabel;rt==="outlined"&&(Ht&&typeof Ht.shrink<"u"&&(Et.notched=Ht.shrink),Et.label=P),nt&&((!Y||!Y.native)&&(Et.id=void 0),Et["aria-describedby"]=void 0);const[Gt,Mt]=Gn("root",{elementType:s7,shouldForwardComponentProp:!0,externalForwardedProps:{...jt,...ut},ownerState:st,className:te(vt.root,c),ref:e,additionalProps:{disabled:p,error:y,fullWidth:E,required:j,color:h,variant:rt}}),[kt,Wt]=Gn("input",{elementType:Bt,externalForwardedProps:jt,additionalProps:Et,ownerState:st}),[ue,fe]=Gn("inputLabel",{elementType:c8,externalForwardedProps:jt,ownerState:st}),[ke,Ue]=Gn("htmlInput",{elementType:"input",externalForwardedProps:jt,ownerState:st}),[He,pe]=Gn("formHelperText",{elementType:X$,externalForwardedProps:jt,ownerState:st}),[Ot,oi]=Gn("select",{elementType:vN,externalForwardedProps:jt,ownerState:st}),Ye=z.jsx(kt,{"aria-describedby":_t,autoComplete:s,autoFocus:a,defaultValue:d,fullWidth:E,multiline:D,name:I,rows:ct,maxRows:F,minRows:W,type:dt,value:K,id:wt,inputRef:M,onBlur:L,onChange:T,onFocus:U,placeholder:q,inputProps:Ue,slots:{input:Q.htmlInput?ke:void 0},...Wt});return z.jsxs(Gt,{...Mt,children:[P!=null&&P!==""&&z.jsx(ue,{htmlFor:wt,id:xt,...fe,children:P}),nt?z.jsx(Ot,{"aria-describedby":_t,id:wt,labelId:xt,value:K,input:Ye,...oi,children:l}):Ye,A&&z.jsx(He,{id:_t,...pe,children:A})]})}),a7=us(z.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}));function lA({subtitle:i}){return z.jsxs(St,{className:"fullWidth header",children:[z.jsxs(St,{className:"fullHeight",sx:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},children:[z.jsx(Nt,{variant:"header_small",sx:{ml:"1px"},children:"2025 SUMMER RETREAT"}),z.jsx(Nt,{variant:"header",children:"CHANGE"})]}),i&&z.jsx(Nt,{children:i}),z.jsx(a7,{fontSize:"large",sx:{color:"#FAC656"}})]})}const o7=()=>{};var EM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=function(i){const t=[];let e=0;for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},l7=function(i){const t=[];let e=0,n=0;for(;e<i.length;){const s=i[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=i[e++];t[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=i[e++],l=i[e++],c=i[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(h>>10)),t[n++]=String.fromCharCode(56320+(h&1023))}else{const a=i[e++],l=i[e++];t[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},_N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<i.length;s+=3){const a=i[s],l=s+1<i.length,c=l?i[s+1]:0,h=s+2<i.length,d=h?i[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let b=(c&15)<<2|d>>6,E=d&63;h||(E=64,l||(b=64)),n.push(e[p],e[y],e[b],e[E])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(bN(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):l7(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<i.length;){const a=e[i.charAt(s++)],c=s<i.length?e[i.charAt(s)]:0;++s;const d=s<i.length?e[i.charAt(s)]:64;++s;const y=s<i.length?e[i.charAt(s)]:64;if(++s,a==null||c==null||d==null||y==null)throw new c7;const b=a<<2|c>>4;if(n.push(b),d!==64){const E=c<<4&240|d>>2;if(n.push(E),y!==64){const A=d<<6&192|y;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class c7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u7=function(i){const t=bN(i);return _N.encodeByteArray(t,!0)},nE=function(i){return u7(i).replace(/\./g,"")},EN=function(i){try{return _N.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=()=>h7().__FIREBASE_DEFAULTS__,f7=()=>{if(typeof process>"u"||typeof EM>"u")return;const i=EM.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},p7=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&EN(i[1]);return t&&JSON.parse(t)},cA=()=>{try{return o7()||d7()||f7()||p7()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},AN=i=>{var t,e;return(e=(t=cA())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},SN=i=>{const t=AN(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},wN=()=>{var i;return(i=cA())===null||i===void 0?void 0:i.config},TN=i=>{var t;return(t=cA())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i){return i.endsWith(".cloudworkstations.dev")}async function PC(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[nE(JSON.stringify(e)),nE(JSON.stringify(l)),""].join(".")}const ty={};function m7(){const i={prod:[],emulator:[]};for(const t of Object.keys(ty))ty[t]?i.emulator.push(t):i.prod.push(t);return i}function y7(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let AM=!1;function MC(i,t){if(typeof window>"u"||typeof document>"u"||!og(window.location.host)||ty[i]===t||ty[i]||AM)return;ty[i]=t;function e(b){return`__firebase__banner__${b}`}const n="__firebase__banner",a=m7().prod.length>0;function l(){const b=document.getElementById(n);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{AM=!0,l()},b}function p(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=y7(n),E=e("text"),A=document.getElementById(E)||document.createElement("span"),S=e("learnmore"),C=document.getElementById(S)||document.createElement("a"),x=e("preprendIcon"),N=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;c(M),p(C,S);const P=d();h(N,x),M.append(N,A,C,P),document.body.appendChild(M)}a?(A.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())}function b7(){var i;const t=(i=cA())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E7(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function A7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S7(){const i=cs();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function w7(){return!b7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T7(){try{return typeof indexedDB=="object"}catch{return!1}}function x7(){return new Promise((i,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="FirebaseError";class ro extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=C7,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xv.prototype.create)}}class Xv{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?R7(a,n):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ro(s,c,n)}}function R7(i,t){return i.replace(I7,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const I7=/\{\$([^}]+)}/g;function k7(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Xh(i,t){if(i===t)return!0;const e=Object.keys(i),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const a=i[s],l=t[s];if(SM(a)&&SM(l)){if(!Xh(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function SM(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(i){const t=[];for(const[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function P7(i,t){const e=new M7(i,t);return e.subscribe.bind(e)}class M7{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");O7(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=sT),s.error===void 0&&(s.error=sT),s.complete===void 0&&(s.complete=sT);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O7(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function sT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i){return i&&i._delegate?i._delegate:i}class Yc{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new g7;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(N7(t))try{this.getOrInitializeService({instanceIdentifier:zu})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(t=zu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zu){return this.instances.has(t)}getOptions(t=zu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(s)}return s}onInit(t,e){var n;const s=this.normalizeInstanceIdentifier(e),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:L7(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=zu){return this.component?this.component.multipleInstances?t:zu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L7(i){return i===zu?void 0:i}function N7(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new D7(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(_e||(_e={}));const V7={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},U7=_e.INFO,B7={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},z7=(i,t,...e)=>{if(t<i.logLevel)return;const n=new Date().toISOString(),s=B7[t];if(s)console[s](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class OC{constructor(t){this.name=t,this._logLevel=U7,this._logHandler=z7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?V7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const j7=(i,t)=>t.some(e=>i instanceof e);let wM,TM;function H7(){return wM||(wM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $7(){return TM||(TM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CN=new WeakMap,YT=new WeakMap,RN=new WeakMap,rT=new WeakMap,DC=new WeakMap;function q7(i){const t=new Promise((e,n)=>{const s=()=>{i.removeEventListener("success",a),i.removeEventListener("error",l)},a=()=>{e(Hc(i.result)),s()},l=()=>{n(i.error),s()};i.addEventListener("success",a),i.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&CN.set(e,i)}).catch(()=>{}),DC.set(t,i),t}function G7(i){if(YT.has(i))return;const t=new Promise((e,n)=>{const s=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",l),i.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{n(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",a),i.addEventListener("error",l),i.addEventListener("abort",l)});YT.set(i,t)}let XT={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return YT.get(i);if(t==="objectStoreNames")return i.objectStoreNames||RN.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Hc(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function W7(i){XT=i(XT)}function K7(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=i.call(aT(this),t,...e);return RN.set(n,t.sort?t.sort():[t]),Hc(n)}:$7().includes(i)?function(...t){return i.apply(aT(this),t),Hc(CN.get(this))}:function(...t){return Hc(i.apply(aT(this),t))}}function Y7(i){return typeof i=="function"?K7(i):(i instanceof IDBTransaction&&G7(i),j7(i,H7())?new Proxy(i,XT):i)}function Hc(i){if(i instanceof IDBRequest)return q7(i);if(rT.has(i))return rT.get(i);const t=Y7(i);return t!==i&&(rT.set(i,t),DC.set(t,i)),t}const aT=i=>DC.get(i);function X7(i,t,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(i,t),c=Hc(l);return n&&l.addEventListener("upgradeneeded",h=>{n(Hc(l.result),h.oldVersion,h.newVersion,Hc(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Q7=["get","getKey","getAll","getAllKeys","count"],Z7=["put","add","delete","clear"],oT=new Map;function xM(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(oT.get(t))return oT.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=Z7.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Q7.includes(e)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),s&&h.done]))[0]};return oT.set(t,a),a}W7(i=>({...i,get:(t,e,n)=>xM(t,e)||i.get(t,e,n),has:(t,e)=>!!xM(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(tq(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function tq(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const QT="@firebase/app",CM="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new OC("@firebase/app"),eq="@firebase/app-compat",nq="@firebase/analytics-compat",iq="@firebase/analytics",sq="@firebase/app-check-compat",rq="@firebase/app-check",aq="@firebase/auth",oq="@firebase/auth-compat",lq="@firebase/database",cq="@firebase/data-connect",uq="@firebase/database-compat",hq="@firebase/functions",dq="@firebase/functions-compat",fq="@firebase/installations",pq="@firebase/installations-compat",gq="@firebase/messaging",mq="@firebase/messaging-compat",yq="@firebase/performance",vq="@firebase/performance-compat",bq="@firebase/remote-config",_q="@firebase/remote-config-compat",Eq="@firebase/storage",Aq="@firebase/storage-compat",Sq="@firebase/firestore",wq="@firebase/ai",Tq="@firebase/firestore-compat",xq="firebase",Cq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="[DEFAULT]",Rq={[QT]:"fire-core",[eq]:"fire-core-compat",[iq]:"fire-analytics",[nq]:"fire-analytics-compat",[rq]:"fire-app-check",[sq]:"fire-app-check-compat",[aq]:"fire-auth",[oq]:"fire-auth-compat",[lq]:"fire-rtdb",[cq]:"fire-data-connect",[uq]:"fire-rtdb-compat",[hq]:"fire-fn",[dq]:"fire-fn-compat",[fq]:"fire-iid",[pq]:"fire-iid-compat",[gq]:"fire-fcm",[mq]:"fire-fcm-compat",[yq]:"fire-perf",[vq]:"fire-perf-compat",[bq]:"fire-rc",[_q]:"fire-rc-compat",[Eq]:"fire-gcs",[Aq]:"fire-gcs-compat",[Sq]:"fire-fst",[Tq]:"fire-fst-compat",[wq]:"fire-vertex","fire-js":"fire-js",[xq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map,Iq=new Map,JT=new Map;function RM(i,t){try{i.container.addComponent(t)}catch(e){Al.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Qh(i){const t=i.name;if(JT.has(t))return Al.debug(`There were multiple attempts to register component ${t}.`),!1;JT.set(t,i);for(const e of iE.values())RM(e,i);for(const e of Iq.values())RM(e,i);return!0}function uA(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Zr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$c=new Xv("app","Firebase",kq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $c.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=Cq;function IN(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const n=Object.assign({name:ZT,automaticDataCollectionEnabled:!0},t),s=n.name;if(typeof s!="string"||!s)throw $c.create("bad-app-name",{appName:String(s)});if(e||(e=wN()),!e)throw $c.create("no-options");const a=iE.get(s);if(a){if(Xh(e,a.options)&&Xh(n,a.config))return a;throw $c.create("duplicate-app",{appName:s})}const l=new F7(s);for(const h of JT.values())l.addComponent(h);const c=new Pq(e,n,l);return iE.set(s,c),c}function LC(i=ZT){const t=iE.get(i);if(!t&&i===ZT&&wN())return IN();if(!t)throw $c.create("no-app",{appName:i});return t}function Xa(i,t,e){var n;let s=(n=Rq[i])!==null&&n!==void 0?n:i;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Al.warn(c.join(" "));return}Qh(new Yc(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq="firebase-heartbeat-database",Oq=1,py="firebase-heartbeat-store";let lT=null;function kN(){return lT||(lT=X7(Mq,Oq,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(py)}catch(e){console.warn(e)}}}}).catch(i=>{throw $c.create("idb-open",{originalErrorMessage:i.message})})),lT}async function Dq(i){try{const e=(await kN()).transaction(py),n=await e.objectStore(py).get(PN(i));return await e.done,n}catch(t){if(t instanceof ro)Al.warn(t.message);else{const e=$c.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Al.warn(e.message)}}}async function IM(i,t){try{const n=(await kN()).transaction(py,"readwrite");await n.objectStore(py).put(t,PN(i)),await n.done}catch(e){if(e instanceof ro)Al.warn(e.message);else{const n=$c.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Al.warn(n.message)}}}function PN(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=1024,Nq=30;class Fq{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Uq(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kM();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Nq){const l=Bq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Al.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kM(),{heartbeatsToSend:n,unsentEntries:s}=Vq(this._heartbeatsCache.heartbeats),a=nE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Al.warn(e),""}}}function kM(){return new Date().toISOString().substring(0,10)}function Vq(i,t=Lq){const e=[];let n=i.slice();for(const s of i){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),PM(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),PM(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class Uq{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T7()?x7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Dq(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return IM(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return IM(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function PM(i){return nE(JSON.stringify({version:2,heartbeats:i})).length}function Bq(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let n=1;n<i.length;n++)i[n].date<e&&(e=i[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(i){Qh(new Yc("platform-logger",t=>new J7(t),"PRIVATE")),Qh(new Yc("heartbeat",t=>new Fq(t),"PRIVATE")),Xa(QT,CM,i),Xa(QT,CM,"esm2017"),Xa("fire-js","")}zq("");var jq="firebase",Hq="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(jq,Hq,"app");function NC(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e}function MN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $q=MN,ON=new Xv("auth","Firebase",MN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new OC("@firebase/auth");function qq(i,...t){sE.logLevel<=_e.WARN&&sE.warn(`Auth (${ld}): ${i}`,...t)}function o_(i,...t){sE.logLevel<=_e.ERROR&&sE.error(`Auth (${ld}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(i,...t){throw FC(i,...t)}function Qa(i,...t){return FC(i,...t)}function DN(i,t,e){const n=Object.assign(Object.assign({},$q()),{[t]:e});return new Xv("auth","Firebase",n).create(t,{appName:i.name})}function Wh(i){return DN(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FC(i,...t){if(typeof i!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return ON.create(i,...t)}function Jt(i,t,...e){if(!i)throw FC(t,...e)}function hl(i){const t="INTERNAL ASSERTION FAILED: "+i;throw o_(t),new Error(t)}function wl(i,t){i||hl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Gq(){return MM()==="http:"||MM()==="https:"}function MM(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gq()||E7()||"connection"in navigator)?navigator.onLine:!0}function Kq(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,e){this.shortDelay=t,this.longDelay=e,wl(e>t,"Short delay should be less than long delay!"),this.isMobile=v7()||A7()}get(){return Wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i,t){wl(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qq=new Zv(3e4,6e4);function UC(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function lg(i,t,e,n,s={}){return NN(i,s,async()=>{let a={},l={};n&&(t==="GET"?l=n:a={body:JSON.stringify(n)});const c=Qv(Object.assign({key:i.config.apiKey},l)).slice(1),h=await i._getAdditionalHeaders();h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode);const d=Object.assign({method:t,headers:h},a);return _7()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&og(i.emulatorConfig.host)&&(d.credentials="include"),LN.fetch()(await FN(i,i.config.apiHost,e,c),d)})}async function NN(i,t,e){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},Yq),t);try{const s=new Jq(i),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw B0(i,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw B0(i,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw B0(i,"email-already-in-use",l);if(h==="USER_DISABLED")throw B0(i,"user-disabled",l);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw DN(i,p,d);Sl(i,p)}}catch(s){if(s instanceof ro)throw s;Sl(i,"network-request-failed",{message:String(s)})}}async function Zq(i,t,e,n,s={}){const a=await lg(i,t,e,n,s);return"mfaPendingCredential"in a&&Sl(i,"multi-factor-auth-required",{_serverResponse:a}),a}async function FN(i,t,e,n){const s=`${t}${e}?${n}`,a=i,l=a.config.emulator?VC(i.config,s):`${i.config.apiScheme}://${s}`;return Xq.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class Jq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Qa(this.auth,"network-request-failed")),Qq.get())})}}function B0(i,t,e){const n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=Qa(i,t,n);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(i,t){return lg(i,"POST","/v1/accounts:delete",t)}async function rE(i,t){return lg(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eG(i,t=!1){const e=ia(i),n=await e.getIdToken(t),s=BC(n);Jt(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:ey(cT(s.auth_time)),issuedAtTime:ey(cT(s.iat)),expirationTime:ey(cT(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cT(i){return Number(i)*1e3}function BC(i){const[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return o_("JWT malformed, contained fewer than 3 sections"),null;try{const s=EN(e);return s?JSON.parse(s):(o_("Failed to decode base64 JWT payload"),null)}catch(s){return o_("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function OM(i){const t=BC(i);return Jt(t,"internal-error"),Jt(typeof t.exp<"u","internal-error"),Jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gy(i,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof ro&&nG(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function nG({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ey(this.lastLoginAt),this.creationTime=ey(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(i){var t;const e=i.auth,n=await i.getIdToken(),s=await gy(i,rE(e,{idToken:n}));Jt(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?VN(a.providerUserInfo):[],c=rG(i.providerData,l),h=i.isAnonymous,d=!(i.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new e1(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(i,y)}async function sG(i){const t=ia(i);await aE(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rG(i,t){return[...i.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function VN(i){return i.map(t=>{var{providerId:e}=t,n=NC(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(i,t){const e=await NN(i,{},async()=>{const n=Qv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=i.config,l=await FN(i,s,"/v1/token",`key=${a}`),c=await i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",LN.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function oG(i,t){return lg(i,"POST","/v2/accounts:revokeToken",UC(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Jt(t.idToken,"internal-error"),Jt(typeof t.idToken<"u","internal-error"),Jt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Jt(t.length!==0,"internal-error");const e=OM(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:a}=await aG(t,e);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:a}=e,l=new Pf;return n&&(Jt(typeof n=="string","internal-error",{appName:t}),l.refreshToken=n),s&&(Jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Jt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(i,t){Jt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Jr{constructor(t){var{uid:e,auth:n,stsTokenManager:s}=t,a=NC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new e1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await gy(this,this.stsTokenManager.getToken(this.auth,t));return Jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return eG(this,t)}reload(){return sG(this)}_assign(t){this!==t&&(Jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Jr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await aE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Wh(this.auth));const t=await this.getIdToken();return await gy(this,tG(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,s,a,l,c,h,d,p;const y=(n=e.displayName)!==null&&n!==void 0?n:void 0,b=(s=e.email)!==null&&s!==void 0?s:void 0,E=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=e.photoURL)!==null&&l!==void 0?l:void 0,S=(c=e.tenantId)!==null&&c!==void 0?c:void 0,C=(h=e._redirectEventId)!==null&&h!==void 0?h:void 0,x=(d=e.createdAt)!==null&&d!==void 0?d:void 0,N=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:M,emailVerified:P,isAnonymous:F,providerData:W,stsTokenManager:D}=e;Jt(M&&D,t,"internal-error");const I=Pf.fromJSON(this.name,D);Jt(typeof M=="string",t,"internal-error"),ac(y,t.name),ac(b,t.name),Jt(typeof P=="boolean",t,"internal-error"),Jt(typeof F=="boolean",t,"internal-error"),ac(E,t.name),ac(A,t.name),ac(S,t.name),ac(C,t.name),ac(x,t.name),ac(N,t.name);const L=new Jr({uid:M,auth:t,email:b,emailVerified:P,displayName:y,isAnonymous:F,photoURL:A,phoneNumber:E,tenantId:S,stsTokenManager:I,createdAt:x,lastLoginAt:N});return W&&Array.isArray(W)&&(L.providerData=W.map(T=>Object.assign({},T))),C&&(L._redirectEventId=C),L}static async _fromIdTokenResponse(t,e,n=!1){const s=new Pf;s.updateFromServerResponse(e);const a=new Jr({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await aE(a),a}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];Jt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?VN(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Pf;c.updateFromIdToken(n);const h=new Jr({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new e1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Map;function dl(i){wl(i instanceof Function,"Expected a class definition");let t=DM.get(i);return t?(wl(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,DM.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}UN.type="NONE";const LM=UN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(i,t,e){return`firebase:${i}:${t}:${e}`}class Mf{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=l_(this.userKey,s.apiKey,a),this.fullPersistenceKey=l_("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await rE(this.auth,{idToken:t}).catch(()=>{});return e?Jr._fromGetAccountInfoResponse(this.auth,e,t):null}return Jr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Mf(dl(LM),t,n);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||dl(LM);const l=l_(n,t.config.apiKey,t.name);let c=null;for(const d of e)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const b=await rE(t,{idToken:p}).catch(()=>{});if(!b)break;y=await Jr._fromGetAccountInfoResponse(t,b,p)}else y=Jr._fromJSON(t,p);d!==a&&(c=y),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Mf(a,t,n):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new Mf(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qN(t))return"Blackberry";if(GN(t))return"Webos";if(zN(t))return"Safari";if((t.includes("chrome/")||jN(t))&&!t.includes("edge/"))return"Chrome";if($N(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function BN(i=cs()){return/firefox\//i.test(i)}function zN(i=cs()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jN(i=cs()){return/crios\//i.test(i)}function HN(i=cs()){return/iemobile/i.test(i)}function $N(i=cs()){return/android/i.test(i)}function qN(i=cs()){return/blackberry/i.test(i)}function GN(i=cs()){return/webos/i.test(i)}function zC(i=cs()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lG(i=cs()){var t;return zC(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cG(){return S7()&&document.documentMode===10}function WN(i=cs()){return zC(i)||$N(i)||GN(i)||qN(i)||/windows phone/i.test(i)||HN(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(i,t=[]){let e;switch(i){case"Browser":e=NM(cs());break;case"Worker":e=`${NM(cs())}-${i}`;break;default:e=i}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ld}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(i,t={}){return lg(i,"GET","/v2/passwordPolicy",UC(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=6;class fG{constructor(t){var e,n,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:dG,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(e=h.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FM(this),this.idTokenSubscription=new FM(this),this.beforeStateQueue=new uG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ON,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=dl(e)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await Mf.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await rE(this,{idToken:t}),n=await Jr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Zr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await aE(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Kq()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zr(this.app))return Promise.reject(Wh(this));const e=t?ia(t):null;return e&&Jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Wh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zr(this.app)?Promise.reject(Wh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hG(this),e=new fG(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xv("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await oG(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&dl(t)||this._popupRedirectResolver;Jt(e,this,"argument-error"),this.redirectPersistenceManager=await Mf.create(this,[dl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,n,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&qq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jC(i){return ia(i)}class FM{constructor(t){this.auth=t,this.observer=null,this.addObserver=P7(e=>this.observer=e)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gG(i){HC=i}function mG(i){return HC.loadJS(i)}function yG(){return HC.gapiScript}function vG(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(i,t){const e=uA(i,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(Xh(a,t??{}))return s;Sl(s,"already-initialized")}return e.initialize({options:t})}function _G(i,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(dl);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function EG(i,t,e){const n=jC(i);Jt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,a=YN(t),{host:l,port:c}=AG(t),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Jt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Jt(Xh(d,n.config.emulator)&&Xh(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,og(l)?(PC(`${a}//${l}${h}`),MC("Auth",!0)):SG()}function YN(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function AG(i){const t=YN(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:VM(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:VM(l)}}}function VM(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function SG(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hl("not implemented")}_getIdTokenResponse(t){return hl("not implemented")}_linkToIdToken(t,e){return hl("not implemented")}_getReauthenticationResolver(t){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(i,t){return Zq(i,"POST","/v1/accounts:signInWithIdp",UC(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="http://localhost";class Zh extends XN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Zh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Sl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=e,a=NC(e,["providerId","signInMethod"]);if(!n||!s)return null;const l=new Zh(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Of(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Of(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Of(t,e)}buildRequest(){const t={requestUri:wG,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Qv(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends QN{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Jv{constructor(){super("facebook.com")}static credential(t){return Zh._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cc.credentialFromTaggedObject(t)}static credentialFromError(t){return cc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cc.credential(t.oauthAccessToken)}catch{return null}}}cc.FACEBOOK_SIGN_IN_METHOD="facebook.com";cc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Jv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Zh._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return uc.credentialFromTaggedObject(t)}static credentialFromError(t){return uc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return uc.credential(e,n)}catch{return null}}}uc.GOOGLE_SIGN_IN_METHOD="google.com";uc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Jv{constructor(){super("github.com")}static credential(t){return Zh._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hc.credentialFromTaggedObject(t)}static credentialFromError(t){return hc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hc.credential(t.oauthAccessToken)}catch{return null}}}hc.GITHUB_SIGN_IN_METHOD="github.com";hc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Jv{constructor(){super("twitter.com")}static credential(t,e){return Zh._fromParams({providerId:dc.PROVIDER_ID,signInMethod:dc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return dc.credentialFromTaggedObject(t)}static credentialFromError(t){return dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return dc.credential(e,n)}catch{return null}}}dc.TWITTER_SIGN_IN_METHOD="twitter.com";dc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const a=await Jr._fromIdTokenResponse(t,n,s),l=UM(n);return new qp({user:a,providerId:l,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=UM(n);return new qp({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function UM(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends ro{constructor(t,e,n,s){var a;super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,oE.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new oE(t,e,n,s)}}function ZN(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?oE._fromErrorAndOperation(i,a,t,n):a})}async function TG(i,t,e=!1){const n=await gy(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return qp._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xG(i,t,e=!1){const{auth:n}=i;if(Zr(n.app))return Promise.reject(Wh(n));const s="reauthenticate";try{const a=await gy(i,ZN(n,s,t,i),e);Jt(a.idToken,n,"internal-error");const l=BC(a.idToken);Jt(l,n,"internal-error");const{sub:c}=l;return Jt(i.uid===c,n,"user-mismatch"),qp._forOperation(i,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CG(i,t,e=!1){if(Zr(i.app))return Promise.reject(Wh(i));const n="signIn",s=await ZN(i,n,t),a=await qp._fromIdTokenResponse(i,n,s);return e||await i._updateCurrentUser(a.user),a}function RG(i,t,e,n){return ia(i).onIdTokenChanged(t,e,n)}function IG(i,t,e){return ia(i).beforeAuthStateChanged(t,e)}const lE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(lE,"1"),this.storage.removeItem(lE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=1e3,PG=10;class t4 extends JN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!e&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);cG()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,PG):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},kG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}t4.type="LOCAL";const MG=t4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends JN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}e4.type="SESSION";const n4=e4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new hA(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(l).map(async d=>d(e.origin,a)),h=await OG(c);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=$C("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return window}function LG(i){Za().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function NG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FG(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function VG(){return i4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebaseLocalStorageDb",UG=1,cE="firebaseLocalStorage",r4="fbase_key";class tb{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function dA(i,t){return i.transaction([cE],t?"readwrite":"readonly").objectStore(cE)}function BG(){const i=indexedDB.deleteDatabase(s4);return new tb(i).toPromise()}function n1(){const i=indexedDB.open(s4,UG);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(cE,{keyPath:r4})}catch(s){e(s)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(cE)?t(n):(n.close(),await BG(),t(await n1()))})})}async function BM(i,t,e){const n=dA(i,!0).put({[r4]:t,value:e});return new tb(n).toPromise()}async function zG(i,t){const e=dA(i,!1).get(t),n=await new tb(e).toPromise();return n===void 0?null:n.value}function zM(i,t){const e=dA(i,!0).delete(t);return new tb(e).toPromise()}const jG=800,HG=3;class a4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>HG)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hA._getInstance(VG()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await NG(),!this.activeServiceWorker)return;this.sender=new DG(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await n1();return await BM(t,lE,"1"),await zM(t,lE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BM(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>zG(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>zM(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=dA(s,!1).getAll();return new tb(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a4.type="LOCAL";const $G=a4;new Zv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(i,t){return t?dl(t):(Jt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends XN{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Of(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Of(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Of(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function GG(i){return CG(i.auth,new qC(i),i.bypassAuthState)}function WG(i){const{auth:t,user:e}=i;return Jt(e,t,"internal-error"),xG(e,new qC(i),i.bypassAuthState)}async function KG(i){const{auth:t,user:e}=i;return Jt(e,t,"internal-error"),TG(e,new qC(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t,e,n,s,a=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GG;case"linkViaPopup":case"linkViaRedirect":return KG;case"reauthViaPopup":case"reauthViaRedirect":return WG;default:Sl(this.auth,"internal-error")}}resolve(t){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new Zv(2e3,1e4);class Cf extends o4{constructor(t,e,n,s,a){super(t,e,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Cf.currentPopupAction&&Cf.currentPopupAction.cancel(),Cf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Jt(t,this.auth,"internal-error"),t}async onExecution(){wl(this.filter.length===1,"Popup operations only handle one event");const t=$C();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cf.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YG.get())};t()}}Cf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG="pendingRedirect",c_=new Map;class QG extends o4{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=c_.get(this.auth._key());if(!t){try{const n=await ZG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}c_.set(this.auth._key(),t)}return this.bypassAuthState||c_.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZG(i,t){const e=eW(t),n=tW(i);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}function JG(i,t){c_.set(i._key(),t)}function tW(i){return dl(i._redirectPersistence)}function eW(i){return l_(XG,i.config.apiKey,i.name)}async function nW(i,t,e=!1){if(Zr(i.app))return Promise.reject(Wh(i));const n=jC(i),s=qG(n,t),l=await new QG(n,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=10*60*1e3;class sW{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rW(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!l4(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Qa(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iW&&this.cachedEventUids.clear(),this.cachedEventUids.has(jM(t))}saveEventToCache(t){this.cachedEventUids.add(jM(t)),this.lastProcessedEventTime=Date.now()}}function jM(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function l4({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rW(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l4(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(i,t={}){return lg(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lW=/^https?/;async function cW(i){if(i.config.emulator)return;const{authorizedDomains:t}=await aW(i);for(const e of t)try{if(uW(e))return}catch{}Sl(i,"unauthorized-domain")}function uW(i){const t=t1(),{protocol:e,hostname:n}=new URL(t);if(i.startsWith("chrome-extension://")){const l=new URL(i);return l.hostname===""&&n===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===n}if(!lW.test(e))return!1;if(oW.test(i))return n===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=new Zv(3e4,6e4);function HM(){const i=Za().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function dW(i){return new Promise((t,e)=>{var n,s,a;function l(){HM(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HM(),e(Qa(i,"network-request-failed"))},timeout:hW.get()})}if(!((s=(n=Za().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Za().gapi)===null||a===void 0)&&a.load)l();else{const c=vG("iframefcb");return Za()[c]=()=>{gapi.load?l():e(Qa(i,"network-request-failed"))},mG(`${yG()}?onload=${c}`).catch(h=>e(h))}}).catch(t=>{throw u_=null,t})}let u_=null;function fW(i){return u_=u_||dW(i),u_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=new Zv(5e3,15e3),gW="__/auth/iframe",mW="emulator/auth/iframe",yW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bW(i){const t=i.config;Jt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?VC(t,mW):`https://${i.config.authDomain}/${gW}`,n={apiKey:t.apiKey,appName:i.name,v:ld},s=vW.get(i.config.apiHost);s&&(n.eid=s);const a=i._getFrameworks();return a.length&&(n.fw=a.join(",")),`${e}?${Qv(n).slice(1)}`}async function _W(i){const t=await fW(i),e=Za().gapi;return Jt(e,i,"internal-error"),t.open({where:document.body,url:bW(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yW,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=Qa(i,"network-request-failed"),c=Za().setTimeout(()=>{a(l)},pW.get());function h(){Za().clearTimeout(c),s(n)}n.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AW=500,SW=600,wW="_blank",TW="http://localhost";class $M{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xW(i,t,e,n=AW,s=SW){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},EW),{width:n.toString(),height:s.toString(),top:a,left:l}),d=cs().toLowerCase();e&&(c=jN(d)?wW:e),BN(d)&&(t=t||TW,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[E,A])=>`${b}${E}=${A},`,"");if(lG(d)&&c!=="_self")return CW(t||"",c),new $M(null);const y=window.open(t||"",c,p);Jt(y,i,"popup-blocked");try{y.focus()}catch{}return new $M(y)}function CW(i,t){const e=document.createElement("a");e.href=i,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW="__/auth/handler",IW="emulator/auth/handler",kW=encodeURIComponent("fac");async function qM(i,t,e,n,s,a){Jt(i.config.authDomain,i,"auth-domain-config-required"),Jt(i.config.apiKey,i,"invalid-api-key");const l={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:n,v:ld,eventId:s};if(t instanceof QN){t.setDefaultLanguage(i.languageCode),l.providerId=t.providerId||"",k7(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Jv){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}i.tenantId&&(l.tid=i.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await i._getAppCheckToken(),d=h?`#${kW}=${encodeURIComponent(h)}`:"";return`${PW(i)}?${Qv(c).slice(1)}${d}`}function PW({config:i}){return i.emulator?VC(i,IW):`https://${i.authDomain}/${RW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="webStorageSupport";class MW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n4,this._completeRedirectFn=nW,this._overrideRedirectResult=JG}async _openPopup(t,e,n,s){var a;wl((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await qM(t,e,n,t1(),s);return xW(t,l,$C())}async _openRedirect(t,e,n,s){await this._originValidation(t);const a=await qM(t,e,n,t1(),s);return LG(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(wl(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await _W(t),n=new sW(t);return e.register("authEvent",s=>(Jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(uT,{type:uT},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[uT];l!==void 0&&e(!!l),Sl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=cW(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return WN()||zN()||zC()}}const OW=MW;var GM="@firebase/auth",WM="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NW(i){Qh(new Yc("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Jt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KN(i)},d=new pG(n,s,a,h);return _G(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Qh(new Yc("auth-internal",t=>{const e=jC(t.getProvider("auth").getImmediate());return(n=>new DW(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(GM,WM,LW(i)),Xa(GM,WM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=5*60,VW=TN("authIdTokenMaxAge")||FW;let KM=null;const UW=i=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>VW)return;const s=e==null?void 0:e.token;KM!==s&&(KM=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function BW(i=LC()){const t=uA(i,"auth");if(t.isInitialized())return t.getImmediate();const e=bG(i,{popupRedirectResolver:OW,persistence:[$G,MG,n4]}),n=TN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=UW(a.toString());IG(e,l,()=>l(e.currentUser)),RG(e,c=>l(c))}}const s=AN("auth");return s&&EG(e,`http://${s}`),e}function zW(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}gG({loadJS(i){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=s=>{const a=Qa("internal-error");a.customData=s,e(a)},n.type="text/javascript",n.charset="UTF-8",zW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NW("Browser");var YM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qc,c4;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,I){function L(){}L.prototype=I.prototype,D.D=I.prototype,D.prototype=new L,D.prototype.constructor=D,D.C=function(T,U,q){for(var j=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)j[ct-2]=arguments[ct];return I.prototype[U].apply(T,j)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,I,L){L||(L=0);var T=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)T[U]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(U=0;16>U;++U)T[U]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=D.g[0],L=D.g[1],U=D.g[2];var q=D.g[3],j=I+(q^L&(U^q))+T[0]+3614090360&4294967295;I=L+(j<<7&4294967295|j>>>25),j=q+(U^I&(L^U))+T[1]+3905402710&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(L^q&(I^L))+T[2]+606105819&4294967295,U=q+(j<<17&4294967295|j>>>15),j=L+(I^U&(q^I))+T[3]+3250441966&4294967295,L=U+(j<<22&4294967295|j>>>10),j=I+(q^L&(U^q))+T[4]+4118548399&4294967295,I=L+(j<<7&4294967295|j>>>25),j=q+(U^I&(L^U))+T[5]+1200080426&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(L^q&(I^L))+T[6]+2821735955&4294967295,U=q+(j<<17&4294967295|j>>>15),j=L+(I^U&(q^I))+T[7]+4249261313&4294967295,L=U+(j<<22&4294967295|j>>>10),j=I+(q^L&(U^q))+T[8]+1770035416&4294967295,I=L+(j<<7&4294967295|j>>>25),j=q+(U^I&(L^U))+T[9]+2336552879&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(L^q&(I^L))+T[10]+4294925233&4294967295,U=q+(j<<17&4294967295|j>>>15),j=L+(I^U&(q^I))+T[11]+2304563134&4294967295,L=U+(j<<22&4294967295|j>>>10),j=I+(q^L&(U^q))+T[12]+1804603682&4294967295,I=L+(j<<7&4294967295|j>>>25),j=q+(U^I&(L^U))+T[13]+4254626195&4294967295,q=I+(j<<12&4294967295|j>>>20),j=U+(L^q&(I^L))+T[14]+2792965006&4294967295,U=q+(j<<17&4294967295|j>>>15),j=L+(I^U&(q^I))+T[15]+1236535329&4294967295,L=U+(j<<22&4294967295|j>>>10),j=I+(U^q&(L^U))+T[1]+4129170786&4294967295,I=L+(j<<5&4294967295|j>>>27),j=q+(L^U&(I^L))+T[6]+3225465664&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^L&(q^I))+T[11]+643717713&4294967295,U=q+(j<<14&4294967295|j>>>18),j=L+(q^I&(U^q))+T[0]+3921069994&4294967295,L=U+(j<<20&4294967295|j>>>12),j=I+(U^q&(L^U))+T[5]+3593408605&4294967295,I=L+(j<<5&4294967295|j>>>27),j=q+(L^U&(I^L))+T[10]+38016083&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^L&(q^I))+T[15]+3634488961&4294967295,U=q+(j<<14&4294967295|j>>>18),j=L+(q^I&(U^q))+T[4]+3889429448&4294967295,L=U+(j<<20&4294967295|j>>>12),j=I+(U^q&(L^U))+T[9]+568446438&4294967295,I=L+(j<<5&4294967295|j>>>27),j=q+(L^U&(I^L))+T[14]+3275163606&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^L&(q^I))+T[3]+4107603335&4294967295,U=q+(j<<14&4294967295|j>>>18),j=L+(q^I&(U^q))+T[8]+1163531501&4294967295,L=U+(j<<20&4294967295|j>>>12),j=I+(U^q&(L^U))+T[13]+2850285829&4294967295,I=L+(j<<5&4294967295|j>>>27),j=q+(L^U&(I^L))+T[2]+4243563512&4294967295,q=I+(j<<9&4294967295|j>>>23),j=U+(I^L&(q^I))+T[7]+1735328473&4294967295,U=q+(j<<14&4294967295|j>>>18),j=L+(q^I&(U^q))+T[12]+2368359562&4294967295,L=U+(j<<20&4294967295|j>>>12),j=I+(L^U^q)+T[5]+4294588738&4294967295,I=L+(j<<4&4294967295|j>>>28),j=q+(I^L^U)+T[8]+2272392833&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^L)+T[11]+1839030562&4294967295,U=q+(j<<16&4294967295|j>>>16),j=L+(U^q^I)+T[14]+4259657740&4294967295,L=U+(j<<23&4294967295|j>>>9),j=I+(L^U^q)+T[1]+2763975236&4294967295,I=L+(j<<4&4294967295|j>>>28),j=q+(I^L^U)+T[4]+1272893353&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^L)+T[7]+4139469664&4294967295,U=q+(j<<16&4294967295|j>>>16),j=L+(U^q^I)+T[10]+3200236656&4294967295,L=U+(j<<23&4294967295|j>>>9),j=I+(L^U^q)+T[13]+681279174&4294967295,I=L+(j<<4&4294967295|j>>>28),j=q+(I^L^U)+T[0]+3936430074&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^L)+T[3]+3572445317&4294967295,U=q+(j<<16&4294967295|j>>>16),j=L+(U^q^I)+T[6]+76029189&4294967295,L=U+(j<<23&4294967295|j>>>9),j=I+(L^U^q)+T[9]+3654602809&4294967295,I=L+(j<<4&4294967295|j>>>28),j=q+(I^L^U)+T[12]+3873151461&4294967295,q=I+(j<<11&4294967295|j>>>21),j=U+(q^I^L)+T[15]+530742520&4294967295,U=q+(j<<16&4294967295|j>>>16),j=L+(U^q^I)+T[2]+3299628645&4294967295,L=U+(j<<23&4294967295|j>>>9),j=I+(U^(L|~q))+T[0]+4096336452&4294967295,I=L+(j<<6&4294967295|j>>>26),j=q+(L^(I|~U))+T[7]+1126891415&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~L))+T[14]+2878612391&4294967295,U=q+(j<<15&4294967295|j>>>17),j=L+(q^(U|~I))+T[5]+4237533241&4294967295,L=U+(j<<21&4294967295|j>>>11),j=I+(U^(L|~q))+T[12]+1700485571&4294967295,I=L+(j<<6&4294967295|j>>>26),j=q+(L^(I|~U))+T[3]+2399980690&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~L))+T[10]+4293915773&4294967295,U=q+(j<<15&4294967295|j>>>17),j=L+(q^(U|~I))+T[1]+2240044497&4294967295,L=U+(j<<21&4294967295|j>>>11),j=I+(U^(L|~q))+T[8]+1873313359&4294967295,I=L+(j<<6&4294967295|j>>>26),j=q+(L^(I|~U))+T[15]+4264355552&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~L))+T[6]+2734768916&4294967295,U=q+(j<<15&4294967295|j>>>17),j=L+(q^(U|~I))+T[13]+1309151649&4294967295,L=U+(j<<21&4294967295|j>>>11),j=I+(U^(L|~q))+T[4]+4149444226&4294967295,I=L+(j<<6&4294967295|j>>>26),j=q+(L^(I|~U))+T[11]+3174756917&4294967295,q=I+(j<<10&4294967295|j>>>22),j=U+(I^(q|~L))+T[2]+718787259&4294967295,U=q+(j<<15&4294967295|j>>>17),j=L+(q^(U|~I))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+q&4294967295}n.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var L=I-this.blockSize,T=this.B,U=this.h,q=0;q<I;){if(U==0)for(;q<=L;)s(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<I;)if(T[U++]=D.charCodeAt(q++),U==this.blockSize){s(this,T),U=0;break}}else for(;q<I;)if(T[U++]=D[q++],U==this.blockSize){s(this,T),U=0;break}}this.h=U,this.o+=I},n.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var L=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=L&255,L/=256;for(this.u(D),D=Array(16),I=L=0;4>I;++I)for(var T=0;32>T;T+=8)D[L++]=this.g[I]>>>T&255;return D};function a(D,I){var L=c;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=I(D)}function l(D,I){this.h=I;for(var L=[],T=!0,U=D.length-1;0<=U;U--){var q=D[U]|0;T&&q==I||(L[U]=q,T=!1)}this.g=L}var c={};function h(D){return-128<=D&&128>D?a(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return C(d(-D));for(var I=[],L=1,T=0;D>=L;T++)I[T]=D/L|0,L*=4294967296;return new l(I,0)}function p(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return C(p(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=d(Math.pow(I,8)),T=y,U=0;U<D.length;U+=8){var q=Math.min(8,D.length-U),j=parseInt(D.substring(U,U+q),I);8>q?(q=d(Math.pow(I,q)),T=T.j(q).add(d(j))):(T=T.j(L),T=T.add(d(j)))}return T}var y=h(0),b=h(1),E=h(16777216);i=l.prototype,i.m=function(){if(S(this))return-C(this).m();for(var D=0,I=1,L=0;L<this.g.length;L++){var T=this.i(L);D+=(0<=T?T:4294967296+T)*I,I*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(S(this))return"-"+C(this).toString(D);for(var I=d(Math.pow(D,6)),L=this,T="";;){var U=P(L,I).g;L=x(L,U.j(I));var q=((0<L.g.length?L.g[0]:L.h)>>>0).toString(D);if(L=U,A(L))return q+T;for(;6>q.length;)q="0"+q;T=q+T}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function S(D){return D.h==-1}i.l=function(D){return D=x(this,D),S(D)?-1:A(D)?0:1};function C(D){for(var I=D.g.length,L=[],T=0;T<I;T++)L[T]=~D.g[T];return new l(L,~D.h).add(b)}i.abs=function(){return S(this)?C(this):this},i.add=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],T=0,U=0;U<=I;U++){var q=T+(this.i(U)&65535)+(D.i(U)&65535),j=(q>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);T=j>>>16,q&=65535,j&=65535,L[U]=j<<16|q}return new l(L,L[L.length-1]&-2147483648?-1:0)};function x(D,I){return D.add(C(I))}i.j=function(D){if(A(this)||A(D))return y;if(S(this))return S(D)?C(this).j(C(D)):C(C(this).j(D));if(S(D))return C(this.j(C(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,L=[],T=0;T<2*I;T++)L[T]=0;for(T=0;T<this.g.length;T++)for(var U=0;U<D.g.length;U++){var q=this.i(T)>>>16,j=this.i(T)&65535,ct=D.i(U)>>>16,nt=D.i(U)&65535;L[2*T+2*U]+=j*nt,N(L,2*T+2*U),L[2*T+2*U+1]+=q*nt,N(L,2*T+2*U+1),L[2*T+2*U+1]+=j*ct,N(L,2*T+2*U+1),L[2*T+2*U+2]+=q*ct,N(L,2*T+2*U+2)}for(T=0;T<I;T++)L[T]=L[2*T+1]<<16|L[2*T];for(T=I;T<2*I;T++)L[T]=0;return new l(L,0)};function N(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function M(D,I){this.g=D,this.h=I}function P(D,I){if(A(I))throw Error("division by zero");if(A(D))return new M(y,y);if(S(D))return I=P(C(D),I),new M(C(I.g),C(I.h));if(S(I))return I=P(D,C(I)),new M(C(I.g),I.h);if(30<D.g.length){if(S(D)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var L=b,T=I;0>=T.l(D);)L=F(L),T=F(T);var U=W(L,1),q=W(T,1);for(T=W(T,2),L=W(L,2);!A(T);){var j=q.add(T);0>=j.l(D)&&(U=U.add(L),q=j),T=W(T,1),L=W(L,1)}return I=x(D,U.j(I)),new M(U,I)}for(U=y;0<=D.l(I);){for(L=Math.max(1,Math.floor(D.m()/I.m())),T=Math.ceil(Math.log(L)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),q=d(L),j=q.j(I);S(j)||0<j.l(D);)L-=T,q=d(L),j=q.j(I);A(q)&&(q=b),U=U.add(q),D=x(D,j)}return new M(U,D)}i.A=function(D){return P(this,D).h},i.and=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],T=0;T<I;T++)L[T]=this.i(T)&D.i(T);return new l(L,this.h&D.h)},i.or=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],T=0;T<I;T++)L[T]=this.i(T)|D.i(T);return new l(L,this.h|D.h)},i.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],T=0;T<I;T++)L[T]=this.i(T)^D.i(T);return new l(L,this.h^D.h)};function F(D){for(var I=D.g.length+1,L=[],T=0;T<I;T++)L[T]=D.i(T)<<1|D.i(T-1)>>>31;return new l(L,D.h)}function W(D,I){var L=I>>5;I%=32;for(var T=D.g.length-L,U=[],q=0;q<T;q++)U[q]=0<I?D.i(q+L)>>>I|D.i(q+L+1)<<32-I:D.i(q+L);return new l(U,D.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,c4=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,qc=l}).apply(typeof YM<"u"?YM:typeof self<"u"?self:typeof window<"u"?window:{});var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u4,Mm,h4,h_,i1,d4,f4,p4;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,R){return m==Array.prototype||m==Object.prototype||(m[w]=R.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof z0=="object"&&z0];for(var w=0;w<m.length;++w){var R=m[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=e(this);function s(m,w){if(w)t:{var R=n;m=m.split(".");for(var G=0;G<m.length-1;G++){var tt=m[G];if(!(tt in R))break t;R=R[tt]}m=m[m.length-1],G=R[m],w=w(G),w!=G&&w!=null&&t(R,m,{configurable:!0,writable:!0,value:w})}}function a(m,w){m instanceof String&&(m+="");var R=0,G=!1,tt={next:function(){if(!G&&R<m.length){var ht=R++;return{value:w(ht,m[ht]),done:!1}}return G=!0,{done:!0,value:void 0}}};return tt[Symbol.iterator]=function(){return tt},tt}s("Array.prototype.values",function(m){return m||function(){return a(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,R){return m.call.apply(m.bind,arguments)}function y(m,w,R){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(tt,G),m.apply(w,tt)}}return function(){return m.apply(w,arguments)}}function b(m,w,R){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,b.apply(null,arguments)}function E(m,w){var R=Array.prototype.slice.call(arguments,1);return function(){var G=R.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function A(m,w){function R(){}R.prototype=w.prototype,m.aa=w.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(G,tt,ht){for(var At=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)At[Se-2]=arguments[Se];return w.prototype[tt].apply(G,At)}}function S(m){const w=m.length;if(0<w){const R=Array(w);for(let G=0;G<w;G++)R[G]=m[G];return R}return[]}function C(m,w){for(let R=1;R<arguments.length;R++){const G=arguments[R];if(h(G)){const tt=m.length||0,ht=G.length||0;m.length=tt+ht;for(let At=0;At<ht;At++)m[tt+At]=G[At]}else m.push(G)}}class x{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function N(m){return/^[\s\xa0]*$/.test(m)}function M(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var F=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(m,w,R){for(const G in m)w.call(R,m[G],G,m)}function D(m,w){for(const R in m)w.call(void 0,m[R],R,m)}function I(m){const w={};for(const R in m)w[R]=m[R];return w}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(m,w){let R,G;for(let tt=1;tt<arguments.length;tt++){G=arguments[tt];for(R in G)m[R]=G[R];for(let ht=0;ht<L.length;ht++)R=L[ht],Object.prototype.hasOwnProperty.call(G,R)&&(m[R]=G[R])}}function U(m){var w=1;m=m.split(":");const R=[];for(;0<w&&m.length;)R.push(m.shift()),w--;return m.length&&R.push(m.join(":")),R}function q(m){c.setTimeout(()=>{throw m},0)}function j(){var m=dt;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ct{constructor(){this.h=this.g=null}add(w,R){const G=nt.get();G.set(w,R),this.h?this.h.next=G:this.g=G,this.h=G}}var nt=new x(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,at=!1,dt=new ct,K=()=>{const m=c.Promise.resolve(void 0);Q=()=>{m.then(rt)}};var rt=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(R){q(R)}var w=nt;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}at=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};c.addEventListener("test",R,w),c.removeEventListener("test",R,w)}catch{}return m}();function wt(m,w){if(st.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(F){t:{try{P(w.nodeName);var tt=!0;break t}catch{}tt=!1}tt||(w=null)}}else R=="mouseover"?w=m.fromElement:R=="mouseout"&&(w=m.toElement);this.relatedTarget=w,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:_t[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&wt.aa.h.call(this)}}A(wt,st);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function jt(m,w,R,G,tt){this.listener=m,this.proxy=null,this.src=w,this.type=R,this.capture=!!G,this.ha=tt,this.key=++Bt,this.da=this.fa=!1}function Et(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ht(m){this.src=m,this.g={},this.h=0}Ht.prototype.add=function(m,w,R,G,tt){var ht=m.toString();m=this.g[ht],m||(m=this.g[ht]=[],this.h++);var At=Mt(m,w,G,tt);return-1<At?(w=m[At],R||(w.fa=!1)):(w=new jt(w,this.src,ht,!!G,tt),w.fa=R,m.push(w)),w};function Gt(m,w){var R=w.type;if(R in m.g){var G=m.g[R],tt=Array.prototype.indexOf.call(G,w,void 0),ht;(ht=0<=tt)&&Array.prototype.splice.call(G,tt,1),ht&&(Et(w),m.g[R].length==0&&(delete m.g[R],m.h--))}}function Mt(m,w,R,G){for(var tt=0;tt<m.length;++tt){var ht=m[tt];if(!ht.da&&ht.listener==w&&ht.capture==!!R&&ht.ha==G)return tt}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Wt={};function ue(m,w,R,G,tt){if(Array.isArray(w)){for(var ht=0;ht<w.length;ht++)ue(m,w[ht],R,G,tt);return null}return R=Gi(R),m&&m[xt]?m.K(w,R,d(G)?!!G.capture:!1,tt):fe(m,w,R,!1,G,tt)}function fe(m,w,R,G,tt,ht){if(!w)throw Error("Invalid event type");var At=d(tt)?!!tt.capture:!!tt,Se=oi(m);if(Se||(m[kt]=Se=new Ht(m)),R=Se.add(w,R,G,At,ht),R.proxy)return R;if(G=ke(),R.proxy=G,G.src=m,G.listener=R,m.addEventListener)vt||(tt=At),tt===void 0&&(tt=!1),m.addEventListener(w.toString(),G,tt);else if(m.attachEvent)m.attachEvent(pe(w.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ke(){function m(R){return w.call(m.src,m.listener,R)}const w=Ot;return m}function Ue(m,w,R,G,tt){if(Array.isArray(w))for(var ht=0;ht<w.length;ht++)Ue(m,w[ht],R,G,tt);else G=d(G)?!!G.capture:!!G,R=Gi(R),m&&m[xt]?(m=m.i,w=String(w).toString(),w in m.g&&(ht=m.g[w],R=Mt(ht,R,G,tt),-1<R&&(Et(ht[R]),Array.prototype.splice.call(ht,R,1),ht.length==0&&(delete m.g[w],m.h--)))):m&&(m=oi(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Mt(w,R,G,tt)),(R=-1<m?w[m]:null)&&He(R))}function He(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[xt])Gt(w.i,m);else{var R=m.type,G=m.proxy;w.removeEventListener?w.removeEventListener(R,G,m.capture):w.detachEvent?w.detachEvent(pe(R),G):w.addListener&&w.removeListener&&w.removeListener(G),(R=oi(w))?(Gt(R,m),R.h==0&&(R.src=null,w[kt]=null)):Et(m)}}}function pe(m){return m in Wt?Wt[m]:Wt[m]="on"+m}function Ot(m,w){if(m.da)m=!0;else{w=new wt(w,this);var R=m.listener,G=m.ha||m.src;m.fa&&He(m),m=R.call(G,w)}return m}function oi(m){return m=m[kt],m instanceof Ht?m:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(m){return typeof m=="function"?m:(m[Ye]||(m[Ye]=function(w){return m.handleEvent(w)}),m[Ye])}function Re(){ut.call(this),this.i=new Ht(this),this.M=this,this.F=null}A(Re,ut),Re.prototype[xt]=!0,Re.prototype.removeEventListener=function(m,w,R,G){Ue(this,m,w,R,G)};function ee(m,w){var R,G=m.F;if(G)for(R=[];G;G=G.F)R.push(G);if(m=m.M,G=w.type||w,typeof w=="string")w=new st(w,m);else if(w instanceof st)w.target=w.target||m;else{var tt=w;w=new st(G,m),T(w,tt)}if(tt=!0,R)for(var ht=R.length-1;0<=ht;ht--){var At=w.g=R[ht];tt=Xe(At,G,!0,w)&&tt}if(At=w.g=m,tt=Xe(At,G,!0,w)&&tt,tt=Xe(At,G,!1,w)&&tt,R)for(ht=0;ht<R.length;ht++)At=w.g=R[ht],tt=Xe(At,G,!1,w)&&tt}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var R=m.g[w],G=0;G<R.length;G++)Et(R[G]);delete m.g[w],m.h--}}this.F=null},Re.prototype.K=function(m,w,R,G){return this.i.add(String(m),w,!1,R,G)},Re.prototype.L=function(m,w,R,G){return this.i.add(String(m),w,!0,R,G)};function Xe(m,w,R,G){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var tt=!0,ht=0;ht<w.length;++ht){var At=w[ht];if(At&&!At.da&&At.capture==R){var Se=At.listener,ci=At.ha||At.src;At.fa&&Gt(m.i,At),tt=Se.call(ci,G)!==!1&&tt}}return tt&&!G.defaultPrevented}function Oe(m,w,R){if(typeof m=="function")R&&(m=b(m,R));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function De(m){m.g=Oe(()=>{m.g=null,m.i&&(m.i=!1,De(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Kt extends ut{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(m){ut.call(this),this.h=m,this.g={}}A(On,ut);var vn=[];function Dn(m){W(m.g,function(w,R){this.g.hasOwnProperty(R)&&He(w)},m),m.g={}}On.prototype.N=function(){On.aa.N.call(this),Dn(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=c.JSON.stringify,Pe=c.JSON.parse,gn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function sr(){}sr.prototype.h=null;function kl(m){return m.h||(m.h=m.i())}function pg(){}var oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lo(){st.call(this,"d")}A(lo,st);function gg(){st.call(this,"c")}A(gg,st);var aa={},mg=null;function Pl(){return mg=mg||new Re}aa.La="serverreachability";function gd(m){st.call(this,aa.La,m)}A(gd,st);function Ml(m){const w=Pl();ee(w,new gd(w))}aa.STAT_EVENT="statevent";function ub(m,w){st.call(this,aa.STAT_EVENT,m),this.stat=w}A(ub,st);function bn(m){const w=Pl();ee(w,new ub(w,m))}aa.Ma="timingevent";function li(m,w){st.call(this,aa.Ma,m),this.size=w}A(li,st);function Xn(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function yg(m,w,R,G,tt,ht){m.info(function(){if(m.g)if(ht)for(var At="",Se=ht.split("&"),ci=0;ci<Se.length;ci++){var we=Se[ci].split("=");if(1<we.length){var Ai=we[0];we=we[1];var ui=Ai.split("_");At=2<=ui.length&&ui[1]=="type"?At+(Ai+"="+we+"&"):At+(Ai+"=redacted&")}}else At=null;else At=ht;return"XMLHTTP REQ ("+G+") [attempt "+tt+"]: "+w+`
`+R+`
`+At})}function UA(m,w,R,G,tt,ht,At){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+tt+"]: "+w+`
`+R+`
`+ht+" "+At})}function Ol(m,w,R,G){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+ou(m,R)+(G?" "+G:"")})}function hb(m,w){m.info(function(){return"TIMEOUT: "+w})}rr.prototype.info=function(){};function ou(m,w){if(!m.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var G=R[m];if(!(2>G.length)){var tt=G[1];if(Array.isArray(tt)&&!(1>tt.length)){var ht=tt[0];if(ht!="noop"&&ht!="stop"&&ht!="close")for(var At=1;At<tt.length;At++)tt[At]=""}}}}return Dt(R)}catch{return w}}var Dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},co={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oa;function la(){}A(la,sr),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},oa=new la;function hs(m,w,R,G){this.j=m,this.i=w,this.l=R,this.R=G||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var vg={},md={};function Pr(m,w,R){m.L=1,m.v=du(Ls(w)),m.m=R,m.P=!0,uo(m,null)}function uo(m,w){m.F=Date.now(),lu(m),m.A=Ls(m.v);var R=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),wg(R.i,"t",G),m.C=0,R=m.j.J,m.h=new zn,m.g=Cb(m.j,R?w:null,!m.m),0<m.O&&(m.M=new Kt(b(m.Y,m,m.g),m.O)),w=m.U,R=m.g,G=m.ca;var tt="readystatechange";Array.isArray(tt)||(tt&&(vn[0]=tt.toString()),tt=vn);for(var ht=0;ht<tt.length;ht++){var At=ue(R,tt[ht],G||w.handleEvent,!1,w.h||w);if(!At)break;w.g[At.key]=At}w=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ml(),yg(m.i,m.u,m.A,m.l,m.R,m.m)}hs.prototype.ca=function(m){m=m.target;const w=this.M;w&&cr(m)==3?w.j():this.Y(m)},hs.prototype.Y=function(m){try{if(m==this.g)t:{const ui=cr(this.g);var w=this.g.Ba();const bo=this.g.Z();if(!(3>ui)&&(ui!=3||this.g&&(this.h.h||this.g.oa()||bb(this.g)))){this.J||ui!=4||w==7||(w==8||0>=bo?Ml(3):Ml(2)),Ll(this);var R=this.g.Z();this.X=R;e:if(db(this)){var G=bb(this.g);m="";var tt=G.length,ht=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),ca(this);var At="";break e}this.h.i=new c.TextDecoder}for(w=0;w<tt;w++)this.h.h=!0,m+=this.h.i.decode(G[w],{stream:!(ht&&w==tt-1)});G.length=0,this.h.g+=m,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=R==200,UA(this.i,this.u,this.A,this.l,this.R,ui,R),this.o){if(this.T&&!this.K){e:{if(this.g){var Se,ci=this.g;if((Se=ci.g?ci.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Se)){var we=Se;break e}}we=null}if(R=we)Ol(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cu(this,R);else{this.o=!1,this.s=3,bn(12),Oi(this),ca(this);break t}}if(this.P){R=!0;let Di;for(;!this.J&&this.C<At.length;)if(Di=fb(this,At),Di==md){ui==4&&(this.s=4,bn(14),R=!1),Ol(this.i,this.l,null,"[Incomplete Response]");break}else if(Di==vg){this.s=4,bn(15),Ol(this.i,this.l,At,"[Invalid Chunk]"),R=!1;break}else Ol(this.i,this.l,Di,null),cu(this,Di);if(db(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ui!=4||At.length!=0||this.h.h||(this.s=1,bn(16),R=!1),this.o=this.o&&R,!R)Ol(this.i,this.l,At,"[Invalid Chunked Response]"),Oi(this),ca(this);else if(0<At.length&&!this.W){this.W=!0;var Ai=this.j;Ai.g==this&&Ai.ba&&!Ai.M&&(Ai.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),_u(Ai),Ai.M=!0,bn(11))}}else Ol(this.i,this.l,At,null),cu(this,At);ui==4&&Oi(this),this.o&&!this.J&&(ui==4?wb(this.j,this):(this.o=!1,lu(this)))}else $A(this.g),R==400&&0<At.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),Oi(this),ca(this)}}}catch{}finally{}};function db(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function fb(m,w){var R=m.C,G=w.indexOf(`
`,R);return G==-1?md:(R=Number(w.substring(R,G)),isNaN(R)?vg:(G+=1,G+R>w.length?md:(w=w.slice(G,G+R),m.C=G+R,w)))}hs.prototype.cancel=function(){this.J=!0,Oi(this)};function lu(m){m.S=Date.now()+m.I,pb(m,m.I)}function pb(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Xn(b(m.ba,m),w)}function Ll(m){m.B&&(c.clearTimeout(m.B),m.B=null)}hs.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(hb(this.i,this.A),this.L!=2&&(Ml(),bn(17)),Oi(this),this.s=2,ca(this)):pb(this,this.S-m)};function ca(m){m.j.G==0||m.J||wb(m.j,m)}function Oi(m){Ll(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Dn(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function cu(m,w){try{var R=m.j;if(R.G!=0&&(R.g==m||bg(R.h,m))){if(!m.K&&bg(R.h,m)&&R.G==3){try{var G=R.Da.g.parse(w)}catch{G=null}if(Array.isArray(G)&&G.length==3){var tt=G;if(tt[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)Rd(R),xd(R);else break t;Ig(R),bn(18)}}else R.za=tt[1],0<R.za-R.T&&37500>tt[2]&&R.F&&R.v==0&&!R.C&&(R.C=Xn(b(R.Za,R),6e3));if(1>=vd(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else vo(R,11)}else if((m.K||R.g==m)&&Rd(R),!N(w))for(tt=R.Da.g.parse(w),w=0;w<tt.length;w++){let we=tt[w];if(R.T=we[0],we=we[1],R.G==2)if(we[0]=="c"){R.K=we[1],R.ia=we[2];const Ai=we[3];Ai!=null&&(R.la=Ai,R.j.info("VER="+R.la));const ui=we[4];ui!=null&&(R.Aa=ui,R.j.info("SVER="+R.Aa));const bo=we[5];bo!=null&&typeof bo=="number"&&0<bo&&(G=1.5*bo,R.L=G,R.j.info("backChannelRequestTimeoutMs_="+G)),G=R;const Di=m.g;if(Di){const ma=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var ht=G.h;ht.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(ht.j=ht.l,ht.g=new Set,ht.h&&(bd(ht,ht.h),ht.h=null))}if(G.D){const Pg=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Pg&&(G.ya=Pg,Qe(G.I,G.D,Pg))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),G=R;var At=m;if(G.qa=xb(G,G.J?G.ia:null,G.W),At.K){ds(G.h,At);var Se=At,ci=G.L;ci&&(Se.I=ci),Se.B&&(Ll(Se),lu(Se)),G.g=At}else Ab(G);0<R.i.length&&Cd(R)}else we[0]!="stop"&&we[0]!="close"||vo(R,7);else R.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?vo(R,7):Cg(R):we[0]!="noop"&&R.l&&R.l.ta(we),R.v=0)}}Ml(4)}catch{}}var gb=class{constructor(m,w){this.g=m,this.map=w}};function ho(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yd(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vd(m){return m.h?1:m.g?m.g.size:0}function bg(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function bd(m,w){m.g?m.g.add(w):m.h=w}function ds(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}ho.prototype.cancel=function(){if(this.i=_g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function _g(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const R of m.g.values())w=w.concat(R.D);return w}return S(m.i)}function BA(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],R=m.length,G=0;G<R;G++)w.push(m[G]);return w}w=[],R=0;for(G in m)w[R++]=m[G];return w}function _d(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var R=0;R<m;R++)w.push(R);return w}w=[],R=0;for(const G in m)w[R++]=G;return w}}}function Eg(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var R=_d(m),G=BA(m),tt=G.length,ht=0;ht<tt;ht++)w.call(void 0,G[ht],R&&R[ht],m)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zA(m,w){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var G=m[R].indexOf("="),tt=null;if(0<=G){var ht=m[R].substring(0,G);tt=m[R].substring(G+1)}else ht=m[R];w(ht,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function Qn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Qn){this.h=m.h,hu(this,m.j),this.o=m.o,this.g=m.g,Nl(this,m.s),this.l=m.l;var w=m.i,R=new po;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),fo(this,R),this.m=m.m}else m&&(w=String(m).match(uu))?(this.h=!1,hu(this,w[1]||"",!0),this.o=ar(w[2]||""),this.g=ar(w[3]||"",!0),Nl(this,w[4]),this.l=ar(w[5]||"",!0),fo(this,w[6]||"",!0),this.m=ar(w[7]||"")):(this.h=!1,this.i=new po(null,this.h))}Qn.prototype.toString=function(){var m=[],w=this.j;w&&m.push(fu(w,Ag,!0),":");var R=this.g;return(R||w=="file")&&(m.push("//"),(w=this.o)&&m.push(fu(w,Ag,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(fu(R,R.charAt(0)=="/"?jA:Sg,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",fu(R,Ed)),m.join("")};function Ls(m){return new Qn(m)}function hu(m,w,R){m.j=R?ar(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Nl(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function fo(m,w,R){w instanceof po?(m.i=w,yb(m.i,m.h)):(R||(w=fu(w,HA)),m.i=new po(w,m.h))}function Qe(m,w,R){m.i.set(w,R)}function du(m){return Qe(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ar(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function fu(m,w,R){return typeof m=="string"?(m=encodeURI(m).replace(w,mb),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function mb(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ag=/[#\/\?@]/g,Sg=/[#\?:]/g,jA=/[#\?]/g,HA=/[#\?@]/g,Ed=/#/g;function po(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function or(m){m.g||(m.g=new Map,m.h=0,m.i&&zA(m.i,function(w,R){m.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}i=po.prototype,i.add=function(m,w){or(this),this.i=null,m=ua(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(w),this.h+=1,this};function go(m,w){or(m),w=ua(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function mo(m,w){return or(m),w=ua(m,w),m.g.has(w)}i.forEach=function(m,w){or(this),this.g.forEach(function(R,G){R.forEach(function(tt){m.call(w,tt,G,this)},this)},this)},i.na=function(){or(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let G=0;G<w.length;G++){const tt=m[G];for(let ht=0;ht<tt.length;ht++)R.push(w[G])}return R},i.V=function(m){or(this);let w=[];if(typeof m=="string")mo(this,m)&&(w=w.concat(this.g.get(ua(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)w=w.concat(m[R])}return w},i.set=function(m,w){return or(this),this.i=null,m=ua(this,m),mo(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function wg(m,w,R){go(m,w),0<R.length&&(m.i=null,m.g.set(ua(m,w),S(R)),m.h+=R.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var G=w[R];const ht=encodeURIComponent(String(G)),At=this.V(G);for(G=0;G<At.length;G++){var tt=ht;At[G]!==""&&(tt+="="+encodeURIComponent(String(At[G]))),m.push(tt)}}return this.i=m.join("&")};function ua(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function yb(m,w){w&&!m.j&&(or(m),m.i=null,m.g.forEach(function(R,G){var tt=G.toLowerCase();G!=tt&&(go(this,G),wg(this,tt,R))},m)),m.j=w}function pu(m,w){const R=new rr;if(c.Image){const G=new Image;G.onload=E(lr,R,"TestLoadImage: loaded",!0,w,G),G.onerror=E(lr,R,"TestLoadImage: error",!1,w,G),G.onabort=E(lr,R,"TestLoadImage: abort",!1,w,G),G.ontimeout=E(lr,R,"TestLoadImage: timeout",!1,w,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else w(!1)}function Mr(m,w){const R=new rr,G=new AbortController,tt=setTimeout(()=>{G.abort(),lr(R,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:G.signal}).then(ht=>{clearTimeout(tt),ht.ok?lr(R,"TestPingServer: ok",!0,w):lr(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(tt),lr(R,"TestPingServer: error",!1,w)})}function lr(m,w,R,G,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),G(R)}catch{}}function gu(){this.g=new gn}function ha(m,w,R){const G=R||"";try{Eg(m,function(tt,ht){let At=tt;d(tt)&&(At=Dt(tt)),w.push(G+ht+"="+encodeURIComponent(At))})}catch(tt){throw w.push(G+"type="+encodeURIComponent("_badmap")),tt}}function Fl(m){this.l=m.Ub||null,this.j=m.eb||!1}A(Fl,sr),Fl.prototype.g=function(){return new yo(this.l,this.j)},Fl.prototype.i=function(m){return function(){return m}}({});function yo(m,w){Re.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(yo,Re),i=yo.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,fa(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},i.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tg(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tg(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}i.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?da(this):fa(this),this.readyState==3&&Tg(this)}},i.Ra=function(m){this.g&&(this.response=this.responseText=m,da(this))},i.Qa=function(m){this.g&&(this.response=m,da(this))},i.ga=function(){this.g&&da(this)};function da(m){m.readyState=4,m.l=null,m.j=null,m.v=null,fa(m)}i.setRequestHeader=function(m,w){this.u.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=w.next();return m.join(`\r
`)};function fa(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xg(m){let w="";return W(m,function(R,G){w+=G,w+=":",w+=R,w+=`\r
`}),w}function Ei(m,w,R){t:{for(G in R){var G=!1;break t}G=!0}G||(R=xg(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):Qe(m,w,R))}function Be(m){Re.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Be,Re);var Ad=/^https?$/i,mu=["POST","PUT"];i=Be.prototype,i.Ha=function(m){this.J=m},i.ea=function(m,w,R,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oa.g(),this.v=this.o?kl(this.o):kl(oa),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ht){vb(this,ht);return}if(m=R||"",R=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var tt in G)R.set(tt,G[tt]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ht of G.keys())R.set(ht,G.get(ht));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(R.keys()).find(ht=>ht.toLowerCase()=="content-type"),tt=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(mu,w,void 0))||G||tt||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ht,At]of R)this.g.setRequestHeader(ht,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yu(this),this.u=!0,this.g.send(m),this.u=!1}catch(ht){vb(this,ht)}};function vb(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Sd(m),pa(m)}function Sd(m){m.A||(m.A=!0,ee(m,"complete"),ee(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ee(this,"complete"),ee(this,"abort"),pa(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),Be.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},i.bb=function(){wd(this)};function wd(m){if(m.h&&typeof l<"u"&&(!m.v[1]||cr(m)!=4||m.Z()!=2)){if(m.u&&cr(m)==4)Oe(m.Ea,0,m);else if(ee(m,"readystatechange"),cr(m)==4){m.h=!1;try{const At=m.Z();t:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var G;if(G=At===0){var tt=String(m.D).match(uu)[1]||null;!tt&&c.self&&c.self.location&&(tt=c.self.location.protocol.slice(0,-1)),G=!Ad.test(tt?tt.toLowerCase():"")}R=G}if(R)ee(m,"complete"),ee(m,"success");else{m.m=6;try{var ht=2<cr(m)?m.g.statusText:""}catch{ht=""}m.l=ht+" ["+m.Z()+"]",Sd(m)}}finally{pa(m)}}}}function pa(m,w){if(m.g){yu(m);const R=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||ee(m,"ready");try{R.onreadystatechange=G}catch{}}}function yu(m){m.I&&(c.clearTimeout(m.I),m.I=null)}i.isActive=function(){return!!this.g};function cr(m){return m.g?m.g.readyState:0}i.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),Pe(w)}};function bb(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function $A(m){const w={};m=(m.g&&2<=cr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(N(m[G]))continue;var R=U(m[G]);const tt=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ht=w[tt]||[];w[tt]=ht,ht.push(R)}D(w,function(G){return G.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vu(m,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||w}function Td(m){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vu("baseRetryDelayMs",5e3,m),this.cb=vu("retryDelaySeedMs",1e4,m),this.Wa=vu("forwardChannelMaxRetries",2,m),this.wa=vu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(m&&m.concurrentRequestLimit),this.Da=new gu,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Td.prototype,i.la=8,i.G=1,i.connect=function(m,w,R,G){bn(0),this.W=m,this.H=w||{},R&&G!==void 0&&(this.H.OSID=R,this.H.OAID=G),this.F=this.X,this.I=xb(this,null,this.W),Cd(this)};function Cg(m){if(_b(m),m.G==3){var w=m.U++,R=Ls(m.I);if(Qe(R,"SID",m.K),Qe(R,"RID",w),Qe(R,"TYPE","terminate"),bu(m,R),w=new hs(m,m.j,w),w.L=2,w.v=du(Ls(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&c.Image&&(new Image().src=w.v,R=!0),R||(w.g=Cb(w.j,null),w.g.ea(w.v)),w.F=Date.now(),lu(w)}Tb(m)}function xd(m){m.g&&(_u(m),m.g.cancel(),m.g=null)}function _b(m){xd(m),m.u&&(c.clearTimeout(m.u),m.u=null),Rd(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Cd(m){if(!yd(m.h)&&!m.s){m.s=!0;var w=m.Ga;Q||K(),at||(Q(),at=!0),dt.add(w,m),m.B=0}}function qA(m,w){return vd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Xn(b(m.Ga,m,w),kg(m,m.B)),m.B++,!0)}i.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const tt=new hs(this,this.j,m);let ht=this.o;if(this.S&&(ht?(ht=I(ht),T(ht,this.S)):ht=this.S),this.m!==null||this.O||(tt.H=ht,ht=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var G=this.i[R];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break e}G=void 0}if(G===void 0)break;if(w+=G,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=Eb(this,tt,w),R=Ls(this.I),Qe(R,"RID",m),Qe(R,"CVER",22),this.D&&Qe(R,"X-HTTP-Session-Id",this.D),bu(this,R),ht&&(this.O?w="headers="+encodeURIComponent(String(xg(ht)))+"&"+w:this.m&&Ei(R,this.m,ht)),bd(this.h,tt),this.Ua&&Qe(R,"TYPE","init"),this.P?(Qe(R,"$req",w),Qe(R,"SID","null"),tt.T=!0,Pr(tt,R,null)):Pr(tt,R,w),this.G=2}}else this.G==3&&(m?Rg(this,m):this.i.length==0||yd(this.h)||Rg(this))};function Rg(m,w){var R;w?R=w.l:R=m.U++;const G=Ls(m.I);Qe(G,"SID",m.K),Qe(G,"RID",R),Qe(G,"AID",m.T),bu(m,G),m.m&&m.o&&Ei(G,m.m,m.o),R=new hs(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Eb(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),bd(m.h,R),Pr(R,G,w)}function bu(m,w){m.H&&W(m.H,function(R,G){Qe(w,G,R)}),m.l&&Eg({},function(R,G){Qe(w,G,R)})}function Eb(m,w,R){R=Math.min(m.i.length,R);var G=m.l?b(m.l.Na,m.l,m):null;t:{var tt=m.i;let ht=-1;for(;;){const At=["count="+R];ht==-1?0<R?(ht=tt[0].g,At.push("ofs="+ht)):ht=0:At.push("ofs="+ht);let Se=!0;for(let ci=0;ci<R;ci++){let we=tt[ci].g;const Ai=tt[ci].map;if(we-=ht,0>we)ht=Math.max(0,tt[ci].g-100),Se=!1;else try{ha(Ai,At,"req"+we+"_")}catch{G&&G(Ai)}}if(Se){G=At.join("&");break t}}}return m=m.i.splice(0,R),w.D=m,G}function Ab(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;Q||K(),at||(Q(),at=!0),dt.add(w,m),m.v=0}}function Ig(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Xn(b(m.Fa,m),kg(m,m.v)),m.v++,!0)}i.Fa=function(){if(this.u=null,Sb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Xn(b(this.ab,this),m)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),xd(this),Sb(this))};function _u(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Sb(m){m.g=new hs(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ls(m.qa);Qe(w,"RID","rpc"),Qe(w,"SID",m.K),Qe(w,"AID",m.T),Qe(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&Qe(w,"TO",m.ja),Qe(w,"TYPE","xmlhttp"),bu(m,w),m.m&&m.o&&Ei(w,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=du(Ls(w)),R.m=null,R.P=!0,uo(R,m)}i.Za=function(){this.C!=null&&(this.C=null,xd(this),Ig(this),bn(19))};function Rd(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function wb(m,w){var R=null;if(m.g==w){Rd(m),_u(m),m.g=null;var G=2}else if(bg(m.h,w))R=w.D,ds(m.h,w),G=1;else return;if(m.G!=0){if(w.o)if(G==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var tt=m.B;G=Pl(),ee(G,new li(G,R)),Cd(m)}else Ab(m);else if(tt=w.s,tt==3||tt==0&&0<w.X||!(G==1&&qA(m,w)||G==2&&Ig(m)))switch(R&&0<R.length&&(w=m.h,w.i=w.i.concat(R)),tt){case 1:vo(m,5);break;case 4:vo(m,10);break;case 3:vo(m,6);break;default:vo(m,2)}}}function kg(m,w){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*w}function vo(m,w){if(m.j.info("Error code "+w),w==2){var R=b(m.fb,m),G=m.Xa;const tt=!G;G=new Qn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hu(G,"https"),du(G),tt?pu(G.toString(),R):Mr(G.toString(),R)}else bn(2);m.G=0,m.l&&m.l.sa(w),Tb(m),_b(m)}i.fb=function(m){m?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Tb(m){if(m.G=0,m.ka=[],m.l){const w=_g(m.h);(w.length!=0||m.i.length!=0)&&(C(m.ka,w),C(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function xb(m,w,R){var G=R instanceof Qn?Ls(R):new Qn(R);if(G.g!="")w&&(G.g=w+"."+G.g),Nl(G,G.s);else{var tt=c.location;G=tt.protocol,w=w?w+"."+tt.hostname:tt.hostname,tt=+tt.port;var ht=new Qn(null);G&&hu(ht,G),w&&(ht.g=w),tt&&Nl(ht,tt),R&&(ht.l=R),G=ht}return R=m.D,w=m.ya,R&&w&&Qe(G,R,w),Qe(G,"VER",m.la),bu(m,G),G}function Cb(m,w,R){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Be(new Fl({eb:R})):new Be(m.pa),w.Ha(m.J),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rb(){}i=Rb.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Id(){}Id.prototype.g=function(m,w){return new fs(m,w)};function fs(m,w){Re.call(this),this.g=new Td(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!N(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new ga(this)}A(fs,Re),fs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fs.prototype.close=function(){Cg(this.g)},fs.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Dt(m),m=R);w.i.push(new gb(w.Ya++,m)),w.G==3&&Cd(w)},fs.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,fs.aa.N.call(this)};function Ib(m){lo.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){t:{for(const R in w){m=R;break t}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}A(Ib,lo);function kb(){gg.call(this),this.status=1}A(kb,gg);function ga(m){this.g=m}A(ga,Rb),ga.prototype.ua=function(){ee(this.g,"a")},ga.prototype.ta=function(m){ee(this.g,new Ib(m))},ga.prototype.sa=function(m){ee(this.g,new kb)},ga.prototype.ra=function(){ee(this.g,"b")},Id.prototype.createWebChannel=Id.prototype.g,fs.prototype.send=fs.prototype.o,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,p4=function(){return new Id},f4=function(){return Pl()},d4=aa,i1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dl.NO_ERROR=0,Dl.TIMEOUT=8,Dl.HTTP_ERROR=6,h_=Dl,co.COMPLETE="complete",h4=co,pg.EventType=oo,oo.OPEN="a",oo.CLOSE="b",oo.ERROR="c",oo.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Mm=pg,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,u4=Be}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});const XM="@firebase/firestore",QM="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new OC("@firebase/firestore");function gf(){return Jh.logLevel}function It(i,...t){if(Jh.logLevel<=_e.DEBUG){const e=t.map(GC);Jh.debug(`Firestore (${cg}): ${i}`,...e)}}function Tl(i,...t){if(Jh.logLevel<=_e.ERROR){const e=t.map(GC);Jh.error(`Firestore (${cg}): ${i}`,...e)}}function Gp(i,...t){if(Jh.logLevel<=_e.WARN){const e=t.map(GC);Jh.warn(`Firestore (${cg}): ${i}`,...e)}}function GC(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,g4(i,n,e)}function g4(i,t,e){let n=`FIRESTORE (${cg}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw Tl(n),new Error(n)}function Mn(i,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,i||g4(t,s,n)}function Ce(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends ro{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(is.UNAUTHENTICATED))}shutdown(){}}class HW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class $W{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Mn(this.o===void 0,42304);let n=this.i;const s=h=>this.i!==n?(n=this.i,e(h)):Promise.resolve();let a=new Kh;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Kh,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kh)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mn(typeof n.accessToken=="string",31837,{l:n}),new m4(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mn(t===null||typeof t=="string",2055,{h:t}),new is(t)}}class qW{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GW{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new qW(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WW{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Mn(this.o===void 0,3512);const n=a=>{a.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,It("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const s=a=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZM(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ZM(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=KW(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<e&&(n+=t.charAt(s[a]%62))}return n}}function ye(i,t){return i<t?-1:i>t?1:0}function s1(i,t){let e=0;for(;e<i.length&&e<t.length;){const n=i.codePointAt(e),s=t.codePointAt(e);if(n!==s){if(n<128&&s<128)return ye(n,s);{const a=y4(),l=XW(a.encode(JM(i,e)),a.encode(JM(t,e)));return l!==0?l:ye(n,s)}}e+=n>65535?2:1}return ye(i.length,t.length)}function JM(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function XW(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return ye(i[e],t[e]);return ye(i.length,t.length)}function Wp(i,t,e){return i.length===t.length&&i.every((n,s)=>e(n,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=-62135596800,eO=1e6;class bi{static now(){return bi.fromMillis(Date.now())}static fromDate(t){return bi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*eO);return new bi(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<tO)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eO}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-tO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(t){return new ie(t)}static min(){return new ie(new bi(0,0))}static max(){return new ie(new bi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="__name__";class Ta{constructor(t,e,n){e===void 0?e=0:e>t.length&&se(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&se(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return Ta.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ta?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=Ta.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return ye(t.length,e.length)}static compareSegments(t,e){const n=Ta.isNumericId(t),s=Ta.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?Ta.extractNumericId(t).compare(Ta.extractNumericId(e)):s1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qc.fromString(t.substring(4,t.length-2))}}class In extends Ta{construct(t,e,n){return new In(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Lt(bt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(s=>s.length>0))}return new In(e)}static emptyPath(){return new In([])}}const QW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends Ta{construct(t,e,n){return new rs(t,e,n)}static isValidIdentifier(t){return QW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nO}static keyField(){return new rs([nO])}static fromServerFormat(t){const e=[];let n="",s=0;const a=()=>{if(n.length===0)throw new Lt(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Lt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Lt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(n+=c,s++):(a(),s++)}if(a(),l)throw new Lt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rs(e)}static emptyPath(){return new rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.path=t}static fromPath(t){return new Xt(In.fromString(t))}static fromName(t){return new Xt(In.fromString(t).popFirst(5))}static empty(){return new Xt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&In.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return In.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xt(new In(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function ZW(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(n===1e9?new bi(e+1,0):new bi(e,n));return new Xc(s,Xt.empty(),t)}function JW(i){return new Xc(i.readTime,i.key,my)}class Xc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Xc(ie.min(),Xt.empty(),my)}static max(){return new Xc(ie.max(),Xt.empty(),my)}}function tK(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Xt.comparator(i.documentKey,t.documentKey),e!==0?e:ye(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(i){if(i.code!==bt.FAILED_PRECONDITION||i.message!==eK)throw i;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yt((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(n,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof yt?e:yt.resolve(e)}catch(e){return yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):yt.reject(e)}static resolve(t){return new yt((e,n)=>{e(t)})}static reject(t){return new yt((e,n)=>{n(t)})}static waitFor(t){return new yt((e,n)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&e()},h=>n(h))}),l=!0,a===s&&e()})}static or(t){let e=yt.resolve(!1);for(const n of t)e=e.next(s=>s?yt.resolve(s):n());return e}static forEach(t,e){const n=[];return t.forEach((s,a)=>{n.push(e.call(this,s,a))}),this.waitFor(n)}static mapArray(t,e){return new yt((n,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;e(t[d]).next(p=>{l[d]=p,++c,c===a&&n(l)},p=>s(p))}})}static doWhile(t,e){return new yt((n,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):n()};a()})}}function iK(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ug(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>e.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}pA.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=-1;function gA(i){return i==null}function uE(i){return i===0&&1/i==-1/0}function rK(i){return typeof i=="number"&&Number.isInteger(i)&&!uE(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="";function aK(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=iO(t)),t=oK(i.get(e),t);return iO(t)}function oK(i,t){let e=t;const n=i.length;for(let s=0;s<n;s++){const a=i.charAt(s);switch(a){case"\0":e+="";break;case v4:e+="";break;default:e+=a}}return e}function iO(i){return i+v4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function hg(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function b4(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,e){this.comparator=t,this.root=e||ji.EMPTY}insert(t,e){return new Wn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(t){return new Wn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ji.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new j0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new j0(this.root,t,this.comparator,!1)}getReverseIterator(){return new j0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new j0(this.root,t,this.comparator,!0)}}class j0{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?n(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ji{constructor(t,e,n,s,a){this.key=t,this.value=e,this.color=n??ji.RED,this.left=s??ji.EMPTY,this.right=a??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,a){return new ji(t??this.key,e??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const a=n(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,n),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ji.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw se(27949);return t+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1;ji.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(t,e,n,s,a){return this}insert(t,e,n){return new ji(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.comparator=t,this.data=new Wn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new rO(this.data.getIterator())}getIteratorFrom(t){return new rO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof _i)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new _i(this.comparator);return e.data=t,e}}class rO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t){this.fields=t,t.sort(rs.comparator)}static empty(){return new zc([])}unionWith(t){let e=new _i(rs.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new zc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wp(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _4("Invalid base64 string: "+a):a}}(t);return new qi(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new qi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const lK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qc(i){if(Mn(!!i,39018),typeof i=="string"){let t=0;const e=lK.exec(i);if(Mn(!!e,46558,{timestamp:i}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:qn(i.seconds),nanos:qn(i.nanos)}}function qn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zc(i){return typeof i=="string"?qi.fromBase64String(i):qi.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="server_timestamp",A4="__type__",S4="__previous_value__",w4="__local_write_time__";function WC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[A4])===null||e===void 0?void 0:e.stringValue)===E4}function mA(i){const t=i.mapValue.fields[S4];return WC(t)?mA(t):t}function yy(i){const t=Qc(i.mapValue.fields[w4].timestampValue);return new bi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(t,e,n,s,a,l,c,h,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const hE="(default)";class vy{constructor(t,e){this.projectId=t,this.database=e||hE}static empty(){return new vy("","")}get isDefaultDatabase(){return this.database===hE}isEqual(t){return t instanceof vy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__type__",uK="__max__",H0={mapValue:{}},x4="__vector__",dE="value";function Jc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?WC(i)?4:dK(i)?9007199254740991:hK(i)?10:11:se(28295,{value:i})}function eo(i,t){if(i===t)return!0;const e=Jc(i);if(e!==Jc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return yy(i).isEqual(yy(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Qc(s.timestampValue),c=Qc(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(s,a){return Zc(s.bytesValue).isEqual(Zc(a.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(s,a){return qn(s.geoPointValue.latitude)===qn(a.geoPointValue.latitude)&&qn(s.geoPointValue.longitude)===qn(a.geoPointValue.longitude)}(i,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qn(s.integerValue)===qn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=qn(s.doubleValue),c=qn(a.doubleValue);return l===c?uE(l)===uE(c):isNaN(l)&&isNaN(c)}return!1}(i,t);case 9:return Wp(i.arrayValue.values||[],t.arrayValue.values||[],eo);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(sO(l)!==sO(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!eo(l[h],c[h])))return!1;return!0}(i,t);default:return se(52216,{left:i})}}function by(i,t){return(i.values||[]).find(e=>eo(e,t))!==void 0}function Kp(i,t){if(i===t)return 0;const e=Jc(i),n=Jc(t);if(e!==n)return ye(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return ye(i.booleanValue,t.booleanValue);case 2:return function(a,l){const c=qn(a.integerValue||a.doubleValue),h=qn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(i,t);case 3:return aO(i.timestampValue,t.timestampValue);case 4:return aO(yy(i),yy(t));case 5:return s1(i.stringValue,t.stringValue);case 6:return function(a,l){const c=Zc(a),h=Zc(l);return c.compareTo(h)}(i.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ye(c[d],h[d]);if(p!==0)return p}return ye(c.length,h.length)}(i.referenceValue,t.referenceValue);case 8:return function(a,l){const c=ye(qn(a.latitude),qn(l.latitude));return c!==0?c:ye(qn(a.longitude),qn(l.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return oO(i.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,d,p;const y=a.fields||{},b=l.fields||{},E=(c=y[dE])===null||c===void 0?void 0:c.arrayValue,A=(h=b[dE])===null||h===void 0?void 0:h.arrayValue,S=ye(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:oO(E,A)}(i.mapValue,t.mapValue);case 11:return function(a,l){if(a===H0.mapValue&&l===H0.mapValue)return 0;if(a===H0.mapValue)return 1;if(l===H0.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const b=s1(h[y],p[y]);if(b!==0)return b;const E=Kp(c[h[y]],d[p[y]]);if(E!==0)return E}return ye(h.length,p.length)}(i.mapValue,t.mapValue);default:throw se(23264,{Pe:e})}}function aO(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return ye(i,t);const e=Qc(i),n=Qc(t),s=ye(e.seconds,n.seconds);return s!==0?s:ye(e.nanos,n.nanos)}function oO(i,t){const e=i.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const a=Kp(e[s],n[s]);if(a)return a}return ye(e.length,n.length)}function Yp(i){return r1(i)}function r1(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=Qc(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return Zc(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Xt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",s=!0;for(const a of e.values||[])s?s=!1:n+=",",n+=r1(a);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${r1(e.fields[l])}`;return s+"}"}(i.mapValue):se(61005,{value:i})}function d_(i){switch(Jc(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mA(i);return t?16+d_(t):16;case 5:return 2*i.stringValue.length;case 6:return Zc(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+d_(a),0)}(i.arrayValue);case 10:case 11:return function(n){let s=0;return hg(n.fields,(a,l)=>{s+=a.length+d_(l)}),s}(i.mapValue);default:throw se(13486,{value:i})}}function lO(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function a1(i){return!!i&&"integerValue"in i}function KC(i){return!!i&&"arrayValue"in i}function cO(i){return!!i&&"nullValue"in i}function uO(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hT(i){return!!i&&"mapValue"in i}function hK(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[T4])===null||e===void 0?void 0:e.stringValue)===x4}function ny(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return hg(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ny(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ny(i.arrayValue.values[e]);return t}return Object.assign({},i)}function dK(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===uK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.value=t}static empty(){return new Wa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!hT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ny(e)}setAll(t){let e=rs.emptyPath(),n={},s=[];t.forEach((l,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,n,s),n={},s=[],e=c.popLast()}l?n[c.lastSegment()]=ny(l):s.push(c.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,n,s)}delete(t){const e=this.field(t.popLast());hT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return eo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];hT(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){hg(e,(s,a)=>t[s]=a);for(const s of n)delete t[s]}clone(){return new Wa(ny(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,e,n,s,a,l,c){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ss(t,0,ie.min(),ie.min(),ie.min(),Wa.empty(),0)}static newFoundDocument(t,e,n,s){return new ss(t,1,e,ie.min(),n,s,0)}static newNoDocument(t,e){return new ss(t,2,e,ie.min(),ie.min(),Wa.empty(),0)}static newUnknownDocument(t,e){return new ss(t,3,e,ie.min(),ie.min(),Wa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ss&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ss(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,e){this.position=t,this.inclusive=e}}function hO(i,t,e){let n=0;for(let s=0;s<i.position.length;s++){const a=t[s],l=i.position[s];if(a.field.isKeyField()?n=Xt.comparator(Xt.fromName(l.referenceValue),e.key):n=Kp(l,e.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function dO(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!eo(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,e="asc"){this.field=t,this.dir=e}}function fK(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{}class ri extends C4{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new gK(t,e,n):e==="array-contains"?new vK(t,n):e==="in"?new bK(t,n):e==="not-in"?new _K(t,n):e==="array-contains-any"?new EK(t,n):new ri(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new mK(t,n):new yK(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Kp(e,this.value)):e!==null&&Jc(this.value)===Jc(e)&&this.matchesComparison(Kp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends C4{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new sa(t,e)}matches(t){return R4(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function R4(i){return i.op==="and"}function I4(i){return pK(i)&&R4(i)}function pK(i){for(const t of i.filters)if(t instanceof sa)return!1;return!0}function o1(i){if(i instanceof ri)return i.field.canonicalString()+i.op.toString()+Yp(i.value);if(I4(i))return i.filters.map(t=>o1(t)).join(",");{const t=i.filters.map(e=>o1(e)).join(",");return`${i.op}(${t})`}}function k4(i,t){return i instanceof ri?function(n,s){return s instanceof ri&&n.op===s.op&&n.field.isEqual(s.field)&&eo(n.value,s.value)}(i,t):i instanceof sa?function(n,s){return s instanceof sa&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,c)=>a&&k4(l,s.filters[c]),!0):!1}(i,t):void se(19439)}function P4(i){return i instanceof ri?function(e){return`${e.field.canonicalString()} ${e.op} ${Yp(e.value)}`}(i):i instanceof sa?function(e){return e.op.toString()+" {"+e.getFilters().map(P4).join(" ,")+"}"}(i):"Filter"}class gK extends ri{constructor(t,e,n){super(t,e,n),this.key=Xt.fromName(n.referenceValue)}matches(t){const e=Xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class mK extends ri{constructor(t,e){super(t,"in",e),this.keys=M4("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class yK extends ri{constructor(t,e){super(t,"not-in",e),this.keys=M4("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function M4(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>Xt.fromName(n.referenceValue))}class vK extends ri{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return KC(e)&&by(e.arrayValue,this.value)}}class bK extends ri{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&by(this.value.arrayValue,e)}}class _K extends ri{constructor(t,e){super(t,"not-in",e)}matches(t){if(by(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!by(this.value.arrayValue,e)}}class EK extends ri{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!KC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>by(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(t,e=null,n=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function fO(i,t=null,e=[],n=[],s=null,a=null,l=null){return new AK(i,t,e,n,s,a,l)}function YC(i){const t=Ce(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>o1(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),gA(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Yp(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Yp(n)).join(",")),t.Ie=e}return t.Ie}function XC(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!fK(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!k4(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!dO(i.startAt,t.startAt)&&dO(i.endAt,t.endAt)}function l1(i){return Xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,e=null,n=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SK(i,t,e,n,s,a,l,c){return new dg(i,t,e,n,s,a,l,c)}function O4(i){return new dg(i)}function pO(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function D4(i){return i.collectionGroup!==null}function iy(i){const t=Ce(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new _i(rs.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ee.push(new _y(a,n))}),e.has(rs.keyField().canonicalString())||t.Ee.push(new _y(rs.keyField(),n))}return t.Ee}function Ja(i){const t=Ce(i);return t.de||(t.de=wK(t,iy(i))),t.de}function wK(i,t){if(i.limitType==="F")return fO(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new _y(s.field,a)});const e=i.endAt?new fE(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new fE(i.startAt.position,i.startAt.inclusive):null;return fO(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}function c1(i,t){const e=i.filters.concat([t]);return new dg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function u1(i,t,e){return new dg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function yA(i,t){return XC(Ja(i),Ja(t))&&i.limitType===t.limitType}function L4(i){return`${YC(Ja(i))}|lt:${i.limitType}`}function mf(i){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>P4(s)).join(", ")}]`),gA(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Yp(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Yp(s)).join(",")),`Target(${n})`}(Ja(i))}; limitType=${i.limitType})`}function vA(i,t){return t.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Xt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(i,t)&&function(n,s){for(const a of iy(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(i,t)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(i,t)&&function(n,s){return!(n.startAt&&!function(l,c,h){const d=hO(l,c,h);return l.inclusive?d<=0:d<0}(n.startAt,iy(n),s)||n.endAt&&!function(l,c,h){const d=hO(l,c,h);return l.inclusive?d>=0:d>0}(n.endAt,iy(n),s))}(i,t)}function TK(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function N4(i){return(t,e)=>{let n=!1;for(const s of iy(i)){const a=xK(s,t,e);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function xK(i,t,e){const n=i.field.isKeyField()?Xt.comparator(t.key,e.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?Kp(h,d):se(42886)}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){hg(this.inner,(e,n)=>{for(const[s,a]of n)t(s,a)})}isEmpty(){return b4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=new Wn(Xt.comparator);function tu(){return CK}const F4=new Wn(Xt.comparator);function Om(...i){let t=F4;for(const e of i)t=t.insert(e.key,e);return t}function RK(i){let t=F4;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Yu(){return sy()}function V4(){return sy()}function sy(){return new cd(i=>i.toString(),(i,t)=>i.isEqual(t))}const IK=new _i(Xt.comparator);function Ie(...i){let t=IK;for(const e of i)t=t.add(e);return t}const kK=new _i(ye);function PK(){return kK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uE(t)?"-0":t}}function U4(i){return{integerValue:""+i}}function MK(i,t){return rK(t)?U4(t):QC(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this._=void 0}}function OK(i,t,e){return i instanceof h1?function(s,a){const l={fields:{[A4]:{stringValue:E4},[w4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&WC(a)&&(a=mA(a)),a&&(l.fields[S4]=a),{mapValue:l}}(e,t):i instanceof pE?B4(i,t):i instanceof gE?z4(i,t):function(s,a){const l=LK(s,a),c=gO(l)+gO(s.Re);return a1(l)&&a1(s.Re)?U4(c):QC(s.serializer,c)}(i,t)}function DK(i,t,e){return i instanceof pE?B4(i,t):i instanceof gE?z4(i,t):e}function LK(i,t){return i instanceof d1?function(n){return a1(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class h1 extends bA{}class pE extends bA{constructor(t){super(),this.elements=t}}function B4(i,t){const e=j4(t);for(const n of i.elements)e.some(s=>eo(s,n))||e.push(n);return{arrayValue:{values:e}}}class gE extends bA{constructor(t){super(),this.elements=t}}function z4(i,t){let e=j4(t);for(const n of i.elements)e=e.filter(s=>!eo(s,n));return{arrayValue:{values:e}}}class d1 extends bA{constructor(t,e){super(),this.serializer=t,this.Re=e}}function gO(i){return qn(i.integerValue||i.doubleValue)}function j4(i){return KC(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function NK(i,t){return i.field.isEqual(t.field)&&function(n,s){return n instanceof pE&&s instanceof pE||n instanceof gE&&s instanceof gE?Wp(n.elements,s.elements,eo):n instanceof d1&&s instanceof d1?eo(n.Re,s.Re):n instanceof h1&&s instanceof h1}(i.transform,t.transform)}class Yh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Yh}static exists(t){return new Yh(void 0,t)}static updateTime(t){return new Yh(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function f_(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ZC{}function H4(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new VK(i.key,Yh.none()):new JC(i.key,i.data,Yh.none());{const e=i.data,n=Wa.empty();let s=new _i(rs.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new _A(i.key,n,new zc(s.toArray()),Yh.none())}}function FK(i,t,e){i instanceof JC?function(s,a,l){const c=s.value.clone(),h=yO(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(i,t,e):i instanceof _A?function(s,a,l){if(!f_(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=yO(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll($4(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(i,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function ry(i,t,e,n){return i instanceof JC?function(a,l,c,h){if(!f_(a.precondition,l))return c;const d=a.value.clone(),p=vO(a.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(i,t,e,n):i instanceof _A?function(a,l,c,h){if(!f_(a.precondition,l))return c;const d=vO(a.fieldTransforms,h,l),p=l.data;return p.setAll($4(a)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(i,t,e,n):function(a,l,c){return f_(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(i,t,e)}function mO(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Wp(n,s,(a,l)=>NK(a,l))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class JC extends ZC{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _A extends ZC{constructor(t,e,n,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $4(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function yO(i,t,e){const n=new Map;Mn(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let s=0;s<e.length;s++){const a=i[s],l=a.transform,c=t.data.field(a.field);n.set(a.field,DK(l,c,e[s]))}return n}function vO(i,t,e){const n=new Map;for(const s of i){const a=s.transform,l=e.data.field(s.field);n.set(s.field,OK(a,l,t))}return n}class VK extends ZC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&FK(a,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=ry(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=ry(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=V4();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(s.key)?null:c;const h=H4(l,c);h!==null&&n.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ie.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ie())}isEqual(t){return this.batchId===t.batchId&&Wp(this.mutations,t.mutations,(e,n)=>mO(e,n))&&Wp(this.baseMutations,t.baseMutations,(e,n)=>mO(e,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,xe;function q4(i){if(i===void 0)return Tl("GRPC error has no .code"),bt.UNKNOWN;switch(i){case ei.OK:return bt.OK;case ei.CANCELLED:return bt.CANCELLED;case ei.UNKNOWN:return bt.UNKNOWN;case ei.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case ei.INTERNAL:return bt.INTERNAL;case ei.UNAVAILABLE:return bt.UNAVAILABLE;case ei.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case ei.NOT_FOUND:return bt.NOT_FOUND;case ei.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case ei.ABORTED:return bt.ABORTED;case ei.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case ei.DATA_LOSS:return bt.DATA_LOSS;default:return se(39323,{code:i})}}(xe=ei||(ei={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new qc([4294967295,4294967295],0);function bO(i){const t=y4().encode(i),e=new c4;return e.update(t),new Uint8Array(e.digest())}function _O(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qc([e,n],0),new qc([s,a],0)]}class tR{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Dm(`Invalid padding: ${e}`);if(n<0)throw new Dm(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Dm(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Dm(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=qc.fromNumber(this.pe)}we(t,e,n){let s=t.add(e.multiply(qc.fromNumber(n)));return s.compare(jK)===1&&(s=new qc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=bO(t),[n,s]=_O(e);for(let a=0;a<this.hashCount;a++){const l=this.we(n,s,a);if(!this.be(l))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new tR(a,s,e);return n.forEach(c=>l.insert(c)),l}insert(t){if(this.pe===0)return;const e=bO(t),[n,s]=_O(e);for(let a=0;a<this.hashCount;a++){const l=this.we(n,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Dm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,e,n,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,eb.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new EA(ie.min(),s,new Wn(ye),tu(),Ie())}}class eb{constructor(t,e,n,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new eb(n,e,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t,e,n,s){this.De=t,this.removedTargetIds=e,this.key=n,this.ve=s}}class G4{constructor(t,e){this.targetId=t,this.Ce=e}}class W4{constructor(t,e,n=qi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class EO{constructor(){this.Fe=0,this.Me=AO(),this.xe=qi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ie(),e=Ie(),n=Ie();return this.Me.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:se(38017,{changeType:a})}}),new eb(this.xe,this.Oe,t,e,n)}Qe(){this.Ne=!1,this.Me=AO()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class HK{constructor(t){this.ze=t,this.je=new Map,this.He=tu(),this.Je=$0(),this.Ye=$0(),this.Ze=new Wn(ye)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const n=this.rt(e);switch(t.state){case 0:this.it(e)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(e);break;case 3:this.it(e)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),n.ke(t.resumeToken));break;default:se(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((n,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,n=t.Ce.count,s=this._t(e);if(s){const a=s.target;if(l1(a))if(n===0){const l=new Xt(a.path);this.tt(e,l,ss.newNoDocument(l,ie.min()))}else Mn(n===1,20013,{expectedCount:n});else{const l=this.ut(e);if(l!==n){const c=this.ct(t),h=c?this.lt(c,t,l):1;if(h!==0){this.st(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=e;let l,c;try{l=Zc(n).toUint8Array()}catch(h){if(h instanceof _4)return Gp("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new tR(l,s,a)}catch(h){return Gp(h instanceof Dm?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(t,e,n){return e.Ce.count===n-this.Tt(t,e.targetId)?0:2}Tt(t,e){const n=this.ze.getRemoteKeysForTarget(e);let s=0;return n.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,a,null),s++)}),s}It(t){const e=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&l1(c.target)){const h=new Xt(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,ss.newNoDocument(h,t))}a.Le&&(e.set(l,a.qe()),a.Qe())}});let n=Ie();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,l)=>l.setReadTime(t));const s=new EA(t,e,this.Ze,this.He,n);return this.He=tu(),this.Je=$0(),this.Ye=$0(),this.Ze=new Wn(ye),s}et(t,e){if(!this.it(t))return;const n=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,n),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,n){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),n&&(this.He=this.He.insert(e,n))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new EO,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new _i(ye),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new _i(ye),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||It("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new EO),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function $0(){return new Wn(Xt.comparator)}function AO(){return new Wn(Xt.comparator)}const $K={asc:"ASCENDING",desc:"DESCENDING"},qK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GK={and:"AND",or:"OR"};class WK{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function f1(i,t){return i.useProto3Json||gA(t)?t:{value:t}}function p1(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K4(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Df(i){return Mn(!!i,49232),ie.fromTimestamp(function(e){const n=Qc(e);return new bi(n.seconds,n.nanos)}(i))}function Y4(i,t){return g1(i,t).canonicalString()}function g1(i,t){const e=function(s){return new In(["projects",s.projectId,"databases",s.database])}(i).child("documents");return t===void 0?e:e.child(t)}function X4(i){const t=In.fromString(i);return Mn(eF(t),10190,{key:t.toString()}),t}function dT(i,t){const e=X4(t);if(e.get(1)!==i.databaseId.projectId)throw new Lt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Lt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Xt(Z4(e))}function Q4(i,t){return Y4(i.databaseId,t)}function KK(i){const t=X4(i);return t.length===4?In.emptyPath():Z4(t)}function SO(i){return new In(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Z4(i){return Mn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function YK(i,t){let e;if("targetChange"in t){t.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(Mn(p===void 0||typeof p=="string",58123),qi.fromBase64String(p||"")):(Mn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),qi.fromUint8Array(p||new Uint8Array))}(i,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?bt.UNKNOWN:q4(d.code);return new Lt(p,d.message||"")}(l);e=new W4(n,s,a,c||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=dT(i,n.document.name),a=Df(n.document.updateTime),l=n.document.createTime?Df(n.document.createTime):ie.min(),c=new Wa({mapValue:{fields:n.document.fields}}),h=ss.newFoundDocument(s,a,l,c),d=n.targetIds||[],p=n.removedTargetIds||[];e=new p_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=dT(i,n.document),a=n.readTime?Df(n.readTime):ie.min(),l=ss.newNoDocument(s,a),c=n.removedTargetIds||[];e=new p_([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=dT(i,n.document),a=n.removedTargetIds||[];e=new p_([],a,s,null)}else{if(!("filter"in t))return se(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new zK(s,a),c=n.targetId;e=new G4(c,l)}}return e}function XK(i,t){return{documents:[Q4(i,t.path)]}}function QK(i,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=Q4(i,s);const a=function(d){if(d.length!==0)return tF(sa.create(d,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(p=>function(b){return{field:yf(b.field),direction:tY(b.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=f1(i,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{gt:e,parent:s}}function ZK(i){let t=KK(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){Mn(n===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=function(y){const b=J4(y);return b instanceof sa&&I4(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(y){return y.map(b=>function(A){return new _y(vf(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let c=null;e.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,gA(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(y){const b=!!y.before,E=y.values||[];return new fE(E,b)}(e.startAt));let d=null;return e.endAt&&(d=function(y){const b=!y.before,E=y.values||[];return new fE(E,b)}(e.endAt)),SK(t,s,l,a,c,"F",h,d)}function JK(i,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function J4(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=vf(e.unaryFilter.field);return ri.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=vf(e.unaryFilter.field);return ri.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vf(e.unaryFilter.field);return ri.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=vf(e.unaryFilter.field);return ri.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(i):i.fieldFilter!==void 0?function(e){return ri.create(vf(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return sa.create(e.compositeFilter.filters.map(n=>J4(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(e.compositeFilter.op))}(i):se(30097,{filter:i})}function tY(i){return $K[i]}function eY(i){return qK[i]}function nY(i){return GK[i]}function yf(i){return{fieldPath:i.canonicalString()}}function vf(i){return rs.fromServerFormat(i.fieldPath)}function tF(i){return i instanceof ri?function(e){if(e.op==="=="){if(uO(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NAN"}};if(cO(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(uO(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NOT_NAN"}};if(cO(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yf(e.field),op:eY(e.op),value:e.value}}}(i):i instanceof sa?function(e){const n=e.getFilters().map(s=>tF(s));return n.length===1?n[0]:{compositeFilter:{op:nY(e.op),filters:n}}}(i):se(54877,{filter:i})}function eF(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,e,n,s,a=ie.min(),l=ie.min(),c=qi.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new jc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(t){this.wt=t}}function sY(i){const t=ZK({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?u1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(){this.Cn=new aY}addToCollectionParentIndex(t,e){return this.Cn.add(e),yt.resolve()}getCollectionParents(t,e){return yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return yt.resolve()}deleteFieldIndex(t,e){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,e){return yt.resolve()}getDocumentsMatchingTarget(t,e){return yt.resolve(null)}getIndexType(t,e){return yt.resolve(0)}getFieldIndexes(t,e){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,e){return yt.resolve(Xc.min())}getMinOffsetFromCollectionGroup(t,e){return yt.resolve(Xc.min())}updateCollectionGroup(t,e,n){return yt.resolve()}updateIndexEntries(t,e){return yt.resolve()}}class aY{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new _i(In.comparator),a=!s.has(n);return this.index[e]=s.add(n),a}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new _i(In.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nF=41943040;class Ps{static withCacheSize(t){return new Ps(t,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(nF,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xp(0)}static lr(){return new Xp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="LruGarbageCollector",oY=1048576;function xO([i,t],[e,n]){const s=ye(i,e);return s===0?ye(t,n):s}class lY{constructor(t){this.Er=t,this.buffer=new _i(xO),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();xO(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cY{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){It(TO,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ug(e)?It(TO,"Ignoring IndexedDB error during garbage collection: ",e):await fA(e)}await this.mr(3e5)})}}class uY{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(e===0)return yt.resolve(pA.le);const n=new lY(e);return this.gr.forEachTarget(t,s=>n.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>n.Rr(s))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.gr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(wO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wO):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let n,s,a,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(n=y,c=Date.now(),this.removeTargets(t,n,e))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,n))).next(y=>(d=Date.now(),gf()<=_e.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function hY(i,t){return new uY(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(){this.changes=new cd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ss.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?yt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(n=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(n!==null&&ry(n.mutation,s,zc.empty(),bi.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Ie()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Ie()){const s=Yu();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,n).next(a=>{let l=Om();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const n=Yu();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Ie()))}populateOverlays(t,e,n){const s=[];return n.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{e.set(l,c)})})}computeViews(t,e,n,s){let a=tu();const l=sy(),c=function(){return sy()}();return e.forEach((h,d)=>{const p=n.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof _A)?a=a.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),ry(p.mutation,d,p.mutation.getFieldMask(),bi.now())):l.set(d.key,zc.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,p)=>l.set(d,p)),e.forEach((d,p)=>{var y;return c.set(d,new fY(p,(y=l.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,e){const n=sy();let s=new Wn((l,c)=>l-c),a=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let p=n.get(h)||zc.empty();p=c.applyToLocalView(d,p),n.set(h,p);const y=(s.get(c.batchId)||Ie()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=V4();p.forEach(b=>{if(!a.has(b)){const E=H4(e.get(b),n.get(b));E!==null&&y.set(b,E),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return yt.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,s){return function(l){return Xt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):D4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-a.size):yt.resolve(Yu());let c=my,h=a;return l.next(d=>yt.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?yt.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{h=h.insert(p,b)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,Ie())).next(p=>({batchId:c,changes:RK(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xt(e)).next(n=>{let s=Om();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const a=e.collectionGroup;let l=Om();return this.indexManager.getCollectionParents(t,a).next(c=>yt.forEach(c,h=>{const d=function(y,b){return new dg(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,n,s).next(p=>{p.forEach((y,b)=>{l=l.insert(y,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,a,s))).next(l=>{a.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,ss.newInvalidDocument(p)))});let c=Om();return l.forEach((h,d)=>{const p=a.get(h);p!==void 0&&ry(p.mutation,d,zc.empty(),bi.now()),vA(e,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return yt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Df(s.createTime)}}(e)),yt.resolve()}getNamedQuery(t,e){return yt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:sY(s.bundledQuery),readTime:Df(s.readTime)}}(e)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(){this.overlays=new Wn(Xt.comparator),this.Qr=new Map}getOverlay(t,e){return yt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Yu();return yt.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((s,a)=>{this.St(t,e,a)}),yt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.Qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),yt.resolve()}getOverlaysForCollection(t,e,n){const s=Yu(),a=e.length+1,l=new Xt(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>n&&s.set(h.getKey(),h)}return yt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let a=new Wn((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=Yu(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Yu(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return yt.resolve(c)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(n.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new BK(e,n));let a=this.Qr.get(e);a===void 0&&(a=Ie(),this.Qr.set(e,a)),this.Qr.set(e,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.$r=new _i(Mi.Ur),this.Kr=new _i(Mi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const n=new Mi(t,e);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.zr(new Mi(t,e))}jr(t,e){t.forEach(n=>this.removeReference(n,e))}Hr(t){const e=new Xt(new In([])),n=new Mi(e,t),s=new Mi(e,t+1),a=[];return this.Kr.forEachInRange([n,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Xt(new In([])),n=new Mi(e,t),s=new Mi(e,t+1);let a=Ie();return this.Kr.forEachInRange([n,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new Mi(t,0),n=this.$r.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Mi{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Xt.comparator(t.key,e.key)||ye(t.Zr,e.Zr)}static Wr(t,e){return ye(t.Zr,e.Zr)||Xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new _i(Mi.Ur)}checkEmpty(t){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new UK(a,e,n,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Mi(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return yt.resolve(l)}lookupMutationBatch(t,e){return yt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ti(n),a=s<0?0:s;return yt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?sK:this.nr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Mi(e,0),s=new Mi(e,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,s],l=>{const c=this.ei(l.Zr);a.push(c)}),yt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new _i(ye);return e.forEach(s=>{const a=new Mi(s,0),l=new Mi(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{n=n.add(c.Zr)})}),yt.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let a=n;Xt.isDocumentKey(a)||(a=a.child(""));const l=new Mi(new Xt(a),0);let c=new _i(ye);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Zr)),!0)},l),yt.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(n=>{const s=this.ei(n);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Mn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return yt.forEach(e.mutations,s=>{const a=new Mi(s.key,e.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=n})}sr(t){}containsKey(t,e){const n=new Mi(e,0),s=this.Xr.firstAfterOrEqual(n);return yt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,yt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(t){this.ii=t,this.docs=function(){return new Wn(Xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),a=s?s.size:0,l=this.ii(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return yt.resolve(n?n.document.mutableCopy():ss.newInvalidDocument(e))}getEntries(t,e){let n=tu();return e.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():ss.newInvalidDocument(s))}),yt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let a=tu();const l=e.path,c=new Xt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||tK(JW(p),n)<=0||(s.has(p.key)||vA(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return yt.resolve(a)}getAllFromCollectionGroup(t,e,n,s){se(9500)}si(t,e){return yt.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new _Y(this)}getSize(t){return yt.resolve(this.size)}}class _Y extends dY{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(n)}),yt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(t){this.persistence=t,this.oi=new cd(e=>YC(e),XC),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new eR,this.targetCount=0,this.ui=Xp.cr()}forEachTarget(t,e){return this.oi.forEach((n,s)=>e(s)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this._i&&(this._i=e),yt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Xp(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,yt.resolve()}updateTargetData(t,e){return this.Tr(e),yt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,e,n){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),yt.waitFor(a).next(()=>s)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,e){const n=this.oi.get(e)||null;return yt.resolve(n)}addMatchingKeys(t,e,n){return this.ai.Gr(e,n),yt.resolve()}removeMatchingKeys(t,e,n){this.ai.jr(e,n);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),yt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),yt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ai.Yr(e);return yt.resolve(n)}containsKey(t,e){return yt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(t,e){this.ci={},this.overlays={},this.li=new pA(0),this.hi=!1,this.hi=!0,this.Pi=new yY,this.referenceDelegate=t(this),this.Ti=new EY(this),this.indexManager=new rY,this.remoteDocumentCache=function(s){return new bY(s)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new iY(e),this.Ei=new gY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new mY,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ci[t.toKey()];return n||(n=new vY(e,this.referenceDelegate),this.ci[t.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,n){It("MemoryPersistence","Starting transaction:",t);const s=new AY(this.li.next());return this.referenceDelegate.di(),n(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(t,e){return yt.or(Object.values(this.ci).map(n=>()=>n.containsKey(t,e)))}}class AY extends nK{constructor(t){super(),this.currentSequenceNumber=t}}class nR{constructor(t){this.persistence=t,this.Vi=new eR,this.mi=null}static fi(t){return new nR(t)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(t,e,n){return this.Vi.addReference(n,e),this.gi.delete(n.toString()),yt.resolve()}removeReference(t,e,n){return this.Vi.removeReference(n,e),this.gi.add(n.toString()),yt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),yt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.gi,n=>{const s=Xt.fromPath(n);return this.pi(t,s).next(a=>{a||e.removeEntry(s,ie.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(n=>{n?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return yt.or([()=>yt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class mE{constructor(t,e){this.persistence=t,this.yi=new cd(n=>aK(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=hY(this,e)}static fi(t,e){return new mE(t,e)}di(){}Ai(t){return yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>e.next(s=>n+s))}br(t){let e=0;return this.yr(t,n=>{e++}).next(()=>e)}yr(t,e){return yt.forEach(this.yi,(n,s)=>this.Dr(t,n,s).next(a=>a?yt.resolve():e(s)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(t,l=>this.Dr(t,l,e).next(c=>{c||(n++,a.removeEntry(l,ie.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),yt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.yi.set(n,t.currentSequenceNumber),yt.resolve()}removeReference(t,e,n){return this.yi.set(n,t.currentSequenceNumber),yt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),yt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=d_(t.data.value)),e}Dr(t,e,n){return yt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return yt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.ds=n,this.As=s}static Rs(t,e){let n=Ie(),s=Ie();for(const a of e.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new iR(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return w7()?8:iK(cs())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,n,s){const a={result:null};return this.ws(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(t,e,s,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new SY;return this.Ss(t,e,l).next(c=>{if(a.result=c,this.fs)return this.Ds(t,e,l,c.size)})}).next(()=>a.result)}Ds(t,e,n,s){return n.documentReadCount<this.gs?(gf()<=_e.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",mf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),yt.resolve()):(gf()<=_e.DEBUG&&It("QueryEngine","Query:",mf(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ps*s?(gf()<=_e.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",mf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ja(e))):yt.resolve())}ws(t,e){if(pO(e))return yt.resolve(null);let n=Ja(e);return this.indexManager.getIndexType(t,n).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=u1(e,null,"F"),n=Ja(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const l=Ie(...a);return this.ys.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,n).next(h=>{const d=this.vs(e,c);return this.Cs(e,d,l,h.readTime)?this.ws(t,u1(e,null,"F")):this.Fs(t,d,e,h)}))})))}bs(t,e,n,s){return pO(e)||s.isEqual(ie.min())?yt.resolve(null):this.ys.getDocuments(t,n).next(a=>{const l=this.vs(e,a);return this.Cs(e,l,n,s)?yt.resolve(null):(gf()<=_e.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mf(e)),this.Fs(t,l,e,ZW(s,my)).next(c=>c))})}vs(t,e){let n=new _i(N4(t));return e.forEach((s,a)=>{vA(t,a)&&(n=n.add(a))}),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,n){return gf()<=_e.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",mf(e)),this.ys.getDocumentsMatchingQuery(t,e,Xc.min(),n)}Fs(t,e,n,s){return this.ys.getDocumentsMatchingQuery(t,n,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="LocalStore",TY=3e8;class xY{constructor(t,e,n,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new Wn(ye),this.Os=new cd(a=>YC(a),XC),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(n)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pY(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function CY(i,t,e,n){return new xY(i,t,e,n)}async function sF(i,t){const e=Ce(i);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,e.Ls(t),e.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let h=Ie();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of a){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function rF(i){const t=Ce(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function RY(i,t){const e=Ce(i),n=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const c=[];t.targetChanges.forEach((p,y)=>{const b=s.get(y);if(!b)return;c.push(e.Ti.removeMatchingKeys(a,p.removedDocuments,y).next(()=>e.Ti.addMatchingKeys(a,p.addedDocuments,y)));let E=b.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?E=E.withResumeToken(qi.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,n)),s=s.insert(y,E),function(S,C,x){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=TY?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(b,E,p)&&c.push(e.Ti.updateTargetData(a,E))});let h=tu(),d=Ie();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(IY(a,l,t.documentUpdates).next(p=>{h=p.qs,d=p.Qs})),!n.isEqual(ie.min())){const p=e.Ti.getLastRemoteSnapshotVersion(a).next(y=>e.Ti.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(p)}return yt.waitFor(c).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(e.xs=s,a))}function IY(i,t,e){let n=Ie(),s=Ie();return e.forEach(a=>n=n.add(a)),t.getEntries(i,n).next(a=>{let l=tu();return e.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(ie.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):It(sR,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:s}})}function kY(i,t){const e=Ce(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return e.Ti.getTargetData(n,t).next(a=>a?(s=a,yt.resolve(s)):e.Ti.allocateTargetId(n).next(l=>(s=new jc(t,l,"TargetPurposeListen",n.currentSequenceNumber),e.Ti.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=e.xs.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(n.targetId,n),e.Os.set(t,n.targetId)),n})}async function m1(i,t,e){const n=Ce(i),s=n.xs.get(t),a=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ug(l))throw l;It(sR,`Failed to update sequence numbers for target ${t}: ${l}`)}n.xs=n.xs.remove(t),n.Os.delete(s.target)}function CO(i,t,e){const n=Ce(i);let s=ie.min(),a=Ie();return n.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=Ce(h),b=y.Os.get(p);return b!==void 0?yt.resolve(y.xs.get(b)):y.Ti.getTargetData(d,p)}(n,l,Ja(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(l,t,e?s:ie.min(),e?a:Ie())).next(c=>(PY(n,TK(t),c),{documents:c,$s:a})))}function PY(i,t,e){let n=i.Ns.get(t)||ie.min();e.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),i.Ns.set(t,n)}class RO{constructor(){this.activeTargetIds=PK()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MY{constructor(){this.xo=new RO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,n){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new RO,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="ConnectivityMonitor";class kO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){It(IO,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){It(IO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q0=null;function y1(){return q0===null?q0=function(){return 268435456+Math.round(2147483648*Math.random())}():q0++,"0x"+q0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="RestConnection",DY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LY{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${n}/databases/${s}`,this.Go=this.databaseId.database===hE?`project_id=${n}`:`project_id=${n}&database_id=${s}`}zo(t,e,n,s,a){const l=y1(),c=this.jo(t,e.toUriEncodedString());It(fT,`Sending RPC '${t}' ${l}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(c),p=og(d);return this.Jo(t,c,h,n,p).then(y=>(It(fT,`Received RPC '${t}' ${l}: `,y),y),y=>{throw Gp(fT,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",n),y})}Yo(t,e,n,s,a,l){return this.zo(t,e,n,s,a)}Ho(t,e,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),n&&n.headers.forEach((s,a)=>t[a]=s)}jo(t,e){const n=DY[t];return`${this.Ko}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="WebChannelConnection";class FY extends LY{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,a){const l=y1();return new Promise((c,h)=>{const d=new u4;d.setWithCredentials(!0),d.listenOnce(h4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case h_.NO_ERROR:const y=d.getResponseJson();It(Yi,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case h_.TIMEOUT:It(Yi,`RPC '${t}' ${l} timed out`),h(new Lt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case h_.HTTP_ERROR:const b=d.getStatus();if(It(Yi,`RPC '${t}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const S=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(N)>=0?N:bt.UNKNOWN}(A.status);h(new Lt(S,A.message))}else h(new Lt(bt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Lt(bt.UNAVAILABLE,"Connection failed."));break;default:se(9055,{h_:t,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{It(Yi,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);It(Yi,`RPC '${t}' ${l} sending request:`,s),d.send(e,"POST",p,n,15)})}I_(t,e,n){const s=y1(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=p4(),c=f4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,e,n),h.encodeInitMessageHeaders=!0;const p=a.join("");It(Yi,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.E_(y);let b=!1,E=!1;const A=new NY({Zo:C=>{E?It(Yi,`Not sending because RPC '${t}' stream ${s} is closed:`,C):(b||(It(Yi,`Opening RPC '${t}' stream ${s} transport.`),y.open(),b=!0),It(Yi,`RPC '${t}' stream ${s} sending:`,C),y.send(C))},Xo:()=>y.close()}),S=(C,x,N)=>{C.listen(x,M=>{try{N(M)}catch(P){setTimeout(()=>{throw P},0)}})};return S(y,Mm.EventType.OPEN,()=>{E||(It(Yi,`RPC '${t}' stream ${s} transport opened.`),A.__())}),S(y,Mm.EventType.CLOSE,()=>{E||(E=!0,It(Yi,`RPC '${t}' stream ${s} transport closed`),A.u_(),this.d_(y))}),S(y,Mm.EventType.ERROR,C=>{E||(E=!0,Gp(Yi,`RPC '${t}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.u_(new Lt(bt.UNAVAILABLE,"The operation could not be completed")))}),S(y,Mm.EventType.MESSAGE,C=>{var x;if(!E){const N=C.data[0];Mn(!!N,16349);const M=N,P=(M==null?void 0:M.error)||((x=M[0])===null||x===void 0?void 0:x.error);if(P){It(Yi,`RPC '${t}' stream ${s} received error:`,P);const F=P.status;let W=function(L){const T=ei[L];if(T!==void 0)return q4(T)}(F),D=P.message;W===void 0&&(W=bt.INTERNAL,D="Unknown error status: "+F+" with message "+P.message),E=!0,A.u_(new Lt(W,D)),y.close()}else It(Yi,`RPC '${t}' stream ${s} received:`,N),A.c_(N)}}),S(c,d4.STAT_EVENT,C=>{C.stat===i1.PROXY?It(Yi,`RPC '${t}' stream ${s} detected buffering proxy`):C.stat===i1.NOPROXY&&It(Yi,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function pT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(i){return new WK(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(t,e,n=1e3,s=1.5,a=6e4){this.xi=t,this.timerId=e,this.A_=n,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),s=Math.max(0,e-n);s>0&&It("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="PersistentStream";class VY{constructor(t,e,n,s,a,l,c,h){this.xi=t,this.S_=n,this.D_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new aF(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===bt.RESOURCE_EXHAUSTED?(Tl(e.toString()),Tl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.v_===e&&this.z_(n,s)},n=>{t(()=>{const s=new Lt(bt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(s)})})}z_(t,e){const n=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{n(()=>this.j_(s))}),this.stream.onMessage(s=>{n(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return It(PO,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(It(PO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UY extends VY{constructor(t,e,n,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,l),this.serializer=a}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=YK(this.serializer,t),n=function(a){if(!("targetChange"in a))return ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ie.min():l.readTime?Df(l.readTime):ie.min()}(t);return this.listener.Y_(e,n)}Z_(t){const e={};e.database=SO(this.serializer),e.addTarget=function(a,l){let c;const h=l.target;if(c=l1(h)?{documents:XK(a,h)}:{query:QK(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=K4(a,l.resumeToken);const d=f1(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ie.min())>0){c.readTime=p1(a,l.snapshotVersion.toTimestamp());const d=f1(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const n=JK(this.serializer,t);n&&(e.labels=n),this.Q_(e)}X_(t){const e={};e.database=SO(this.serializer),e.removeTarget=t,this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{}class zY extends BY{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Lt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,n,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(t,g1(e,n),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Lt(bt.UNKNOWN,a.toString())})}Yo(t,e,n,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(t,g1(e,n),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Lt(bt.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class jY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Tl(e),this.ua=!1):It("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RemoteStore";class HY{constructor(t,e,n,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{n.enqueueAndForget(async()=>{ib(this)&&(It(Qp,"Restarting streams for network reachability change."),await async function(h){const d=Ce(h);d.da.add(4),await nb(d),d.Va.set("Unknown"),d.da.delete(4),await SA(d)}(this))})}),this.Va=new jY(n,s)}}async function SA(i){if(ib(i))for(const t of i.Aa)await t(!0)}async function nb(i){for(const t of i.Aa)await t(!1)}function oF(i,t){const e=Ce(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),lR(e)?oR(e):fg(e).N_()&&aR(e,t))}function rR(i,t){const e=Ce(i),n=fg(e);e.Ea.delete(t),n.N_()&&lF(e,t),e.Ea.size===0&&(n.N_()?n.k_():ib(e)&&e.Va.set("Unknown"))}function aR(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fg(i).Z_(t)}function lF(i,t){i.ma.Ke(t),fg(i).X_(t)}function oR(i){i.ma=new HK({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),fg(i).start(),i.Va.ca()}function lR(i){return ib(i)&&!fg(i).O_()&&i.Ea.size>0}function ib(i){return Ce(i).da.size===0}function cF(i){i.ma=void 0}async function $Y(i){i.Va.set("Online")}async function qY(i){i.Ea.forEach((t,e)=>{aR(i,t)})}async function GY(i,t){cF(i),lR(i)?(i.Va.Pa(t),oR(i)):i.Va.set("Unknown")}async function WY(i,t,e){if(i.Va.set("Online"),t instanceof W4&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(i,t)}catch(n){It(Qp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await MO(i,n)}else if(t instanceof p_?i.ma.Xe(t):t instanceof G4?i.ma.ot(t):i.ma.nt(t),!e.isEqual(ie.min()))try{const n=await rF(i.localStore);e.compareTo(n)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ea.get(d);p&&a.Ea.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=a.Ea.get(h);if(!p)return;a.Ea.set(h,p.withResumeToken(qi.EMPTY_BYTE_STRING,p.snapshotVersion)),lF(a,h);const y=new jc(p.target,h,d,p.sequenceNumber);aR(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(i,e)}catch(n){It(Qp,"Failed to raise snapshot:",n),await MO(i,n)}}async function MO(i,t,e){if(!ug(t))throw t;i.da.add(1),await nb(i),i.Va.set("Offline"),e||(e=()=>rF(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{It(Qp,"Retrying IndexedDB access"),await e(),i.da.delete(1),await SA(i)})}async function OO(i,t){const e=Ce(i);e.asyncQueue.verifyOperationInProgress(),It(Qp,"RemoteStore received new credentials");const n=ib(e);e.da.add(3),await nb(e),n&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await SA(e)}async function KY(i,t){const e=Ce(i);t?(e.da.delete(2),await SA(e)):t||(e.da.add(2),await nb(e),e.Va.set("Unknown"))}function fg(i){return i.fa||(i.fa=function(e,n,s){const a=Ce(e);return a.oa(),new UY(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{e_:$Y.bind(null,i),n_:qY.bind(null,i),i_:GY.bind(null,i),Y_:WY.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),lR(i)?oR(i):i.Va.set("Unknown")):(await i.fa.stop(),cF(i))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,e,n,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Kh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,a){const l=Date.now()+n,c=new cR(t,e,l,s,a);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uF(i,t){if(Tl("AsyncQueue",`${t}: ${i}`),ug(i))return new Lt(bt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{static emptySet(t){return new Lf(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Xt.comparator(e.key,n.key):(e,n)=>Xt.comparator(e.key,n.key),this.keyedMap=Om(),this.sortedSet=new Wn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Lf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Lf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.pa=new Wn(Xt.comparator)}track(t){const e=t.doc.key,n=this.pa.get(e);n?t.type!==0&&n.type===3?this.pa=this.pa.insert(e,t):t.type===3&&n.type!==1?this.pa=this.pa.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.pa=this.pa.remove(e):t.type===1&&n.type===2?this.pa=this.pa.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):se(63341,{Vt:t,ya:n}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,n)=>{t.push(n)}),t}}class Zp{constructor(t,e,n,s,a,l,c,h,d){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,n,s,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new Zp(t,e,Lf.emptySet(e),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class XY{constructor(){this.queries=LO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=Ce(e),a=s.queries;s.queries=LO(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(n)})})(this,new Lt(bt.ABORTED,"Firestore shutting down"))}}function LO(){return new cd(i=>L4(i),yA)}async function QY(i,t){const e=Ce(i);let n=3;const s=t.query;let a=e.queries.get(s);a?!a.Da()&&t.va()&&(n=2):(a=new YY,n=t.va()?0:1);try{switch(n){case 0:a.ba=await e.onListen(s,!0);break;case 1:a.ba=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const c=uF(l,`Initialization of query '${mf(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,a),a.Sa.push(t),t.Fa(e.onlineState),a.ba&&t.Ma(a.ba)&&uR(e)}async function ZY(i,t){const e=Ce(i),n=t.query;let s=3;const a=e.queries.get(n);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.va()?0:1:!a.Da()&&t.va()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function JY(i,t){const e=Ce(i);let n=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const c of l.Sa)c.Ma(s)&&(n=!0);l.ba=s}}n&&uR(e)}function tX(i,t,e){const n=Ce(i),s=n.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);n.queries.delete(t)}function uR(i){i.Ca.forEach(t=>{t.next()})}var v1,NO;(NO=v1||(v1={})).xa="default",NO.Cache="cache";class eX{constructor(t,e,n){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new Zp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const n=e!=="Offline";return(!this.options.Qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Zp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==v1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t){this.key=t}}class dF{constructor(t){this.key=t}}class nX{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ie(),this.mutatedKeys=Ie(),this.Za=N4(t),this.Xa=new Lf(this.Za)}get eu(){return this.Ha}tu(t,e){const n=e?e.nu:new DO,s=e?e.Xa:this.Xa;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const b=s.get(p),E=vA(this.query,y)?y:null,A=!!b&&this.mutatedKeys.has(b.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;b&&E?b.data.isEqual(E.data)?A!==S&&(n.track({type:3,doc:E}),C=!0):this.ru(b,E)||(n.track({type:2,doc:E}),C=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(c=!0)):!b&&E?(n.track({type:0,doc:E}),C=!0):b&&!E&&(n.track({type:1,doc:b}),C=!0,(h||d)&&(c=!0)),C&&(E?(l=l.add(E),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Xa:l,nu:n,Cs:c,mutatedKeys:a}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const a=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const l=t.nu.wa();l.sort((p,y)=>function(E,A){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:C})}};return S(E)-S(A)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(n),s=s!=null&&s;const c=e&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new Zp(this.query,t.Xa,a,l,t.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new DO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ie(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const e=[];return t.forEach(n=>{this.Ya.has(n)||e.push(new dF(n))}),this.Ya.forEach(n=>{t.has(n)||e.push(new hF(n))}),e}au(t){this.Ha=t.$s,this.Ya=Ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Zp.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const hR="SyncEngine";class iX{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class sX{constructor(t){this.key=t,this.cu=!1}}class rX{constructor(t,e,n,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new cd(c=>L4(c),yA),this.Pu=new Map,this.Tu=new Set,this.Iu=new Wn(Xt.comparator),this.Eu=new Map,this.du=new eR,this.Au={},this.Ru=new Map,this.Vu=Xp.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function aX(i,t,e=!0){const n=yF(i);let s;const a=n.hu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await fF(n,t,e,!0),s}async function oX(i,t){const e=yF(i);await fF(e,t,!0,!1)}async function fF(i,t,e,n){const s=await kY(i.localStore,Ja(t)),a=s.targetId,l=i.sharedClientState.addLocalQueryTarget(a,e);let c;return n&&(c=await lX(i,t,a,l==="current",s.resumeToken)),i.isPrimaryClient&&e&&oF(i.remoteStore,s),c}async function lX(i,t,e,n,s){i.fu=(y,b,E)=>async function(S,C,x,N){let M=C.view.tu(x);M.Cs&&(M=await CO(S.localStore,C.query,!1).then(({documents:D})=>C.view.tu(D,M)));const P=N&&N.targetChanges.get(C.targetId),F=N&&N.targetMismatches.get(C.targetId)!=null,W=C.view.applyChanges(M,S.isPrimaryClient,P,F);return VO(S,C.targetId,W.ou),W.snapshot}(i,y,b,E);const a=await CO(i.localStore,t,!0),l=new nX(t,a.$s),c=l.tu(a.documents),h=eb.createSynthesizedTargetChangeForCurrentChange(e,n&&i.onlineState!=="Offline",s),d=l.applyChanges(c,i.isPrimaryClient,h);VO(i,e,d.ou);const p=new iX(t,e,l);return i.hu.set(t,p),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),d.snapshot}async function cX(i,t,e){const n=Ce(i),s=n.hu.get(t),a=n.Pu.get(s.targetId);if(a.length>1)return n.Pu.set(s.targetId,a.filter(l=>!yA(l,t))),void n.hu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await m1(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),e&&rR(n.remoteStore,s.targetId),b1(n,s.targetId)}).catch(fA)):(b1(n,s.targetId),await m1(n.localStore,s.targetId,!0))}async function uX(i,t){const e=Ce(i),n=e.hu.get(t),s=e.Pu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),rR(e.remoteStore,n.targetId))}async function pF(i,t){const e=Ce(i);try{const n=await RY(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Eu.get(a);l&&(Mn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?Mn(l.cu,14607):s.removedDocuments.size>0&&(Mn(l.cu,42227),l.cu=!1))}),await mF(e,n,t)}catch(n){await fA(n)}}function FO(i,t,e){const n=Ce(i);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.hu.forEach((a,l)=>{const c=l.view.Fa(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ce(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const b of y.Sa)b.Fa(c)&&(d=!0)}),d&&uR(h)}(n.eventManager,t),s.length&&n.lu.Y_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function hX(i,t,e){const n=Ce(i);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Eu.get(t),a=s&&s.key;if(a){let l=new Wn(Xt.comparator);l=l.insert(a,ss.newNoDocument(a,ie.min()));const c=Ie().add(a),h=new EA(ie.min(),new Map,new Wn(ye),l,c);await pF(n,h),n.Iu=n.Iu.remove(a),n.Eu.delete(t),dR(n)}else await m1(n.localStore,t,!1).then(()=>b1(n,t,e)).catch(fA)}function b1(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.Pu.get(t))i.hu.delete(n),e&&i.lu.gu(n,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(n=>{i.du.containsKey(n)||gF(i,n)})}function gF(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(rR(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),dR(i))}function VO(i,t,e){for(const n of e)n instanceof hF?(i.du.addReference(n.key,t),dX(i,n)):n instanceof dF?(It(hR,"Document no longer in limbo: "+n.key),i.du.removeReference(n.key,t),i.du.containsKey(n.key)||gF(i,n.key)):se(19791,{pu:n})}function dX(i,t){const e=t.key,n=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(n)||(It(hR,"New document in limbo: "+e),i.Tu.add(n),dR(i))}function dR(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Xt(In.fromString(t)),n=i.Vu.next();i.Eu.set(n,new sX(e)),i.Iu=i.Iu.insert(e,n),oF(i.remoteStore,new jc(Ja(O4(e.path)),n,"TargetPurposeLimboResolution",pA.le))}}async function mF(i,t,e){const n=Ce(i),s=[],a=[],l=[];n.hu.isEmpty()||(n.hu.forEach((c,h)=>{l.push(n.fu(h,t,e).then(d=>{var p;if((d||e)&&n.isPrimaryClient){const y=d?!d.fromCache:(p=e==null?void 0:e.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=iR.Rs(h.targetId,d);a.push(y)}}))}),await Promise.all(l),n.lu.Y_(s),await async function(h,d){const p=Ce(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>yt.forEach(d,b=>yt.forEach(b.ds,E=>p.persistence.referenceDelegate.addReference(y,b.targetId,E)).next(()=>yt.forEach(b.As,E=>p.persistence.referenceDelegate.removeReference(y,b.targetId,E)))))}catch(y){if(!ug(y))throw y;It(sR,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const E=p.xs.get(b),A=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(A);p.xs=p.xs.insert(b,S)}}}(n.localStore,a))}async function fX(i,t){const e=Ce(i);if(!e.currentUser.isEqual(t)){It(hR,"User change. New user:",t.toKey());const n=await sF(e.localStore,t);e.currentUser=t,function(a,l){a.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Lt(bt.CANCELLED,l))})}),a.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await mF(e,n.ks)}}function pX(i,t){const e=Ce(i),n=e.Eu.get(t);if(n&&n.cu)return Ie().add(n.key);{let s=Ie();const a=e.Pu.get(t);if(!a)return s;for(const l of a){const c=e.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function yF(i){const t=Ce(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=pF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hX.bind(null,t),t.lu.Y_=JY.bind(null,t.eventManager),t.lu.gu=tX.bind(null,t.eventManager),t}class yE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=AA(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return CY(this.persistence,new wY,t.initialUser,this.serializer)}Su(t){return new iF(nR.fi,this.serializer)}bu(t){return new MY}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yE.provider={build:()=>new yE};class gX extends yE{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Mn(this.persistence.referenceDelegate instanceof mE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new cY(n,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new iF(n=>mE.fi(n,e),this.serializer)}}class _1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>FO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=fX.bind(null,this.syncEngine),await KY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new XY}()}createDatastore(t){const e=AA(t.databaseInfo.databaseId),n=function(a){return new FY(a)}(t.databaseInfo);return function(a,l,c,h){return new zY(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,s,a,l,c){return new HY(n,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,e=>FO(this.syncEngine,e,0),function(){return kO.C()?new kO:new OY}())}createSyncEngine(t,e){return function(s,a,l,c,h,d,p){const y=new rX(s,a,l,c,h,d);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const a=Ce(s);It(Qp,"RemoteStore shutting down."),a.da.add(5),await nb(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}_1.provider={build:()=>new _1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Tl("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="FirestoreClient";class yX{constructor(t,e,n,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=is.UNAUTHENTICATED,this.clientId=YW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{It(eu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(It(eu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=uF(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function gT(i,t){i.asyncQueue.verifyOperationInProgress(),It(eu,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(async s=>{n.isEqual(s)||(await sF(t.localStore,s),n=s)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function UO(i,t){i.asyncQueue.verifyOperationInProgress();const e=await vX(i);It(eu,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>OO(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,s)=>OO(t.remoteStore,s)),i._onlineComponents=t}async function vX(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){It(eu,"Using user provided OfflineComponentProvider");try{await gT(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===bt.FAILED_PRECONDITION||s.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Gp("Error using user provided cache. Falling back to memory cache: "+e),await gT(i,new yE)}}else It(eu,"Using default OfflineComponentProvider"),await gT(i,new gX(void 0));return i._offlineComponents}async function bX(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(It(eu,"Using user provided OnlineComponentProvider"),await UO(i,i._uninitializedComponentsProvider._online)):(It(eu,"Using default OnlineComponentProvider"),await UO(i,new _1))),i._onlineComponents}async function _X(i){const t=await bX(i),e=t.eventManager;return e.onListen=aX.bind(null,t.syncEngine),e.onUnlisten=cX.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=oX.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=uX.bind(null,t.syncEngine),e}function EX(i,t,e={}){const n=new Kh;return i.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const p=new mX({next:b=>{p.xu(),l.enqueueAndForget(()=>ZY(a,y)),b.fromCache&&h.source==="server"?d.reject(new Lt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new eX(c,p,{includeMetadataChanges:!0,Qa:!0});return QY(a,y)}(await _X(i),i.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(i,t,e){if(!e)throw new Lt(bt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function SX(i,t,e,n){if(t===!0&&n===!0)throw new Lt(bt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function zO(i){if(Xt.isDocumentKey(i))throw new Lt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wA(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":se(12329,{type:typeof i})}function E1(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Lt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wA(i);throw new Lt(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="firestore.googleapis.com",jO=!0;class HO{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Lt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bF,this.ssl=jO}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:jO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nF;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oY)throw new Lt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SX("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vF((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Lt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Lt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Lt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fR{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Lt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jW;switch(n.type){case"firstParty":return new GW(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=BO.get(e);n&&(It("ComponentProvider","Removing Datastore"),BO.delete(e),n.terminate())}(this),Promise.resolve()}}function wX(i,t,e,n={}){var s;i=E1(i,fR);const a=og(t),l=i._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),h=`${t}:${e}`;a&&(PC(`https://${h}`),MC("Firestore",!0)),l.host!==bF&&l.host!==h&&Gp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:n});if(!Xh(d,c)&&(i._setSettings(d),n.mockUserToken)){let p,y;if(typeof n.mockUserToken=="string")p=n.mockUserToken,y=is.MOCK_USER;else{p=xN(n.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new Lt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new is(b)}i._authCredentials=new HW(new m4(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ud(this.firestore,t,this._query)}}class Il{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Il(this.firestore,t,this._key)}}class Nf extends ud{constructor(t,e,n){super(t,e,O4(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Il(this.firestore,null,new Xt(t))}withConverter(t){return new Nf(this.firestore,t,this._path)}}function Ff(i,t,...e){if(i=ia(i),AX("collection","path",t),i instanceof fR){const n=In.fromString(t,...e);return zO(n),new Nf(i,null,n)}{if(!(i instanceof Il||i instanceof Nf))throw new Lt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(In.fromString(t,...e));return zO(n),new Nf(i.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="AsyncQueue";class qO{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new aF(this,"async_queue_retry"),this.rc=()=>{const n=pT();n&&It($O,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=t;const e=pT();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=pT();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Kh;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ug(t))throw t;It($O,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(n=>{throw this.Xu=n,this.ec=!1,Tl("INTERNAL UNHANDLED ERROR: ",GO(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=e,e}enqueueAfterDelay(t,e,n){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const s=cR.createAndSchedule(this,t,e,n,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&se(47125,{cc:GO(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function GO(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class _F extends fR{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new qO,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qO(t),this._firestoreClient=void 0,await t}}}function TX(i,t){const e=typeof i=="object"?i:LC(),n=typeof i=="string"?i:hE,s=uA(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=SN("firestore");a&&wX(s,...a)}return s}function xX(i){if(i._terminated)throw new Lt(bt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||CX(i),i._firestoreClient}function CX(i){var t,e,n;const s=i._freezeSettings(),a=function(c,h,d,p){return new cK(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,vF(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new yX(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jp(qi.fromBase64String(t))}catch(e){throw new Lt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jp(qi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Lt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=/^__.*__$/;function SF(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ic:i})}}class mR{constructor(t,e,n,s,a,l){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new mR(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:n,Rc:!1});return s.Vc(t),s}mc(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:n,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return A1(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(SF(this.Ic)&&RX.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class IX{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||AA(t)}bc(t,e,n,s=!1){return new mR({Ic:t,methodName:e,wc:n,path:rs.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kX(i){const t=i._freezeSettings(),e=AA(i._databaseId);return new IX(i._databaseId,!!t.ignoreUndefinedProperties,e)}function PX(i,t,e,n=!1){return yR(e,i.bc(n?4:3,t))}function yR(i,t){if(wF(i=ia(i)))return OX("Unsupported field value:",t,i),MX(i,t);if(i instanceof AF)return function(n,s){if(!SF(s.Ic))throw s.gc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const c of n){let h=yR(c,s.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(i,t)}return function(n,s){if((n=ia(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return MK(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=bi.fromDate(n);return{timestampValue:p1(s.serializer,a)}}if(n instanceof bi){const a=new bi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:p1(s.serializer,a)}}if(n instanceof pR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jp)return{bytesValue:K4(s.serializer,n._byteString)};if(n instanceof Il){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Y4(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof gR)return function(l,c){return{mapValue:{fields:{[T4]:{stringValue:x4},[dE]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return QC(c.serializer,d)})}}}}}}(n,s);throw s.gc(`Unsupported field value: ${wA(n)}`)}(i,t)}function MX(i,t){const e={};return b4(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hg(i,(n,s)=>{const a=yR(s,t.Ac(n));a!=null&&(e[n]=a)}),{mapValue:{fields:e}}}function wF(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof bi||i instanceof pR||i instanceof Jp||i instanceof Il||i instanceof AF||i instanceof gR)}function OX(i,t,e){if(!wF(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const n=wA(e);throw n==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+n)}}const DX=new RegExp("[~\\*/\\[\\]]");function LX(i,t,e){if(t.search(DX)>=0)throw A1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new EF(...t.split("."))._internalPath}catch{throw A1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function A1(i,t,e,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${n}`),l&&(h+=` in document ${s}`),h+=")"),new Lt(bt.INVALID_ARGUMENT,c+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(t,e,n,s,a){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Il(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(TA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class NX extends TF{data(){return super.data()}}function TA(i,t){return typeof t=="string"?LX(i,t):t instanceof EF?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Lt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vR{}class xF extends vR{}function Vf(i,t,...e){let n=[];t instanceof vR&&n.push(t),n=n.concat(e),function(a){const l=a.filter(h=>h instanceof bR).length,c=a.filter(h=>h instanceof xA).length;if(l>1||l>0&&c>0)throw new Lt(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)i=s._apply(i);return i}class xA extends xF{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new xA(t,e,n)}_apply(t){const e=this._parse(t);return IF(t._query,e),new ud(t.firestore,t.converter,c1(t._query,e))}_parse(t){const e=kX(t.firestore);return function(a,l,c,h,d,p,y){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Lt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){KO(y,p);const A=[];for(const S of y)A.push(WO(h,a,S));b={arrayValue:{values:A}}}else b=WO(h,a,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||KO(y,p),b=PX(c,l,y,p==="in"||p==="not-in");return ri.create(d,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function CF(i,t,e){const n=t,s=TA("where",i);return xA._create(s,n,e)}class bR extends vR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new bR(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:sa.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)IF(l,h),l=c1(l,h)}(t._query,e),new ud(t.firestore,t.converter,c1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _R extends xF{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _R(t,e)}_apply(t){const e=function(s,a,l){if(s.startAt!==null)throw new Lt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Lt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _y(a,l)}(t._query,this._field,this._direction);return new ud(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new dg(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function RF(i,t="asc"){const e=t,n=TA("orderBy",i);return _R._create(n,e)}function WO(i,t,e){if(typeof(e=ia(e))=="string"){if(e==="")throw new Lt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D4(t)&&e.indexOf("/")!==-1)throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(In.fromString(e));if(!Xt.isDocumentKey(n))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return lO(i,new Xt(n))}if(e instanceof Il)return lO(i,e._key);throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wA(e)}.`)}function KO(i,t){if(!Array.isArray(i)||i.length===0)throw new Lt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IF(i,t){const e=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Lt(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Lt(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class VX{convertValue(t,e="none"){switch(Jc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw se(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return hg(t,(s,a)=>{n[s]=this.convertValue(a,e)}),n}convertVectorValue(t){var e,n,s;const a=(s=(n=(e=t.fields)===null||e===void 0?void 0:e[dE].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(l=>qn(l.doubleValue));return new gR(a)}convertGeoPoint(t){return new pR(qn(t.latitude),qn(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=mA(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(yy(t));default:return null}}convertTimestamp(t){const e=Qc(t);return new bi(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=In.fromString(t);Mn(eF(n),9688,{name:t});const s=new vy(n.get(1),n.get(3)),a=new Xt(n.popFirst(5));return s.isEqual(e)||Tl(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UX extends TF{constructor(t,e,n,s,a,l){super(t,e,n,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new g_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(TA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class g_ extends UX{data(t={}){return super.data(t)}}class BX{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new G0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new g_(this._firestore,this._userDataWriter,n.key,n,new G0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new g_(s._firestore,s._userDataWriter,c.doc.key,c.doc,new G0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new g_(s._firestore,s._userDataWriter,c.doc.key,c.doc,new G0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:zX(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zX(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:i})}}class jX extends VX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Il(this.firestore,null,e)}}function Uf(i){i=E1(i,ud);const t=E1(i.firestore,_F),e=xX(t),n=new jX(t);return FX(i._query),EX(e,i._query).then(s=>new BX(t,n,i,s))}(function(t,e=!0){(function(s){cg=s})(ld),Qh(new Yc("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new _F(new $W(n.getProvider("auth-internal")),new WW(l,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Lt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vy(d.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Xa(XM,QM,t),Xa(XM,QM,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="firebasestorage.googleapis.com",HX="storageBucket",$X=2*60*1e3,qX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends ro{constructor(t,e,n=0){super(mT(t),`Firebase Storage: ${e} (${mT(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ao.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return mT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var no;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(no||(no={}));function mT(i){return"storage/"+i}function GX(){const i="An unknown error occurred, please check the error payload for server response.";return new ao(no.UNKNOWN,i)}function WX(){return new ao(no.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KX(){return new ao(no.CANCELED,"User canceled the upload/download.")}function YX(i){return new ao(no.INVALID_URL,"Invalid URL '"+i+"'.")}function XX(i){return new ao(no.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function YO(i){return new ao(no.INVALID_ARGUMENT,i)}function PF(){return new ao(no.APP_DELETED,"The Firebase app was deleted.")}function QX(i){return new ao(no.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=ta.makeFromUrl(t,e)}catch{return new ta(t,"")}if(n.path==="")return n;throw XX(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const p="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${p}/b/${s}/o${b}`,"i"),A={bucket:1,path:3},S=e===kF?"(?:storage.googleapis.com|storage.cloud.google.com)":e,C="([^?#]*)",x=new RegExp(`^https?://${S}/${s}/${C}`,"i"),M=[{regex:c,indices:h,postModify:a},{regex:E,indices:A,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<M.length;P++){const F=M[P],W=F.regex.exec(t);if(W){const D=W[F.indices.bucket];let I=W[F.indices.path];I||(I=""),n=new ta(D,I),F.postModify(n);break}}if(n==null)throw YX(t);return n}}class ZX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(i,t,e){let n=1,s=null,a=null,l=!1,c=0;function h(){return c===2}let d=!1;function p(...C){d||(d=!0,t.apply(null,C))}function y(C){s=setTimeout(()=>{s=null,i(E,h())},C)}function b(){a&&clearTimeout(a)}function E(C,...x){if(d){b();return}if(C){b(),p.call(null,C,...x);return}if(h()||l){b(),p.call(null,C,...x);return}n<64&&(n*=2);let M;c===1?(c=2,M=0):M=(n+Math.random())*1e3,y(M)}let A=!1;function S(C){A||(A=!0,b(),!d&&(s!==null?(C||(c=2),clearTimeout(s),y(0)):C||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,S(!0)},e),S}function tQ(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(i){return i!==void 0}function XO(i,t,e,n){if(n<t)throw YO(`Invalid value for '${i}'. Expected ${t} or greater.`);if(n>e)throw YO(`Invalid value for '${i}'. Expected ${e} or less.`)}function nQ(i){const t=encodeURIComponent;let e="?";for(const n in i)if(i.hasOwnProperty(n)){const s=t(n)+"="+t(i[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var vE;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(vE||(vE={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(i,t){const e=i>=500&&i<600,s=[408,429].indexOf(i)!==-1,a=t.indexOf(i)!==-1;return e||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(t,e,n,s,a,l,c,h,d,p,y,b=!0,E=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new W0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===vE.NO_ERROR,h=a.getStatus();if(!c||iQ(h,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===vE.ABORT;n(!1,new W0(!1,null,p));return}const d=this.successCodes_.indexOf(h)!==-1;n(!0,new W0(d,a))})},e=(n,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());eQ(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=GX();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?PF():KX();l(h)}else{const h=WX();l(h)}};this.canceled_?e(!1,new W0(!1,null,!0)):this.backoffId_=JX(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&tQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class W0{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function rQ(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function aQ(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function oQ(i,t){t&&(i["X-Firebase-GMPID"]=t)}function lQ(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function cQ(i,t,e,n,s,a,l=!0,c=!1){const h=nQ(i.urlParams),d=i.url+h,p=Object.assign({},i.headers);return oQ(p,t),rQ(p,e),aQ(p,a),lQ(p,n),new sQ(d,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function hQ(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,e){this._service=t,e instanceof ta?this._location=e:this._location=ta.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new bE(t,e)}get root(){const t=new ta(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hQ(this._location.path)}get storage(){return this._service}get parent(){const t=uQ(this._location.path);if(t===null)return null;const e=new ta(this._location.bucket,t);return new bE(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw QX(t)}}function QO(i,t){const e=t==null?void 0:t[HX];return e==null?null:ta.makeFromBucketSpec(e,i)}function dQ(i,t,e,n={}){i.host=`${t}:${e}`;const s=og(t);s&&(PC(`https://${i.host}`),MC("Storage",!0)),i._isUsingEmulator=!0,i._protocol=s?"https":"http";const{mockUserToken:a}=n;a&&(i._overrideAuthToken=typeof a=="string"?a:xN(a,i.app.options.projectId))}class fQ{constructor(t,e,n,s,a,l=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=kF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$X,this._maxUploadRetryTime=qX,this._requests=new Set,s!=null?this._bucket=ta.makeFromBucketSpec(s,this._host):this._bucket=QO(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ta.makeFromBucketSpec(this._url,t):this._bucket=QO(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){XO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){XO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new bE(this,t)}_makeRequest(t,e,n,s,a=!0){if(this._deleted)return new ZX(PF());{const l=cQ(t,this._appId,n,s,e,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const ZO="@firebase/storage",JO="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="storage";function pQ(i=LC(),t){i=ia(i);const n=uA(i,MF).getImmediate({identifier:t}),s=SN("storage");return s&&gQ(n,...s),n}function gQ(i,t,e,n={}){dQ(i,t,e,n)}function mQ(i,{instanceIdentifier:t}){const e=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),s=i.getProvider("app-check-internal");return new fQ(e,n,s,t,ld)}function yQ(){Qh(new Yc(MF,mQ,"PUBLIC").setMultipleInstances(!0)),Xa(ZO,JO,""),Xa(ZO,JO,"esm2017")}yQ();const vQ={apiKey:"AIzaSyCoHjDrMtMrNLllpFDZpTQw4-oq7qoalFc",authDomain:"change-lms.firebaseapp.com",projectId:"change-lms",storageBucket:"change-lms.firebasestorage.app",messagingSenderId:"172184355270",appId:"1:172184355270:web:5aa19f0480788c255bf2c7",measurementId:"G-EHMG7GZ0Z6"},ER=IN(vQ);BW(ER);const Bf=TX(ER);pQ(ER);const tD=us(z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),bQ=us(z.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"})),_Q=us(z.jsx("path",{d:"M7 3H4v3H2V1h5zm15 3V1h-5v2h3v3zM7 21H4v-3H2v5h5zm13-3v3h-3v2h5v-5zm-1 0c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2zM15 8H9v2h6zm0 3H9v2h6zm0 3H9v2h6z"})),EQ=us([z.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),z.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),AQ=us([z.jsx("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01M4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3m16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"},"0"),z.jsx("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2"},"1")]),SQ=us(z.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),wQ=us([z.jsx("path",{d:"M16 10.04 12 8l-4 2.04v3.35L4 15.2V20h5v-2.04c0-1.69 1.35-3.06 3-3.06s3 1.37 3 3.06V20h5v-4.79l-4-1.81zm-4 3.46c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5",opacity:".3"},"0"),z.jsx("path",{d:"M18 12.22V9l-5-2.5V5h2V3h-2V1h-2v2H9v2h2v1.5L6 9v3.22L2 14v8h9v-4c0-.55.45-1 1-1s1 .45 1 1v4h9v-8zM20 20h-5v-2.04c0-1.69-1.35-3.06-3-3.06s-3 1.37-3 3.06V20H4v-4.79l4-1.81v-3.35L12 8l4 2.04v3.35l4 1.81z"},"1"),z.jsx("circle",{cx:"12",cy:"12",r:"1.5"},"2")]),TQ=us([z.jsx("path",{d:"M17 18h1c.55 0 1-.45 1-1v-3h-2zM5 17c0 .55.45 1 1 1h1v-4H5z",opacity:".3"},"0"),z.jsx("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9M7 14v4H6c-.55 0-1-.45-1-1v-3zm12 3c0 .55-.45 1-1 1h-1v-4h2z"},"1")]),eD=us([z.jsx("path",{d:"m9.83 18 .59.59L12 20.17l1.59-1.59.58-.58H19V4H5v14zm.29-8.88L12 5l1.88 4.12L18 11l-4.12 1.88L12 17l-1.88-4.12L6 11z",opacity:".3"},"0"),z.jsx("path",{d:"M5 20h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2M5 4h14v14h-4.83l-.59.59L12 20.17l-1.59-1.59-.58-.58H5zm7 13 1.88-4.12L18 11l-4.12-1.88L12 5l-1.88 4.12L6 11l4.12 1.88z"},"1")]),xQ=us([z.jsx("path",{d:"m5 18.31 3-1.16V5.45L5 6.46zm11 .24 3-1.01V5.69l-3 1.17z",opacity:".3"},"0"),z.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M8 17.15l-3 1.16V6.46l3-1.01zm6 1.38-4-1.4V5.47l4 1.4zm5-.99-3 1.01V6.86l3-1.16z"},"1")]),CQ=us([z.jsx("path",{d:"M5 17h14v-5H5zm11.5-4c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5m-9 0c.83 0 1.5.67 1.5 1.5S8.33 16 7.5 16 6 15.33 6 14.5 6.67 13 7.5 13",opacity:".3"},"0"),z.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.85 7h10.29l1.04 3H5.81zM19 17H5v-5h14z"},"1"),z.jsx("circle",{cx:"7.5",cy:"14.5",r:"1.5"},"2"),z.jsx("circle",{cx:"16.5",cy:"14.5",r:"1.5"},"3")]),RQ="/assets/parking_map-DAqnMtWO.png";function IQ(){const i=[{time:"8:30 - 9:00",content:"등록 및 환영"},{time:"9:00 - 9:30",content:"여는 예배"},{time:"09:30 - 11:00",content:`아이스 브레이킹
조별 모임(체인지 액팅)`},{time:"11:00 - 17:00",content:"점심 식사, 체인지 액팅"},{time:"17:00 - 18:00",content:"체인지 액팅 나눔"},{time:"18:00 - 20:00",content:"저녁 식사 및 교제"},{time:"20:00 - 21:30",content:"저녁 집회"},{time:"21:30 - 22:00",content:"마무리 및 정리"}];return z.jsx(St,{children:i.map((t,e)=>z.jsxs(St,{sx:{display:"flex",padding:"12px",borderBottom:"1px solid #ccc",alignItems:"flex-start"},children:[z.jsx(Nt,{sx:{width:"100px",fontWeight:"bold",flexShrink:0},variant:"body2",children:t.time}),z.jsx(Nt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:t.content})]},e))})}const kQ="/assets/world_map-DcDVn5i4.png",PQ="/assets/vote-BYAisUKO.png";function S1({ad_id:i}){return z.jsxs(z.Fragment,{children:[i=="outreach"&&z.jsxs(St,{className:"fullWidth advertise",children:[z.jsxs(St,{className:"advertise_content",children:[z.jsx(Nt,{variant:"ad_title",children:"올해는 나도 선교사!?"}),z.jsx(Nt,{variant:"ad_description",children:"2025 아웃리치: 유니블캠프 / 샘물 호스피스"})]}),z.jsx(St,{className:"advertise_image-wrapper",children:z.jsx("img",{src:kQ,className:"advertise_image"})})]}),i=="leader"&&z.jsxs(St,{className:"fullWidth advertise",sx:{marginTop:1,backgroundColor:"#92B4A7"},children:[z.jsxs(St,{className:"advertise_content",children:[z.jsx(Nt,{variant:"ad_title",children:"쟤가 저기 있사오니 쟤를 시키소서"}),z.jsx(Nt,{variant:"ad_description",children:"2026년도 총무 / 리더 받습니다"})]}),z.jsx(St,{className:"advertise_image-wrapper",children:z.jsx("img",{src:PQ,className:"advertise_image",style:{width:"130%"}})})]})]})}function MQ(){const[i,t]=O.useState([]),[e,n]=O.useState([]),[s,a]=O.useState([]),[l,c]=O.useState({announcement:!0,prayBoard:!0,users:!0}),[h,d]=O.useState(!1),[p,y]=O.useState(!1),b=Uv();return O.useEffect(()=>{(async()=>{c(P=>({...P,announcement:!0}));const A=Vf(Ff(Bf,"announcements"),CF("active","==",!0),RF("created_at","asc")),S=await Uf(A);if(S.empty)console.log("[Warning]No accouncements has been queried");else{const P=S.docs.map(F=>F.data());t(P)}c(P=>({...P,announcement:!1})),c(P=>({...P,prayBoard:!0}));const C=Vf(Ff(Bf,"pray_board")),x=await Uf(C);if(x.empty)console.log("[Warning]No Prays");else{const P=x.docs.map(F=>F.data());n(P)}c(P=>({...P,prayBoard:!1})),c(P=>({...P,users:!0})),c(P=>({...P,users:!0}));const N=Vf(Ff(Bf,"users")),M=await Uf(N);if(!M.empty){const P=M.docs.map(F=>F.data());a(P)}c(P=>({...P,users:!1}))})()},[]),O.useEffect(()=>{console.log(l)},[l]),z.jsxs(St,{className:"wrapper",children:[z.jsx(lA,{}),z.jsx(St,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0},children:z.jsx(Nt,{variant:"body1",children:"높은뜻대학교 정의캠퍼스"})}),z.jsxs(St,{className:"fullWidth announcementArea flex-left",children:[l.announcement&&z.jsx(KT,{variant:"rectangular",className:"announcementDocument",animation:"wave"}),i?i.map(E=>z.jsxs(St,{className:"announcementDocument",children:[z.jsx(Nt,{variant:"announcePreviewTitle",children:E.title}),z.jsx(Nt,{variant:"announcePreviewContent",children:E.content}),z.jsxs(cN,{variant:"text",size:"small",sx:{mt:"auto",alignSelf:"flex-start",color:"#00002F",p:0,display:"flex",justifyContent:"flex-start"},onClick:()=>{alert("아직 준비되지 않은 기능입니다")},children:["자세히 ",">"]})]},`announcement-${E.title}`)):z.jsx(St,{children:z.jsx(Nt,{children:"No Announcement"})})]}),z.jsxs(St,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:3},children:[z.jsxs(St,{className:"external-linkbox",onClick:()=>{window.open("http://www.jeongeui.com","_blank")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(wQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"교회"}),z.jsx(Nt,{variant:"blacksmall",children:"홈"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{window.open("https://youtube.com/playlist?list=PLCOgZLj-whreTVYXkuQRv_Mx0O2j5A9vW&feature=shared","_blank")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(TQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"찬양"}),z.jsx(Nt,{variant:"blacksmall",children:"콘티"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{b("/pray")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(eD,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"기도"}),z.jsx(Nt,{variant:"blacksmall",children:"제목"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{window.open("https://map.naver.com","_blank")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(xQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"네이버"}),z.jsx(Nt,{variant:"blacksmall",children:"지도"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{y(!0)},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(CQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"주차"}),z.jsx(Nt,{variant:"blacksmall",children:"안내"})]})]})]}),z.jsxs(St,{className:"fullWidth flex-left horizontal_overflow",sx:{mt:1},children:[z.jsxs(St,{className:"external-linkbox",onClick:()=>{alert("아직 준비되지 않은 기능입니다")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(AQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"우리조"}),z.jsx(Nt,{variant:"blacksmall",children:"보기"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{alert("아직 준비되지 않은 기능입니다")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(SQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"수강"}),z.jsx(Nt,{variant:"blacksmall",children:"신청"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{alert("아직 준비되지 않은 기능입니다")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(bQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"실라"}),z.jsx(Nt,{variant:"blacksmall",children:"버스"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{b("/workbook")},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(_Q,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"수련회"}),z.jsx(Nt,{variant:"blacksmall",children:"워크북"})]})]}),z.jsxs(St,{className:"external-linkbox",onClick:()=>{d(!0)},children:[z.jsx(St,{className:"external-icon centeralize",children:z.jsx(EQ,{sx:{color:"#FAC656"}})}),z.jsxs(St,{className:"external_description_box",children:[z.jsx(Nt,{variant:"blacksmall",children:"타임"}),z.jsx(Nt,{variant:"blacksmall",children:"테이블"})]})]})]}),z.jsxs(St,{sx:{marginTop:"5vh"},children:[z.jsx(S1,{ad_id:"outreach"}),z.jsx(S1,{ad_id:"leader"})]}),z.jsxs(St,{className:"flex-left gap5",sx:{padding:"10px",paddingLeft:0,marginTop:3,justifyContent:"space-between",alignItems:"flex-end"},children:[z.jsxs(St,{sx:{display:"flex",alignItems:"center"},children:[z.jsx(eD,{sx:{color:"#FAC656",mr:.5}}),z.jsx(Nt,{variant:"body1",children:"기도제목"})]}),z.jsxs(Nt,{variant:"toDetail",onClick:()=>{b("/pray")},children:["more ",">"]})]}),l.prayBoard?z.jsx(KT,{variant:"rectangular",className:"boardPreview",animation:"wave"}):z.jsx(St,{className:"boardPreview",children:e?e.map(E=>{var A;return z.jsxs(St,{sx:{display:"flex",justifyContent:"space-between"},children:[z.jsxs(St,{sx:{display:"flex",alignItems:"center"},children:[z.jsx(St,{sx:{marginRight:1},children:z.jsx(Nt,{variant:"boardPreview_title",children:E.title})}),z.jsx(St,{sx:{display:"flex",alignItems:"center",maxWidth:"50%"},children:z.jsx(Nt,{variant:"boardPreview_detail",children:E.content})})]}),s&&z.jsx(St,{sx:{minWidth:"32px"},children:z.jsx(Nt,{variant:"boardPreview_author",children:(A=s.filter(S=>S.student_id==E.author_id)[0])==null?void 0:A.name})})]},`pray_${E.created_at}`)}):z.jsx(St,{className:"fully_centeralize fullSize",sx:{height:"120px"},children:z.jsx(Nt,{children:"No Prays"})})}),z.jsxs(uM,{open:h,onClose:()=>d(!1),fullWidth:!0,maxWidth:"sm",children:[z.jsxs(hM,{sx:{m:0,p:2},children:["수련회 타임테이블",z.jsx(eM,{"aria-label":"close",onClick:()=>d(!1),sx:{position:"absolute",right:8,top:8,color:E=>E.palette.grey[500]},children:z.jsx(tD,{})})]}),z.jsx(St,{sx:{p:2},children:z.jsx(IQ,{})})]}),z.jsxs(uM,{open:p,onClose:()=>y(!1),fullWidth:!0,maxWidth:"sm",children:[z.jsxs(hM,{sx:{m:0,p:2},children:["주차안내",z.jsx(eM,{"aria-label":"close",onClick:()=>y(!1),sx:{position:"absolute",right:8,top:8,color:E=>E.palette.grey[500]},children:z.jsx(tD,{})})]}),z.jsxs(St,{sx:{p:2},children:[z.jsxs(St,{sx:{display:"flex"},children:[z.jsx(Nt,{sx:{mr:1},variant:"body2",children:"•"}),z.jsxs(Nt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:["오전 8시~밤 11시까지 정의여자고등학교에",`
`," 주차가 가능합니다."," "]})]}),z.jsxs(St,{sx:{display:"flex"},children:[z.jsx(Nt,{sx:{mr:1},variant:"body2",children:"•"}),z.jsx(Nt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:"가급적 필로티 건물은 지양해주세요."})]}),z.jsxs(St,{sx:{display:"flex"},children:[z.jsx(Nt,{sx:{mr:1},variant:"body2",children:"•"}),z.jsxs(Nt,{sx:{whiteSpace:"pre-line"},variant:"body2",children:["체인지 액팅 때 차량사용이 필요한 경우",`
`," 윤기헌 전도사에게 문의해주세요."]})]})]}),z.jsx("img",{src:RQ})]}),z.jsxs(St,{className:"fullWidth",sx:{mt:2,mb:1,borderTop:"0.5px gray solid"},children:[z.jsx(St,{sx:{height:"2.4vw"},children:z.jsx(Nt,{variant:"footerinfo",children:"Ver0.2.1 | Copyright @DENVER | Design assisted by Sandy, Lim. Eunseo, Choo."})}),z.jsx(St,{sx:{height:"2.4vw"},children:z.jsx(Nt,{variant:"footerinfo",children:"Published for @높은뜻 정의교회, 2025,."})}),z.jsx(St,{sx:{height:"2.4vw"},children:z.jsx(Nt,{variant:"footerinfo",children:"Contact us | fe.dev.denver@gmail.com or 높은뜻 정의교회 청년부"})})]})]})}const OF=O.createContext(null),OQ=({children:i})=>{const[t,e]=O.useState(null),[n,s]=O.useState(!0);return O.useEffect(()=>{const a=localStorage.getItem("user");a&&e(JSON.parse(a)),s(!1)},[]),z.jsx(OF.Provider,{value:{user:t,setUser:e,loading:n},children:i})},DF=()=>O.useContext(OF);function DQ(){const[i,t]=O.useState(""),[e,n]=O.useState(""),{setUser:s}=DF(),a=async()=>{const l=Vf(Ff(Bf,"users"),CF("student_id","==",i)),c=await Uf(l);if(c.empty)n("존재하지 않는 학번입니다.");else{const h=c.docs[0].data();console.log(h),s(h),localStorage.setItem("user",JSON.stringify(h)),window.location.href="/"}};return z.jsxs(St,{className:"wrapper centeralize",sx:{height:"100vh",mt:"-60px"},children:[z.jsx(St,{sx:{position:"absolute",top:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:z.jsx(Nt,{variant:"subtitle_extrasmall",children:"THEREFORE, I URGE YOU, BROTHERS, IN VIEW OF GOD'S MERCY, TO OFFER YOUR BODIES AS LIVING SACRIFICES, HOLY AND PLEASING TO GOD--THIS IS YOURN SPIRITUAL ACT OF WORSHIP."})}),z.jsx(Nt,{className:"subtitle",variant:"subtitle_small",children:"2025 SUMMER RETREAT"}),z.jsx(Nt,{className:"subtitle",variant:"subtitle_big",children:"CHANGE"}),z.jsx(Nt,{className:"subtitle",variant:"subtitle_small",children:"GOD'S WILL JEONGEUI YOUTH"}),z.jsxs(St,{sx:{paddingLeft:10,paddingRight:10,boxSizing:"border-box"},children:[z.jsx(r7,{label:"학번",fullWidth:!0,margin:"normal",value:i,onChange:l=>t(l.target.value),variant:"standard"}),e&&z.jsx(Nt,{color:"error",mt:1,children:e}),z.jsx(cN,{variant:"contained",fullWidth:!0,sx:{mt:2,bgcolor:i?"error.main":"grey.400",color:i?"common.white":"grey.700","&:hover":{bgcolor:i?"error.dark":"grey.500"}},onClick:a,children:"로그인"})]}),z.jsx(St,{sx:{position:"absolute",bottom:10,left:0,width:"100%",display:"flex",justifyContent:"center"},children:z.jsxs(Nt,{variant:"subtitle_extrasmall",children:["DO NOT CONFORM ANY LONGER TO THE PATTERN OF THIS WORLD, BUT BE TRANSFORMED BY THE RENEWING OF YOUR MIND, THEN YOU WILL BE ABLE TO TEST AND APPROVE WHAT GOD'S WILL IS--HIS GOOD, PLEASING AND PERFECT WILL. ","[","ROMANS 12:1-2","]"]})})]})}function K0({children:i}){const{user:t,loading:e}=DF(),n=Uv();return O.useEffect(()=>{!e&&!t&&n("/signin")},[t,e,n]),e?z.jsx("div",{children:"Loading..."}):z.jsx(z.Fragment,{children:t?i:null})}const LQ=nA({components:{MuiTextField:{defaultProps:{variant:"standard"}},MuiInput:{styleOverrides:{root:{color:"white","&:before":{borderBottom:"1px solid #fff"},"&:hover:not(.Mui-disabled):before":{borderBottom:"1px solid #ddd"},"&:after":{borderBottom:"2px solid #FAC656"}}}},MuiInputLabel:{styleOverrides:{root:{color:"#fff","&.Mui-focused":{color:"#FAC656"}}}}},typography:{body1:{fontSize:"20px",fontWeight:600,fontFamily:'"Pretendard", sans-serif',color:"#FAC656"},subtitle1:{fontSize:"18px",fontWeight:700,fontFamily:'"Pretendard", sans-serif'},announcePreviewTitle:{fontSize:"16px",fontWeight:800,fontFamily:'"Pretendard", sans-serif',color:"#00002F"},announcePreviewContent:{fontSize:"14px",fontWeight:400,fontFamily:'"Pretendard", sans-serif',color:"#00002F",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineClamp:2,boxOrient:"vertical",display:"-webkit-box"},blacksmall:{fontSize:"14px",color:"#F5F5DC",fontFamily:'"Pretendard", sans-serif',lineHeight:"1.1"},ad_title:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"17.5px",fontWeight:900,fontFamily:'"Pretendard", sans-serif'},ad_description:{color:"#F5F5DC",textShadow:"1px 1px 2px black",fontSize:"11.7px",fontWeight:600,fontFamily:'"Pretendard", sans-serif'},toDetail:{fontSize:"12px",color:"grey",fontWeight:"bold",fontFamily:'"Pretendard", sans-serif'},boardPreview_title:{color:"#000",fontSize:"14px",fontFamily:'"Pretendard", sans-serif'},boardPreview_detail:{fontSize:"12px",color:"gray",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",lineClamp:1,boxOrient:"vertical",display:"-webkit-box",fontFamily:' "Pretendard", sans-serif'},boardPreview_author:{fontSize:"12px",color:"gray",overflow:"hidden",fontFamily:'"Pretendard", sans-serif'},boardTitle:{fontSize:"16px",fontWeight:900,color:"#FAC656",fontFamily:'"Pretendard", sans-serif'},boardContent:{fontSize:"14px",whiteSpace:"pre-line",textOverflow:"ellipsis",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineClamp:3,boxOrient:"vertical",display:"-webkit-box",overflow:"hidden",color:"#FFF",fontFamily:'"Pretendard", sans-serif'},boardMetadata:{fontSize:"14px",color:"#DADADA"},subtitle_extrasmall:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"14px",fontWeight:"bold",lineHeight:1},subtitle_small:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"20px",fontWeight:"bold",lineHeight:1},subtitle_big:{fontFamily:'"Staatliches", "Pretendard", sans-serif',color:"#FAC656",fontSize:"64px",fontWeight:"bold",lineHeight:1},header:{color:"#FAC656",fontSize:"32px",fontWeight:"bold",lineHeight:1,fontFamily:'"Staatliches", "Pretendard", sans-serif'},header_small:{color:"#FAC656",fontSize:"12px",fontWeight:"bold",lineHeight:1,fontStretch:"57%",fontFamily:'"Staatliches", "Pretendard", sans-serif'},footerinfo:{color:"#FFF",fontSize:"2.2vw",fontFamily:'"Pretendard", sans-serif'}}}),LF=us(z.jsx("path",{d:"M12 3 4 9v12h5v-7h6v7h5V9z"}));function NQ(){const i=Uv();return z.jsx(St,{className:"leftBottom_floating fully_centeralize homebutton",onClick:()=>{i("/")},children:z.jsx(LF,{fontSize:"large",sx:{color:"#1a1c21"}})})}function FQ(){const[i,t]=O.useState([]),[e,n]=O.useState([]),[s,a]=O.useState(!0);O.useEffect(()=>{(async()=>{a(!0);const h=Vf(Ff(Bf,"pray_board"),RF("created_at")),d=await Uf(h);if(d.empty)console.log("[Warning]No Prays");else{const b=d.docs.map(E=>E.data());t(b)}const p=Vf(Ff(Bf,"users")),y=await Uf(p);if(!y.empty){const b=y.docs.map(E=>E.data());n(b)}a(!1)})()},[]);const l=c=>{const d=bi.now().seconds-c.seconds;return d<60?`${Math.floor(d)}초 전`:d<3600?`${Math.floor(d/60)}분 전`:`${Math.floor(d/86400)}일 전`};return z.jsxs(St,{className:"wrapper",children:[z.jsx(lA,{subtitle:"기도제목"}),z.jsx(S1,{ad_id:"outreach"}),s?z.jsx(KT,{variant:"rectangular",animation:"wave",className:"fullWidth",sx:{mt:2,minHeight:"300px",borderRadius:3}}):z.jsx(St,{className:"fullWidth",sx:{mt:2},children:i==null?void 0:i.map(c=>{var h;return z.jsxs(St,{className:"boardCard",children:[z.jsx(Nt,{variant:"boardTitle",children:c.title}),z.jsx(Nt,{variant:"boardContent",children:c.content}),z.jsx(St,{sx:{mt:1},children:z.jsxs(Nt,{variant:"boardMetadata",children:[l(c.created_at)," | ",c.author_id,"(",(h=e.filter(d=>d.student_id==c.author_id)[0])==null?void 0:h.name,")"]})})]},`pray_${c.created_at}`)})}),z.jsx(NQ,{})]})}function VQ({boardType:i="자세히 보기"}){return z.jsx(St,{className:"wrapper",children:z.jsx(lA,{subtitle:i})})}const UQ="modulepreload",BQ=function(i){return"/"+i},nD={},Y0=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let l=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(e.map(d=>{if(d=BQ(d),d in nD)return;nD[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":UQ,p||(b.as="script"),b.crossOrigin="",b.href=d,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((E,A)=>{b.addEventListener("load",E),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var ay={};ay.d=(i,t)=>{for(var e in t)ay.o(t,e)&&!ay.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};ay.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var re=globalThis.pdfjsLib={};ay.d(re,{AbortException:()=>dd,AnnotationEditorLayer:()=>Lx,AnnotationEditorParamsType:()=>ne,AnnotationEditorType:()=>le,AnnotationEditorUIManager:()=>ed,AnnotationLayer:()=>VJ,AnnotationMode:()=>fc,ColorPicker:()=>SE,DOMSVGFactory:()=>OR,DrawLayer:()=>Ux,FeatureTest:()=>bs,GlobalWorkerOptions:()=>ul,ImageKind:()=>m_,InvalidPDFException:()=>FF,MissingPDFException:()=>hd,OPS:()=>Fr,OutputScale:()=>R1,PDFDataRangeTransport:()=>O3,PDFDateString:()=>xR,PDFWorker:()=>jf,PasswordResponses:()=>$Q,PermissionFlag:()=>HQ,PixelsPerInch:()=>nu,RenderingCancelledException:()=>wR,TextLayer:()=>nx,UnexpectedResponseException:()=>kA,Util:()=>Ft,VerbosityLevel:()=>CA,XfaLayer:()=>L3,build:()=>vJ,createValidAbsoluteUrl:()=>KQ,fetchData:()=>MA,getDocument:()=>cJ,getFilenameFromUrl:()=>iZ,getPdfFilenameFromUrl:()=>sZ,getXfaPageViewport:()=>rZ,isDataScheme:()=>OA,isPdfFile:()=>TR,noContextMenu:()=>Ir,normalizeUnicode:()=>tZ,setLayerDimensions:()=>td,shadow:()=>Ae,version:()=>yJ});const os=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),NF=[1,0,0,1,0,0],w1=[.001,0,0,.001,0,0],zQ=1e7,yT=1.35,Zs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},fc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},jQ="pdfjs_internal_editor_",le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},HQ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Qi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},m_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},xm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},CA={ERRORS:0,WARNINGS:1,INFOS:5},Fr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},$Q={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let RA=CA.WARNINGS;function qQ(i){Number.isInteger(i)&&(RA=i)}function GQ(){return RA}function IA(i){RA>=CA.INFOS&&console.log(`Info: ${i}`)}function de(i){RA>=CA.WARNINGS&&console.log(`Warning: ${i}`)}function mn(i){throw new Error(i)}function yi(i,t){i||mn(t)}function WQ(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function KQ(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=JQ(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(WQ(n))return n}catch{}return null}function Ae(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const au=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class T1 extends au{constructor(t,e){super(t,"PasswordException"),this.code=e}}class x1 extends au{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class FF extends au{constructor(t){super(t,"InvalidPDFException")}}class hd extends au{constructor(t){super(t,"MissingPDFException")}}class kA extends au{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class YQ extends au{constructor(t){super(t,"FormatError")}}class dd extends au{constructor(t){super(t,"AbortException")}}function VF(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&mn("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),l=i.subarray(s,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function PA(i){typeof i!="string"&&mn("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function XQ(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function AR(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function QQ(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function ZQ(){try{return new Function(""),!0}catch{return!1}}class bs{static get isLittleEndian(){return Ae(this,"isLittleEndian",QQ())}static get isEvalSupported(){return Ae(this,"isEvalSupported",ZQ())}static get isOffscreenCanvasSupported(){return Ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ae(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ae(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ae(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const vT=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var gl,y_,C1;class Ft{static makeHexColor(t,e,n){return`#${vT[t]}${vT[e]}${vT[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,a]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),a=this.applyTransform([t[0],t[3]],e),l=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],a[0],l[0]),Math.min(n[1],s[1],a[1],l[1]),Math.max(n[0],s[0],a[0],l[0]),Math.max(n[1],s[1],a[1],l[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],l=t[2]*e[1]+t[3]*e[3],c=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-a*s))/2,d=c+h||1,p=c-h||1;return[Math.sqrt(d),Math.sqrt(p)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[n,a,s,l]}static bezierBoundingBox(t,e,n,s,a,l,c,h,d){return d?(d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h)):d=[Math.min(t,c),Math.min(e,h),Math.max(t,c),Math.max(e,h)],B(this,gl,C1).call(this,t,n,a,c,e,s,l,h,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),d),B(this,gl,C1).call(this,t,n,a,c,e,s,l,h,3*(-e+3*(s-l)+h),6*(e-2*s+l),3*(s-e),d),d}}gl=new WeakSet,y_=function(t,e,n,s,a,l,c,h,d,p){if(d<=0||d>=1)return;const y=1-d,b=d*d,E=b*d,A=y*(y*(y*t+3*d*e)+3*b*n)+E*s,S=y*(y*(y*a+3*d*l)+3*b*c)+E*h;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],S)},C1=function(t,e,n,s,a,l,c,h,d,p,y,b){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&B(this,gl,y_).call(this,t,e,n,s,a,l,c,h,-y/p,b);return}const E=p**2-4*y*d;if(E<0)return;const A=Math.sqrt(E),S=2*d;B(this,gl,y_).call(this,t,e,n,s,a,l,c,h,(-p+A)/S,b),B(this,gl,y_).call(this,t,e,n,s,a,l,c,h,(-p-A)/S,b)},$(Ft,gl);function JQ(i){return decodeURIComponent(escape(i))}let bT=null,iD=null;function tZ(i){return bT||(bT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iD=new Map([["ﬅ","ſt"]])),i.replaceAll(bT,(t,e,n)=>e?e.normalize("NFKC"):iD.get(n))}function eZ(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return VF(i)}const SR="pdfjs_internal_id_",Lo={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function nZ(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(VF(i))}const Fo="http://www.w3.org/2000/svg",Gu=class Gu{};Qt(Gu,"CSS",96),Qt(Gu,"PDF",72),Qt(Gu,"PDF_TO_CSS_UNITS",Gu.CSS/Gu.PDF);let nu=Gu;async function MA(i,t="text"){if(Lm(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class sb{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=a;const c=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let d,p,y,b;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,p=0,y=0,b=1;break;case 90:d=0,p=1,y=1,b=0;break;case 270:d=0,p=-1,y=-1,b=0;break;case 0:d=1,p=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,b=-b);let E,A,S,C;d===0?(E=Math.abs(h-t[1])*e+s,A=Math.abs(c-t[0])*e+a,S=(t[3]-t[1])*e,C=(t[2]-t[0])*e):(E=Math.abs(c-t[0])*e+s,A=Math.abs(h-t[1])*e+a,S=(t[2]-t[0])*e,C=(t[3]-t[1])*e),this.transform=[d*e,p*e,y*e,b*e,E-d*e*c-y*e*h,A-p*e*c-b*e*h],this.width=S,this.height=C}get rawDims(){const{viewBox:t}=this;return Ae(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new sb({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){return Ft.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Ft.applyTransform([t[0],t[1]],this.transform),n=Ft.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return Ft.applyInverseTransform([t,e],this.transform)}}class wR extends au{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function OA(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function TR(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function iZ(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function sZ(i,t="document.pdf"){if(typeof i!="string")return t;if(OA(i))return de('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let a=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||t}class sD{constructor(){Qt(this,"started",Object.create(null));Qt(this,"times",[])}time(t){t in this.started&&de(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||de(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-s}ms
`);return t.join("")}}function Lm(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function Ir(i){i.preventDefault()}function rD(i){console.log("Deprecated API usage: "+i)}var Ay;class xR{static toDateObject(t){if(!t||typeof t!="string")return null;g(this,Ay)||V(this,Ay,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g(this,Ay).exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,d==="-"?(l+=p,c+=y):d==="+"&&(l-=p,c-=y),new Date(Date.UTC(n,s,a,l,c,h))}}Ay=new WeakMap,$(xR,Ay);function rZ(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new sb({viewBox:a,scale:t,rotation:e})}function CR(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(de(`Not a valid color format: "${i}"`),[0,0,0])}function aZ(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,CR(n))}t.remove()}function Rn(i){const{a:t,b:e,c:n,d:s,e:a,f:l}=i.getTransform();return[t,e,n,s,a,l]}function No(i){const{a:t,b:e,c:n,d:s,e:a,f:l}=i.getTransform().invertSelf();return[t,e,n,s,a,l]}function td(i,t,e=!1,n=!0){if(t instanceof sb){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:l}=i,c=bs.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${a}px`,p=c?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,y=c?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=y):(l.width=y,l.height=p)}n&&i.setAttribute("data-main-rotation",t.rotation)}class R1{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var pc,Xu,Vr,Qu,Sy,wy,xE,UF,_s,BF,zF,v_,jF,k1;const Vo=class Vo{constructor(t){$(this,_s);$(this,pc,null);$(this,Xu,null);$(this,Vr);$(this,Qu,null);$(this,Sy,null);V(this,Vr,t),g(Vo,wy)||V(Vo,wy,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=V(this,pc,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=g(this,Vr)._uiManager._signal;t.addEventListener("contextmenu",Ir,{signal:e}),t.addEventListener("pointerdown",B(Vo,xE,UF),{signal:e});const n=V(this,Qu,document.createElement("div"));n.className="buttons",t.append(n);const s=g(this,Vr).toolbarPosition;if(s){const{style:a}=t,l=g(this,Vr)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return B(this,_s,jF).call(this),t}get div(){return g(this,pc)}hide(){var t;g(this,pc).classList.add("hidden"),(t=g(this,Xu))==null||t.hideDropdown()}show(){var t;g(this,pc).classList.remove("hidden"),(t=g(this,Sy))==null||t.shown()}async addAltText(t){const e=await t.render();B(this,_s,v_).call(this,e),g(this,Qu).prepend(e,g(this,_s,k1)),V(this,Sy,t)}addColorPicker(t){V(this,Xu,t);const e=t.renderButton();B(this,_s,v_).call(this,e),g(this,Qu).prepend(e,g(this,_s,k1))}remove(){var t;g(this,pc).remove(),(t=g(this,Xu))==null||t.destroy(),V(this,Xu,null)}};pc=new WeakMap,Xu=new WeakMap,Vr=new WeakMap,Qu=new WeakMap,Sy=new WeakMap,wy=new WeakMap,xE=new WeakSet,UF=function(t){t.stopPropagation()},_s=new WeakSet,BF=function(t){g(this,Vr)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},zF=function(t){g(this,Vr)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},v_=function(t){const e=g(this,Vr)._uiManager._signal;t.addEventListener("focusin",B(this,_s,BF).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",B(this,_s,zF).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ir,{signal:e})},jF=function(){const{editorType:t,_uiManager:e}=g(this,Vr),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(Vo,wy)[t]),B(this,_s,v_).call(this,n),n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),g(this,Qu).append(n)},k1=function(){const t=document.createElement("div");return t.className="divider",t},$(Vo,xE),$(Vo,wy,null);let I1=Vo;var Ty,Zu,Ju,su,HF,$F,qF;class oZ{constructor(t){$(this,su);$(this,Ty,null);$(this,Zu,null);$(this,Ju);V(this,Ju,t)}show(t,e,n){const[s,a]=B(this,su,$F).call(this,e,n),{style:l}=g(this,Zu)||V(this,Zu,B(this,su,HF).call(this));t.append(g(this,Zu)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Zu).remove()}}Ty=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,su=new WeakSet,HF=function(){const t=V(this,Zu,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ir,{signal:g(this,Ju)._signal});const e=V(this,Ty,document.createElement("div"));return e.className="buttons",t.append(e),B(this,su,qF).call(this),t},$F=function(t,e){let n=0,s=0;for(const a of t){const l=a.y+a.height;if(l<n)continue;const c=a.x+(e?a.width:0);if(l>n){s=c,n=l;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]},qF=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Ju)._signal;t.addEventListener("contextmenu",Ir,{signal:n}),t.addEventListener("click",()=>{g(this,Ju).highlightSelection("floating_button")},{signal:n}),g(this,Ty).append(t)};function _E(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function lZ(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var CE;class cZ{constructor(){$(this,CE,0)}get id(){return`${jQ}${gs(this,CE)._++}`}}CE=new WeakMap;var qf,xy,Ji,Gf,b_;const FR=class FR{constructor(){$(this,Gf);$(this,qf,eZ());$(this,xy,0);$(this,Ji,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ae(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:a}=t;return B(this,Gf,b_).call(this,`${e}_${n}_${s}_${a}`,t)}async getFromUrl(t){return B(this,Gf,b_).call(this,t,t)}async getFromBlob(t,e){const n=await e;return B(this,Gf,b_).call(this,t,n)}async getFromId(t){g(this,Ji)||V(this,Ji,new Map);const e=g(this,Ji).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){g(this,Ji)||V(this,Ji,new Map);let n=g(this,Ji).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${g(this,qf)}_${gs(this,xy)._++}`,refCounter:1,isSvg:!1},g(this,Ji).set(t,n),g(this,Ji).set(n.id,n),n}getSvgUrl(t){const e=g(this,Ji).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;g(this,Ji)||V(this,Ji,new Map);const e=g(this,Ji).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=a.convertToBlob()}(s=n.close)==null||s.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${g(this,qf)}_`)}};qf=new WeakMap,xy=new WeakMap,Ji=new WeakMap,Gf=new WeakSet,b_=async function(t,e){g(this,Ji)||V(this,Ji,new Map);let n=g(this,Ji).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,qf)}_${gs(this,xy)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(n.url=e,s=await MA(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=FR._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const y=n.svgUrl=l.result;c.src=await a?`${y}#svgView(preserveAspectRatio(none))`:y},c.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return g(this,Ji).set(t,n),n&&g(this,Ji).set(n.id,n),n};let P1=FR;var Ci,gc,Cy,Ri;class uZ{constructor(t=128){$(this,Ci,[]);$(this,gc,!1);$(this,Cy);$(this,Ri,-1);V(this,Cy,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&t(),g(this,gc))return;const h={cmd:t,undo:e,post:n,type:a};if(g(this,Ri)===-1){g(this,Ci).length>0&&(g(this,Ci).length=0),V(this,Ri,0),g(this,Ci).push(h);return}if(l&&g(this,Ci)[g(this,Ri)].type===a){c&&(h.undo=g(this,Ci)[g(this,Ri)].undo),g(this,Ci)[g(this,Ri)]=h;return}const d=g(this,Ri)+1;d===g(this,Cy)?g(this,Ci).splice(0,1):(V(this,Ri,d),d<g(this,Ci).length&&g(this,Ci).splice(d)),g(this,Ci).push(h)}undo(){if(g(this,Ri)===-1)return;V(this,gc,!0);const{undo:t,post:e}=g(this,Ci)[g(this,Ri)];t(),e==null||e(),V(this,gc,!1),V(this,Ri,g(this,Ri)-1)}redo(){if(g(this,Ri)<g(this,Ci).length-1){V(this,Ri,g(this,Ri)+1),V(this,gc,!0);const{cmd:t,post:e}=g(this,Ci)[g(this,Ri)];t(),e==null||e(),V(this,gc,!1)}}hasSomethingToUndo(){return g(this,Ri)!==-1}hasSomethingToRedo(){return g(this,Ri)<g(this,Ci).length-1}destroy(){V(this,Ci,null)}}Ci=new WeakMap,gc=new WeakMap,Cy=new WeakMap,Ri=new WeakMap;var RE,GF;class rb{constructor(t){$(this,RE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=bs.platform;for(const[n,s,a={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(B(this,RE,GF).call(this,e));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...l,e)(),a||(e.stopPropagation(),e.preventDefault()))}}RE=new WeakSet,GF=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const IE=class IE{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return aZ(t),Ae(this,"_colors",t)}convert(t){const e=CR(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((a,l)=>a===e[l]))return IE._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Ft.makeHexColor(...e):t}};Qt(IE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let M1=IE;var Wf,$s,pi,Ui,Kf,Bo,Yf,Ur,mc,Xf,th,xa,Br,eh,Ry,Iy,Qf,ky,Ca,yc,Zf,vc,Ra,kE,bc,Py,_c,nh,My,Oy,Ii,Ge,zo,ih,Dy,Ly,Ec,Ia,jo,Ny,vr,Ct,__,O1,WF,KF,E_,YF,XF,QF,D1,ZF,L1,N1,JF,ms,oc,t3,e3,F1,n3,Nm,V1;const Rf=class Rf{constructor(t,e,n,s,a,l,c,h,d,p,y){$(this,Ct);$(this,Wf,new AbortController);$(this,$s,null);$(this,pi,new Map);$(this,Ui,new Map);$(this,Kf,null);$(this,Bo,null);$(this,Yf,null);$(this,Ur,new uZ);$(this,mc,null);$(this,Xf,0);$(this,th,new Set);$(this,xa,null);$(this,Br,null);$(this,eh,new Set);$(this,Ry,!1);$(this,Iy,!1);$(this,Qf,!1);$(this,ky,null);$(this,Ca,null);$(this,yc,null);$(this,Zf,null);$(this,vc,!1);$(this,Ra,null);$(this,kE,new cZ);$(this,bc,!1);$(this,Py,!1);$(this,_c,null);$(this,nh,null);$(this,My,null);$(this,Oy,null);$(this,Ii,le.NONE);$(this,Ge,new Set);$(this,zo,null);$(this,ih,null);$(this,Dy,null);$(this,Ly,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});$(this,Ec,[0,0]);$(this,Ia,null);$(this,jo,null);$(this,Ny,null);$(this,vr,null);const b=this._signal=g(this,Wf).signal;V(this,jo,t),V(this,Ny,e),V(this,Kf,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:b}),B(this,Ct,YF).call(this),B(this,Ct,JF).call(this),B(this,Ct,D1).call(this),V(this,Bo,a.annotationStorage),V(this,ky,a.filterFactory),V(this,ih,l),V(this,Zf,c||null),V(this,Ry,h),V(this,Iy,d),V(this,Qf,p),V(this,Oy,y||null),this.viewParameters={realScale:nu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Rf.prototype,e=l=>g(l,jo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new rb([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&g(l,jo).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&g(l,jo).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,n,s;(t=g(this,vr))==null||t.resolve(),V(this,vr,null),(e=g(this,Wf))==null||e.abort(),V(this,Wf,null),this._signal=null;for(const a of g(this,Ui).values())a.destroy();g(this,Ui).clear(),g(this,pi).clear(),g(this,eh).clear(),V(this,$s,null),g(this,Ge).clear(),g(this,Ur).destroy(),(n=g(this,Kf))==null||n.destroy(),(s=g(this,Ra))==null||s.hide(),V(this,Ra,null),g(this,Ca)&&(clearTimeout(g(this,Ca)),V(this,Ca,null)),g(this,Ia)&&(clearTimeout(g(this,Ia)),V(this,Ia,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return g(this,Oy)}get useNewAltTextFlow(){return g(this,Iy)}get useNewAltTextWhenAddingImage(){return g(this,Qf)}get hcmFilter(){return Ae(this,"hcmFilter",g(this,ih)?g(this,ky).addHCMFilter(g(this,ih).foreground,g(this,ih).background):"none")}get direction(){return Ae(this,"direction",getComputedStyle(g(this,jo)).direction)}get highlightColors(){return Ae(this,"highlightColors",g(this,Zf)?new Map(g(this,Zf).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ae(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){V(this,My,t)}editAltText(t,e=!1){var n;(n=g(this,Kf))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":V(this,Qf,e);break}}onPageChanging({pageNumber:t}){V(this,Xf,t-1)}focusMainContainer(){g(this,jo).focus()}findParent(t,e){for(const n of g(this,Ui).values()){const{x:s,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+l&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){g(this,Ny).classList.toggle("noUserSelect",t)}addShouldRescale(t){g(this,eh).add(t)}removeShouldRescale(t){g(this,eh).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*nu.PDF_TO_CSS_UNITS;for(const e of g(this,eh))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l}=e,c=e.toString(),d=B(this,Ct,__).call(this,e).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;e.empty();const y=B(this,Ct,O1).call(this,d),b=g(this,Ii)===le.NONE,E=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(le.HIGHLIGHT,E);return}E()}addToAnnotationStorage(t){!t.isEmpty()&&g(this,Bo)&&!g(this,Bo).has(t.id)&&g(this,Bo).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,g(this,vc)&&(V(this,vc,!1),B(this,Ct,E_).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of g(this,Ge))if(e.div.contains(t)){V(this,nh,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!g(this,nh))return;const[t,e]=g(this,nh);V(this,nh,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){B(this,Ct,D1).call(this),B(this,Ct,L1).call(this)}removeEditListeners(){B(this,Ct,ZF).call(this),B(this,Ct,N1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of g(this,Br))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of g(this,Br))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=g(this,$s))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of g(this,Ge)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of g(this,Br))if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){de(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of n){const d=await s.deserialize(h);if(!d)return;a.push(d)}const l=()=>{for(const h of a)B(this,Ct,F1).call(this,h);B(this,Ct,V1).call(this,a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){de(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,Ii)!==le.NONE&&!this.isEditorHandlingKeyboard&&Rf._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,vc)&&(V(this,vc,!1),B(this,Ct,E_).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(B(this,Ct,XF).call(this),B(this,Ct,L1).call(this),B(this,Ct,ms).call(this,{isEditing:g(this,Ii)!==le.NONE,isEmpty:B(this,Ct,Nm).call(this),hasSomethingToUndo:g(this,Ur).hasSomethingToUndo(),hasSomethingToRedo:g(this,Ur).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,Ct,QF).call(this),B(this,Ct,N1).call(this),B(this,Ct,ms).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!g(this,Br)){V(this,Br,t);for(const e of g(this,Br))B(this,Ct,oc).call(this,e.defaultPropertiesToUpdate)}}getId(){return g(this,kE).id}get currentLayer(){return g(this,Ui).get(g(this,Xf))}getLayer(t){return g(this,Ui).get(t)}get currentPageIndex(){return g(this,Xf)}addLayer(t){g(this,Ui).set(t.pageIndex,t),g(this,bc)?t.enable():t.disable()}removeLayer(t){g(this,Ui).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(g(this,Ii)!==t&&!(g(this,vr)&&(await g(this,vr).promise,!g(this,vr)))){if(V(this,vr,Promise.withResolvers()),V(this,Ii,t),t===le.NONE){this.setEditingState(!1),B(this,Ct,e3).call(this),g(this,vr).resolve();return}this.setEditingState(!0),await B(this,Ct,t3).call(this),this.unselectAll();for(const s of g(this,Ui).values())s.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),g(this,vr).resolve();return}for(const s of g(this,pi).values())s.annotationElementId===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();g(this,vr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==g(this,Ii)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(g(this,Br)){switch(t){case ne.CREATE:this.currentLayer.addNewEditor();return;case ne.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,My))==null||n.updateColor(e);break;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Dy)||V(this,Dy,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of g(this,Ge))s.updateParams(t,e);for(const s of g(this,Br))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var a;for(const l of g(this,pi).values())l.editorType===t&&l.show(e);(((a=g(this,Dy))==null?void 0:a.get(ne.HIGHLIGHT_SHOW_ALL))??!0)!==e&&B(this,Ct,oc).call(this,[[ne.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(g(this,Py)!==t){V(this,Py,t);for(const e of g(this,Ui).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of g(this,pi).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return g(this,pi).get(t)}addEditor(t){g(this,pi).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(g(this,Ca)&&clearTimeout(g(this,Ca)),V(this,Ca,setTimeout(()=>{this.focusMainContainer(),V(this,Ca,null)},0))),g(this,pi).delete(t.id),this.unselect(t),(!t.annotationElementId||!g(this,th).has(t.annotationElementId))&&((e=g(this,Bo))==null||e.remove(t.id))}addDeletedAnnotationElement(t){g(this,th).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return g(this,th).has(t)}removeDeletedAnnotationElement(t){g(this,th).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){g(this,$s)!==t&&(V(this,$s,t),t&&B(this,Ct,oc).call(this,t.propertiesToUpdate))}updateUI(t){g(this,Ct,n3)===t&&B(this,Ct,oc).call(this,t.propertiesToUpdate)}toggleSelected(t){if(g(this,Ge).has(t)){g(this,Ge).delete(t),t.unselect(),B(this,Ct,ms).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Ge).add(t),t.select(),B(this,Ct,oc).call(this,t.propertiesToUpdate),B(this,Ct,ms).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of g(this,Ge))e!==t&&e.unselect();g(this,Ge).clear(),g(this,Ge).add(t),t.select(),B(this,Ct,oc).call(this,t.propertiesToUpdate),B(this,Ct,ms).call(this,{hasSelectedEditor:!0})}isSelected(t){return g(this,Ge).has(t)}get firstSelectedEditor(){return g(this,Ge).values().next().value}unselect(t){t.unselect(),g(this,Ge).delete(t),B(this,Ct,ms).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Ge).size!==0}get isEnterHandled(){return g(this,Ge).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,Ur).undo(),B(this,Ct,ms).call(this,{hasSomethingToUndo:g(this,Ur).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,Ct,Nm).call(this)})}redo(){g(this,Ur).redo(),B(this,Ct,ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Ur).hasSomethingToRedo(),isEmpty:B(this,Ct,Nm).call(this)})}addCommands(t){g(this,Ur).add(t),B(this,Ct,ms).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,Ct,Nm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...g(this,Ge)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)B(this,Ct,F1).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=g(this,$s))==null||t.commitOrRemove()}hasSomethingToControl(){return g(this,$s)||this.hasSelection}selectAll(){for(const t of g(this,Ge))t.commit();B(this,Ct,V1).call(this,g(this,pi).values())}unselectAll(){if(!(g(this,$s)&&(g(this,$s).commitOrRemove(),g(this,Ii)!==le.NONE))&&this.hasSelection){for(const t of g(this,Ge))t.unselect();g(this,Ge).clear(),B(this,Ct,ms).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Ec)[0]+=t,g(this,Ec)[1]+=e;const[s,a]=g(this,Ec),l=[...g(this,Ge)],c=1e3;g(this,Ia)&&clearTimeout(g(this,Ia)),V(this,Ia,setTimeout(()=>{V(this,Ia,null),g(this,Ec)[0]=g(this,Ec)[1]=0,this.addCommands({cmd:()=>{for(const h of l)g(this,pi).has(h.id)&&h.translateInPage(s,a)},undo:()=>{for(const h of l)g(this,pi).has(h.id)&&h.translateInPage(-s,-a)},mustExec:!1})},c));for(const h of l)h.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),V(this,xa,new Map);for(const t of g(this,Ge))g(this,xa).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,xa))return!1;this.disableUserSelect(!1);const t=g(this,xa);V(this,xa,null);let e=!1;for(const[{x:s,y:a,pageIndex:l},c]of t)c.newX=s,c.newY=a,c.newPageIndex=l,e||(e=s!==c.savedX||a!==c.savedY||l!==c.savedPageIndex);if(!e)return!1;const n=(s,a,l,c)=>{if(g(this,pi).has(s.id)){const h=g(this,Ui).get(c);h?s._setParentAndPosition(h,a,l):(s.pageIndex=c,s.x=a,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:l,newPageIndex:c}]of t)n(s,a,l,c)},undo:()=>{for(const[s,{savedX:a,savedY:l,savedPageIndex:c}]of t)n(s,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(g(this,xa))for(const n of g(this,xa).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||g(this,Ge).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return g(this,$s)===t}getActive(){return g(this,$s)}getMode(){return g(this,Ii)}get imageManager(){return Ae(this,"imageManager",new P1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,y,b)=>({x:(p-s)/l,y:1-(d+y-n)/a,width:b/l,height:y/a});break;case"180":c=(d,p,y,b)=>({x:1-(d+y-n)/a,y:1-(p+b-s)/l,width:y/a,height:b/l});break;case"270":c=(d,p,y,b)=>({x:1-(p+b-s)/l,y:(d-n)/a,width:b/l,height:y/a});break;default:c=(d,p,y,b)=>({x:(d-n)/a,y:(p-s)/l,width:y/a,height:b/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const y=e.getRangeAt(d);if(!y.collapsed)for(const{x:b,y:E,width:A,height:S}of y.getClientRects())A===0||S===0||h.push(c(b,E,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(g(this,Yf)||V(this,Yf,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=g(this,Yf))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=g(this,Yf))==null?void 0:s.get(t.data.id);if(!e)return;const n=g(this,Bo).getRawValue(e);n&&(g(this,Ii)===le.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Wf=new WeakMap,$s=new WeakMap,pi=new WeakMap,Ui=new WeakMap,Kf=new WeakMap,Bo=new WeakMap,Yf=new WeakMap,Ur=new WeakMap,mc=new WeakMap,Xf=new WeakMap,th=new WeakMap,xa=new WeakMap,Br=new WeakMap,eh=new WeakMap,Ry=new WeakMap,Iy=new WeakMap,Qf=new WeakMap,ky=new WeakMap,Ca=new WeakMap,yc=new WeakMap,Zf=new WeakMap,vc=new WeakMap,Ra=new WeakMap,kE=new WeakMap,bc=new WeakMap,Py=new WeakMap,_c=new WeakMap,nh=new WeakMap,My=new WeakMap,Oy=new WeakMap,Ii=new WeakMap,Ge=new WeakMap,zo=new WeakMap,ih=new WeakMap,Dy=new WeakMap,Ly=new WeakMap,Ec=new WeakMap,Ia=new WeakMap,jo=new WeakMap,Ny=new WeakMap,vr=new WeakMap,Ct=new WeakSet,__=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},O1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of g(this,Ui).values())if(n.hasTextLayer(t))return n;return null},WF=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=B(this,Ct,__).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(g(this,Ra)||V(this,Ra,new oZ(this)),g(this,Ra).show(n,s,this.direction==="ltr"))},KF=function(){var a,l,c;const t=document.getSelection();if(!t||t.isCollapsed){g(this,zo)&&((a=g(this,Ra))==null||a.hide(),V(this,zo,null),B(this,Ct,ms).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===g(this,zo))return;const s=B(this,Ct,__).call(this,t).closest(".textLayer");if(!s){g(this,zo)&&((l=g(this,Ra))==null||l.hide(),V(this,zo,null),B(this,Ct,ms).call(this,{hasSelectedText:!1}));return}if((c=g(this,Ra))==null||c.hide(),V(this,zo,e),B(this,Ct,ms).call(this,{hasSelectedText:!0}),!(g(this,Ii)!==le.HIGHLIGHT&&g(this,Ii)!==le.NONE)&&(g(this,Ii)===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),V(this,vc,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=g(this,Ii)===le.HIGHLIGHT?B(this,Ct,O1).call(this,s):null;h==null||h.toggleDrawing();const d=new AbortController,p=this.combinedSignal(d),y=b=>{b.type==="pointerup"&&b.button!==0||(d.abort(),h==null||h.toggleDrawing(!0),b.type==="pointerup"&&B(this,Ct,E_).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:p}),window.addEventListener("blur",y,{signal:p})}},E_=function(t=""){g(this,Ii)===le.HIGHLIGHT?this.highlightSelection(t):g(this,Ry)&&B(this,Ct,WF).call(this)},YF=function(){document.addEventListener("selectionchange",B(this,Ct,KF).bind(this),{signal:this._signal})},XF=function(){if(g(this,yc))return;V(this,yc,new AbortController);const t=this.combinedSignal(g(this,yc));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},QF=function(){var t;(t=g(this,yc))==null||t.abort(),V(this,yc,null)},D1=function(){if(g(this,_c))return;V(this,_c,new AbortController);const t=this.combinedSignal(g(this,_c));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},ZF=function(){var t;(t=g(this,_c))==null||t.abort(),V(this,_c,null)},L1=function(){if(g(this,mc))return;V(this,mc,new AbortController);const t=this.combinedSignal(g(this,mc));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},N1=function(){var t;(t=g(this,mc))==null||t.abort(),V(this,mc,null)},JF=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ms=function(t){Object.entries(t).some(([n,s])=>g(this,Ly)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Ly),t)}),g(this,Ii)===le.HIGHLIGHT&&t.hasSelectedEditor===!1&&B(this,Ct,oc).call(this,[[ne.HIGHLIGHT_FREE,!0]]))},oc=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},t3=async function(){if(!g(this,bc)){V(this,bc,!0);const t=[];for(const e of g(this,Ui).values())t.push(e.enable());await Promise.all(t);for(const e of g(this,pi).values())e.enable()}},e3=function(){if(this.unselectAll(),g(this,bc)){V(this,bc,!1);for(const t of g(this,Ui).values())t.disable();for(const t of g(this,pi).values())t.disable()}},F1=function(t){const e=g(this,Ui).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},n3=function(){let t=null;for(t of g(this,Ge));return t},Nm=function(){if(g(this,pi).size===0)return!0;if(g(this,pi).size===1)for(const t of g(this,pi).values())return t.isEmpty();return!1},V1=function(t){for(const e of g(this,Ge))e.unselect();g(this,Ge).clear();for(const e of t)e.isEmpty()||(g(this,Ge).add(e),e.select());B(this,Ct,ms).call(this,{hasSelectedEditor:this.hasSelection})},Qt(Rf,"TRANSLATE_SMALL",1),Qt(Rf,"TRANSLATE_BIG",10);let ed=Rf;var ki,ka,zr,Jf,Pa,qs,tp,Ma,Cs,Ho,sh,Oa,Ac,ea,Fm,A_;const ys=class ys{constructor(t){$(this,ea);$(this,ki,null);$(this,ka,!1);$(this,zr,null);$(this,Jf,null);$(this,Pa,null);$(this,qs,null);$(this,tp,!1);$(this,Ma,null);$(this,Cs,null);$(this,Ho,null);$(this,sh,null);$(this,Oa,!1);V(this,Cs,t),V(this,Oa,t._uiManager.useNewAltTextFlow),g(ys,Ac)||V(ys,Ac,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ys._l10n??(ys._l10n=t)}async render(){const t=V(this,zr,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=V(this,Jf,document.createElement("span"));t.append(e),g(this,Oa)?(t.classList.add("new"),t.setAttribute("data-l10n-id",g(ys,Ac).missing),e.setAttribute("data-l10n-id",g(ys,Ac)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,Cs)._uiManager._signal;t.addEventListener("contextmenu",Ir,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),g(this,Cs)._uiManager.editAltText(g(this,Cs)),g(this,Oa)&&g(this,Cs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,ea,Fm)}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(V(this,tp,!0),s(a))},{signal:n}),await B(this,ea,A_).call(this),t}finish(){g(this,zr)&&(g(this,zr).focus({focusVisible:g(this,tp)}),V(this,tp,!1))}isEmpty(){return g(this,Oa)?g(this,ki)===null:!g(this,ki)&&!g(this,ka)}hasData(){return g(this,Oa)?g(this,ki)!==null||!!g(this,Ho):this.isEmpty()}get guessedText(){return g(this,Ho)}async setGuessedText(t){g(this,ki)===null&&(V(this,Ho,t),V(this,sh,await ys._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),B(this,ea,A_).call(this))}toggleAltTextBadge(t=!1){var e;if(!g(this,Oa)||g(this,ki)){(e=g(this,Ma))==null||e.remove(),V(this,Ma,null);return}if(!g(this,Ma)){const n=V(this,Ma,document.createElement("div"));n.className="noAltTextBadge",g(this,Cs).div.append(n)}g(this,Ma).classList.toggle("hidden",!t)}serialize(t){let e=g(this,ki);return!t&&g(this,Ho)===e&&(e=g(this,sh)),{altText:e,decorative:g(this,ka),guessedText:g(this,Ho),textWithDisclaimer:g(this,sh)}}get data(){return{altText:g(this,ki),decorative:g(this,ka)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(V(this,Ho,n),V(this,sh,s)),!(g(this,ki)===t&&g(this,ka)===e)&&(a||(V(this,ki,t),V(this,ka,e)),B(this,ea,A_).call(this))}toggle(t=!1){g(this,zr)&&(!t&&g(this,qs)&&(clearTimeout(g(this,qs)),V(this,qs,null)),g(this,zr).disabled=!t)}shown(){g(this,Cs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,ea,Fm)}})}destroy(){var t,e;(t=g(this,zr))==null||t.remove(),V(this,zr,null),V(this,Jf,null),V(this,Pa,null),(e=g(this,Ma))==null||e.remove(),V(this,Ma,null)}};ki=new WeakMap,ka=new WeakMap,zr=new WeakMap,Jf=new WeakMap,Pa=new WeakMap,qs=new WeakMap,tp=new WeakMap,Ma=new WeakMap,Cs=new WeakMap,Ho=new WeakMap,sh=new WeakMap,Oa=new WeakMap,Ac=new WeakMap,ea=new WeakSet,Fm=function(){return g(this,ki)&&"added"||g(this,ki)===null&&this.guessedText&&"review"||"missing"},A_=async function(){var s,a,l;const t=g(this,zr);if(!t)return;if(g(this,Oa)){if(t.classList.toggle("done",!!g(this,ki)),t.setAttribute("data-l10n-id",g(ys,Ac)[g(this,ea,Fm)]),(s=g(this,Jf))==null||s.setAttribute("data-l10n-id",g(ys,Ac)[`${g(this,ea,Fm)}-label`]),!g(this,ki)){(a=g(this,Pa))==null||a.remove();return}}else{if(!g(this,ki)&&!g(this,ka)){t.classList.remove("done"),(l=g(this,Pa))==null||l.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=g(this,Pa);if(!e){V(this,Pa,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${g(this,Cs).id}`;const c=100,h=g(this,Cs)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(g(this,qs)),V(this,qs,null)},{once:!0}),t.addEventListener("mouseenter",()=>{V(this,qs,setTimeout(()=>{V(this,qs,null),g(this,Pa).classList.add("show"),g(this,Cs)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),t.addEventListener("mouseleave",()=>{var d;g(this,qs)&&(clearTimeout(g(this,qs)),V(this,qs,null)),(d=g(this,Pa))==null||d.classList.remove("show")},{signal:h})}g(this,ka)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=g(this,ki)),e.parentNode||t.append(e);const n=g(this,Cs).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},$(ys,Ac,null),Qt(ys,"_l10n",null);let EE=ys;var rh,jr,xn,ep,ah,Bi,oh,Sc,Fy,lh,wc,Vy,ch,$o,Da,np,ip,br,Uy,PE,ce,U1,By,B1,z1,i3,s3,j1,H1,$1,r3,q1,a3,o3,l3,G1,Vm;const je=class je{constructor(t){$(this,ce);$(this,rh,null);$(this,jr,null);$(this,xn,null);$(this,ep,!1);$(this,ah,!1);$(this,Bi,null);$(this,oh,null);$(this,Sc,null);$(this,Fy,"");$(this,lh,!1);$(this,wc,null);$(this,Vy,!1);$(this,ch,!1);$(this,$o,!1);$(this,Da,null);$(this,np,0);$(this,ip,0);$(this,br,null);Qt(this,"_editToolbar",null);Qt(this,"_initialOptions",Object.create(null));Qt(this,"_initialData",null);Qt(this,"_isVisible",!0);Qt(this,"_uiManager",null);Qt(this,"_focusEventsAllowed",!0);$(this,Uy,!1);$(this,PE,je._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=je.prototype._resizeWithKeyboard,e=ed.TRANSLATE_SMALL,n=ed.TRANSLATE_BIG;return Ae(this,"_resizerKeyboardManager",new rb([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],je.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ae(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new hZ({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(je._l10n??(je._l10n=t),je._l10nResizer||(je._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),je._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);je._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){mn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Uy)}set _isDraggable(t){var e;V(this,Uy,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,PE)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):B(this,ce,Vm).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(g(this,lh)?V(this,lh,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[a,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/a,this.y=(e+s)/l,this.fixAndSetPosition()}translate(t,e){B(this,ce,U1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){g(this,wc)||V(this,wc,[this.x,this.y]),B(this,ce,U1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){g(this,wc)||V(this,wc,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,h]=this.getBaseTranslation();a+=c,l+=h,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,wc)&&(g(this,wc)[0]!==this.x||g(this,wc)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=je,s=n/t,a=n/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:a,width:l,height:c}=this;if(l*=e,c*=n,s*=e,a*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-l,s)),a=Math.max(0,Math.min(n-c,a));break;case 90:s=Math.max(0,Math.min(e-c,s)),a=Math.min(n,Math.max(l,a));break;case 180:s=Math.min(e,Math.max(l,s)),a=Math.min(n,Math.max(c,a));break;case 270:s=Math.min(e,Math.max(c,s)),a=Math.max(0,Math.min(n-l,a));break}this.x=s/=e,this.y=a/=n;const[h,d]=this.getBaseTranslation();s+=h,a+=d;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return B(n=je,By,B1).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return B(n=je,By,B1).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,g(this,ah)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),a=!g(this,ah)&&e.endsWith("%");if(s&&a)return;const[l,c]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!g(this,ah)&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=g(this,xn))==null||t.finish()}async addEditToolbar(){return this._editToolbar||g(this,ch)?this._editToolbar:(this._editToolbar=new I1(this),this.div.append(this._editToolbar.render()),g(this,xn)&&await this._editToolbar.addAltText(g(this,xn)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=g(this,xn))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,xn)||(EE.initialize(je._l10n),V(this,xn,new EE(this)),g(this,rh)&&(g(this,xn).data=g(this,rh),V(this,rh,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=g(this,xn))==null?void 0:t.data}set altTextData(t){g(this,xn)&&(g(this,xn).data=t)}get guessedAltText(){var t;return(t=g(this,xn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=g(this,xn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=g(this,xn))==null?void 0:e.serialize(t)}hasAltText(){return!!g(this,xn)&&!g(this,xn).isEmpty()}hasAltTextData(){var t;return((t=g(this,xn))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,ep)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),B(this,ce,q1).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),_E(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=bs.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(V(this,lh,!0),this._isDraggable){B(this,ce,r3).call(this,t);return}B(this,ce,$1).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,Da)&&clearTimeout(g(this,Da)),V(this,Da,setTimeout(()=>{var t;V(this,Da,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/s,p=e/s,y=this.x*a,b=this.y*l,E=this.width*a,A=this.height*l;switch(n){case 0:return[y+d+c,l-b-p-A+h,y+d+E+c,l-b-p+h];case 90:return[y+p+c,l-b+d+h,y+p+A+c,l-b+d+E+h];case 180:return[y-d-E+c,l-b+p+h,y-d+c,l-b+p+A+h];case 270:return[y-p-A+c,l-b-d-E+h,y-p+c,l-b-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,a,l]=t,c=a-n,h=l-s;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-s,h,c];case 180:return[a,e-s,c,h];case 270:return[a,e-l,h,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){V(this,ch,!0)}disableEditMode(){V(this,ch,!1)}isInEditMode(){return g(this,ch)}shouldGetKeyboardEvents(){return g(this,$o)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){B(this,ce,q1).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){mn("An editor must be serializable")}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,V(s,rh,t.accessibilityData);const[a,l]=s.pageDimensions,[c,h,d,p]=s.getRectInCurrentCoords(t.rect,l);return s.x=c/a,s.y=h/l,s.width=d/a,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=g(this,Sc))==null||t.abort(),V(this,Sc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Da)&&(clearTimeout(g(this,Da)),V(this,Da,null)),B(this,ce,Vm).call(this),this.removeEditToolbar(),g(this,br)){for(const e of g(this,br).values())clearTimeout(e);V(this,br,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,ce,i3).call(this),g(this,Bi).classList.remove("hidden"),_E(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),V(this,oh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=g(this,Bi).children;if(!g(this,jr)){V(this,jr,Array.from(e));const l=B(this,ce,a3).bind(this),c=B(this,ce,o3).bind(this),h=this._uiManager._signal;for(const d of g(this,jr)){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",B(this,ce,l3).bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",je._l10nResizer[p])}}const n=g(this,jr)[0];let s=0;for(const l of e){if(l===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(g(this,jr).length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)g(this,Bi).append(g(this,Bi).firstChild);else if(a>s)for(let c=0;c<a-s;c++)g(this,Bi).firstChild.before(g(this,Bi).lastChild);let l=0;for(const c of e){const d=g(this,jr)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",je._l10nResizer[d])}}B(this,ce,G1).call(this,0),V(this,$o,!0),g(this,Bi).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){g(this,$o)&&B(this,ce,H1).call(this,g(this,Fy),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){B(this,ce,Vm).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(n=g(this,xn))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,s,a;(t=g(this,Bi))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=g(this,xn))==null||a.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Vy)}set isEditing(t){V(this,Vy,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){V(this,ah,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){g(this,br)||V(this,br,new Map);const{action:n}=t;let s=g(this,br).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),g(this,br).delete(n),g(this,br).size===0&&V(this,br,null)},je._telemetryTimeout),g(this,br).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),V(this,ep,!1)}disable(){this.div&&(this.div.tabIndex=-1),V(this,ep,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};rh=new WeakMap,jr=new WeakMap,xn=new WeakMap,ep=new WeakMap,ah=new WeakMap,Bi=new WeakMap,oh=new WeakMap,Sc=new WeakMap,Fy=new WeakMap,lh=new WeakMap,wc=new WeakMap,Vy=new WeakMap,ch=new WeakMap,$o=new WeakMap,Da=new WeakMap,np=new WeakMap,ip=new WeakMap,br=new WeakMap,Uy=new WeakMap,PE=new WeakMap,ce=new WeakSet,U1=function([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this.fixAndSetPosition()},By=new WeakSet,B1=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},z1=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},i3=function(){if(g(this,Bi))return;V(this,Bi,document.createElement("div")),g(this,Bi).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");g(this,Bi).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",B(this,ce,s3).bind(this,n),{signal:e}),s.addEventListener("contextmenu",Ir,{signal:e}),s.tabIndex=-1}this.div.prepend(g(this,Bi))},s3=function(t,e){var A;e.preventDefault();const{isMac:n}=bs.platform;if(e.button!==0||e.ctrlKey&&n)return;(A=g(this,xn))==null||A.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",B(this,ce,H1).bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",Ir,{signal:l});const c=this.x,h=this.y,d=this.width,p=this.height,y=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const E=()=>{var S;a.abort(),this.parent.togglePointerEvents(!0),(S=g(this,xn))==null||S.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=y,this.div.style.cursor=b,B(this,ce,j1).call(this,c,h,d,p)};window.addEventListener("pointerup",E,{signal:l}),window.addEventListener("blur",E,{signal:l})},j1=function(t,e,n,s){const a=this.x,l=this.y,c=this.width,h=this.height;a===t&&l===e&&c===n&&h===s||this.addCommands({cmd:()=>{this.width=c,this.height=h,this.x=a,this.y=l;const[d,p]=this.parentDimensions;this.setDims(d*c,p*h),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=t,this.y=e;const[d,p]=this.parentDimensions;this.setDims(d*n,p*s),this.fixAndSetPosition()},mustExec:!0})},H1=function(t,e){const[n,s]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,d=je.MIN_SIZE/n,p=je.MIN_SIZE/s,y=Q=>Math.round(Q*1e4)/1e4,b=B(this,ce,z1).call(this,this.rotation),E=(Q,at)=>[b[0]*Q+b[2]*at,b[1]*Q+b[3]*at],A=B(this,ce,z1).call(this,360-this.rotation),S=(Q,at)=>[A[0]*Q+A[2]*at,A[1]*Q+A[3]*at];let C,x,N=!1,M=!1;switch(t){case"topLeft":N=!0,C=(Q,at)=>[0,0],x=(Q,at)=>[Q,at];break;case"topMiddle":C=(Q,at)=>[Q/2,0],x=(Q,at)=>[Q/2,at];break;case"topRight":N=!0,C=(Q,at)=>[Q,0],x=(Q,at)=>[0,at];break;case"middleRight":M=!0,C=(Q,at)=>[Q,at/2],x=(Q,at)=>[0,at/2];break;case"bottomRight":N=!0,C=(Q,at)=>[Q,at],x=(Q,at)=>[0,0];break;case"bottomMiddle":C=(Q,at)=>[Q/2,at],x=(Q,at)=>[Q/2,0];break;case"bottomLeft":N=!0,C=(Q,at)=>[0,at],x=(Q,at)=>[Q,0];break;case"middleLeft":M=!0,C=(Q,at)=>[0,at/2],x=(Q,at)=>[Q,at/2];break}const P=C(c,h),F=x(c,h);let W=E(...F);const D=y(a+W[0]),I=y(l+W[1]);let L=1,T=1,[U,q]=this.screenToPageTranslation(e.movementX,e.movementY);if([U,q]=S(U/n,q/s),N){const Q=Math.hypot(c,h);L=T=Math.max(Math.min(Math.hypot(F[0]-P[0]-U,F[1]-P[1]-q)/Q,1/c,1/h),d/c,p/h)}else M?L=Math.max(d,Math.min(1,Math.abs(F[0]-P[0]-U)))/c:T=Math.max(p,Math.min(1,Math.abs(F[1]-P[1]-q)))/h;const j=y(c*L),ct=y(h*T);W=E(...x(j,ct));const nt=D-W[0],Y=I-W[1];this.width=j,this.height=ct,this.x=nt,this.y=Y,this.setDims(n*j,s*ct),this.fixAndSetPosition()},$1=function(t){const{isMac:e}=bs.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},r3=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),V(this,np,t.clientX),V(this,ip,t.clientY);const l=c=>{const{clientX:h,clientY:d}=c,[p,y]=this.screenToPageTranslation(h-g(this,np),d-g(this,ip));V(this,np,h),V(this,ip,d),this._uiManager.dragSelectedEditors(p,y)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:s})}const a=()=>{n.abort(),e&&this.div.classList.remove("moving"),V(this,lh,!1),this._uiManager.endDragSession()||B(this,ce,$1).call(this,t)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},q1=function(){if(g(this,Sc)||!this.div)return;V(this,Sc,new AbortController);const t=this._uiManager.combinedSignal(g(this,Sc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},a3=function(t){je._resizerKeyboardManager.exec(this,t)},o3=function(t){var e;g(this,$o)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==g(this,Bi)&&B(this,ce,Vm).call(this)},l3=function(t){V(this,Fy,g(this,$o)?t:"")},G1=function(t){if(g(this,jr))for(const e of g(this,jr))e.tabIndex=t},Vm=function(){if(V(this,$o,!1),B(this,ce,G1).call(this,-1),g(this,oh)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=g(this,oh);B(this,ce,j1).call(this,t,e,n,s),V(this,oh,null)}},$(je,By),Qt(je,"_l10n",null),Qt(je,"_l10nResizer",null),Qt(je,"_borderLineWidth",-1),Qt(je,"_colorManager",new M1),Qt(je,"_zIndex",1),Qt(je,"_telemetryTimeout",1e3);let Ke=je;class hZ extends Ke{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aD=3285377520,yr=4294901760,wa=65535;class c3{constructor(t){this.h1=t?t&4294967295:aD,this.h2=t?t&4294967295:aD}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,C=t.length;S<C;S++){const x=t.charCodeAt(S);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,l=new Uint32Array(e.buffer,0,s);let c=0,h=0,d=this.h1,p=this.h2;const y=3432918353,b=461845907,E=y&wa,A=b&wa;for(let S=0;S<s;S++)S&1?(c=l[S],c=c*y&yr|c*E&wa,c=c<<15|c>>>17,c=c*b&yr|c*A&wa,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[S],h=h*y&yr|h*E&wa,h=h<<15|h>>>17,h=h*b&yr|h*A&wa,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*y&yr|c*E&wa,c=c<<15|c>>>17,c=c*b&yr|c*A&wa,s&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&yr|t*36045&wa,e=e*4283543511&yr|((e<<16|t>>>16)*2950163797&yr)>>>16,t^=e>>>1,t=t*444984403&yr|t*60499&wa,e=e*3301882366&yr|((e<<16|t>>>16)*3120437893&yr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const W1=Object.freeze({map:null,hash:"",transfer:void 0});var uh,hh,Pi,ME,u3;class RR{constructor(){$(this,ME);$(this,uh,!1);$(this,hh,null);$(this,Pi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=g(this,Pi).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return g(this,Pi).get(t)}remove(t){if(g(this,Pi).delete(t),g(this,Pi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of g(this,Pi).values())if(e instanceof Ke)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=g(this,Pi).get(t);let s=!1;if(n!==void 0)for(const[a,l]of Object.entries(e))n[a]!==l&&(s=!0,n[a]=l);else s=!0,g(this,Pi).set(t,e);s&&B(this,ME,u3).call(this),e instanceof Ke&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return g(this,Pi).has(t)}getAll(){return g(this,Pi).size>0?AR(g(this,Pi)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return g(this,Pi).size}resetModified(){g(this,uh)&&(V(this,uh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h3(this)}get serializable(){if(g(this,Pi).size===0)return W1;const t=new Map,e=new c3,n=[],s=Object.create(null);let a=!1;for(const[l,c]of g(this,Pi)){const h=c instanceof Ke?c.serialize(!1,s):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:W1}get editorStats(){let t=null;const e=new Map;for(const n of g(this,Pi).values()){if(!(n instanceof Ke))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const l=t[a]||(t[a]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const p=d.get(h)??0;d.set(h,p+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){V(this,hh,null)}get modifiedIds(){if(g(this,hh))return g(this,hh);const t=[];for(const e of g(this,Pi).values())!(e instanceof Ke)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return V(this,hh,{ids:new Set(t),hash:t.join(",")})}}uh=new WeakMap,hh=new WeakMap,Pi=new WeakMap,ME=new WeakSet,u3=function(){g(this,uh)||(V(this,uh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zy;class h3 extends RR{constructor(e){super();$(this,zy);const{map:n,hash:s,transfer:a}=e.serializable,l=structuredClone(n,a?{transfer:a}:null);V(this,zy,{map:l,hash:s,transfer:a})}get print(){mn("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,zy)}get modifiedIds(){return Ae(this,"modifiedIds",{ids:new Set,hash:""})}}zy=new WeakMap;var sp;class dZ{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){$(this,sp,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),g(this,sp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||g(this,sp).has(t.loadedName))){if(yi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:a}=t,l=new FontFace(n,s,a);this.addNativeFontFace(l);try{await l.load(),g(this,sp).add(n),e==null||e(t)}catch{de(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}mn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw de(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ae(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(os||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ae(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(yi(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ae(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(P,F){return P.charCodeAt(F)<<24|P.charCodeAt(F+1)<<16|P.charCodeAt(F+2)<<8|P.charCodeAt(F+3)&255}function s(P,F,W,D){const I=P.substring(0,F),L=P.substring(F+W);return I+D+L}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(P,F){if(++d>30){de("Load test font never loaded."),F();return}if(h.font="30px "+P,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(p.bind(null,P,F))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=s(b,976,y.length,y);const A=16,S=1482184792;let C=n(b,A);for(a=0,l=y.length-3;a<l;a+=4)C=C-S+n(y,a)|0;a<y.length&&(C=C-S+n(y+"XXX",a)|0),b=s(b,A,4,XQ(C));const x=`url(data:font/opentype;base64,${btoa(b)});`,N=`@font-face {font-family:"${y}";src:${x}}`;this.insertRule(N);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const P of[t.loadedName,y]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=P,M.append(F)}this._document.body.append(M),p(y,()=>{M.remove(),e.complete()})}}sp=new WeakMap;class fZ{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${nZ(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(a){de(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(a,l){};const s=[];for(let a=0,l=n.length;a<l;)switch(n[a++]){case Lo.BEZIER_CURVE_TO:{const[c,h,d,p,y,b]=n.slice(a,a+6);s.push(E=>E.bezierCurveTo(c,h,d,p,y,b)),a+=6}break;case Lo.MOVE_TO:{const[c,h]=n.slice(a,a+2);s.push(d=>d.moveTo(c,h)),a+=2}break;case Lo.LINE_TO:{const[c,h]=n.slice(a,a+2);s.push(d=>d.lineTo(c,h)),a+=2}break;case Lo.QUADRATIC_CURVE_TO:{const[c,h,d,p]=n.slice(a,a+4);s.push(y=>y.quadraticCurveTo(c,h,d,p)),a+=4}break;case Lo.RESTORE:s.push(c=>c.restore());break;case Lo.SAVE:s.push(c=>c.save());break;case Lo.SCALE:yi(s.length===2,"Scale command is only valid at the third position.");break;case Lo.TRANSFORM:{const[c,h,d,p,y,b]=n.slice(a,a+6);s.push(E=>E.transform(c,h,d,p,y,b)),a+=6}break;case Lo.TRANSLATE:{const[c,h]=n.slice(a,a+2);s.push(d=>d.translate(c,h)),a+=2}break}return this.compiledGlyphs[e]=function(l,c){s[0](l),s[1](l),l.scale(c,-c);for(let h=2,d=s.length;h<d;h++)s[h](l)}}}var jy;class d3{constructor({enableHWA:t=!1}){$(this,jy,!1);V(this,jy,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,jy)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){mn("Abstract method `_createCanvas` called.")}}jy=new WeakMap;class pZ extends d3{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class f3{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){mn("Abstract method `_fetch` called.")}}class p3 extends f3{async _fetch(t){const e=await MA(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):PA(e)}}class g3{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,a){return"none"}destroy(t=!1){}}var dh,fh,La,qo,ts,OE,ph,Rt,Zi,bf,_f,S_,Ef,m3,K1,Af,Um,Bm,Y1,zm;class gZ extends g3{constructor({docId:e,ownerDocument:n=globalThis.document}){super();$(this,Rt);$(this,dh);$(this,fh);$(this,La);$(this,qo);$(this,ts);$(this,OE);$(this,ph,0);V(this,qo,e),V(this,ts,n)}addFilter(e){if(!e)return"none";let n=g(this,Rt,Zi).get(e);if(n)return n;const[s,a,l]=B(this,Rt,S_).call(this,e),c=e.length===1?s:`${s}${a}${l}`;if(n=g(this,Rt,Zi).get(c),n)return g(this,Rt,Zi).set(e,n),n;const h=`g_${g(this,qo)}_transfer_map_${gs(this,ph)._++}`,d=B(this,Rt,Ef).call(this,h);g(this,Rt,Zi).set(e,d),g(this,Rt,Zi).set(c,d);const p=B(this,Rt,Af).call(this,h);return B(this,Rt,Bm).call(this,s,a,l,p),d}addHCMFilter(e,n){var A;const s=`${e}-${n}`,a="base";let l=g(this,Rt,bf).get(a);if((l==null?void 0:l.key)===s||(l?((A=l.filter)==null||A.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},g(this,Rt,bf).set(a,l)),!e||!n))return l.url;const c=B(this,Rt,zm).call(this,e);e=Ft.makeHexColor(...c);const h=B(this,Rt,zm).call(this,n);if(n=Ft.makeHexColor(...h),g(this,Rt,_f).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return l.url;const d=new Array(256);for(let S=0;S<=255;S++){const C=S/255;d[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const p=d.join(","),y=`g_${g(this,qo)}_hcm_filter`,b=l.filter=B(this,Rt,Af).call(this,y);B(this,Rt,Bm).call(this,p,p,p,b),B(this,Rt,K1).call(this,b);const E=(S,C)=>{const x=c[S]/255,N=h[S]/255,M=new Array(C+1);for(let P=0;P<=C;P++)M[P]=x+P/C*(N-x);return M.join(",")};return B(this,Rt,Bm).call(this,E(0,5),E(1,5),E(2,5),b),l.url=B(this,Rt,Ef).call(this,y),l.url}addAlphaFilter(e){let n=g(this,Rt,Zi).get(e);if(n)return n;const[s]=B(this,Rt,S_).call(this,[e]),a=`alpha_${s}`;if(n=g(this,Rt,Zi).get(a),n)return g(this,Rt,Zi).set(e,n),n;const l=`g_${g(this,qo)}_alpha_map_${gs(this,ph)._++}`,c=B(this,Rt,Ef).call(this,l);g(this,Rt,Zi).set(e,c),g(this,Rt,Zi).set(a,c);const h=B(this,Rt,Af).call(this,l);return B(this,Rt,Y1).call(this,s,h),c}addLuminosityFilter(e){let n=g(this,Rt,Zi).get(e||"luminosity");if(n)return n;let s,a;if(e?([s]=B(this,Rt,S_).call(this,[e]),a=`luminosity_${s}`):a="luminosity",n=g(this,Rt,Zi).get(a),n)return g(this,Rt,Zi).set(e,n),n;const l=`g_${g(this,qo)}_luminosity_map_${gs(this,ph)._++}`,c=B(this,Rt,Ef).call(this,l);g(this,Rt,Zi).set(e,c),g(this,Rt,Zi).set(a,c);const h=B(this,Rt,Af).call(this,l);return B(this,Rt,m3).call(this,h),e&&B(this,Rt,Y1).call(this,s,h),c}addHighlightHCMFilter(e,n,s,a,l){var N;const c=`${n}-${s}-${a}-${l}`;let h=g(this,Rt,bf).get(e);if((h==null?void 0:h.key)===c||(h?((N=h.filter)==null||N.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},g(this,Rt,bf).set(e,h)),!n||!s))return h.url;const[d,p]=[n,s].map(B(this,Rt,zm).bind(this));let y=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[E,A]=[a,l].map(B(this,Rt,zm).bind(this));b<y&&([y,b,E,A]=[b,y,A,E]),g(this,Rt,_f).style.color="";const S=(M,P,F)=>{const W=new Array(256),D=(b-y)/F,I=M/255,L=(P-M)/(255*F);let T=0;for(let U=0;U<=F;U++){const q=Math.round(y+U*D),j=I+U*L;for(let ct=T;ct<=q;ct++)W[ct]=j;T=q+1}for(let U=T;U<256;U++)W[U]=W[T-1];return W.join(",")},C=`g_${g(this,qo)}_hcm_${e}_filter`,x=h.filter=B(this,Rt,Af).call(this,C);return B(this,Rt,K1).call(this,x),B(this,Rt,Bm).call(this,S(E[0],A[0],5),S(E[1],A[1],5),S(E[2],A[2],5),x),h.url=B(this,Rt,Ef).call(this,C),h.url}destroy(e=!1){e&&g(this,Rt,bf).size!==0||(g(this,La)&&(g(this,La).parentNode.parentNode.remove(),V(this,La,null)),g(this,fh)&&(g(this,fh).clear(),V(this,fh,null)),V(this,ph,0))}}dh=new WeakMap,fh=new WeakMap,La=new WeakMap,qo=new WeakMap,ts=new WeakMap,OE=new WeakMap,ph=new WeakMap,Rt=new WeakSet,Zi=function(){return g(this,fh)||V(this,fh,new Map)},bf=function(){return g(this,OE)||V(this,OE,new Map)},_f=function(){if(!g(this,La)){const e=g(this,ts).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=g(this,ts).createElementNS(Fo,"svg");s.setAttribute("width",0),s.setAttribute("height",0),V(this,La,g(this,ts).createElementNS(Fo,"defs")),e.append(s),s.append(g(this,La)),g(this,ts).body.append(e)}return g(this,La)},S_=function(e){if(e.length===1){const d=e[0],p=new Array(256);for(let b=0;b<256;b++)p[b]=d[b]/255;const y=p.join(",");return[y,y,y]}const[n,s,a]=e,l=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=n[d]/255,c[d]=s[d]/255,h[d]=a[d]/255;return[l.join(","),c.join(","),h.join(",")]},Ef=function(e){if(g(this,dh)===void 0){V(this,dh,"");const n=g(this,ts).URL;n!==g(this,ts).baseURI&&(OA(n)?de('#createUrl: ignore "data:"-URL for performance reasons.'):V(this,dh,n.split("#",1)[0]))}return`url(${g(this,dh)}#${e})`},m3=function(e){const n=g(this,ts).createElementNS(Fo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},K1=function(e){const n=g(this,ts).createElementNS(Fo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Af=function(e){const n=g(this,ts).createElementNS(Fo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),g(this,Rt,_f).append(n),n},Um=function(e,n,s){const a=g(this,ts).createElementNS(Fo,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},Bm=function(e,n,s,a){const l=g(this,ts).createElementNS(Fo,"feComponentTransfer");a.append(l),B(this,Rt,Um).call(this,l,"feFuncR",e),B(this,Rt,Um).call(this,l,"feFuncG",n),B(this,Rt,Um).call(this,l,"feFuncB",s)},Y1=function(e,n){const s=g(this,ts).createElementNS(Fo,"feComponentTransfer");n.append(s),B(this,Rt,Um).call(this,s,"feFuncA",e)},zm=function(e){return g(this,Rt,_f).style.color=e,CR(getComputedStyle(g(this,Rt,_f)).getPropertyValue("color"))};class y3{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){mn("Abstract method `_fetch` called.")}}class v3 extends y3{async _fetch(t){const e=await MA(t,"arraybuffer");return new Uint8Array(e)}}if(os){var X1=Promise.withResolvers(),oy=null;(async()=>{const t=await Y0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Y0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Y0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Y0(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,l;return new Map(Object.entries({fs:t,http:e,https:n,url:s,canvas:a,path2d:l}))})().then(t=>{oy=t,X1.resolve()},t=>{de(`loadPackages: ${t}`),oy=new Map,X1.resolve()})}class iu{static get promise(){return X1.promise}static get(t){return oy==null?void 0:oy.get(t)}}async function b3(i){const e=await iu.get("fs").promises.readFile(i);return new Uint8Array(e)}class mZ extends g3{}class yZ extends d3{_createCanvas(t,e){return iu.get("canvas").createCanvas(t,e)}}class vZ extends f3{async _fetch(t){return b3(t)}}class bZ extends y3{async _fetch(t){return b3(t)}}const vs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Q1(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class IR{getPattern(){mn("Abstract method `getPattern` called.")}}class _Z extends IR{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let a;if(s===vs.STROKE||s===vs.FILL){const l=e.current.getClippedPathBoundingBox(s,Rn(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Ft.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Q1(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=t.createPattern(d.canvas,"no-repeat");const y=new DOMMatrix(n);a.setTransform(y)}else Q1(t,this._bbox),a=this._createGradient(t);return a}}function _T(i,t,e,n,s,a,l,c){const h=t.coords,d=t.colors,p=i.data,y=i.width*4;let b;h[e+1]>h[n+1]&&(b=e,e=n,n=b,b=a,a=l,l=b),h[n+1]>h[s+1]&&(b=n,n=s,s=b,b=l,l=c,c=b),h[e+1]>h[n+1]&&(b=e,e=n,n=b,b=a,a=l,l=b);const E=(h[e]+t.offsetX)*t.scaleX,A=(h[e+1]+t.offsetY)*t.scaleY,S=(h[n]+t.offsetX)*t.scaleX,C=(h[n+1]+t.offsetY)*t.scaleY,x=(h[s]+t.offsetX)*t.scaleX,N=(h[s+1]+t.offsetY)*t.scaleY;if(A>=N)return;const M=d[a],P=d[a+1],F=d[a+2],W=d[l],D=d[l+1],I=d[l+2],L=d[c],T=d[c+1],U=d[c+2],q=Math.round(A),j=Math.round(N);let ct,nt,Y,Q,at,dt,K,rt;for(let ut=q;ut<=j;ut++){if(ut<C){const xt=ut<A?0:(A-ut)/(A-C);ct=E-(E-S)*xt,nt=M-(M-W)*xt,Y=P-(P-D)*xt,Q=F-(F-I)*xt}else{let xt;ut>N?xt=1:C===N?xt=0:xt=(C-ut)/(C-N),ct=S-(S-x)*xt,nt=W-(W-L)*xt,Y=D-(D-T)*xt,Q=I-(I-U)*xt}let st;ut<A?st=0:ut>N?st=1:st=(A-ut)/(A-N),at=E-(E-x)*st,dt=M-(M-L)*st,K=P-(P-T)*st,rt=F-(F-U)*st;const vt=Math.round(Math.min(ct,at)),wt=Math.round(Math.max(ct,at));let _t=y*ut+vt*4;for(let xt=vt;xt<=wt;xt++)st=(ct-xt)/(ct-at),st<0?st=0:st>1&&(st=1),p[_t++]=nt-(nt-dt)*st|0,p[_t++]=Y-(Y-K)*st|0,p[_t++]=Q-(Q-rt)*st|0,p[_t++]=255}}function EZ(i,t,e){const n=t.coords,s=t.colors;let a,l;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(a=0;a<h;a++){let p=a*c;for(let y=0;y<d;y++,p++)_T(i,e,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),_T(i,e,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)_T(i,e,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class AZ extends IR{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),E=d/y,A=p/b,S={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/E,scaleY:1/A},C=y+2*2,x=b+2*2,N=n.getCanvas("mesh",C,x),M=N.context,P=M.createImageData(y,b);if(e){const W=P.data;for(let D=0,I=W.length;D<I;D+=4)W[D]=e[0],W[D+1]=e[1],W[D+2]=e[2],W[D+3]=255}for(const W of this._figures)EZ(P,W,S);return M.putImageData(P,2,2),{canvas:N.canvas,offsetX:c-2*E,offsetY:h-2*A,scaleX:E,scaleY:A}}getPattern(t,e,n,s){Q1(t,this._bbox);let a;if(s===vs.SHADING)a=Ft.singularValueDecompose2dScale(Rn(t));else if(a=Ft.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=Ft.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const l=this._createMeshCanvas(a,s===vs.SHADING?null:this._background,e.cachedCanvases);return s!==vs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class SZ extends IR{getPattern(){return"hotpink"}}function wZ(i){switch(i[0]){case"RadialAxial":return new _Z(i);case"Mesh":return new AZ(i);case"Dummy":return new SZ}throw new Error(`Unknown IR type: ${i[0]}`)}const oD={COLORED:1,UNCOLORED:2},DE=class DE{constructor(t,e,n,s,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:d}=this;h=Math.abs(h),d=Math.abs(d),IA("TilingType: "+a);const p=e[0],y=e[1],b=e[2],E=e[3],A=b-p,S=E-y,C=Ft.singularValueDecompose2dScale(this.matrix),x=Ft.singularValueDecompose2dScale(this.baseTransform),N=C[0]*x[0],M=C[1]*x[1];let P=A,F=S,W=!1,D=!1;const I=Math.ceil(h*N),L=Math.ceil(d*M),T=Math.ceil(A*N),U=Math.ceil(S*M);I>=T?P=h:W=!0,L>=U?F=d:D=!0;const q=this.getSizeAndScale(P,this.ctx.canvas.width,N),j=this.getSizeAndScale(F,this.ctx.canvas.height,M),ct=t.cachedCanvases.getCanvas("pattern",q.size,j.size),nt=ct.context,Y=c.createCanvasGraphics(nt);if(Y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Y,s,l),nt.translate(-q.scale*p,-j.scale*y),Y.transform(q.scale,0,0,j.scale,0,0),nt.save(),this.clipBbox(Y,p,y,b,E),Y.baseTransform=Rn(Y.ctx),Y.executeOperatorList(n),Y.endDrawing(),nt.restore(),W||D){const Q=ct.canvas;W&&(P=h),D&&(F=d);const at=this.getSizeAndScale(P,this.ctx.canvas.width,N),dt=this.getSizeAndScale(F,this.ctx.canvas.height,M),K=at.size,rt=dt.size,ut=t.cachedCanvases.getCanvas("pattern-workaround",K,rt),st=ut.context,vt=W?Math.floor(A/h):0,wt=D?Math.floor(S/d):0;for(let _t=0;_t<=vt;_t++)for(let xt=0;xt<=wt;xt++)st.drawImage(Q,K*_t,rt*xt,K,rt,0,0,K,rt);return{canvas:ut.canvas,scaleX:at.scale,scaleY:dt.scale,offsetX:p,offsetY:y}}return{canvas:ct.canvas,scaleX:q.scale,scaleY:j.scale,offsetX:p,offsetY:y}}getSizeAndScale(t,e,n){const s=Math.max(DE.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=s?a=s:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,s,a){const l=s-e,c=a-n;t.ctx.rect(e,n,l,c),t.current.updateRectMinMax(Rn(t.ctx),[e,n,s,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,a=t.current;switch(e){case oD.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,a.fillColor=l.fillStyle,a.strokeColor=l.strokeStyle;break;case oD.UNCOLORED:const c=Ft.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new YQ(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let a=n;s!==vs.SHADING&&(a=Ft.transform(a,e.baseTransform),this.matrix&&(a=Ft.transform(a,this.matrix)));const l=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=t.createPattern(l.canvas,"repeat");return h.setTransform(c),h}};Qt(DE,"MAX_PATTERN_SIZE",3e3);let Z1=DE;function TZ({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=bs.isLittleEndian?4278190080:255,[h,d]=l?[a,c]:[c,a],p=n>>3,y=n&7,b=i.length;e=new Uint32Array(e.buffer);let E=0;for(let A=0;A<s;A++){for(const C=t+p;t<C;t++){const x=t<b?i[t]:255;e[E++]=x&128?d:h,e[E++]=x&64?d:h,e[E++]=x&32?d:h,e[E++]=x&16?d:h,e[E++]=x&8?d:h,e[E++]=x&4?d:h,e[E++]=x&2?d:h,e[E++]=x&1?d:h}if(y===0)continue;const S=t<b?i[t++]:255;for(let C=0;C<y;C++)e[E++]=S&1<<7-C?d:h}return{srcPos:t,destPos:E}}const lD=16,cD=100,xZ=15,uD=10,hD=1e3,ks=16;function CZ(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,a,l,c,h){t.transform(n,s,a,l,c,h),this.__originalTransform(n,s,a,l,c,h)},i.setTransform=function(n,s,a,l,c,h){t.setTransform(n,s,a,l,c,h),this.__originalSetTransform(n,s,a,l,c,h)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,a,l,c){t.bezierCurveTo(e,n,s,a,l,c),this.__originalBezierCurveTo(e,n,s,a,l,c)},i.rect=function(e,n,s,a){t.rect(e,n,s,a),this.__originalRect(e,n,s,a)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class RZ{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function X0(i,t,e,n,s,a,l,c,h,d){const[p,y,b,E,A,S]=Rn(i);if(y===0&&b===0){const N=l*p+A,M=Math.round(N),P=c*E+S,F=Math.round(P),W=(l+h)*p+A,D=Math.abs(Math.round(W)-M)||1,I=(c+d)*E+S,L=Math.abs(Math.round(I)-F)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(E),M,F),i.drawImage(t,e,n,s,a,0,0,D,L),i.setTransform(p,y,b,E,A,S),[D,L]}if(p===0&&E===0){const N=c*b+A,M=Math.round(N),P=l*y+S,F=Math.round(P),W=(c+d)*b+A,D=Math.abs(Math.round(W)-M)||1,I=(l+h)*y+S,L=Math.abs(Math.round(I)-F)||1;return i.setTransform(0,Math.sign(y),Math.sign(b),0,M,F),i.drawImage(t,e,n,s,a,0,0,L,D),i.setTransform(p,y,b,E,A,S),[L,D]}i.drawImage(t,e,n,s,a,l,c,h,d);const C=Math.hypot(p,y),x=Math.hypot(b,E);return[C*h,x*d]}function IZ(i){const{width:t,height:e}=i;if(t>hD||e>hD)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t+1;let l=new Uint8Array(a*(e+1)),c,h,d;const p=t+7&-8;let y=new Uint8Array(p*e),b=0;for(const x of i.data){let N=128;for(;N>0;)y[b++]=x&N?0:255,N>>=1}let E=0;for(b=0,y[b]!==0&&(l[0]=1,++E),h=1;h<t;h++)y[b]!==y[b+1]&&(l[h]=y[b]?2:1,++E),b++;for(y[b]!==0&&(l[h]=2,++E),c=1;c<e;c++){b=c*p,d=c*a,y[b-p]!==y[b]&&(l[d]=y[b]?1:8,++E);let x=(y[b]?4:0)+(y[b-p]?8:0);for(h=1;h<t;h++)x=(x>>2)+(y[b+1]?4:0)+(y[b-p+1]?8:0),s[x]&&(l[d+h]=s[x],++E),b++;if(y[b-p]!==y[b]&&(l[d+h]=y[b]?2:4,++E),E>n)return null}for(b=p*(e-1),d=c*a,y[b]!==0&&(l[d]=8,++E),h=1;h<t;h++)y[b]!==y[b+1]&&(l[d+h]=y[b]?4:8,++E),b++;if(y[b]!==0&&(l[d+h]=4,++E),E>n)return null;const A=new Int32Array([0,a,-1,0,-a,0,0,0,1]),S=new Path2D;for(c=0;E&&c<=e;c++){let x=c*a;const N=x+t;for(;x<N&&!l[x];)x++;if(x===N)continue;S.moveTo(x%a,c);const M=x;let P=l[x];do{const F=A[P];do x+=F;while(!l[x]);const W=l[x];W!==5&&W!==10?(P=W,l[x]=0):(P=W&51*P>>4,l[x]&=P>>2|P<<2),S.lineTo(x%a,x/a|0),l[x]||--E}while(M!==x);--c}return y=null,l=null,function(x){x.save(),x.scale(1/t,-1/e),x.translate(0,-e),x.fill(S),x.beginPath(),x.restore()}}class dD{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=NF,this.textMatrixScale=1,this.fontMatrix=w1,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Qi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=Ft.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=Ft.applyTransform(e,t),s=Ft.applyTransform(e.slice(2),t),a=Ft.applyTransform([e[0],e[3]],t),l=Ft.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],a[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],a[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],a[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],a[1],l[1])}updateScalingPathMinMax(t,e){Ft.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,a,l,c,h,d,p){const y=Ft.bezierBoundingBox(e,n,s,a,l,c,h,d,p);p||this.updateRectMinMax(t,y)}getPathBoundingBox(t=vs.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===vs.STROKE){e||mn("Stroke bounding box must include transform.");const s=Ft.singularValueDecompose2dScale(e),a=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=a,n[1]-=l,n[2]+=a,n[3]+=l}return n}updateClipFromPath(){const t=Ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=vs.FILL,e=null){return Ft.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function fD(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%ks,a=(e-s)/ks,l=s===0?a:a+1,c=i.createImageData(n,ks);let h=0,d;const p=t.data,y=c.data;let b,E,A,S;if(t.kind===m_.GRAYSCALE_1BPP){const C=p.byteLength,x=new Uint32Array(y.buffer,0,y.byteLength>>2),N=x.length,M=n+7>>3,P=4294967295,F=bs.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(A=b<a?ks:s,d=0,E=0;E<A;E++){const W=C-h;let D=0;const I=W>M?n:W*8-7,L=I&-8;let T=0,U=0;for(;D<L;D+=8)U=p[h++],x[d++]=U&128?P:F,x[d++]=U&64?P:F,x[d++]=U&32?P:F,x[d++]=U&16?P:F,x[d++]=U&8?P:F,x[d++]=U&4?P:F,x[d++]=U&2?P:F,x[d++]=U&1?P:F;for(;D<I;D++)T===0&&(U=p[h++],T=128),x[d++]=U&T?P:F,T>>=1}for(;d<N;)x[d++]=0;i.putImageData(c,0,b*ks)}}else if(t.kind===m_.RGBA_32BPP){for(E=0,S=n*ks*4,b=0;b<a;b++)y.set(p.subarray(h,h+S)),h+=S,i.putImageData(c,0,E),E+=ks;b<l&&(S=n*s*4,y.set(p.subarray(h,h+S)),i.putImageData(c,0,E))}else if(t.kind===m_.RGB_24BPP)for(A=ks,S=n*A,b=0;b<l;b++){for(b>=a&&(A=s,S=n*A),d=0,E=S;E--;)y[d++]=p[h++],y[d++]=p[h++],y[d++]=p[h++],y[d++]=255;i.putImageData(c,0,b*ks)}else throw new Error(`bad image kind: ${t.kind}`)}function pD(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%ks,a=(e-s)/ks,l=s===0?a:a+1,c=i.createImageData(n,ks);let h=0;const d=t.data,p=c.data;for(let y=0;y<l;y++){const b=y<a?ks:s;({srcPos:h}=TZ({src:d,srcPos:h,dest:p,width:n,height:b,nonBlackColor:0})),i.putImageData(c,0,y*ks)}}function Cm(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function Q0(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!os){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function gD(i,t){if(t)return!0;const e=Ft.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*nu.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const kZ=["butt","round","square"],PZ=["miter","round","bevel"],MZ={},mD={};var ru,J1,tx;const VR=class VR{constructor(t,e,n,s,a,{optionalContentConfig:l,markedContentStack:c=null},h,d){$(this,ru);this.ctx=t,this.current=new dD(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new RZ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Rn(this.compositeCtx))}this.ctx.save(),Q0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Rn(this.ctx)}executeOperatorList(t,e,n,s){const a=t.argsArray,l=t.fnArray;let c=e||0;const h=a.length;if(h===c)return c;const d=h-c>uD&&typeof n=="function",p=d?Date.now()+xZ:0;let y=0;const b=this.commonObjs,E=this.objs;let A;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(A=l[c],A!==Fr.dependency)this[A].apply(this,a[c]);else for(const S of a[c]){const C=S.startsWith("g_")?b:E;if(!C.has(S))return C.get(S,n),c}if(c++,c===h)return c;if(d&&++y>uD){if(Date.now()>p)return n(),c;y=0}}}endDrawing(){B(this,ru,J1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),B(this,ru,tx).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=s,d="prescale1",p,y;for(;a>2&&c>1||l>2&&h>1;){let b=c,E=h;a>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/b),l>2&&h>1&&(E=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/E),p=this.cachedCanvases.getCanvas(d,b,E),y=p.context,y.clearRect(0,0,b,E),y.drawImage(t,0,0,c,h,0,0,b,E),t=p.canvas,c=b,h=E,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,a=this.current.fillColor,l=this.current.patternFill,c=Rn(e);let h,d,p,y;if((t.bitmap||t.data)&&t.count>1){const I=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),a]),h=this._cachedBitmapsMap.get(I),h||(h=new Map,this._cachedBitmapsMap.set(I,h));const L=h.get(d);if(L&&!l){const T=Math.round(Math.min(c[0],c[2])+c[4]),U=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:L,offsetX:T,offsetY:U}}p=L}p||(y=this.cachedCanvases.getCanvas("maskCanvas",n,s),pD(y.context,t));let b=Ft.transform(c,[1/n,0,0,-1/s,0,0]);b=Ft.transform(b,[1,0,0,1,0,-s]);const[E,A,S,C]=Ft.getAxialAlignedBoundingBox([0,0,n,s],b),x=Math.round(S-E)||1,N=Math.round(C-A)||1,M=this.cachedCanvases.getCanvas("fillCanvas",x,N),P=M.context,F=E,W=A;P.translate(-F,-W),P.transform(...b),p||(p=this._scaleImage(y.canvas,No(P)),p=p.img,h&&l&&h.set(d,p)),P.imageSmoothingEnabled=gD(Rn(P),t.interpolate),X0(P,p,0,0,p.width,p.height,0,0,n,s),P.globalCompositeOperation="source-in";const D=Ft.transform(No(P),[1,0,0,1,-F,-W]);return P.fillStyle=l?a.getPattern(e,this,D,vs.FILL):a,P.fillRect(0,0,n,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,M.canvas)),{canvas:M.canvas,offsetX:Math.round(F),offsetY:Math.round(W)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=kZ[t]}setLineJoin(t){this.ctx.lineJoin=PZ[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...Rn(this.suspendedCtx)),Cm(this.suspendedCtx,a),CZ(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Cm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const a=s[0],l=s[1],c=s[2]-a,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,a,l,c,h,d,p,y){let b=t.canvas,E=h-p,A=d-y;if(l){const C=Ft.makeHexColor(...l);if(E<0||A<0||E+n>b.width||A+s>b.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,s),N=x.context;N.drawImage(b,-E,-A),N.globalCompositeOperation="destination-atop",N.fillStyle=C,N.fillRect(0,0,n,s),N.globalCompositeOperation="source-over",b=x.canvas,E=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(E,A,n,s),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=C,t.fillRect(E,A,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const S=new Path2D;S.rect(h,d,n,s),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,E,A,n,s,h,d,n,s),e.restore()}save(){this.inSMaskMode?(Cm(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Cm(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,a,l){this.ctx.transform(t,e,n,s,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,a=this.current;let l=a.x,c=a.y,h,d;const p=Rn(s),y=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,b=y?n.slice(0):null;for(let E=0,A=0,S=t.length;E<S;E++)switch(t[E]|0){case Fr.rectangle:l=e[A++],c=e[A++];const C=e[A++],x=e[A++],N=l+C,M=c+x;s.moveTo(l,c),C===0||x===0?s.lineTo(N,M):(s.lineTo(N,c),s.lineTo(N,M),s.lineTo(l,M)),y||a.updateRectMinMax(p,[l,c,N,M]),s.closePath();break;case Fr.moveTo:l=e[A++],c=e[A++],s.moveTo(l,c),y||a.updatePathMinMax(p,l,c);break;case Fr.lineTo:l=e[A++],c=e[A++],s.lineTo(l,c),y||a.updatePathMinMax(p,l,c);break;case Fr.curveTo:h=l,d=c,l=e[A+4],c=e[A+5],s.bezierCurveTo(e[A],e[A+1],e[A+2],e[A+3],l,c),a.updateCurvePathMinMax(p,h,d,e[A],e[A+1],e[A+2],e[A+3],l,c,b),A+=6;break;case Fr.curveTo2:h=l,d=c,s.bezierCurveTo(l,c,e[A],e[A+1],e[A+2],e[A+3]),a.updateCurvePathMinMax(p,h,d,l,c,e[A],e[A+1],e[A+2],e[A+3],b),l=e[A+2],c=e[A+3],A+=4;break;case Fr.curveTo3:h=l,d=c,l=e[A+2],c=e[A+3],s.bezierCurveTo(e[A],e[A+1],l,c,l,c),a.updateCurvePathMinMax(p,h,d,e[A],e[A+1],l,c,l,c,b),A+=4;break;case Fr.closePath:s.closePath();break}y&&a.updateScalingPathMinMax(p,b),a.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,No(e),vs.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,No(e),vs.FILL),a=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),a&&e.restore(),t&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=MZ}eoClip(){this.pendingClip=mD}beginText(){this.current.textMatrix=NF,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var p;const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||w1,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&de("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let d=e;e<lD?d=lD:e>cD&&(d=cD),this.current.fontSizeScale=e/d,this.ctx.font=`${h} ${c} ${d}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,a,l){this.current.textMatrix=[t,e,n,s,a,l],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const a=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,p=h&Qi.FILL_STROKE_MASK,y=!!(h&Qi.ADD_TO_PATH_FLAG),b=l.patternFill&&!c.missingFile;let E;(c.disableFontFace||y||b)&&(E=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||b?(a.save(),a.translate(e,n),a.beginPath(),E(a,d),s&&a.setTransform(...s),(p===Qi.FILL||p===Qi.FILL_STROKE)&&a.fill(),(p===Qi.STROKE||p===Qi.FILL_STROKE)&&a.stroke(),a.restore()):((p===Qi.FILL||p===Qi.FILL_STROKE)&&a.fillText(t,e,n),(p===Qi.STROKE||p===Qi.FILL_STROKE)&&a.strokeText(t,e,n)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Rn(a),x:e,y:n,fontSize:d,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Ae(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,l=e.fontSizeScale,c=e.charSpacing,h=e.wordSpacing,d=e.fontDirection,p=e.textHScale*d,y=t.length,b=n.vertical,E=b?1:-1,A=n.defaultVMetrics,S=s*e.fontMatrix[0],C=e.textRenderingMode===Qi.FILL&&!n.disableFontFace&&!e.patternFill;a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),d>0?a.scale(p,-1):a.scale(p,1);let x;if(e.patternFill){a.save();const W=e.fillColor.getPattern(a,this,No(a),vs.FILL);x=Rn(a),a.restore(),a.fillStyle=W}let N=e.lineWidth;const M=e.textMatrixScale;if(M===0||N===0){const W=e.textRenderingMode&Qi.FILL_STROKE_MASK;(W===Qi.STROKE||W===Qi.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=M;if(l!==1&&(a.scale(l,l),N/=l),a.lineWidth=N,n.isInvalidPDFjsFont){const W=[];let D=0;for(const I of t)W.push(I.unicode),D+=I.width;a.fillText(W.join(""),0,0),e.x+=D*S*p,a.restore(),this.compose();return}let P=0,F;for(F=0;F<y;++F){const W=t[F];if(typeof W=="number"){P+=E*W*s/1e3;continue}let D=!1;const I=(W.isSpace?h:0)+c,L=W.fontChar,T=W.accent;let U,q,j=W.width;if(b){const nt=W.vmetric||A,Y=-(W.vmetric?nt[1]:j*.5)*S,Q=nt[2]*S;j=nt?-nt[0]:j,U=Y/l,q=(P+Q)/l}else U=P/l,q=0;if(n.remeasure&&j>0){const nt=a.measureText(L).width*1e3/s*l;if(j<nt&&this.isFontSubpixelAAEnabled){const Y=j/nt;D=!0,a.save(),a.scale(Y,1),U/=Y}else j!==nt&&(U+=(j-nt)/2e3*s/l)}if(this.contentVisible&&(W.isInFont||n.missingFile)){if(C&&!T)a.fillText(L,U,q);else if(this.paintChar(L,U,q,x),T){const nt=U+s*T.offset.x/l,Y=q-s*T.offset.y/l;this.paintChar(T.fontChar,nt,Y,x)}}const ct=b?j*S-I*d:j*S+I*d;P+=ct,D&&a.restore()}b?e.y-=P:e.x+=P*p,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,a=n.fontSize,l=n.fontDirection,c=s.vertical?1:-1,h=n.charSpacing,d=n.wordSpacing,p=n.textHScale*l,y=n.fontMatrix||w1,b=t.length,E=n.textRenderingMode===Qi.INVISIBLE;let A,S,C,x;if(!(E||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(p,l),A=0;A<b;++A){if(S=t[A],typeof S=="number"){x=c*S*a/1e3,this.ctx.translate(x,0),n.x+=x*p;continue}const N=(S.isSpace?d:0)+h,M=s.charProcOperatorList[S.operatorListId];if(!M){de(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),e.scale(a,a),e.transform(...y),this.executeOperatorList(M),this.restore()),C=Ft.applyTransform([S.width,0],y)[0]*a+N,e.translate(C,0),n.x+=C*p}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,a,l){this.ctx.rect(n,s,a-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||Rn(this.ctx),a={createCanvasGraphics:l=>new VR(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Z1(t,n,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=Ft.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=Ft.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=wZ(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,No(e),vs.SHADING);const s=No(e);if(s){const{width:a,height:l}=e.canvas,[c,h,d,p]=Ft.getAxialAlignedBoundingBox([0,0,a,l],s);this.ctx.fillRect(c,h,d-c,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){mn("Should not call beginInlineImage")}beginImageData(){mn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Rn(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(Rn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||IA("TODO: Support non-isolated groups."),t.knockout&&de("Knockout groups not supported.");const n=Rn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Ft.getAxialAlignedBoundingBox(t.bbox,Rn(e));const a=[0,0,e.canvas.width,e.canvas.height];s=Ft.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(p,h,d),b=y.context;b.translate(-l,-c),b.transform(...n),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(l,c),e.save()),Cm(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Rn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=Ft.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,s,a){if(B(this,ru,J1).call(this),Q0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const l=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=l,e[3]=c;const[h,d]=Ft.singularValueDecompose2dScale(Rn(this.ctx)),{viewportScale:p}=this,y=Math.ceil(l*this.outputScaleX*p),b=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(y,b);const{canvas:E,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(h,0,0,-d,0,c*d),Q0(this.ctx)}else Q0(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],l,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new dD(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,ru,tx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=IZ(t)),s.compiled)){s.compiled(n);return}const a=this._createMaskCanvas(t),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,a,l){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const h=Rn(c);c.transform(e,n,s,a,0,0);const d=this._createMaskCanvas(t);c.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]);for(let p=0,y=l.length;p<y;p+=2){const b=Ft.transform(h,[e,n,s,a,l[p],l[p+1]]),[E,A]=Ft.applyTransform([0,0],b);c.drawImage(d.canvas,E,A)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:l,width:c,height:h,transform:d}=a,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),y=p.context;y.save();const b=this.getObject(l,a);pD(y,b),y.globalCompositeOperation="source-in",y.fillStyle=s?n.getPattern(y,this,No(e),vs.FILL):n,y.fillRect(0,0,c,h),y.restore(),e.save(),e.transform(...d),e.scale(1,-1),X0(e,p.canvas,0,0,c,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){de("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){de("Dependent image isn't ready yet");return}const l=a.width,c=a.height,h=[];for(let d=0,p=s.length;d<p;d+=2)h.push({transform:[e,0,0,n,s[d],s[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,s),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!os){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/e,-1/n);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",e,n).context;fD(h,t),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,No(s));s.imageSmoothingEnabled=gD(Rn(s),t.interpolate),X0(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,l=t.height,h=this.cachedCanvases.getCanvas("inlineImage",a,l).context;fD(h,t),s=this.applyTransferMapsToCanvas(h)}for(const a of e)n.save(),n.transform(...a.transform),n.scale(1,-1),X0(n,s,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===mD?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Rn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:a}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(e),d=Math.abs(a);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,y=d*t;l=p<1?1/p:1,c=y<1?1/y:1}}else{const h=Math.abs(e*a-n*s),d=Math.hypot(e,n),p=Math.hypot(s,a);if(t===0)l=p/h,c=d/h;else{const y=t*h;l=p>y?p/y:1,c=d>y?d/y:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,a]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&a===1){e.stroke();return}const l=e.getLineDash();if(t&&e.save(),e.scale(s,a),l.length>0){const c=Math.max(s,a);e.setLineDash(l.map(h=>h/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};ru=new WeakSet,J1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tx=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let zf=VR;for(const i in Fr)zf.prototype[i]!==void 0&&(zf.prototype[Fr[i]]=zf.prototype[i]);var Hy,$y;class ul{static get workerPort(){return g(this,Hy)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");V(this,Hy,t)}static get workerSrc(){return g(this,$y)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");V(this,$y,t)}}Hy=new WeakMap,$y=new WeakMap,$(ul,Hy,null),$(ul,$y,"");const Z0={DATA:1,ERROR:2},ti={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Hs(i){switch(i instanceof Error||typeof i=="object"&&i!==null||mn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new dd(i.message);case"MissingPDFException":return new hd(i.message);case"PasswordException":return new T1(i.message,i.code);case"UnexpectedResponseException":return new kA(i.message,i.status);case"UnknownErrorException":return new x1(i.message,i.details);default:return new x1(i.message,i.toString())}}var rp,Rr,_3,E3,A3,w_;class jm{constructor(t,e,n){$(this,Rr);$(this,rp,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",B(this,Rr,_3).bind(this),{signal:g(this,rp).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,n,s){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:ti.PULL,streamId:a,desiredSize:d.desiredSize}),p.promise},cancel:d=>{yi(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:ti.CANCEL,streamId:a,reason:Hs(d)}),p.promise}},n)}destroy(){var t;(t=g(this,rp))==null||t.abort(),V(this,rp,null)}}rp=new WeakMap,Rr=new WeakSet,_3=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){B(this,Rr,A3).call(this,t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Z0.DATA)s.resolve(t.data);else if(t.callback===Z0.ERROR)s.reject(Hs(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,a=this.comObj;new Promise(function(l){l(e(t.data))}).then(function(l){a.postMessage({sourceName:n,targetName:s,callback:Z0.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:s,callback:Z0.ERROR,callbackId:t.callbackId,reason:Hs(l)})});return}if(t.streamId){B(this,Rr,E3).call(this,t);return}e(t.data)},E3=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:ti.ENQUEUE,streamId:e,chunk:d},y)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:ti.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){yi(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:ti.ERROR,streamId:e,reason:Hs(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,new Promise(function(d){d(c(t.data,h))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ti.START_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:s,stream:ti.START_COMPLETE,streamId:e,reason:Hs(d)})})},A3=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case ti.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Hs(t.reason));break;case ti.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Hs(t.reason));break;case ti.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:ti.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(h){var d;h((d=c.onPull)==null?void 0:d.call(c))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ti.PULL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ti.PULL_COMPLETE,streamId:e,reason:Hs(h)})});break;case ti.ENQUEUE:if(yi(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case ti.CLOSE:if(yi(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),B(this,Rr,w_).call(this,l,e);break;case ti.ERROR:yi(l,"error should have stream controller"),l.controller.error(Hs(t.reason)),B(this,Rr,w_).call(this,l,e);break;case ti.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Hs(t.reason)),B(this,Rr,w_).call(this,l,e);break;case ti.CANCEL:if(!c)break;new Promise(function(h){var d;h((d=c.onCancel)==null?void 0:d.call(c,Hs(t.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:s,stream:ti.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:n,targetName:s,stream:ti.CANCEL_COMPLETE,streamId:e,reason:Hs(h)})}),c.sinkCapability.reject(Hs(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},w_=async function(t,e){var n,s,a;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var gh,qy;class OZ{constructor({parsedData:t,rawData:e}){$(this,gh);$(this,qy);V(this,gh,t),V(this,qy,e)}getRaw(){return g(this,qy)}get(t){return g(this,gh).get(t)??null}getAll(){return AR(g(this,gh))}has(t){return g(this,gh).has(t)}}gh=new WeakMap,qy=new WeakMap;const Sf=Symbol("INTERNAL");var Gy,Wy,Ky,ap;class DZ{constructor(t,{name:e,intent:n,usage:s,rbGroups:a}){$(this,Gy,!1);$(this,Wy,!1);$(this,Ky,!1);$(this,ap,!0);V(this,Gy,!!(t&Zs.DISPLAY)),V(this,Wy,!!(t&Zs.PRINT)),this.name=e,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(g(this,Ky))return g(this,ap);if(!g(this,ap))return!1;const{print:t,view:e}=this.usage;return g(this,Gy)?(e==null?void 0:e.viewState)!=="OFF":g(this,Wy)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Sf&&mn("Internal method `_setVisible` called."),V(this,Ky,n),V(this,ap,e)}}Gy=new WeakMap,Wy=new WeakMap,Ky=new WeakMap,ap=new WeakMap;var Tc,We,op,lp,Yy,ex;class LZ{constructor(t,e=Zs.DISPLAY){$(this,Yy);$(this,Tc,null);$(this,We,new Map);$(this,op,null);$(this,lp,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,V(this,lp,t.order);for(const n of t.groups)g(this,We).set(n.id,new DZ(e,n));if(t.baseState==="OFF")for(const n of g(this,We).values())n._setVisible(Sf,!1);for(const n of t.on)g(this,We).get(n)._setVisible(Sf,!0);for(const n of t.off)g(this,We).get(n)._setVisible(Sf,!1);V(this,op,this.getHash())}}isVisible(t){if(g(this,We).size===0)return!0;if(!t)return IA("Optional content group not defined."),!0;if(t.type==="OCG")return g(this,We).has(t.id)?g(this,We).get(t.id).visible:(de(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return B(this,Yy,ex).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(g(this,We).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(!g(this,We).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(!g(this,We).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!g(this,We).has(e))return de(`Optional content group not found: ${e}`),!0;if(g(this,We).get(e).visible)return!1}return!0}return de(`Unknown optional content policy ${t.policy}.`),!0}return de(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var a;const s=g(this,We).get(t);if(!s){de(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==t&&((a=g(this,We).get(c))==null||a._setVisible(Sf,!1,!0));s._setVisible(Sf,!!e,!0),V(this,Tc,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=g(this,We).get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}V(this,Tc,null)}get hasInitialVisibility(){return g(this,op)===null||this.getHash()===g(this,op)}getOrder(){return g(this,We).size?g(this,lp)?g(this,lp).slice():[...g(this,We).keys()]:null}getGroups(){return g(this,We).size>0?AR(g(this,We)):null}getGroup(t){return g(this,We).get(t)||null}getHash(){if(g(this,Tc)!==null)return g(this,Tc);const t=new c3;for(const[e,n]of g(this,We))t.update(`${e}:${n.visible}`);return V(this,Tc,t.hexdigest())}}Tc=new WeakMap,We=new WeakMap,op=new WeakMap,lp=new WeakMap,Yy=new WeakSet,ex=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const a=t[s];let l;if(Array.isArray(a))l=B(this,Yy,ex).call(this,a);else if(g(this,We).has(a))l=g(this,We).get(a).visible;else return de(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class NZ{constructor(t,{disableRange:e=!1,disableStream:n=!1}){yi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});yi(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,a;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){yi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new FZ(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new VZ(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class FZ{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=TR(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class VZ{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function UZ(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),a(p)}if(e=l(i),e){const p=d(e);return a(p)}if(e=n("filename","i").exec(i),e){e=e[1];let p=c(e);return p=d(p),a(p)}function n(p,y){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function s(p,y){if(p){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(p,{fatal:!0}),E=PA(y);y=b.decode(E),t=!1}catch{}}return y}function a(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function l(p){const y=[];let b;const E=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=E.exec(p))!==null;){let[,S,C,x]=b;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[C,x]}const A=[];for(let S=0;S<y.length&&S in y;++S){let[C,x]=y[S];x=c(x),C&&(x=unescape(x),S===0&&(x=h(x))),A.push(x)}return A.join("")}function c(p){if(p.startsWith('"')){const y=p.slice(1).split('\\"');for(let b=0;b<y.length;++b){const E=y[b].indexOf('"');E!==-1&&(y[b]=y[b].slice(0,E),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}p=y.join('"')}return p}function h(p){const y=p.indexOf("'");if(y===-1)return p;const b=p.slice(0,y),A=p.slice(y+1).replace(/^[^']*'/,"");return s(b,A)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,E,A){if(E==="q"||E==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),s(b,A);try{A=atob(A)}catch{}return s(b,A)})}return""}function kR(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function PR({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(i.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function MR(i){const t=i.get("Content-Disposition");if(t){let e=UZ(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(TR(e))return e}return null}function DA(i,t){return i===404||i===0&&t.startsWith("file:")?new hd('Missing PDF "'+t+'".'):new kA(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function S3(i){return i===200||i===206}function w3(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function T3(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(de(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class yD{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=kR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return yi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new BZ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new zZ(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class BZ{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,w3(n,this._withCredentials,this._abortController)).then(a=>{if(!S3(a.status))throw DA(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=PR({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=MR(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new dd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:T3(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class zZ{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,w3(a,this._withCredentials,this._abortController)).then(c=>{if(!S3(c.status))throw DA(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:T3(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const ET=200,AT=206;function jZ(i){const t=i.response;return typeof t!="string"?t:PA(t).buffer}class HZ{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=kR(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const a in n)s[a]=n[a];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=AT):s.expectedStatus=ET,e.responseType="arraybuffer",t.onError&&(e.onerror=function(a){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var s;const n=this.pendingRequests[t];n&&((s=n.onProgress)==null||s.call(n,e))}onStateChange(t,e){var h,d,p;const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(h=n.onError)==null||h.call(n,s.status);return}const a=s.status||ET;if(!(a===ET&&n.expectedStatus===AT)&&a!==n.expectedStatus){(d=n.onError)==null||d.call(n,s.status);return}const c=jZ(s);if(a===AT){const y=s.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);n.onDone({begin:parseInt(b[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class $Z{constructor(t){this._source=t,this._manager=new HZ(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return yi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qZ(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new GZ(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class qZ{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]})),{allowRangeRequests:s,suggestedLength:a}=PR({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=MR(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=DA(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class GZ{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=DA(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const WZ=/^[a-z][a-z0-9\-+.]+:/i;function KZ(i){if(WZ.test(i))return new URL(i);const t=iu.get("url");return new URL(t.pathToFileURL(i))}function x3(i,t,e){return i.protocol==="http:"?iu.get("http").request(i,{headers:t},e):iu.get("https").request(i,{headers:t},e)}class YZ{constructor(t){this.source=t,this.url=KZ(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=kR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return yi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ZZ(this):new XZ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new JZ(this,t,e):new QZ(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class C3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new dd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class XZ extends C3{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=s=>{if(s.statusCode===404){const h=new hd(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(s);const a=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:c}=PR({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=MR(a)};this._request=x3(this._url,e,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class QZ extends R3{constructor(t,e,n){super(t);const s=Object.fromEntries(t.headers);s.Range=`bytes=${e}-${n-1}`;const a=l=>{if(l.statusCode===404){const c=new hd(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(l)};this._request=x3(this._url,s,a),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class ZZ extends C3{constructor(t){super(t);const e=iu.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new hd(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class JZ extends R3{constructor(t,e,n){super(t);const s=iu.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}}const tJ=1e5,Ts=30,eJ=.8;var $D,xc,Rs,Xy,Qy,mh,Go,Zy,Jy,yh,cp,up,Cc,hp,tv,dp,vh,ev,nv,Bn,bh,_h,iv,Rc,fp,xl,I3,k3,ix,ir,T_,sx,P3,M3;let nx=(Bn=class{constructor({textContentSource:t,container:e,viewport:n}){$(this,xl);$(this,xc,Promise.withResolvers());$(this,Rs,null);$(this,Xy,!1);$(this,Qy,!!(($D=globalThis.FontInspector)!=null&&$D.enabled));$(this,mh,null);$(this,Go,null);$(this,Zy,0);$(this,Jy,0);$(this,yh,null);$(this,cp,null);$(this,up,0);$(this,Cc,0);$(this,hp,Object.create(null));$(this,tv,[]);$(this,dp,null);$(this,vh,[]);$(this,ev,new WeakMap);$(this,nv,null);var h;if(t instanceof ReadableStream)V(this,dp,t);else if(typeof t=="object")V(this,dp,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');V(this,Rs,V(this,cp,e)),V(this,Cc,n.scale*(globalThis.devicePixelRatio||1)),V(this,up,n.rotation),V(this,Go,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:l,pageY:c}=n.rawDims;V(this,nv,[1,0,0,-1,-l,c+a]),V(this,Jy,s),V(this,Zy,a),B(h=Bn,ir,P3).call(h),td(e,n),g(this,xc).promise.finally(()=>{g(Bn,fp).delete(this),V(this,Go,null),V(this,hp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=bs.platform;return Ae(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{g(this,yh).read().then(({value:e,done:n})=>{if(n){g(this,xc).resolve();return}g(this,mh)??V(this,mh,e.lang),Object.assign(g(this,hp),e.styles),B(this,xl,I3).call(this,e.items),t()},g(this,xc).reject)};return V(this,yh,g(this,dp).getReader()),g(Bn,fp).add(this),t(),g(this,xc).promise}update({viewport:t,onBefore:e=null}){var a;const n=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==g(this,up)&&(e==null||e(),V(this,up,s),td(g(this,cp),{rotation:s})),n!==g(this,Cc)){e==null||e(),V(this,Cc,n);const l={div:null,properties:null,ctx:B(a=Bn,ir,T_).call(a,g(this,mh))};for(const c of g(this,vh))l.properties=g(this,ev).get(c),l.div=c,B(this,xl,ix).call(this,l)}}cancel(){var e;const t=new dd("TextLayer task cancelled.");(e=g(this,yh))==null||e.cancel(t).catch(()=>{}),V(this,yh,null),g(this,xc).reject(t)}get textDivs(){return g(this,vh)}get textContentItemsStr(){return g(this,tv)}static cleanup(){if(!(g(this,fp).size>0)){g(this,bh).clear();for(const{canvas:t}of g(this,_h).values())t.remove();g(this,_h).clear()}}},xc=new WeakMap,Rs=new WeakMap,Xy=new WeakMap,Qy=new WeakMap,mh=new WeakMap,Go=new WeakMap,Zy=new WeakMap,Jy=new WeakMap,yh=new WeakMap,cp=new WeakMap,up=new WeakMap,Cc=new WeakMap,hp=new WeakMap,tv=new WeakMap,dp=new WeakMap,vh=new WeakMap,ev=new WeakMap,nv=new WeakMap,bh=new WeakMap,_h=new WeakMap,iv=new WeakMap,Rc=new WeakMap,fp=new WeakMap,xl=new WeakSet,I3=function(t){var s,a;if(g(this,Xy))return;(a=g(this,Go)).ctx??(a.ctx=B(s=Bn,ir,T_).call(s,g(this,mh)));const e=g(this,vh),n=g(this,tv);for(const l of t){if(e.length>tJ){de("Ignoring additional textDivs for performance reasons."),V(this,Xy,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=g(this,Rs);V(this,Rs,document.createElement("span")),g(this,Rs).classList.add("markedContent"),l.id!==null&&g(this,Rs).setAttribute("id",`${l.id}`),c.append(g(this,Rs))}else l.type==="endMarkedContent"&&V(this,Rs,g(this,Rs).parentNode);continue}n.push(l.str),B(this,xl,k3).call(this,l)}},k3=function(t){var S;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};g(this,vh).push(e);const s=Ft.transform(g(this,nv),t.transform);let a=Math.atan2(s[1],s[0]);const l=g(this,hp)[t.fontName];l.vertical&&(a+=Math.PI/2);let c=g(this,Qy)&&l.fontSubstitution||l.fontFamily;c=Bn.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),d=h*B(S=Bn,ir,M3).call(S,c,g(this,mh));let p,y;a===0?(p=s[4],y=s[5]-d):(p=s[4]+d*Math.sin(a),y=s[5]-d*Math.cos(a));const b="calc(var(--scale-factor)*",E=e.style;g(this,Rs)===g(this,cp)?(E.left=`${(100*p/g(this,Jy)).toFixed(2)}%`,E.top=`${(100*y/g(this,Zy)).toFixed(2)}%`):(E.left=`${b}${p.toFixed(2)}px)`,E.top=`${b}${y.toFixed(2)}px)`),E.fontSize=`${b}${(g(Bn,Rc)*h).toFixed(2)}px)`,E.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,g(this,Qy)&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const C=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);C!==x&&Math.max(C,x)/Math.min(C,x)>1.5&&(A=!0)}if(A&&(n.canvasWidth=l.vertical?t.height:t.width),g(this,ev).set(e,n),g(this,Go).div=e,g(this,Go).properties=n,B(this,xl,ix).call(this,g(this,Go)),n.hasText&&g(this,Rs).append(e),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),g(this,Rs).append(C)}},ix=function(t){var c;const{div:e,properties:n,ctx:s}=t,{style:a}=e;let l="";if(g(Bn,Rc)>1&&(l=`scale(${1/g(Bn,Rc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=a,{canvasWidth:d,fontSize:p}=n;B(c=Bn,ir,sx).call(c,s,p*g(this,Cc),h);const{width:y}=s.measureText(e.textContent);y>0&&(l=`scaleX(${d*g(this,Cc)/y}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},ir=new WeakSet,T_=function(t=null){let e=g(this,_h).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,_h).set(t,e),g(this,iv).set(e,{size:0,family:""})}return e},sx=function(t,e,n){const s=g(this,iv).get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)},P3=function(){if(g(this,Rc)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),V(this,Rc,t.getBoundingClientRect().height),t.remove()},M3=function(t,e){const n=g(this,bh).get(t);if(n)return n;const s=B(this,ir,T_).call(this,e);s.canvas.width=s.canvas.height=Ts,B(this,ir,sx).call(this,s,Ts,t);const a=s.measureText("");let l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(l){const p=l/(l+c);return g(this,bh).set(t,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,Ts,Ts),s.strokeText("g",0,0);let h=s.getImageData(0,0,Ts,Ts).data;c=0;for(let p=h.length-1-3;p>=0;p-=4)if(h[p]>0){c=Math.ceil(p/4/Ts);break}s.clearRect(0,0,Ts,Ts),s.strokeText("A",0,Ts),h=s.getImageData(0,0,Ts,Ts).data,l=0;for(let p=0,y=h.length;p<y;p+=4)if(h[p]>0){l=Ts-Math.floor(p/4/Ts);break}s.canvas.width=s.canvas.height=0;const d=l?l/(l+c):eJ;return g(this,bh).set(t,d),d},$(Bn,ir),$(Bn,bh,new Map),$(Bn,_h,new Map),$(Bn,iv,new WeakMap),$(Bn,Rc,null),$(Bn,fp,new Set),Bn);class Ey{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(a){var h;if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Ey.shouldBuildText(c))(h=a==null?void 0:a.attributes)!=null&&h.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const d of a.children)s(d)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const nJ=65536,iJ=100,sJ=5e3,rJ=os?yZ:pZ,aJ=os?vZ:p3,oJ=os?mZ:gZ,lJ=os?bZ:v3;function cJ(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new rx,{docId:e}=t,n=i.url?uJ(i.url):null,s=i.data?hJ(i.data):null,a=i.httpHeaders||null,l=i.withCredentials===!0,c=i.password??null,h=i.range instanceof O3?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:nJ;let p=i.worker instanceof jf?i.worker:null;const y=i.verbosity,b=typeof i.docBaseUrl=="string"&&!OA(i.docBaseUrl)?i.docBaseUrl:null,E=typeof i.cMapUrl=="string"?i.cMapUrl:null,A=i.cMapPacked!==!1,S=i.CMapReaderFactory||aJ,C=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,x=i.StandardFontDataFactory||lJ,N=i.stopAtErrors!==!0,M=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,P=i.isEvalSupported!==!1,F=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!os,W=typeof i.isChrome=="boolean"?i.isChrome:!bs.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),D=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,I=typeof i.disableFontFace=="boolean"?i.disableFontFace:os,L=i.fontExtraProperties===!0,T=i.enableXfa===!0,U=i.ownerDocument||globalThis.document,q=i.disableRange===!0,j=i.disableStream===!0,ct=i.disableAutoFetch===!0,nt=i.pdfBug===!0,Y=i.CanvasFactory||rJ,Q=i.FilterFactory||oJ,at=i.enableHWA===!0,dt=h?h.length:i.length??NaN,K=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!os&&!I,rt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:S===p3&&x===v3&&E&&C&&Lm(E,document.baseURI)&&Lm(C,document.baseURI);i.canvasFactory&&rD("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&rD("`filterFactory`-instance option, please use `FilterFactory` instead.");const ut=null;qQ(y);const st={canvasFactory:new Y({ownerDocument:U,enableHWA:at}),filterFactory:new Q({docId:e,ownerDocument:U}),cMapReaderFactory:rt?null:new S({baseUrl:E,isCompressed:A}),standardFontDataFactory:rt?null:new x({baseUrl:C})};if(!p){const _t={verbosity:y,port:ul.workerPort};p=_t.port?jf.fromPort(_t):new jf(_t),t._worker=p}const vt={docId:e,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:ct,rangeChunkSize:d,length:dt,docBaseUrl:b,enableXfa:T,evaluatorOptions:{maxImageSize:M,disableFontFace:I,ignoreErrors:N,isEvalSupported:P,isOffscreenCanvasSupported:F,isChrome:W,canvasMaxAreaInBytes:D,fontExtraProperties:L,useSystemFonts:K,cMapUrl:rt?E:null,standardFontDataUrl:rt?C:null}},wt={disableFontFace:I,fontExtraProperties:L,ownerDocument:U,pdfBug:nt,styleElement:ut,loadingParams:{disableAutoFetch:ct,enableXfa:T}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const _t=p.messageHandler.sendWithPromise("GetDocRequest",vt,s?[s.buffer]:null);let xt;if(h)xt=new NZ(h,{disableRange:q,disableStream:j});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Bt;os?Bt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Lm(n)?yD:YZ:Bt=Lm(n)?yD:$Z,xt=new Bt({url:n,length:dt,httpHeaders:a,withCredentials:l,rangeChunkSize:d,disableRange:q,disableStream:j})}return _t.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const jt=new jm(e,Bt,p.port),Et=new gJ(jt,t,xt,wt,st);t._transport=Et,jt.send("Ready",null)})}).catch(t._capability.reject),t}function uJ(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(os&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function hJ(i){if(os&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return PA(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vD(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var LE;const NE=class NE{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gs(NE,LE)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};LE=new WeakMap,$(NE,LE,0);let rx=NE,O3=class{constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){mn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class dJ{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ic,Wo,xr,wf,x_;class fJ{constructor(t,e,n,s=!1){$(this,xr);$(this,Ic,null);$(this,Wo,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new sD:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new D3,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new sb({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=fc.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:y=!1}){var P,F;(P=this._stats)==null||P.time("Overall");const b=this._transport.getRenderingIntent(n,s,p,y),{renderingIntent:E,cacheKey:A}=b;V(this,Wo,!1),B(this,xr,x_).call(this),c||(c=this._transport.getOptionalContentConfig(E));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(E&Zs.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(b));const x=W=>{var D;S.renderTasks.delete(N),(this._maybeCleanupAfterRender||C)&&V(this,Wo,!0),B(this,xr,wf).call(this,!C),W?(N.capability.reject(W),this._abortOperatorList({intentState:S,reason:W instanceof Error?W:new Error(W)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new ox({callback:x,params:{canvasContext:t,viewport:e,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:d});(S.renderTasks||(S.renderTasks=new Set)).add(N);const M=N.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([W,D])=>{var I;if(this.destroyed){x();return}if((I=this._stats)==null||I.time("Rendering"),!(D.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:W,optionalContentConfig:D}),N.operatorListChanged()}).catch(x),M}getOperatorList({intent:t="display",annotationMode:e=fc.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var d;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ey.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function a(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},s)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),V(this,Wo,!1),B(this,xr,x_).call(this),Promise.all(t)}cleanup(t=!1){V(this,Wo,!0);const e=B(this,xr,wf).call(this,!1);return t&&e&&this._stats&&(this._stats=new sD),e}_startRenderPage(t,e){var s,a;const n=this._intentStates.get(e);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&B(this,xr,wf).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:y,done:b})=>{if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,d),p())},y=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const b of d.renderTasks)b.operatorListChanged();B(this,xr,wf).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(y);else if(d.opListReadCapability)d.opListReadCapability.reject(y);else throw y}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof wR){let s=iJ;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new dd(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Ic=new WeakMap,Wo=new WeakMap,xr=new WeakSet,wf=function(t=!1){if(B(this,xr,x_).call(this),!g(this,Wo)||this.destroyed)return!1;if(t)return V(this,Ic,setTimeout(()=>{V(this,Ic,null),B(this,xr,wf).call(this,!1)},sJ)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),V(this,Wo,!1),!0},x_=function(){g(this,Ic)&&(clearTimeout(g(this,Ic)),V(this,Ic,null))};var Ko,FE;class pJ{constructor(){$(this,Ko,new Map);$(this,FE,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};g(this,FE).then(()=>{for(const[s]of g(this,Ko))s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){de("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}g(this,Ko).set(e,s)}removeEventListener(t,e){const n=g(this,Ko).get(e);n==null||n(),g(this,Ko).delete(e)}terminate(){for(const[,t]of g(this,Ko))t==null||t();g(this,Ko).clear()}}Ko=new WeakMap,FE=new WeakMap;var VE,Eh,Ah,pp,C_,gp,R_;const An=class An{constructor({name:t=null,port:e=null,verbosity:n=GQ()}={}){$(this,pp);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=g(An,Ah))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(g(An,Ah)||V(An,Ah,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return os?Promise.all([iu.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new jm("main","worker",t),this._messageHandler.on("ready",function(){}),B(this,pp,C_).call(this)}_initialize(){if(g(An,Eh)||g(An,gp,R_)){this._setupFakeWorker();return}let{workerSrc:t}=An;try{An._isSameOrigin(window.location.href,t)||(t=An._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new jm("main","worker",e),s=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=e,this._webWorker=e,B(this,pp,C_).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{IA("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(An,Eh)||(de("Setting up fake worker."),V(An,Eh,!0)),An._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new pJ;this._port=e;const n=`fake${gs(An,VE)._++}`,s=new jm(n+"_worker",n,e);t.setup(s,e),this._messageHandler=new jm(n,n+"_worker",e),B(this,pp,C_).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=g(An,Ah))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=g(this,Ah))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new An(t)}static get workerSrc(){if(ul.workerSrc)return ul.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ae(this,"_setupFakeWorkerGlobal",(async()=>g(this,gp,R_)?g(this,gp,R_):(await import(this.workerSrc)).WorkerMessageHandler)())}};VE=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,pp=new WeakSet,C_=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},gp=new WeakSet,R_=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},$(An,gp),$(An,VE,0),$(An,Eh,!1),$(An,Ah),os&&(V(An,Eh,!0),ul.workerSrc||(ul.workerSrc="./pdf.worker.mjs")),An._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(e,n);return n.origin===s.origin},An._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let jf=An;var Yo,Na,mp,yp,Fa,Sh,Hm;class gJ{constructor(t,e,n,s,a){$(this,Sh);$(this,Yo,new Map);$(this,Na,new Map);$(this,mp,new Map);$(this,yp,new Map);$(this,Fa,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new D3,this.fontLoader=new dZ({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ae(this,"annotationStorage",new RR)}getRenderingIntent(t,e=fc.ENABLE,n=null,s=!1,a=!1){let l=Zs.DISPLAY,c=W1;switch(t){case"any":l=Zs.ANY;break;case"display":break;case"print":l=Zs.PRINT;break;default:de(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Zs.PRINT&&n instanceof h3?n:this.annotationStorage;switch(e){case fc.DISABLE:l+=Zs.ANNOTATIONS_DISABLE;break;case fc.ENABLE:break;case fc.ENABLE_FORMS:l+=Zs.ANNOTATIONS_FORMS;break;case fc.ENABLE_STORAGE:l+=Zs.ANNOTATIONS_STORAGE,c=h.serializable;break;default:de(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(l+=Zs.IS_EDITING),a&&(l+=Zs.OPLIST);const{ids:d,hash:p}=h.modifiedIds,y=[l,c.hash,p];return{renderingIntent:l,cacheKey:y.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Fa))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of g(this,Na).values())t.push(s._destroy());g(this,Na).clear(),g(this,mp).clear(),g(this,yp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Yo).clear(),this.filterFactory.destroy(),nx.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new dd("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{yi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){s.close();return}yi(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(n,s)=>{yi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){s.close();return}yi(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{a.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new dJ(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new T1(n.message,n.code);break;case"InvalidPDFException":s=new FF(n.message);break;case"MissingPDFException":s=new hd(n.message);break;case"UnexpectedResponseException":s=new kA(n.message,n.status);break;case"UnknownErrorException":s=new x1(n.message,n.details);break;default:mn("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(V(this,Fa,Promise.withResolvers()),e.onPassword){const s=a=>{a instanceof Error?g(this,Fa).reject(a):g(this,Fa).resolve({password:a})};try{e.onPassword(s,n.code)}catch(a){g(this,Fa).reject(a)}}else g(this,Fa).reject(new T1(n.message,n.code));return g(this,Fa).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,Na).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,a])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in a){const E=a.error;de(`Error during font loading: ${E}`),this.commonObjs.resolve(n,E);break}const p=d&&((l=globalThis.FontInspector)!=null&&l.enabled)?(E,A)=>globalThis.FontInspector.fontAdded(E,A):null,y=new fZ(a,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&y.data&&(y.data=null),this.commonObjs.resolve(n,y)});break;case"CopyLocalImage":const{imageRef:b}=a;yi(b,"The imageRef must be defined.");for(const E of g(this,Na).values())for(const[,A]of E.objs)if((A==null?void 0:A.ref)===b)return A.dataLen?(this.commonObjs.resolve(n,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,a,l])=>{var h;if(this.destroyed)return;const c=g(this,Na).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(a){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>zQ&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&de("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=g(this,mp).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&g(this,yp).set(a.refStr,t);const l=new fJ(e,a,this,this._params.pdfBug);return g(this,Na).set(e,l),l});return g(this,mp).set(e,s),s}getPageIndex(t){return vD(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return B(this,Sh,Hm).call(this,"GetFieldObjects")}hasJSActions(){return B(this,Sh,Hm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,Sh,Hm).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return B(this,Sh,Hm).call(this,"GetOptionalContentConfig").then(e=>new LZ(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=g(this,Yo).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,l;return{info:s[0],metadata:s[1]?new OZ(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return g(this,Yo).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of g(this,Na).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),g(this,Yo).clear(),this.filterFactory.destroy(!0),nx.cleanup()}}cachedPageNumber(t){if(!vD(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return g(this,yp).get(e)??null}}Yo=new WeakMap,Na=new WeakMap,mp=new WeakMap,yp=new WeakMap,Fa=new WeakMap,Sh=new WeakSet,Hm=function(t,e=null){const n=g(this,Yo).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return g(this,Yo).set(t,s),s};const J0=Symbol("INITIAL_DATA");var Hr,sv,ax;class D3{constructor(){$(this,sv);$(this,Hr,Object.create(null))}get(t,e=null){if(e){const s=B(this,sv,ax).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=g(this,Hr)[t];if(!n||n.data===J0)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=g(this,Hr)[t];return!!e&&e.data!==J0}resolve(t,e=null){const n=B(this,sv,ax).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in g(this,Hr)){const{data:n}=g(this,Hr)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}V(this,Hr,Object.create(null))}*[Symbol.iterator](){for(const t in g(this,Hr)){const{data:e}=g(this,Hr)[t];e!==J0&&(yield[t,e])}}}Hr=new WeakMap,sv=new WeakSet,ax=function(t){var e;return(e=g(this,Hr))[t]||(e[t]={...Promise.withResolvers(),data:J0})};var kc;class mJ{constructor(t){$(this,kc,null);V(this,kc,t),this.onContinue=null}get promise(){return g(this,kc).capability.promise}cancel(t=0){g(this,kc).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=g(this,kc).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=g(this,kc);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}kc=new WeakMap;var Pc,wh;const Wu=class Wu{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:y=!1,pageColors:b=null}){$(this,Pc,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new mJ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,h;if(this.cancelled)return;if(this._canvas){if(g(Wu,wh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Wu,wh).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:a,background:l}=this.params;this.gfx=new zf(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Pc)&&(window.cancelAnimationFrame(g(this,Pc)),V(this,Pc,null)),g(Wu,wh).delete(this._canvas),this.callback(t||new wR(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?V(this,Pc,window.requestAnimationFrame(()=>{V(this,Pc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Wu,wh).delete(this._canvas),this.callback())))}};Pc=new WeakMap,wh=new WeakMap,$(Wu,wh,new WeakSet);let ox=Wu;const yJ="4.8.69",vJ="3634dab10";function bD(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Rm(i){return Math.max(0,Math.min(255,255*i))}class _D{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Rm(t),[t,t,t]}static G_HTML([t]){const e=bD(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Rm)}static RGB_HTML(t){return`#${t.map(bD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[Rm(1-Math.min(1,t+s)),Rm(1-Math.min(1,n+s)),Rm(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,a=1-e,l=1-n,c=Math.min(s,a,l);return["CMYK",s,a,l,c]}}class bJ{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){mn("Abstract method `_createSVG` called.")}}class OR extends bJ{_createSVG(t){return document.createElementNS(Fo,t)}}class L3{static setupStorage(t,e,n,s,a){const l=s.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&a.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){var y,b;const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,a=t.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:a,linkService:n});const c=a!=="richText",h=t.div;if(h.append(l),t.viewport){const E=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=E}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const E=document.createTextNode(s.value);l.append(E),c&&Ey.shouldBuildText(s.name)&&d.push(E)}return{textDivs:d}}const p=[[s,-1,l]];for(;p.length>0;){const[E,A,S]=p.at(-1);if(A+1===E.children.length){p.pop();continue}const C=E.children[++p.at(-1)[1]];if(C===null)continue;const{name:x}=C;if(x==="#text"){const M=document.createTextNode(C.value);d.push(M),S.append(M);continue}const N=(y=C==null?void 0:C.attributes)!=null&&y.xmlns?document.createElementNS(C.attributes.xmlns,x):document.createElement(x);if(S.append(N),C.attributes&&this.setAttributes({html:N,element:C,storage:e,intent:a,linkService:n}),((b=C.children)==null?void 0:b.length)>0)p.push([C,-1,N]);else if(C.value){const M=document.createTextNode(C.value);c&&Ey.shouldBuildText(x)&&d.push(M),N.append(M)}}for(const E of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ab=1e3,_J=9,nd=new WeakSet;function pl(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class EJ{static create(t){switch(t.data.annotationType){case fi.LINK:return new N3(t);case fi.TEXT:return new AJ(t);case fi.WIDGET:switch(t.data.fieldType){case"Tx":return new SJ(t);case"Btn":return t.data.radioButton?new U3(t):t.data.checkBox?new TJ(t):new xJ(t);case"Ch":return new CJ(t);case"Sig":return new wJ(t)}return new fd(t);case fi.POPUP:return new cx(t);case fi.FREETEXT:return new $3(t);case fi.LINE:return new IJ(t);case fi.SQUARE:return new kJ(t);case fi.CIRCLE:return new PJ(t);case fi.POLYLINE:return new q3(t);case fi.CARET:return new OJ(t);case fi.INK:return new DR(t);case fi.POLYGON:return new MJ(t);case fi.HIGHLIGHT:return new G3(t);case fi.UNDERLINE:return new DJ(t);case fi.SQUIGGLY:return new LJ(t);case fi.STRIKEOUT:return new NJ(t);case fi.STAMP:return new W3(t);case fi.FILEATTACHMENT:return new FJ(t);default:return new Kn(t)}}}var Th,vp,bp,rv,lx;const UR=class UR{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){$(this,rv);$(this,Th,null);$(this,vp,!1);$(this,bp,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return UR._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;g(this,Th)||V(this,Th,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&B(this,rv,lx).call(this,e),(n=g(this,bp))==null||n.popup.updateEdited(t)}resetEdited(){var t;g(this,Th)&&(B(this,rv,lx).call(this,g(this,Th).rect),(t=g(this,bp))==null||t.popup.resetEdited(),V(this,Th,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof fd||(a.tabIndex=ab);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof cx){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,a),a}const{width:c,height:h}=pl(e.rect);if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(S>0||C>0){const N=`calc(${S}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;l.borderRadius=N}else if(this instanceof U3){const N=`calc(${c}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=N}switch(e.borderStyle.style){case xm.SOLID:l.borderStyle="solid";break;case xm.DASHED:l.borderStyle="dashed";break;case xm.BEVELED:de("Unimplemented border style: beveled");break;case xm.INSET:de("Unimplemented border style: inset");break;case xm.UNDERLINE:l.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(V(this,vp,!0),l.borderColor=Ft.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const d=Ft.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:y,pageX:b,pageY:E}=s.rawDims;l.left=`${100*(d[0]-b)/p}%`,l.top=`${100*(d[1]-E)/y}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(l.width=`${100*c/p}%`,l.height=`${100*h/y}%`):this.setRotation(A,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:l}=pl(this.data.rect);let c,h;t%180===0?(c=100*a/n,h=100*l/s):(c=100*l/n,h=100*a/s),e.style.width=`${c}%`,e.style.height=`${h}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const a=s.detail[e],l=a[0],c=a.slice(1);s.target.style[n]=_D[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:_D[`${l}_rgb`](c)})};return Ae(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||n[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,a]of Object.entries(e)){const l=n[s];if(l){const c={detail:{[s]:a},target:t};l(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,a]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,C,x,N]=t.subarray(2,6);if(s===S&&a===C&&e===x&&n===N)return}const{style:l}=this.container;let c;if(g(this,vp)){const{borderColor:S,borderWidth:C}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const h=s-e,d=a-n,{svgFactory:p}=this,y=p.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=p.createElement("defs");y.append(b);const E=p.createElement("clipPath"),A=`clippath_${this.data.id}`;E.setAttribute("id",A),E.setAttribute("clipPathUnits","objectBoundingBox"),b.append(E);for(let S=2,C=t.length;S<C;S+=8){const x=t[S],N=t[S+1],M=t[S+2],P=t[S+3],F=p.createElement("rect"),W=(M-e)/h,D=(a-N)/d,I=(x-M)/h,L=(N-P)/d;F.setAttribute("x",W),F.setAttribute("y",D),F.setAttribute("width",I),F.setAttribute("height",L),E.append(F),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${W}" y="${D}" width="${I}" height="${L}"/>`)}g(this,vp)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,e=V(this,bp,new cx({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){mn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:l,exportValues:c}of s){if(a===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!nd.has(d)){de(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,l=s.getAttribute("data-element-id");l!==e&&nd.has(s)&&n.push({id:l,exportValue:a,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Th=new WeakMap,vp=new WeakMap,bp=new WeakMap,rv=new WeakSet,lx=function(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...t);const{width:d,height:p}=pl(t);e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+h)/l}%`,s===0?(e.width=`${100*d/a}%`,e.height=`${100*p/l}%`):this.setRotation(s)};let Kn=UR;var Js,ju,F3,V3;class N3 extends Kn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});$(this,Js);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(n.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(B(this,Js,F3).call(this,s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(B(this,Js,V3).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&B(this,Js,ju).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),B(this,Js,ju).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const l=s.get(a);l&&(e[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),B(this,Js,ju).call(this)}_bindResetFormAction(e,n){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),B(this,Js,ju).call(this),!this._fieldObjects){de('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var y;s==null||s();const{fields:a,refs:l,include:c}=n,h=[];if(a.length!==0||l.length!==0){const b=new Set(l);for(const E of a){const A=this._fieldObjects[E]||[];for(const{id:S}of A)b.add(S)}for(const E of Object.values(this._fieldObjects))for(const A of E)b.has(A.id)===c&&h.push(A)}else for(const b of Object.values(this._fieldObjects))h.push(...b);const d=this.annotationStorage,p=[];for(const b of h){const{id:E}=b;switch(p.push(E),b.type){case"text":{const S=b.defaultValue||"";d.setValue(E,{value:S});break}case"checkbox":case"radiobutton":{const S=b.defaultValue===b.exportValues;d.setValue(E,{value:S});break}case"combobox":case"listbox":{const S=b.defaultValue||"";d.setValue(E,{value:S});break}default:continue}const A=document.querySelector(`[data-element-id="${E}"]`);if(A){if(!nd.has(A)){de(`_bindResetFormAction - element not allowed: ${E}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Js=new WeakSet,ju=function(){this.container.setAttribute("data-internal-link","")},F3=function(e,n,s=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},B(this,Js,ju).call(this)},V3=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),B(this,Js,ju).call(this)};class AJ extends Kn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class fd extends Kn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return bs.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,a){n.includes("mouse")?t.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{var c;if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l)}}))})}_setEventListeners(t,e,n,s){var a,l,c;for(const[h,d]of n)(d==="Action"||(a=this.data.actions)!=null&&a[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,d,s),d==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ft.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||_J,a=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(yT*s))||1,y=d/p;l=Math.min(s,h(y/yT))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(d/yT))}a.fontSize=`calc(${l}px * var(--scale-factor))`,a.color=Ft.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class SJ extends fd{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),a.setValue(l.id,{[s]:n})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=t.getValue(e,{value:this.data.fieldValue});let c=l.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let d=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),nd.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=ab,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",b=>{const E=this.data.defaultFieldValue??"";n.value=p.userValue=E,p.formattedValue=null});let y=b=>{const{formattedValue:E}=p;E!=null&&(b.target.value=E),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",E=>{var S;if(p.focused)return;const{target:A}=E;p.userValue&&(A.value=p.userValue),p.lastCommittedValue=A.value,p.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const A={value(S){p.userValue=S.detail.value??"",t.setValue(e,{value:p.userValue.toString()}),S.target.value=p.userValue},formattedValue(S){const{formattedValue:C}=S.detail;p.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C),t.setValue(e,{formattedValue:C})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var M;const{charLimit:C}=S.detail,{target:x}=S;if(C===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",C);let N=p.userValue;!N||N.length<=C||(N=N.slice(0,C),x.value=p.userValue=N,t.setValue(e,{value:N}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(A,E)}),n.addEventListener("keydown",E=>{var C;p.commitKey=1;let A=-1;if(E.key==="Escape"?A=0:E.key==="Enter"&&!this.data.multiLine?A=2:E.key==="Tab"&&(p.commitKey=3),A===-1)return;const{value:S}=E.target;p.lastCommittedValue!==S&&(p.lastCommittedValue=S,p.userValue=S,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const b=y;y=null,n.addEventListener("blur",E=>{var S,C;if(!p.focused||!E.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(p.focused=!1);const{value:A}=E.target;p.userValue=A,p.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:p.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),b(E)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",E=>{var F;p.lastCommittedValue=null;const{data:A,target:S}=E,{value:C,selectionStart:x,selectionEnd:N}=S;let M=x,P=N;switch(E.inputType){case"deleteWordBackward":{const W=C.substring(0,x).match(/\w*[^\w]*$/);W&&(M-=W[0].length);break}case"deleteWordForward":{const W=C.substring(x).match(/^[^\w]*\w*/);W&&(P+=W[0].length);break}case"deleteContentBackward":x===N&&(M-=1);break;case"deleteContentForward":x===N&&(P+=1);break}E.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:M,selEnd:P}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${E}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class wJ extends fd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class TJ extends fd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return nd.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=ab,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class U3 extends fd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(nd.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=ab,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const y of this._getElementsByName(d.target.name)){const b=p&&y.id===n;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class xJ extends N3{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class CJ extends fd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");nd.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=ab;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const y=this.data.defaultFieldValue;for(const b of s.options)b.selected=b.value===y});for(const p of this.data.options){const y=document.createElement("option");y.textContent=p.displayValue,y.value=p.exportValue,n.value.includes(p.exportValue)&&(y.setAttribute("selected",!0),a=!1),s.append(y)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const y=p?"value":"textContent",{options:b,multiple:E}=s;return E?Array.prototype.filter.call(b,A=>A.selected).map(A=>A[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let h=c(!1);const d=p=>{const y=p.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const y={value(b){l==null||l();const E=b.detail.value,A=new Set(Array.isArray(E)?E:[E]);for(const S of s.options)S.selected=A.has(S.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(b){s.multiple=!0},remove(b){const E=s.options,A=b.detail.remove;E[A].selected=!1,s.remove(A),E.length>0&&Array.prototype.findIndex.call(E,C=>C.selected)===-1&&(E[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},clear(b){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(b){const{index:E,displayValue:A,exportValue:S}=b.detail.insert,C=s.children[E],x=document.createElement("option");x.textContent=A,x.value=S,C?C.before(x):s.append(x),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},items(b){const{items:E}=b.detail;for(;s.length!==0;)s.remove(0);for(const A of E){const{displayValue:S,exportValue:C}=A,x=document.createElement("option");x.textContent=S,x.value=C,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(b)}),h=c(!1)},indices(b){const E=new Set(b.detail.indices);for(const A of b.target.options)A.selected=E.has(A.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,p)}),s.addEventListener("input",p=>{var E;const y=c(!0),b=c(!1);t.setValue(e,{value:y}),p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class cx extends Kn{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Kn._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new RJ({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${SR}${n}`).join(",")),this.container}}var _p,UE,BE,Ep,xh,Un,Xo,Ap,av,ov,Sp,Qo,$r,Zo,lv,Jo,cv,Ch,Rh,sn,I_,ux,B3,z3,j3,H3,k_,P_,hx;class RJ{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:y}){$(this,sn);$(this,_p,B(this,sn,j3).bind(this));$(this,UE,B(this,sn,hx).bind(this));$(this,BE,B(this,sn,P_).bind(this));$(this,Ep,B(this,sn,k_).bind(this));$(this,xh,null);$(this,Un,null);$(this,Xo,null);$(this,Ap,null);$(this,av,null);$(this,ov,null);$(this,Sp,null);$(this,Qo,!1);$(this,$r,null);$(this,Zo,null);$(this,lv,null);$(this,Jo,null);$(this,cv,null);$(this,Ch,null);$(this,Rh,!1);var b;V(this,Un,t),V(this,cv,s),V(this,Xo,l),V(this,Jo,c),V(this,ov,h),V(this,xh,e),V(this,lv,d),V(this,Sp,p),V(this,av,n),V(this,Ap,xR.toDateObject(a)),this.trigger=n.flatMap(E=>E.getElementsToTriggerPopup());for(const E of this.trigger)E.addEventListener("click",g(this,Ep)),E.addEventListener("mouseenter",g(this,BE)),E.addEventListener("mouseleave",g(this,UE)),E.classList.add("popupTriggerArea");for(const E of n)(b=E.container)==null||b.addEventListener("keydown",g(this,_p));g(this,Un).hidden=!0,y&&B(this,sn,k_).call(this)}render(){if(g(this,$r))return;const t=V(this,$r,document.createElement("div"));if(t.className="popup",g(this,xh)){const a=t.style.outlineColor=Ft.makeHexColor(...g(this,xh));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:t.style.backgroundColor=Ft.makeHexColor(...g(this,xh).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=g(this,cv),t.append(e),g(this,Ap)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Ap).valueOf()})),e.append(a)}const s=g(this,sn,I_);if(s)L3.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(g(this,Xo));t.append(a)}g(this,Un).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,l=s.length;a<l;++a){const c=s[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;g(this,Ch)||V(this,Ch,{contentsObj:g(this,Xo),richText:g(this,Jo)}),t&&V(this,Zo,null),e&&(V(this,Jo,B(this,sn,z3).call(this,e)),V(this,Xo,null)),(n=g(this,$r))==null||n.remove(),V(this,$r,null)}resetEdited(){var t;g(this,Ch)&&({contentsObj:gs(this,Xo)._,richText:gs(this,Jo)._}=g(this,Ch),V(this,Ch,null),(t=g(this,$r))==null||t.remove(),V(this,$r,null),V(this,Zo,null))}forceHide(){V(this,Rh,this.isVisible),g(this,Rh)&&(g(this,Un).hidden=!0)}maybeShow(){g(this,Rh)&&(g(this,$r)||B(this,sn,P_).call(this),V(this,Rh,!1),g(this,Un).hidden=!1)}get isVisible(){return g(this,Un).hidden===!1}}_p=new WeakMap,UE=new WeakMap,BE=new WeakMap,Ep=new WeakMap,xh=new WeakMap,Un=new WeakMap,Xo=new WeakMap,Ap=new WeakMap,av=new WeakMap,ov=new WeakMap,Sp=new WeakMap,Qo=new WeakMap,$r=new WeakMap,Zo=new WeakMap,lv=new WeakMap,Jo=new WeakMap,cv=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,sn=new WeakSet,I_=function(){const t=g(this,Jo),e=g(this,Xo);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&g(this,Jo).html||null},ux=function(){var t,e,n;return((n=(e=(t=g(this,sn,I_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},B3=function(){var t,e,n;return((n=(e=(t=g(this,sn,I_))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},z3=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:g(this,sn,B3),fontSize:g(this,sn,ux)?`calc(${g(this,sn,ux)}px * var(--scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return n},j3=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&g(this,Qo))&&B(this,sn,k_).call(this)},H3=function(){if(g(this,Zo)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:a}}}=g(this,ov);let l=!!g(this,Sp),c=l?g(this,Sp):g(this,lv);for(const A of g(this,av))if(!c||Ft.intersect(A.data.rect,c)!==null){c=A.data.rect,l=!0;break}const h=Ft.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,y=h[0]+p,b=h[1];V(this,Zo,[100*(y-s)/e,100*(b-a)/n]);const{style:E}=g(this,Un);E.left=`${g(this,Zo)[0]}%`,E.top=`${g(this,Zo)[1]}%`},k_=function(){V(this,Qo,!g(this,Qo)),g(this,Qo)?(B(this,sn,P_).call(this),g(this,Un).addEventListener("click",g(this,Ep)),g(this,Un).addEventListener("keydown",g(this,_p))):(B(this,sn,hx).call(this),g(this,Un).removeEventListener("click",g(this,Ep)),g(this,Un).removeEventListener("keydown",g(this,_p)))},P_=function(){g(this,$r)||this.render(),this.isVisible?g(this,Qo)&&g(this,Un).classList.add("focused"):(B(this,sn,H3).call(this),g(this,Un).hidden=!1,g(this,Un).style.zIndex=parseInt(g(this,Un).style.zIndex)+1e3)},hx=function(){g(this,Un).classList.remove("focused"),!(g(this,Qo)||!this.isVisible)&&(g(this,Un).hidden=!0,g(this,Un).style.zIndex=parseInt(g(this,Un).style.zIndex)-1e3)};class $3 extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var uv;class IJ extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,uv,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:s}=pl(e.rect),a=this.svgFactory.create(n,s,!0),l=V(this,uv,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),l.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),l.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),l.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,uv)}addHighlightArea(){this.container.classList.add("highlightArea")}}uv=new WeakMap;var hv;class kJ extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,hv,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:s}=pl(e.rect),a=this.svgFactory.create(n,s,!0),l=e.borderStyle.width,c=V(this,hv,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,hv)}addHighlightArea(){this.container.classList.add("highlightArea")}}hv=new WeakMap;var dv;class PJ extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,dv,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:s}=pl(e.rect),a=this.svgFactory.create(n,s,!0),l=e.borderStyle.width,c=V(this,dv,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,dv)}addHighlightArea(){this.container.classList.add("highlightArea")}}dv=new WeakMap;var fv;class q3 extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,fv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:s,popupRef:a}}=this;if(!n)return this.container;const{width:l,height:c}=pl(e),h=this.svgFactory.create(l,c,!0);let d=[];for(let y=0,b=n.length;y<b;y+=2){const E=n[y]-e[0],A=e[3]-n[y+1];d.push(`${E},${A}`)}d=d.join(" ");const p=V(this,fv,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,fv)}addHighlightArea(){this.container.classList.add("highlightArea")}}fv=new WeakMap;class MJ extends q3{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class OJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var pv;class DR extends Kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});$(this,pv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?le.HIGHLIGHT:le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:s,popupRef:a}}=this,{width:l,height:c}=pl(e),h=this.svgFactory.create(l,c,!0);for(const d of n){let p=[];for(let b=0,E=d.length;b<E;b+=2){const A=d[b]-e[0],S=e[3]-d[b+1];p.push(`${A},${S}`)}p=p.join(" ");const y=this.svgFactory.createElement(this.svgElementName);g(this,pv).push(y),y.setAttribute("points",p),y.setAttribute("stroke-width",s.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),h.append(y)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,pv)}addHighlightArea(){this.container.classList.add("highlightArea")}}pv=new WeakMap;class G3 extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=le.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class DJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class LJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class NJ extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class W3 extends Kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gv,mv,dx;class FJ extends Kn{constructor(e){var s;super(e,{isRenderable:!0});$(this,mv);$(this,gv,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",B(this,mv,dx).bind(this)),V(this,gv,s);const{isMac:a}=bs.platform;return e.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&B(this,mv,dx).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return g(this,gv)}addHighlightArea(){this.container.classList.add("highlightArea")}}gv=new WeakMap,mv=new WeakSet,dx=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var yv,Ih,kh,vv,sd,K3,fx,qD;let VJ=(qD=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:l,structTreeLayer:c}){$(this,sd);$(this,yv,null);$(this,Ih,null);$(this,kh,new Map);$(this,vv,null);this.div=t,V(this,yv,e),V(this,Ih,n),V(this,vv,c||null),this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return g(this,kh).size>0}async render(t){var l;const{annotations:e}=t,n=this.div;td(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new OR,annotationStorage:t.annotationStorage||new RR,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===fi.POPUP;if(h){const y=s.get(c.id);if(!y)continue;a.elements=y}else{const{width:y,height:b}=pl(c.rect);if(y<=0||b<=0)continue}a.data=c;const d=EJ.create(a);if(!d.isRenderable)continue;if(!h&&c.popupRef){const y=s.get(c.popupRef);y?y.push(d):s.set(c.popupRef,[d])}const p=d.render();c.hidden&&(p.style.visibility="hidden"),await B(this,sd,K3).call(this,p,c.id),d._isEditable&&(g(this,kh).set(d.data.id,d),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(d))}B(this,sd,fx).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,td(e,{rotation:t.rotation}),B(this,sd,fx).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(g(this,kh).values())}getEditableAnnotation(t){return g(this,kh).get(t)}},yv=new WeakMap,Ih=new WeakMap,kh=new WeakMap,vv=new WeakMap,sd=new WeakSet,K3=async function(t,e){var l,c;const n=t.firstChild||t,s=n.id=`${SR}${e}`,a=await((l=g(this,vv))==null?void 0:l.getAriaAttributes(s));if(a)for(const[h,d]of a)n.setAttribute(h,d);this.div.append(t),(c=g(this,yv))==null||c.moveElementInDOM(this.div,t,n,!1)},fx=function(){if(!g(this,Ih))return;const t=this.div;for(const[e,n]of g(this,Ih)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n)}g(this,Ih).clear()},qD);const t_=/\r\n?|\n/g;var qr,Gs,bv,Ph,Ws,ai,Y3,X3,Q3,M_,ml,O_,D_,Z3,gx,J3;const fn=class fn extends Ke{constructor(e){super({...e,name:"freeTextEditor"});$(this,ai);$(this,qr);$(this,Gs,"");$(this,bv,`${this.id}-editor`);$(this,Ph,null);$(this,Ws);V(this,qr,e.color||fn._defaultColor||Ke._defaultLineColor),V(this,Ws,e.fontSize||fn._defaultFontSize)}static get _keyboardManager(){const e=fn.prototype,n=l=>l.isEmpty(),s=ed.TRANSLATE_SMALL,a=ed.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new rb([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(e,n){Ke.initialize(e,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ne.FREETEXT_SIZE:fn._defaultFontSize=n;break;case ne.FREETEXT_COLOR:fn._defaultColor=n;break}}updateParams(e,n){switch(e){case ne.FREETEXT_SIZE:B(this,ai,Y3).call(this,n);break;case ne.FREETEXT_COLOR:B(this,ai,X3).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,fn._defaultFontSize],[ne.FREETEXT_COLOR,fn._defaultColor||Ke._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,g(this,Ws)],[ne.FREETEXT_COLOR,g(this,qr)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-fn._internalPadding*e,-(fn._internalPadding+g(this,Ws))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(le.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),V(this,Ph,new AbortController);const e=this._uiManager.combinedSignal(g(this,Ph));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,bv)),this._isDraggable=!0,(e=g(this,Ph))==null||e.abort(),V(this,Ph,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=g(this,Gs),n=V(this,Gs,B(this,ai,Q3).call(this).trimEnd());if(e===n)return;const s=a=>{if(V(this,Gs,a),!a){this.remove();return}B(this,ai,D_).call(this),this._uiManager.rebuild(this),B(this,ai,M_).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(e)},mustExec:!1}),B(this,ai,M_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){fn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,bv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${g(this,Ws)}px * var(--scale-factor))`,s.color=g(this,qr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),_E(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,y]=this.pageDimensions,[b,E]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=e+(c[0]-b)/p,S=n+this.height-(c[1]-E)/y;break;case 90:A=e+(c[0]-b)/p,S=n-(c[1]-E)/y,[h,d]=[d,-h];break;case 180:A=e-this.width+(c[0]-b)/p,S=n-(c[1]-E)/y,[h,d]=[-h,-d];break;case 270:A=e+(c[0]-b-this.height*y)/p,S=n+(c[1]-E-this.width*p)/y,[h,d]=[-d,h];break}this.setAt(A*a,S*l,h,d)}else this.setAt(e*a,n*l,this.width*a,this.height*l);B(this,ai,D_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var A,S,C;const n=e.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=B(A=fn,ml,gx).call(A,n.getData("text")||"").replaceAll(t_,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=c,p=[],y=[];if(h.nodeType===Node.TEXT_NODE){const x=h.parentElement;if(y.push(h.nodeValue.slice(d).replaceAll(t_,"")),x!==this.editorDiv){let N=p;for(const M of this.editorDiv.childNodes){if(M===x){N=y;continue}N.push(B(S=fn,ml,O_).call(S,M))}}p.push(h.nodeValue.slice(0,d).replaceAll(t_,""))}else if(h===this.editorDiv){let x=p,N=0;for(const M of this.editorDiv.childNodes)N++===d&&(x=y),x.push(B(C=fn,ml,O_).call(C,M))}V(this,Gs,`${p.join(`
`)}${a}${y.join(`
`)}`),B(this,ai,D_).call(this);const b=new Range;let E=p.reduce((x,N)=>x+N.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const N=x.nodeValue.length;if(E<=N){b.setStart(x,E),b.setEnd(x,E);break}E-=N}l.removeAllRanges(),l.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,s){var c;let a=null;if(e instanceof $3){const{data:{defaultAppearanceData:{fontSize:h,fontColor:d},rect:p,rotation:y,id:b,popupRef:E},textContent:A,textPosition:S,parent:{page:{pageNumber:C}}}=e;if(!A||A.length===0)return null;a=e={annotationType:le.FREETEXT,color:Array.from(d),fontSize:h,value:A.join(`
`),position:S,pageIndex:C-1,rect:p.slice(0),rotation:y,id:b,deleted:!1,popupRef:E}}const l=await super.deserialize(e,n,s);return V(l,Ws,e.fontSize),V(l,qr,Ft.makeHexColor(...e.color)),V(l,Gs,B(c=fn,ml,gx).call(c,e.value)),l.annotationElementId=e.id||null,l._initialData=a,l}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=fn._internalPadding*this.parentScale,s=this.getRect(n,n),a=Ke._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,qr)),l={annotationType:le.FREETEXT,color:a,fontSize:g(this,Ws),value:B(this,ai,Z3).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?l:this.annotationElementId&&!B(this,ai,J3).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${g(this,Ws)}px * var(--scale-factor))`,s.color=g(this,qr),n.replaceChildren();for(const l of g(this,Gs).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const a=fn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:g(this,Gs)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};qr=new WeakMap,Gs=new WeakMap,bv=new WeakMap,Ph=new WeakMap,Ws=new WeakMap,ai=new WeakSet,Y3=function(e){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-g(this,Ws))*this.parentScale),V(this,Ws,a),B(this,ai,M_).call(this)},s=g(this,Ws);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},X3=function(e){const n=a=>{V(this,qr,this.editorDiv.style.color=a)},s=g(this,qr);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q3=function(){var s;const e=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(B(s=fn,ml,O_).call(s,a)),n=a);return e.join(`
`)},M_=function(){const[e,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/n):(this.width=s.height/e,this.height=s.width/n),this.fixAndSetPosition()},ml=new WeakSet,O_=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(t_,"")},D_=function(){if(this.editorDiv.replaceChildren(),!!g(this,Gs))for(const e of g(this,Gs).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Z3=function(){return g(this,Gs).replaceAll(" "," ")},gx=function(e){return e.replaceAll(" "," ")},J3=function(e){const{value:n,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==s||e.color.some((c,h)=>c!==a[h])||e.pageIndex!==l},$(fn,ml),Qt(fn,"_freeTextDefaultContent",""),Qt(fn,"_internalPadding",0),Qt(fn,"_defaultColor",null),Qt(fn,"_defaultFontSize",10),Qt(fn,"_type","freetext"),Qt(fn,"_editorType",le.FREETEXT);let px=fn;class t5{toSVGPath(){mn("Abstract method `toSVGPath` must be implemented.")}get box(){mn("Abstract getter `box` must be implemented.")}serialize(t,e){mn("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){mn("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){mn("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ks,Gr,wp,Tp,Va,me,Mh,Oh,_v,Ev,xp,Cp,Mc,Av,zE,jE,vi,$m,e5,n5,i5,s5,r5,a5;const Uo=class Uo{constructor({x:t,y:e},n,s,a,l,c=0){$(this,vi);$(this,Ks);$(this,Gr,[]);$(this,wp);$(this,Tp);$(this,Va,[]);$(this,me,new Float64Array(18));$(this,Mh);$(this,Oh);$(this,_v);$(this,Ev);$(this,xp);$(this,Cp);$(this,Mc,[]);V(this,Ks,n),V(this,Cp,a*s),V(this,Tp,l),g(this,me).set([NaN,NaN,NaN,NaN,t,e],6),V(this,wp,c),V(this,Ev,g(Uo,Av)*s),V(this,_v,g(Uo,jE)*s),V(this,xp,s),g(this,Mc).push(t,e)}isEmpty(){return isNaN(g(this,me)[8])}add({x:t,y:e}){var L;V(this,Mh,t),V(this,Oh,e);const[n,s,a,l]=g(this,Ks);let[c,h,d,p]=g(this,me).subarray(8,12);const y=t-d,b=e-p,E=Math.hypot(y,b);if(E<g(this,_v))return!1;const A=E-g(this,Ev),S=A/E,C=S*y,x=S*b;let N=c,M=h;c=d,h=p,d+=C,p+=x,(L=g(this,Mc))==null||L.push(t,e);const P=-x/A,F=C/A,W=P*g(this,Cp),D=F*g(this,Cp);return g(this,me).set(g(this,me).subarray(2,8),0),g(this,me).set([d+W,p+D],4),g(this,me).set(g(this,me).subarray(14,18),12),g(this,me).set([d-W,p-D],16),isNaN(g(this,me)[6])?(g(this,Va).length===0&&(g(this,me).set([c+W,h+D],2),g(this,Va).push(NaN,NaN,NaN,NaN,(c+W-n)/a,(h+D-s)/l),g(this,me).set([c-W,h-D],14),g(this,Gr).push(NaN,NaN,NaN,NaN,(c-W-n)/a,(h-D-s)/l)),g(this,me).set([N,M,c,h,d,p],6),!this.isEmpty()):(g(this,me).set([N,M,c,h,d,p],6),Math.abs(Math.atan2(M-h,N-c)-Math.atan2(x,C))<Math.PI/2?([c,h,d,p]=g(this,me).subarray(2,6),g(this,Va).push(NaN,NaN,NaN,NaN,((c+d)/2-n)/a,((h+p)/2-s)/l),[c,h,N,M]=g(this,me).subarray(14,18),g(this,Gr).push(NaN,NaN,NaN,NaN,((N+c)/2-n)/a,((M+h)/2-s)/l),!0):([N,M,c,h,d,p]=g(this,me).subarray(0,6),g(this,Va).push(((N+5*c)/6-n)/a,((M+5*h)/6-s)/l,((5*c+d)/6-n)/a,((5*h+p)/6-s)/l,((c+d)/2-n)/a,((h+p)/2-s)/l),[d,p,c,h,N,M]=g(this,me).subarray(12,18),g(this,Gr).push(((N+5*c)/6-n)/a,((M+5*h)/6-s)/l,((5*c+d)/6-n)/a,((5*h+p)/6-s)/l,((c+d)/2-n)/a,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=g(this,Va),e=g(this,Gr);if(isNaN(g(this,me)[6])&&!this.isEmpty())return B(this,vi,e5).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);B(this,vi,i5).call(this,n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return B(this,vi,n5).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,s,a,l){return new o5(t,e,n,s,a,l)}getOutlines(){var y;const t=g(this,Va),e=g(this,Gr),n=g(this,me),[s,a,l,c]=g(this,Ks),h=new Float64Array((((y=g(this,Mc))==null?void 0:y.length)??0)+2);for(let b=0,E=h.length-2;b<E;b+=2)h[b]=(g(this,Mc)[b]-s)/l,h[b+1]=(g(this,Mc)[b+1]-a)/c;if(h[h.length-2]=(g(this,Mh)-s)/l,h[h.length-1]=(g(this,Oh)-a)/c,isNaN(n[6])&&!this.isEmpty())return B(this,vi,s5).call(this,h);const d=new Float64Array(g(this,Va).length+24+g(this,Gr).length);let p=t.length;for(let b=0;b<p;b+=2){if(isNaN(t[b])){d[b]=d[b+1]=NaN;continue}d[b]=t[b],d[b+1]=t[b+1]}p=B(this,vi,a5).call(this,d,p);for(let b=e.length-6;b>=6;b-=6)for(let E=0;E<6;E+=2){if(isNaN(e[b+E])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[b+E],d[p+1]=e[b+E+1],p+=2}return B(this,vi,r5).call(this,d,p),this.newFreeDrawOutline(d,h,g(this,Ks),g(this,xp),g(this,wp),g(this,Tp))}};Ks=new WeakMap,Gr=new WeakMap,wp=new WeakMap,Tp=new WeakMap,Va=new WeakMap,me=new WeakMap,Mh=new WeakMap,Oh=new WeakMap,_v=new WeakMap,Ev=new WeakMap,xp=new WeakMap,Cp=new WeakMap,Mc=new WeakMap,Av=new WeakMap,zE=new WeakMap,jE=new WeakMap,vi=new WeakSet,$m=function(){const t=g(this,me).subarray(4,6),e=g(this,me).subarray(16,18),[n,s,a,l]=g(this,Ks);return[(g(this,Mh)+(t[0]-e[0])/2-n)/a,(g(this,Oh)+(t[1]-e[1])/2-s)/l,(g(this,Mh)+(e[0]-t[0])/2-n)/a,(g(this,Oh)+(e[1]-t[1])/2-s)/l]},e5=function(){const[t,e,n,s]=g(this,Ks),[a,l,c,h]=B(this,vi,$m).call(this);return`M${(g(this,me)[2]-t)/n} ${(g(this,me)[3]-e)/s} L${(g(this,me)[4]-t)/n} ${(g(this,me)[5]-e)/s} L${a} ${l} L${c} ${h} L${(g(this,me)[16]-t)/n} ${(g(this,me)[17]-e)/s} L${(g(this,me)[14]-t)/n} ${(g(this,me)[15]-e)/s} Z`},n5=function(t){const e=g(this,Gr);t.push(`L${e[4]} ${e[5]} Z`)},i5=function(t){const[e,n,s,a]=g(this,Ks),l=g(this,me).subarray(4,6),c=g(this,me).subarray(16,18),[h,d,p,y]=B(this,vi,$m).call(this);t.push(`L${(l[0]-e)/s} ${(l[1]-n)/a} L${h} ${d} L${p} ${y} L${(c[0]-e)/s} ${(c[1]-n)/a}`)},s5=function(t){const e=g(this,me),[n,s,a,l]=g(this,Ks),[c,h,d,p]=B(this,vi,$m).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-s)/l,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-s)/l,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-s)/l],0),this.newFreeDrawOutline(y,t,g(this,Ks),g(this,xp),g(this,wp),g(this,Tp))},r5=function(t,e){const n=g(this,Gr);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},a5=function(t,e){const n=g(this,me).subarray(4,6),s=g(this,me).subarray(16,18),[a,l,c,h]=g(this,Ks),[d,p,y,b]=B(this,vi,$m).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/h],e),e+=24},$(Uo,Av,8),$(Uo,zE,2),$(Uo,jE,g(Uo,Av)+g(Uo,zE));let AE=Uo;var Rp,Dh,tl,Sv,Ys,wv,$n,Ms,qm,Gm,l5;class o5 extends t5{constructor(e,n,s,a,l,c){super();$(this,Ms);$(this,Rp);$(this,Dh,null);$(this,tl);$(this,Sv);$(this,Ys);$(this,wv);$(this,$n);V(this,$n,e),V(this,Ys,n),V(this,Rp,s),V(this,wv,a),V(this,tl,l),V(this,Sv,c),B(this,Ms,l5).call(this,c);const{x:h,y:d,width:p,height:y}=g(this,Dh);for(let b=0,E=e.length;b<E;b+=2)e[b]=(e[b]-h)/p,e[b+1]=(e[b+1]-d)/y;for(let b=0,E=n.length;b<E;b+=2)n[b]=(n[b]-h)/p,n[b+1]=(n[b+1]-d)/y}toSVGPath(){const e=[`M${g(this,$n)[4]} ${g(this,$n)[5]}`];for(let n=6,s=g(this,$n).length;n<s;n+=6){if(isNaN(g(this,$n)[n])){e.push(`L${g(this,$n)[n+4]} ${g(this,$n)[n+5]}`);continue}e.push(`C${g(this,$n)[n]} ${g(this,$n)[n+1]} ${g(this,$n)[n+2]} ${g(this,$n)[n+3]} ${g(this,$n)[n+4]} ${g(this,$n)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,s,a],l){const c=s-e,h=a-n;let d,p;switch(l){case 0:d=B(this,Ms,qm).call(this,g(this,$n),e,a,c,-h),p=B(this,Ms,qm).call(this,g(this,Ys),e,a,c,-h);break;case 90:d=B(this,Ms,Gm).call(this,g(this,$n),e,n,c,h),p=B(this,Ms,Gm).call(this,g(this,Ys),e,n,c,h);break;case 180:d=B(this,Ms,qm).call(this,g(this,$n),s,n,-c,h),p=B(this,Ms,qm).call(this,g(this,Ys),s,n,-c,h);break;case 270:d=B(this,Ms,Gm).call(this,g(this,$n),s,a,-c,-h),p=B(this,Ms,Gm).call(this,g(this,Ys),s,a,-c,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}get box(){return g(this,Dh)}newOutliner(e,n,s,a,l,c=0){return new AE(e,n,s,a,l,c)}getNewOutline(e,n){const{x:s,y:a,width:l,height:c}=g(this,Dh),[h,d,p,y]=g(this,Rp),b=l*p,E=c*y,A=s*p+h,S=a*y+d,C=this.newOutliner({x:g(this,Ys)[0]*b+A,y:g(this,Ys)[1]*E+S},g(this,Rp),g(this,wv),e,g(this,Sv),n??g(this,tl));for(let x=2;x<g(this,Ys).length;x+=2)C.add({x:g(this,Ys)[x]*b+A,y:g(this,Ys)[x+1]*E+S});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Rp=new WeakMap,Dh=new WeakMap,tl=new WeakMap,Sv=new WeakMap,Ys=new WeakMap,wv=new WeakMap,$n=new WeakMap,Ms=new WeakSet,qm=function(e,n,s,a,l){const c=new Float64Array(e.length);for(let h=0,d=e.length;h<d;h+=2)c[h]=n+e[h]*a,c[h+1]=s+e[h+1]*l;return c},Gm=function(e,n,s,a,l){const c=new Float64Array(e.length);for(let h=0,d=e.length;h<d;h+=2)c[h]=n+e[h+1]*a,c[h+1]=s+e[h]*l;return c},l5=function(e){const n=g(this,$n);let s=n[4],a=n[5],l=s,c=a,h=s,d=a,p=s,y=a;const b=e?Math.max:Math.min;for(let x=6,N=n.length;x<N;x+=6){if(isNaN(n[x]))l=Math.min(l,n[x+4]),c=Math.min(c,n[x+5]),h=Math.max(h,n[x+4]),d=Math.max(d,n[x+5]),y<n[x+5]?(p=n[x+4],y=n[x+5]):y===n[x+5]&&(p=b(p,n[x+4]));else{const M=Ft.bezierBoundingBox(s,a,...n.slice(x,x+6));l=Math.min(l,M[0]),c=Math.min(c,M[1]),h=Math.max(h,M[2]),d=Math.max(d,M[3]),y<M[3]?(p=M[2],y=M[3]):y===M[3]&&(p=b(p,M[2]))}s=n[x+4],a=n[x+5]}const E=l-g(this,tl),A=c-g(this,tl),S=h-l+2*g(this,tl),C=d-c+2*g(this,tl);V(this,Dh,{x:E,y:A,width:S,height:C,lastPoint:[p,y]})};var Tv,Oc,Wr,Es,c5,L_,u5,h5,mx;class ED{constructor(t,e=0,n=0,s=!0){$(this,Es);$(this,Tv);$(this,Oc,[]);$(this,Wr,[]);let a=1/0,l=-1/0,c=1/0,h=-1/0;const d=10**-4;for(const{x:C,y:x,width:N,height:M}of t){const P=Math.floor((C-e)/d)*d,F=Math.ceil((C+N+e)/d)*d,W=Math.floor((x-e)/d)*d,D=Math.ceil((x+M+e)/d)*d,I=[P,W,D,!0],L=[F,W,D,!1];g(this,Oc).push(I,L),a=Math.min(a,P),l=Math.max(l,F),c=Math.min(c,W),h=Math.max(h,D)}const p=l-a+2*n,y=h-c+2*n,b=a-n,E=c-n,A=g(this,Oc).at(s?-1:-2),S=[A[0],A[2]];for(const C of g(this,Oc)){const[x,N,M]=C;C[0]=(x-b)/p,C[1]=(N-E)/y,C[2]=(M-E)/y}V(this,Tv,{x:b,y:E,width:p,height:y,lastPoint:S})}getOutlines(){g(this,Oc).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of g(this,Oc))e[3]?(t.push(...B(this,Es,mx).call(this,e)),B(this,Es,u5).call(this,e)):(B(this,Es,h5).call(this,e),t.push(...B(this,Es,mx).call(this,e)));return B(this,Es,c5).call(this,t)}}Tv=new WeakMap,Oc=new WeakMap,Wr=new WeakMap,Es=new WeakSet,c5=function(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,y]=l;n.delete(l);let b=c,E=h;for(a=[c,d],s.push(a);;){let A;if(n.has(p))A=p;else if(n.has(y))A=y;else break;n.delete(A),[c,h,d,p,y]=A,b!==c&&(a.push(b,E,c,E===h?h:d),b=c),E=E===h?d:h}a.push(b,E)}return new UJ(s,g(this,Tv))},L_=function(t){const e=g(this,Wr);let n=0,s=e.length-1;for(;n<=s;){const a=n+s>>1,l=e[a][0];if(l===t)return a;l<t?n=a+1:s=a-1}return s+1},u5=function([,t,e]){const n=B(this,Es,L_).call(this,t);g(this,Wr).splice(n,0,[t,e])},h5=function([,t,e]){const n=B(this,Es,L_).call(this,t);for(let s=n;s<g(this,Wr).length;s++){const[a,l]=g(this,Wr)[s];if(a!==t)break;if(a===t&&l===e){g(this,Wr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,l]=g(this,Wr)[s];if(a!==t)break;if(a===t&&l===e){g(this,Wr).splice(s,1);return}}},mx=function(t){const[e,n,s]=t,a=[[e,n,s]],l=B(this,Es,L_).call(this,s);for(let c=0;c<l;c++){const[h,d]=g(this,Wr)[c];for(let p=0,y=a.length;p<y;p++){const[,b,E]=a[p];if(!(d<=b||E<=h)){if(b>=h){if(E>d)a[p][1]=d;else{if(y===1)return[];a.splice(p,1),p--,y--}continue}a[p][2]=h,E>d&&a.push([e,d,E])}}}return a};var xv,Ip;class UJ extends t5{constructor(e,n){super();$(this,xv);$(this,Ip);V(this,Ip,e),V(this,xv,n)}toSVGPath(){const e=[];for(const n of g(this,Ip)){let[s,a]=n;e.push(`M${s} ${a}`);for(let l=2;l<n.length;l+=2){const c=n[l],h=n[l+1];c===s?(e.push(`V${h}`),a=h):h===a&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,n,s,a],l){const c=[],h=s-e,d=a-n;for(const p of g(this,Ip)){const y=new Array(p.length);for(let b=0;b<p.length;b+=2)y[b]=e+p[b]*h,y[b+1]=a-p[b+1]*d;c.push(y)}return c}get box(){return g(this,xv)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}xv=new WeakMap,Ip=new WeakMap;class yx extends AE{newFreeDrawOutline(t,e,n,s,a,l){return new BJ(t,e,n,s,a,l)}get classNamesForDrawing(){return["highlight","free"]}}class BJ extends o5{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,s,a,l=0){return new yx(t,e,n,s,a,l)}}var Kr,Lh,kp,gi,Cv,Pp,Rv,Iv,Dc,Yr,Mp,kv,nn,vx,bx,_x,Hu,d5,lc;const xs=class xs{constructor({editor:t=null,uiManager:e=null}){$(this,nn);$(this,Kr,null);$(this,Lh,null);$(this,kp);$(this,gi,null);$(this,Cv,!1);$(this,Pp,!1);$(this,Rv,null);$(this,Iv);$(this,Dc,null);$(this,Yr,null);$(this,Mp);var n;t?(V(this,Pp,!1),V(this,Mp,ne.HIGHLIGHT_COLOR),V(this,Rv,t)):(V(this,Pp,!0),V(this,Mp,ne.HIGHLIGHT_DEFAULT_COLOR)),V(this,Yr,(t==null?void 0:t._uiManager)||e),V(this,Iv,g(this,Yr)._eventBus),V(this,kp,(t==null?void 0:t.color)||((n=g(this,Yr))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(xs,kv)||V(xs,kv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ae(this,"_keyboardManager",new rb([[["Escape","mac+Escape"],xs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xs.prototype._moveToPrevious],[["Home","mac+Home"],xs.prototype._moveToBeginning],[["End","mac+End"],xs.prototype._moveToEnd]]))}renderButton(){const t=V(this,Kr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=g(this,Yr)._signal;t.addEventListener("click",B(this,nn,Hu).bind(this),{signal:e}),t.addEventListener("keydown",B(this,nn,_x).bind(this),{signal:e});const n=V(this,Lh,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,kp),t.append(n),t}renderMainDropdown(){const t=V(this,gi,B(this,nn,vx).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===g(this,Kr)){B(this,nn,Hu).call(this,t);return}const e=t.target.getAttribute("data-color");e&&B(this,nn,bx).call(this,e,t)}_moveToNext(t){var e,n;if(!g(this,nn,lc)){B(this,nn,Hu).call(this,t);return}if(t.target===g(this,Kr)){(e=g(this,gi).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=g(this,gi))==null?void 0:e.firstChild)||t.target===g(this,Kr)){g(this,nn,lc)&&this._hideDropdownFromKeyboard();return}g(this,nn,lc)||B(this,nn,Hu).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!g(this,nn,lc)){B(this,nn,Hu).call(this,t);return}(e=g(this,gi).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!g(this,nn,lc)){B(this,nn,Hu).call(this,t);return}(e=g(this,gi).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=g(this,gi))==null||t.classList.add("hidden"),(e=g(this,Dc))==null||e.abort(),V(this,Dc,null)}_hideDropdownFromKeyboard(){var t;if(!g(this,Pp)){if(!g(this,nn,lc)){(t=g(this,Rv))==null||t.unselect();return}this.hideDropdown(),g(this,Kr).focus({preventScroll:!0,focusVisible:g(this,Cv)})}}updateColor(t){if(g(this,Lh)&&(g(this,Lh).style.backgroundColor=t),!g(this,gi))return;const e=g(this,Yr).highlightColors.values();for(const n of g(this,gi).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=g(this,Kr))==null||t.remove(),V(this,Kr,null),V(this,Lh,null),(e=g(this,gi))==null||e.remove(),V(this,gi,null)}};Kr=new WeakMap,Lh=new WeakMap,kp=new WeakMap,gi=new WeakMap,Cv=new WeakMap,Pp=new WeakMap,Rv=new WeakMap,Iv=new WeakMap,Dc=new WeakMap,Yr=new WeakMap,Mp=new WeakMap,kv=new WeakMap,nn=new WeakSet,vx=function(){const t=document.createElement("div"),e=g(this,Yr)._signal;t.addEventListener("contextmenu",Ir,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of g(this,Yr).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",g(xs,kv)[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=s,a.setAttribute("aria-selected",s===g(this,kp)),a.addEventListener("click",B(this,nn,bx).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",B(this,nn,_x).bind(this),{signal:e}),t},bx=function(t,e){e.stopPropagation(),g(this,Iv).dispatch("switchannotationeditorparams",{source:this,type:g(this,Mp),value:t})},_x=function(t){xs._keyboardManager.exec(this,t)},Hu=function(t){if(g(this,nn,lc)){this.hideDropdown();return}if(V(this,Cv,t.detail===0),g(this,Dc)||(V(this,Dc,new AbortController),window.addEventListener("pointerdown",B(this,nn,d5).bind(this),{signal:g(this,Yr).combinedSignal(g(this,Dc))})),g(this,gi)){g(this,gi).classList.remove("hidden");return}const e=V(this,gi,B(this,nn,vx).call(this));g(this,Kr).append(e)},d5=function(t){var e;(e=g(this,gi))!=null&&e.contains(t.target)||this.hideDropdown()},lc=function(){return g(this,gi)&&!g(this,gi).classList.contains("hidden")},$(xs,kv,null);let SE=xs;var Op,Pv,el,Nh,Dp,_r,Mv,Ov,Fh,Xr,es,Is,Lp,nl,mi,Np,Er,Dv,ae,Ex,N_,f5,p5,g5,Ax,$u,Cr,Tf,m5,F_,Wm,y5,v5,b5,_5,E5;const Fe=class Fe extends Ke{constructor(e){super({...e,name:"highlightEditor"});$(this,ae);$(this,Op,null);$(this,Pv,0);$(this,el);$(this,Nh,null);$(this,Dp,null);$(this,_r,null);$(this,Mv,null);$(this,Ov,0);$(this,Fh,null);$(this,Xr,null);$(this,es,null);$(this,Is,!1);$(this,Lp,null);$(this,nl);$(this,mi,null);$(this,Np,"");$(this,Er);$(this,Dv,"");this.color=e.color||Fe._defaultColor,V(this,Er,e.thickness||Fe._defaultThickness),V(this,nl,e.opacity||Fe._defaultOpacity),V(this,el,e.boxes||null),V(this,Dv,e.methodOfCreation||""),V(this,Np,e.text||""),this._isDraggable=!1,e.highlightId>-1?(V(this,Is,!0),B(this,ae,N_).call(this,e),B(this,ae,$u).call(this)):g(this,el)&&(V(this,Op,e.anchorNode),V(this,Pv,e.anchorOffset),V(this,Mv,e.focusNode),V(this,Ov,e.focusOffset),B(this,ae,Ex).call(this),B(this,ae,$u).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Fe.prototype;return Ae(this,"_keyboardManager",new rb([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Is)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Er),methodOfCreation:g(this,Dv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var s;Ke.initialize(e,n),Fe._defaultColor||(Fe._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case ne.HIGHLIGHT_DEFAULT_COLOR:Fe._defaultColor=n;break;case ne.HIGHLIGHT_THICKNESS:Fe._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return g(this,Lp)}updateParams(e,n){switch(e){case ne.HIGHLIGHT_COLOR:B(this,ae,f5).call(this,n);break;case ne.HIGHLIGHT_THICKNESS:B(this,ae,p5).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_DEFAULT_COLOR,Fe._defaultColor],[ne.HIGHLIGHT_THICKNESS,Fe._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||Fe._defaultColor],[ne.HIGHLIGHT_THICKNESS,g(this,Er)||Fe._defaultThickness],[ne.HIGHLIGHT_FREE,g(this,Is)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(V(this,Dp,new SE({editor:this})),e.addColorPicker(g(this,Dp))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,ae,Wm).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,B(this,ae,Wm).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){B(this,ae,Ax).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,ae,$u).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let n=!1;this.parent&&!e?B(this,ae,Ax).call(this):e&&(B(this,ae,$u).call(this,e),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var a,l,c;const{drawLayer:n}=this.parent;let s;g(this,Is)?(e=(e-this.rotation+360)%360,s=B(a=Fe,Cr,Tf).call(a,g(this,Xr).box,e)):s=B(l=Fe,Cr,Tf).call(l,this,e),n.rotate(g(this,es),e),n.rotate(g(this,mi),e),n.updateBox(g(this,es),s),n.updateBox(g(this,mi),B(c=Fe,Cr,Tf).call(c,g(this,_r).box,e))}render(){if(this.div)return this.div;const e=super.render();g(this,Np)&&(e.setAttribute("aria-label",g(this,Np)),e.setAttribute("role","mark")),g(this,Is)?e.classList.add("free"):this.div.addEventListener("keydown",B(this,ae,m5).bind(this),{signal:this._uiManager._signal});const n=V(this,Fh,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Nh);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),_E(this,g(this,Fh),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,mi),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,mi),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:B(this,ae,F_).call(this,!0);break;case 1:case 3:B(this,ae,F_).call(this,!1);break}}select(){var e,n;super.select(),g(this,mi)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,mi),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,mi),"selected"))}unselect(){var e;super.unselect(),g(this,mi)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,mi),"selected"),g(this,Is)||B(this,ae,F_).call(this,!1))}get _mustFixPosition(){return!g(this,Is)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(g(this,es),e),this.parent.drawLayer.show(g(this,mi),e))}static startHighlighting(e,n,{target:s,x:a,y:l}){const{x:c,y:h,width:d,height:p}=s.getBoundingClientRect(),y=new AbortController,b=e.combinedSignal(y),E=S=>{S.preventDefault(),S.stopPropagation()},A=S=>{y.abort(),B(this,Cr,_5).call(this,e,S)};window.addEventListener("blur",A,{signal:b}),window.addEventListener("pointerup",A,{signal:b}),window.addEventListener("pointerdown",E,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Ir,{signal:b}),s.addEventListener("pointermove",B(this,Cr,b5).bind(this,e),{signal:b}),this._freeHighlight=new yx({x:a,y:l},[c,h,d,p],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,s){var S,C,x,N;let a=null;if(e instanceof G3){const{data:{quadPoints:M,rect:P,rotation:F,id:W,color:D,opacity:I,popupRef:L},parent:{page:{pageNumber:T}}}=e;a=e={annotationType:le.HIGHLIGHT,color:Array.from(D),opacity:I,quadPoints:M,boxes:null,pageIndex:T-1,rect:P.slice(0),rotation:F,id:W,deleted:!1,popupRef:L}}else if(e instanceof DR){const{data:{inkLists:M,rect:P,rotation:F,id:W,color:D,borderStyle:{rawWidth:I},popupRef:L},parent:{page:{pageNumber:T}}}=e;a=e={annotationType:le.HIGHLIGHT,color:Array.from(D),thickness:I,inkLists:M,boxes:null,pageIndex:T-1,rect:P.slice(0),rotation:F,id:W,deleted:!1,popupRef:L}}const{color:l,quadPoints:c,inkLists:h,opacity:d}=e,p=await super.deserialize(e,n,s);p.color=Ft.makeHexColor(...l),V(p,nl,d||1),h&&V(p,Er,e.thickness),p.annotationElementId=e.id||null,p._initialData=a;const[y,b]=p.pageDimensions,[E,A]=p.pageTranslation;if(c){const M=V(p,el,[]);for(let P=0;P<c.length;P+=8)M.push({x:(c[P]-E)/y,y:1-(c[P+1]-A)/b,width:(c[P+2]-c[P])/y,height:(c[P+1]-c[P+5])/b});B(S=p,ae,Ex).call(S),B(C=p,ae,$u).call(C),p.rotate(p.rotation)}else if(h){V(p,Is,!0);const M=h[0],P={x:M[0]-E,y:b-(M[1]-A)},F=new yx(P,[0,0,y,b],1,g(p,Er)/2,!0,.001);for(let I=0,L=M.length;I<L;I+=2)P.x=M[I]-E,P.y=b-(M[I+1]-A),F.add(P);const{id:W,clipPathId:D}=n.drawLayer.draw(F,p.color,p._defaultOpacity,!0);B(x=p,ae,N_).call(x,{highlightOutlines:F.getOutlines(),highlightId:W,clipPathId:D}),B(N=p,ae,$u).call(N)}return p}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=Ke._colorManager.convert(this.color),a={annotationType:le.HIGHLIGHT,color:s,opacity:g(this,nl),thickness:g(this,Er),quadPoints:B(this,ae,y5).call(this),outlines:B(this,ae,v5).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:B(this,ae,Wm).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!B(this,ae,E5).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Op=new WeakMap,Pv=new WeakMap,el=new WeakMap,Nh=new WeakMap,Dp=new WeakMap,_r=new WeakMap,Mv=new WeakMap,Ov=new WeakMap,Fh=new WeakMap,Xr=new WeakMap,es=new WeakMap,Is=new WeakMap,Lp=new WeakMap,nl=new WeakMap,mi=new WeakMap,Np=new WeakMap,Er=new WeakMap,Dv=new WeakMap,ae=new WeakSet,Ex=function(){const e=new ED(g(this,el),.001);V(this,Xr,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Xr).box;const n=new ED(g(this,el),.0025,.001,this._uiManager.direction==="ltr");V(this,_r,n.getOutlines());const{lastPoint:s}=g(this,_r).box;V(this,Lp,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},N_=function({highlightOutlines:e,highlightId:n,clipPathId:s}){var y,b;if(V(this,Xr,e),V(this,_r,e.getNewOutline(g(this,Er)/2+1.5,.0025)),n>=0)V(this,es,n),V(this,Nh,s),this.parent.drawLayer.finalizeLine(n,e),V(this,mi,this.parent.drawLayer.drawOutline(g(this,_r)));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,es),e),this.parent.drawLayer.updateBox(g(this,es),B(y=Fe,Cr,Tf).call(y,g(this,Xr).box,(E-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,mi),g(this,_r)),this.parent.drawLayer.updateBox(g(this,mi),B(b=Fe,Cr,Tf).call(b,g(this,_r).box,E))}const{x:l,y:c,width:h,height:d}=e.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=d;break;case 90:{const[E,A]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*A/E,this.height=d*E/A;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[E,A]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*A/E,this.height=d*E/A;break}}const{lastPoint:p}=g(this,_r).box;V(this,Lp,[(p[0]-l)/h,(p[1]-c)/d])},f5=function(e){const n=(l,c)=>{var h,d,p;this.color=l,(h=this.parent)==null||h.drawLayer.changeColor(g(this,es),l),(d=g(this,Dp))==null||d.updateColor(l),V(this,nl,c),(p=this.parent)==null||p.drawLayer.changeOpacity(g(this,es),c)},s=this.color,a=g(this,nl);this.addCommands({cmd:n.bind(this,e,Fe._defaultOpacity),undo:n.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},p5=function(e){const n=g(this,Er),s=a=>{V(this,Er,a),B(this,ae,g5).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},g5=function(e){if(!g(this,Is))return;B(this,ae,N_).call(this,{highlightOutlines:g(this,Xr).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},Ax=function(){g(this,es)===null||!this.parent||(this.parent.drawLayer.remove(g(this,es)),V(this,es,null),this.parent.drawLayer.remove(g(this,mi)),V(this,mi,null))},$u=function(e=this.parent){g(this,es)===null&&({id:gs(this,es)._,clipPathId:gs(this,Nh)._}=e.drawLayer.draw(g(this,Xr),this.color,g(this,nl)),V(this,mi,e.drawLayer.drawOutline(g(this,_r))),g(this,Fh)&&(g(this,Fh).style.clipPath=g(this,Nh)))},Cr=new WeakSet,Tf=function({x:e,y:n,width:s,height:a},l){switch(l){case 90:return{x:1-n-a,y:e,width:a,height:s};case 180:return{x:1-e-s,y:1-n-a,width:s,height:a};case 270:return{x:n,y:1-e-s,width:a,height:s}}return{x:e,y:n,width:s,height:a}},m5=function(e){Fe._keyboardManager.exec(this,e)},F_=function(e){if(!g(this,Op))return;const n=window.getSelection();e?n.setPosition(g(this,Op),g(this,Pv)):n.setPosition(g(this,Mv),g(this,Ov))},Wm=function(){return g(this,Is)?this.rotation:0},y5=function(){if(g(this,Is))return null;const[e,n]=this.pageDimensions,[s,a]=this.pageTranslation,l=g(this,el),c=new Float32Array(l.length*8);let h=0;for(const{x:d,y:p,width:y,height:b}of l){const E=d*e+s,A=(1-p-b)*n+a;c[h]=c[h+4]=E,c[h+1]=c[h+3]=A,c[h+2]=c[h+6]=E+y*e,c[h+5]=c[h+7]=A+b*n,h+=8}return c},v5=function(e){return g(this,Xr).serialize(e,B(this,ae,Wm).call(this))},b5=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},_5=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},E5=function(e){const{color:n}=this._initialData;return e.color.some((s,a)=>s!==n[a])},$(Fe,Cr),Qt(Fe,"_defaultColor",null),Qt(Fe,"_defaultOpacity",1),Qt(Fe,"_defaultThickness",12),Qt(Fe,"_type","highlight"),Qt(Fe,"_editorType",le.HIGHLIGHT),Qt(Fe,"_freeHighlightId",-1),Qt(Fe,"_freeHighlight",null),Qt(Fe,"_freeHighlightClipId","");let wE=Fe;var Vh,Uh,Ua,il,Ar,Bh,zh,jh,sl,Fp,Hh,$h,Lc,Tt,A5,S5,w5,T5,wx,x5,Tx,C5,R5,I5,k5,P5,qu,xx,Cx,Rx,V_,U_,xf,Ix,B_,Cl,M5,kx,O5,D5,Px,z_,Km;const Tn=class Tn extends Ke{constructor(e){super({...e,name:"inkEditor"});$(this,Tt);$(this,Vh,0);$(this,Uh,0);$(this,Ua,null);$(this,il,new Path2D);$(this,Ar,!1);$(this,Bh,null);$(this,zh,!1);$(this,jh,!1);$(this,sl,null);$(this,Fp,null);$(this,Hh,0);$(this,$h,0);$(this,Lc,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Ke.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case ne.INK_THICKNESS:Tn._defaultThickness=n;break;case ne.INK_COLOR:Tn._defaultColor=n;break;case ne.INK_OPACITY:Tn._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case ne.INK_THICKNESS:B(this,Tt,A5).call(this,n);break;case ne.INK_COLOR:B(this,Tt,S5).call(this,n);break;case ne.INK_OPACITY:B(this,Tt,w5).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ne.INK_THICKNESS,Tn._defaultThickness],[ne.INK_COLOR,Tn._defaultColor||Ke._defaultLineColor],[ne.INK_OPACITY,Math.round(Tn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.INK_THICKNESS,this.thickness||Tn._defaultThickness],[ne.INK_COLOR,this.color||Tn._defaultColor||Ke._defaultLineColor],[ne.INK_OPACITY,Math.round(100*(this.opacity??Tn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(B(this,Tt,V_).call(this),B(this,Tt,U_).call(this)),this.isAttachedToDOM||(this.parent.add(this),B(this,Tt,xf).call(this)),B(this,Tt,Km).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Ua)&&(clearTimeout(g(this,Ua)),V(this,Ua,null)),(e=g(this,sl))==null||e.disconnect(),V(this,sl,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,s=this.width*e,a=this.height*n;this.setDimensions(s,a)}enableEditMode(){g(this,Ar)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,B(this,Tt,xx).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),B(this,Tt,Cx).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,Ar)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),V(this,Ar,!0),this.div.classList.add("disabled"),B(this,Tt,Km).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||g(this,Ar)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),B(this,Tt,x5).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),B(this,Tt,Tx).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),B(this,Tt,Rx).call(this,e)}canvasPointerleave(e){B(this,Tt,Rx).call(this,e)}get isResizable(){return!this.isEmpty()&&g(this,Ar)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,a,l,c]=B(this,Tt,T5).call(this);if(this.setAt(s,a,0,0),this.setDims(l,c),B(this,Tt,V_).call(this),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(e*h,n*d,this.width*h,this.height*d),V(this,jh,!0),B(this,Tt,xf).call(this),this.setDims(this.width*h,this.height*d),B(this,Tt,qu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return B(this,Tt,U_).call(this),this.div}setDimensions(e,n){const s=Math.round(e),a=Math.round(n);if(g(this,Hh)===s&&g(this,$h)===a)return;V(this,Hh,s),V(this,$h,a),this.canvas.style.visibility="hidden";const[l,c]=this.parentDimensions;this.width=e/l,this.height=n/c,this.fixAndSetPosition(),g(this,Ar)&&B(this,Tt,Ix).call(this,e,n),B(this,Tt,xf).call(this),B(this,Tt,qu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,s){var C,x,N;if(e instanceof DR)return null;const a=await super.deserialize(e,n,s);a.thickness=e.thickness,a.color=Ft.makeHexColor(...e.color),a.opacity=e.opacity;const[l,c]=a.pageDimensions,h=a.width*l,d=a.height*c,p=a.parentScale,y=e.thickness/2;V(a,Ar,!0),V(a,Hh,Math.round(h)),V(a,$h,Math.round(d));const{paths:b,rect:E,rotation:A}=e;for(let{bezier:M}of b){M=B(C=Tn,Cl,O5).call(C,M,E,A);const P=[];a.paths.push(P);let F=p*(M[0]-y),W=p*(M[1]-y);for(let I=2,L=M.length;I<L;I+=6){const T=p*(M[I]-y),U=p*(M[I+1]-y),q=p*(M[I+2]-y),j=p*(M[I+3]-y),ct=p*(M[I+4]-y),nt=p*(M[I+5]-y);P.push([[F,W],[T,U],[q,j],[ct,nt]]),F=ct,W=nt}const D=B(this,Cl,M5).call(this,P);a.bezierPath2D.push(D)}const S=B(x=a,Tt,Px).call(x);return V(a,Uh,Math.max(Ke.MIN_SIZE,S[2]-S[0])),V(a,Vh,Math.max(Ke.MIN_SIZE,S[3]-S[1])),B(N=a,Tt,Ix).call(N,h,d),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Ke._colorManager.convert(this.ctx.strokeStyle);return{annotationType:le.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:B(this,Tt,D5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Vh=new WeakMap,Uh=new WeakMap,Ua=new WeakMap,il=new WeakMap,Ar=new WeakMap,Bh=new WeakMap,zh=new WeakMap,jh=new WeakMap,sl=new WeakMap,Fp=new WeakMap,Hh=new WeakMap,$h=new WeakMap,Lc=new WeakMap,Tt=new WeakSet,A5=function(e){const n=a=>{this.thickness=a,B(this,Tt,Km).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},S5=function(e){const n=a=>{this.color=a,B(this,Tt,qu).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},w5=function(e){const n=a=>{this.opacity=a,B(this,Tt,qu).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},T5=function(){const{parentRotation:e,parentDimensions:[n,s]}=this;switch(e){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},wx=function(){const{ctx:e,color:n,opacity:s,thickness:a,parentScale:l,scaleFactor:c}=this;e.lineWidth=a*l/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${lZ(s)}`},x5=function(e,n){this.canvas.addEventListener("contextmenu",Ir,{signal:this._uiManager._signal}),B(this,Tt,Cx).call(this),V(this,Bh,new AbortController);const s=this._uiManager.combinedSignal(g(this,Bh));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,g(this,jh)||(V(this,jh,!0),B(this,Tt,xf).call(this),this.thickness||(this.thickness=Tn._defaultThickness),this.color||(this.color=Tn._defaultColor||Ke._defaultLineColor),this.opacity??(this.opacity=Tn._defaultOpacity)),this.currentPath.push([e,n]),V(this,zh,!1),B(this,Tt,wx).call(this),V(this,Lc,()=>{B(this,Tt,I5).call(this),g(this,Lc)&&window.requestAnimationFrame(g(this,Lc))}),window.requestAnimationFrame(g(this,Lc))},Tx=function(e,n){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&n===a)return;const l=this.currentPath;let c=g(this,il);if(l.push([e,n]),V(this,zh,!0),l.length<=2){c.moveTo(...l[0]),c.lineTo(e,n);return}l.length===3&&(V(this,il,c=new Path2D),c.moveTo(...l[0])),B(this,Tt,k5).call(this,c,...l.at(-3),...l.at(-2),e,n)},C5=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);g(this,il).lineTo(...e)},R5=function(e,n){V(this,Lc,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),B(this,Tt,Tx).call(this,e,n),B(this,Tt,C5).call(this);let s;if(this.currentPath.length!==1)s=B(this,Tt,P5).call(this);else{const d=[e,n];s=[[d,d.slice(),d.slice(),d]]}const a=g(this,il),l=this.currentPath;this.currentPath=[],V(this,il,new Path2D);const c=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(B(this,Tt,V_).call(this),B(this,Tt,U_).call(this)),B(this,Tt,Km).call(this))};this.addCommands({cmd:c,undo:h,mustExec:!0})},I5=function(){if(!g(this,zh))return;V(this,zh,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),a=n.map(c=>c[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...a)-e,Math.max(...a)+e;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)l.stroke(c);l.stroke(g(this,il)),l.restore()},k5=function(e,n,s,a,l,c,h){const d=(n+a)/2,p=(s+l)/2,y=(a+c)/2,b=(l+h)/2;e.bezierCurveTo(d+2*(a-d)/3,p+2*(l-p)/3,y+2*(a-y)/3,b+2*(l-b)/3,y,b)},P5=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let s,[a,l]=e[0];for(s=1;s<e.length-2;s++){const[E,A]=e[s],[S,C]=e[s+1],x=(E+S)/2,N=(A+C)/2,M=[a+2*(E-a)/3,l+2*(A-l)/3],P=[x+2*(E-x)/3,N+2*(A-N)/3];n.push([[a,l],M,P,[x,N]]),[a,l]=[x,N]}const[c,h]=e[s],[d,p]=e[s+1],y=[a+2*(c-a)/3,l+2*(h-l)/3],b=[d+2*(c-d)/3,p+2*(h-p)/3];return n.push([[a,l],y,b,[d,p]]),n},qu=function(){if(this.isEmpty()){B(this,Tt,B_).call(this);return}B(this,Tt,wx).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),B(this,Tt,B_).call(this);for(const s of this.bezierPath2D)n.stroke(s)},xx=function(){if(g(this,Fp))return;V(this,Fp,new AbortController);const e=this._uiManager.combinedSignal(g(this,Fp));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Cx=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Rx=function(e){var n;(n=g(this,Bh))==null||n.abort(),V(this,Bh,null),B(this,Tt,xx).call(this),g(this,Ua)&&clearTimeout(g(this,Ua)),V(this,Ua,setTimeout(()=>{V(this,Ua,null),this.canvas.removeEventListener("contextmenu",Ir)},10)),B(this,Tt,R5).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},V_=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},U_=function(){V(this,sl,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,sl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,sl))==null||e.disconnect(),V(this,sl,null)},{once:!0})},xf=function(){if(!g(this,jh))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),B(this,Tt,B_).call(this)},Ix=function(e,n){const s=B(this,Tt,z_).call(this),a=(e-s)/g(this,Uh),l=(n-s)/g(this,Vh);this.scaleFactor=Math.min(a,l)},B_=function(){const e=B(this,Tt,z_).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Cl=new WeakSet,M5=function(e){const n=new Path2D;for(let s=0,a=e.length;s<a;s++){const[l,c,h,d]=e[s];s===0&&n.moveTo(...l),n.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}return n},kx=function(e,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let d=0,p=e.length;d<p;d+=2)e[d]+=a,e[d+1]=h-e[d+1];break;case 90:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=e[d+1]+a,e[d+1]=y+l}break;case 180:for(let d=0,p=e.length;d<p;d+=2)e[d]=c-e[d],e[d+1]+=l;break;case 270:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=c-e[d+1],e[d+1]=h-y}break;default:throw new Error("Invalid rotation")}return e},O5=function(e,n,s){const[a,l,c,h]=n;switch(s){case 0:for(let d=0,p=e.length;d<p;d+=2)e[d]-=a,e[d+1]=h-e[d+1];break;case 90:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=e[d+1]-l,e[d+1]=y-a}break;case 180:for(let d=0,p=e.length;d<p;d+=2)e[d]=c-e[d],e[d+1]-=l;break;case 270:for(let d=0,p=e.length;d<p;d+=2){const y=e[d];e[d]=h-e[d+1],e[d+1]=c-y}break;default:throw new Error("Invalid rotation")}return e},D5=function(e,n,s,a){var p,y;const l=[],c=this.thickness/2,h=e*n+c,d=e*s+c;for(const b of this.paths){const E=[],A=[];for(let S=0,C=b.length;S<C;S++){const[x,N,M,P]=b[S];if(x[0]===P[0]&&x[1]===P[1]&&C===1){const j=e*x[0]+h,ct=e*x[1]+d;E.push(j,ct),A.push(j,ct);break}const F=e*x[0]+h,W=e*x[1]+d,D=e*N[0]+h,I=e*N[1]+d,L=e*M[0]+h,T=e*M[1]+d,U=e*P[0]+h,q=e*P[1]+d;S===0&&(E.push(F,W),A.push(F,W)),E.push(D,I,L,T,U,q),A.push(D,I),S===C-1&&A.push(U,q)}l.push({bezier:B(p=Tn,Cl,kx).call(p,E,a,this.rotation),points:B(y=Tn,Cl,kx).call(y,A,a,this.rotation)})}return l},Px=function(){let e=1/0,n=-1/0,s=1/0,a=-1/0;for(const l of this.paths)for(const[c,h,d,p]of l){const y=Ft.bezierBoundingBox(...c,...h,...d,...p);e=Math.min(e,y[0]),s=Math.min(s,y[1]),n=Math.max(n,y[2]),a=Math.max(a,y[3])}return[e,s,n,a]},z_=function(){return g(this,Ar)?Math.ceil(this.thickness*this.parentScale):0},Km=function(e=!1){if(this.isEmpty())return;if(!g(this,Ar)){B(this,Tt,qu).call(this);return}const n=B(this,Tt,Px).call(this),s=B(this,Tt,z_).call(this);V(this,Uh,Math.max(Ke.MIN_SIZE,n[2]-n[0])),V(this,Vh,Math.max(Ke.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(s+g(this,Uh)*this.scaleFactor),l=Math.ceil(s+g(this,Vh)*this.scaleFactor),[c,h]=this.parentDimensions;this.width=a/c,this.height=l/h,this.setAspectRatio(a,l);const d=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],B(this,Tt,xf).call(this),B(this,Tt,qu).call(this),V(this,Hh,a),V(this,$h,l),this.setDims(a,l);const y=e?s/this.scaleFactor/2:0;this.translate(d-this.translationX-y,p-this.translationY-y)},$(Tn,Cl),Qt(Tn,"_defaultColor",null),Qt(Tn,"_defaultOpacity",1),Qt(Tn,"_defaultThickness",1),Qt(Tn,"_type","ink"),Qt(Tn,"_editorType",le.INK);let Sx=Tn;var Cn,zi,Nc,rl,Fc,Vp,Ba,al,za,Xs,Up,Ee,Ym,Xm,j_,Ox,L5,H_,Dx,$_,N5,F5;const ly=class ly extends Ke{constructor(e){super({...e,name:"stampEditor"});$(this,Ee);$(this,Cn,null);$(this,zi,null);$(this,Nc,null);$(this,rl,null);$(this,Fc,null);$(this,Vp,"");$(this,Ba,null);$(this,al,null);$(this,za,null);$(this,Xs,!1);$(this,Up,!1);V(this,rl,e.bitmapUrl),V(this,Fc,e.bitmapFile)}static initialize(e,n){Ke.initialize(e,n)}static get supportedTypes(){return Ae(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ae(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(le.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=e||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var e,n;g(this,zi)&&(V(this,Cn,null),this._uiManager.imageManager.deleteId(g(this,zi)),(e=g(this,Ba))==null||e.remove(),V(this,Ba,null),(n=g(this,al))==null||n.disconnect(),V(this,al,null),g(this,za)&&(clearTimeout(g(this,za)),V(this,za,null))),super.remove()}rebuild(){if(!this.parent){g(this,zi)&&B(this,Ee,j_).call(this);return}super.rebuild(),this.div!==null&&(g(this,zi)&&g(this,Ba)===null&&B(this,Ee,j_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Nc)||g(this,Cn)||g(this,rl)||g(this,Fc)||g(this,zi))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,Cn)?B(this,Ee,Ox).call(this):B(this,Ee,j_).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(e*s,n*a,this.width*s,this.height*a)}return this.div}copyCanvas(e,n,s=!1){var E;e||(e=224);const{width:a,height:l}=g(this,Cn),c=new R1;let h=g(this,Cn),d=a,p=l,y=null;if(n){if(a>n||l>n){const I=Math.min(n/a,n/l);d=Math.floor(a*I),p=Math.floor(l*I)}y=document.createElement("canvas");const A=y.width=Math.ceil(d*c.sx),S=y.height=Math.ceil(p*c.sy);g(this,Xs)||(h=B(this,Ee,H_).call(this,A,S));const C=y.getContext("2d");C.filter=this._uiManager.hcmFilter;let x="white",N="#cfcfd8";this._uiManager.hcmFilter!=="none"?N="black":(E=window.matchMedia)!=null&&E.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",N="#42414d");const M=15,P=M*c.sx,F=M*c.sy,W=new OffscreenCanvas(P*2,F*2),D=W.getContext("2d");D.fillStyle=x,D.fillRect(0,0,P*2,F*2),D.fillStyle=N,D.fillRect(0,0,P,F),D.fillRect(P,F,P,F),C.fillStyle=C.createPattern(W,"repeat"),C.fillRect(0,0,A,S),C.drawImage(h,0,0,h.width,h.height,0,0,A,S)}let b=null;if(s){let A,S;if(c.symmetric&&h.width<e&&h.height<e)A=h.width,S=h.height;else if(h=g(this,Cn),a>e||l>e){const N=Math.min(e/a,e/l);A=Math.floor(a*N),S=Math.floor(l*N),g(this,Xs)||(h=B(this,Ee,H_).call(this,A,S))}const x=new OffscreenCanvas(A,S).getContext("2d",{willReadFrequently:!0});x.drawImage(h,0,0,h.width,h.height,0,0,A,S),b={width:A,height:S,data:x.getImageData(0,0,A,S).data}}return{canvas:y,width:d,height:p,imageData:b}}getImageForAltText(){return g(this,Ba)}static async deserialize(e,n,s){var S;let a=null;if(e instanceof W3){const{data:{rect:C,rotation:x,id:N,structParent:M,popupRef:P},container:F,parent:{page:{pageNumber:W}}}=e,D=F.querySelector("canvas"),I=s.imageManager.getFromCanvas(F.id,D);D.remove();const L=((S=await n._structTree.getAriaAttributes(`${SR}${N}`))==null?void 0:S.get("aria-label"))||"";a=e={annotationType:le.STAMP,bitmapId:I.id,bitmap:I.bitmap,pageIndex:W-1,rect:C.slice(0),rotation:x,id:N,deleted:!1,accessibilityData:{decorative:!1,altText:L},isSvg:!1,structParent:M,popupRef:P}}const l=await super.deserialize(e,n,s),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:y,accessibilityData:b}=e;p&&s.imageManager.isValidId(p)?(V(l,zi,p),h&&V(l,Cn,h)):V(l,rl,d),V(l,Xs,y);const[E,A]=l.pageDimensions;return l.width=(c[2]-c[0])/E,l.height=(c[3]-c[1])/A,l.annotationElementId=e.id||null,b&&(l.altTextData=b),l._initialData=a,V(l,Up,!!a),l}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:le.STAMP,bitmapId:g(this,zi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,Xs),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=B(this,Ee,$_).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=B(this,Ee,F5).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=g(this,Xs)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(g(this,zi)))n.stamps.set(g(this,zi),{area:c,serialized:s}),s.bitmap=B(this,Ee,$_).call(this,!1);else if(g(this,Xs)){const h=n.stamps.get(g(this,zi));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=B(this,Ee,$_).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Cn=new WeakMap,zi=new WeakMap,Nc=new WeakMap,rl=new WeakMap,Fc=new WeakMap,Vp=new WeakMap,Ba=new WeakMap,al=new WeakMap,za=new WeakMap,Xs=new WeakMap,Up=new WeakMap,Ee=new WeakSet,Ym=function(e,n=!1){if(!e){this.remove();return}V(this,Cn,e.bitmap),n||(V(this,zi,e.id),V(this,Xs,e.isSvg)),e.file&&V(this,Vp,e.file.name),B(this,Ee,Ox).call(this)},Xm=function(){if(V(this,Nc,null),this._uiManager.enableWaiting(!1),!!g(this,Ba)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Cn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Cn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},j_=function(){if(g(this,zi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,zi)).then(s=>B(this,Ee,Ym).call(this,s,!0)).finally(()=>B(this,Ee,Xm).call(this));return}if(g(this,rl)){const s=g(this,rl);V(this,rl,null),this._uiManager.enableWaiting(!0),V(this,Nc,this._uiManager.imageManager.getFromUrl(s).then(a=>B(this,Ee,Ym).call(this,a)).finally(()=>B(this,Ee,Xm).call(this)));return}if(g(this,Fc)){const s=g(this,Fc);V(this,Fc,null),this._uiManager.enableWaiting(!0),V(this,Nc,this._uiManager.imageManager.getFromFile(s).then(a=>B(this,Ee,Ym).call(this,a)).finally(()=>B(this,Ee,Xm).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=ly.supportedTypesStr;const n=this._uiManager._signal;V(this,Nc,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),B(this,Ee,Ym).call(this,a)}s()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>B(this,Ee,Xm).call(this))),e.click()},Ox=function(){const{div:e}=this;let{width:n,height:s}=g(this,Cn);const[a,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*a,s=this.height*l;else if(n>c*a||s>c*l){const y=Math.min(c*a/n,c*l/s);n*=y,s*=y}const[h,d]=this.parentDimensions;this.setDims(n*h/a,s*d/l),this._uiManager.enableWaiting(!1);const p=V(this,Ba,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),B(this,Ee,Dx).call(this,n,s),B(this,Ee,N5).call(this),g(this,Up)||(this.parent.addUndoableEditor(this),V(this,Up,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,Vp)&&p.setAttribute("aria-label",g(this,Vp))},L5=function(e,n){var c;const[s,a]=this.parentDimensions;this.width=e/s,this.height=n/a,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,za)!==null&&clearTimeout(g(this,za)),V(this,za,setTimeout(()=>{V(this,za,null),B(this,Ee,Dx).call(this,e,n)},200))},H_=function(e,n){const{width:s,height:a}=g(this,Cn);let l=s,c=a,h=g(this,Cn);for(;l>2*e||c>2*n;){const d=l,p=c;l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const y=new OffscreenCanvas(l,c);y.getContext("2d").drawImage(h,0,0,d,p,0,0,l,c),h=y.transferToImageBitmap()}return h},Dx=function(e,n){const s=new R1,a=Math.ceil(e*s.sx),l=Math.ceil(n*s.sy),c=g(this,Ba);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const h=g(this,Xs)?g(this,Cn):B(this,Ee,H_).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,l)},$_=function(e){if(e){if(g(this,Xs)){const a=this._uiManager.imageManager.getSvgUrl(g(this,zi));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,Cn),n.getContext("2d").drawImage(g(this,Cn),0,0),n.toDataURL()}if(g(this,Xs)){const[n,s]=this.pageDimensions,a=Math.round(this.width*n*nu.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*nu.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(g(this,Cn),0,0,g(this,Cn).width,g(this,Cn).height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(g(this,Cn))},N5=function(){this._uiManager._signal&&(V(this,al,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&B(this,Ee,L5).call(this,n.width,n.height)})),g(this,al).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,al))==null||e.disconnect(),V(this,al,null)},{once:!0}))},F5=function(e){var d;const{rect:n,pageIndex:s,accessibilityData:{altText:a}}=this._initialData,l=e.rect.every((p,y)=>Math.abs(p-n[y])<1),c=e.pageIndex===s,h=(((d=e.accessibilityData)==null?void 0:d.alt)||"")===a;return{isSame:l&&c&&h,isSameAltText:h}},Qt(ly,"_type","stamp"),Qt(ly,"_editorType",le.STAMP);let Mx=ly;var qh,Bp,ja,Vc,ol,Qs,Uc,zp,jp,ns,ll,zt,Bc,$i,V5,Nx,Fx,Vx,q_;const Nr=class Nr{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){$(this,$i);$(this,qh);$(this,Bp,!1);$(this,ja,null);$(this,Vc,null);$(this,ol,null);$(this,Qs,new Map);$(this,Uc,!1);$(this,zp,!1);$(this,jp,!1);$(this,ns,null);$(this,ll,null);$(this,zt);const y=[...g(Nr,Bc).values()];if(!Nr._initialized){Nr._initialized=!0;for(const b of y)b.initialize(p,t)}t.registerEditorTypes(y),V(this,zt,t),this.pageIndex=e,this.div=n,V(this,qh,a),V(this,ja,l),this.viewport=d,V(this,ns,h),this.drawLayer=c,this._structTree=s,g(this,zt).addLayer(this)}get isEmpty(){return g(this,Qs).size===0}get isInvisible(){return this.isEmpty&&g(this,zt).getMode()===le.NONE}updateToolbar(t){g(this,zt).updateToolbar(t)}updateMode(t=g(this,zt).getMode()){switch(B(this,$i,q_).call(this),t){case le.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case le.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of g(Nr,Bc).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=g(this,ns))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(g(this,zt).getMode()!==le.INK)return;if(!t){for(const n of g(this,Qs).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){g(this,zt).setEditingState(t)}addCommands(t){g(this,zt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=g(this,ja))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of g(this,Qs).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,zt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!g(this,ja))return;const e=g(this,ja).getEditableAnnotations();for(const n of e){if(n.hide(),g(this,zt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;V(this,jp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of g(this,Qs).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(g(this,ja)){const a=g(this,ja).getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(g(this,zt).isDeletedAnnotationElement(c))continue;let h=e.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(c),h&&(g(this,zt).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}B(this,$i,q_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of g(Nr,Bc).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),V(this,jp,!1)}getEditableAnnotation(t){var e;return((e=g(this,ja))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){g(this,zt).getActive()!==t&&g(this,zt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=g(this,ns))!=null&&t.div&&!g(this,ll)){V(this,ll,new AbortController);const e=g(this,zt).combinedSignal(g(this,ll));g(this,ns).div.addEventListener("pointerdown",B(this,$i,V5).bind(this),{signal:e}),g(this,ns).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=g(this,ns))!=null&&t.div&&g(this,ll)&&(g(this,ll).abort(),V(this,ll,null),g(this,ns).div.classList.remove("highlighting"))}enableClick(){if(g(this,Vc))return;V(this,Vc,new AbortController);const t=g(this,zt).combinedSignal(g(this,Vc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=g(this,Vc))==null||t.abort(),V(this,Vc,null)}attach(t){g(this,Qs).set(t.id,t);const{annotationElementId:e}=t;e&&g(this,zt).isDeletedAnnotationElement(e)&&g(this,zt).removeDeletedAnnotationElement(t)}detach(t){var e;g(this,Qs).delete(t.id),(e=g(this,qh))==null||e.removePointerInTextLayer(t.contentDiv),!g(this,jp)&&t.annotationElementId&&g(this,zt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),g(this,zt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,g(this,zp)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(g(this,zt).addDeletedAnnotationElement(t.annotationElementId),Ke.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),g(this,zt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),g(this,zt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!g(this,ol)&&(t._focusEventsAllowed=!1,V(this,ol,setTimeout(()=>{V(this,ol,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:g(this,zt)._signal}),e.focus())},0))),t._structTreeParentId=(n=g(this,qh))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return g(this,zt).getId()}combinedSignal(t){return g(this,zt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=g(this,$i,Nx))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){g(this,zt).updateToolbar(t),g(this,zt).updateMode(t);const{offsetX:n,offsetY:s}=B(this,$i,Vx).call(this),a=this.getNextId(),l=B(this,$i,Fx).call(this,{parent:this,id:a,x:n,y:s,uiManager:g(this,zt),isCentered:!0,...e});l&&this.add(l)}async deserialize(t){var e;return await((e=g(Nr,Bc).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,g(this,zt)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),a=B(this,$i,Fx).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:g(this,zt),isCentered:e,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(B(this,$i,Vx).call(this),!0)}setSelected(t){g(this,zt).setSelected(t)}toggleSelected(t){g(this,zt).toggleSelected(t)}unselect(t){g(this,zt).unselect(t)}pointerup(t){const{isMac:e}=bs.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&g(this,Uc)){if(V(this,Uc,!1),!g(this,Bp)){V(this,Bp,!0);return}if(g(this,zt).getMode()===le.STAMP){g(this,zt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(g(this,zt).getMode()===le.HIGHLIGHT&&this.enableTextSelection(),g(this,Uc)){V(this,Uc,!1);return}const{isMac:e}=bs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;V(this,Uc,!0);const n=g(this,zt).getActive();V(this,Bp,!n||n.isEmpty())}findNewParent(t,e,n){const s=g(this,zt).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=g(this,zt).getActive())==null?void 0:t.parent)===this&&(g(this,zt).commitOrRemove(),g(this,zt).setActiveEditor(null)),g(this,ol)&&(clearTimeout(g(this,ol)),V(this,ol,null));for(const n of g(this,Qs).values())(e=g(this,qh))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,Qs).clear(),g(this,zt).removeLayer(this)}render({viewport:t}){this.viewport=t,td(this.div,t);for(const e of g(this,zt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){g(this,zt).commitOrRemove(),B(this,$i,q_).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,td(this.div,{rotation:n}),e!==n)for(const s of g(this,Qs).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return g(this,zt).viewParameters.realScale}};qh=new WeakMap,Bp=new WeakMap,ja=new WeakMap,Vc=new WeakMap,ol=new WeakMap,Qs=new WeakMap,Uc=new WeakMap,zp=new WeakMap,jp=new WeakMap,ns=new WeakMap,ll=new WeakMap,zt=new WeakMap,Bc=new WeakMap,$i=new WeakSet,V5=function(t){g(this,zt).unselectAll();const{target:e}=t;if(e===g(this,ns).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&g(this,ns).div.contains(e)){const{isMac:n}=bs.platform;if(t.button!==0||t.ctrlKey&&n)return;g(this,zt).showAllEditors("highlight",!0,!0),g(this,ns).div.classList.add("free"),this.toggleDrawing(),wE.startHighlighting(this,g(this,zt).direction==="ltr",{target:g(this,ns).div,x:t.x,y:t.y}),g(this,ns).div.addEventListener("pointerup",()=>{g(this,ns).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,zt)._signal}),t.preventDefault()}},Nx=function(){return g(Nr,Bc).get(g(this,zt).getMode())},Fx=function(t){const e=g(this,$i,Nx);return e?new e.prototype.constructor(t):null},Vx=function(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),d=(a+c)/2-t,p=(l+h)/2-e,[y,b]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:y,offsetY:b}},q_=function(){V(this,zp,!0);for(const t of g(this,Qs).values())t.isEmpty()&&t.remove();V(this,zp,!1)},Qt(Nr,"_initialized",!1),$(Nr,Bc,new Map([px,Sx,Mx,wE].map(t=>[t._editorType,t])));let Lx=Nr;var Ha,Lv,ni,cl,Nv,Bx,rd,zx,U5;const Vi=class Vi{constructor({pageIndex:t}){$(this,rd);$(this,Ha,null);$(this,Lv,0);$(this,ni,new Map);$(this,cl,new Map);this.pageIndex=t}setParent(t){if(!g(this,Ha)){V(this,Ha,t);return}if(g(this,Ha)!==t){if(g(this,ni).size>0)for(const e of g(this,ni).values())e.remove(),t.append(e);V(this,Ha,t)}}static get _svgFactory(){return Ae(this,"_svgFactory",new OR)}draw(t,e,n,s=!1){const a=gs(this,Lv)._++,l=B(this,rd,zx).call(this,t.box);l.classList.add(...t.classNamesForDrawing);const c=Vi._svgFactory.createElement("defs");l.append(c);const h=Vi._svgFactory.createElement("path");c.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("d",t.toSVGPath()),s&&g(this,cl).set(a,h);const p=B(this,rd,U5).call(this,c,d),y=Vi._svgFactory.createElement("use");return l.append(y),l.setAttribute("fill",e),l.setAttribute("fill-opacity",n),y.setAttribute("href",`#${d}`),g(this,ni).set(a,l),{id:a,clipPathId:`url(#${p})`}}drawOutline(t){const e=gs(this,Lv)._++,n=B(this,rd,zx).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const s=Vi._svgFactory.createElement("defs");n.append(s);const a=Vi._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${e}`;a.setAttribute("id",l),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const p=Vi._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${e}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const y=Vi._svgFactory.createElement("rect");p.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=Vi._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const h=Vi._svgFactory.createElement("use");n.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const d=h.cloneNode();return n.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),g(this,ni).set(e,n),e}finalizeLine(t,e){const n=g(this,cl).get(t);g(this,cl).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){g(this,ni).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){g(this,cl).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;B(n=Vi,Nv,Bx).call(n,g(this,ni).get(t),e)}show(t,e){g(this,ni).get(t).classList.toggle("hidden",!e)}rotate(t,e){g(this,ni).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){g(this,ni).get(t).setAttribute("fill",e)}changeOpacity(t,e){g(this,ni).get(t).setAttribute("fill-opacity",e)}addClass(t,e){g(this,ni).get(t).classList.add(e)}removeClass(t,e){g(this,ni).get(t).classList.remove(e)}getSVGRoot(t){return g(this,ni).get(t)}remove(t){g(this,cl).delete(t),g(this,Ha)!==null&&(g(this,ni).get(t).remove(),g(this,ni).delete(t))}destroy(){V(this,Ha,null);for(const t of g(this,ni).values())t.remove();g(this,ni).clear(),g(this,cl).clear()}};Ha=new WeakMap,Lv=new WeakMap,ni=new WeakMap,cl=new WeakMap,Nv=new WeakSet,Bx=function(t,{x:e=0,y:n=0,width:s=1,height:a=1}={}){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*s}%`,l.height=`${100*a}%`},rd=new WeakSet,zx=function(t){var n;const e=Vi._svgFactory.create(1,1,!0);return g(this,Ha).append(e),e.setAttribute("aria-hidden",!0),B(n=Vi,Nv,Bx).call(n,e,t),e},U5=function(t,e){const n=Vi._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Vi._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},$(Vi,Nv);let Ux=Vi;var zJ=re.AbortException,jJ=re.AnnotationEditorLayer,HJ=re.AnnotationEditorParamsType,$J=re.AnnotationEditorType,qJ=re.AnnotationEditorUIManager,B5=re.AnnotationLayer,z5=re.AnnotationMode,GJ=re.ColorPicker,WJ=re.DOMSVGFactory,KJ=re.DrawLayer,YJ=re.FeatureTest,LR=re.GlobalWorkerOptions,XJ=re.ImageKind,QJ=re.InvalidPDFException,ZJ=re.MissingPDFException,JJ=re.OPS,ttt=re.OutputScale,ett=re.PDFDataRangeTransport,ntt=re.PDFDateString,itt=re.PDFWorker,stt=re.PasswordResponses,rtt=re.PermissionFlag,att=re.PixelsPerInch,ott=re.RenderingCancelledException,j5=re.TextLayer,ltt=re.UnexpectedResponseException,ctt=re.Util,utt=re.VerbosityLevel,htt=re.XfaLayer,dtt=re.build,ftt=re.createValidAbsoluteUrl,ptt=re.fetchData,H5=re.getDocument,gtt=re.getFilenameFromUrl,mtt=re.getPdfFilenameFromUrl,ytt=re.getXfaPageViewport,vtt=re.isDataScheme,btt=re.isPdfFile,_tt=re.noContextMenu,Ett=re.normalizeUnicode,Att=re.setLayerDimensions,Stt=re.shadow,wtt=re.version;const Ttt=Object.freeze(Object.defineProperty({__proto__:null,AbortException:zJ,AnnotationEditorLayer:jJ,AnnotationEditorParamsType:HJ,AnnotationEditorType:$J,AnnotationEditorUIManager:qJ,AnnotationLayer:B5,AnnotationMode:z5,ColorPicker:GJ,DOMSVGFactory:WJ,DrawLayer:KJ,FeatureTest:YJ,GlobalWorkerOptions:LR,ImageKind:XJ,InvalidPDFException:QJ,MissingPDFException:ZJ,OPS:JJ,OutputScale:ttt,PDFDataRangeTransport:ett,PDFDateString:ntt,PDFWorker:itt,PasswordResponses:stt,PermissionFlag:rtt,PixelsPerInch:att,RenderingCancelledException:ott,TextLayer:j5,UnexpectedResponseException:ltt,Util:ctt,VerbosityLevel:utt,XfaLayer:htt,build:dtt,createValidAbsoluteUrl:ftt,fetchData:ptt,getDocument:H5,getFilenameFromUrl:gtt,getPdfFilenameFromUrl:mtt,getXfaPageViewport:ytt,isDataScheme:vtt,isPdfFile:btt,noContextMenu:_tt,normalizeUnicode:Ett,setLayerDimensions:Att,shadow:Stt,version:wtt},Symbol.toStringTag,{value:"Module"}));var xi=function(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return i.concat(a||Array.prototype.slice.call(t))},xtt=["onCopy","onCut","onPaste"],Ctt=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Rtt=["onFocus","onBlur"],Itt=["onInput","onInvalid","onReset","onSubmit"],ktt=["onLoad","onError"],Ptt=["onKeyDown","onKeyPress","onKeyUp"],Mtt=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Ott=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Dtt=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Ltt=["onSelect"],Ntt=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Ftt=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Vtt=["onScroll"],Utt=["onWheel"],Btt=["onAnimationStart","onAnimationEnd","onAnimationIteration"],ztt=["onTransitionEnd"],jtt=["onToggle"],Htt=["onChange"],$tt=xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi([],xtt,!0),Ctt,!0),Rtt,!0),Itt,!0),ktt,!0),Ptt,!0),Mtt,!0),Ott,!0),Dtt,!0),Ltt,!0),Ntt,!0),Ftt,!0),Vtt,!0),Utt,!0),Btt,!0),ztt,!0),Htt,!0),jtt,!0);function $5(i,t){var e={};return $tt.forEach(function(n){var s=i[n];s&&(t?e[n]=function(a){return s(a,t(n))}:e[n]=s)}),e}function ob(i){var t=!1,e=new Promise(function(n,s){i.then(function(a){return!t&&n(a)}).catch(function(a){return!t&&s(a)})});return{promise:e,cancel:function(){t=!0}}}var qtt="Invariant failed";function cn(i,t){if(!i)throw new Error(qtt)}var ST,AD;function Gtt(){if(AD)return ST;AD=1;var i=function(){};return ST=i,ST}var Wtt=Gtt();const as=Gx(Wtt);var SD=Object.prototype.hasOwnProperty;function wD(i,t,e){for(e of i.keys())if(Hf(e,t))return e}function Hf(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Hf(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=wD(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=wD(t,s),!s)||!Hf(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(SD.call(i,e)&&++n&&!SD.call(t,e)||!(e in t)||!Hf(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const q5=O.createContext(null);function $f({children:i,type:t}){return z.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const Ktt="noopener noreferrer nofollow";class Ytt{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return cn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){cn(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{cn(this.pdfDocument),cn(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{cn(Array.isArray(e));const n=e[0];new Promise(s=>{cn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{s(a)}).catch(()=>{cn(!1)}):typeof n=="number"?s(n):cn(!1)}).then(s=>{const a=s+1;cn(this.pdfViewer),cn(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;cn(this.pdfViewer),cn(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||Ktt,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const TD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},LA=typeof window<"u",G5=LA&&window.location.protocol==="file:";function Xtt(i){return typeof i<"u"}function Vu(i){return Xtt(i)&&i!==null}function Qtt(i){return typeof i=="string"}function Ztt(i){return i instanceof ArrayBuffer}function Jtt(i){return cn(LA),i instanceof Blob}function jx(i){return Qtt(i)&&/^data:/.test(i)}function xD(i){cn(jx(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function tet(){return LA&&window.devicePixelRatio||1}const W5="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function CD(){as(!G5,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${W5}`)}function eet(){as(!G5,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${W5}`)}function id(i){i!=null&&i.cancel&&i.cancel()}function Hx(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function net(i){return i.name==="RenderingCancelledException"}function iet(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function set(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function tg(){return O.useReducer(set,{value:void 0,error:void 0})}var ret=function(i,t,e,n){function s(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function c(p){try{d(n.next(p))}catch(y){l(y)}}function h(p){try{d(n.throw(p))}catch(y){l(y)}}function d(p){p.done?a(p.value):s(p.value).then(c,h)}d((n=n.apply(i,t||[])).next())})},RD=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:aet}=Ttt,oet=(i,t)=>{switch(t){case TD.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case TD.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function ID(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const cet=O.forwardRef(function(t,e){var{children:n,className:s,error:a="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:c,file:h,inputRef:d,imageResourcesPath:p,loading:y="Loading PDF…",noData:b="No PDF file specified.",onItemClick:E,onLoadError:A,onLoadProgress:S,onLoadSuccess:C,onPassword:x=oet,onSourceError:N,onSourceSuccess:M,options:P,renderMode:F,rotate:W}=t,D=RD(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[I,L]=tg(),{value:T,error:U}=I,[q,j]=tg(),{value:ct,error:nt}=q,Y=O.useRef(new Ytt),Q=O.useRef([]),at=O.useRef(void 0),dt=O.useRef(void 0);h&&h!==at.current&&ID(h)&&(as(!Hf(h,at.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),at.current=h),P&&P!==dt.current&&(as(!Hf(P,dt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),dt.current=P);const K=O.useRef({scrollPageIntoView:Mt=>{const{dest:kt,pageNumber:Wt,pageIndex:ue=Wt-1}=Mt;if(E){E({dest:kt,pageIndex:ue,pageNumber:Wt});return}const fe=Q.current[ue];if(fe){fe.scrollIntoView();return}as(!1,`An internal link leading to page ${Wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});O.useImperativeHandle(e,()=>({linkService:Y,pages:Q,viewer:K}),[]);function rt(){M&&M()}function ut(){U&&(as(!1,U.toString()),N&&N(U))}function st(){L({type:"RESET"})}O.useEffect(st,[h,L]);const vt=O.useCallback(()=>ret(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return jx(h)?{data:xD(h)}:(CD(),{url:h});if(h instanceof aet)return{range:h};if(Ztt(h))return{data:h};if(LA&&Jtt(h))return{data:yield iet(h)};if(cn(typeof h=="object"),cn(ID(h)),"url"in h&&typeof h.url=="string"){if(jx(h.url)){const{url:Mt}=h,kt=RD(h,["url"]),Wt=xD(Mt);return Object.assign({data:Wt},kt)}CD()}return h}),[h]);O.useEffect(()=>{const Mt=ob(vt());return Mt.promise.then(kt=>{L({type:"RESOLVE",value:kt})}).catch(kt=>{L({type:"REJECT",error:kt})}),()=>{id(Mt)}},[vt,L]),O.useEffect(()=>{if(!(typeof T>"u")){if(T===!1){ut();return}rt()}},[T]);function wt(){ct&&(C&&C(ct),Q.current=new Array(ct.numPages),Y.current.setDocument(ct))}function _t(){nt&&(as(!1,nt.toString()),A&&A(nt))}O.useEffect(function(){j({type:"RESET"})},[j,T]),O.useEffect(function(){if(!T)return;const kt=P?Object.assign(Object.assign({},T),P):T,Wt=H5(kt);S&&(Wt.onProgress=S),x&&(Wt.onPassword=x);const ue=Wt,fe=ue.promise.then(ke=>{j({type:"RESOLVE",value:ke})}).catch(ke=>{ue.destroyed||j({type:"REJECT",error:ke})});return()=>{fe.finally(()=>ue.destroy())}},[P,j,T]),O.useEffect(()=>{if(!(typeof ct>"u")){if(ct===!1){_t();return}wt()}},[ct]),O.useEffect(function(){Y.current.setViewer(K.current),Y.current.setExternalLinkRel(l),Y.current.setExternalLinkTarget(c)},[l,c]);const xt=O.useCallback((Mt,kt)=>{Q.current[Mt]=kt},[]),Bt=O.useCallback(Mt=>{delete Q.current[Mt]},[]),jt=O.useMemo(()=>({imageResourcesPath:p,linkService:Y.current,onItemClick:E,pdf:ct,registerPage:xt,renderMode:F,rotate:W,unregisterPage:Bt}),[p,E,ct,xt,F,W,Bt]),Et=O.useMemo(()=>$5(D,()=>ct),[D,ct]);function Ht(){return z.jsx(q5.Provider,{value:jt,children:n})}function Gt(){return h?ct==null?z.jsx($f,{type:"loading",children:typeof y=="function"?y():y}):ct===!1?z.jsx($f,{type:"error",children:typeof a=="function"?a():a}):Ht():z.jsx($f,{type:"no-data",children:typeof b=="function"?b():b})}return z.jsx("div",Object.assign({className:te("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},Et,{children:Gt()}))});function K5(){return O.useContext(q5)}function Y5(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(a){e.forEach(function(l){typeof l=="function"?l(a):l&&(l.current=a)})}}const X5=O.createContext(null),Q5={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},uet=/^H(\d+)$/;function het(i){return i in Q5}function NA(i){return"children"in i}function Z5(i){return NA(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function det(i){const t={};if(NA(i)){const{role:e}=i,n=e.match(uet);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(het(e)){const s=Q5[e];s&&(t.role=s)}}return t}function J5(i){const t={};if(NA(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),Z5(i)){const[e]=i.children;if(e){const n=J5(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function fet(i){return i?Object.assign(Object.assign({},det(i)),J5(i)):null}function tV({className:i,node:t}){const e=O.useMemo(()=>fet(t),[t]),n=O.useMemo(()=>!NA(t)||Z5(t)?null:t.children.map((s,a)=>z.jsx(tV,{node:s},a)),[t]);return z.jsx("span",Object.assign({className:i},e,{children:n}))}function FA(){return O.useContext(X5)}function pet(){const i=FA();cn(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=tg(),{value:a,error:l}=n,{customTextRenderer:c,page:h}=i;function d(){a&&e&&e(a)}function p(){l&&(as(!1,l.toString()),t&&t(l))}return O.useEffect(function(){s({type:"RESET"})},[s,h]),O.useEffect(function(){if(c||!h)return;const b=ob(h.getStructTree()),E=b;return b.promise.then(A=>{s({type:"RESOLVE",value:A})}).catch(A=>{s({type:"REJECT",error:A})}),()=>id(E)},[c,h,s]),O.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}d()}},[a]),a?z.jsx(tV,{className:"react-pdf__Page__structTree structTree",node:a}):null}const kD=z5;function get(i){const t=FA();cn(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:a=tet(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:y,scale:b}=e,{canvasRef:E}=i;cn(h);const A=O.useRef(null);function S(){h&&c&&c(Hx(h,b))}function C(P){net(P)||(as(!1,P.toString()),l&&l(P))}const x=O.useMemo(()=>h.getViewport({scale:b*a,rotation:y}),[a,h,y,b]),N=O.useMemo(()=>h.getViewport({scale:b,rotation:y}),[h,y,b]);O.useEffect(function(){if(!h)return;h.cleanup();const{current:F}=A;if(!F)return;F.width=x.width,F.height=x.height,F.style.width=`${Math.floor(N.width)}px`,F.style.height=`${Math.floor(N.height)}px`,F.style.visibility="hidden";const W={annotationMode:d?kD.ENABLE_FORMS:kD.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:x};s&&(W.background=s);const D=h.render(W),I=D;return D.promise.then(()=>{F.style.visibility="",S()}).catch(C),()=>id(I)},[s,h,d,x,N]);const M=O.useCallback(()=>{const{current:P}=A;P&&(P.width=0,P.height=0)},[]);return O.useEffect(()=>M,[M]),z.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Y5(E,A),style:{display:"block",userSelect:"none"},children:p?z.jsx(pet,{}):null})}function met(i){return"str"in i}function yet(){const i=FA();cn(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:h,rotate:d,scale:p}=i;cn(l);const[y,b]=tg(),{value:E,error:A}=y,S=O.useRef(null);as(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){E&&n&&n(E)}function x(){A&&(as(!1,A.toString()),e&&e(A))}O.useEffect(function(){b({type:"RESET"})},[l,b]),O.useEffect(function(){if(!l)return;const I=ob(l.getTextContent()),L=I;return I.promise.then(T=>{b({type:"RESOLVE",value:T})}).catch(T=>{b({type:"REJECT",error:T})}),()=>id(L)},[l,b]),O.useEffect(()=>{if(E!==void 0){if(E===!1){x();return}C()}},[E]);const N=O.useCallback(()=>{a&&a()},[a]),M=O.useCallback(D=>{as(!1,D.toString()),s&&s(D)},[s]);function P(){const D=S.current;D&&D.classList.add("selecting")}function F(){const D=S.current;D&&D.classList.remove("selecting")}const W=O.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return O.useLayoutEffect(function(){if(!l||!E)return;const{current:I}=S;if(!I)return;I.innerHTML="";const L=l.streamTextContent({includeMarkedContent:!0}),T={container:I,textContentSource:L,viewport:W},U=new j5(T),q=U;return U.render().then(()=>{const j=document.createElement("div");j.className="endOfContent",I.append(j);const ct=I.querySelectorAll('[role="presentation"]');if(t){let nt=0;E.items.forEach((Y,Q)=>{if(!met(Y))return;const at=ct[nt];if(!at)return;const dt=t(Object.assign({pageIndex:c,pageNumber:h,itemIndex:Q},Y));at.innerHTML=dt,nt+=Y.str&&Y.hasEOL?2:1})}N()}).catch(M),()=>id(q)},[t,M,N,l,c,h,E,W]),z.jsx("div",{className:te("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:P,ref:S})}function vet(){const i=K5(),t=FA();cn(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:y,rotate:b,scale:E=1}=e;cn(p),cn(d),cn(s);const[A,S]=tg(),{value:C,error:x}=A,N=O.useRef(null);as(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){C&&l&&l(C)}function P(){x&&(as(!1,x.toString()),a&&a(x))}O.useEffect(function(){S({type:"RESET"})},[S,d]),O.useEffect(function(){if(!d)return;const L=ob(d.getAnnotations()),T=L;return L.promise.then(U=>{S({type:"RESOLVE",value:U})}).catch(U=>{S({type:"REJECT",error:U})}),()=>{id(T)}},[S,d]),O.useEffect(()=>{if(C!==void 0){if(C===!1){P();return}M()}},[C]);function F(){h&&h()}function W(I){as(!1,`${I}`),c&&c(I)}const D=O.useMemo(()=>d.getViewport({scale:E,rotation:b}),[d,b,E]);return O.useEffect(function(){if(!p||!d||!s||!C)return;const{current:L}=N;if(!L)return;const T=D.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:d,structTreeLayer:null,viewport:T},q={annotations:C,annotationStorage:p.annotationStorage,div:L,imageResourcesPath:n,linkService:s,page:d,renderForms:y,viewport:T};L.innerHTML="";try{new B5(U).render(q),F()}catch(j){W(j)}return()=>{}},[C,n,s,d,p,y,D]),z.jsx("div",{className:te("react-pdf__Page__annotations","annotationLayer"),ref:N})}var bet=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const PD=1;function _et(i){const t=K5(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:l,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:y,error:b="Failed to load the page.",height:E,inputRef:A,loading:S="Loading page…",noData:C="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:N,onGetStructTreeError:M,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:W,onLoadError:D,onLoadSuccess:I,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:T,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:j,onRenderTextLayerSuccess:ct,pageIndex:nt,pageNumber:Y,pdf:Q,registerPage:at,renderAnnotationLayer:dt=!0,renderForms:K=!1,renderMode:rt="canvas",renderTextLayer:ut=!0,rotate:st,scale:vt=PD,unregisterPage:wt,width:_t}=e,xt=bet(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Bt,jt]=tg(),{value:Et,error:Ht}=Bt,Gt=O.useRef(null);cn(Q);const Mt=Vu(Y)?Y-1:nt??null,kt=Y??(Vu(nt)?nt+1:null),Wt=st??(Et?Et.rotate:null),ue=O.useMemo(()=>{if(!Et)return null;let ee=1;const Xe=vt??PD;if(_t||E){const Oe=Et.getViewport({scale:1,rotation:Wt});_t?ee=_t/Oe.width:E&&(ee=E/Oe.height)}return Xe*ee},[E,Et,Wt,vt,_t]);O.useEffect(function(){return()=>{Vu(Mt)&&s&&wt&&wt(Mt)}},[s,Q,Mt,wt]);function fe(){if(I){if(!Et||!ue)return;I(Hx(Et,ue))}if(s&&at){if(!Vu(Mt)||!Gt.current)return;at(Mt,Gt.current)}}function ke(){Ht&&(as(!1,Ht.toString()),D&&D(Ht))}O.useEffect(function(){jt({type:"RESET"})},[jt,Q,Mt]),O.useEffect(function(){if(!Q||!kt)return;const Xe=ob(Q.getPage(kt)),Oe=Xe;return Xe.promise.then(De=>{jt({type:"RESOLVE",value:De})}).catch(De=>{jt({type:"REJECT",error:De})}),()=>id(Oe)},[jt,Q,kt]),O.useEffect(()=>{if(Et!==void 0){if(Et===!1){ke();return}fe()}},[Et,ue]);const Ue=O.useMemo(()=>Et&&Vu(Mt)&&kt&&Vu(Wt)&&Vu(ue)?{_className:n,canvasBackground:a,customTextRenderer:p,devicePixelRatio:y,onGetAnnotationsError:x,onGetAnnotationsSuccess:N,onGetStructTreeError:M,onGetStructTreeSuccess:P,onGetTextError:F,onGetTextSuccess:W,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:T,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:j,onRenderTextLayerSuccess:ct,page:Et,pageIndex:Mt,pageNumber:kt,renderForms:K,renderTextLayer:ut,rotate:Wt,scale:ue}:null,[n,a,p,y,x,N,M,P,F,W,L,T,U,q,j,ct,Et,Mt,kt,K,ut,Wt,ue]),He=O.useMemo(()=>$5(xt,()=>Et&&(ue?Hx(Et,ue):void 0)),[xt,Et,ue]),pe=`${Mt}@${ue}/${Wt}`;function Ot(){switch(rt){case"custom":return cn(d),z.jsx(d,{},`${pe}_custom`);case"none":return null;case"canvas":default:return z.jsx(get,{canvasRef:l},`${pe}_canvas`)}}function oi(){return ut?z.jsx(yet,{},`${pe}_text`):null}function Ye(){return dt?z.jsx(vet,{},`${pe}_annotations`):null}function Gi(){return z.jsxs(X5.Provider,{value:Ue,children:[Ot(),oi(),Ye(),c]})}function Re(){return kt?Q===null||Et===void 0||Et===null?z.jsx($f,{type:"loading",children:typeof S=="function"?S():S}):Q===!1||Et===!1?z.jsx($f,{type:"error",children:typeof b=="function"?b():b}):Gi():z.jsx($f,{type:"no-data",children:typeof C=="function"?C():C})}return z.jsx("div",Object.assign({className:te(n,h),"data-page-number":kt,ref:Y5(A,Gt),style:{"--scale-factor":`${ue}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},He,{children:Re()}))}eet();LR.workerSrc="pdf.worker.mjs";const Eet=us(z.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Aet=us(z.jsx("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"}));function wet(i,t,e){return Math.max(t,Math.min(i,e))}const yn={toVector(i,t){return i===void 0&&(i=t),Array.isArray(i)?i:[i,i]},add(i,t){return[i[0]+t[0],i[1]+t[1]]},sub(i,t){return[i[0]-t[0],i[1]-t[1]]},addTo(i,t){i[0]+=t[0],i[1]+=t[1]},subTo(i,t){i[0]-=t[0],i[1]-=t[1]}};function MD(i,t,e){return t===0||Math.abs(t)===1/0?Math.pow(i,e*5):i*t*e/(t+e*i)}function OD(i,t,e,n=.15){return n===0?wet(i,t,e):i<t?-MD(t-i,e-t,n)+t:i>e?+MD(i-e,e-t,n)+e:i}function Tet(i,[t,e],[n,s]){const[[a,l],[c,h]]=i;return[OD(t,a,l,n),OD(e,c,h,s)]}function xet(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Cet(i){var t=xet(i,"string");return typeof t=="symbol"?t:String(t)}function ii(i,t,e){return t=Cet(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function DD(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function kn(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(e),!0).forEach(function(n){ii(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):DD(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}const eV={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function LD(i){return i?i[0].toUpperCase()+i.slice(1):""}const Ret=["enter","leave"];function Iet(i=!1,t){return i&&!Ret.includes(t)}function ket(i,t="",e=!1){const n=eV[i],s=n&&n[t]||t;return"on"+LD(i)+LD(s)+(Iet(e,s)?"Capture":"")}const Pet=["gotpointercapture","lostpointercapture"];function Met(i){let t=i.substring(2).toLowerCase();const e=!!~t.indexOf("passive");e&&(t=t.replace("passive",""));const n=Pet.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(n);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:e}}function Oet(i,t=""){const e=eV[i],n=e&&e[t]||t;return i+n}function VA(i){return"touches"in i}function nV(i){return VA(i)?"touch":"pointerType"in i?i.pointerType:"mouse"}function Det(i){return Array.from(i.touches).filter(t=>{var e,n;return t.target===i.currentTarget||((e=i.currentTarget)===null||e===void 0||(n=e.contains)===null||n===void 0?void 0:n.call(e,t.target))})}function Let(i){return i.type==="touchend"||i.type==="touchcancel"?i.changedTouches:i.targetTouches}function iV(i){return VA(i)?Let(i)[0]:i}function $x(i,t){try{const e=t.clientX-i.clientX,n=t.clientY-i.clientY,s=(t.clientX+i.clientX)/2,a=(t.clientY+i.clientY)/2,l=Math.hypot(e,n);return{angle:-(Math.atan2(e,n)*180)/Math.PI,distance:l,origin:[s,a]}}catch{}return null}function Net(i){return Det(i).map(t=>t.identifier)}function ND(i,t){const[e,n]=Array.from(i.touches).filter(s=>t.includes(s.identifier));return $x(e,n)}function wT(i){const t=iV(i);return VA(i)?t.identifier:t.pointerId}function eg(i){const t=iV(i);return[t.clientX,t.clientY]}const FD=40,VD=800;function sV(i){let{deltaX:t,deltaY:e,deltaMode:n}=i;return n===1?(t*=FD,e*=FD):n===2&&(t*=VD,e*=VD),[t,e]}function Fet(i){var t,e;const{scrollX:n,scrollY:s,scrollLeft:a,scrollTop:l}=i.currentTarget;return[(t=n??a)!==null&&t!==void 0?t:0,(e=s??l)!==null&&e!==void 0?e:0]}function Vet(i){const t={};if("buttons"in i&&(t.buttons=i.buttons),"shiftKey"in i){const{shiftKey:e,altKey:n,metaKey:s,ctrlKey:a}=i;Object.assign(t,{shiftKey:e,altKey:n,metaKey:s,ctrlKey:a})}return t}function TE(i,...t){return typeof i=="function"?i(...t):i}function Uet(){}function Bet(...i){return i.length===0?Uet:i.length===1?i[0]:function(){let t;for(const e of i)t=e.apply(this,arguments)||t;return t}}function UD(i,t){return Object.assign({},t,i||{})}const zet=32;class rV{constructor(t,e,n){this.ctrl=t,this.args=e,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:n,args:s}=this;e[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,n=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=n.from?TE(n.from,e):e.offset,e.offset=e.lastOffset,e.startTime=e.timeStamp=t.timeStamp)}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:n,shared:s}=this;e.args=this.args;let a=0;if(t&&(e.event=t,n.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,Vet(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,a=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const W=e._delta.map(Math.abs);yn.addTo(e._distance,W)}this.axisIntent&&this.axisIntent(t);const[l,c]=e._movement,[h,d]=n.threshold,{_step:p,values:y}=e;if(n.hasCustomTransform?(p[0]===!1&&(p[0]=Math.abs(l)>=h&&y[0]),p[1]===!1&&(p[1]=Math.abs(c)>=d&&y[1])):(p[0]===!1&&(p[0]=Math.abs(l)>=h&&Math.sign(l)*h),p[1]===!1&&(p[1]=Math.abs(c)>=d&&Math.sign(c)*d)),e.intentional=p[0]!==!1||p[1]!==!1,!e.intentional)return;const b=[0,0];if(n.hasCustomTransform){const[W,D]=y;b[0]=p[0]!==!1?W-p[0]:0,b[1]=p[1]!==!1?D-p[1]:0}else b[0]=p[0]!==!1?l-p[0]:0,b[1]=p[1]!==!1?c-p[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(b);const E=e.offset,A=e._active&&!e._blocked||e.active;A&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=s[this.ingKey]=e._active,t&&(e.first&&("bounds"in n&&(e._bounds=TE(n.bounds,e)),this.setup&&this.setup()),e.movement=b,this.computeOffset()));const[S,C]=e.offset,[[x,N],[M,P]]=e._bounds;e.overflow=[S<x?-1:S>N?1:0,C<M?-1:C>P?1:0],e._movementBound[0]=e.overflow[0]?e._movementBound[0]===!1?e._movement[0]:e._movementBound[0]:!1,e._movementBound[1]=e.overflow[1]?e._movementBound[1]===!1?e._movement[1]:e._movementBound[1]:!1;const F=e._active?n.rubberband||[0,0]:[0,0];if(e.offset=Tet(e._bounds,e.offset,F),e.delta=yn.sub(e.offset,E),this.computeMovement(),A&&(!e.last||a>zet)){e.delta=yn.sub(e.offset,E);const W=e.delta.map(Math.abs);yn.addTo(e.distance,W),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&a>0&&(e.velocity=[W[0]/a,W[1]/a],e.timeDelta=a)}}emit(){const t=this.state,e=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const s=this.handler(kn(kn(kn({},e),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function jet([i,t],e){const n=Math.abs(i),s=Math.abs(t);if(n>s&&n>e)return"x";if(s>n&&s>e)return"y"}class lb extends rV{constructor(...t){super(...t),ii(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=yn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=yn.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const e=this.state,n=this.config;if(!e.axis&&t){const s=typeof n.axisThreshold=="object"?n.axisThreshold[nV(t)]:n.axisThreshold;e.axis=jet(e._movement,s)}e._blocked=(n.lockDirection||!!n.axis)&&!e.axis||!!n.axis&&n.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Het=i=>i,BD=.15,aV={enabled(i=!0){return i},eventOptions(i,t,e){return kn(kn({},e.shared.eventOptions),i)},preventDefault(i=!1){return i},triggerAllEvents(i=!1){return i},rubberband(i=0){switch(i){case!0:return[BD,BD];case!1:return[0,0];default:return yn.toVector(i)}},from(i){if(typeof i=="function")return i;if(i!=null)return yn.toVector(i)},transform(i,t,e){const n=i||e.shared.transform;return this.hasCustomTransform=!!n,n||Het},threshold(i){return yn.toVector(i,0)}},$et=0,pd=kn(kn({},aV),{},{axis(i,t,{axis:e}){if(this.lockDirection=e==="lock",!this.lockDirection)return e},axisThreshold(i=$et){return i},bounds(i={}){if(typeof i=="function")return a=>pd.bounds(i(a));if("current"in i)return()=>i.current;if(typeof HTMLElement=="function"&&i instanceof HTMLElement)return i;const{left:t=-1/0,right:e=1/0,top:n=-1/0,bottom:s=1/0}=i;return[[t,e],[n,s]]}}),zD={ArrowRight:(i,t=1)=>[i*t,0],ArrowLeft:(i,t=1)=>[-1*i*t,0],ArrowUp:(i,t=1)=>[0,-1*i*t],ArrowDown:(i,t=1)=>[0,i*t]};class qet extends lb{constructor(...t){super(...t),ii(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),s={left:e.left-n.left+t.offset[0],right:e.right-n.right+t.offset[0],top:e.top-n.top+t.offset[1],bottom:e.bottom-n.bottom+t.offset[1]};t._bounds=pd.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,n=this.state;if(t.buttons!=null&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):e.pointerButtons!==-1&&e.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&n._pointerActive)&&(this.start(t),this.setupPointer(t),n._pointerId=wT(t),n._pointerActive=!0,this.computeValues(eg(t)),this.computeInitial(),e.preventScrollAxis&&nV(t)!=="mouse"?(n._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,n=this.config;if(!e._pointerActive)return;const s=wT(t);if(e._pointerId!==void 0&&s!==e._pointerId)return;const a=eg(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=yn.sub(a,e._values),this.computeValues(a)),yn.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(n.preventScrollAxis&&!e._preventScroll)if(e.axis)if(e.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){e._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const e=this.state,n=this.config;if(!e._active||!e._pointerActive)return;const s=wT(t);if(e._pointerId!==void 0&&s!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,l]=e._distance;if(e.tap=a<=n.tapsThreshold&&l<=n.tapsThreshold,e.tap&&n.filterTaps)e._force=!0;else{const[c,h]=e._delta,[d,p]=e._movement,[y,b]=n.swipe.velocity,[E,A]=n.swipe.distance,S=n.swipe.duration;if(e.elapsedTime<S){const C=Math.abs(c/e.timeDelta),x=Math.abs(h/e.timeDelta);C>y&&Math.abs(d)>E&&(e.swipe[0]=Math.sign(c)),x>b&&Math.abs(p)>A&&(e.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config,n=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,Get(t);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const e=zD[t.key];if(e){const n=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=e(this.config.keyboardDisplacement,s),n._keyboardActive=!0,yn.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in zD&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Get(i){"persist"in i&&typeof i.persist=="function"&&i.persist()}const cb=typeof window<"u"&&window.document&&window.document.createElement;function oV(){return cb&&"ontouchstart"in window}function Wet(){return oV()||cb&&window.navigator.maxTouchPoints>1}function Ket(){return cb&&"onpointerdown"in window}function Yet(){return cb&&"exitPointerLock"in window.document}function Xet(){try{return"constructor"in GestureEvent}catch{return!1}}const Tr={isBrowser:cb,gesture:Xet(),touch:oV(),touchscreen:Wet(),pointer:Ket(),pointerLock:Yet()},Qet=250,Zet=180,Jet=.5,tnt=50,ent=250,nnt=10,jD={mouse:0,touch:0,pen:8},int=kn(kn({},pd),{},{device(i,t,{pointer:{touch:e=!1,lock:n=!1,mouse:s=!1}={}}){return this.pointerLock=n&&Tr.pointerLock,Tr.touch&&e?"touch":this.pointerLock?"mouse":Tr.pointer&&!s?"pointer":Tr.touch?"touch":"mouse"},preventScrollAxis(i,t,{preventScroll:e}){if(this.preventScrollDelay=typeof e=="number"?e:e||e===void 0&&i?Qet:void 0,!(!Tr.touchscreen||e===!1))return i||(e!==void 0?"y":void 0)},pointerCapture(i,t,{pointer:{capture:e=!0,buttons:n=1,keys:s=!0}={}}){return this.pointerButtons=n,this.keys=s,!this.pointerLock&&this.device==="pointer"&&e},threshold(i,t,{filterTaps:e=!1,tapsThreshold:n=3,axis:s=void 0}){const a=yn.toVector(i,e?n:s?1:0);return this.filterTaps=e,this.tapsThreshold=n,a},swipe({velocity:i=Jet,distance:t=tnt,duration:e=ent}={}){return{velocity:this.transform(yn.toVector(i)),distance:this.transform(yn.toVector(t)),duration:e}},delay(i=0){switch(i){case!0:return Zet;case!1:return 0;default:return i}},axisThreshold(i){return i?kn(kn({},jD),i):jD},keyboardDisplacement(i=nnt){return i}});function lV(i){const[t,e]=i.overflow,[n,s]=i._delta,[a,l]=i._direction;(t<0&&n>0&&a<0||t>0&&n<0&&a>0)&&(i._movement[0]=i._movementBound[0]),(e<0&&s>0&&l<0||e>0&&s<0&&l>0)&&(i._movement[1]=i._movementBound[1])}const snt=30,rnt=100;class ant extends rV{constructor(...t){super(...t),ii(this,"ingKey","pinching"),ii(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:e,lastOffset:n}=this.state;t==="wheel"?this.state.offset=yn.add(e,n):this.state.offset=[(1+e[0])*n[0],e[1]+n[1]]}computeMovement(){const{offset:t,lastOffset:e}=this.state;this.state.movement=[t[0]/e[0],t[1]-e[1]]}axisIntent(){const t=this.state,[e,n]=t._movement;if(!t.axis){const s=Math.abs(e)*snt-Math.abs(n);s<0?t.axis="angle":s>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const e=this.state,n=this.ctrl.touchIds;if(e._active&&e._touchIds.every(a=>n.has(a))||n.size<2)return;this.start(t),e._touchIds=Array.from(n).slice(0,2);const s=ND(t,e._touchIds);s&&this.pinchStart(t,s)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const e=this.state,n=e._pointerEvents,s=this.ctrl.pointerIds;if(e._active&&Array.from(n.keys()).every(l=>s.has(l))||(n.size<2&&n.set(t.pointerId,t),e._pointerEvents.size<2))return;this.start(t);const a=$x(...Array.from(n.values()));a&&this.pinchStart(t,a)}pinchStart(t,e){const n=this.state;n.origin=e.origin,this.computeValues([e.distance,e.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const e=ND(t,this.state._touchIds);e&&this.pinchMove(t,e)}pointerMove(t){const e=this.state._pointerEvents;if(e.has(t.pointerId)&&e.set(t.pointerId,t),!this.state._active)return;const n=$x(...Array.from(e.values()));n&&this.pinchMove(t,n)}pinchMove(t,e){const n=this.state,s=n._values[1],a=e.angle-s;let l=0;Math.abs(a)>270&&(l+=Math.sign(a)),this.computeValues([e.distance,e.angle-360*l]),n.origin=e.origin,n.turns=l,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const e=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}e._pointerEvents.has(t.pointerId)&&e._pointerEvents.delete(t.pointerId),e._active&&e._pointerEvents.size<2&&(e._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const e=this.state;e._active||(this.start(t),this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const e=this.state;this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY];const n=e._movement;e._movement=[t.scale-1,t.rotation],e._delta=yn.sub(e._movement,n),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const e=this.config.modifierKey;e&&(Array.isArray(e)?!e.find(n=>t[n]):!t[e])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const n=this.state;n._delta=[-sV(t)[1]/rnt*n.offset[0],0],yn.addTo(n._movement,n._delta),lV(n),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const e=this.config.device;e&&(t(e,"start",this[e+"Start"].bind(this)),t(e,"change",this[e+"Move"].bind(this)),t(e,"end",this[e+"End"].bind(this)),t(e,"cancel",this[e+"End"].bind(this)),t("lostPointerCapture","",this[e+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const ont=kn(kn({},aV),{},{device(i,t,{shared:e,pointer:{touch:n=!1}={}}){if(e.target&&!Tr.touch&&Tr.gesture)return"gesture";if(Tr.touch&&n)return"touch";if(Tr.touchscreen){if(Tr.pointer)return"pointer";if(Tr.touch)return"touch"}},bounds(i,t,{scaleBounds:e={},angleBounds:n={}}){const s=l=>{const c=UD(TE(e,l),{min:-1/0,max:1/0});return[c.min,c.max]},a=l=>{const c=UD(TE(n,l),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof e!="function"&&typeof n!="function"?[s(),a()]:l=>[s(l),a(l)]},threshold(i,t,e){return this.lockDirection=e.axis==="lock",yn.toVector(i,this.lockDirection?[.1,3]:0)},modifierKey(i){return i===void 0?"ctrlKey":i},pinchOnWheel(i=!0){return i}});class lnt extends lb{constructor(...t){super(...t),ii(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(eg(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const e=eg(t),n=this.state;n._delta=yn.sub(e,n._values),yn.addTo(n._movement,n._delta),this.computeValues(e),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const cnt=kn(kn({},pd),{},{mouseOnly:(i=!0)=>i});class unt extends lb{constructor(...t){super(...t),ii(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const e=this.state,n=Fet(t);e._delta=yn.sub(n,e._values),yn.addTo(e._movement,e._delta),this.computeValues(n),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const hnt=pd;class dnt extends lb{constructor(...t){super(...t),ii(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const e=this.state;e._delta=sV(t),yn.addTo(e._movement,e._delta),lV(e),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const fnt=pd;class pnt extends lb{constructor(...t){super(...t),ii(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(eg(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const e=this.state;if(!e._active)return;e._active=!1;const n=eg(t);e._movement=e._delta=yn.sub(n,e._values),this.computeValues(n),this.compute(t),e.delta=e.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const gnt=kn(kn({},pd),{},{mouseOnly:(i=!0)=>i}),NR=new Map,qx=new Map;function mnt(i){NR.set(i.key,i.engine),qx.set(i.key,i.resolver)}const ynt={key:"drag",engine:qet,resolver:int},vnt={key:"hover",engine:pnt,resolver:gnt},bnt={key:"move",engine:lnt,resolver:cnt},_nt={key:"pinch",engine:ant,resolver:ont},Ent={key:"scroll",engine:unt,resolver:hnt},Ant={key:"wheel",engine:dnt,resolver:fnt};function Snt(i,t){if(i==null)return{};var e={},n=Object.keys(i),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(e[s]=i[s]);return e}function wnt(i,t){if(i==null)return{};var e=Snt(i,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}const Tnt={target(i){if(i)return()=>"current"in i?i.current:i},enabled(i=!0){return i},window(i=Tr.isBrowser?window:void 0){return i},eventOptions({passive:i=!0,capture:t=!1}={}){return{passive:i,capture:t}},transform(i){return i}},xnt=["target","eventOptions","window","enabled","transform"];function G_(i={},t){const e={};for(const[n,s]of Object.entries(t))switch(typeof s){case"function":e[n]=s.call(e,i[n],n,i);break;case"object":e[n]=G_(i[n],s);break;case"boolean":s&&(e[n]=i[n]);break}return e}function Cnt(i,t,e={}){const n=i,{target:s,eventOptions:a,window:l,enabled:c,transform:h}=n,d=wnt(n,xnt);if(e.shared=G_({target:s,eventOptions:a,window:l,enabled:c,transform:h},Tnt),t){const p=qx.get(t);e[t]=G_(kn({shared:e.shared},d),p)}else for(const p in d){const y=qx.get(p);y&&(e[p]=G_(kn({shared:e.shared},d[p]),y))}return e}class cV{constructor(t,e){ii(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,n,s,a){const l=this._listeners,c=Oet(e,n),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=kn(kn({},h),a);t.addEventListener(c,s,d);const p=()=>{t.removeEventListener(c,s,d),l.delete(p)};return l.add(p),p}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Rnt{constructor(){ii(this,"_timeouts",new Map)}add(t,e,n=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(e,n,...s))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Int{constructor(t){ii(this,"gestures",new Set),ii(this,"_targetEventStore",new cV(this)),ii(this,"gestureEventStores",{}),ii(this,"gestureTimeoutStores",{}),ii(this,"handlers",{}),ii(this,"config",{}),ii(this,"pointerIds",new Set),ii(this,"touchIds",new Set),ii(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),knt(this,t)}setEventIds(t){if(VA(t))return this.touchIds=new Set(Net(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=Cnt(t,e,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,n={};let s;if(!(e.target&&(s=e.target(),!s))){if(e.enabled){for(const l of this.gestures){const c=this.config[l],h=HD(n,c.eventOptions,!!s);if(c.enabled){const d=NR.get(l);new d(this,t,l).bind(h)}}const a=HD(n,e.eventOptions,!!s);for(const l in this.nativeHandlers)a(l,"",c=>this.nativeHandlers[l](kn(kn({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const a in n)n[a]=Bet(...n[a]);if(!s)return n;for(const a in n){const{device:l,capture:c,passive:h}=Met(a);this._targetEventStore.add(s,l,"",n[a],{capture:c,passive:h})}}}}function hf(i,t){i.gestures.add(t),i.gestureEventStores[t]=new cV(i,t),i.gestureTimeoutStores[t]=new Rnt}function knt(i,t){t.drag&&hf(i,"drag"),t.wheel&&hf(i,"wheel"),t.scroll&&hf(i,"scroll"),t.move&&hf(i,"move"),t.pinch&&hf(i,"pinch"),t.hover&&hf(i,"hover")}const HD=(i,t,e)=>(n,s,a,l={},c=!1)=>{var h,d;const p=(h=l.capture)!==null&&h!==void 0?h:t.capture,y=(d=l.passive)!==null&&d!==void 0?d:t.passive;let b=c?n:ket(n,s,p);e&&y&&(b+="Passive"),i[b]=i[b]||[],i[b].push(a)},Pnt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Mnt(i){const t={},e={},n=new Set;for(let s in i)Pnt.test(s)?(n.add(RegExp.lastMatch),e[s]=i[s]):t[s]=i[s];return[e,t,n]}function df(i,t,e,n,s,a){if(!i.has(e)||!NR.has(n))return;const l=e+"Start",c=e+"End",h=d=>{let p;return d.first&&l in t&&t[l](d),e in t&&(p=t[e](d)),d.last&&c in t&&t[c](d),p};s[n]=h,a[n]=a[n]||{}}function Ont(i,t){const[e,n,s]=Mnt(i),a={};return df(s,e,"onDrag","drag",a,t),df(s,e,"onWheel","wheel",a,t),df(s,e,"onScroll","scroll",a,t),df(s,e,"onPinch","pinch",a,t),df(s,e,"onMove","move",a,t),df(s,e,"onHover","hover",a,t),{handlers:a,config:t,nativeHandlers:n}}function Dnt(i,t={},e,n){const s=er.useMemo(()=>new Int(i),[]);if(s.applyHandlers(i,n),s.applyConfig(t,e),er.useEffect(s.effect.bind(s)),er.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function Lnt(i){return i.forEach(mnt),function(e,n){const{handlers:s,nativeHandlers:a,config:l}=Ont(e,n||{});return Dnt(s,l,void 0,a)}}function Nnt(i,t){return Lnt([ynt,_nt,Ent,Ant,bnt,vnt])(i,{})}const TT="/assets/workbook-Dd_TN73H.pdf";LR.workerSrc="/pdf.worker.js";function Fnt(){const[i,t]=O.useState(0),[e,n]=O.useState(1),[s,a]=O.useState(1),l=O.useRef(null),c=Uv();function h({numPages:p}){t(p),n(1)}const d=Nnt({onDragEnd:({swipe:[p]})=>{p===-1&&n(y=>Math.min(y+1,i)),p===1&&n(y=>Math.max(y-1,1))}});return O.useEffect(()=>{const p=()=>{if(l.current){const E=l.current.offsetWidth/612;a(E)}};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),z.jsxs(St,{className:"height_fixed_wrapper",children:[z.jsx(lA,{subtitle:"수련회 워크북"}),z.jsxs(St,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[z.jsxs(St,{className:"fullWidth fully_centeralize",children:[z.jsx("a",{href:TT,download:!0,target:"_blank",rel:"noopener noreferrer",children:z.jsx(St,{className:"homebutton fully_centeralize",children:z.jsx(Eet,{fontSize:"large",sx:{color:"#1a1c21"}})})}),z.jsx(St,{className:"homebutton fully_centeralize",onClick:()=>{c("/")},children:z.jsx(LF,{fontSize:"large",sx:{color:"#1a1c21"}})}),z.jsx(St,{className:"homebutton fully_centeralize",onClick:()=>{navigator.share?navigator.share({title:"수련회 워크북",text:"2025 Summer Retreat - CHANGE 워크북",url:TT}):alert("이 브라우저는 공유 기능을 지원하지 않습니다.")},children:z.jsx(Aet,{fontSize:"large",sx:{color:"#1a1c21"}})})]}),z.jsx(St,{ref:l,className:"centeralize",sx:{width:"100%",height:"100%",overflow:"auto",maxHeight:"calc(100vh-100px)",flex:1,minHeight:0},...d(),children:z.jsx(cet,{file:TT,onLoadSuccess:h,children:z.jsx(_et,{scale:s,pageNumber:e,renderTextLayer:!1,renderAnnotationLayer:!1})})}),z.jsxs(St,{className:"fully_centeralize fullWidth",sx:{display:"flex",p:1,boxSizing:"border-box",height:"60px"},children:[z.jsx("button",{disabled:e<=1,onClick:()=>n(p=>p+-1),children:"이전페이지"}),z.jsxs(Nt,{sx:{ml:2,mr:2},children:[e," / ",i]}),z.jsx("button",{disabled:e>=i,onClick:()=>n(p=>p+1),children:"다음페이지"})]})]})]})}function Vnt(){return z.jsx(OQ,{children:z.jsx(F9,{theme:LQ,children:z.jsx(aB,{children:z.jsxs(NU,{children:[z.jsx(ff,{path:"/signin",element:z.jsx(DQ,{})}),z.jsx(ff,{path:"/",element:z.jsx(K0,{children:z.jsx(MQ,{})})}),z.jsx(ff,{path:"/pray",element:z.jsx(K0,{children:z.jsx(FQ,{})})}),z.jsx(ff,{path:"/post",element:z.jsx(K0,{children:z.jsx(VQ,{})})}),z.jsx(ff,{path:"/workbook",element:z.jsx(K0,{children:z.jsx(Fnt,{})})})]})})})})}q6.createRoot(document.getElementById("root")).render(z.jsx(O.StrictMode,{children:z.jsx(Vnt,{})}));
